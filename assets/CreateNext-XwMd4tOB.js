import{j as e,u as f,r as a,F as b,L as i}from"./index-DfvjauYB.js";import{r as w}from"./registerAndLogin-srQY7G39.js";import{L as _}from"./Spinner-H4PWep4V.js";import"./firebase-CLNeqrfC.js";import"./localeStorageApi-BzC0sAnb.js";const v="_wrapperMajor_ewi7d_1",k="_header_ewi7d_33",A="_logo_ewi7d_95",N="_main_ewi7d_105",C="_wrapper_ewi7d_1",M="_checkBoxWrapper_ewi7d_135",T="_button_ewi7d_267",t={wrapperMajor:v,header:k,logo:A,main:N,wrapper:C,checkBoxWrapper:M,button:T},W="_button_uw3we_1",B={button:W};function z(s){return e.jsx("button",{onClick:s.onClick,className:B.button,children:"Abort"})}const L="_timer_17wgr_1",S={timer:L};function E(s){return e.jsx("p",{className:S.timer,children:s.onTimer})}function G(){const s=f(),{formData:d,updateForm:x,resetFormData:P}=a.useContext(b),[n,h]=a.useState(!1),[m,p]=a.useState(0),j=async r=>{var c,u,l;r.preventDefault(),h(!0),p(10);const o={checkbox:{getMore:(c=r.target.elements.getMore)!=null&&c.checked?"yes":"no",connectWith:(u=r.target.elements.connectWith)!=null&&u.checked?"yes":"no",peronalizedAds:(l=r.target.elements.peronalizedAds)!=null&&l.checked?"yes":"no"}};try{x(o)}catch(g){console.error("Error registering user:",g.message)}};a.useEffect(()=>{if(!n||m===0)return;const r=setTimeout(()=>{p(o=>o-1)},1e3);return()=>{clearTimeout(r)}},[m,n]),a.useEffect(()=>{if(!d.checkbox.getMore)return;const r=new AbortController,o=r.signal,c=setTimeout(()=>{(async()=>{try{await w(d,{signal:o}),h(!1),s("/react-regular-exam/welcome")}catch(l){alert(l.message)}})()},1e4);return()=>{clearTimeout(c),r.abort()}},[d.checkbox.getMore]);const y=()=>{s("/react-regular-exam")};return e.jsx("form",{onSubmit:j,children:e.jsxs("div",{className:t.wrapperMajor,children:[n&&e.jsx(_,{}),n&&e.jsx(E,{onTimer:m}),n&&e.jsx(z,{onClick:y}),e.jsxs("header",{className:t.header,children:[e.jsx(i,{className:t.x,to:"/react-regular-exam",children:e.jsx("i",{className:"fa-solid fa-xmark"})}),e.jsx("h1",{className:t.logo,children:"At"})]}),e.jsxs("main",{className:t.main,children:[e.jsxs("div",{className:t.wrapper,children:[e.jsx("h1",{children:"Customize your experience"}),e.jsxs("div",{className:t.checkBoxWrapper,children:[e.jsxs("div",{children:[e.jsx("h3",{children:"Get more out of At"}),e.jsxs("div",{children:[e.jsx("p",{children:"Receive email about your At activity and recommendations."}),e.jsx("input",{type:"checkbox",name:"getMore"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{children:"Connect with people you know"}),e.jsxs("div",{children:[e.jsx("p",{children:"Let others find your At account by your email address."}),e.jsx("input",{type:"checkbox",name:"connectWith"})]})]}),e.jsxs("div",{children:[e.jsx("h3",{children:"Personalized ads"}),e.jsxs("div",{children:[e.jsx("p",{children:"You will always see ads on At based on your At activity. When this setting is enabled, At may further personalize ads from At advertisers, on and off At, by combining your At activity with other online activity and information from our partners."}),e.jsx("input",{type:"checkbox",name:"peronalizedAds"})]})]})]}),e.jsxs("p",{children:["By signing up, you agree to our ",e.jsx(i,{children:"Terms"}),", ",e.jsx(i,{children:"Privacy Policy"}),", and ",e.jsx(i,{children:"Cookie Use"}),". At may use your contact information, including your email address and phone number for purposes outlined in our Privacy Policy. ",e.jsx(i,{children:"Learn more"})]})]}),e.jsx("div",{className:t.button,children:e.jsx("input",{type:"submit",value:"Next"})})]})]})})}export{G as default};
