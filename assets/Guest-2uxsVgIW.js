import{r as t,j as e,L as d}from"./index-DfvjauYB.js";import{u as _,a as v}from"./infinityScrollHook-ByZb17TN.js";import{L as N}from"./Spinner-H4PWep4V.js";import"./firebase-CLNeqrfC.js";const k="_container_1hqxi_1",b="_nav_1hqxi_15",q="_i_1hqxi_25",L="_main_1hqxi_125",w="_search_1hqxi_143",S="_meta_1hqxi_181",y="_post_1hqxi_211",P="_feedback_1hqxi_249",a={container:k,nav:b,i:q,main:L,search:w,meta:S,post:y,feedback:P};function I(){const r=t.useRef(),[i,p]=t.useState([]),[c,n]=t.useState([]),{fetchPosts:j,loadMorePosts:f}=_();t.useRef(!1);const h=t.useRef(),[u,m]=t.useState(!1),g=()=>{const s=r.current.value.trim().toLowerCase();if(r.current.value="",s==="")n(i);else{const l=i.filter(o=>{var x;return(x=o.content)==null?void 0:x.toLowerCase().includes(s)});n(l)}};return t.useEffect(()=>{m(!0),(async()=>{await j(p,n),m(!1)})()},[]),v(h,()=>f(i,c,n)),e.jsxs("div",{className:a.container,children:[e.jsxs("nav",{className:a.nav,children:[e.jsx("h1",{children:"At"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsxs(d,{to:"/react-regular-exam/login",children:[e.jsx("i",{className:`fa-solid fa-arrow-right-to-bracket ${a.i}`}),e.jsx("span",{children:"Sign in"})]})}),e.jsx("li",{children:e.jsxs(d,{to:"/react-regular-exam/create",children:[e.jsx("i",{className:`fa-regular fa-id-badge ${a.i}`}),e.jsx("span",{children:"Create account"})]})}),e.jsx("li",{children:e.jsxs(d,{to:"/react-regular-exam",children:[e.jsx("i",{className:`fa-solid fa-person-through-window ${a.i}`}),e.jsx("span",{children:"Leave"})]})})]}),e.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Guest"}),e.jsx("p",{children:"Guest"})]}),e.jsxs("main",{className:a.main,ref:h,children:[u&&e.jsx(N,{}),e.jsxs("section",{id:"search",className:a.search,children:[e.jsx("h3",{children:"What do you need?"}),e.jsx("input",{type:"search",ref:r,name:"search",id:"search",placeholder:"search"}),e.jsx("button",{onClick:g,children:"🔍"})]}),e.jsx("section",{id:"posts",className:a.posts,children:c.length>0?c.map((s,l)=>{const o=s.meta.date;return e.jsxs("div",{id:"post",className:a.post,children:[e.jsxs("div",{id:"meta",className:a.meta,children:[e.jsx("img",{src:s.meta.profileImg?s.meta.profileImg:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg"}),e.jsx("h4",{children:s.meta.author}),e.jsx("p",{children:o})]}),e.jsx("p",{children:s.content}),s.img&&e.jsx("img",{src:s.img,alt:""}),e.jsxs("div",{id:"feedback",className:a.feedback,children:[e.jsxs("p",{children:[e.jsx("i",{className:"fa-regular fa-comment"}),e.jsx("span",{children:s.feedback.comments})]}),e.jsxs("p",{children:[e.jsx("i",{className:"fa-regular fa-heart"}),e.jsx("span",{children:s.feedback.likes})]}),e.jsxs("p",{children:[e.jsx("i",{className:"fa-solid fa-magnifying-glass"}),e.jsx("span",{children:s.feedback.views})]})]})]},l)}):e.jsx("p",{children:"No posts found"})})]})]})}export{I as default};
