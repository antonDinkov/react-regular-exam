import{r as t,j as e,L as d}from"./index-B0ZLWObH.js";import{u as _,a as b}from"./infinityScrollHook-wy9IZhyd.js";import{L as v}from"./Spinner-D0ySSmfI.js";import"./firebase-CLNeqrfC.js";const N="_container_92bmx_1",k="_nav_92bmx_15",L="_i_92bmx_25",w="_main_92bmx_125",S="_search_92bmx_143",y="_meta_92bmx_181",P="_post_92bmx_211",R="_feedback_92bmx_249",a={container:N,nav:k,i:L,main:w,search:S,meta:y,post:P,feedback:R};function $(){const r=t.useRef(),[c,p]=t.useState([]),[i,n]=t.useState([]),{fetchPosts:j,loadMorePosts:f}=_();t.useRef(!1);const m=t.useRef(),[u,h]=t.useState(!1),g=()=>{const s=r.current.value.trim().toLowerCase();if(r.current.value="",s==="")n(c);else{const l=c.filter(o=>{var x;return(x=o.content)==null?void 0:x.toLowerCase().includes(s)});n(l)}};return t.useEffect(()=>{h(!0),(async()=>{await j(p,n),h(!1)})()},[]),b(m,()=>f(c,i,n)),e.jsxs("div",{className:a.container,children:[e.jsxs("nav",{className:a.nav,children:[e.jsx("h1",{children:"At"}),e.jsxs("ul",{children:[e.jsx("li",{children:e.jsxs(d,{to:"/react-regular-exam/login",children:[e.jsx("i",{className:`fa-solid fa-arrow-right-to-bracket ${a.i}`}),e.jsx("span",{children:"Sign in"})]})}),e.jsx("li",{children:e.jsxs(d,{to:"/react-regular-exam/create",children:[e.jsx("i",{className:`fa-regular fa-id-badge ${a.i}`}),e.jsx("span",{children:"Create account"})]})}),e.jsx("li",{children:e.jsxs(d,{to:"/react-regular-exam",children:[e.jsx("i",{className:`fa-solid fa-person-through-window ${a.i}`}),e.jsx("span",{children:"Leave"})]})})]}),e.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Guest"}),e.jsx("p",{children:"Guest"})]}),e.jsxs("main",{className:a.main,ref:m,children:[u&&e.jsx(v,{}),e.jsxs("section",{id:"search",className:a.search,children:[e.jsx("h3",{children:"What do you need?"}),e.jsx("input",{type:"search",ref:r,name:"search",id:"search",placeholder:"search"}),e.jsx("button",{onClick:g,children:"🔍"})]}),e.jsx("section",{id:"posts",className:a.posts,children:i.length>0?i.map((s,l)=>{const o=s.meta.date;return e.jsxs("div",{id:"post",className:a.post,children:[e.jsxs("div",{id:"meta",className:a.meta,children:[e.jsx("img",{src:s.meta.profileImg?s.meta.profileImg:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg"}),e.jsx("h4",{children:s.meta.author}),e.jsx("p",{children:o})]}),e.jsx("p",{children:s.content}),s.img&&e.jsx("img",{src:s.img,alt:""}),e.jsxs("div",{id:"feedback",className:a.feedback,children:[e.jsxs("p",{children:[e.jsx("i",{className:"fa-regular fa-comment"}),e.jsx("span",{children:s.feedback.comments})]}),e.jsxs("p",{children:[e.jsx("i",{className:"fa-regular fa-heart"}),e.jsx("span",{children:s.feedback.likes})]}),e.jsxs("p",{children:[e.jsx("i",{className:"fa-solid fa-magnifying-glass"}),e.jsx("span",{children:s.feedback.views})]})]})]},l)}):e.jsx("p",{children:"No posts found"})})]})]})}export{$ as default};
