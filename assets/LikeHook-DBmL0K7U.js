import{g as l}from"./localeStorageApi-BzC0sAnb.js";import{c as m,e as a}from"./registerAndLogin-srQY7G39.js";const t=[];for(let e=0;e<256;++e)t.push((e+256).toString(16).slice(1));function y(e,n=0){return(t[e[n+0]]+t[e[n+1]]+t[e[n+2]]+t[e[n+3]]+"-"+t[e[n+4]]+t[e[n+5]]+"-"+t[e[n+6]]+t[e[n+7]]+"-"+t[e[n+8]]+t[e[n+9]]+"-"+t[e[n+10]]+t[e[n+11]]+t[e[n+12]]+t[e[n+13]]+t[e[n+14]]+t[e[n+15]]).toLowerCase()}let u;const g=new Uint8Array(16);function p(){if(!u){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");u=crypto.getRandomValues.bind(crypto)}return u(g)}const U=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),d={randomUUID:U};function b(e,n,o){var c;if(d.randomUUID&&!e)return d.randomUUID();e=e||{};const r=e.random??((c=e.rng)==null?void 0:c.call(e))??p();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,y(r)}function x(){return{handleLike:async n=>{try{const r=JSON.parse(l()).name,i=(await m(n)).feedback.likedPeople;if(!i){await a(n,r);return}if(i.filter(s=>s===r).length>0)return alert("You  can like only once");await a(n,r)}catch(o){alert("Error adding like: "+o.message)}}}}export{x as u,b as v};
