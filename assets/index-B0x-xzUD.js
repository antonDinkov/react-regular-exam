(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Wd={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $y;function sA(){if($y)return Pl;$y=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Pl.Fragment=e,Pl.jsx=n,Pl.jsxs=n,Pl}var Ky;function aA(){return Ky||(Ky=1,Wd.exports=sA()),Wd.exports}var E=aA(),Zd={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function oA(){if(Qy)return Ce;Qy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.iterator;function R(N){return N===null||typeof N!="object"?null:(N=A&&N[A]||N["@@iterator"],typeof N=="function"?N:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,Y={};function F(N,ne,fe){this.props=N,this.context=ne,this.refs=Y,this.updater=fe||V}F.prototype.isReactComponent={},F.prototype.setState=function(N,ne){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,ne,"setState")},F.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function G(){}G.prototype=F.prototype;function Z(N,ne,fe){this.props=N,this.context=ne,this.refs=Y,this.updater=fe||V}var J=Z.prototype=new G;J.constructor=Z,L(J,F.prototype),J.isPureReactComponent=!0;var ce=Array.isArray,ue={H:null,A:null,T:null,S:null},Se=Object.prototype.hasOwnProperty;function O(N,ne,fe,se,ae,Ie){return fe=Ie.ref,{$$typeof:r,type:N,key:ne,ref:fe!==void 0?fe:null,props:Ie}}function C(N,ne){return O(N.type,ne,void 0,void 0,void 0,N.props)}function b(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function x(N){var ne={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(fe){return ne[fe]})}var k=/\/+/g;function z(N,ne){return typeof N=="object"&&N!==null&&N.key!=null?x(""+N.key):ne.toString(36)}function D(){}function St(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(D,D):(N.status="pending",N.then(function(ne){N.status==="pending"&&(N.status="fulfilled",N.value=ne)},function(ne){N.status==="pending"&&(N.status="rejected",N.reason=ne)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function gt(N,ne,fe,se,ae){var Ie=typeof N;(Ie==="undefined"||Ie==="boolean")&&(N=null);var Re=!1;if(N===null)Re=!0;else switch(Ie){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(N.$$typeof){case r:case e:Re=!0;break;case T:return Re=N._init,gt(Re(N._payload),ne,fe,se,ae)}}if(Re)return ae=ae(N),Re=se===""?"."+z(N,0):se,ce(ae)?(fe="",Re!=null&&(fe=Re.replace(k,"$&/")+"/"),gt(ae,ne,fe,"",function(ot){return ot})):ae!=null&&(b(ae)&&(ae=C(ae,fe+(ae.key==null||N&&N.key===ae.key?"":(""+ae.key).replace(k,"$&/")+"/")+Re)),ne.push(ae)),1;Re=0;var _t=se===""?".":se+":";if(ce(N))for(var Be=0;Be<N.length;Be++)se=N[Be],Ie=_t+z(se,Be),Re+=gt(se,ne,fe,Ie,ae);else if(Be=R(N),typeof Be=="function")for(N=Be.call(N),Be=0;!(se=N.next()).done;)se=se.value,Ie=_t+z(se,Be++),Re+=gt(se,ne,fe,Ie,ae);else if(Ie==="object"){if(typeof N.then=="function")return gt(St(N),ne,fe,se,ae);throw ne=String(N),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Re}function re(N,ne,fe){if(N==null)return N;var se=[],ae=0;return gt(N,se,"","",function(Ie){return ne.call(fe,Ie,ae++)}),se}function Ee(N){if(N._status===-1){var ne=N._result;ne=ne(),ne.then(function(fe){(N._status===0||N._status===-1)&&(N._status=1,N._result=fe)},function(fe){(N._status===0||N._status===-1)&&(N._status=2,N._result=fe)}),N._status===-1&&(N._status=0,N._result=ne)}if(N._status===1)return N._result.default;throw N._result}var pe=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Ge(){}return Ce.Children={map:re,forEach:function(N,ne,fe){re(N,function(){ne.apply(this,arguments)},fe)},count:function(N){var ne=0;return re(N,function(){ne++}),ne},toArray:function(N){return re(N,function(ne){return ne})||[]},only:function(N){if(!b(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ce.Component=F,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=Z,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Ce.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ce.cache=function(N){return function(){return N.apply(null,arguments)}},Ce.cloneElement=function(N,ne,fe){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var se=L({},N.props),ae=N.key,Ie=void 0;if(ne!=null)for(Re in ne.ref!==void 0&&(Ie=void 0),ne.key!==void 0&&(ae=""+ne.key),ne)!Se.call(ne,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ne.ref===void 0||(se[Re]=ne[Re]);var Re=arguments.length-2;if(Re===1)se.children=fe;else if(1<Re){for(var _t=Array(Re),Be=0;Be<Re;Be++)_t[Be]=arguments[Be+2];se.children=_t}return O(N.type,ae,void 0,void 0,Ie,se)},Ce.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Ce.createElement=function(N,ne,fe){var se,ae={},Ie=null;if(ne!=null)for(se in ne.key!==void 0&&(Ie=""+ne.key),ne)Se.call(ne,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ae[se]=ne[se]);var Re=arguments.length-2;if(Re===1)ae.children=fe;else if(1<Re){for(var _t=Array(Re),Be=0;Be<Re;Be++)_t[Be]=arguments[Be+2];ae.children=_t}if(N&&N.defaultProps)for(se in Re=N.defaultProps,Re)ae[se]===void 0&&(ae[se]=Re[se]);return O(N,Ie,void 0,void 0,null,ae)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(N){return{$$typeof:m,render:N}},Ce.isValidElement=b,Ce.lazy=function(N){return{$$typeof:T,_payload:{_status:-1,_result:N},_init:Ee}},Ce.memo=function(N,ne){return{$$typeof:_,type:N,compare:ne===void 0?null:ne}},Ce.startTransition=function(N){var ne=ue.T,fe={};ue.T=fe;try{var se=N(),ae=ue.S;ae!==null&&ae(fe,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Ge,pe)}catch(Ie){pe(Ie)}finally{ue.T=ne}},Ce.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Ce.use=function(N){return ue.H.use(N)},Ce.useActionState=function(N,ne,fe){return ue.H.useActionState(N,ne,fe)},Ce.useCallback=function(N,ne){return ue.H.useCallback(N,ne)},Ce.useContext=function(N){return ue.H.useContext(N)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(N,ne){return ue.H.useDeferredValue(N,ne)},Ce.useEffect=function(N,ne){return ue.H.useEffect(N,ne)},Ce.useId=function(){return ue.H.useId()},Ce.useImperativeHandle=function(N,ne,fe){return ue.H.useImperativeHandle(N,ne,fe)},Ce.useInsertionEffect=function(N,ne){return ue.H.useInsertionEffect(N,ne)},Ce.useLayoutEffect=function(N,ne){return ue.H.useLayoutEffect(N,ne)},Ce.useMemo=function(N,ne){return ue.H.useMemo(N,ne)},Ce.useOptimistic=function(N,ne){return ue.H.useOptimistic(N,ne)},Ce.useReducer=function(N,ne,fe){return ue.H.useReducer(N,ne,fe)},Ce.useRef=function(N){return ue.H.useRef(N)},Ce.useState=function(N){return ue.H.useState(N)},Ce.useSyncExternalStore=function(N,ne,fe){return ue.H.useSyncExternalStore(N,ne,fe)},Ce.useTransition=function(){return ue.H.useTransition()},Ce.version="19.0.0",Ce}var Yy;function Fm(){return Yy||(Yy=1,Zd.exports=oA()),Zd.exports}var H=Fm(),Jd={exports:{}},Ll={},em={exports:{}},tm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function lA(){return Xy||(Xy=1,function(r){function e(re,Ee){var pe=re.length;re.push(Ee);e:for(;0<pe;){var Ge=pe-1>>>1,N=re[Ge];if(0<o(N,Ee))re[Ge]=Ee,re[pe]=N,pe=Ge;else break e}}function n(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var Ee=re[0],pe=re.pop();if(pe!==Ee){re[0]=pe;e:for(var Ge=0,N=re.length,ne=N>>>1;Ge<ne;){var fe=2*(Ge+1)-1,se=re[fe],ae=fe+1,Ie=re[ae];if(0>o(se,pe))ae<N&&0>o(Ie,se)?(re[Ge]=Ie,re[ae]=pe,Ge=ae):(re[Ge]=se,re[fe]=pe,Ge=fe);else if(ae<N&&0>o(Ie,pe))re[Ge]=Ie,re[ae]=pe,Ge=ae;else break e}}return Ee}function o(re,Ee){var pe=re.sortIndex-Ee.sortIndex;return pe!==0?pe:re.id-Ee.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],_=[],T=1,A=null,R=3,V=!1,L=!1,Y=!1,F=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function J(re){for(var Ee=n(_);Ee!==null;){if(Ee.callback===null)s(_);else if(Ee.startTime<=re)s(_),Ee.sortIndex=Ee.expirationTime,e(p,Ee);else break;Ee=n(_)}}function ce(re){if(Y=!1,J(re),!L)if(n(p)!==null)L=!0,St();else{var Ee=n(_);Ee!==null&&gt(ce,Ee.startTime-re)}}var ue=!1,Se=-1,O=5,C=-1;function b(){return!(r.unstable_now()-C<O)}function x(){if(ue){var re=r.unstable_now();C=re;var Ee=!0;try{e:{L=!1,Y&&(Y=!1,G(Se),Se=-1),V=!0;var pe=R;try{t:{for(J(re),A=n(p);A!==null&&!(A.expirationTime>re&&b());){var Ge=A.callback;if(typeof Ge=="function"){A.callback=null,R=A.priorityLevel;var N=Ge(A.expirationTime<=re);if(re=r.unstable_now(),typeof N=="function"){A.callback=N,J(re),Ee=!0;break t}A===n(p)&&s(p),J(re)}else s(p);A=n(p)}if(A!==null)Ee=!0;else{var ne=n(_);ne!==null&&gt(ce,ne.startTime-re),Ee=!1}}break e}finally{A=null,R=pe,V=!1}Ee=void 0}}finally{Ee?k():ue=!1}}}var k;if(typeof Z=="function")k=function(){Z(x)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,D=z.port2;z.port1.onmessage=x,k=function(){D.postMessage(null)}}else k=function(){F(x,0)};function St(){ue||(ue=!0,k())}function gt(re,Ee){Se=F(function(){re(r.unstable_now())},Ee)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(re){re.callback=null},r.unstable_continueExecution=function(){L||V||(L=!0,St())},r.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<re?Math.floor(1e3/re):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(re){switch(R){case 1:case 2:case 3:var Ee=3;break;default:Ee=R}var pe=R;R=Ee;try{return re()}finally{R=pe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(re,Ee){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var pe=R;R=re;try{return Ee()}finally{R=pe}},r.unstable_scheduleCallback=function(re,Ee,pe){var Ge=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ge+pe:Ge):pe=Ge,re){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=pe+N,re={id:T++,callback:Ee,priorityLevel:re,startTime:pe,expirationTime:N,sortIndex:-1},pe>Ge?(re.sortIndex=pe,e(_,re),n(p)===null&&re===n(_)&&(Y?(G(Se),Se=-1):Y=!0,gt(ce,pe-Ge))):(re.sortIndex=N,e(p,re),L||V||(L=!0,St())),re},r.unstable_shouldYield=b,r.unstable_wrapCallback=function(re){var Ee=R;return function(){var pe=R;R=Ee;try{return re.apply(this,arguments)}finally{R=pe}}}}(tm)),tm}var Wy;function uA(){return Wy||(Wy=1,em.exports=lA()),em.exports}var nm={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function cA(){if(Zy)return Xt;Zy=1;var r=Fm();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,_,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:_,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(p,_,null,T)},Xt.flushSync=function(p){var _=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=_,s.p=T,s.d.f()}},Xt.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},Xt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xt.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,A=m(T,_.crossOrigin),R=typeof _.integrity=="string"?_.integrity:void 0,V=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:V}):T==="script"&&s.d.X(p,{crossOrigin:A,integrity:R,fetchPriority:V,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Xt.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=m(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},Xt.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,A=m(T,_.crossOrigin);s.d.L(p,T,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Xt.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=m(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},Xt.requestFormReset=function(p){s.d.r(p)},Xt.unstable_batchedUpdates=function(p,_){return p(_)},Xt.useFormState=function(p,_,T){return f.H.useFormState(p,_,T)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.0.0",Xt}var Jy;function hA(){if(Jy)return nm.exports;Jy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),nm.exports=cA(),nm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function fA(){if(ev)return Ll;ev=1;var r=uA(),e=Fm(),n=hA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),V=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),J=Symbol.for("react.offscreen"),ce=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function Se(t){return t===null||typeof t!="object"?null:(t=ue&&t[ue]||t["@@iterator"],typeof t=="function"?t:null)}var O=Symbol.for("react.client.reference");function C(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===O?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case T:return"Profiler";case _:return"StrictMode";case Y:return"Suspense";case F:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case V:return(t.displayName||"Context")+".Provider";case R:return(t._context.displayName||"Context")+".Consumer";case L:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case G:return i=t.displayName||null,i!==null?i:C(t.type)||"Memo";case Z:i=t._payload,t=t._init;try{return C(t(i))}catch{}}return null}var b=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,x=Object.assign,k,z;function D(t){if(k===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);k=i&&i[1]||"",z=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+k+t+z}var St=!1;function gt(t,i){if(!t||St)return"";St=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(K){var q=K}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(K){q=K}t.call(ee.prototype)}}else{try{throw Error()}catch(K){q=K}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(K){if(K&&q&&typeof K.stack=="string")return[K.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],S=d[1];if(v&&S){var I=v.split(`
`),P=S.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===P.length)for(l=I.length-1,h=P.length-1;1<=l&&0<=h&&I[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==P[h]){var Q=`
`+I[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{St=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?D(a):""}function re(t){switch(t.tag){case 26:case 27:case 5:return D(t.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return t=gt(t.type,!1),t;case 11:return t=gt(t.type.render,!1),t;case 1:return t=gt(t.type,!0),t;default:return""}}function Ee(t){try{var i="";do i+=re(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function pe(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function Ge(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function N(t){if(pe(t)!==t)throw Error(s(188))}function ne(t){var i=t.alternate;if(!i){if(i=pe(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return N(h),t;if(d===l)return N(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,S=h.child;S;){if(S===a){v=!0,a=h,l=d;break}if(S===l){v=!0,l=h,a=d;break}S=S.sibling}if(!v){for(S=d.child;S;){if(S===a){v=!0,a=d,l=h;break}if(S===l){v=!0,l=d,a=h;break}S=S.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function fe(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=fe(t),i!==null)return i;t=t.sibling}return null}var se=Array.isArray,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},Re=[],_t=-1;function Be(t){return{current:t}}function ot(t){0>_t||(t.current=Re[_t],Re[_t]=null,_t--)}function Qe(t,i){_t++,Re[_t]=t.current,t.current=i}var rn=Be(null),xi=Be(null),Cn=Be(null),mr=Be(null);function pr(t,i){switch(Qe(Cn,i),Qe(xi,t),Qe(rn,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Ty(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=Ty(t),i=Sy(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ot(rn),Qe(rn,i)}function Di(){ot(rn),ot(xi),ot(Cn)}function No(t){t.memoizedState!==null&&Qe(mr,t);var i=rn.current,a=Sy(i,t.type);i!==a&&(Qe(xi,t),Qe(rn,a))}function da(t){xi.current===t&&(ot(rn),ot(xi)),mr.current===t&&(ot(mr),Nl._currentValue=Ie)}var ma=Object.prototype.hasOwnProperty,Ss=r.unstable_scheduleCallback,pa=r.unstable_cancelCallback,Zh=r.unstable_shouldYield,Oo=r.unstable_requestPaint,hn=r.unstable_now,Su=r.unstable_getCurrentPriorityLevel,wt=r.unstable_ImmediatePriority,Ot=r.unstable_UserBlockingPriority,Ni=r.unstable_NormalPriority,wu=r.unstable_LowPriority,Mo=r.unstable_IdlePriority,Jh=r.log,ws=r.unstable_setDisableYieldValue,gr=null,Qt=null;function Vo(t){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(gr,t,void 0,(t.current.flags&128)===128)}catch{}}function ei(t){if(typeof Jh=="function"&&ws(t),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(gr,t)}catch{}}var sn=Math.clz32?Math.clz32:bu,ko=Math.log,Au=Math.LN2;function bu(t){return t>>>=0,t===0?32:31-(ko(t)/Au|0)|0}var ti=128,_r=4194304;function $n(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function In(t,i){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var S=a&134217727;return S!==0?(a=S&~h,a!==0?l=$n(a):(d&=S,d!==0?l=$n(d):t||(v=S&~v,v!==0&&(l=$n(v))))):(S=a&~h,S!==0?l=$n(S):d!==0?l=$n(d):t||(v=a&~v,v!==0&&(l=$n(v)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:l}function yr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ga(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Po(){var t=ti;return ti<<=1,(ti&4194176)===0&&(ti=128),t}function vr(){var t=_r;return _r<<=1,(_r&62914560)===0&&(_r=4194304),t}function _a(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function dt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ru(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,I=t.expirationTimes,P=t.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-sn(a),ee=1<<Q;S[Q]=0,I[Q]=-1;var q=P[Q];if(q!==null)for(P[Q]=null,Q=0;Q<q.length;Q++){var K=q[Q];K!==null&&(K.lane&=-536870913)}a&=~ee}l!==0&&Er(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function Er(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-sn(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function Tr(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-sn(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Cu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Iu(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:zy(t.type))}function Sr(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var ni=Math.random().toString(36).slice(2),Mt="__reactFiber$"+ni,At="__reactProps$"+ni,Oi="__reactContainer$"+ni,As="__reactEvents$"+ni,ya="__reactListeners$"+ni,ii="__reactHandles$"+ni,Lo="__reactResources$"+ni,wr="__reactMarker$"+ni;function bs(t){delete t[Mt],delete t[At],delete t[As],delete t[ya],delete t[ii]}function Kn(t){var i=t[Mt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Oi]||a[Mt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=by(t);t!==null;){if(a=t[Mt])return a;t=by(t)}return i}t=a,a=t.parentNode}return null}function Mi(t){if(t=t[Mt]||t[Oi]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Ar(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function br(t){var i=t[Lo];return i||(i=t[Lo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function nt(t){t[wr]=!0}var Uo=new Set,va={};function vn(t,i){fn(t,i),fn(t+"Capture",i)}function fn(t,i){for(va[t]=i,t=0;t<i.length;t++)Uo.add(i[t])}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ef=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jo={},zo={};function xu(t){return ma.call(zo,t)?!0:ma.call(jo,t)?!1:ef.test(t)?zo[t]=!0:(jo[t]=!0,!1)}function Rr(t,i,a){if(xu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Cr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function xn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function an(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Du(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function tf(t){var i=Du(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Rs(t){t._valueTracker||(t._valueTracker=tf(t))}function Bo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Du(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ea(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vi=/[\n"\\]/g;function lt(t){return t.replace(Vi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ir(t,i,a,l,h,d,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+an(i)):t.value!==""+an(i)&&(t.value=""+an(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Ta(t,v,an(i)):a!=null?Ta(t,v,an(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+an(S):t.removeAttribute("name")}function Cs(t,i,a,l,h,d,v,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+an(a):"",i=i!=null?""+an(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Ta(t,i,a){i==="number"&&Ea(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function He(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+an(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Is(t,i,a){if(i!=null&&(i=""+an(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+an(a):""}function xr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(se(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=an(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Dn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var nf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ho(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||nf.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Nu(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Ho(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Ho(t,d,i[d])}function qo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ri(t){return sf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Nn=null;function Sa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ki=null,Pi=null;function Li(t){var i=Mi(t);if(i&&(t=i.stateNode)){var a=t[At]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ir(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+lt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[At]||null;if(!h)throw Error(s(90));Ir(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Bo(l)}break e;case"textarea":Is(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&He(t,!!a.multiple,i,!1)}}}var Fo=!1;function Ou(t,i,a){if(Fo)return t(i,a);Fo=!0;try{var l=t(i);return l}finally{if(Fo=!1,(ki!==null||Pi!==null)&&(wc(),ki&&(i=ki,t=Pi,Pi=ki=null,Li(i),t)))for(i=0;i<t.length;i++)Li(t[i])}}function xs(t,i){var a=t.stateNode;if(a===null)return null;var l=a[At]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var On=!1;if(En)try{var Ds={};Object.defineProperty(Ds,"passive",{get:function(){On=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch{On=!1}var si=null,Dr=null,Ui=null;function Go(){if(Ui)return Ui;var t,i=Dr,a=i.length,l,h="value"in si?si.value:si.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ui=h.slice(t,1<l?1-l:void 0)}function ai(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function oi(){return!0}function $o(){return!1}function Vt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?oi:$o,this.isPropagationStopped=$o,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),i}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wa=Vt($e),Ns=x({},$e,{view:0,detail:0}),Mu=Vt(Ns),Aa,ba,li,Os=x({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==li&&(li&&t.type==="mousemove"?(Aa=t.screenX-li.screenX,ba=t.screenY-li.screenY):ba=Aa=0,li=t),Aa)},movementY:function(t){return"movementY"in t?t.movementY:ba}}),Mn=Vt(Os),Vu=x({},Os,{dataTransfer:0}),af=Vt(Vu),Ms=x({},Ns,{relatedTarget:0}),Ra=Vt(Ms),Ko=x({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),Ca=Vt(Ko),ku=x({},$e,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ia=Vt(ku),of=x({},$e,{data:0}),Qo=Vt(of),Vs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Lu[t])?!!i[t]:!1}function ks(){return Yo}var Uu=x({},Ns,{key:function(t){if(t.key){var i=Vs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ai(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Pu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(t){return t.type==="keypress"?ai(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ai(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xa=Vt(Uu),ju=x({},Os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xo=Vt(ju),ji=x({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),zu=Vt(ji),Bu=x({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hu=Vt(Bu),qu=x({},Os,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Da=Vt(qu),on=x({},$e,{newState:0,oldState:0}),Fu=Vt(on),Gu=[9,13,27,32],ui=En&&"CompositionEvent"in window,c=null;En&&"documentMode"in document&&(c=document.documentMode);var g=En&&"TextEvent"in window&&!c,y=En&&(!ui||c&&8<c&&11>=c),w=" ",j=!1;function $(t,i){switch(t){case"keyup":return Gu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Le=!1;function bt(t,i){switch(t){case"compositionend":return ie(i);case"keypress":return i.which!==32?null:(j=!0,w);case"textInput":return t=i.data,t===w&&j?null:t;default:return null}}function Ue(t,i){if(Le)return t==="compositionend"||!ui&&$(t,i)?(t=Go(),Ui=Dr=si=null,Le=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!kt[t.type]:i==="textarea"}function zi(t,i,a,l){ki?Pi?Pi.push(l):Pi=[l]:ki=l,i=Ic(i,"onChange"),0<i.length&&(a=new wa("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var zt=null,ci=null;function Wo(t){gy(t,0)}function $u(t){var i=Ar(t);if(Bo(i))return t}function Gp(t,i){if(t==="change")return i}var $p=!1;if(En){var lf;if(En){var uf="oninput"in document;if(!uf){var Kp=document.createElement("div");Kp.setAttribute("oninput","return;"),uf=typeof Kp.oninput=="function"}lf=uf}else lf=!1;$p=lf&&(!document.documentMode||9<document.documentMode)}function Qp(){zt&&(zt.detachEvent("onpropertychange",Yp),ci=zt=null)}function Yp(t){if(t.propertyName==="value"&&$u(ci)){var i=[];zi(i,ci,t,Sa(t)),Ou(Wo,i)}}function kS(t,i,a){t==="focusin"?(Qp(),zt=i,ci=a,zt.attachEvent("onpropertychange",Yp)):t==="focusout"&&Qp()}function PS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $u(ci)}function LS(t,i){if(t==="click")return $u(i)}function US(t,i){if(t==="input"||t==="change")return $u(i)}function jS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Tn=typeof Object.is=="function"?Object.is:jS;function Zo(t,i){if(Tn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ma.call(i,h)||!Tn(t[h],i[h]))return!1}return!0}function Xp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wp(t,i){var a=Xp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Xp(a)}}function Zp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Zp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Jp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ea(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ea(t.document)}return i}function cf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function zS(t,i){var a=Jp(i);i=t.focusedElem;var l=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&Zp(i.ownerDocument.documentElement,i)){if(l!==null&&cf(i)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=Wp(i,d);var v=Wp(i,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var BS=En&&"documentMode"in document&&11>=document.documentMode,Na=null,hf=null,Jo=null,ff=!1;function eg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ff||Na==null||Na!==Ea(l)||(l=Na,"selectionStart"in l&&cf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jo&&Zo(Jo,l)||(Jo=l,l=Ic(hf,"onSelect"),0<l.length&&(i=new wa("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Na)))}function Ps(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Oa={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionrun:Ps("Transition","TransitionRun"),transitionstart:Ps("Transition","TransitionStart"),transitioncancel:Ps("Transition","TransitionCancel"),transitionend:Ps("Transition","TransitionEnd")},df={},tg={};En&&(tg=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Ls(t){if(df[t])return df[t];if(!Oa[t])return t;var i=Oa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in tg)return df[t]=i[a];return t}var ng=Ls("animationend"),ig=Ls("animationiteration"),rg=Ls("animationstart"),HS=Ls("transitionrun"),qS=Ls("transitionstart"),FS=Ls("transitioncancel"),sg=Ls("transitionend"),ag=new Map,og="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Qn(t,i){ag.set(t,i),vn(i,[t])}var Vn=[],Ma=0,mf=0;function Ku(){for(var t=Ma,i=mf=Ma=0;i<t;){var a=Vn[i];Vn[i++]=null;var l=Vn[i];Vn[i++]=null;var h=Vn[i];Vn[i++]=null;var d=Vn[i];if(Vn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&lg(a,h,d)}}function Qu(t,i,a,l){Vn[Ma++]=t,Vn[Ma++]=i,Vn[Ma++]=a,Vn[Ma++]=l,mf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function pf(t,i,a,l){return Qu(t,i,a,l),Yu(t)}function Nr(t,i){return Qu(t,null,null,i),Yu(t)}function lg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&i!==null&&t.tag===3&&(d=t.stateNode,h=31-sn(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[i]:t.push(i),i.lane=a|536870912)}function Yu(t){if(50<Al)throw Al=0,Td=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Va={},ug=new WeakMap;function kn(t,i){if(typeof t=="object"&&t!==null){var a=ug.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ee(i)},ug.set(t,i),i)}return{value:t,source:i,stack:Ee(i)}}var ka=[],Pa=0,Xu=null,Wu=0,Pn=[],Ln=0,Us=null,Bi=1,Hi="";function js(t,i){ka[Pa++]=Wu,ka[Pa++]=Xu,Xu=t,Wu=i}function cg(t,i,a){Pn[Ln++]=Bi,Pn[Ln++]=Hi,Pn[Ln++]=Us,Us=t;var l=Bi;t=Hi;var h=32-sn(l)-1;l&=~(1<<h),a+=1;var d=32-sn(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Bi=1<<32-sn(i)+h|a<<h|l,Hi=d+t}else Bi=1<<d|a<<h|l,Hi=t}function gf(t){t.return!==null&&(js(t,1),cg(t,1,0))}function _f(t){for(;t===Xu;)Xu=ka[--Pa],ka[Pa]=null,Wu=ka[--Pa],ka[Pa]=null;for(;t===Us;)Us=Pn[--Ln],Pn[Ln]=null,Hi=Pn[--Ln],Pn[Ln]=null,Bi=Pn[--Ln],Pn[Ln]=null}var ln=null,Bt=null,qe=!1,Yn=null,hi=!1,yf=Error(s(519));function zs(t){var i=Error(s(418,""));throw nl(kn(i,t)),yf}function hg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Mt]=t,i[At]=l,a){case"dialog":ke("cancel",i),ke("close",i);break;case"iframe":case"object":case"embed":ke("load",i);break;case"video":case"audio":for(a=0;a<Rl.length;a++)ke(Rl[a],i);break;case"source":ke("error",i);break;case"img":case"image":case"link":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"input":ke("invalid",i),Cs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Rs(i);break;case"select":ke("invalid",i);break;case"textarea":ke("invalid",i),xr(i,l.value,l.defaultValue,l.children),Rs(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Ey(i.textContent,a)?(l.popover!=null&&(ke("beforetoggle",i),ke("toggle",i)),l.onScroll!=null&&ke("scroll",i),l.onScrollEnd!=null&&ke("scrollend",i),l.onClick!=null&&(i.onclick=xc),i=!0):i=!1,i||zs(t)}function fg(t){for(ln=t.return;ln;)switch(ln.tag){case 3:case 27:hi=!0;return;case 5:case 13:hi=!1;return;default:ln=ln.return}}function el(t){if(t!==ln)return!1;if(!qe)return fg(t),qe=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ud(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&Bt&&zs(t),fg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Bt=Wn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Bt=null}}else Bt=ln?Wn(t.stateNode.nextSibling):null;return!0}function tl(){Bt=ln=null,qe=!1}function nl(t){Yn===null?Yn=[t]:Yn.push(t)}var il=Error(s(460)),dg=Error(s(474)),vf={then:function(){}};function mg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zu(){}function pg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Zu,Zu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===il?Error(s(483)):t;default:if(typeof i.status=="string")i.then(Zu,Zu);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===il?Error(s(483)):t}throw rl=i,il}}var rl=null;function gg(){if(rl===null)throw Error(s(459));var t=rl;return rl=null,t}var La=null,sl=0;function Ju(t){var i=sl;return sl+=1,La===null&&(La=[]),pg(La,t,i)}function al(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ec(t,i){throw i.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function _g(t){var i=t._init;return i(t._payload)}function yg(t){function i(U,M){if(t){var B=U.deletions;B===null?(U.deletions=[M],U.flags|=16):B.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)i(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=qr(U,M),U.index=0,U.sibling=null,U}function d(U,M,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<M?(U.flags|=33554434,M):B):(U.flags|=33554434,M)):(U.flags|=1048576,M)}function v(U){return t&&U.alternate===null&&(U.flags|=33554434),U}function S(U,M,B,X){return M===null||M.tag!==6?(M=dd(B,U.mode,X),M.return=U,M):(M=h(M,B),M.return=U,M)}function I(U,M,B,X){var le=B.type;return le===p?Q(U,M,B.props.children,X,B.key):M!==null&&(M.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Z&&_g(le)===M.type)?(M=h(M,B.props),al(M,B),M.return=U,M):(M=yc(B.type,B.key,B.props,null,U.mode,X),al(M,B),M.return=U,M)}function P(U,M,B,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=md(B,U.mode,X),M.return=U,M):(M=h(M,B.children||[]),M.return=U,M)}function Q(U,M,B,X,le){return M===null||M.tag!==7?(M=Xs(B,U.mode,X,le),M.return=U,M):(M=h(M,B),M.return=U,M)}function ee(U,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=dd(""+M,U.mode,B),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case f:return B=yc(M.type,M.key,M.props,null,U.mode,B),al(B,M),B.return=U,B;case m:return M=md(M,U.mode,B),M.return=U,M;case Z:var X=M._init;return M=X(M._payload),ee(U,M,B)}if(se(M)||Se(M))return M=Xs(M,U.mode,B,null),M.return=U,M;if(typeof M.then=="function")return ee(U,Ju(M),B);if(M.$$typeof===V)return ee(U,pc(U,M),B);ec(U,M)}return null}function q(U,M,B,X){var le=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return le!==null?null:S(U,M,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case f:return B.key===le?I(U,M,B,X):null;case m:return B.key===le?P(U,M,B,X):null;case Z:return le=B._init,B=le(B._payload),q(U,M,B,X)}if(se(B)||Se(B))return le!==null?null:Q(U,M,B,X,null);if(typeof B.then=="function")return q(U,M,Ju(B),X);if(B.$$typeof===V)return q(U,M,pc(U,B),X);ec(U,B)}return null}function K(U,M,B,X,le){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(B)||null,S(M,U,""+X,le);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case f:return U=U.get(X.key===null?B:X.key)||null,I(M,U,X,le);case m:return U=U.get(X.key===null?B:X.key)||null,P(M,U,X,le);case Z:var De=X._init;return X=De(X._payload),K(U,M,B,X,le)}if(se(X)||Se(X))return U=U.get(B)||null,Q(M,U,X,le,null);if(typeof X.then=="function")return K(U,M,B,Ju(X),le);if(X.$$typeof===V)return K(U,M,B,pc(M,X),le);ec(M,X)}return null}function he(U,M,B,X){for(var le=null,De=null,me=M,ye=M=0,Ut=null;me!==null&&ye<B.length;ye++){me.index>ye?(Ut=me,me=null):Ut=me.sibling;var Fe=q(U,me,B[ye],X);if(Fe===null){me===null&&(me=Ut);break}t&&me&&Fe.alternate===null&&i(U,me),M=d(Fe,M,ye),De===null?le=Fe:De.sibling=Fe,De=Fe,me=Ut}if(ye===B.length)return a(U,me),qe&&js(U,ye),le;if(me===null){for(;ye<B.length;ye++)me=ee(U,B[ye],X),me!==null&&(M=d(me,M,ye),De===null?le=me:De.sibling=me,De=me);return qe&&js(U,ye),le}for(me=l(me);ye<B.length;ye++)Ut=K(me,U,ye,B[ye],X),Ut!==null&&(t&&Ut.alternate!==null&&me.delete(Ut.key===null?ye:Ut.key),M=d(Ut,M,ye),De===null?le=Ut:De.sibling=Ut,De=Ut);return t&&me.forEach(function(Xr){return i(U,Xr)}),qe&&js(U,ye),le}function Ae(U,M,B,X){if(B==null)throw Error(s(151));for(var le=null,De=null,me=M,ye=M=0,Ut=null,Fe=B.next();me!==null&&!Fe.done;ye++,Fe=B.next()){me.index>ye?(Ut=me,me=null):Ut=me.sibling;var Xr=q(U,me,Fe.value,X);if(Xr===null){me===null&&(me=Ut);break}t&&me&&Xr.alternate===null&&i(U,me),M=d(Xr,M,ye),De===null?le=Xr:De.sibling=Xr,De=Xr,me=Ut}if(Fe.done)return a(U,me),qe&&js(U,ye),le;if(me===null){for(;!Fe.done;ye++,Fe=B.next())Fe=ee(U,Fe.value,X),Fe!==null&&(M=d(Fe,M,ye),De===null?le=Fe:De.sibling=Fe,De=Fe);return qe&&js(U,ye),le}for(me=l(me);!Fe.done;ye++,Fe=B.next())Fe=K(me,U,ye,Fe.value,X),Fe!==null&&(t&&Fe.alternate!==null&&me.delete(Fe.key===null?ye:Fe.key),M=d(Fe,M,ye),De===null?le=Fe:De.sibling=Fe,De=Fe);return t&&me.forEach(function(rA){return i(U,rA)}),qe&&js(U,ye),le}function ht(U,M,B,X){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case f:e:{for(var le=B.key;M!==null;){if(M.key===le){if(le=B.type,le===p){if(M.tag===7){a(U,M.sibling),X=h(M,B.props.children),X.return=U,U=X;break e}}else if(M.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===Z&&_g(le)===M.type){a(U,M.sibling),X=h(M,B.props),al(X,B),X.return=U,U=X;break e}a(U,M);break}else i(U,M);M=M.sibling}B.type===p?(X=Xs(B.props.children,U.mode,X,B.key),X.return=U,U=X):(X=yc(B.type,B.key,B.props,null,U.mode,X),al(X,B),X.return=U,U=X)}return v(U);case m:e:{for(le=B.key;M!==null;){if(M.key===le)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(U,M.sibling),X=h(M,B.children||[]),X.return=U,U=X;break e}else{a(U,M);break}else i(U,M);M=M.sibling}X=md(B,U.mode,X),X.return=U,U=X}return v(U);case Z:return le=B._init,B=le(B._payload),ht(U,M,B,X)}if(se(B))return he(U,M,B,X);if(Se(B)){if(le=Se(B),typeof le!="function")throw Error(s(150));return B=le.call(B),Ae(U,M,B,X)}if(typeof B.then=="function")return ht(U,M,Ju(B),X);if(B.$$typeof===V)return ht(U,M,pc(U,B),X);ec(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(U,M.sibling),X=h(M,B),X.return=U,U=X):(a(U,M),X=dd(B,U.mode,X),X.return=U,U=X),v(U)):a(U,M)}return function(U,M,B,X){try{sl=0;var le=ht(U,M,B,X);return La=null,le}catch(me){if(me===il)throw me;var De=Bn(29,me,null,U.mode);return De.lanes=X,De.return=U,De}finally{}}}var Bs=yg(!0),vg=yg(!1),Ua=Be(null),tc=Be(0);function Eg(t,i){t=Ji,Qe(tc,t),Qe(Ua,i),Ji=t|i.baseLanes}function Ef(){Qe(tc,Ji),Qe(Ua,Ua.current)}function Tf(){Ji=tc.current,ot(Ua),ot(tc)}var Un=Be(null),fi=null;function Or(t){var i=t.alternate;Qe(Ct,Ct.current&1),Qe(Un,t),fi===null&&(i===null||Ua.current!==null||i.memoizedState!==null)&&(fi=t)}function Tg(t){if(t.tag===22){if(Qe(Ct,Ct.current),Qe(Un,t),fi===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(fi=t)}}else Mr()}function Mr(){Qe(Ct,Ct.current),Qe(Un,Un.current)}function qi(t){ot(Un),fi===t&&(fi=null),ot(Ct)}var Ct=Be(0);function nc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var GS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},$S=r.unstable_scheduleCallback,KS=r.unstable_NormalPriority,It={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Sf(){return{controller:new GS,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&$S(KS,function(){t.controller.abort()})}var ll=null,wf=0,ja=0,za=null;function QS(t,i){if(ll===null){var a=ll=[];wf=0,ja=xd(),za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return wf++,i.then(Sg,Sg),i}function Sg(){if(--wf===0&&ll!==null){za!==null&&(za.status="fulfilled");var t=ll;ll=null,ja=0,za=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function YS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var wg=b.S;b.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&QS(t,i),wg!==null&&wg(t,i)};var Hs=Be(null);function Af(){var t=Hs.current;return t!==null?t:Je.pooledCache}function ic(t,i){i===null?Qe(Hs,Hs.current):Qe(Hs,i.pool)}function Ag(){var t=Af();return t===null?null:{parent:It._currentValue,pool:t}}var Vr=0,xe=null,Xe=null,yt=null,rc=!1,Ba=!1,qs=!1,sc=0,ul=0,Ha=null,XS=0;function mt(){throw Error(s(321))}function bf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Tn(t[a],i[a]))return!1;return!0}function Rf(t,i,a,l,h,d){return Vr=d,xe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,b.H=t===null||t.memoizedState===null?Fs:kr,qs=!1,d=a(l,h),qs=!1,Ba&&(d=Rg(i,a,l,h)),bg(t),d}function bg(t){b.H=di;var i=Xe!==null&&Xe.next!==null;if(Vr=0,yt=Xe=xe=null,rc=!1,ul=0,Ha=null,i)throw Error(s(300));t===null||Pt||(t=t.dependencies,t!==null&&mc(t)&&(Pt=!0))}function Rg(t,i,a,l){xe=t;var h=0;do{if(Ba&&(Ha=null),ul=0,Ba=!1,25<=h)throw Error(s(301));if(h+=1,yt=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}b.H=Gs,d=i(a,l)}while(Ba);return d}function WS(){var t=b.H,i=t.useState()[0];return i=typeof i.then=="function"?cl(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(xe.flags|=1024),i}function Cf(){var t=sc!==0;return sc=0,t}function If(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function xf(t){if(rc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}rc=!1}Vr=0,yt=Xe=xe=null,Ba=!1,ul=sc=0,Ha=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?xe.memoizedState=yt=t:yt=yt.next=t,yt}function vt(){if(Xe===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=yt===null?xe.memoizedState:yt.next;if(i!==null)yt=i,Xe=t;else{if(t===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},yt===null?xe.memoizedState=yt=t:yt=yt.next=t}return yt}var ac;ac=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function cl(t){var i=ul;return ul+=1,Ha===null&&(Ha=[]),t=pg(Ha,t,i),i=xe,(yt===null?i.memoizedState:yt.next)===null&&(i=i.alternate,b.H=i===null||i.memoizedState===null?Fs:kr),t}function oc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===V)return Yt(t)}throw Error(s(438,String(t)))}function Df(t){var i=null,a=xe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ac(),xe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=ce;return i.index++,a}function Fi(t,i){return typeof i=="function"?i(t):i}function lc(t){var i=vt();return Nf(i,Xe,t)}function Nf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=v=null,I=null,P=i,Q=!1;do{var ee=P.lane&-536870913;if(ee!==P.lane?(je&ee)===ee:(Vr&ee)===ee){var q=P.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),ee===ja&&(Q=!0);else if((Vr&q)===q){P=P.next,q===ja&&(Q=!0);continue}else ee={lane:0,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(S=I=ee,v=d):I=I.next=ee,xe.lanes|=q,Fr|=q;ee=P.action,qs&&a(d,ee),d=P.hasEagerState?P.eagerState:a(d,ee)}else q={lane:ee,revertLane:P.revertLane,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(S=I=q,v=d):I=I.next=q,xe.lanes|=ee,Fr|=ee;P=P.next}while(P!==null&&P!==i);if(I===null?v=d:I.next=S,!Tn(d,t.memoizedState)&&(Pt=!0,Q&&(a=za,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Of(t){var i=vt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);Tn(d,i.memoizedState)||(Pt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Cg(t,i,a){var l=xe,h=vt(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!Tn((Xe||h).memoizedState,a);if(v&&(h.memoizedState=a,Pt=!0),h=h.queue,kf(Dg.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,qa(9,xg.bind(null,l,h,a,i),{destroy:void 0},null),Je===null)throw Error(s(349));d||(Vr&60)!==0||Ig(l,i,a)}return a}function Ig(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=xe.updateQueue,i===null?(i=ac(),xe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function xg(t,i,a,l){i.value=a,i.getSnapshot=l,Ng(i)&&Og(t)}function Dg(t,i,a){return a(function(){Ng(i)&&Og(t)})}function Ng(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Tn(t,a)}catch{return!0}}function Og(t){var i=Nr(t,2);i!==null&&un(i,t,2)}function Mf(t){var i=dn();if(typeof t=="function"){var a=t;if(t=a(),qs){ei(!0);try{a()}finally{ei(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:t},i}function Mg(t,i,a,l){return t.baseState=a,Nf(t,Xe,typeof l=="function"?l:Fi)}function ZS(t,i,a,l,h){if(hc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};b.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Vg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Vg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=b.T,v={};b.T=v;try{var S=a(h,l),I=b.S;I!==null&&I(v,S),kg(t,i,S)}catch(P){Vf(t,i,P)}finally{b.T=d}}else try{d=a(h,l),kg(t,i,d)}catch(P){Vf(t,i,P)}}function kg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Pg(t,i,l)},function(l){return Vf(t,i,l)}):Pg(t,i,a)}function Pg(t,i,a){i.status="fulfilled",i.value=a,Lg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Vg(t,a)))}function Vf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Lg(i),i=i.next;while(i!==l)}t.action=null}function Lg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Ug(t,i){return i}function jg(t,i){if(qe){var a=Je.formState;if(a!==null){e:{var l=xe;if(qe){if(Bt){t:{for(var h=Bt,d=hi;h.nodeType!==8;){if(!d){h=null;break t}if(h=Wn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Bt=Wn(h.nextSibling),l=h.data==="F!";break e}}zs(l)}l=!1}l&&(i=a[0])}}return a=dn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ug,lastRenderedState:i},a.queue=l,a=i_.bind(null,xe,l),l.dispatch=a,l=Mf(!1),d=zf.bind(null,xe,!1,l.queue),l=dn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=ZS.bind(null,xe,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function zg(t){var i=vt();return Bg(i,Xe,t)}function Bg(t,i,a){i=Nf(t,i,Ug)[0],t=lc(Fi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?cl(i):i;var l=vt(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(xe.flags|=2048,qa(9,JS.bind(null,h,a),{destroy:void 0},null)),[i,d,t]}function JS(t,i){t.action=i}function Hg(t){var i=vt(),a=Xe;if(a!==null)return Bg(i,a,t);vt(),i=i.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function qa(t,i,a,l){return t={tag:t,create:i,inst:a,deps:l,next:null},i=xe.updateQueue,i===null&&(i=ac(),xe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function qg(){return vt().memoizedState}function uc(t,i,a,l){var h=dn();xe.flags|=t,h.memoizedState=qa(1|i,a,{destroy:void 0},l===void 0?null:l)}function cc(t,i,a,l){var h=vt();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&bf(l,Xe.memoizedState.deps)?h.memoizedState=qa(i,a,d,l):(xe.flags|=t,h.memoizedState=qa(1|i,a,d,l))}function Fg(t,i){uc(8390656,8,t,i)}function kf(t,i){cc(2048,8,t,i)}function Gg(t,i){return cc(4,2,t,i)}function $g(t,i){return cc(4,4,t,i)}function Kg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Qg(t,i,a){a=a!=null?a.concat([t]):null,cc(4,4,Kg.bind(null,i,t),a)}function Pf(){}function Yg(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&bf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Xg(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&bf(i,l[1]))return l[0];if(l=t(),qs){ei(!0);try{t()}finally{ei(!1)}}return a.memoizedState=[l,i],l}function Lf(t,i,a){return a===void 0||(Vr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Z_(),xe.lanes|=t,Fr|=t,a)}function Wg(t,i,a,l){return Tn(a,i)?a:Ua.current!==null?(t=Lf(t,a,l),Tn(t,i)||(Pt=!0),t):(Vr&42)===0?(Pt=!0,t.memoizedState=a):(t=Z_(),xe.lanes|=t,Fr|=t,i)}function Zg(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=b.T,S={};b.T=S,zf(t,!1,i,a);try{var I=h(),P=b.S;if(P!==null&&P(S,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=YS(I,l);hl(t,i,Q,bn(t))}else hl(t,i,l,bn(t))}catch(ee){hl(t,i,{then:function(){},status:"rejected",reason:ee},bn())}finally{ae.p=d,b.T=v}}function ew(){}function Uf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Jg(t).queue;Zg(t,h,i,Ie,a===null?ew:function(){return e_(t),a(l)})}function Jg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:Ie},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function e_(t){var i=Jg(t).next.queue;hl(t,i,{},bn())}function jf(){return Yt(Nl)}function t_(){return vt().memoizedState}function n_(){return vt().memoizedState}function tw(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();t=Ur(a);var l=jr(i,t,a);l!==null&&(un(l,i,a),ml(l,i,a)),i={cache:Sf()},t.payload=i;return}i=i.return}}function nw(t,i,a){var l=bn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},hc(t)?r_(i,a):(a=pf(t,i,a,l),a!==null&&(un(a,t,l),s_(a,i,l)))}function i_(t,i,a){var l=bn();hl(t,i,a,l)}function hl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(hc(t))r_(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,S=d(v,a);if(h.hasEagerState=!0,h.eagerState=S,Tn(S,v))return Qu(t,i,h,0),Je===null&&Ku(),!1}catch{}finally{}if(a=pf(t,i,h,l),a!==null)return un(a,t,l),s_(a,i,l),!0}return!1}function zf(t,i,a,l){if(l={lane:2,revertLane:xd(),action:l,hasEagerState:!1,eagerState:null,next:null},hc(t)){if(i)throw Error(s(479))}else i=pf(t,a,l,2),i!==null&&un(i,t,2)}function hc(t){var i=t.alternate;return t===xe||i!==null&&i===xe}function r_(t,i){Ba=rc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function s_(t,i,a){if((a&4194176)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Tr(t,a)}}var di={readContext:Yt,use:oc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt};di.useCacheRefresh=mt,di.useMemoCache=mt,di.useHostTransitionStatus=mt,di.useFormState=mt,di.useActionState=mt,di.useOptimistic=mt;var Fs={readContext:Yt,use:oc,useCallback:function(t,i){return dn().memoizedState=[t,i===void 0?null:i],t},useContext:Yt,useEffect:Fg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,uc(4194308,4,Kg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return uc(4194308,4,t,i)},useInsertionEffect:function(t,i){uc(4,2,t,i)},useMemo:function(t,i){var a=dn();i=i===void 0?null:i;var l=t();if(qs){ei(!0);try{t()}finally{ei(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=dn();if(a!==void 0){var h=a(i);if(qs){ei(!0);try{a(i)}finally{ei(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=nw.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var i=dn();return t={current:t},i.memoizedState=t},useState:function(t){t=Mf(t);var i=t.queue,a=i_.bind(null,xe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Pf,useDeferredValue:function(t,i){var a=dn();return Lf(a,t,i)},useTransition:function(){var t=Mf(!1);return t=Zg.bind(null,xe,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=xe,h=dn();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Je===null)throw Error(s(349));(je&60)!==0||Ig(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Fg(Dg.bind(null,l,d,t),[t]),l.flags|=2048,qa(9,xg.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var t=dn(),i=Je.identifierPrefix;if(qe){var a=Hi,l=Bi;a=(l&~(1<<32-sn(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=sc++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=XS++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return dn().memoizedState=tw.bind(null,xe)}};Fs.useMemoCache=Df,Fs.useHostTransitionStatus=jf,Fs.useFormState=jg,Fs.useActionState=jg,Fs.useOptimistic=function(t){var i=dn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=zf.bind(null,xe,!0,a),a.dispatch=i,[t,i]};var kr={readContext:Yt,use:oc,useCallback:Yg,useContext:Yt,useEffect:kf,useImperativeHandle:Qg,useInsertionEffect:Gg,useLayoutEffect:$g,useMemo:Xg,useReducer:lc,useRef:qg,useState:function(){return lc(Fi)},useDebugValue:Pf,useDeferredValue:function(t,i){var a=vt();return Wg(a,Xe.memoizedState,t,i)},useTransition:function(){var t=lc(Fi)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:Cg,useId:t_};kr.useCacheRefresh=n_,kr.useMemoCache=Df,kr.useHostTransitionStatus=jf,kr.useFormState=zg,kr.useActionState=zg,kr.useOptimistic=function(t,i){var a=vt();return Mg(a,Xe,t,i)};var Gs={readContext:Yt,use:oc,useCallback:Yg,useContext:Yt,useEffect:kf,useImperativeHandle:Qg,useInsertionEffect:Gg,useLayoutEffect:$g,useMemo:Xg,useReducer:Of,useRef:qg,useState:function(){return Of(Fi)},useDebugValue:Pf,useDeferredValue:function(t,i){var a=vt();return Xe===null?Lf(a,t,i):Wg(a,Xe.memoizedState,t,i)},useTransition:function(){var t=Of(Fi)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:Cg,useId:t_};Gs.useCacheRefresh=n_,Gs.useMemoCache=Df,Gs.useHostTransitionStatus=jf,Gs.useFormState=Hg,Gs.useActionState=Hg,Gs.useOptimistic=function(t,i){var a=vt();return Xe!==null?Mg(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])};function Bf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:x({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Hf={isMounted:function(t){return(t=t._reactInternals)?pe(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var l=bn(),h=Ur(l);h.payload=i,a!=null&&(h.callback=a),i=jr(t,h,l),i!==null&&(un(i,t,l),ml(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=bn(),h=Ur(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=jr(t,h,l),i!==null&&(un(i,t,l),ml(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=bn(),l=Ur(a);l.tag=2,i!=null&&(l.callback=i),i=jr(t,l,a),i!==null&&(un(i,t,a),ml(i,t,a))}};function a_(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Zo(a,l)||!Zo(h,d):!0}function o_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Hf.enqueueReplaceState(i,i.state,null)}function $s(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=x({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var fc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function l_(t){fc(t)}function u_(t){console.error(t)}function c_(t){fc(t)}function dc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function h_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function qf(t,i,a){return a=Ur(a),a.tag=3,a.payload={element:null},a.callback=function(){dc(t,i)},a}function f_(t){return t=Ur(t),t.tag=3,t}function d_(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){h_(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){h_(i,a,l),typeof h!="function"&&(Gr===null?Gr=new Set([this]):Gr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function iw(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&dl(i,a,h,!0),a=Un.current,a!==null){switch(a.tag){case 13:return fi===null?Ad():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===vf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Rd(t,l,h)),!1;case 22:return a.flags|=65536,l===vf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Rd(t,l,h)),!1}throw Error(s(435,a.tag))}return Rd(t,l,h),Ad(),!1}if(qe)return i=Un.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==yf&&(t=Error(s(422),{cause:l}),nl(kn(t,a)))):(l!==yf&&(i=Error(s(423),{cause:l}),nl(kn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=kn(l,a),h=qf(t.stateNode,l,h),rd(t,h),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=kn(d,a),Sl===null?Sl=[d]:Sl.push(d),ct!==4&&(ct=2),i===null)return!0;l=kn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=qf(a.stateNode,l,t),rd(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Gr===null||!Gr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=f_(h),d_(h,t,a,l),rd(a,h),!1}a=a.return}while(a!==null);return!1}var m_=Error(s(461)),Pt=!1;function Ht(t,i,a,l){i.child=t===null?vg(i,null,a,l):Bs(i,t.child,a,l)}function p_(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return Qs(i),l=Rf(t,i,a,v,d,h),S=Cf(),t!==null&&!Pt?(If(t,i,h),Gi(t,i,h)):(qe&&S&&gf(i),i.flags|=1,Ht(t,i,l,h),i.child)}function g_(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!fd(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,__(t,i,d,l,h)):(t=yc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Zf(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(v,l)&&t.ref===i.ref)return Gi(t,i,h)}return i.flags|=1,t=qr(d,l),t.ref=i.ref,t.return=i,i.child=t}function __(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Zo(d,l)&&t.ref===i.ref)if(Pt=!1,i.pendingProps=l=d,Zf(t,h))(t.flags&131072)!==0&&(Pt=!0);else return i.lanes=t.lanes,Gi(t,i,h)}return Ff(t,i,a,l,h)}function y_(t,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(fl(t,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=v!==null?v.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return v_(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ic(i,v!==null?v.cachePool:null),v!==null?Eg(i,v):Ef(),Tg(i);else return i.lanes=i.childLanes=536870912,v_(t,i,v!==null?v.baseLanes|a:a,a)}else v!==null?(ic(i,v.cachePool),Eg(i,v),Mr(),i.memoizedState=null):(t!==null&&ic(i,null),Ef(),Mr());return Ht(t,i,h,a),i.child}function v_(t,i,a,l){var h=Af();return h=h===null?null:{parent:It._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&ic(i,null),Ef(),Tg(i),t!==null&&dl(t,i,l,!0),null}function fl(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function Ff(t,i,a,l,h){return Qs(i),a=Rf(t,i,a,l,void 0,h),l=Cf(),t!==null&&!Pt?(If(t,i,h),Gi(t,i,h)):(qe&&l&&gf(i),i.flags|=1,Ht(t,i,a,h),i.child)}function E_(t,i,a,l,h,d){return Qs(i),i.updateQueue=null,a=Rg(i,l,a,h),bg(t),l=Cf(),t!==null&&!Pt?(If(t,i,d),Gi(t,i,d)):(qe&&l&&gf(i),i.flags|=1,Ht(t,i,a,d),i.child)}function T_(t,i,a,l,h){if(Qs(i),i.stateNode===null){var d=Va,v=a.contextType;typeof v=="object"&&v!==null&&(d=Yt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Hf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},nd(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Yt(v):Va,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Bf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Hf.enqueueReplaceState(d,d.state,null),gl(i,l,d,h),pl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,I=$s(a,S);d.props=I;var P=d.context,Q=a.contextType;v=Va,typeof Q=="object"&&Q!==null&&(v=Yt(Q));var ee=a.getDerivedStateFromProps;Q=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||P!==v)&&o_(i,d,l,v),Lr=!1;var q=i.memoizedState;d.state=q,gl(i,l,d,h),pl(),P=i.memoizedState,S||q!==P||Lr?(typeof ee=="function"&&(Bf(i,a,ee,l),P=i.memoizedState),(I=Lr||a_(i,a,I,l,q,P,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=P),d.props=l,d.state=P,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,id(t,i),v=i.memoizedProps,Q=$s(a,v),d.props=Q,ee=i.pendingProps,q=d.context,P=a.contextType,I=Va,typeof P=="object"&&P!==null&&(I=Yt(P)),S=a.getDerivedStateFromProps,(P=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ee||q!==I)&&o_(i,d,l,I),Lr=!1,q=i.memoizedState,d.state=q,gl(i,l,d,h),pl();var K=i.memoizedState;v!==ee||q!==K||Lr||t!==null&&t.dependencies!==null&&mc(t.dependencies)?(typeof S=="function"&&(Bf(i,a,S,l),K=i.memoizedState),(Q=Lr||a_(i,a,Q,l,q,K,I)||t!==null&&t.dependencies!==null&&mc(t.dependencies))?(P||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=I,l=Q):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,fl(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Bs(i,t.child,null,h),i.child=Bs(i,null,a,h)):Ht(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Gi(t,i,h),t}function S_(t,i,a,l){return tl(),i.flags|=256,Ht(t,i,a,l),i.child}var Gf={dehydrated:null,treeContext:null,retryLane:0};function $f(t){return{baseLanes:t,cachePool:Ag()}}function Kf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Hn),t}function w_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(qe){if(h?Or(i):Mr(),qe){var S=Bt,I;if(I=S){e:{for(I=S,S=hi;I.nodeType!==8;){if(!S){S=null;break e}if(I=Wn(I.nextSibling),I===null){S=null;break e}}S=I}S!==null?(i.memoizedState={dehydrated:S,treeContext:Us!==null?{id:Bi,overflow:Hi}:null,retryLane:536870912},I=Bn(18,null,null,0),I.stateNode=S,I.return=i,i.child=I,ln=i,Bt=null,I=!0):I=!1}I||zs(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return S.data==="$!"?i.lanes=16:i.lanes=536870912,null;qi(i)}return S=l.children,l=l.fallback,h?(Mr(),h=i.mode,S=Yf({mode:"hidden",children:S},h),l=Xs(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,h=i.child,h.memoizedState=$f(a),h.childLanes=Kf(t,v,a),i.memoizedState=Gf,l):(Or(i),Qf(i,S))}if(I=t.memoizedState,I!==null&&(S=I.dehydrated,S!==null)){if(d)i.flags&256?(Or(i),i.flags&=-257,i=Xf(t,i,a)):i.memoizedState!==null?(Mr(),i.child=t.child,i.flags|=128,i=null):(Mr(),h=l.fallback,S=i.mode,l=Yf({mode:"visible",children:l.children},S),h=Xs(h,S,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Bs(i,t.child,null,a),l=i.child,l.memoizedState=$f(a),l.childLanes=Kf(t,v,a),i.memoizedState=Gf,i=h);else if(Or(i),S.data==="$!"){if(v=S.nextSibling&&S.nextSibling.dataset,v)var P=v.dgst;v=P,l=Error(s(419)),l.stack="",l.digest=v,nl({value:l,source:null,stack:null}),i=Xf(t,i,a)}else if(Pt||dl(t,i,a,!1),v=(a&t.childLanes)!==0,Pt||v){if(v=Je,v!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane)throw I.retryLane=l,Nr(t,l),un(v,t,l),m_}S.data==="$?"||Ad(),i=Xf(t,i,a)}else S.data==="$?"?(i.flags|=128,i.child=t.child,i=yw.bind(null,t),S._reactRetry=i,i=null):(t=I.treeContext,Bt=Wn(S.nextSibling),ln=i,qe=!0,Yn=null,hi=!1,t!==null&&(Pn[Ln++]=Bi,Pn[Ln++]=Hi,Pn[Ln++]=Us,Bi=t.id,Hi=t.overflow,Us=i),i=Qf(i,l.children),i.flags|=4096);return i}return h?(Mr(),h=l.fallback,S=i.mode,I=t.child,P=I.sibling,l=qr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&31457280,P!==null?h=qr(P,h):(h=Xs(h,S,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,S=t.child.memoizedState,S===null?S=$f(a):(I=S.cachePool,I!==null?(P=It._currentValue,I=I.parent!==P?{parent:P,pool:P}:I):I=Ag(),S={baseLanes:S.baseLanes|a,cachePool:I}),h.memoizedState=S,h.childLanes=Kf(t,v,a),i.memoizedState=Gf,l):(Or(i),a=t.child,t=a.sibling,a=qr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Qf(t,i){return i=Yf({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Yf(t,i){return Y_(t,i,0,null)}function Xf(t,i,a){return Bs(i,t.child,null,a),t=Qf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function A_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),ed(t.return,i,a)}function Wf(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function b_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ht(t,i,l.children,a),l=Ct.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&A_(t,a,i);else if(t.tag===19)A_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Qe(Ct,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&nc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Wf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&nc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Wf(i,!0,a,null,d);break;case"together":Wf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Gi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Fr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(dl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=qr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=qr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Zf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&mc(t)))}function rw(t,i,a){switch(i.tag){case 3:pr(i,i.stateNode.containerInfo),Pr(i,It,t.memoizedState.cache),tl();break;case 27:case 5:No(i);break;case 4:pr(i,i.stateNode.containerInfo);break;case 10:Pr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Or(i),i.flags|=128,null):(a&i.child.childLanes)!==0?w_(t,i,a):(Or(i),t=Gi(t,i,a),t!==null?t.sibling:null);Or(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(dl(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return b_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Qe(Ct,Ct.current),l)break;return null;case 22:case 23:return i.lanes=0,y_(t,i,a);case 24:Pr(i,It,t.memoizedState.cache)}return Gi(t,i,a)}function R_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Pt=!0;else{if(!Zf(t,a)&&(i.flags&128)===0)return Pt=!1,rw(t,i,a);Pt=(t.flags&131072)!==0}else Pt=!1,qe&&(i.flags&1048576)!==0&&cg(i,Wu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")fd(l)?(t=$s(l,t),i.tag=1,i=T_(null,i,l,t,a)):(i.tag=0,i=Ff(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===L){i.tag=11,i=p_(null,i,l,t,a);break e}else if(h===G){i.tag=14,i=g_(null,i,l,t,a);break e}}throw i=C(l)||l,Error(s(306,i,""))}}return i;case 0:return Ff(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=$s(l,i.pendingProps),T_(t,i,l,h,a);case 3:e:{if(pr(i,i.stateNode.containerInfo),t===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,id(t,i),gl(i,d,null,a);var v=i.memoizedState;if(d=v.cache,Pr(i,It,d),d!==h.cache&&td(i,[It],a,!0),pl(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=S_(t,i,d,a);break e}else if(d!==l){l=kn(Error(s(424)),i),nl(l),i=S_(t,i,d,a);break e}else for(Bt=Wn(i.stateNode.containerInfo.firstChild),ln=i,qe=!0,Yn=null,hi=!0,a=vg(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(tl(),d===l){i=Gi(t,i,a);break e}Ht(t,i,d,a)}i=i.child}return i;case 26:return fl(t,i),t===null?(a=xy(i.type,null,i.pendingProps,null))?i.memoizedState=a:qe||(a=i.type,t=i.pendingProps,l=Dc(Cn.current).createElement(a),l[Mt]=i,l[At]=t,qt(l,a,t),nt(l),i.stateNode=l):i.memoizedState=xy(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return No(i),t===null&&qe&&(l=i.stateNode=Ry(i.type,i.pendingProps,Cn.current),ln=i,hi=!0,Bt=Wn(l.firstChild)),l=i.pendingProps.children,t!==null||qe?Ht(t,i,l,a):i.child=Bs(i,null,l,a),fl(t,i),i.child;case 5:return t===null&&qe&&((h=l=Bt)&&(l=Vw(l,i.type,i.pendingProps,hi),l!==null?(i.stateNode=l,ln=i,Bt=Wn(l.firstChild),hi=!1,h=!0):h=!1),h||zs(i)),No(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Ud(h,d)?l=null:v!==null&&Ud(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=Rf(t,i,WS,null,null,a),Nl._currentValue=h),fl(t,i),Ht(t,i,l,a),i.child;case 6:return t===null&&qe&&((t=a=Bt)&&(a=kw(a,i.pendingProps,hi),a!==null?(i.stateNode=a,ln=i,Bt=null,t=!0):t=!1),t||zs(i)),null;case 13:return w_(t,i,a);case 4:return pr(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Bs(i,null,l,a):Ht(t,i,l,a),i.child;case 11:return p_(t,i,i.type,i.pendingProps,a);case 7:return Ht(t,i,i.pendingProps,a),i.child;case 8:return Ht(t,i,i.pendingProps.children,a),i.child;case 12:return Ht(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Pr(i,i.type,l.value),Ht(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Qs(i),h=Yt(h),l=l(h),i.flags|=1,Ht(t,i,l,a),i.child;case 14:return g_(t,i,i.type,i.pendingProps,a);case 15:return __(t,i,i.type,i.pendingProps,a);case 19:return b_(t,i,a);case 22:return y_(t,i,a);case 24:return Qs(i),l=Yt(It),t===null?(h=Af(),h===null&&(h=Je,d=Sf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},nd(i),Pr(i,It,h)):((t.lanes&a)!==0&&(id(t,i),gl(i,null,null,a),pl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Pr(i,It,l)):(l=d.cache,Pr(i,It,l),l!==h.cache&&td(i,[It],a,!0))),Ht(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Jf=Be(null),Ks=null,$i=null;function Pr(t,i,a){Qe(Jf,i._currentValue),i._currentValue=a}function Ki(t){t._currentValue=Jf.current,ot(Jf)}function ed(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function td(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var I=0;I<i.length;I++)if(S.context===i[I]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),ed(d.return,a,t),l||(v=null);break e}d=S.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),ed(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function dl(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var S=h.type;Tn(h.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(h===mr.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&td(i,t,a,l),i.flags|=262144}function mc(t){for(t=t.firstContext;t!==null;){if(!Tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qs(t){Ks=t,$i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return C_(Ks,t)}function pc(t,i){return Ks===null&&Qs(t),C_(t,i)}function C_(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},$i===null){if(t===null)throw Error(s(308));$i=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else $i=$i.next=i;return a}var Lr=!1;function nd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function id(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ur(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function jr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(rt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Yu(t),lg(t,null,a),i}return Qu(t,l,i,a),Yu(t)}function ml(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Tr(t,a)}}function rd(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var sd=!1;function pl(){if(sd){var t=za;if(t!==null)throw t}}function gl(t,i,a,l){sd=!1;var h=t.updateQueue;Lr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var I=S,P=I.next;I.next=null,v===null?d=P:v.next=P,v=I;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,S=Q.lastBaseUpdate,S!==v&&(S===null?Q.firstBaseUpdate=P:S.next=P,Q.lastBaseUpdate=I))}if(d!==null){var ee=h.baseState;v=0,Q=P=I=null,S=d;do{var q=S.lane&-536870913,K=q!==S.lane;if(K?(je&q)===q:(l&q)===q){q!==0&&q===ja&&(sd=!0),Q!==null&&(Q=Q.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var he=t,Ae=S;q=i;var ht=a;switch(Ae.tag){case 1:if(he=Ae.payload,typeof he=="function"){ee=he.call(ht,ee,q);break e}ee=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=Ae.payload,q=typeof he=="function"?he.call(ht,ee,q):he,q==null)break e;ee=x({},ee,q);break e;case 2:Lr=!0}}q=S.callback,q!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[q]:K.push(q))}else K={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Q===null?(P=Q=K,I=ee):Q=Q.next=K,v|=q;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;K=S,S=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);Q===null&&(I=ee),h.baseState=I,h.firstBaseUpdate=P,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),Fr|=v,t.lanes=v,t.memoizedState=ee}}function I_(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function x_(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)I_(a[t],i)}function _l(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(S){Ze(i,i.return,S)}}function zr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,h=i;var I=a;try{S()}catch(P){Ze(h,I,P)}}}l=l.next}while(l!==d)}}catch(P){Ze(i,i.return,P)}}function D_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{x_(i,a)}catch(l){Ze(t,t.return,l)}}}function N_(t,i,a){a.props=$s(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,i,l)}}function Ys(t,i){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){Ze(t,i,d)}}function Sn(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,i,h)}else a.current=null}function O_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function M_(t,i,a){try{var l=t.stateNode;xw(l,t.type,a,i),l[At]=i}catch(h){Ze(t,t.return,h)}}function V_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||V_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function od(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=xc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(od(t,i,a),t=t.sibling;t!==null;)od(t,i,a),t=t.sibling}function gc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(gc(t,i,a),t=t.sibling;t!==null;)gc(t,i,a),t=t.sibling}var Qi=!1,ut=!1,ld=!1,k_=typeof WeakSet=="function"?WeakSet:Set,Lt=null,P_=!1;function sw(t,i){if(t=t.containerInfo,Pd=Pc,t=Jp(t),cf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,S=-1,I=-1,P=0,Q=0,ee=t,q=null;t:for(;;){for(var K;ee!==a||h!==0&&ee.nodeType!==3||(S=v+h),ee!==d||l!==0&&ee.nodeType!==3||(I=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),(K=ee.firstChild)!==null;)q=ee,ee=K;for(;;){if(ee===t)break t;if(q===a&&++P===h&&(S=v),q===d&&++Q===l&&(I=v),(K=ee.nextSibling)!==null)break;ee=q,q=ee.parentNode}ee=K}a=S===-1||I===-1?null:{start:S,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Ld={focusedElem:t,selectionRange:a},Pc=!1,Lt=i;Lt!==null;)if(i=Lt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Lt=t;else for(;Lt!==null;){switch(i=Lt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=$s(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){Ze(a,a.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Bd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Bd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Lt=t;break}Lt=i.return}return he=P_,P_=!1,he}function L_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Xi(t,a),l&4&&_l(5,a);break;case 1:if(Xi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(S){Ze(a,a.return,S)}else{var h=$s(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(S){Ze(a,a.return,S)}}l&64&&D_(a),l&512&&Ys(a,a.return);break;case 3:if(Xi(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{x_(l,t)}catch(S){Ze(a,a.return,S)}}break;case 26:Xi(t,a),l&512&&Ys(a,a.return);break;case 27:case 5:Xi(t,a),i===null&&l&4&&O_(a),l&512&&Ys(a,a.return);break;case 12:Xi(t,a);break;case 13:Xi(t,a),l&4&&z_(t,a);break;case 22:if(h=a.memoizedState!==null||Qi,!h){i=i!==null&&i.memoizedState!==null||ut;var d=Qi,v=ut;Qi=h,(ut=i)&&!v?Br(t,a,(a.subtreeFlags&8772)!==0):Xi(t,a),Qi=d,ut=v}l&512&&(a.memoizedProps.mode==="manual"?Ys(a,a.return):Sn(a,a.return));break;default:Xi(t,a)}}function U_(t){var i=t.alternate;i!==null&&(t.alternate=null,U_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&bs(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Et=null,wn=!1;function Yi(t,i,a){for(a=a.child;a!==null;)j_(t,i,a),a=a.sibling}function j_(t,i,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(gr,a)}catch{}switch(a.tag){case 26:ut||Sn(a,i),Yi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ut||Sn(a,i);var l=Et,h=wn;for(Et=a.stateNode,Yi(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);bs(a),Et=l,wn=h;break;case 5:ut||Sn(a,i);case 6:h=Et;var d=wn;if(Et=null,Yi(t,i,a),Et=h,wn=d,Et!==null)if(wn)try{t=Et,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(v){Ze(a,i,v)}else try{Et.removeChild(a.stateNode)}catch(v){Ze(a,i,v)}break;case 18:Et!==null&&(wn?(i=Et,a=a.stateNode,i.nodeType===8?zd(i.parentNode,a):i.nodeType===1&&zd(i,a),kl(i)):zd(Et,a.stateNode));break;case 4:l=Et,h=wn,Et=a.stateNode.containerInfo,wn=!0,Yi(t,i,a),Et=l,wn=h;break;case 0:case 11:case 14:case 15:ut||zr(2,a,i),ut||zr(4,a,i),Yi(t,i,a);break;case 1:ut||(Sn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&N_(a,i,l)),Yi(t,i,a);break;case 21:Yi(t,i,a);break;case 22:ut||Sn(a,i),ut=(l=ut)||a.memoizedState!==null,Yi(t,i,a),ut=l;break;default:Yi(t,i,a)}}function z_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{kl(t)}catch(a){Ze(i,i.return,a)}}function aw(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new k_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new k_),i;default:throw Error(s(435,t.tag))}}function ud(t,i){var a=aw(t);i.forEach(function(l){var h=vw.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function jn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,S=v;e:for(;S!==null;){switch(S.tag){case 27:case 5:Et=S.stateNode,wn=!1;break e;case 3:Et=S.stateNode.containerInfo,wn=!0;break e;case 4:Et=S.stateNode.containerInfo,wn=!0;break e}S=S.return}if(Et===null)throw Error(s(160));j_(d,v,h),Et=null,wn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)B_(i,t),i=i.sibling}var Xn=null;function B_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:jn(i,t),zn(t),l&4&&(zr(3,t,t.return),_l(3,t),zr(5,t,t.return));break;case 1:jn(i,t),zn(t),l&512&&(ut||a===null||Sn(a,a.return)),l&64&&Qi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Xn;if(jn(i,t),zn(t),l&512&&(ut||a===null||Sn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[wr]||d[Mt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),qt(d,l,a),d[Mt]=t,nt(d),l=d;break e;case"link":var v=Oy("link","href",h).get(l+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(d=v[S],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Oy("meta","content",h).get(l+(a.content||""))){for(S=0;S<v.length;S++)if(d=v[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Mt]=t,nt(d),l=d}t.stateNode=l}else My(h,t.type,t.stateNode);else t.stateNode=Ny(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?My(h,t.type,t.stateNode):Ny(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&M_(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var I=h.firstChild;I;){var P=I.nextSibling,Q=I.nodeName;I[wr]||Q==="HEAD"||Q==="BODY"||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&I.rel.toLowerCase()==="stylesheet"||h.removeChild(I),I=P}for(var ee=t.type,q=h.attributes;q.length;)h.removeAttributeNode(q[0]);qt(h,ee,d),h[Mt]=t,h[At]=d}catch(he){Ze(t,t.return,he)}}case 5:if(jn(i,t),zn(t),l&512&&(ut||a===null||Sn(a,a.return)),t.flags&32){h=t.stateNode;try{Dn(h,"")}catch(he){Ze(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,M_(t,h,a!==null?a.memoizedProps:h)),l&1024&&(ld=!0);break;case 6:if(jn(i,t),zn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Ze(t,t.return,he)}}break;case 3:if(Mc=null,h=Xn,Xn=Nc(i.containerInfo),jn(i,t),Xn=h,zn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{kl(i.containerInfo)}catch(he){Ze(t,t.return,he)}ld&&(ld=!1,H_(t));break;case 4:l=Xn,Xn=Nc(t.stateNode.containerInfo),jn(i,t),zn(t),Xn=l;break;case 12:jn(i,t),zn(t);break;case 13:jn(i,t),zn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(yd=hn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ud(t,l)));break;case 22:if(l&512&&(ut||a===null||Sn(a,a.return)),I=t.memoizedState!==null,P=a!==null&&a.memoizedState!==null,Q=Qi,ee=ut,Qi=Q||I,ut=ee||P,jn(i,t),ut=ee,Qi=Q,zn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=I?i._visibility&-2:i._visibility|1,I&&(i=Qi||ut,a===null||P||i||Fa(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){P=a=i;try{if(h=P.stateNode,I)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=P.stateNode,S=P.memoizedProps.style;var K=S!=null&&S.hasOwnProperty("display")?S.display:null;v.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(he){Ze(P,P.return,he)}}}else if(i.tag===6){if(a===null){P=i;try{P.stateNode.nodeValue=I?"":P.memoizedProps}catch(he){Ze(P,P.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ud(t,a))));break;case 19:jn(i,t),zn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ud(t,l)));break;case 21:break;default:jn(i,t),zn(t)}}function zn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(V_(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=ad(t);gc(t,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(Dn(v,""),l.flags&=-33);var S=ad(t);gc(t,S,v);break;case 3:case 4:var I=l.stateNode.containerInfo,P=ad(t);od(t,P,I);break;default:throw Error(s(161))}}}catch(Q){Ze(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function H_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;H_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Xi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)L_(t,i.alternate,i),i=i.sibling}function Fa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:zr(4,i,i.return),Fa(i);break;case 1:Sn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&N_(i,i.return,a),Fa(i);break;case 26:case 27:case 5:Sn(i,i.return),Fa(i);break;case 22:Sn(i,i.return),i.memoizedState===null&&Fa(i);break;default:Fa(i)}t=t.sibling}}function Br(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Br(h,d,a),_l(4,d);break;case 1:if(Br(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Ze(l,l.return,P)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)I_(I[h],S)}catch(P){Ze(l,l.return,P)}}a&&v&64&&D_(d),Ys(d,d.return);break;case 26:case 27:case 5:Br(h,d,a),a&&l===null&&v&4&&O_(d),Ys(d,d.return);break;case 12:Br(h,d,a);break;case 13:Br(h,d,a),a&&v&4&&z_(h,d);break;case 22:d.memoizedState===null&&Br(h,d,a),Ys(d,d.return);break;default:Br(h,d,a)}i=i.sibling}}function cd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ol(a))}function hd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ol(t))}function Hr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)q_(t,i,a,l),i=i.sibling}function q_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Hr(t,i,a,l),h&2048&&_l(9,i);break;case 3:Hr(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ol(t)));break;case 12:if(h&2048){Hr(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,S=d.onPostCommit;typeof S=="function"&&S(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ze(i,i.return,I)}}else Hr(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Hr(t,i,a,l):yl(t,i):d._visibility&4?Hr(t,i,a,l):(d._visibility|=4,Ga(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&cd(i.alternate,i);break;case 24:Hr(t,i,a,l),h&2048&&hd(i.alternate,i);break;default:Hr(t,i,a,l)}}function Ga(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,S=a,I=l,P=v.flags;switch(v.tag){case 0:case 11:case 15:Ga(d,v,S,I,h),_l(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&4?Ga(d,v,S,I,h):yl(d,v):(Q._visibility|=4,Ga(d,v,S,I,h)),h&&P&2048&&cd(v.alternate,v);break;case 24:Ga(d,v,S,I,h),h&&P&2048&&hd(v.alternate,v);break;default:Ga(d,v,S,I,h)}i=i.sibling}}function yl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:yl(a,l),h&2048&&cd(l.alternate,l);break;case 24:yl(a,l),h&2048&&hd(l.alternate,l);break;default:yl(a,l)}i=i.sibling}}var vl=8192;function $a(t){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)F_(t),t=t.sibling}function F_(t){switch(t.tag){case 26:$a(t),t.flags&vl&&t.memoizedState!==null&&Qw(Xn,t.memoizedState,t.memoizedProps);break;case 5:$a(t);break;case 3:case 4:var i=Xn;Xn=Nc(t.stateNode.containerInfo),$a(t),Xn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=vl,vl=16777216,$a(t),vl=i):$a(t));break;default:$a(t)}}function G_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function El(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,K_(l,t)}G_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)$_(t),t=t.sibling}function $_(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&zr(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,_c(t)):El(t);break;default:El(t)}}function _c(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,K_(l,t)}G_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:zr(8,i,i.return),_c(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,_c(i));break;default:_c(i)}t=t.sibling}}function K_(t,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:zr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=t;Lt!==null;){l=Lt;var h=l.sibling,d=l.return;if(U_(l),l===a){Lt=null;break e}if(h!==null){h.return=d,Lt=h;break e}Lt=d}}}function ow(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,i,a,l){return new ow(t,i,a,l)}function fd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qr(t,i){var a=t.alternate;return a===null?(a=Bn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Q_(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function yc(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")fd(t)&&(v=1);else if(typeof t=="string")v=$w(t,a,rn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Xs(a.children,h,d,i);case _:v=8,h|=24;break;case T:return t=Bn(12,a,i,h|2),t.elementType=T,t.lanes=d,t;case Y:return t=Bn(13,a,i,h),t.elementType=Y,t.lanes=d,t;case F:return t=Bn(19,a,i,h),t.elementType=F,t.lanes=d,t;case J:return Y_(a,h,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A:case V:v=10;break e;case R:v=9;break e;case L:v=11;break e;case G:v=14;break e;case Z:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Bn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Xs(t,i,a,l){return t=Bn(7,t,l,i),t.lanes=a,t}function Y_(t,i,a,l){t=Bn(22,t,l,i),t.elementType=J,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var v=Nr(d,2);v!==null&&(h._pendingVisibility|=2,un(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var v=Nr(d,2);v!==null&&(h._pendingVisibility&=-3,un(v,d,2))}}};return t.stateNode=h,t}function dd(t,i,a){return t=Bn(6,t,null,i),t.lanes=a,t}function md(t,i,a){return i=Bn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Wi(t){t.flags|=4}function X_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Vy(i)){if(i=Un.current,i!==null&&((je&4194176)===je?fi!==null:(je&62914560)!==je&&(je&536870912)===0||i!==fi))throw rl=vf,dg;t.flags|=8192}}function vc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?vr():536870912,t.lanes|=i,Qa|=i)}function Tl(t,i){if(!qe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function lw(t,i,a){var l=i.pendingProps;switch(_f(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ki(It),Di(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(el(i)?Wi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Yn!==null&&(Sd(Yn),Yn=null))),it(i),null;case 26:return a=i.memoizedState,t===null?(Wi(i),a!==null?(it(i),X_(i,a)):(it(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Wi(i),it(i),X_(i,a)):(it(i),i.flags&=-16777217):(t.memoizedProps!==l&&Wi(i),it(i),i.flags&=-16777217),null;case 27:da(i),a=Cn.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Wi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}t=rn.current,el(i)?hg(i):(t=Ry(h,l,a),i.stateNode=t,Wi(i))}return it(i),null;case 5:if(da(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Wi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(t=rn.current,el(i))hg(i);else{switch(h=Dc(Cn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Mt]=i,t[At]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(qt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Wi(i)}}return it(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Wi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Cn.current,el(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=ln,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Mt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ey(t.nodeValue,a)),t||zs(i)}else t=Dc(t).createTextNode(l),t[Mt]=i,i.stateNode=t}return it(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=el(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Mt]=i}else tl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else Yn!==null&&(Sd(Yn),Yn=null),h=!0;if(!h)return i.flags&256?(qi(i),i):(qi(i),null)}if(qi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),vc(i,i.updateQueue),it(i),null;case 4:return Di(),t===null&&Md(i.stateNode.containerInfo),it(i),null;case 10:return Ki(i.type),it(i),null;case 19:if(ot(Ct),h=i.memoizedState,h===null)return it(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Tl(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=nc(t),d!==null){for(i.flags|=128,Tl(h,!1),t=d.updateQueue,i.updateQueue=t,vc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Q_(a,t),a=a.sibling;return Qe(Ct,Ct.current&1|2),i.child}t=t.sibling}h.tail!==null&&hn()>Ec&&(i.flags|=128,l=!0,Tl(h,!1),i.lanes=4194304)}else{if(!l)if(t=nc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,vc(i,t),Tl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return it(i),null}else 2*hn()-h.renderingStartTime>Ec&&a!==536870912&&(i.flags|=128,l=!0,Tl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=hn(),i.sibling=null,t=Ct.current,Qe(Ct,l?t&1|2:t&1),i):(it(i),null);case 22:case 23:return qi(i),Tf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&vc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ot(Hs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ki(It),it(i),null;case 25:return null}throw Error(s(156,i.tag))}function uw(t,i){switch(_f(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ki(It),Di(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return da(i),null;case 13:if(qi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));tl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ot(Ct),null;case 4:return Di(),null;case 10:return Ki(i.type),null;case 22:case 23:return qi(i),Tf(),t!==null&&ot(Hs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ki(It),null;case 25:return null;default:return null}}function W_(t,i){switch(_f(i),i.tag){case 3:Ki(It),Di();break;case 26:case 27:case 5:da(i);break;case 4:Di();break;case 13:qi(i);break;case 19:ot(Ct);break;case 10:Ki(i.type);break;case 22:case 23:qi(i),Tf(),t!==null&&ot(Hs);break;case 24:Ki(It)}}var cw={getCacheForType:function(t){var i=Yt(It),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},hw=typeof WeakMap=="function"?WeakMap:Map,rt=0,Je=null,Ne=null,je=0,et=0,An=null,Zi=!1,Ka=!1,pd=!1,Ji=0,ct=0,Fr=0,Ws=0,gd=0,Hn=0,Qa=0,Sl=null,mi=null,_d=!1,yd=0,Ec=1/0,Tc=null,Gr=null,Sc=!1,Zs=null,wl=0,vd=0,Ed=null,Al=0,Td=null;function bn(){if((rt&2)!==0&&je!==0)return je&-je;if(b.T!==null){var t=ja;return t!==0?t:xd()}return Iu()}function Z_(){Hn===0&&(Hn=(je&536870912)===0||qe?Po():536870912);var t=Un.current;return t!==null&&(t.flags|=32),Hn}function un(t,i,a){(t===Je&&et===2||t.cancelPendingCommit!==null)&&(Ya(t,0),er(t,je,Hn,!1)),dt(t,a),((rt&2)===0||t!==Je)&&(t===Je&&((rt&2)===0&&(Ws|=a),ct===4&&er(t,je,Hn,!1)),pi(t))}function J_(t,i,a){if((rt&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&t.expiredLanes)===0||yr(t,i),h=l?mw(t,i):bd(t,i,!0),d=l;do{if(h===0){Ka&&!l&&er(t,i,0,!1);break}else if(h===6)er(t,i,0,!Zi);else{if(a=t.current.alternate,d&&!fw(a)){h=bd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var S=t;h=Sl;var I=S.current.memoizedState.isDehydrated;if(I&&(Ya(S,v).flags|=256),v=bd(S,v,!1),v!==2){if(pd&&!I){S.errorRecoveryDisabledLanes|=d,Ws|=d,h=4;break e}d=mi,mi=h,d!==null&&Sd(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Ya(t,0),er(t,i,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){er(l,i,Hn,!Zi);break e}break;case 2:mi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=yd+300-hn(),10<d)){if(er(l,i,Hn,!Zi),In(l,0)!==0)break e;l.timeoutHandle=wy(ey.bind(null,l,a,mi,Tc,_d,i,Hn,Ws,Qa,Zi,2,-0,0),d);break e}ey(l,a,mi,Tc,_d,i,Hn,Ws,Qa,Zi,0,-0,0)}}break}while(!0);pi(t)}function Sd(t){mi===null?mi=t:mi.push.apply(mi,t)}function ey(t,i,a,l,h,d,v,S,I,P,Q,ee,q){var K=i.subtreeFlags;if((K&8192||(K&16785408)===16785408)&&(Dl={stylesheets:null,count:0,unsuspend:Kw},F_(i),i=Yw(),i!==null)){t.cancelPendingCommit=i(oy.bind(null,t,a,l,h,v,S,I,1,ee,q)),er(t,d,v,!P);return}oy(t,a,l,h,v,S,I,Q,ee,q)}function fw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Tn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function er(t,i,a,l){i&=~gd,i&=~Ws,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-sn(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&Er(t,a,i)}function wc(){return(rt&6)===0?(bl(0),!1):!0}function wd(){if(Ne!==null){if(et===0)var t=Ne.return;else t=Ne,$i=Ks=null,xf(t),La=null,sl=0,t=Ne;for(;t!==null;)W_(t.alternate,t),t=t.return;Ne=null}}function Ya(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Nw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),wd(),Je=t,Ne=a=qr(t.current,null),je=i,et=0,An=null,Zi=!1,Ka=yr(t,i),pd=!1,Qa=Hn=gd=Ws=Fr=ct=0,mi=Sl=null,_d=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-sn(l),d=1<<h;i|=t[h],l&=~d}return Ji=i,Ku(),a}function ty(t,i){xe=null,b.H=di,i===il?(i=gg(),et=3):i===dg?(i=gg(),et=4):et=i===m_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,Ne===null&&(ct=1,dc(t,kn(i,t.current)))}function ny(){var t=b.H;return b.H=di,t===null?di:t}function iy(){var t=b.A;return b.A=cw,t}function Ad(){ct=4,Zi||(je&4194176)!==je&&Un.current!==null||(Ka=!0),(Fr&134217727)===0&&(Ws&134217727)===0||Je===null||er(Je,je,Hn,!1)}function bd(t,i,a){var l=rt;rt|=2;var h=ny(),d=iy();(Je!==t||je!==i)&&(Tc=null,Ya(t,i)),i=!1;var v=ct;e:do try{if(et!==0&&Ne!==null){var S=Ne,I=An;switch(et){case 8:wd(),v=6;break e;case 3:case 2:case 6:Un.current===null&&(i=!0);var P=et;if(et=0,An=null,Xa(t,S,I,P),a&&Ka){v=0;break e}break;default:P=et,et=0,An=null,Xa(t,S,I,P)}}dw(),v=ct;break}catch(Q){ty(t,Q)}while(!0);return i&&t.shellSuspendCounter++,$i=Ks=null,rt=l,b.H=h,b.A=d,Ne===null&&(Je=null,je=0,Ku()),v}function dw(){for(;Ne!==null;)ry(Ne)}function mw(t,i){var a=rt;rt|=2;var l=ny(),h=iy();Je!==t||je!==i?(Tc=null,Ec=hn()+500,Ya(t,i)):Ka=yr(t,i);e:do try{if(et!==0&&Ne!==null){i=Ne;var d=An;t:switch(et){case 1:et=0,An=null,Xa(t,i,d,1);break;case 2:if(mg(d)){et=0,An=null,sy(i);break}i=function(){et===2&&Je===t&&(et=7),pi(t)},d.then(i,i);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:mg(d)?(et=0,An=null,sy(i)):(et=0,An=null,Xa(t,i,d,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var S=Ne;if(!v||Vy(v)){et=0,An=null;var I=S.sibling;if(I!==null)Ne=I;else{var P=S.return;P!==null?(Ne=P,Ac(P)):Ne=null}break t}}et=0,An=null,Xa(t,i,d,5);break;case 6:et=0,An=null,Xa(t,i,d,6);break;case 8:wd(),ct=6;break e;default:throw Error(s(462))}}pw();break}catch(Q){ty(t,Q)}while(!0);return $i=Ks=null,b.H=l,b.A=h,rt=a,Ne!==null?0:(Je=null,je=0,Ku(),ct)}function pw(){for(;Ne!==null&&!Zh();)ry(Ne)}function ry(t){var i=R_(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,i===null?Ac(t):Ne=i}function sy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=E_(a,i,i.pendingProps,i.type,void 0,je);break;case 11:i=E_(a,i,i.pendingProps,i.type.render,i.ref,je);break;case 5:xf(i);default:W_(a,i),i=Ne=Q_(i,Ji),i=R_(a,i,Ji)}t.memoizedProps=t.pendingProps,i===null?Ac(t):Ne=i}function Xa(t,i,a,l){$i=Ks=null,xf(i),La=null,sl=0;var h=i.return;try{if(iw(t,h,i,a,je)){ct=1,dc(t,kn(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ct=1,dc(t,kn(a,t.current)),Ne=null;return}i.flags&32768?(qe||l===1?t=!0:Ka||(je&536870912)!==0?t=!1:(Zi=t=!0,(l===2||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),ay(i,t)):Ac(i)}function Ac(t){var i=t;do{if((i.flags&32768)!==0){ay(i,Zi);return}t=i.return;var a=lw(i.alternate,i,Ji);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ct===0&&(ct=5)}function ay(t,i){do{var a=uw(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ct=6,Ne=null}function oy(t,i,a,l,h,d,v,S,I,P){var Q=b.T,ee=ae.p;try{ae.p=2,b.T=null,gw(t,i,a,l,ee,h,d,v,S,I,P)}finally{b.T=Q,ae.p=ee}}function gw(t,i,a,l,h,d,v,S){do Wa();while(Zs!==null);if((rt&6)!==0)throw Error(s(327));var I=t.finishedWork;if(l=t.finishedLanes,I===null)return null;if(t.finishedWork=null,t.finishedLanes=0,I===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var P=I.lanes|I.childLanes;if(P|=mf,Ru(t,l,P,d,v,S),t===Je&&(Ne=Je=null,je=0),(I.subtreeFlags&10256)===0&&(I.flags&10256)===0||Sc||(Sc=!0,vd=P,Ed=a,Ew(Ni,function(){return Wa(),null})),a=(I.flags&15990)!==0,(I.subtreeFlags&15990)!==0||a?(a=b.T,b.T=null,d=ae.p,ae.p=2,v=rt,rt|=4,sw(t,I),B_(I,t),zS(Ld,t.containerInfo),Pc=!!Pd,Ld=Pd=null,t.current=I,L_(t,I.alternate,I),Oo(),rt=v,ae.p=d,b.T=a):t.current=I,Sc?(Sc=!1,Zs=t,wl=l):ly(t,P),P=t.pendingLanes,P===0&&(Gr=null),Vo(I.stateNode),pi(t),i!==null)for(h=t.onRecoverableError,I=0;I<i.length;I++)P=i[I],h(P.value,{componentStack:P.stack});return(wl&3)!==0&&Wa(),P=t.pendingLanes,(l&4194218)!==0&&(P&42)!==0?t===Td?Al++:(Al=0,Td=t):Al=0,bl(0),null}function ly(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ol(i)))}function Wa(){if(Zs!==null){var t=Zs,i=vd;vd=0;var a=Cu(wl),l=b.T,h=ae.p;try{if(ae.p=32>a?32:a,b.T=null,Zs===null)var d=!1;else{a=Ed,Ed=null;var v=Zs,S=wl;if(Zs=null,wl=0,(rt&6)!==0)throw Error(s(331));var I=rt;if(rt|=4,$_(v.current),q_(v,v.current,S,a),rt=I,bl(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(gr,v)}catch{}d=!0}return d}finally{ae.p=h,b.T=l,ly(t,i)}}return!1}function uy(t,i,a){i=kn(a,i),i=qf(t.stateNode,i,2),t=jr(t,i,2),t!==null&&(dt(t,2),pi(t))}function Ze(t,i,a){if(t.tag===3)uy(t,t,a);else for(;i!==null;){if(i.tag===3){uy(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Gr===null||!Gr.has(l))){t=kn(a,t),a=f_(2),l=jr(i,a,2),l!==null&&(d_(a,l,i,t),dt(l,2),pi(l));break}}i=i.return}}function Rd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new hw;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(pd=!0,h.add(a),t=_w.bind(null,t,i,a),i.then(t,t))}function _w(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(je&a)===a&&(ct===4||ct===3&&(je&62914560)===je&&300>hn()-yd?(rt&2)===0&&Ya(t,0):gd|=a,Qa===je&&(Qa=0)),pi(t)}function cy(t,i){i===0&&(i=vr()),t=Nr(t,i),t!==null&&(dt(t,i),pi(t))}function yw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),cy(t,a)}function vw(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),cy(t,a)}function Ew(t,i){return Ss(t,i)}var bc=null,Za=null,Cd=!1,Rc=!1,Id=!1,Js=0;function pi(t){t!==Za&&t.next===null&&(Za===null?bc=Za=t:Za=Za.next=t),Rc=!0,Cd||(Cd=!0,Sw(Tw))}function bl(t,i){if(!Id&&Rc){Id=!0;do for(var a=!1,l=bc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-sn(42|t)+1)-1,d&=h&~(v&~S),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,dy(l,d))}else d=je,d=In(l,l===Je?d:0),(d&3)===0||yr(l,d)||(a=!0,dy(l,d));l=l.next}while(a);Id=!1}}function Tw(){Rc=Cd=!1;var t=0;Js!==0&&(Dw()&&(t=Js),Js=0);for(var i=hn(),a=null,l=bc;l!==null;){var h=l.next,d=hy(l,i);d===0?(l.next=null,a===null?bc=h:a.next=h,h===null&&(Za=a)):(a=l,(t!==0||(d&3)!==0)&&(Rc=!0)),l=h}bl(t)}function hy(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-sn(d),S=1<<v,I=h[v];I===-1?((S&a)===0||(S&l)!==0)&&(h[v]=ga(S,i)):I<=i&&(t.expiredLanes|=S),d&=~S}if(i=Je,a=je,a=In(t,t===i?a:0),l=t.callbackNode,a===0||t===i&&et===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&pa(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||yr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&pa(l),Cu(a)){case 2:case 8:a=Ot;break;case 32:a=Ni;break;case 268435456:a=Mo;break;default:a=Ni}return l=fy.bind(null,t),a=Ss(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&pa(l),t.callbackPriority=2,t.callbackNode=null,2}function fy(t,i){var a=t.callbackNode;if(Wa()&&t.callbackNode!==a)return null;var l=je;return l=In(t,t===Je?l:0),l===0?null:(J_(t,l,i),hy(t,hn()),t.callbackNode!=null&&t.callbackNode===a?fy.bind(null,t):null)}function dy(t,i){if(Wa())return null;J_(t,i,!0)}function Sw(t){Ow(function(){(rt&6)!==0?Ss(wt,t):t()})}function xd(){return Js===0&&(Js=Po()),Js}function my(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ri(""+t)}function py(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function ww(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=my((h[At]||null).action),v=l.submitter;v&&(i=(i=v[At]||null)?my(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var S=new wa("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Js!==0){var I=v?py(h,v):new FormData(h);Uf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(S.preventDefault(),I=v?py(h,v):new FormData(h),Uf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Dd=0;Dd<og.length;Dd++){var Nd=og[Dd],Aw=Nd.toLowerCase(),bw=Nd[0].toUpperCase()+Nd.slice(1);Qn(Aw,"on"+bw)}Qn(ng,"onAnimationEnd"),Qn(ig,"onAnimationIteration"),Qn(rg,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(HS,"onTransitionRun"),Qn(qS,"onTransitionStart"),Qn(FS,"onTransitionCancel"),Qn(sg,"onTransitionEnd"),fn("onMouseEnter",["mouseout","mouseover"]),fn("onMouseLeave",["mouseout","mouseover"]),fn("onPointerEnter",["pointerout","pointerover"]),fn("onPointerLeave",["pointerout","pointerover"]),vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function gy(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var S=l[v],I=S.instance,P=S.currentTarget;if(S=S.listener,I!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=P;try{d(h)}catch(Q){fc(Q)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(S=l[v],I=S.instance,P=S.currentTarget,S=S.listener,I!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=P;try{d(h)}catch(Q){fc(Q)}h.currentTarget=null,d=I}}}}function ke(t,i){var a=i[As];a===void 0&&(a=i[As]=new Set);var l=t+"__bubble";a.has(l)||(_y(i,t,2,!1),a.add(l))}function Od(t,i,a){var l=0;i&&(l|=4),_y(a,t,l,i)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function Md(t){if(!t[Cc]){t[Cc]=!0,Uo.forEach(function(a){a!=="selectionchange"&&(Rw.has(a)||Od(a,!1,t),Od(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Cc]||(i[Cc]=!0,Od("selectionchange",!1,i))}}function _y(t,i,a,l){switch(zy(i)){case 2:var h=Zw;break;case 8:h=Jw;break;default:h=$d}a=h.bind(null,i,a,t),h=void 0,!On||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Vd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===h||S.nodeType===8&&S.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&(I=v.stateNode.containerInfo,I===h||I.nodeType===8&&I.parentNode===h))return;v=v.return}for(;S!==null;){if(v=Kn(S),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}S=S.parentNode}}l=l.return}Ou(function(){var P=d,Q=Sa(a),ee=[];e:{var q=ag.get(t);if(q!==void 0){var K=wa,he=t;switch(t){case"keypress":if(ai(a)===0)break e;case"keydown":case"keyup":K=xa;break;case"focusin":he="focus",K=Ra;break;case"focusout":he="blur",K=Ra;break;case"beforeblur":case"afterblur":K=Ra;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=af;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=zu;break;case ng:case ig:case rg:K=Ca;break;case sg:K=Hu;break;case"scroll":case"scrollend":K=Mu;break;case"wheel":K=Da;break;case"copy":case"cut":case"paste":K=Ia;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Xo;break;case"toggle":case"beforetoggle":K=Fu}var Ae=(i&4)!==0,ht=!Ae&&(t==="scroll"||t==="scrollend"),U=Ae?q!==null?q+"Capture":null:q;Ae=[];for(var M=P,B;M!==null;){var X=M;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||U===null||(X=xs(M,U),X!=null&&Ae.push(Cl(M,X,B))),ht)break;M=M.return}0<Ae.length&&(q=new K(q,he,null,a,Q),ee.push({event:q,listeners:Ae}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",q&&a!==Nn&&(he=a.relatedTarget||a.fromElement)&&(Kn(he)||he[Oi]))break e;if((K||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,K?(he=a.relatedTarget||a.toElement,K=P,he=he?Kn(he):null,he!==null&&(ht=pe(he),Ae=he.tag,he!==ht||Ae!==5&&Ae!==27&&Ae!==6)&&(he=null)):(K=null,he=P),K!==he)){if(Ae=Mn,X="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=Xo,X="onPointerLeave",U="onPointerEnter",M="pointer"),ht=K==null?q:Ar(K),B=he==null?q:Ar(he),q=new Ae(X,M+"leave",K,a,Q),q.target=ht,q.relatedTarget=B,X=null,Kn(Q)===P&&(Ae=new Ae(U,M+"enter",he,a,Q),Ae.target=B,Ae.relatedTarget=ht,X=Ae),ht=X,K&&he)t:{for(Ae=K,U=he,M=0,B=Ae;B;B=Ja(B))M++;for(B=0,X=U;X;X=Ja(X))B++;for(;0<M-B;)Ae=Ja(Ae),M--;for(;0<B-M;)U=Ja(U),B--;for(;M--;){if(Ae===U||U!==null&&Ae===U.alternate)break t;Ae=Ja(Ae),U=Ja(U)}Ae=null}else Ae=null;K!==null&&yy(ee,q,K,Ae,!1),he!==null&&ht!==null&&yy(ee,ht,he,Ae,!0)}}e:{if(q=P?Ar(P):window,K=q.nodeName&&q.nodeName.toLowerCase(),K==="select"||K==="input"&&q.type==="file")var le=Gp;else if(Rt(q))if($p)le=US;else{le=PS;var De=kS}else K=q.nodeName,!K||K.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?P&&qo(P.elementType)&&(le=Gp):le=LS;if(le&&(le=le(t,P))){zi(ee,le,a,Q);break e}De&&De(t,q,P),t==="focusout"&&P&&q.type==="number"&&P.memoizedProps.value!=null&&Ta(q,"number",q.value)}switch(De=P?Ar(P):window,t){case"focusin":(Rt(De)||De.contentEditable==="true")&&(Na=De,hf=P,Jo=null);break;case"focusout":Jo=hf=Na=null;break;case"mousedown":ff=!0;break;case"contextmenu":case"mouseup":case"dragend":ff=!1,eg(ee,a,Q);break;case"selectionchange":if(BS)break;case"keydown":case"keyup":eg(ee,a,Q)}var me;if(ui)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Le?$(t,a)&&(ye="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(y&&a.locale!=="ko"&&(Le||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Le&&(me=Go()):(si=Q,Dr="value"in si?si.value:si.textContent,Le=!0)),De=Ic(P,ye),0<De.length&&(ye=new Qo(ye,t,null,a,Q),ee.push({event:ye,listeners:De}),me?ye.data=me:(me=ie(a),me!==null&&(ye.data=me)))),(me=g?bt(t,a):Ue(t,a))&&(ye=Ic(P,"onBeforeInput"),0<ye.length&&(De=new Qo("onBeforeInput","beforeinput",null,a,Q),ee.push({event:De,listeners:ye}),De.data=me)),ww(ee,t,P,a,Q)}gy(ee,i)})}function Cl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ic(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=xs(t,a),h!=null&&l.unshift(Cl(t,h,d)),h=xs(t,i),h!=null&&l.push(Cl(t,h,d))),t=t.return}return l}function Ja(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function yy(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var S=a,I=S.alternate,P=S.stateNode;if(S=S.tag,I!==null&&I===l)break;S!==5&&S!==26&&S!==27||P===null||(I=P,h?(P=xs(a,d),P!=null&&v.unshift(Cl(a,P,I))):h||(P=xs(a,d),P!=null&&v.push(Cl(a,P,I)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var Cw=/\r\n?/g,Iw=/\u0000|\uFFFD/g;function vy(t){return(typeof t=="string"?t:""+t).replace(Cw,`
`).replace(Iw,"")}function Ey(t,i){return i=vy(i),vy(t)===i}function xc(){}function We(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Dn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Dn(t,""+l);break;case"className":Cr(t,"class",l);break;case"tabIndex":Cr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Cr(t,a,l);break;case"style":Nu(t,l,d);break;case"data":if(i!=="object"){Cr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ri(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ri(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=xc);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ri(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),Rr(t,"popover",l);break;case"xlinkActuate":xn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Rr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=rf.get(a)||a,Rr(t,a,l))}}function kd(t,i,a,l,h,d){switch(a){case"style":Nu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Dn(t,l):(typeof l=="number"||typeof l=="bigint")&&Dn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!va.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[At]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Rr(t,a,l)}}}function qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,d,v,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":ke("invalid",t);var S=d=v=h=null,I=null,P=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":v=Q;break;case"checked":I=Q;break;case"defaultChecked":P=Q;break;case"value":d=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:We(t,i,l,Q,a,null)}}Cs(t,d,S,I,P,v,h,!1),Rs(t);return;case"select":ke("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:We(t,i,h,S,a,null)}i=d,a=v,t.multiple=!!l,i!=null?He(t,!!l,i,!1):a!=null&&He(t,!!l,a,!0);return;case"textarea":ke("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:We(t,i,v,S,a,null)}xr(t,l,h,d),Rs(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,i,I,l,a,null)}return;case"dialog":ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)ke(Rl[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in a)if(a.hasOwnProperty(P)&&(l=a[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,P,l,a,null)}return;default:if(qo(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&kd(t,i,Q,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&We(t,i,S,l,a,null))}function xw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,S=null,I=null,P=null,Q=null;for(K in a){var ee=a[K];if(a.hasOwnProperty(K)&&ee!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":I=ee;default:l.hasOwnProperty(K)||We(t,i,K,null,l,ee)}}for(var q in l){var K=l[q];if(ee=a[q],l.hasOwnProperty(q)&&(K!=null||ee!=null))switch(q){case"type":d=K;break;case"name":h=K;break;case"checked":P=K;break;case"defaultChecked":Q=K;break;case"value":v=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==ee&&We(t,i,q,K,l,ee)}}Ir(t,v,S,I,P,Q,d,h);return;case"select":K=v=S=q=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":K=I;default:l.hasOwnProperty(d)||We(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":q=d;break;case"defaultValue":S=d;break;case"multiple":v=d;default:d!==I&&We(t,i,h,d,l,I)}i=S,a=v,l=K,q!=null?He(t,!!a,q,!1):!!l!=!!a&&(i!=null?He(t,!!a,i,!0):He(t,!!a,a?[]:"",!1));return;case"textarea":K=q=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:We(t,i,S,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":q=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,i,v,h,l,d)}Is(t,q,K);return;case"option":for(var he in a)if(q=a[he],a.hasOwnProperty(he)&&q!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:We(t,i,he,null,l,q)}for(I in l)if(q=l[I],K=a[I],l.hasOwnProperty(I)&&q!==K&&(q!=null||K!=null))switch(I){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:We(t,i,I,q,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)q=a[Ae],a.hasOwnProperty(Ae)&&q!=null&&!l.hasOwnProperty(Ae)&&We(t,i,Ae,null,l,q);for(P in l)if(q=l[P],K=a[P],l.hasOwnProperty(P)&&q!==K&&(q!=null||K!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:We(t,i,P,q,l,K)}return;default:if(qo(i)){for(var ht in a)q=a[ht],a.hasOwnProperty(ht)&&q!==void 0&&!l.hasOwnProperty(ht)&&kd(t,i,ht,void 0,l,q);for(Q in l)q=l[Q],K=a[Q],!l.hasOwnProperty(Q)||q===K||q===void 0&&K===void 0||kd(t,i,Q,q,l,K);return}}for(var U in a)q=a[U],a.hasOwnProperty(U)&&q!=null&&!l.hasOwnProperty(U)&&We(t,i,U,null,l,q);for(ee in l)q=l[ee],K=a[ee],!l.hasOwnProperty(ee)||q===K||q==null&&K==null||We(t,i,ee,q,l,K)}var Pd=null,Ld=null;function Dc(t){return t.nodeType===9?t:t.ownerDocument}function Ty(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ud(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var jd=null;function Dw(){var t=window.event;return t&&t.type==="popstate"?t===jd?!1:(jd=t,!0):(jd=null,!1)}var wy=typeof setTimeout=="function"?setTimeout:void 0,Nw=typeof clearTimeout=="function"?clearTimeout:void 0,Ay=typeof Promise=="function"?Promise:void 0,Ow=typeof queueMicrotask=="function"?queueMicrotask:typeof Ay<"u"?function(t){return Ay.resolve(null).then(t).catch(Mw)}:wy;function Mw(t){setTimeout(function(){throw t})}function zd(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),kl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);kl(i)}function Bd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Bd(a),bs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Vw(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[wr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function kw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Wn(t.nextSibling),t===null))return null;return t}function Wn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function by(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Ry(t,i,a){switch(i=Dc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var qn=new Map,Cy=new Set;function Nc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var tr=ae.d;ae.d={f:Pw,r:Lw,D:Uw,C:jw,L:zw,m:Bw,X:qw,S:Hw,M:Fw};function Pw(){var t=tr.f(),i=wc();return t||i}function Lw(t){var i=Mi(t);i!==null&&i.tag===5&&i.type==="form"?e_(i):tr.r(t)}var eo=typeof document>"u"?null:document;function Iy(t,i,a){var l=eo;if(l&&typeof i=="string"&&i){var h=lt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Cy.has(h)||(Cy.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),qt(i,"link",t),nt(i),l.head.appendChild(i)))}}function Uw(t){tr.D(t),Iy("dns-prefetch",t,null)}function jw(t,i){tr.C(t,i),Iy("preconnect",t,i)}function zw(t,i,a){tr.L(t,i,a);var l=eo;if(l&&t&&i){var h='link[rel="preload"][as="'+lt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+lt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+lt(a.imageSizes)+'"]')):h+='[href="'+lt(t)+'"]';var d=h;switch(i){case"style":d=to(t);break;case"script":d=no(t)}qn.has(d)||(t=x({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),qn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Il(d))||i==="script"&&l.querySelector(xl(d))||(i=l.createElement("link"),qt(i,"link",t),nt(i),l.head.appendChild(i)))}}function Bw(t,i){tr.m(t,i);var a=eo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+lt(l)+'"][href="'+lt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=no(t)}if(!qn.has(d)&&(t=x({rel:"modulepreload",href:t},i),qn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xl(d)))return}l=a.createElement("link"),qt(l,"link",t),nt(l),a.head.appendChild(l)}}}function Hw(t,i,a){tr.S(t,i,a);var l=eo;if(l&&t){var h=br(l).hoistableStyles,d=to(t);i=i||"default";var v=h.get(d);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(Il(d)))S.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":i},a),(a=qn.get(d))&&Hd(t,a);var I=v=l.createElement("link");nt(I),qt(I,"link",t),I._p=new Promise(function(P,Q){I.onload=P,I.onerror=Q}),I.addEventListener("load",function(){S.loading|=1}),I.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Oc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:S},h.set(d,v)}}}function qw(t,i){tr.X(t,i);var a=eo;if(a&&t){var l=br(a).hoistableScripts,h=no(t),d=l.get(h);d||(d=a.querySelector(xl(h)),d||(t=x({src:t,async:!0},i),(i=qn.get(h))&&qd(t,i),d=a.createElement("script"),nt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Fw(t,i){tr.M(t,i);var a=eo;if(a&&t){var l=br(a).hoistableScripts,h=no(t),d=l.get(h);d||(d=a.querySelector(xl(h)),d||(t=x({src:t,async:!0,type:"module"},i),(i=qn.get(h))&&qd(t,i),d=a.createElement("script"),nt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function xy(t,i,a,l){var h=(h=Cn.current)?Nc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=to(a.href),a=br(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=to(a.href);var d=br(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Il(t)))&&!d._p&&(v.instance=d,v.state.loading=5),qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(t,a),d||Gw(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=no(a),a=br(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function to(t){return'href="'+lt(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function Dy(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function Gw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),qt(i,"link",a),nt(i),t.head.appendChild(i))}function no(t){return'[src="'+lt(t)+'"]'}function xl(t){return"script[async]"+t}function Ny(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+lt(a.href)+'"]');if(l)return i.instance=l,nt(l),l;var h=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),nt(l),qt(l,"style",h),Oc(l,a.precedence,t),i.instance=l;case"stylesheet":h=to(a.href);var d=t.querySelector(Il(h));if(d)return i.state.loading|=4,i.instance=d,nt(d),d;l=Dy(a),(h=qn.get(h))&&Hd(l,h),d=(t.ownerDocument||t).createElement("link"),nt(d);var v=d;return v._p=new Promise(function(S,I){v.onload=S,v.onerror=I}),qt(d,"link",l),i.state.loading|=4,Oc(d,a.precedence,t),i.instance=d;case"script":return d=no(a.src),(h=t.querySelector(xl(d)))?(i.instance=h,nt(h),h):(l=a,(h=qn.get(d))&&(l=x({},a),qd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),nt(h),qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Oc(l,a.precedence,t));return i.instance}function Oc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Hd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function qd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Mc=null;function Oy(t,i,a){if(Mc===null){var l=new Map,h=Mc=new Map;h.set(a,l)}else h=Mc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[wr]||d[Mt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var S=l.get(v);S?S.push(d):l.set(v,[d])}}return l}function My(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function $w(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Vy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Dl=null;function Kw(){}function Qw(t,i,a){if(Dl===null)throw Error(s(475));var l=Dl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=to(a.href),d=t.querySelector(Il(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Vc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,nt(d);return}d=t.ownerDocument||t,a=Dy(a),(h=qn.get(h))&&Hd(a,h),d=d.createElement("link"),nt(d);var v=d;v._p=new Promise(function(S,I){v.onload=S,v.onerror=I}),qt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Vc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function Yw(){if(Dl===null)throw Error(s(475));var t=Dl;return t.stylesheets&&t.count===0&&Fd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Fd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Vc(){if(this.count--,this.count===0){if(this.stylesheets)Fd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var kc=null;function Fd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,kc=new Map,i.forEach(Xw,t),kc=null,Vc.call(t))}function Xw(t,i){if(!(i.state.loading&4)){var a=kc.get(t);if(a)var l=a.get(null);else{a=new Map,kc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Vc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Nl={$$typeof:V,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function Ww(t,i,a,l,h,d,v,S){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=_a(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_a(0),this.hiddenUpdates=_a(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function ky(t,i,a,l,h,d,v,S,I,P,Q,ee){return t=new Ww(t,i,a,v,S,I,P,ee),i=1,d===!0&&(i|=24),d=Bn(3,null,null,i),t.current=d,d.stateNode=t,i=Sf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},nd(d),t}function Py(t){return t?(t=Va,t):Va}function Ly(t,i,a,l,h,d){h=Py(h),l.context===null?l.context=h:l.pendingContext=h,l=Ur(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=jr(t,l,i),a!==null&&(un(a,t,i),ml(a,t,i))}function Uy(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Gd(t,i){Uy(t,i),(t=t.alternate)&&Uy(t,i)}function jy(t){if(t.tag===13){var i=Nr(t,67108864);i!==null&&un(i,t,67108864),Gd(t,67108864)}}var Pc=!0;function Zw(t,i,a,l){var h=b.T;b.T=null;var d=ae.p;try{ae.p=2,$d(t,i,a,l)}finally{ae.p=d,b.T=h}}function Jw(t,i,a,l){var h=b.T;b.T=null;var d=ae.p;try{ae.p=8,$d(t,i,a,l)}finally{ae.p=d,b.T=h}}function $d(t,i,a,l){if(Pc){var h=Kd(l);if(h===null)Vd(t,i,l,Lc,a),By(t,l);else if(tA(h,t,i,a,l))l.stopPropagation();else if(By(t,l),i&4&&-1<eA.indexOf(t)){for(;h!==null;){var d=Mi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=$n(d.pendingLanes);if(v!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var I=1<<31-sn(v);S.entanglements[1]|=I,v&=~I}pi(d),(rt&6)===0&&(Ec=hn()+500,bl(0))}}break;case 13:S=Nr(d,2),S!==null&&un(S,d,2),wc(),Gd(d,2)}if(d=Kd(l),d===null&&Vd(t,i,l,Lc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Vd(t,i,l,null,a)}}function Kd(t){return t=Sa(t),Qd(t)}var Lc=null;function Qd(t){if(Lc=null,t=Kn(t),t!==null){var i=pe(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=Ge(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Lc=t,null}function zy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Su()){case wt:return 2;case Ot:return 8;case Ni:case wu:return 32;case Mo:return 268435456;default:return 32}default:return 32}}var Yd=!1,$r=null,Kr=null,Qr=null,Ol=new Map,Ml=new Map,Yr=[],eA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function By(t,i){switch(t){case"focusin":case"focusout":$r=null;break;case"dragenter":case"dragleave":Kr=null;break;case"mouseover":case"mouseout":Qr=null;break;case"pointerover":case"pointerout":Ol.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(i.pointerId)}}function Vl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Mi(i),i!==null&&jy(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function tA(t,i,a,l,h){switch(i){case"focusin":return $r=Vl($r,t,i,a,l,h),!0;case"dragenter":return Kr=Vl(Kr,t,i,a,l,h),!0;case"mouseover":return Qr=Vl(Qr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ol.set(d,Vl(Ol.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ml.set(d,Vl(Ml.get(d)||null,t,i,a,l,h)),!0}return!1}function Hy(t){var i=Kn(t.target);if(i!==null){var a=pe(i);if(a!==null){if(i=a.tag,i===13){if(i=Ge(a),i!==null){t.blockedOn=i,Sr(t.priority,function(){if(a.tag===13){var l=bn(),h=Nr(a,l);h!==null&&un(h,a,l),Gd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Kd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Nn=l,a.target.dispatchEvent(l),Nn=null}else return i=Mi(a),i!==null&&jy(i),t.blockedOn=a,!1;i.shift()}return!0}function qy(t,i,a){Uc(t)&&a.delete(i)}function nA(){Yd=!1,$r!==null&&Uc($r)&&($r=null),Kr!==null&&Uc(Kr)&&(Kr=null),Qr!==null&&Uc(Qr)&&(Qr=null),Ol.forEach(qy),Ml.forEach(qy)}function jc(t,i){t.blockedOn===i&&(t.blockedOn=null,Yd||(Yd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,nA)))}var zc=null;function Fy(t){zc!==t&&(zc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){zc===t&&(zc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Qd(l||a)===null)continue;break}var d=Mi(a);d!==null&&(t.splice(i,3),i-=3,Uf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function kl(t){function i(I){return jc(I,t)}$r!==null&&jc($r,t),Kr!==null&&jc(Kr,t),Qr!==null&&jc(Qr,t),Ol.forEach(i),Ml.forEach(i);for(var a=0;a<Yr.length;a++){var l=Yr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Yr.length&&(a=Yr[0],a.blockedOn===null);)Hy(a),a.blockedOn===null&&Yr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[At]||null;if(typeof d=="function")v||Fy(a);else if(v){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[At]||null)S=v.formAction;else if(Qd(h)!==null)continue}else S=v.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Fy(a)}}}function Xd(t){this._internalRoot=t}Bc.prototype.render=Xd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=bn();Ly(a,l,t,i,null,null)},Bc.prototype.unmount=Xd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&Wa(),Ly(t.current,2,null,t,null,null),wc(),i[Oi]=null}};function Bc(t){this._internalRoot=t}Bc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Iu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Yr.length&&i!==0&&i<Yr[a].priority;a++);Yr.splice(a,0,t),a===0&&Hy(t)}};var Gy=e.version;if(Gy!=="19.0.0")throw Error(s(527,Gy,"19.0.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=ne(i),t=t!==null?fe(t):null,t=t===null?null:t.stateNode,t};var iA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:Kn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{gr=Hc.inject(iA),Qt=Hc}catch{}}return Ll.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=l_,d=u_,v=c_,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=ky(t,1,!1,null,null,a,l,h,d,v,S,null),t[Oi]=i.current,Md(t.nodeType===8?t.parentNode:t),new Xd(i)},Ll.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=l_,v=u_,S=c_,I=null,P=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(P=a.formState)),i=ky(t,1,!0,i,a??null,l,h,d,v,S,I,P),i.context=Py(null),a=i.current,l=bn(),h=Ur(l),h.callback=null,jr(a,h,l),i.current.lanes=l,dt(i,l),pi(i),t[Oi]=i.current,Md(t),new Bc(i)},Ll.version="19.0.0",Ll}var tv;function dA(){if(tv)return Jd.exports;tv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Jd.exports=fA(),Jd.exports}var mA=dA(),Ul={},nv;function pA(){if(nv)return Ul;nv=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.parse=f,Ul.serialize=_;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function f(R,V){const L=new u,Y=R.length;if(Y<2)return L;const F=(V==null?void 0:V.decode)||T;let G=0;do{const Z=R.indexOf("=",G);if(Z===-1)break;const J=R.indexOf(";",G),ce=J===-1?Y:J;if(Z>ce){G=R.lastIndexOf(";",Z-1)+1;continue}const ue=m(R,G,Z),Se=p(R,Z,ue),O=R.slice(ue,Se);if(L[O]===void 0){let C=m(R,Z+1,ce),b=p(R,ce,C);const x=F(R.slice(C,b));L[O]=x}G=ce+1}while(G<Y);return L}function m(R,V,L){do{const Y=R.charCodeAt(V);if(Y!==32&&Y!==9)return V}while(++V<L);return L}function p(R,V,L){for(;V>L;){const Y=R.charCodeAt(--V);if(Y!==32&&Y!==9)return V+1}return L}function _(R,V,L){const Y=(L==null?void 0:L.encode)||encodeURIComponent;if(!r.test(R))throw new TypeError(`argument name is invalid: ${R}`);const F=Y(V);if(!e.test(F))throw new TypeError(`argument val is invalid: ${V}`);let G=R+"="+F;if(!L)return G;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);G+="; Max-Age="+L.maxAge}if(L.domain){if(!n.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);G+="; Domain="+L.domain}if(L.path){if(!s.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);G+="; Path="+L.path}if(L.expires){if(!A(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);G+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(G+="; HttpOnly"),L.secure&&(G+="; Secure"),L.partitioned&&(G+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return G}function T(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function A(R){return o.call(R)==="[object Date]"}return Ul}pA();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var iv="popstate";function gA(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return _m("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Wl(o)}return yA(e,n,null,r)}function st(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Si(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function _A(){return Math.random().toString(36).substring(2,10)}function rv(r,e){return{usr:r.state,key:r.key,idx:e}}function _m(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?So(e):e,state:n,key:e&&e.key||s||_A()}}function Wl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function So(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function yA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,_=T();_==null&&(_=0,f.replaceState({...f.state,idx:_},""));function T(){return(f.state||{idx:null}).idx}function A(){m="POP";let F=T(),G=F==null?null:F-_;_=F,p&&p({action:m,location:Y.location,delta:G})}function R(F,G){m="PUSH";let Z=_m(Y.location,F,G);_=T()+1;let J=rv(Z,_),ce=Y.createHref(Z);try{f.pushState(J,"",ce)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(ce)}u&&p&&p({action:m,location:Y.location,delta:1})}function V(F,G){m="REPLACE";let Z=_m(Y.location,F,G);_=T();let J=rv(Z,_),ce=Y.createHref(Z);f.replaceState(J,"",ce),u&&p&&p({action:m,location:Y.location,delta:0})}function L(F){let G=o.location.origin!=="null"?o.location.origin:o.location.href,Z=typeof F=="string"?F:Wl(F);return Z=Z.replace(/ $/,"%20"),st(G,`No window.location.(origin|href) available to create URL for href: ${Z}`),new URL(Z,G)}let Y={get action(){return m},get location(){return r(o,f)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(iv,A),p=F,()=>{o.removeEventListener(iv,A),p=null}},createHref(F){return e(o,F)},createURL:L,encodeLocation(F){let G=L(F);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:R,replace:V,go(F){return f.go(F)}};return Y}function kE(r,e,n="/"){return vA(r,e,n,!1)}function vA(r,e,n,s){let o=typeof e=="string"?So(e):e,u=lr(o.pathname||"/",n);if(u==null)return null;let f=PE(r);EA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let _=NA(u);m=xA(f[p],_,s)}return m}function PE(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(st(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let _=sr([s,p.relativePath]),T=n.concat(p);u.children&&u.children.length>0&&(st(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),PE(u.children,e,T,_)),!(u.path==null&&!u.index)&&e.push({path:_,score:CA(_,u.index),routesMeta:T})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of LE(u.path))o(u,f,p)}),e}function LE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=LE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function EA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:IA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var TA=/^:[\w-]+$/,SA=3,wA=2,AA=1,bA=10,RA=-2,sv=r=>r==="*";function CA(r,e){let n=r.split("/"),s=n.length;return n.some(sv)&&(s+=RA),e&&(s+=wA),n.filter(o=>!sv(o)).reduce((o,u)=>o+(TA.test(u)?SA:u===""?AA:bA),s)}function IA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function xA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],_=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",A=uh({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},T),R=p.route;if(!A&&_&&n&&!s[s.length-1].route.index&&(A=uh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:sr([u,A.pathname]),pathnameBase:kA(sr([u,A.pathnameBase])),route:R}),A.pathnameBase!=="/"&&(u=sr([u,A.pathnameBase]))}return f}function uh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=DA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((_,{paramName:T,isOptional:A},R)=>{if(T==="*"){let L=m[R]||"";f=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const V=m[R];return A&&!V?_[T]=void 0:_[T]=(V||"").replace(/%2F/g,"/"),_},{}),pathname:u,pathnameBase:f,pattern:r}}function DA(r,e=!1,n=!0){Si(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function NA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Si(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function lr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function OA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?So(r):r;return{pathname:n?n.startsWith("/")?n:MA(n,e):e,search:PA(s),hash:LA(o)}}function MA(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function im(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function VA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function UE(r){let e=VA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function jE(r,e,n,s=!1){let o;typeof r=="string"?o=So(r):(o={...r},st(!o.pathname||!o.pathname.includes("?"),im("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),im("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),im("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),A-=1;o.pathname=R.join("/")}m=A>=0?e[A]:"/"}let p=OA(o,m),_=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(_||T)&&(p.pathname+="/"),p}var sr=r=>r.join("/").replace(/\/\/+/g,"/"),kA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),PA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,LA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function UA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var zE=["POST","PUT","PATCH","DELETE"];new Set(zE);var jA=["GET",...zE];new Set(jA);var wo=H.createContext(null);wo.displayName="DataRouter";var Ih=H.createContext(null);Ih.displayName="DataRouterState";var BE=H.createContext({isTransitioning:!1});BE.displayName="ViewTransition";var zA=H.createContext(new Map);zA.displayName="Fetchers";var BA=H.createContext(null);BA.displayName="Await";var Ci=H.createContext(null);Ci.displayName="Navigation";var ou=H.createContext(null);ou.displayName="Location";var Ii=H.createContext({outlet:null,matches:[],isDataRoute:!1});Ii.displayName="Route";var Gm=H.createContext(null);Gm.displayName="RouteError";function HA(r,{relative:e}={}){st(lu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=H.useContext(Ci),{hash:o,pathname:u,search:f}=uu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:sr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function lu(){return H.useContext(ou)!=null}function gs(){return st(lu(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(ou).location}var HE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qE(r){H.useContext(Ci).static||H.useLayoutEffect(r)}function _s(){let{isDataRoute:r}=H.useContext(Ii);return r?ib():qA()}function qA(){st(lu(),"useNavigate() may be used only in the context of a <Router> component.");let r=H.useContext(wo),{basename:e,navigator:n}=H.useContext(Ci),{matches:s}=H.useContext(Ii),{pathname:o}=gs(),u=JSON.stringify(UE(s)),f=H.useRef(!1);return qE(()=>{f.current=!0}),H.useCallback((p,_={})=>{if(Si(f.current,HE),!f.current)return;if(typeof p=="number"){n.go(p);return}let T=jE(p,JSON.parse(u),o,_.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:sr([e,T.pathname])),(_.replace?n.replace:n.push)(T,_.state,_)},[e,n,u,o,r])}var FE=H.createContext(null);function FA(){return H.useContext(FE)}function GA(r){let e=H.useContext(Ii).outlet;return e&&H.createElement(FE.Provider,{value:r},e)}function uu(r,{relative:e}={}){let{matches:n}=H.useContext(Ii),{pathname:s}=gs(),o=JSON.stringify(UE(n));return H.useMemo(()=>jE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function $A(r,e){return GE(r,e)}function GE(r,e,n,s){var Z;st(lu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=H.useContext(Ci),{matches:f}=H.useContext(Ii),m=f[f.length-1],p=m?m.params:{},_=m?m.pathname:"/",T=m?m.pathnameBase:"/",A=m&&m.route;{let J=A&&A.path||"";$E(_,!A||J.endsWith("*")||J.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${J}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${J}"> to <Route path="${J==="/"?"*":`${J}/*`}">.`)}let R=gs(),V;if(e){let J=typeof e=="string"?So(e):e;st(T==="/"||((Z=J.pathname)==null?void 0:Z.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${J.pathname}" was given in the \`location\` prop.`),V=J}else V=R;let L=V.pathname||"/",Y=L;if(T!=="/"){let J=T.replace(/^\//,"").split("/");Y="/"+L.replace(/^\//,"").split("/").slice(J.length).join("/")}let F=!u&&n&&n.matches&&n.matches.length>0?n.matches:kE(r,{pathname:Y});Si(A||F!=null,`No routes matched location "${V.pathname}${V.search}${V.hash}" `),Si(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${V.pathname}${V.search}${V.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=WA(F&&F.map(J=>Object.assign({},J,{params:Object.assign({},p,J.params),pathname:sr([T,o.encodeLocation?o.encodeLocation(J.pathname).pathname:J.pathname]),pathnameBase:J.pathnameBase==="/"?T:sr([T,o.encodeLocation?o.encodeLocation(J.pathnameBase).pathname:J.pathnameBase])})),f,n,s);return e&&G?H.createElement(ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...V},navigationType:"POP"}},G):G}function KA(){let r=nb(),e=UA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:o},n):null,f)}var QA=H.createElement(KA,null),YA=class extends H.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?H.createElement(Ii.Provider,{value:this.props.routeContext},H.createElement(Gm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function XA({routeContext:r,match:e,children:n}){let s=H.useContext(wo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(Ii.Provider,{value:r},n)}function WA(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);st(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let _=o[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=p),_.route.id){let{loaderData:T,errors:A}=n,R=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||R){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,_,T)=>{let A,R=!1,V=null,L=null;n&&(A=u&&_.route.id?u[_.route.id]:void 0,V=_.route.errorElement||QA,f&&(m<0&&T===0?($E("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,L=null):m===T&&(R=!0,L=_.route.hydrateFallbackElement||null)));let Y=e.concat(o.slice(0,T+1)),F=()=>{let G;return A?G=V:R?G=L:_.route.Component?G=H.createElement(_.route.Component,null):_.route.element?G=_.route.element:G=p,H.createElement(XA,{match:_,routeContext:{outlet:p,matches:Y,isDataRoute:n!=null},children:G})};return n&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?H.createElement(YA,{location:n.location,revalidation:n.revalidation,component:V,error:A,children:F(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):F()},null)}function $m(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZA(r){let e=H.useContext(wo);return st(e,$m(r)),e}function JA(r){let e=H.useContext(Ih);return st(e,$m(r)),e}function eb(r){let e=H.useContext(Ii);return st(e,$m(r)),e}function Km(r){let e=eb(r),n=e.matches[e.matches.length-1];return st(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function tb(){return Km("useRouteId")}function nb(){var s;let r=H.useContext(Gm),e=JA("useRouteError"),n=Km("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function ib(){let{router:r}=ZA("useNavigate"),e=Km("useNavigate"),n=H.useRef(!1);return qE(()=>{n.current=!0}),H.useCallback(async(o,u={})=>{Si(n.current,HE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var av={};function $E(r,e,n){!e&&!av[r]&&(av[r]=!0,Si(!1,n))}H.memo(rb);function rb({routes:r,future:e,state:n}){return GE(r,void 0,n,e)}function sb(r){return GA(r.context)}function Fn(r){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ab({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){st(!lu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=So(n));let{pathname:p="/",search:_="",hash:T="",state:A=null,key:R="default"}=n,V=H.useMemo(()=>{let L=lr(p,f);return L==null?null:{location:{pathname:L,search:_,hash:T,state:A,key:R},navigationType:s}},[f,p,_,T,A,R,s]);return Si(V!=null,`<Router basename="${f}"> is not able to match the URL "${p}${_}${T}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:H.createElement(Ci.Provider,{value:m},H.createElement(ou.Provider,{children:e,value:V}))}function ob({children:r,location:e}){return $A(ym(r),e)}function ym(r,e=[]){let n=[];return H.Children.forEach(r,(s,o)=>{if(!H.isValidElement(s))return;let u=[...e,o];if(s.type===H.Fragment){n.push.apply(n,ym(s.props.children,u));return}st(s.type===Fn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=ym(s.props.children,u)),n.push(f)}),n}var Wc="get",Zc="application/x-www-form-urlencoded";function xh(r){return r!=null&&typeof r.tagName=="string"}function lb(r){return xh(r)&&r.tagName.toLowerCase()==="button"}function ub(r){return xh(r)&&r.tagName.toLowerCase()==="form"}function cb(r){return xh(r)&&r.tagName.toLowerCase()==="input"}function hb(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function fb(r,e){return r.button===0&&(!e||e==="_self")&&!hb(r)}var qc=null;function db(){if(qc===null)try{new FormData(document.createElement("form"),0),qc=!1}catch{qc=!0}return qc}var mb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rm(r){return r!=null&&!mb.has(r)?(Si(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zc}"`),null):r}function pb(r,e){let n,s,o,u,f;if(ub(r)){let m=r.getAttribute("action");s=m?lr(m,e):null,n=r.getAttribute("method")||Wc,o=rm(r.getAttribute("enctype"))||Zc,u=new FormData(r)}else if(lb(r)||cb(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?lr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Wc,o=rm(r.getAttribute("formenctype"))||rm(m.getAttribute("enctype"))||Zc,u=new FormData(m,r),!db()){let{name:_,type:T,value:A}=r;if(T==="image"){let R=_?`${_}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else _&&u.append(_,A)}}else{if(xh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wc,s=null,o=Zc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Qm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function gb(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function _b(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function yb(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await gb(u,n);return f.links?f.links():[]}return[]}));return Sb(s.flat(1).filter(_b).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function ov(r,e,n,s,o,u){let f=(p,_)=>n[_]?p.route.id!==n[_].route.id:!0,m=(p,_)=>{var T;return n[_].pathname!==p.pathname||((T=n[_].route.path)==null?void 0:T.endsWith("*"))&&n[_].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,_)=>f(p,_)||m(p,_)):u==="data"?e.filter((p,_)=>{var A;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,_)||m(p,_))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function vb(r,e,{includeHydrateFallback:n}={}){return Eb(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function Eb(r){return[...new Set(r)]}function Tb(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Sb(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Tb(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function wb(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&lr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function KE(){let r=H.useContext(wo);return Qm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Ab(){let r=H.useContext(Ih);return Qm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ym=H.createContext(void 0);Ym.displayName="FrameworkContext";function QE(){let r=H.useContext(Ym);return Qm(r,"You must render this element inside a <HydratedRouter> element"),r}function bb(r,e){let n=H.useContext(Ym),[s,o]=H.useState(!1),[u,f]=H.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:_,onMouseLeave:T,onTouchStart:A}=e,R=H.useRef(null);H.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Y=G=>{G.forEach(Z=>{f(Z.isIntersecting)})},F=new IntersectionObserver(Y,{threshold:.5});return R.current&&F.observe(R.current),()=>{F.disconnect()}}},[r]),H.useEffect(()=>{if(s){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let V=()=>{o(!0)},L=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:jl(m,V),onBlur:jl(p,L),onMouseEnter:jl(_,V),onMouseLeave:jl(T,L),onTouchStart:jl(A,V)}]:[!1,R,{}]}function jl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Rb({page:r,...e}){let{router:n}=KE(),s=H.useMemo(()=>kE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?H.createElement(Ib,{page:r,matches:s,...e}):null}function Cb(r){let{manifest:e,routeModules:n}=QE(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return yb(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function Ib({page:r,matches:e,...n}){let s=gs(),{manifest:o,routeModules:u}=QE(),{basename:f}=KE(),{loaderData:m,matches:p}=Ab(),_=H.useMemo(()=>ov(r,e,p,o,s,"data"),[r,e,p,o,s]),T=H.useMemo(()=>ov(r,e,p,o,s,"assets"),[r,e,p,o,s]),A=H.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let L=new Set,Y=!1;if(e.forEach(G=>{var J;let Z=o.routes[G.route.id];!Z||!Z.hasLoader||(!_.some(ce=>ce.route.id===G.route.id)&&G.route.id in m&&((J=u[G.route.id])!=null&&J.shouldRevalidate)||Z.hasClientLoader?Y=!0:L.add(G.route.id))}),L.size===0)return[];let F=wb(r,f);return Y&&L.size>0&&F.searchParams.set("_routes",e.filter(G=>L.has(G.route.id)).map(G=>G.route.id).join(",")),[F.pathname+F.search]},[f,m,s,o,_,e,r,u]),R=H.useMemo(()=>vb(T,o),[T,o]),V=Cb(T);return H.createElement(H.Fragment,null,A.map(L=>H.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),R.map(L=>H.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),V.map(({key:L,link:Y})=>H.createElement("link",{key:L,...Y})))}function xb(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var YE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{YE&&(window.__reactRouterVersion="7.3.0")}catch{}function Db({basename:r,children:e,window:n}){let s=H.useRef();s.current==null&&(s.current=gA({window:n,v5Compat:!0}));let o=s.current,[u,f]=H.useState({action:o.action,location:o.location}),m=H.useCallback(p=>{H.startTransition(()=>f(p))},[f]);return H.useLayoutEffect(()=>o.listen(m),[o,m]),H.createElement(ab,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var XE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=H.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:_,preventScrollReset:T,viewTransition:A,...R},V){let{basename:L}=H.useContext(Ci),Y=typeof _=="string"&&XE.test(_),F,G=!1;if(typeof _=="string"&&Y&&(F=_,YE))try{let b=new URL(window.location.href),x=_.startsWith("//")?new URL(b.protocol+_):new URL(_),k=lr(x.pathname,L);x.origin===b.origin&&k!=null?_=k+x.search+x.hash:G=!0}catch{Si(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Z=HA(_,{relative:o}),[J,ce,ue]=bb(s,R),Se=Vb(_,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:A});function O(b){e&&e(b),b.defaultPrevented||Se(b)}let C=H.createElement("a",{...R,...ue,href:F||Z,onClick:G||u?e:O,ref:xb(V,ce),target:p,"data-discover":!Y&&n==="render"?"true":void 0});return J&&!Y?H.createElement(H.Fragment,null,C,H.createElement(Rb,{page:Z})):C});_e.displayName="Link";var Nb=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,..._},T){let A=uu(f,{relative:_.relative}),R=gs(),V=H.useContext(Ih),{navigator:L,basename:Y}=H.useContext(Ci),F=V!=null&&jb(A)&&m===!0,G=L.encodeLocation?L.encodeLocation(A).pathname:A.pathname,Z=R.pathname,J=V&&V.navigation&&V.navigation.location?V.navigation.location.pathname:null;n||(Z=Z.toLowerCase(),J=J?J.toLowerCase():null,G=G.toLowerCase()),J&&Y&&(J=lr(J,Y)||J);const ce=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let ue=Z===G||!o&&Z.startsWith(G)&&Z.charAt(ce)==="/",Se=J!=null&&(J===G||!o&&J.startsWith(G)&&J.charAt(G.length)==="/"),O={isActive:ue,isPending:Se,isTransitioning:F},C=ue?e:void 0,b;typeof s=="function"?b=s(O):b=[s,ue?"active":null,Se?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(O):u;return H.createElement(_e,{..._,"aria-current":C,className:b,ref:T,style:x,to:f,viewTransition:m},typeof p=="function"?p(O):p)});Nb.displayName="NavLink";var Ob=H.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Wc,action:m,onSubmit:p,relative:_,preventScrollReset:T,viewTransition:A,...R},V)=>{let L=Lb(),Y=Ub(m,{relative:_}),F=f.toLowerCase()==="get"?"get":"post",G=typeof m=="string"&&XE.test(m),Z=J=>{if(p&&p(J),J.defaultPrevented)return;J.preventDefault();let ce=J.nativeEvent.submitter,ue=(ce==null?void 0:ce.getAttribute("formmethod"))||f;L(ce||J.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:o,state:u,relative:_,preventScrollReset:T,viewTransition:A})};return H.createElement("form",{ref:V,method:F,action:Y,onSubmit:s?p:Z,...R,"data-discover":!G&&r==="render"?"true":void 0})});Ob.displayName="Form";function Mb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function WE(r){let e=H.useContext(wo);return st(e,Mb(r)),e}function Vb(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=_s(),p=gs(),_=uu(r,{relative:u});return H.useCallback(T=>{if(fb(T,e)){T.preventDefault();let A=n!==void 0?n:Wl(p)===Wl(_);m(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,_,n,s,e,r,o,u,f])}var kb=0,Pb=()=>`__${String(++kb)}__`;function Lb(){let{router:r}=WE("useSubmit"),{basename:e}=H.useContext(Ci),n=tb();return H.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:_}=pb(s,e);if(o.navigate===!1){let T=o.fetcherKey||Pb();await r.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function Ub(r,{relative:e}={}){let{basename:n}=H.useContext(Ci),s=H.useContext(Ii);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...uu(r||".",{relative:e})},f=gs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:sr([n,u.pathname])),Wl(u)}function jb(r,e={}){let n=H.useContext(BE);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=WE("useViewTransitionState"),o=uu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=lr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=lr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return uh(o.pathname,f)!=null||uh(o.pathname,u)!=null}new TextEncoder;const zb="_container_pir9d_11",Bb="_main_pir9d_29",Hb="_logo_pir9d_43",qb="_h2_pir9d_51",Fb="_happening_pir9d_61",Gb="_nav_pir9d_73",$b="_button_pir9d_87",Kb="_awesome_pir9d_123",Qb="_separator_pir9d_229",Yb="_hr_pir9d_251",Xb="_terms_pir9d_259",Wb="_ul_pir9d_277",Zb="_li_pir9d_303",Jb="_flexli_pir9d_311",Oe={container:zb,main:Bb,logo:Hb,h2:qb,happening:Fb,nav:Gb,button:$b,awesome:Kb,separator:Qb,hr:Yb,terms:Xb,ul:Wb,li:Zb,flexli:Jb};function eR(){return E.jsxs("div",{className:Oe.container,children:[E.jsxs("main",{className:Oe.main,children:[E.jsx("h1",{className:Oe.logo,children:"At"}),E.jsxs("div",{children:[E.jsx("h1",{className:Oe.happening,children:"Happening now"}),E.jsx("h2",{className:Oe.h2,children:"Join Today."}),E.jsxs("nav",{className:Oe.nav,children:[E.jsxs(_e,{to:"/react-regular-exam/about",className:`${Oe.button} ${Oe.awesome}`,children:[E.jsx("i",{className:"fa-brands fa-google"}),"Sign up with Google"]}),E.jsxs(_e,{to:"/react-regular-exam/about",className:`${Oe.button} ${Oe.awesome}`,children:[E.jsx("i",{className:"fa-brands fa-apple"}),"Sign up with Apple"]}),E.jsxs("div",{className:Oe.separator,children:[E.jsx("hr",{className:Oe.hr}),E.jsx("p",{children:"or"}),E.jsx("hr",{className:Oe.hr})]}),E.jsx(_e,{to:"/react-regular-exam/create",className:Oe.button,children:"Create account"}),E.jsxs("p",{className:Oe.terms,children:["By signing up, you agree of the ",E.jsx(_e,{to:"/react-regular-exam/about",children:"Term of Service"}),"and ",E.jsx(_e,{to:"/react-regular-exam/about",children:"Privacy Policy"}),", incliding ",E.jsx(_e,{to:"/react-regular-exam/about",children:"Cookie Use."})]}),E.jsx("p",{id:"account",children:"Already have an account?"}),E.jsx(_e,{to:"/react-regular-exam/login",className:Oe.button,children:"Sign in"}),E.jsx("p",{children:"Take a look:"}),E.jsx(_e,{to:"/react-regular-exam/guest",className:Oe.button,children:"Guest"})]})]})]}),E.jsx("footer",{children:E.jsxs("ul",{className:Oe.ul,children:[E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"About"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Download the At app"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Help Center"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Terms of Service"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Privacy Policy"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Cookie Policy"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Accessibillity"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Ads Info"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Blog"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Careers"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Brand Resources"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Advertising"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Marketing"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"At for Business"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Developers"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Directory"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Settings"})}),E.jsx("li",{className:Oe.li,children:E.jsxs(_e,{to:"/react-regular-exam/about",className:Oe.flexli,href:"#",children:[E.jsx("i",{className:"fa-regular fa-copyright"}),"2025 X Corp"]})})]})})]})}const tR="_container_t0tol_1",nR="_nav_t0tol_15",iR="_i_t0tol_25",rR="_main_t0tol_125",sR="_search_t0tol_143",aR="_meta_t0tol_181",oR="_post_t0tol_211",lR="_feedback_t0tol_245",mn={container:tR,nav:nR,i:iR,main:rR,search:sR,meta:aR,post:oR,feedback:lR},uR=()=>{};var lv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},cR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},JE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,_=p?r[o+2]:0,T=u>>2,A=(u&3)<<4|m>>4;let R=(m&15)<<2|_>>6,V=_&63;p||(V=64,f||(R=64)),s.push(n[T],n[A],n[R],n[V])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(ZE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):cR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const _=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||_==null||A==null)throw new hR;const R=u<<2|m>>4;if(s.push(R),_!==64){const V=m<<4&240|_>>2;if(s.push(V),A!==64){const L=_<<6&192|A;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class hR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const fR=function(r){const e=ZE(r);return JE.encodeByteArray(e,!0)},ch=function(r){return fR(r).replace(/\./g,"")},eT=function(r){try{return JE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR=()=>dR().__FIREBASE_DEFAULTS__,pR=()=>{if(typeof process>"u"||typeof lv>"u")return;const r=lv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},gR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&eT(r[1]);return e&&JSON.parse(e)},Dh=()=>{try{return uR()||mR()||pR()||gR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},tT=r=>{var e,n;return(n=(e=Dh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},_R=r=>{const e=tT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},nT=()=>{var r;return(r=Dh())===null||r===void 0?void 0:r.config},iT=r=>{var e;return(e=Dh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[ch(JSON.stringify(n)),ch(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ER(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function TR(){var r;const e=(r=Dh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function SR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function wR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function AR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bR(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function RR(){return!TR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CR(){try{return typeof indexedDB=="object"}catch{return!1}}function IR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR="FirebaseError";class dr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=xR,Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?DR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new dr(o,m,s)}}function DR(r,e){return r.replace(NR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const NR=/\{\$([^}]+)}/g;function OR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function us(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(uv(u)&&uv(f)){if(!us(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function uv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function zl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Bl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function MR(r,e){const n=new VR(r,e);return n.subscribe.bind(n)}class VR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");kR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=sm),o.error===void 0&&(o.error=sm),o.complete===void 0&&(o.complete=sm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function sm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(r){return r&&r._delegate?r._delegate:r}class ia{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new yR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(UR(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:LR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function LR(r){return r===ta?void 0:r}function UR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new PR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const zR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},BR=Me.INFO,HR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},qR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=HR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Xm{constructor(e){this.name=e,this._logLevel=BR,this._logHandler=qR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?zR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const FR=(r,e)=>e.some(n=>r instanceof n);let cv,hv;function GR(){return cv||(cv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $R(){return hv||(hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rT=new WeakMap,vm=new WeakMap,sT=new WeakMap,am=new WeakMap,Wm=new WeakMap;function KR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(rs(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&rT.set(n,r)}).catch(()=>{}),Wm.set(e,r),e}function QR(r){if(vm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});vm.set(r,e)}let Em={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return vm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||sT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function YR(r){Em=r(Em)}function XR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(om(this),e,...n);return sT.set(s,e.sort?e.sort():[e]),rs(s)}:$R().includes(r)?function(...e){return r.apply(om(this),e),rs(rT.get(this))}:function(...e){return rs(r.apply(om(this),e))}}function WR(r){return typeof r=="function"?XR(r):(r instanceof IDBTransaction&&QR(r),FR(r,GR())?new Proxy(r,Em):r)}function rs(r){if(r instanceof IDBRequest)return KR(r);if(am.has(r))return am.get(r);const e=WR(r);return e!==r&&(am.set(r,e),Wm.set(e,r)),e}const om=r=>Wm.get(r);function ZR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=rs(f);return s&&f.addEventListener("upgradeneeded",p=>{s(rs(f.result),p.oldVersion,p.newVersion,rs(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const JR=["get","getKey","getAll","getAllKeys","count"],e1=["put","add","delete","clear"],lm=new Map;function fv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(lm.get(e))return lm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=e1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||JR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),o&&p.done]))[0]};return lm.set(e,u),u}YR(r=>({...r,get:(e,n,s)=>fv(e,n)||r.get(e,n,s),has:(e,n)=>!!fv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(n1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function n1(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Tm="@firebase/app",dv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ur=new Xm("@firebase/app"),i1="@firebase/app-compat",r1="@firebase/analytics-compat",s1="@firebase/analytics",a1="@firebase/app-check-compat",o1="@firebase/app-check",l1="@firebase/auth",u1="@firebase/auth-compat",c1="@firebase/database",h1="@firebase/data-connect",f1="@firebase/database-compat",d1="@firebase/functions",m1="@firebase/functions-compat",p1="@firebase/installations",g1="@firebase/installations-compat",_1="@firebase/messaging",y1="@firebase/messaging-compat",v1="@firebase/performance",E1="@firebase/performance-compat",T1="@firebase/remote-config",S1="@firebase/remote-config-compat",w1="@firebase/storage",A1="@firebase/storage-compat",b1="@firebase/firestore",R1="@firebase/vertexai",C1="@firebase/firestore-compat",I1="firebase",x1="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="[DEFAULT]",D1={[Tm]:"fire-core",[i1]:"fire-core-compat",[s1]:"fire-analytics",[r1]:"fire-analytics-compat",[o1]:"fire-app-check",[a1]:"fire-app-check-compat",[l1]:"fire-auth",[u1]:"fire-auth-compat",[c1]:"fire-rtdb",[h1]:"fire-data-connect",[f1]:"fire-rtdb-compat",[d1]:"fire-fn",[m1]:"fire-fn-compat",[p1]:"fire-iid",[g1]:"fire-iid-compat",[_1]:"fire-fcm",[y1]:"fire-fcm-compat",[v1]:"fire-perf",[E1]:"fire-perf-compat",[T1]:"fire-rc",[S1]:"fire-rc-compat",[w1]:"fire-gcs",[A1]:"fire-gcs-compat",[b1]:"fire-fst",[C1]:"fire-fst-compat",[R1]:"fire-vertex","fire-js":"fire-js",[I1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Map,N1=new Map,wm=new Map;function mv(r,e){try{r.container.addComponent(e)}catch(n){ur.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function fo(r){const e=r.name;if(wm.has(e))return ur.debug(`There were multiple attempts to register component ${e}.`),!1;wm.set(e,r);for(const n of hh.values())mv(n,r);for(const n of N1.values())mv(n,r);return!0}function Zm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Gn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ss=new cu("app","Firebase",O1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ss.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=x1;function aT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Sm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ss.create("bad-app-name",{appName:String(o)});if(n||(n=nT()),!n)throw ss.create("no-options");const u=hh.get(o);if(u){if(us(n,u.options)&&us(s,u.config))return u;throw ss.create("duplicate-app",{appName:o})}const f=new jR(o);for(const p of wm.values())f.addComponent(p);const m=new M1(n,s,f);return hh.set(o,m),m}function oT(r=Sm){const e=hh.get(r);if(!e&&r===Sm&&nT())return aT();if(!e)throw ss.create("no-app",{appName:r});return e}function as(r,e,n){var s;let o=(s=D1[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ur.warn(m.join(" "));return}fo(new ia(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1="firebase-heartbeat-database",k1=1,Zl="firebase-heartbeat-store";let um=null;function lT(){return um||(um=ZR(V1,k1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(r=>{throw ss.create("idb-open",{originalErrorMessage:r.message})})),um}async function P1(r){try{const n=(await lT()).transaction(Zl),s=await n.objectStore(Zl).get(uT(r));return await n.done,s}catch(e){if(e instanceof dr)ur.warn(e.message);else{const n=ss.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ur.warn(n.message)}}}async function pv(r,e){try{const s=(await lT()).transaction(Zl,"readwrite");await s.objectStore(Zl).put(e,uT(r)),await s.done}catch(n){if(n instanceof dr)ur.warn(n.message);else{const s=ss.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ur.warn(s.message)}}}function uT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=1024,U1=30;class j1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new B1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=gv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>U1){const f=H1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ur.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gv(),{heartbeatsToSend:s,unsentEntries:o}=z1(this._heartbeatsCache.heartbeats),u=ch(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ur.warn(n),""}}}function gv(){return new Date().toISOString().substring(0,10)}function z1(r,e=L1){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),_v(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),_v(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class B1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CR()?IR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await P1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return pv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return pv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function _v(r){return ch(JSON.stringify({version:2,heartbeats:r})).length}function H1(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q1(r){fo(new ia("platform-logger",e=>new t1(e),"PRIVATE")),fo(new ia("heartbeat",e=>new j1(e),"PRIVATE")),as(Tm,dv,r),as(Tm,dv,"esm2017"),as("fire-js","")}q1("");var yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var os,cT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,C){function b(){}b.prototype=C.prototype,O.D=C.prototype,O.prototype=new b,O.prototype.constructor=O,O.C=function(x,k,z){for(var D=Array(arguments.length-2),St=2;St<arguments.length;St++)D[St-2]=arguments[St];return C.prototype[k].apply(x,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,C,b){b||(b=0);var x=Array(16);if(typeof C=="string")for(var k=0;16>k;++k)x[k]=C.charCodeAt(b++)|C.charCodeAt(b++)<<8|C.charCodeAt(b++)<<16|C.charCodeAt(b++)<<24;else for(k=0;16>k;++k)x[k]=C[b++]|C[b++]<<8|C[b++]<<16|C[b++]<<24;C=O.g[0],b=O.g[1],k=O.g[2];var z=O.g[3],D=C+(z^b&(k^z))+x[0]+3614090360&4294967295;C=b+(D<<7&4294967295|D>>>25),D=z+(k^C&(b^k))+x[1]+3905402710&4294967295,z=C+(D<<12&4294967295|D>>>20),D=k+(b^z&(C^b))+x[2]+606105819&4294967295,k=z+(D<<17&4294967295|D>>>15),D=b+(C^k&(z^C))+x[3]+3250441966&4294967295,b=k+(D<<22&4294967295|D>>>10),D=C+(z^b&(k^z))+x[4]+4118548399&4294967295,C=b+(D<<7&4294967295|D>>>25),D=z+(k^C&(b^k))+x[5]+1200080426&4294967295,z=C+(D<<12&4294967295|D>>>20),D=k+(b^z&(C^b))+x[6]+2821735955&4294967295,k=z+(D<<17&4294967295|D>>>15),D=b+(C^k&(z^C))+x[7]+4249261313&4294967295,b=k+(D<<22&4294967295|D>>>10),D=C+(z^b&(k^z))+x[8]+1770035416&4294967295,C=b+(D<<7&4294967295|D>>>25),D=z+(k^C&(b^k))+x[9]+2336552879&4294967295,z=C+(D<<12&4294967295|D>>>20),D=k+(b^z&(C^b))+x[10]+4294925233&4294967295,k=z+(D<<17&4294967295|D>>>15),D=b+(C^k&(z^C))+x[11]+2304563134&4294967295,b=k+(D<<22&4294967295|D>>>10),D=C+(z^b&(k^z))+x[12]+1804603682&4294967295,C=b+(D<<7&4294967295|D>>>25),D=z+(k^C&(b^k))+x[13]+4254626195&4294967295,z=C+(D<<12&4294967295|D>>>20),D=k+(b^z&(C^b))+x[14]+2792965006&4294967295,k=z+(D<<17&4294967295|D>>>15),D=b+(C^k&(z^C))+x[15]+1236535329&4294967295,b=k+(D<<22&4294967295|D>>>10),D=C+(k^z&(b^k))+x[1]+4129170786&4294967295,C=b+(D<<5&4294967295|D>>>27),D=z+(b^k&(C^b))+x[6]+3225465664&4294967295,z=C+(D<<9&4294967295|D>>>23),D=k+(C^b&(z^C))+x[11]+643717713&4294967295,k=z+(D<<14&4294967295|D>>>18),D=b+(z^C&(k^z))+x[0]+3921069994&4294967295,b=k+(D<<20&4294967295|D>>>12),D=C+(k^z&(b^k))+x[5]+3593408605&4294967295,C=b+(D<<5&4294967295|D>>>27),D=z+(b^k&(C^b))+x[10]+38016083&4294967295,z=C+(D<<9&4294967295|D>>>23),D=k+(C^b&(z^C))+x[15]+3634488961&4294967295,k=z+(D<<14&4294967295|D>>>18),D=b+(z^C&(k^z))+x[4]+3889429448&4294967295,b=k+(D<<20&4294967295|D>>>12),D=C+(k^z&(b^k))+x[9]+568446438&4294967295,C=b+(D<<5&4294967295|D>>>27),D=z+(b^k&(C^b))+x[14]+3275163606&4294967295,z=C+(D<<9&4294967295|D>>>23),D=k+(C^b&(z^C))+x[3]+4107603335&4294967295,k=z+(D<<14&4294967295|D>>>18),D=b+(z^C&(k^z))+x[8]+1163531501&4294967295,b=k+(D<<20&4294967295|D>>>12),D=C+(k^z&(b^k))+x[13]+2850285829&4294967295,C=b+(D<<5&4294967295|D>>>27),D=z+(b^k&(C^b))+x[2]+4243563512&4294967295,z=C+(D<<9&4294967295|D>>>23),D=k+(C^b&(z^C))+x[7]+1735328473&4294967295,k=z+(D<<14&4294967295|D>>>18),D=b+(z^C&(k^z))+x[12]+2368359562&4294967295,b=k+(D<<20&4294967295|D>>>12),D=C+(b^k^z)+x[5]+4294588738&4294967295,C=b+(D<<4&4294967295|D>>>28),D=z+(C^b^k)+x[8]+2272392833&4294967295,z=C+(D<<11&4294967295|D>>>21),D=k+(z^C^b)+x[11]+1839030562&4294967295,k=z+(D<<16&4294967295|D>>>16),D=b+(k^z^C)+x[14]+4259657740&4294967295,b=k+(D<<23&4294967295|D>>>9),D=C+(b^k^z)+x[1]+2763975236&4294967295,C=b+(D<<4&4294967295|D>>>28),D=z+(C^b^k)+x[4]+1272893353&4294967295,z=C+(D<<11&4294967295|D>>>21),D=k+(z^C^b)+x[7]+4139469664&4294967295,k=z+(D<<16&4294967295|D>>>16),D=b+(k^z^C)+x[10]+3200236656&4294967295,b=k+(D<<23&4294967295|D>>>9),D=C+(b^k^z)+x[13]+681279174&4294967295,C=b+(D<<4&4294967295|D>>>28),D=z+(C^b^k)+x[0]+3936430074&4294967295,z=C+(D<<11&4294967295|D>>>21),D=k+(z^C^b)+x[3]+3572445317&4294967295,k=z+(D<<16&4294967295|D>>>16),D=b+(k^z^C)+x[6]+76029189&4294967295,b=k+(D<<23&4294967295|D>>>9),D=C+(b^k^z)+x[9]+3654602809&4294967295,C=b+(D<<4&4294967295|D>>>28),D=z+(C^b^k)+x[12]+3873151461&4294967295,z=C+(D<<11&4294967295|D>>>21),D=k+(z^C^b)+x[15]+530742520&4294967295,k=z+(D<<16&4294967295|D>>>16),D=b+(k^z^C)+x[2]+3299628645&4294967295,b=k+(D<<23&4294967295|D>>>9),D=C+(k^(b|~z))+x[0]+4096336452&4294967295,C=b+(D<<6&4294967295|D>>>26),D=z+(b^(C|~k))+x[7]+1126891415&4294967295,z=C+(D<<10&4294967295|D>>>22),D=k+(C^(z|~b))+x[14]+2878612391&4294967295,k=z+(D<<15&4294967295|D>>>17),D=b+(z^(k|~C))+x[5]+4237533241&4294967295,b=k+(D<<21&4294967295|D>>>11),D=C+(k^(b|~z))+x[12]+1700485571&4294967295,C=b+(D<<6&4294967295|D>>>26),D=z+(b^(C|~k))+x[3]+2399980690&4294967295,z=C+(D<<10&4294967295|D>>>22),D=k+(C^(z|~b))+x[10]+4293915773&4294967295,k=z+(D<<15&4294967295|D>>>17),D=b+(z^(k|~C))+x[1]+2240044497&4294967295,b=k+(D<<21&4294967295|D>>>11),D=C+(k^(b|~z))+x[8]+1873313359&4294967295,C=b+(D<<6&4294967295|D>>>26),D=z+(b^(C|~k))+x[15]+4264355552&4294967295,z=C+(D<<10&4294967295|D>>>22),D=k+(C^(z|~b))+x[6]+2734768916&4294967295,k=z+(D<<15&4294967295|D>>>17),D=b+(z^(k|~C))+x[13]+1309151649&4294967295,b=k+(D<<21&4294967295|D>>>11),D=C+(k^(b|~z))+x[4]+4149444226&4294967295,C=b+(D<<6&4294967295|D>>>26),D=z+(b^(C|~k))+x[11]+3174756917&4294967295,z=C+(D<<10&4294967295|D>>>22),D=k+(C^(z|~b))+x[2]+718787259&4294967295,k=z+(D<<15&4294967295|D>>>17),D=b+(z^(k|~C))+x[9]+3951481745&4294967295,O.g[0]=O.g[0]+C&4294967295,O.g[1]=O.g[1]+(k+(D<<21&4294967295|D>>>11))&4294967295,O.g[2]=O.g[2]+k&4294967295,O.g[3]=O.g[3]+z&4294967295}s.prototype.u=function(O,C){C===void 0&&(C=O.length);for(var b=C-this.blockSize,x=this.B,k=this.h,z=0;z<C;){if(k==0)for(;z<=b;)o(this,O,z),z+=this.blockSize;if(typeof O=="string"){for(;z<C;)if(x[k++]=O.charCodeAt(z++),k==this.blockSize){o(this,x),k=0;break}}else for(;z<C;)if(x[k++]=O[z++],k==this.blockSize){o(this,x),k=0;break}}this.h=k,this.o+=C},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var C=1;C<O.length-8;++C)O[C]=0;var b=8*this.o;for(C=O.length-8;C<O.length;++C)O[C]=b&255,b/=256;for(this.u(O),O=Array(16),C=b=0;4>C;++C)for(var x=0;32>x;x+=8)O[b++]=this.g[C]>>>x&255;return O};function u(O,C){var b=m;return Object.prototype.hasOwnProperty.call(b,O)?b[O]:b[O]=C(O)}function f(O,C){this.h=C;for(var b=[],x=!0,k=O.length-1;0<=k;k--){var z=O[k]|0;x&&z==C||(b[k]=z,x=!1)}this.g=b}var m={};function p(O){return-128<=O&&128>O?u(O,function(C){return new f([C|0],0>C?-1:0)}):new f([O|0],0>O?-1:0)}function _(O){if(isNaN(O)||!isFinite(O))return A;if(0>O)return F(_(-O));for(var C=[],b=1,x=0;O>=b;x++)C[x]=O/b|0,b*=4294967296;return new f(C,0)}function T(O,C){if(O.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(O.charAt(0)=="-")return F(T(O.substring(1),C));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=_(Math.pow(C,8)),x=A,k=0;k<O.length;k+=8){var z=Math.min(8,O.length-k),D=parseInt(O.substring(k,k+z),C);8>z?(z=_(Math.pow(C,z)),x=x.j(z).add(_(D))):(x=x.j(b),x=x.add(_(D)))}return x}var A=p(0),R=p(1),V=p(16777216);r=f.prototype,r.m=function(){if(Y(this))return-F(this).m();for(var O=0,C=1,b=0;b<this.g.length;b++){var x=this.i(b);O+=(0<=x?x:4294967296+x)*C,C*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(L(this))return"0";if(Y(this))return"-"+F(this).toString(O);for(var C=_(Math.pow(O,6)),b=this,x="";;){var k=ce(b,C).g;b=G(b,k.j(C));var z=((0<b.g.length?b.g[0]:b.h)>>>0).toString(O);if(b=k,L(b))return z+x;for(;6>z.length;)z="0"+z;x=z+x}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function L(O){if(O.h!=0)return!1;for(var C=0;C<O.g.length;C++)if(O.g[C]!=0)return!1;return!0}function Y(O){return O.h==-1}r.l=function(O){return O=G(this,O),Y(O)?-1:L(O)?0:1};function F(O){for(var C=O.g.length,b=[],x=0;x<C;x++)b[x]=~O.g[x];return new f(b,~O.h).add(R)}r.abs=function(){return Y(this)?F(this):this},r.add=function(O){for(var C=Math.max(this.g.length,O.g.length),b=[],x=0,k=0;k<=C;k++){var z=x+(this.i(k)&65535)+(O.i(k)&65535),D=(z>>>16)+(this.i(k)>>>16)+(O.i(k)>>>16);x=D>>>16,z&=65535,D&=65535,b[k]=D<<16|z}return new f(b,b[b.length-1]&-2147483648?-1:0)};function G(O,C){return O.add(F(C))}r.j=function(O){if(L(this)||L(O))return A;if(Y(this))return Y(O)?F(this).j(F(O)):F(F(this).j(O));if(Y(O))return F(this.j(F(O)));if(0>this.l(V)&&0>O.l(V))return _(this.m()*O.m());for(var C=this.g.length+O.g.length,b=[],x=0;x<2*C;x++)b[x]=0;for(x=0;x<this.g.length;x++)for(var k=0;k<O.g.length;k++){var z=this.i(x)>>>16,D=this.i(x)&65535,St=O.i(k)>>>16,gt=O.i(k)&65535;b[2*x+2*k]+=D*gt,Z(b,2*x+2*k),b[2*x+2*k+1]+=z*gt,Z(b,2*x+2*k+1),b[2*x+2*k+1]+=D*St,Z(b,2*x+2*k+1),b[2*x+2*k+2]+=z*St,Z(b,2*x+2*k+2)}for(x=0;x<C;x++)b[x]=b[2*x+1]<<16|b[2*x];for(x=C;x<2*C;x++)b[x]=0;return new f(b,0)};function Z(O,C){for(;(O[C]&65535)!=O[C];)O[C+1]+=O[C]>>>16,O[C]&=65535,C++}function J(O,C){this.g=O,this.h=C}function ce(O,C){if(L(C))throw Error("division by zero");if(L(O))return new J(A,A);if(Y(O))return C=ce(F(O),C),new J(F(C.g),F(C.h));if(Y(C))return C=ce(O,F(C)),new J(F(C.g),C.h);if(30<O.g.length){if(Y(O)||Y(C))throw Error("slowDivide_ only works with positive integers.");for(var b=R,x=C;0>=x.l(O);)b=ue(b),x=ue(x);var k=Se(b,1),z=Se(x,1);for(x=Se(x,2),b=Se(b,2);!L(x);){var D=z.add(x);0>=D.l(O)&&(k=k.add(b),z=D),x=Se(x,1),b=Se(b,1)}return C=G(O,k.j(C)),new J(k,C)}for(k=A;0<=O.l(C);){for(b=Math.max(1,Math.floor(O.m()/C.m())),x=Math.ceil(Math.log(b)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),z=_(b),D=z.j(C);Y(D)||0<D.l(O);)b-=x,z=_(b),D=z.j(C);L(z)&&(z=R),k=k.add(z),O=G(O,D)}return new J(k,O)}r.A=function(O){return ce(this,O).h},r.and=function(O){for(var C=Math.max(this.g.length,O.g.length),b=[],x=0;x<C;x++)b[x]=this.i(x)&O.i(x);return new f(b,this.h&O.h)},r.or=function(O){for(var C=Math.max(this.g.length,O.g.length),b=[],x=0;x<C;x++)b[x]=this.i(x)|O.i(x);return new f(b,this.h|O.h)},r.xor=function(O){for(var C=Math.max(this.g.length,O.g.length),b=[],x=0;x<C;x++)b[x]=this.i(x)^O.i(x);return new f(b,this.h^O.h)};function ue(O){for(var C=O.g.length+1,b=[],x=0;x<C;x++)b[x]=O.i(x)<<1|O.i(x-1)>>>31;return new f(b,O.h)}function Se(O,C){var b=C>>5;C%=32;for(var x=O.g.length-b,k=[],z=0;z<x;z++)k[z]=0<C?O.i(z+b)>>>C|O.i(z+b+1)<<32-C:O.i(z+b);return new f(k,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,cT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=T,os=f}).apply(typeof yv<"u"?yv:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hT,Hl,fT,Jc,Am,dT,mT,pT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,y){return c==Array.prototype||c==Object.prototype||(c[g]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var g=0;g<c.length;++g){var y=c[g];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var y=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var j=c[w];if(!(j in y))break e;y=y[j]}c=c[c.length-1],w=y[c],g=g(w),g!=w&&g!=null&&e(y,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var y=0,w=!1,j={next:function(){if(!w&&y<c.length){var $=y++;return{value:g($,c[$]),done:!1}}return w=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function _(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function T(c,g,y){return c.call.apply(c.bind,arguments)}function A(c,g,y){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,w),c.apply(g,j)}}return function(){return c.apply(g,arguments)}}function R(c,g,y){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:A,R.apply(null,arguments)}function V(c,g){var y=Array.prototype.slice.call(arguments,1);return function(){var w=y.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function L(c,g){function y(){}y.prototype=g.prototype,c.aa=g.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(w,j,$){for(var ie=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ie[Le-2]=arguments[Le];return g.prototype[j].apply(w,ie)}}function Y(c){const g=c.length;if(0<g){const y=Array(g);for(let w=0;w<g;w++)y[w]=c[w];return y}return[]}function F(c,g){for(let y=1;y<arguments.length;y++){const w=arguments[y];if(p(w)){const j=c.length||0,$=w.length||0;c.length=j+$;for(let ie=0;ie<$;ie++)c[j+ie]=w[ie]}else c.push(w)}}class G{constructor(g,y){this.i=g,this.j=y,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function Z(c){return/^[\s\xa0]*$/.test(c)}function J(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ce(c){return ce[" "](c),c}ce[" "]=function(){};var ue=J().indexOf("Gecko")!=-1&&!(J().toLowerCase().indexOf("webkit")!=-1&&J().indexOf("Edge")==-1)&&!(J().indexOf("Trident")!=-1||J().indexOf("MSIE")!=-1)&&J().indexOf("Edge")==-1;function Se(c,g,y){for(const w in c)g.call(y,c[w],w,c)}function O(c,g){for(const y in c)g.call(void 0,c[y],y,c)}function C(c){const g={};for(const y in c)g[y]=c[y];return g}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,g){let y,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(y in w)c[y]=w[y];for(let $=0;$<b.length;$++)y=b[$],Object.prototype.hasOwnProperty.call(w,y)&&(c[y]=w[y])}}function k(c){var g=1;c=c.split(":");const y=[];for(;0<g&&c.length;)y.push(c.shift()),g--;return c.length&&y.push(c.join(":")),y}function z(c){m.setTimeout(()=>{throw c},0)}function D(){var c=Ge;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class St{constructor(){this.h=this.g=null}add(g,y){const w=gt.get();w.set(g,y),this.h?this.h.next=w:this.g=w,this.h=w}}var gt=new G(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(g,y){this.h=g,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,pe=!1,Ge=new St,N=()=>{const c=m.Promise.resolve(void 0);Ee=()=>{c.then(ne)}};var ne=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(y){z(y)}var g=gt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}pe=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};m.addEventListener("test",y,g),m.removeEventListener("test",y,g)}catch{}return c}();function Ie(c,g){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ue){e:{try{ce(g.nodeName);var j=!0;break e}catch{}j=!1}j||(g=null)}}else y=="mouseover"?g=c.fromElement:y=="mouseout"&&(g=c.toElement);this.relatedTarget=g,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Re[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}L(Ie,se);var Re={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var _t="closure_listenable_"+(1e6*Math.random()|0),Be=0;function ot(c,g,y,w,j){this.listener=c,this.proxy=null,this.src=g,this.type=y,this.capture=!!w,this.ha=j,this.key=++Be,this.da=this.fa=!1}function Qe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function rn(c){this.src=c,this.g={},this.h=0}rn.prototype.add=function(c,g,y,w,j){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var ie=Cn(c,g,w,j);return-1<ie?(g=c[ie],y||(g.fa=!1)):(g=new ot(g,this.src,$,!!w,j),g.fa=y,c.push(g)),g};function xi(c,g){var y=g.type;if(y in c.g){var w=c.g[y],j=Array.prototype.indexOf.call(w,g,void 0),$;($=0<=j)&&Array.prototype.splice.call(w,j,1),$&&(Qe(g),c.g[y].length==0&&(delete c.g[y],c.h--))}}function Cn(c,g,y,w){for(var j=0;j<c.length;++j){var $=c[j];if(!$.da&&$.listener==g&&$.capture==!!y&&$.ha==w)return j}return-1}var mr="closure_lm_"+(1e6*Math.random()|0),pr={};function Di(c,g,y,w,j){if(Array.isArray(g)){for(var $=0;$<g.length;$++)Di(c,g[$],y,w,j);return null}return y=Su(y),c&&c[_t]?c.K(g,y,_(w)?!!w.capture:!1,j):No(c,g,y,!1,w,j)}function No(c,g,y,w,j,$){if(!g)throw Error("Invalid event type");var ie=_(j)?!!j.capture:!!j,Le=Oo(c);if(Le||(c[mr]=Le=new rn(c)),y=Le.add(g,y,w,ie,$),y.proxy)return y;if(w=da(),y.proxy=w,w.src=c,w.listener=y,c.addEventListener)ae||(j=ie),j===void 0&&(j=!1),c.addEventListener(g.toString(),w,j);else if(c.attachEvent)c.attachEvent(pa(g.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return y}function da(){function c(y){return g.call(c.src,c.listener,y)}const g=Zh;return c}function ma(c,g,y,w,j){if(Array.isArray(g))for(var $=0;$<g.length;$++)ma(c,g[$],y,w,j);else w=_(w)?!!w.capture:!!w,y=Su(y),c&&c[_t]?(c=c.i,g=String(g).toString(),g in c.g&&($=c.g[g],y=Cn($,y,w,j),-1<y&&(Qe($[y]),Array.prototype.splice.call($,y,1),$.length==0&&(delete c.g[g],c.h--)))):c&&(c=Oo(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Cn(g,y,w,j)),(y=-1<c?g[c]:null)&&Ss(y))}function Ss(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[_t])xi(g.i,c);else{var y=c.type,w=c.proxy;g.removeEventListener?g.removeEventListener(y,w,c.capture):g.detachEvent?g.detachEvent(pa(y),w):g.addListener&&g.removeListener&&g.removeListener(w),(y=Oo(g))?(xi(y,c),y.h==0&&(y.src=null,g[mr]=null)):Qe(c)}}}function pa(c){return c in pr?pr[c]:pr[c]="on"+c}function Zh(c,g){if(c.da)c=!0;else{g=new Ie(g,this);var y=c.listener,w=c.ha||c.src;c.fa&&Ss(c),c=y.call(w,g)}return c}function Oo(c){return c=c[mr],c instanceof rn?c:null}var hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Su(c){return typeof c=="function"?c:(c[hn]||(c[hn]=function(g){return c.handleEvent(g)}),c[hn])}function wt(){fe.call(this),this.i=new rn(this),this.M=this,this.F=null}L(wt,fe),wt.prototype[_t]=!0,wt.prototype.removeEventListener=function(c,g,y,w){ma(this,c,g,y,w)};function Ot(c,g){var y,w=c.F;if(w)for(y=[];w;w=w.F)y.push(w);if(c=c.M,w=g.type||g,typeof g=="string")g=new se(g,c);else if(g instanceof se)g.target=g.target||c;else{var j=g;g=new se(w,c),x(g,j)}if(j=!0,y)for(var $=y.length-1;0<=$;$--){var ie=g.g=y[$];j=Ni(ie,w,!0,g)&&j}if(ie=g.g=c,j=Ni(ie,w,!0,g)&&j,j=Ni(ie,w,!1,g)&&j,y)for($=0;$<y.length;$++)ie=g.g=y[$],j=Ni(ie,w,!1,g)&&j}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var y=c.g[g],w=0;w<y.length;w++)Qe(y[w]);delete c.g[g],c.h--}}this.F=null},wt.prototype.K=function(c,g,y,w){return this.i.add(String(c),g,!1,y,w)},wt.prototype.L=function(c,g,y,w){return this.i.add(String(c),g,!0,y,w)};function Ni(c,g,y,w){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var j=!0,$=0;$<g.length;++$){var ie=g[$];if(ie&&!ie.da&&ie.capture==y){var Le=ie.listener,bt=ie.ha||ie.src;ie.fa&&xi(c.i,ie),j=Le.call(bt,w)!==!1&&j}}return j&&!w.defaultPrevented}function wu(c,g,y){if(typeof c=="function")y&&(c=R(c,y));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function Mo(c){c.g=wu(()=>{c.g=null,c.i&&(c.i=!1,Mo(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Jh extends fe{constructor(g,y){super(),this.m=g,this.l=y,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Mo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ws(c){fe.call(this),this.h=c,this.g={}}L(ws,fe);var gr=[];function Qt(c){Se(c.g,function(g,y){this.g.hasOwnProperty(y)&&Ss(g)},c),c.g={}}ws.prototype.N=function(){ws.aa.N.call(this),Qt(this)},ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vo=m.JSON.stringify,ei=m.JSON.parse,sn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ko(){}ko.prototype.h=null;function Au(c){return c.h||(c.h=c.i())}function bu(){}var ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _r(){se.call(this,"d")}L(_r,se);function $n(){se.call(this,"c")}L($n,se);var In={},yr=null;function ga(){return yr=yr||new wt}In.La="serverreachability";function Po(c){se.call(this,In.La,c)}L(Po,se);function vr(c){const g=ga();Ot(g,new Po(g))}In.STAT_EVENT="statevent";function _a(c,g){se.call(this,In.STAT_EVENT,c),this.stat=g}L(_a,se);function dt(c){const g=ga();Ot(g,new _a(g,c))}In.Ma="timingevent";function Ru(c,g){se.call(this,In.Ma,c),this.size=g}L(Ru,se);function Er(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function Tr(){this.g=!0}Tr.prototype.xa=function(){this.g=!1};function Cu(c,g,y,w,j,$){c.info(function(){if(c.g)if($)for(var ie="",Le=$.split("&"),bt=0;bt<Le.length;bt++){var Ue=Le[bt].split("=");if(1<Ue.length){var kt=Ue[0];Ue=Ue[1];var Rt=kt.split("_");ie=2<=Rt.length&&Rt[1]=="type"?ie+(kt+"="+Ue+"&"):ie+(kt+"=redacted&")}}else ie=null;else ie=$;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+g+`
`+y+`
`+ie})}function Iu(c,g,y,w,j,$,ie){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+g+`
`+y+`
`+$+" "+ie})}function Sr(c,g,y,w){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Mt(c,y)+(w?" "+w:"")})}function ni(c,g){c.info(function(){return"TIMEOUT: "+g})}Tr.prototype.info=function(){};function Mt(c,g){if(!c.g)return g;if(!g)return null;try{var y=JSON.parse(g);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var w=y[c];if(!(2>w.length)){var j=w[1];if(Array.isArray(j)&&!(1>j.length)){var $=j[0];if($!="noop"&&$!="stop"&&$!="close")for(var ie=1;ie<j.length;ie++)j[ie]=""}}}}return Vo(y)}catch{return g}}var At={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},As;function ya(){}L(ya,ko),ya.prototype.g=function(){return new XMLHttpRequest},ya.prototype.i=function(){return{}},As=new ya;function ii(c,g,y,w){this.j=c,this.i=g,this.l=y,this.R=w||1,this.U=new ws(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lo}function Lo(){this.i=null,this.g="",this.h=!1}var wr={},bs={};function Kn(c,g,y){c.L=1,c.v=Is(lt(g)),c.m=y,c.P=!0,Mi(c,null)}function Mi(c,g){c.F=Date.now(),nt(c),c.A=lt(c.v);var y=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),Pi(y.i,"t",w),c.C=0,y=c.j.J,c.h=new Lo,c.g=Hu(c.j,y?g:null,!c.m),0<c.O&&(c.M=new Jh(R(c.Y,c,c.g),c.O)),g=c.U,y=c.g,w=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(gr[0]=j.toString()),j=gr);for(var $=0;$<j.length;$++){var ie=Di(y,j[$],w||g.handleEvent,!1,g.h||g);if(!ie)break;g.g[ie.key]=ie}g=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),vr(),Cu(c.i,c.u,c.A,c.l,c.R,c.m)}ii.prototype.ca=function(c){c=c.target;const g=this.M;g&&Mn(c)==3?g.j():this.Y(c)},ii.prototype.Y=function(c){try{if(c==this.g)e:{const Rt=Mn(this.g);var g=this.g.Ba();const zi=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||Vu(this.g)))){this.J||Rt!=4||g==7||(g==8||0>=zi?vr(3):vr(2)),va(this);var y=this.g.Z();this.X=y;t:if(Ar(this)){var w=Vu(this.g);c="";var j=w.length,$=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fn(this),vn(this);var ie="";break t}this.h.i=new m.TextDecoder}for(g=0;g<j;g++)this.h.h=!0,c+=this.h.i.decode(w[g],{stream:!($&&g==j-1)});w.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=y==200,Iu(this.i,this.u,this.A,this.l,this.R,Rt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,bt=this.g;if((Le=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Z(Le)){var Ue=Le;break t}}Ue=null}if(y=Ue)Sr(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,En(this,y);else{this.o=!1,this.s=3,dt(12),fn(this),vn(this);break e}}if(this.P){y=!0;let zt;for(;!this.J&&this.C<ie.length;)if(zt=br(this,ie),zt==bs){Rt==4&&(this.s=4,dt(14),y=!1),Sr(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==wr){this.s=4,dt(15),Sr(this.i,this.l,ie,"[Invalid Chunk]"),y=!1;break}else Sr(this.i,this.l,zt,null),En(this,zt);if(Ar(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||ie.length!=0||this.h.h||(this.s=1,dt(16),y=!1),this.o=this.o&&y,!y)Sr(this.i,this.l,ie,"[Invalid Chunked Response]"),fn(this),vn(this);else if(0<ie.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),ks(kt),kt.M=!0,dt(11))}}else Sr(this.i,this.l,ie,null),En(this,ie);Rt==4&&fn(this),this.o&&!this.J&&(Rt==4?ju(this.j,this):(this.o=!1,nt(this)))}else af(this.g),y==400&&0<ie.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),fn(this),vn(this)}}}catch{}finally{}};function Ar(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function br(c,g){var y=c.C,w=g.indexOf(`
`,y);return w==-1?bs:(y=Number(g.substring(y,w)),isNaN(y)?wr:(w+=1,w+y>g.length?bs:(g=g.slice(w,w+y),c.C=w+y,g)))}ii.prototype.cancel=function(){this.J=!0,fn(this)};function nt(c){c.S=Date.now()+c.I,Uo(c,c.I)}function Uo(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Er(R(c.ba,c),g)}function va(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ii.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ni(this.i,this.A),this.L!=2&&(vr(),dt(17)),fn(this),this.s=2,vn(this)):Uo(this,this.S-c)};function vn(c){c.j.G==0||c.J||ju(c.j,c)}function fn(c){va(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Qt(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function En(c,g){try{var y=c.j;if(y.G!=0&&(y.g==c||Rr(y.h,c))){if(!c.K&&Rr(y.h,c)&&y.G==3){try{var w=y.Da.g.parse(g)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)xa(y),Ca(y);else break e;Yo(y),dt(18)}}else y.za=j[1],0<y.za-y.T&&37500>j[2]&&y.F&&y.v==0&&!y.C&&(y.C=Er(R(y.Za,y),6e3));if(1>=xu(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else ji(y,11)}else if((c.K||y.g==c)&&xa(y),!Z(g))for(j=y.Da.g.parse(g),g=0;g<j.length;g++){let Ue=j[g];if(y.T=Ue[0],Ue=Ue[1],y.G==2)if(Ue[0]=="c"){y.K=Ue[1],y.ia=Ue[2];const kt=Ue[3];kt!=null&&(y.la=kt,y.j.info("VER="+y.la));const Rt=Ue[4];Rt!=null&&(y.Aa=Rt,y.j.info("SVER="+y.Aa));const zi=Ue[5];zi!=null&&typeof zi=="number"&&0<zi&&(w=1.5*zi,y.L=w,y.j.info("backChannelRequestTimeoutMs_="+w)),w=y;const zt=c.g;if(zt){const ci=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ci){var $=w.h;$.g||ci.indexOf("spdy")==-1&&ci.indexOf("quic")==-1&&ci.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Cr($,$.h),$.h=null))}if(w.D){const Wo=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Wo&&(w.ya=Wo,He(w.I,w.D,Wo))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),w=y;var ie=c;if(w.qa=Bu(w,w.J?w.ia:null,w.W),ie.K){xn(w.h,ie);var Le=ie,bt=w.L;bt&&(Le.I=bt),Le.B&&(va(Le),nt(Le)),w.g=ie}else Lu(w);0<y.i.length&&Ia(y)}else Ue[0]!="stop"&&Ue[0]!="close"||ji(y,7);else y.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?ji(y,7):Ko(y):Ue[0]!="noop"&&y.l&&y.l.ta(Ue),y.v=0)}}vr(4)}catch{}}var ef=class{constructor(c,g){this.g=c,this.map=g}};function jo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function xu(c){return c.h?1:c.g?c.g.size:0}function Rr(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Cr(c,g){c.g?c.g.add(g):c.h=g}function xn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}jo.prototype.cancel=function(){if(this.i=an(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function an(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const y of c.g.values())g=g.concat(y.D);return g}return Y(c.i)}function Du(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],y=c.length,w=0;w<y;w++)g.push(c[w]);return g}g=[],y=0;for(w in c)g[y++]=c[w];return g}function tf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var y=0;y<c;y++)g.push(y);return g}g=[],y=0;for(const w in c)g[y++]=w;return g}}}function Rs(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var y=tf(c),w=Du(c),j=w.length,$=0;$<j;$++)g.call(void 0,w[$],y&&y[$],c)}var Bo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ea(c,g){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var w=c[y].indexOf("="),j=null;if(0<=w){var $=c[y].substring(0,w);j=c[y].substring(w+1)}else $=c[y];g($,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Vi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Vi){this.h=c.h,Ir(this,c.j),this.o=c.o,this.g=c.g,Cs(this,c.s),this.l=c.l;var g=c.i,y=new ri;y.i=g.i,g.g&&(y.g=new Map(g.g),y.h=g.h),Ta(this,y),this.m=c.m}else c&&(g=String(c).match(Bo))?(this.h=!1,Ir(this,g[1]||"",!0),this.o=xr(g[2]||""),this.g=xr(g[3]||"",!0),Cs(this,g[4]),this.l=xr(g[5]||"",!0),Ta(this,g[6]||"",!0),this.m=xr(g[7]||"")):(this.h=!1,this.i=new ri(null,this.h))}Vi.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Dn(g,Ho,!0),":");var y=this.g;return(y||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Dn(g,Ho,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(Dn(y,y.charAt(0)=="/"?qo:Nu,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",Dn(y,sf)),c.join("")};function lt(c){return new Vi(c)}function Ir(c,g,y){c.j=y?xr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Cs(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Ta(c,g,y){g instanceof ri?(c.i=g,Fo(c.i,c.h)):(y||(g=Dn(g,rf)),c.i=new ri(g,c.h))}function He(c,g,y){c.i.set(g,y)}function Is(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function xr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Dn(c,g,y){return typeof c=="string"?(c=encodeURI(c).replace(g,nf),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function nf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ho=/[#\/\?@]/g,Nu=/[#\?:]/g,qo=/[#\?]/g,rf=/[#\?@]/g,sf=/#/g;function ri(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Nn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ea(c.i,function(g,y){c.add(decodeURIComponent(g.replace(/\+/g," ")),y)}))}r=ri.prototype,r.add=function(c,g){Nn(this),this.i=null,c=Li(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(g),this.h+=1,this};function Sa(c,g){Nn(c),g=Li(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function ki(c,g){return Nn(c),g=Li(c,g),c.g.has(g)}r.forEach=function(c,g){Nn(this),this.g.forEach(function(y,w){y.forEach(function(j){c.call(g,j,w,this)},this)},this)},r.na=function(){Nn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),y=[];for(let w=0;w<g.length;w++){const j=c[w];for(let $=0;$<j.length;$++)y.push(g[w])}return y},r.V=function(c){Nn(this);let g=[];if(typeof c=="string")ki(this,c)&&(g=g.concat(this.g.get(Li(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)g=g.concat(c[y])}return g},r.set=function(c,g){return Nn(this),this.i=null,c=Li(this,c),ki(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Pi(c,g,y){Sa(c,g),0<y.length&&(c.i=null,c.g.set(Li(c,g),Y(y)),c.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var y=0;y<g.length;y++){var w=g[y];const $=encodeURIComponent(String(w)),ie=this.V(w);for(w=0;w<ie.length;w++){var j=$;ie[w]!==""&&(j+="="+encodeURIComponent(String(ie[w]))),c.push(j)}}return this.i=c.join("&")};function Li(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Fo(c,g){g&&!c.j&&(Nn(c),c.i=null,c.g.forEach(function(y,w){var j=w.toLowerCase();w!=j&&(Sa(this,w),Pi(this,j,y))},c)),c.j=g}function Ou(c,g){const y=new Tr;if(m.Image){const w=new Image;w.onload=V(On,y,"TestLoadImage: loaded",!0,g,w),w.onerror=V(On,y,"TestLoadImage: error",!1,g,w),w.onabort=V(On,y,"TestLoadImage: abort",!1,g,w),w.ontimeout=V(On,y,"TestLoadImage: timeout",!1,g,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else g(!1)}function xs(c,g){const y=new Tr,w=new AbortController,j=setTimeout(()=>{w.abort(),On(y,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:w.signal}).then($=>{clearTimeout(j),$.ok?On(y,"TestPingServer: ok",!0,g):On(y,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),On(y,"TestPingServer: error",!1,g)})}function On(c,g,y,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(y)}catch{}}function Ds(){this.g=new sn}function si(c,g,y){const w=y||"";try{Rs(c,function(j,$){let ie=j;_(j)&&(ie=Vo(j)),g.push(w+$+"="+encodeURIComponent(ie))})}catch(j){throw g.push(w+"type="+encodeURIComponent("_badmap")),j}}function Dr(c){this.l=c.Ub||null,this.j=c.eb||!1}L(Dr,ko),Dr.prototype.g=function(){return new Ui(this.l,this.j)},Dr.prototype.i=function(c){return function(){return c}}({});function Ui(c,g){wt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(Ui,wt),r=Ui.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,oi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ai(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Go(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Go(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?ai(this):oi(this),this.readyState==3&&Go(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ai(this))},r.Qa=function(c){this.g&&(this.response=c,ai(this))},r.ga=function(){this.g&&ai(this)};function ai(c){c.readyState=4,c.l=null,c.j=null,c.v=null,oi(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var y=g.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=g.next();return c.join(`\r
`)};function oi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ui.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function $o(c){let g="";return Se(c,function(y,w){g+=w,g+=":",g+=y,g+=`\r
`}),g}function Vt(c,g,y){e:{for(w in y){var w=!1;break e}w=!0}w||(y=$o(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):He(c,g,y))}function $e(c){wt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L($e,wt);var wa=/^https?$/i,Ns=["POST","PUT"];r=$e.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,y,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():As.g(),this.v=this.o?Au(this.o):Au(As),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch($){Mu(this,$);return}if(c=y||"",y=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)y.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const $ of w.keys())y.set($,w.get($));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(y.keys()).find($=>$.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ns,g,void 0))||w||j||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ie]of y)this.g.setRequestHeader($,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Os(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Mu(this,$)}};function Mu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Aa(c),li(c)}function Aa(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ot(this,"complete"),Ot(this,"abort"),li(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),li(this,!0)),$e.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ba(this):this.bb())},r.bb=function(){ba(this)};function ba(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Mn(c)!=4||c.Z()!=2)){if(c.u&&Mn(c)==4)wu(c.Ea,0,c);else if(Ot(c,"readystatechange"),Mn(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var y;if(!(y=g)){var w;if(w=ie===0){var j=String(c.D).match(Bo)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),w=!wa.test(j?j.toLowerCase():"")}y=w}if(y)Ot(c,"complete"),Ot(c,"success");else{c.m=6;try{var $=2<Mn(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",Aa(c)}}finally{li(c)}}}}function li(c,g){if(c.g){Os(c);const y=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ot(c,"ready");try{y.onreadystatechange=w}catch{}}}function Os(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Mn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ei(g)}};function Vu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function af(c){const g={};c=(c.g&&2<=Mn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(Z(c[w]))continue;var y=k(c[w]);const j=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const $=g[j]||[];g[j]=$,$.push(y)}O(g,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ms(c,g,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||g}function Ra(c){this.Aa=0,this.i=[],this.j=new Tr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ms("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ms("baseRetryDelayMs",5e3,c),this.cb=Ms("retryDelaySeedMs",1e4,c),this.Wa=Ms("forwardChannelMaxRetries",2,c),this.wa=Ms("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new jo(c&&c.concurrentRequestLimit),this.Da=new Ds,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ra.prototype,r.la=8,r.G=1,r.connect=function(c,g,y,w){dt(0),this.W=c,this.H=g||{},y&&w!==void 0&&(this.H.OSID=y,this.H.OAID=w),this.F=this.X,this.I=Bu(this,null,this.W),Ia(this)};function Ko(c){if(ku(c),c.G==3){var g=c.U++,y=lt(c.I);if(He(y,"SID",c.K),He(y,"RID",g),He(y,"TYPE","terminate"),Vs(c,y),g=new ii(c,c.j,g),g.L=2,g.v=Is(lt(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=g.v,y=!0),y||(g.g=Hu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),nt(g)}zu(c)}function Ca(c){c.g&&(ks(c),c.g.cancel(),c.g=null)}function ku(c){Ca(c),c.u&&(m.clearTimeout(c.u),c.u=null),xa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ia(c){if(!zo(c.h)&&!c.s){c.s=!0;var g=c.Ga;Ee||N(),pe||(Ee(),pe=!0),Ge.add(g,c),c.B=0}}function of(c,g){return xu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Er(R(c.Ga,c,g),Xo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new ii(this,this.j,c);let $=this.o;if(this.S&&($?($=C($),x($,this.S)):$=this.S),this.m!==null||this.O||(j.H=$,$=null),this.P)e:{for(var g=0,y=0;y<this.i.length;y++){t:{var w=this.i[y];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(g+=w,4096<g){g=y;break e}if(g===4096||y===this.i.length-1){g=y+1;break e}}g=1e3}else g=1e3;g=Pu(this,j,g),y=lt(this.I),He(y,"RID",c),He(y,"CVER",22),this.D&&He(y,"X-HTTP-Session-Id",this.D),Vs(this,y),$&&(this.O?g="headers="+encodeURIComponent(String($o($)))+"&"+g:this.m&&Vt(y,this.m,$)),Cr(this.h,j),this.Ua&&He(y,"TYPE","init"),this.P?(He(y,"$req",g),He(y,"SID","null"),j.T=!0,Kn(j,y,null)):Kn(j,y,g),this.G=2}}else this.G==3&&(c?Qo(this,c):this.i.length==0||zo(this.h)||Qo(this))};function Qo(c,g){var y;g?y=g.l:y=c.U++;const w=lt(c.I);He(w,"SID",c.K),He(w,"RID",y),He(w,"AID",c.T),Vs(c,w),c.m&&c.o&&Vt(w,c.m,c.o),y=new ii(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Pu(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Cr(c.h,y),Kn(y,w,g)}function Vs(c,g){c.H&&Se(c.H,function(y,w){He(g,w,y)}),c.l&&Rs({},function(y,w){He(g,w,y)})}function Pu(c,g,y){y=Math.min(c.i.length,y);var w=c.l?R(c.l.Na,c.l,c):null;e:{var j=c.i;let $=-1;for(;;){const ie=["count="+y];$==-1?0<y?($=j[0].g,ie.push("ofs="+$)):$=0:ie.push("ofs="+$);let Le=!0;for(let bt=0;bt<y;bt++){let Ue=j[bt].g;const kt=j[bt].map;if(Ue-=$,0>Ue)$=Math.max(0,j[bt].g-100),Le=!1;else try{si(kt,ie,"req"+Ue+"_")}catch{w&&w(kt)}}if(Le){w=ie.join("&");break e}}}return c=c.i.splice(0,y),g.D=c,w}function Lu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Ee||N(),pe||(Ee(),pe=!0),Ge.add(g,c),c.v=0}}function Yo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Er(R(c.Fa,c),Xo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Uu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Er(R(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Ca(this),Uu(this))};function ks(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Uu(c){c.g=new ii(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=lt(c.qa);He(g,"RID","rpc"),He(g,"SID",c.K),He(g,"AID",c.T),He(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(g,"TO",c.ja),He(g,"TYPE","xmlhttp"),Vs(c,g),c.m&&c.o&&Vt(g,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=Is(lt(g)),y.m=null,y.P=!0,Mi(y,c)}r.Za=function(){this.C!=null&&(this.C=null,Ca(this),Yo(this),dt(19))};function xa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function ju(c,g){var y=null;if(c.g==g){xa(c),ks(c),c.g=null;var w=2}else if(Rr(c.h,g))y=g.D,xn(c.h,g),w=1;else return;if(c.G!=0){if(g.o)if(w==1){y=g.m?g.m.length:0,g=Date.now()-g.F;var j=c.B;w=ga(),Ot(w,new Ru(w,y)),Ia(c)}else Lu(c);else if(j=g.s,j==3||j==0&&0<g.X||!(w==1&&of(c,g)||w==2&&Yo(c)))switch(y&&0<y.length&&(g=c.h,g.i=g.i.concat(y)),j){case 1:ji(c,5);break;case 4:ji(c,10);break;case 3:ji(c,6);break;default:ji(c,2)}}}function Xo(c,g){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*g}function ji(c,g){if(c.j.info("Error code "+g),g==2){var y=R(c.fb,c),w=c.Xa;const j=!w;w=new Vi(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ir(w,"https"),Is(w),j?Ou(w.toString(),y):xs(w.toString(),y)}else dt(2);c.G=0,c.l&&c.l.sa(g),zu(c),ku(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function zu(c){if(c.G=0,c.ka=[],c.l){const g=an(c.h);(g.length!=0||c.i.length!=0)&&(F(c.ka,g),F(c.ka,c.i),c.h.i.length=0,Y(c.i),c.i.length=0),c.l.ra()}}function Bu(c,g,y){var w=y instanceof Vi?lt(y):new Vi(y);if(w.g!="")g&&(w.g=g+"."+w.g),Cs(w,w.s);else{var j=m.location;w=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;var $=new Vi(null);w&&Ir($,w),g&&($.g=g),j&&Cs($,j),y&&($.l=y),w=$}return y=c.D,g=c.ya,y&&g&&He(w,y,g),He(w,"VER",c.la),Vs(c,w),w}function Hu(c,g,y){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new $e(new Dr({eb:y})):new $e(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}r=qu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Da(){}Da.prototype.g=function(c,g){return new on(c,g)};function on(c,g){wt.call(this),this.g=new Ra(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!Z(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!Z(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ui(this)}L(on,wt),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Ko(this.g)},on.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=Vo(c),c=y);g.i.push(new ef(g.Ya++,c)),g.G==3&&Ia(g)},on.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,on.aa.N.call(this)};function Fu(c){_r.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const y in g){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}L(Fu,_r);function Gu(){$n.call(this),this.status=1}L(Gu,$n);function ui(c){this.g=c}L(ui,qu),ui.prototype.ua=function(){Ot(this.g,"a")},ui.prototype.ta=function(c){Ot(this.g,new Fu(c))},ui.prototype.sa=function(c){Ot(this.g,new Gu)},ui.prototype.ra=function(){Ot(this.g,"b")},Da.prototype.createWebChannel=Da.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,pT=function(){return new Da},mT=function(){return ga()},dT=In,Am={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},At.NO_ERROR=0,At.TIMEOUT=8,At.HTTP_ERROR=6,Jc=At,Oi.COMPLETE="complete",fT=Oi,bu.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Hl=bu,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,hT=$e}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});const vv="@firebase/firestore",Ev="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new Xm("@firebase/firestore");function io(){return ra.logLevel}function oe(r,...e){if(ra.logLevel<=Me.DEBUG){const n=e.map(Jm);ra.debug(`Firestore (${bo}): ${r}`,...n)}}function cr(r,...e){if(ra.logLevel<=Me.ERROR){const n=e.map(Jm);ra.error(`Firestore (${bo}): ${r}`,...n)}}function mo(r,...e){if(ra.logLevel<=Me.WARN){const n=e.map(Jm);ra.warn(`Firestore (${bo}): ${r}`,...n)}}function Jm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r="Unexpected state"){const e=`FIRESTORE (${bo}) INTERNAL ASSERTION FAILED: `+r;throw cr(e),new Error(e)}function Ke(r,e){r||Te()}function be(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class F1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class G1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class $1{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new ar;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ar,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ar)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string"),new gT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new Jt(e)}}class K1{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Q1{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new K1(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Tv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Y1{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Gn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0);const s=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Tv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new Tv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=X1(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Pe(r,e){return r<e?-1:r>e?1:0}function po(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=-62135596800,wv=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*wv);return new Dt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Sv)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/wv}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Sv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new Dt(0,0))}static max(){return new we(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Av="__name__";class _i{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(),s===void 0?s=e.length-n:s>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return _i.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _i?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=_i.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=_i.isNumericId(e),o=_i.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?_i.extractNumericId(e).compare(_i.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return os.fromString(e.substring(4,e.length-2))}}class tt extends _i{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const W1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends _i{construct(e,n,s){return new $t(e,n,s)}static isValidIdentifier(e){return W1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Av}static keyField(){return new $t([Av])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new de(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new de(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(tt.fromString(e))}static fromName(e){return new ge(tt.fromString(e).popFirst(5))}static empty(){return new ge(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=-1;function Z1(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new Dt(n+1,0):new Dt(n,s));return new cs(o,ge.empty(),e)}function J1(r){return new cs(r.readTime,r.key,Jl)}class cs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new cs(we.min(),ge.empty(),Jl)}static max(){return new cs(we.max(),ge.empty(),Jl)}}function eC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Pe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ro(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==tC)throw r;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,s)=>{n(e)})}static reject(e){return new W((n,s)=>{s(e)})}static waitFor(e){return new W((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next(o=>o?W.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new W((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const _=p;n(e[_]).next(T=>{f[_]=T,++m,m===u&&s(f)},T=>o(T))}})}static doWhile(e,n){return new W((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function iC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Co(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Nh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep=-1;function Oh(r){return r==null}function fh(r){return r===0&&1/r==-1/0}function rC(r){return typeof r=="number"&&Number.isInteger(r)&&!fh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT="";function sC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=bv(e)),e=aC(r.get(n),e);return bv(e)}function aC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case yT:n+="";break;default:n+=u}}return n}function bv(r){return r+yT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ys(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function vT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gc(this.root,e,this.comparator,!0)}}class Gc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Gt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Cv(this.data.getIterator())}getIteratorFrom(e){return new Cv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class Cv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Nt($t.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return po(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ET("Invalid base64 string: "+u):u}}(e);return new Kt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const oC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(r){if(Ke(!!r),typeof r=="string"){let e=0;const n=oC.exec(r);if(Ke(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(r.seconds),nanos:pt(r.nanos)}}function pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function fs(r){return typeof r=="string"?Kt.fromBase64String(r):Kt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="server_timestamp",ST="__type__",wT="__previous_value__",AT="__local_write_time__";function tp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[ST])===null||n===void 0?void 0:n.stringValue)===TT}function Mh(r){const e=r.mapValue.fields[wT];return tp(e)?Mh(e):e}function eu(r){const e=hs(r.mapValue.fields[AT].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,n,s,o,u,f,m,p,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=_}}const dh="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||dh}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===dh}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bT="__type__",uC="__max__",$c={mapValue:{}},RT="__vector__",mh="value";function ds(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?tp(r)?4:hC(r)?9007199254740991:cC(r)?10:11:Te()}function wi(r,e){if(r===e)return!0;const n=ds(r);if(n!==ds(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return eu(r).isEqual(eu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=hs(o.timestampValue),m=hs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return fs(o.bytesValue).isEqual(fs(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return pt(o.geoPointValue.latitude)===pt(u.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pt(o.integerValue)===pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pt(o.doubleValue),m=pt(u.doubleValue);return f===m?fh(f)===fh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return po(r.arrayValue.values||[],e.arrayValue.values||[],wi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Rv(f)!==Rv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!wi(f[p],m[p])))return!1;return!0}(r,e);default:return Te()}}function nu(r,e){return(r.values||[]).find(n=>wi(n,e))!==void 0}function go(r,e){if(r===e)return 0;const n=ds(r),s=ds(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=pt(u.integerValue||u.doubleValue),p=pt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return Iv(r.timestampValue,e.timestampValue);case 4:return Iv(eu(r),eu(e));case 5:return Pe(r.stringValue,e.stringValue);case 6:return function(u,f){const m=fs(u),p=fs(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let _=0;_<m.length&&_<p.length;_++){const T=Pe(m[_],p[_]);if(T!==0)return T}return Pe(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Pe(pt(u.latitude),pt(f.latitude));return m!==0?m:Pe(pt(u.longitude),pt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return xv(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,_,T;const A=u.fields||{},R=f.fields||{},V=(m=A[mh])===null||m===void 0?void 0:m.arrayValue,L=(p=R[mh])===null||p===void 0?void 0:p.arrayValue,Y=Pe(((_=V==null?void 0:V.values)===null||_===void 0?void 0:_.length)||0,((T=L==null?void 0:L.values)===null||T===void 0?void 0:T.length)||0);return Y!==0?Y:xv(V,L)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===$c.mapValue&&f===$c.mapValue)return 0;if(u===$c.mapValue)return 1;if(f===$c.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),_=f.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let A=0;A<p.length&&A<T.length;++A){const R=Pe(p[A],T[A]);if(R!==0)return R;const V=go(m[p[A]],_[T[A]]);if(V!==0)return V}return Pe(p.length,T.length)}(r.mapValue,e.mapValue);default:throw Te()}}function Iv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const n=hs(r),s=hs(e),o=Pe(n.seconds,s.seconds);return o!==0?o:Pe(n.nanos,s.nanos)}function xv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=go(n[o],s[o]);if(u)return u}return Pe(n.length,s.length)}function _o(r){return bm(r)}function bm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=hs(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return fs(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ge.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=bm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${bm(n.fields[f])}`;return o+"}"}(r.mapValue):Te()}function eh(r){switch(ds(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mh(r);return e?16+eh(e):16;case 5:return 2*r.stringValue.length;case 6:return fs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+eh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ys(s.fields,(u,f)=>{o+=u.length+eh(f)}),o}(r.mapValue);default:throw Te()}}function Rm(r){return!!r&&"integerValue"in r}function np(r){return!!r&&"arrayValue"in r}function Dv(r){return!!r&&"nullValue"in r}function Nv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function th(r){return!!r&&"mapValue"in r}function cC(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[bT])===null||n===void 0?void 0:n.stringValue)===RT}function $l(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ys(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=$l(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$l(r.arrayValue.values[n]);return e}return Object.assign({},r)}function hC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===uC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(n)}setAll(e){let n=$t.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=$l(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ys(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new _n($l(this.value))}}function CT(r){const e=[];return ys(r.fields,(n,s)=>{const o=new $t([n]);if(th(s)){const u=CT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new en(e,0,we.min(),we.min(),we.min(),_n.empty(),0)}static newFoundDocument(e,n,s,o){return new en(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new en(e,2,n,we.min(),we.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,we.min(),we.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n){this.position=e,this.inclusive=n}}function Ov(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=go(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Mv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!wi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n="asc"){this.field=e,this.dir=n}}function fC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{}class xt extends IT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new mC(e,n,s):n==="array-contains"?new _C(e,s):n==="in"?new yC(e,s):n==="not-in"?new vC(e,s):n==="array-contains-any"?new EC(e,s):new xt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new pC(e,s):new gC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(go(n,this.value)):n!==null&&ds(this.value)===ds(n)&&this.matchesComparison(go(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ai extends IT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Ai(e,n)}matches(e){return xT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function xT(r){return r.op==="and"}function DT(r){return dC(r)&&xT(r)}function dC(r){for(const e of r.filters)if(e instanceof Ai)return!1;return!0}function Cm(r){if(r instanceof xt)return r.field.canonicalString()+r.op.toString()+_o(r.value);if(DT(r))return r.filters.map(e=>Cm(e)).join(",");{const e=r.filters.map(n=>Cm(n)).join(",");return`${r.op}(${e})`}}function NT(r,e){return r instanceof xt?function(s,o){return o instanceof xt&&s.op===o.op&&s.field.isEqual(o.field)&&wi(s.value,o.value)}(r,e):r instanceof Ai?function(s,o){return o instanceof Ai&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&NT(f,o.filters[m]),!0):!1}(r,e):void Te()}function OT(r){return r instanceof xt?function(n){return`${n.field.canonicalString()} ${n.op} ${_o(n.value)}`}(r):r instanceof Ai?function(n){return n.op.toString()+" {"+n.getFilters().map(OT).join(" ,")+"}"}(r):"Filter"}class mC extends xt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class pC extends xt{constructor(e,n){super(e,"in",n),this.keys=MT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class gC extends xt{constructor(e,n){super(e,"not-in",n),this.keys=MT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function MT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class _C extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return np(n)&&nu(n.arrayValue,this.value)}}class yC extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class vC extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!nu(this.value.arrayValue,n)}}class EC extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!np(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>nu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function Vv(r,e=null,n=[],s=[],o=null,u=null,f=null){return new TC(r,e,n,s,o,u,f)}function ip(r){const e=be(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Cm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Oh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>_o(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>_o(s)).join(",")),e.le=n}return e.le}function rp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!fC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!NT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Mv(r.startAt,e.startAt)&&Mv(r.endAt,e.endAt)}function Im(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function SC(r,e,n,s,o,u,f,m){return new Vh(r,e,n,s,o,u,f,m)}function sp(r){return new Vh(r)}function kv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function wC(r){return r.collectionGroup!==null}function Kl(r){const e=be(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Nt($t.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new gh(u,s))}),n.has($t.keyField().canonicalString())||e.he.push(new gh($t.keyField(),s))}return e.he}function yi(r){const e=be(r);return e.Pe||(e.Pe=AC(e,Kl(r))),e.Pe}function AC(r,e){if(r.limitType==="F")return Vv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new gh(o.field,u)});const n=r.endAt?new ph(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ph(r.startAt.position,r.startAt.inclusive):null;return Vv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function xm(r,e,n){return new Vh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function kh(r,e){return rp(yi(r),yi(e))&&r.limitType===e.limitType}function VT(r){return`${ip(yi(r))}|lt:${r.limitType}`}function ro(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>OT(o)).join(", ")}]`),Oh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>_o(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>_o(o)).join(",")),`Target(${s})`}(yi(r))}; limitType=${r.limitType})`}function Ph(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Kl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const _=Ov(f,m,p);return f.inclusive?_<=0:_<0}(s.startAt,Kl(s),o)||s.endAt&&!function(f,m,p){const _=Ov(f,m,p);return f.inclusive?_>=0:_>0}(s.endAt,Kl(s),o))}(r,e)}function bC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function kT(r){return(e,n)=>{let s=!1;for(const o of Kl(r)){const u=RC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function RC(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),_=m.data.field(u);return p!==null&&_!==null?go(p,_):Te()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ys(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return vT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=new at(ge.comparator);function hr(){return CC}const PT=new at(ge.comparator);function ql(...r){let e=PT;for(const n of r)e=e.insert(n.key,n);return e}function LT(r){let e=PT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function na(){return Ql()}function UT(){return Ql()}function Ql(){return new la(r=>r.toString(),(r,e)=>r.isEqual(e))}const IC=new at(ge.comparator),xC=new Nt(ge.comparator);function Ve(...r){let e=xC;for(const n of r)e=e.add(n);return e}const DC=new Nt(Pe);function NC(){return DC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function jT(r){return{integerValue:""+r}}function zT(r,e){return rC(e)?jT(e):ap(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(){this._=void 0}}function OC(r,e,n){return r instanceof _h?function(o,u){const f={fields:{[ST]:{stringValue:TT},[AT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&tp(u)&&(u=Mh(u)),u&&(f.fields[wT]=u),{mapValue:f}}(n,e):r instanceof yo?HT(r,e):r instanceof iu?qT(r,e):function(o,u){const f=BT(o,u),m=Pv(f)+Pv(o.Ie);return Rm(f)&&Rm(o.Ie)?jT(m):ap(o.serializer,m)}(r,e)}function MC(r,e,n){return r instanceof yo?HT(r,e):r instanceof iu?qT(r,e):n}function BT(r,e){return r instanceof ru?function(s){return Rm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class _h extends Lh{}class yo extends Lh{constructor(e){super(),this.elements=e}}function HT(r,e){const n=FT(e);for(const s of r.elements)n.some(o=>wi(o,s))||n.push(s);return{arrayValue:{values:n}}}class iu extends Lh{constructor(e){super(),this.elements=e}}function qT(r,e){let n=FT(e);for(const s of r.elements)n=n.filter(o=>!wi(o,s));return{arrayValue:{values:n}}}class ru extends Lh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Pv(r){return pt(r.integerValue||r.doubleValue)}function FT(r){return np(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,n){this.field=e,this.transform=n}}function VC(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof yo&&o instanceof yo||s instanceof iu&&o instanceof iu?po(s.elements,o.elements,wi):s instanceof ru&&o instanceof ru?wi(s.Ie,o.Ie):s instanceof _h&&o instanceof _h}(r.transform,e.transform)}class kC{constructor(e,n){this.version=e,this.transformResults=n}}class Zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Uh{}function $T(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new QT(r.key,Zn.none()):new fu(r.key,r.data,Zn.none());{const n=r.data,s=_n.empty();let o=new Nt($t.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new vs(r.key,s,new Rn(o.toArray()),Zn.none())}}function PC(r,e,n){r instanceof fu?function(o,u,f){const m=o.value.clone(),p=Uv(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof vs?function(o,u,f){if(!nh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Uv(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(KT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Yl(r,e,n,s){return r instanceof fu?function(u,f,m,p){if(!nh(u.precondition,f))return m;const _=u.value.clone(),T=jv(u.fieldTransforms,p,f);return _.setAll(T),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(r,e,n,s):r instanceof vs?function(u,f,m,p){if(!nh(u.precondition,f))return m;const _=jv(u.fieldTransforms,p,f),T=f.data;return T.setAll(KT(u)),T.setAll(_),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,e,n,s):function(u,f,m){return nh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function LC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=BT(s.transform,o||null);u!=null&&(n===null&&(n=_n.empty()),n.set(s.field,u))}return n||null}function Lv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&po(s,o,(u,f)=>VC(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class fu extends Uh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class vs extends Uh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function KT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function Uv(r,e,n){const s=new Map;Ke(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,MC(f,m,n[o]))}return s}function jv(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,OC(u,f,e))}return s}class QT extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class UC extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&PC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Yl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Yl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=UT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=$T(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&po(this.mutations,e.mutations,(n,s)=>Lv(n,s))&&po(this.baseMutations,e.baseMutations,(n,s)=>Lv(n,s))}}class op{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length);let o=function(){return IC}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new op(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,ze;function HC(r){switch(r){case te.OK:return Te();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Te()}}function YT(r){if(r===void 0)return cr("GRPC error has no .code"),te.UNKNOWN;switch(r){case Tt.OK:return te.OK;case Tt.CANCELLED:return te.CANCELLED;case Tt.UNKNOWN:return te.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return te.INTERNAL;case Tt.UNAVAILABLE:return te.UNAVAILABLE;case Tt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Tt.NOT_FOUND:return te.NOT_FOUND;case Tt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Tt.ABORTED:return te.ABORTED;case Tt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Tt.DATA_LOSS:return te.DATA_LOSS;default:return Te()}}(ze=Tt||(Tt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC=new os([4294967295,4294967295],0);function zv(r){const e=qC().encode(r),n=new cT;return n.update(e),new Uint8Array(n.digest())}function Bv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new os([n,s],0),new os([o,u],0)]}class lp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Fl(`Invalid padding: ${n}`);if(s<0)throw new Fl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=os.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(os.fromNumber(s)));return o.compare(FC)===1&&(o=new os([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=zv(e),[s,o]=Bv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new lp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=zv(e),[s,o]=Bv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,du.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new jh(we.min(),o,new at(Pe),hr(),Ve())}}class du{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new du(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class XT{constructor(e,n){this.targetId=e,this.ge=n}}class WT{constructor(e,n,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Hv{constructor(){this.pe=0,this.ye=qv(),this.we=Kt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ve(),n=Ve(),s=Ve();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te()}}),new du(this.we,this.be,e,n,s)}Me(){this.Se=!1,this.ye=qv()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ke(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class GC{constructor(e){this.ke=e,this.qe=new Map,this.Qe=hr(),this.$e=Kc(),this.Ke=Kc(),this.Ue=new at(Pe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Im(u))if(s===0){const f=new ge(u.path);this.ze(n,f,en.newNoDocument(f,we.min()))}else Ke(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,_)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=fs(s).toUint8Array()}catch(p){if(p instanceof ET)return mo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new lp(f,o,u)}catch(p){return mo(p instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Im(m.target)){const p=new ge(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,en.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Ve();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const _=this.Xe(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new jh(e,n,this.Ue,this.Qe,s);return this.Qe=hr(),this.$e=Kc(),this.Ke=Kc(),this.Ue=new at(Pe),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Hv,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Nt(Pe),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Nt(Pe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Hv),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Kc(){return new at(ge.comparator)}function qv(){return new at(ge.comparator)}const $C={asc:"ASCENDING",desc:"DESCENDING"},KC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QC={and:"AND",or:"OR"};class YC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dm(r,e){return r.useProto3Json||Oh(e)?e:{value:e}}function yh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ZT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function XC(r,e){return yh(r,e.toTimestamp())}function vi(r){return Ke(!!r),we.fromTimestamp(function(n){const s=hs(n);return new Dt(s.seconds,s.nanos)}(r))}function up(r,e){return Nm(r,e).canonicalString()}function Nm(r,e){const n=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function JT(r){const e=tt.fromString(r);return Ke(r0(e)),e}function Om(r,e){return up(r.databaseId,e.path)}function cm(r,e){const n=JT(e);if(n.get(1)!==r.databaseId.projectId)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new de(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(t0(n))}function e0(r,e){return up(r.databaseId,e)}function WC(r){const e=JT(r);return e.length===4?tt.emptyPath():t0(e)}function Mm(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function t0(r){return Ke(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Fv(r,e,n){return{name:Om(r,e),fields:n.value.mapValue.fields}}function ZC(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(_,T){return _.useProto3Json?(Ke(T===void 0||typeof T=="string"),Kt.fromBase64String(T||"")):(Ke(T===void 0||T instanceof Buffer||T instanceof Uint8Array),Kt.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(_){const T=_.code===void 0?te.UNKNOWN:YT(_.code);return new de(T,_.message||"")}(f);n=new WT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=cm(r,s.document.name),u=vi(s.document.updateTime),f=s.document.createTime?vi(s.document.createTime):we.min(),m=new _n({mapValue:{fields:s.document.fields}}),p=en.newFoundDocument(o,u,f,m),_=s.targetIds||[],T=s.removedTargetIds||[];n=new ih(_,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=cm(r,s.document),u=s.readTime?vi(s.readTime):we.min(),f=en.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ih([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=cm(r,s.document),u=s.removedTargetIds||[];n=new ih([],u,o,null)}else{if(!("filter"in e))return Te();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new BC(o,u),m=s.targetId;n=new XT(m,f)}}return n}function JC(r,e){let n;if(e instanceof fu)n={update:Fv(r,e.key,e.value)};else if(e instanceof QT)n={delete:Om(r,e.key)};else if(e instanceof vs)n={update:Fv(r,e.key,e.data),updateMask:lI(e.fieldMask)};else{if(!(e instanceof UC))return Te();n={verify:Om(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof _h)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof yo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof iu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ru)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Te()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:XC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te()}(r,e.precondition)),n}function eI(r,e){return r&&r.length>0?(Ke(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?vi(o.updateTime):vi(u);return f.isEqual(we.min())&&(f=vi(u)),new kC(f,o.transformResults||[])}(n,e))):[]}function tI(r,e){return{documents:[e0(r,e.path)]}}function nI(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=e0(r,o);const u=function(_){if(_.length!==0)return i0(Ai.create(_,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(_){if(_.length!==0)return _.map(T=>function(R){return{field:so(R.field),direction:sI(R.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Dm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ht:n,parent:o}}function iI(r){let e=WC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=function(A){const R=n0(A);return R instanceof Ai&&DT(R)?R.getFilters():[R]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(R=>function(L){return new gh(ao(L.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(R))}(n.orderBy));let m=null;n.limit&&(m=function(A){let R;return R=typeof A=="object"?A.value:A,Oh(R)?null:R}(n.limit));let p=null;n.startAt&&(p=function(A){const R=!!A.before,V=A.values||[];return new ph(V,R)}(n.startAt));let _=null;return n.endAt&&(_=function(A){const R=!A.before,V=A.values||[];return new ph(V,R)}(n.endAt)),SC(e,o,f,u,m,"F",p,_)}function rI(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function n0(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ao(n.unaryFilter.field);return xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ao(n.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ao(n.unaryFilter.field);return xt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ao(n.unaryFilter.field);return xt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(r):r.fieldFilter!==void 0?function(n){return xt.create(ao(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Ai.create(n.compositeFilter.filters.map(s=>n0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(r):Te()}function sI(r){return $C[r]}function aI(r){return KC[r]}function oI(r){return QC[r]}function so(r){return{fieldPath:r.canonicalString()}}function ao(r){return $t.fromServerFormat(r.fieldPath)}function i0(r){return r instanceof xt?function(n){if(n.op==="=="){if(Nv(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(Dv(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Nv(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(Dv(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:aI(n.op),value:n.value}}}(r):r instanceof Ai?function(n){const s=n.getFilters().map(o=>i0(o));return s.length===1?s[0]:{compositeFilter:{op:oI(n.op),filters:s}}}(r):Te()}function lI(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function r0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n,s,o,u=we.min(),f=we.min(),m=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new is(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new is(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e){this.Tt=e}}function cI(r){const e=iI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?xm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.Tn=new fI}addToCollectionParentIndex(e,n){return this.Tn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(cs.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(cs.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class fI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Nt(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Nt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},s0=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(s0,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new vo(0)}static Un(){return new vo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="LruGarbageCollector",dI=1048576;function Kv([r,e],[n,s]){const o=Pe(r,n);return o===0?Pe(e,s):o}class mI{constructor(e){this.Hn=e,this.buffer=new Nt(Kv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Kv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class pI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){oe($v,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Co(n)?oe($v,"Ignoring IndexedDB error during garbage collection: ",n):await Ro(n)}await this.er(3e5)})}}class gI{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Nh.ae);const s=new mI(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(Gv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gv):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,n))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(_=Date.now(),io()<=Me.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function _I(r,e){return new gI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.changes=new la(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Yl(s.mutation,o,Rn.empty(),Dt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ve()){const o=na();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=ql();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=na();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ve()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=hr();const f=Ql(),m=function(){return Ql()}();return n.forEach((p,_)=>{const T=s.get(_.key);o.has(_.key)&&(T===void 0||T.mutation instanceof vs)?u=u.insert(_.key,_):T!==void 0?(f.set(_.key,T.mutation.getFieldMask()),Yl(T.mutation,_,T.mutation.getFieldMask(),Dt.now())):f.set(_.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((_,T)=>f.set(_,T)),n.forEach((_,T)=>{var A;return m.set(_,new vI(T,(A=f.get(_))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Ql();let o=new at((f,m)=>f-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let T=s.get(p)||Rn.empty();T=m.applyToLocalView(_,T),s.set(p,T);const A=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),_=p.key,T=p.value,A=UT();T.forEach(R=>{if(!u.has(R)){const V=$T(n.get(R),s.get(R));V!==null&&A.set(R,V),u=u.add(R)}}),f.push(this.documentOverlayCache.saveOverlays(e,_,A))}return W.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):wC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):W.resolve(na());let m=Jl,p=u;return f.next(_=>W.forEach(_,(T,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(T)?W.resolve():this.remoteDocumentCache.getEntry(e,T).next(R=>{p=p.insert(T,R)}))).next(()=>this.populateOverlays(e,_,u)).next(()=>this.computeViews(e,p,_,Ve())).next(T=>({batchId:m,changes:LT(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let o=ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=ql();return this.indexManager.getCollectionParents(e,u).next(m=>W.forEach(m,p=>{const _=function(A,R){return new Vh(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next(T=>{T.forEach((A,R)=>{f=f.insert(A,R)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,_)=>{const T=_.getKey();f.get(T)===null&&(f=f.insert(T,en.newInvalidDocument(T)))});let m=ql();return f.forEach((p,_)=>{const T=u.get(p);T!==void 0&&Yl(T.mutation,_,Rn.empty(),Dt.now()),Ph(n,_)&&(m=m.insert(p,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return W.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:vi(o.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:cI(o.bundledQuery),readTime:vi(o.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.overlays=new at(ge.comparator),this.Rr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=na();return W.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),W.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const o=na(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new at((_,T)=>_-T);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let T=u.get(_.largestBatchId);T===null&&(T=na(),u=u.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const m=na(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,T)=>m.set(_,T)),!(m.size()>=o)););return W.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new zC(n,s));let u=this.Rr.get(n);u===void 0&&(u=Ve(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(){this.Vr=new Nt(jt.mr),this.gr=new Nt(jt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new jt(e,n))}br(e,n){e.forEach(s=>this.removeReference(s,n))}Sr(e){const n=new ge(new tt([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ge(new tt([])),s=new jt(n,e),o=new jt(n,e+1);let u=Ve();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new jt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ge.comparator(e.key,n.key)||Pe(e.Cr,n.Cr)}static pr(e,n){return Pe(e.Cr,n.Cr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Nt(jt.mr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new jC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,n){return W.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?ep:this.Fr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Nt(Pe);return n.forEach(o=>{const u=new jt(o,0),f=new jt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),W.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new jt(new ge(u),0);let m=new Nt(Pe);return this.Mr.forEachWhile(p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(m=m.add(p.Cr)),!0)},f),W.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ke(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return W.forEach(n.mutations,o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new jt(n,0),o=this.Mr.firstAfterOrEqual(s);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.kr=e,this.docs=function(){return new at(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=hr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))}),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=hr();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||eC(J1(T),s)<=0||(o.has(T.key)||Ph(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te()}qr(e,n){return W.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new RI(this)}getSize(e){return W.resolve(this.size)}}class RI extends yI{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),W.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e){this.persistence=e,this.Qr=new la(n=>ip(n),rp),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.$r=0,this.Kr=new cp,this.targetCount=0,this.Ur=vo.Kn()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),W.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new vo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.zn(n),W.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),W.waitFor(u).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this.Kr.yr(n,s),W.resolve()}removeMatchingKeys(e,n,s){this.Kr.br(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Kr.vr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a0{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Nh(0),this.zr=!1,this.zr=!0,this.jr=new wI,this.referenceDelegate=e(this),this.Hr=new CI(this),this.indexManager=new hI,this.remoteDocumentCache=function(o){return new bI(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new uI(n),this.Yr=new TI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new SI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new AI(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const o=new II(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return W.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class II extends nC{constructor(e){super(),this.currentSequenceNumber=e}}class hp{constructor(e){this.persistence=e,this.ti=new cp,this.ni=null}static ri(e){return new hp(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),W.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ii,s=>{const o=ge.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,we.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return W.or([()=>W.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class vh{constructor(e,n){this.persistence=e,this.oi=new la(s=>sC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=_I(this,n)}static ri(e,n){return new vh(e,n)}Zr(){}Xr(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return W.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?W.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),W.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=eh(e.data.value)),n}ar(e,n,s){return W.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new fp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return RR()?8:iC(tn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new xI;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(io()<=Me.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),W.resolve()):(io()<=Me.DEBUG&&oe("QueryEngine","Query:",ro(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(io()<=Me.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(n))):W.resolve())}rs(e,n){if(kv(n))return W.resolve(null);let s=yi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=xm(n,null,"F"),s=yi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ve(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const _=this.cs(n,m);return this.ls(n,_,f,p.readTime)?this.rs(e,xm(n,null,"F")):this.hs(e,_,n,p)}))})))}ss(e,n,s,o){return kv(n)||o.isEqual(we.min())?W.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?W.resolve(null):(io()<=Me.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ro(n)),this.hs(e,f,n,Z1(o,Jl)).next(m=>m))})}cs(e,n){let s=new Nt(kT(e));return n.forEach((o,u)=>{Ph(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return io()<=Me.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",ro(n)),this.ns.getDocumentsMatchingQuery(e,n,cs.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dp="LocalStore",NI=3e8;class OI{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new at(Pe),this.Is=new la(u=>ip(u),rp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new EI(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function MI(r,e,n,s){return new OI(r,e,n,s)}async function o0(r,e){const n=be(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ve();for(const _ of o){f.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of u){m.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(_=>({Rs:_,removedBatchIds:f,addedBatchIds:m}))})})}function VI(r,e){const n=be(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,_,T){const A=_.batch,R=A.keys();let V=W.resolve();return R.forEach(L=>{V=V.next(()=>T.getEntry(p,L)).next(Y=>{const F=_.docVersions.get(L);Ke(F!==null),Y.version.compareTo(F)<0&&(A.applyToRemoteDocument(Y,_),Y.isValidDocument()&&(Y.setReadTime(_.commitVersion),T.addEntry(Y)))})}),V.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ve();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(p=p.add(m.batch.mutations[_].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function l0(r){const e=be(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function kI(r,e){const n=be(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((T,A)=>{const R=o.get(A);if(!R)return;m.push(n.Hr.removeMatchingKeys(u,T.removedDocuments,A).next(()=>n.Hr.addMatchingKeys(u,T.addedDocuments,A)));let V=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?V=V.withResumeToken(Kt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):T.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(T.resumeToken,s)),o=o.insert(A,V),function(Y,F,G){return Y.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=NI?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(R,V,T)&&m.push(n.Hr.updateTargetData(u,V))});let p=hr(),_=Ve();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(PI(u,f,e.documentUpdates).next(T=>{p=T.Vs,_=T.fs})),!s.isEqual(we.min())){const T=n.Hr.getLastRemoteSnapshotVersion(u).next(A=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return W.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,_)).next(()=>p)}).then(u=>(n.Ts=o,u))}function PI(r,e,n){let s=Ve(),o=Ve();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=hr();return n.forEach((m,p)=>{const _=u.get(m);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):oe(dp,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function LI(r,e){const n=be(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=ep),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function UI(r,e){const n=be(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,W.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new is(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Vm(r,e,n){const s=be(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Co(f))throw f;oe(dp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function Qv(r,e,n){const s=be(r);let o=we.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,_,T){const A=be(p),R=A.Is.get(T);return R!==void 0?W.resolve(A.Ts.get(R)):A.Hr.getTargetData(_,T)}(s,f,yi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:we.min(),n?u:Ve())).next(m=>(jI(s,bC(e),m),{documents:m,gs:u})))}function jI(r,e,n){let s=r.Es.get(e)||we.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class Yv{constructor(){this.activeTargetIds=NC()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class zI{constructor(){this.ho=new Yv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Yv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="ConnectivityMonitor";class Wv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){oe(Xv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){oe(Xv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc=null;function km(){return Qc===null?Qc=function(){return 268435456+Math.round(2147483648*Math.random())}():Qc++,"0x"+Qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="RestConnection",HI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qI{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===dh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,n,s,o,u){const f=km(),m=this.So(e,n.toUriEncodedString());oe(hm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(_=>(oe(hm,`Received RPC '${e}' ${f}: `,_),_),_=>{throw mo(hm,`RPC '${e}' ${f} failed with error: `,_,"url: ",m,"request:",s),_})}Co(e,n,s,o,u,f){return this.bo(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+bo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}So(e,n){const s=HI[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class GI extends qI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=km();return new Promise((f,m)=>{const p=new hT;p.setWithCredentials(!0),p.listenOnce(fT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Jc.NO_ERROR:const T=p.getResponseJson();oe(Wt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),f(T);break;case Jc.TIMEOUT:oe(Wt,`RPC '${e}' ${u} timed out`),m(new de(te.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const A=p.getStatus();if(oe(Wt,`RPC '${e}' ${u} failed with status:`,A,"response text:",p.getResponseText()),A>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const V=R==null?void 0:R.error;if(V&&V.status&&V.message){const L=function(F){const G=F.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(G)>=0?G:te.UNKNOWN}(V.status);m(new de(L,V.message))}else m(new de(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new de(te.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{oe(Wt,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(o);oe(Wt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",_,s,15)})}Wo(e,n,s){const o=km(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=pT(),m=mT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");oe(Wt,`Creating RPC '${e}' stream ${o}: ${T}`,p);const A=f.createWebChannel(T,p);let R=!1,V=!1;const L=new FI({Fo:F=>{V?oe(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(R||(oe(Wt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),R=!0),oe(Wt,`RPC '${e}' stream ${o} sending:`,F),A.send(F))},Mo:()=>A.close()}),Y=(F,G,Z)=>{F.listen(G,J=>{try{Z(J)}catch(ce){setTimeout(()=>{throw ce},0)}})};return Y(A,Hl.EventType.OPEN,()=>{V||(oe(Wt,`RPC '${e}' stream ${o} transport opened.`),L.Qo())}),Y(A,Hl.EventType.CLOSE,()=>{V||(V=!0,oe(Wt,`RPC '${e}' stream ${o} transport closed`),L.Ko())}),Y(A,Hl.EventType.ERROR,F=>{V||(V=!0,mo(Wt,`RPC '${e}' stream ${o} transport errored:`,F),L.Ko(new de(te.UNAVAILABLE,"The operation could not be completed")))}),Y(A,Hl.EventType.MESSAGE,F=>{var G;if(!V){const Z=F.data[0];Ke(!!Z);const J=Z,ce=(J==null?void 0:J.error)||((G=J[0])===null||G===void 0?void 0:G.error);if(ce){oe(Wt,`RPC '${e}' stream ${o} received error:`,ce);const ue=ce.status;let Se=function(b){const x=Tt[b];if(x!==void 0)return YT(x)}(ue),O=ce.message;Se===void 0&&(Se=te.INTERNAL,O="Unknown error status: "+ue+" with message "+ce.message),V=!0,L.Ko(new de(Se,O)),A.close()}else oe(Wt,`RPC '${e}' stream ${o} received:`,Z),L.Uo(Z)}}),Y(m,dT.STAT_EVENT,F=>{F.stat===Am.PROXY?oe(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Am.NOPROXY&&oe(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.$o()},0),L}}function fm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(r){return new YC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv="PersistentStream";class c0{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new u0(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(cr(n.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new de(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return oe(Zv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(oe(Zv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class $I extends c0{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=ZC(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?we.min():f.readTime?vi(f.readTime):we.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Mm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Im(p)?{documents:tI(u,p)}:{query:nI(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=ZT(u,f.resumeToken);const _=Dm(u,f.expectedCount);_!==null&&(m.expectedCount=_)}else if(f.snapshotVersion.compareTo(we.min())>0){m.readTime=yh(u,f.snapshotVersion.toTimestamp());const _=Dm(u,f.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const s=rI(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Mm(this.serializer),n.removeTarget=e,this.I_(n)}}class KI extends c0{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=eI(e.writeResults,e.commitTime),s=vi(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Mm(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>JC(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{}class YI extends QI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(e,Nm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(te.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Nm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new de(te.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class XI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(cr(n),this.N_=!1):oe("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="RemoteStore";class WI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{ua(this)&&(oe(sa,"Restarting streams for network reachability change."),await async function(p){const _=be(p);_.W_.add(4),await mu(_),_.j_.set("Unknown"),_.W_.delete(4),await Bh(_)}(this))})}),this.j_=new XI(s,o)}}async function Bh(r){if(ua(r))for(const e of r.G_)await e(!0)}async function mu(r){for(const e of r.G_)await e(!1)}function h0(r,e){const n=be(r);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),_p(n)?gp(n):Io(n).c_()&&pp(n,e))}function mp(r,e){const n=be(r),s=Io(n);n.U_.delete(e),s.c_()&&f0(n,e),n.U_.size===0&&(s.c_()?s.P_():ua(n)&&n.j_.set("Unknown"))}function pp(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Io(r).y_(e)}function f0(r,e){r.H_.Ne(e),Io(r).w_(e)}function gp(r){r.H_=new GC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Io(r).start(),r.j_.B_()}function _p(r){return ua(r)&&!Io(r).u_()&&r.U_.size>0}function ua(r){return be(r).W_.size===0}function d0(r){r.H_=void 0}async function ZI(r){r.j_.set("Online")}async function JI(r){r.U_.forEach((e,n)=>{pp(r,e)})}async function ex(r,e){d0(r),_p(r)?(r.j_.q_(e),gp(r)):r.j_.set("Unknown")}async function tx(r,e,n){if(r.j_.set("Online"),e instanceof WT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){oe(sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Eh(r,s)}else if(e instanceof ih?r.H_.We(e):e instanceof XT?r.H_.Ze(e):r.H_.je(e),!n.isEqual(we.min()))try{const s=await l0(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.U_.get(_);T&&u.U_.set(_,T.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,_)=>{const T=u.U_.get(p);if(!T)return;u.U_.set(p,T.withResumeToken(Kt.EMPTY_BYTE_STRING,T.snapshotVersion)),f0(u,p);const A=new is(T.target,p,_,T.sequenceNumber);pp(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){oe(sa,"Failed to raise snapshot:",s),await Eh(r,s)}}async function Eh(r,e,n){if(!Co(e))throw e;r.W_.add(1),await mu(r),r.j_.set("Offline"),n||(n=()=>l0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{oe(sa,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Bh(r)})}function m0(r,e){return e().catch(n=>Eh(r,n,e))}async function Hh(r){const e=be(r),n=ms(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:ep;for(;nx(e);)try{const o=await LI(e.localStore,s);if(o===null){e.K_.length===0&&n.P_();break}s=o.batchId,ix(e,o)}catch(o){await Eh(e,o)}p0(e)&&g0(e)}function nx(r){return ua(r)&&r.K_.length<10}function ix(r,e){r.K_.push(e);const n=ms(r);n.c_()&&n.b_&&n.S_(e.mutations)}function p0(r){return ua(r)&&!ms(r).u_()&&r.K_.length>0}function g0(r){ms(r).start()}async function rx(r){ms(r).C_()}async function sx(r){const e=ms(r);for(const n of r.K_)e.S_(n.mutations)}async function ax(r,e,n){const s=r.K_.shift(),o=op.from(s,e,n);await m0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Hh(r)}async function ox(r,e){e&&ms(r).b_&&await async function(s,o){if(function(f){return HC(f)&&f!==te.ABORTED}(o.code)){const u=s.K_.shift();ms(s).h_(),await m0(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Hh(s)}}(r,e),p0(r)&&g0(r)}async function Jv(r,e){const n=be(r);n.asyncQueue.verifyOperationInProgress(),oe(sa,"RemoteStore received new credentials");const s=ua(n);n.W_.add(3),await mu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Bh(n)}async function lx(r,e){const n=be(r);e?(n.W_.delete(2),await Bh(n)):e||(n.W_.add(2),await mu(n),n.j_.set("Unknown"))}function Io(r){return r.J_||(r.J_=function(n,s,o){const u=be(n);return u.M_(),new $I(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:ZI.bind(null,r),No:JI.bind(null,r),Lo:ex.bind(null,r),p_:tx.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),_p(r)?gp(r):r.j_.set("Unknown")):(await r.J_.stop(),d0(r))})),r.J_}function ms(r){return r.Y_||(r.Y_=function(n,s,o){const u=be(n);return u.M_(),new KI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:rx.bind(null,r),Lo:ox.bind(null,r),D_:sx.bind(null,r),v_:ax.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Hh(r)):(await r.Y_.stop(),r.K_.length>0&&(oe(sa,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ar,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new yp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vp(r,e){if(cr("AsyncQueue",`${e}: ${r}`),Co(r))return new de(te.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{static emptySet(e){return new lo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=ql(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof lo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new lo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(){this.Z_=new at(ge.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Eo{constructor(e,n,s,o,u,f,m,p,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Eo(e,n,lo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class cx{constructor(){this.queries=tE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=be(n),u=o.queries;o.queries=tE(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new de(te.ABORTED,"Firestore shutting down"))}}function tE(){return new la(r=>VT(r),kh)}async function _0(r,e){const n=be(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new ux,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=vp(f,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Ep(n)}async function y0(r,e){const n=be(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function hx(r,e){const n=be(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Ep(n)}function fx(r,e,n){const s=be(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Ep(r){r.ia.forEach(e=>{e.next()})}var Pm,nE;(nE=Pm||(Pm={}))._a="default",nE.Cache="cache";class v0{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Eo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Eo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Pm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e){this.key=e}}class T0{constructor(e){this.key=e}}class dx{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=kT(e),this.wa=new lo(this.ya)}get ba(){return this.fa}Sa(e,n){const s=n?n.Da:new eE,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,A)=>{const R=o.get(T),V=Ph(this.query,A)?A:null,L=!!R&&this.mutatedKeys.has(R.key),Y=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let F=!1;R&&V?R.data.isEqual(V.data)?L!==Y&&(s.track({type:3,doc:V}),F=!0):this.va(R,V)||(s.track({type:2,doc:V}),F=!0,(p&&this.ya(V,p)>0||_&&this.ya(V,_)<0)&&(m=!0)):!R&&V?(s.track({type:0,doc:V}),F=!0):R&&!V&&(s.track({type:1,doc:R}),F=!0,(p||_)&&(m=!0)),F&&(V?(f=f.add(V),u=Y?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((T,A)=>function(V,L){const Y=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return Y(V)-Y(L)}(T.type,A.type)||this.ya(T.doc,A.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,_=p!==this.ga;return this.ga=p,f.length!==0||_?{snapshot:new Eo(this.query,e.wa,u,f,e.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new eE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new T0(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new E0(s))}),n}Oa(e){this.fa=e.gs,this.pa=Ve();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return Eo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Tp="SyncEngine";class mx{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class px{constructor(e){this.key=e,this.Ba=!1}}class gx{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new la(m=>VT(m),kh),this.qa=new Map,this.Qa=new Set,this.$a=new at(ge.comparator),this.Ka=new Map,this.Ua=new cp,this.Wa={},this.Ga=new Map,this.za=vo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function _x(r,e,n=!0){const s=C0(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await S0(s,e,n,!0),o}async function yx(r,e){const n=C0(r);await S0(n,e,!0,!1)}async function S0(r,e,n,s){const o=await UI(r.localStore,yi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await vx(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&h0(r.remoteStore,o),m}async function vx(r,e,n,s,o){r.Ha=(A,R,V)=>async function(Y,F,G,Z){let J=F.view.Sa(G);J.ls&&(J=await Qv(Y.localStore,F.query,!1).then(({documents:O})=>F.view.Sa(O,J)));const ce=Z&&Z.targetChanges.get(F.targetId),ue=Z&&Z.targetMismatches.get(F.targetId)!=null,Se=F.view.applyChanges(J,Y.isPrimaryClient,ce,ue);return rE(Y,F.targetId,Se.Ma),Se.snapshot}(r,A,R,V);const u=await Qv(r.localStore,e,!0),f=new dx(e,u.gs),m=f.Sa(u.documents),p=du.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),_=f.applyChanges(m,r.isPrimaryClient,p);rE(r,n,_.Ma);const T=new mx(e,n,f);return r.ka.set(e,T),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),_.snapshot}async function Ex(r,e,n){const s=be(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!kh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Vm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&mp(s.remoteStore,o.targetId),Lm(s,o.targetId)}).catch(Ro)):(Lm(s,o.targetId),await Vm(s.localStore,o.targetId,!0))}async function Tx(r,e){const n=be(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),mp(n.remoteStore,s.targetId))}async function Sx(r,e,n){const s=xx(r);try{const o=await function(f,m){const p=be(f),_=Dt.now(),T=m.reduce((V,L)=>V.add(L.key),Ve());let A,R;return p.persistence.runTransaction("Locally write mutations","readwrite",V=>{let L=hr(),Y=Ve();return p.ds.getEntries(V,T).next(F=>{L=F,L.forEach((G,Z)=>{Z.isValidDocument()||(Y=Y.add(G))})}).next(()=>p.localDocuments.getOverlayedDocuments(V,L)).next(F=>{A=F;const G=[];for(const Z of m){const J=LC(Z,A.get(Z.key).overlayedDocument);J!=null&&G.push(new vs(Z.key,J,CT(J.value.mapValue),Zn.exists(!0)))}return p.mutationQueue.addMutationBatch(V,_,G,m)}).next(F=>{R=F;const G=F.applyToLocalDocumentSet(A,Y);return p.documentOverlayCache.saveOverlays(V,F.batchId,G)})}).then(()=>({batchId:R.batchId,changes:LT(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let _=f.Wa[f.currentUser.toKey()];_||(_=new at(Pe)),_=_.insert(m,p),f.Wa[f.currentUser.toKey()]=_}(s,o.batchId,n),await pu(s,o.changes),await Hh(s.remoteStore)}catch(o){const u=vp(o,"Failed to persist write");n.reject(u)}}async function w0(r,e){const n=be(r);try{const s=await kI(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Ke(f.Ba):o.removedDocuments.size>0&&(Ke(f.Ba),f.Ba=!1))}),await pu(n,s,e)}catch(s){await Ro(s)}}function iE(r,e,n){const s=be(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=be(f);p.onlineState=m;let _=!1;p.queries.forEach((T,A)=>{for(const R of A.ta)R.sa(m)&&(_=!0)}),_&&Ep(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function wx(r,e,n){const s=be(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ka.get(e),u=o&&o.key;if(u){let f=new at(ge.comparator);f=f.insert(u,en.newNoDocument(u,we.min()));const m=Ve().add(u),p=new jh(we.min(),new Map,new at(Pe),f,m);await w0(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),Sp(s)}else await Vm(s.localStore,e,!1).then(()=>Lm(s,e,n)).catch(Ro)}async function Ax(r,e){const n=be(r),s=e.batch.batchId;try{const o=await VI(n.localStore,e);b0(n,s,null),A0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await pu(n,o)}catch(o){await Ro(o)}}async function bx(r,e,n){const s=be(r);try{const o=await function(f,m){const p=be(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let T;return p.mutationQueue.lookupMutationBatch(_,m).next(A=>(Ke(A!==null),T=A.keys(),p.mutationQueue.removeMutationBatch(_,A))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T)).next(()=>p.localDocuments.getDocuments(_,T))})}(s.localStore,e);b0(s,e,n),A0(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await pu(s,o)}catch(o){await Ro(o)}}function A0(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function b0(r,e,n){const s=be(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Lm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ua.Sr(e).forEach(s=>{r.Ua.containsKey(s)||R0(r,s)})}function R0(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(mp(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ka.delete(n),Sp(r))}function rE(r,e,n){for(const s of n)s instanceof E0?(r.Ua.addReference(s.key,e),Rx(r,s)):s instanceof T0?(oe(Tp,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||R0(r,s.key)):Te()}function Rx(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(oe(Tp,"New document in limbo: "+n),r.Qa.add(s),Sp(r))}function Sp(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new ge(tt.fromString(e)),s=r.za.next();r.Ka.set(s,new px(n)),r.$a=r.$a.insert(n,s),h0(r.remoteStore,new is(yi(sp(n.path)),s,"TargetPurposeLimboResolution",Nh.ae))}}async function pu(r,e,n){const s=be(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(_=>{var T;if((_||n)&&s.isPrimaryClient){const A=_?!_.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(_){o.push(_);const A=fp.Yi(p.targetId,_);u.push(A)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,_){const T=be(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>W.forEach(_,R=>W.forEach(R.Hi,V=>T.persistence.referenceDelegate.addReference(A,R.targetId,V)).next(()=>W.forEach(R.Ji,V=>T.persistence.referenceDelegate.removeReference(A,R.targetId,V)))))}catch(A){if(!Co(A))throw A;oe(dp,"Failed to update sequence numbers: "+A)}for(const A of _){const R=A.targetId;if(!A.fromCache){const V=T.Ts.get(R),L=V.snapshotVersion,Y=V.withLastLimboFreeSnapshotVersion(L);T.Ts=T.Ts.insert(R,Y)}}}(s.localStore,u))}async function Cx(r,e){const n=be(r);if(!n.currentUser.isEqual(e)){oe(Tp,"User change. New user:",e.toKey());const s=await o0(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new de(te.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await pu(n,s.Rs)}}function Ix(r,e){const n=be(r),s=n.Ka.get(e);if(s&&s.Ba)return Ve().add(s.key);{let o=Ve();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.ba)}return o}}function C0(r){const e=be(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=w0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ix.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=wx.bind(null,e),e.La.p_=hx.bind(null,e.eventManager),e.La.Ja=fx.bind(null,e.eventManager),e}function xx(r){const e=be(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ax.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=bx.bind(null,e),e}class Th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return MI(this.persistence,new DI,e.initialUser,this.serializer)}Xa(e){return new a0(hp.ri,this.serializer)}Za(e){return new zI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Th.provider={build:()=>new Th};class Dx extends Th{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ke(this.persistence.referenceDelegate instanceof vh);const s=this.persistence.referenceDelegate.garbageCollector;return new pI(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new a0(s=>vh.ri(s,n),this.serializer)}}class Um{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>iE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Cx.bind(null,this.syncEngine),await lx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new cx}()}createDatastore(e){const n=zh(e.databaseInfo.databaseId),s=function(u){return new GI(u)}(e.databaseInfo);return function(u,f,m,p){return new YI(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new WI(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>iE(this.syncEngine,n,0),function(){return Wv.D()?new Wv:new BI}())}createSyncEngine(e,n){return function(o,u,f,m,p,_,T){const A=new gx(o,u,f,m,p,_);return T&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=be(o);oe(sa,"RemoteStore shutting down."),u.W_.add(5),await mu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Um.provider={build:()=>new Um};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ps="FirestoreClient";class Nx{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=_T.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{oe(ps,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(oe(ps,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ar;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=vp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function dm(r,e){r.asyncQueue.verifyOperationInProgress(),oe(ps,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await o0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function sE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await Ox(r);oe(ps,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Jv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Jv(e.remoteStore,o)),r._onlineComponents=e}async function Ox(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(ps,"Using user provided OfflineComponentProvider");try{await dm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;mo("Error using user provided cache. Falling back to memory cache: "+n),await dm(r,new Th)}}else oe(ps,"Using default OfflineComponentProvider"),await dm(r,new Dx(void 0));return r._offlineComponents}async function x0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(ps,"Using user provided OnlineComponentProvider"),await sE(r,r._uninitializedComponentsProvider._online)):(oe(ps,"Using default OnlineComponentProvider"),await sE(r,new Um))),r._onlineComponents}function Mx(r){return x0(r).then(e=>e.syncEngine)}async function D0(r){const e=await x0(r),n=e.eventManager;return n.onListen=_x.bind(null,e.syncEngine),n.onUnlisten=Ex.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=yx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Tx.bind(null,e.syncEngine),n}function Vx(r,e,n={}){const s=new ar;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,_){const T=new I0({next:R=>{T.su(),f.enqueueAndForget(()=>y0(u,A));const V=R.docs.has(m);!V&&R.fromCache?_.reject(new de(te.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&R.fromCache&&p&&p.source==="server"?_.reject(new de(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(R)},error:R=>_.reject(R)}),A=new v0(sp(m.path),T,{includeMetadataChanges:!0,Ta:!0});return _0(u,A)}(await D0(r),r.asyncQueue,e,n,s)),s.promise}function kx(r,e,n={}){const s=new ar;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,_){const T=new I0({next:R=>{T.su(),f.enqueueAndForget(()=>y0(u,A)),R.fromCache&&p.source==="server"?_.reject(new de(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(R)},error:R=>_.reject(R)}),A=new v0(m,T,{includeMetadataChanges:!0,Ta:!0});return _0(u,A)}(await D0(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O0(r,e,n){if(!n)throw new de(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Px(r,e,n,s){if(e===!0&&s===!0)throw new de(te.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function oE(r){if(!ge.isDocumentKey(r))throw new de(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function lE(r){if(ge.isDocumentKey(r))throw new de(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function wp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te()}function bi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new de(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wp(r);throw new de(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="firestore.googleapis.com",uE=!0;class cE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=M0,this.ssl=uE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:uE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=s0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<dI)throw new de(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Px("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=N0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new de(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new F1;switch(s.type){case"firstParty":return new Q1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=aE.get(n);s&&(oe("ComponentProvider","Removing Datastore"),aE.delete(n),s.terminate())}(this),Promise.resolve()}}function Lx(r,e,n,s={}){var o;const u=(r=bi(r,qh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==M0&&u.host!==m&&mo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!us(p,f)&&(r._setSettings(p),s.mockUserToken)){let _,T;if(typeof s.mockUserToken=="string")_=s.mockUserToken,T=Jt.MOCK_USER;else{_=vR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new de(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Jt(A)}r._authCredentials=new G1(new gT(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Fh(this.firestore,e,this._query)}}class yn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class ls extends Fh{constructor(e,n,s){super(e,n,sp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new ge(e))}withConverter(e){return new ls(this.firestore,e,this._path)}}function Gh(r,e,...n){if(r=nn(r),O0("collection","path",e),r instanceof qh){const s=tt.fromString(e,...n);return lE(s),new ls(r,null,s)}{if(!(r instanceof yn||r instanceof ls))throw new de(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return lE(s),new ls(r.firestore,null,s)}}function ca(r,e,...n){if(r=nn(r),arguments.length===1&&(e=_T.newId()),O0("doc","path",e),r instanceof qh){const s=tt.fromString(e,...n);return oE(s),new yn(r,null,new ge(s))}{if(!(r instanceof yn||r instanceof ls))throw new de(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return oE(s),new yn(r.firestore,r instanceof ls?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE="AsyncQueue";class fE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new u0(this,"async_queue_retry"),this.bu=()=>{const s=fm();s&&oe(hE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const n=fm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=fm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new ar;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Co(e))throw e;oe(hE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw cr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=yp.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class xo extends qh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new fE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fE(e),this._firestoreClient=void 0,await e}}}function Ux(r,e){const n=typeof r=="object"?r:oT(),s=typeof r=="string"?r:dh,o=Zm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=_R("firestore");u&&Lx(o,...u)}return o}function Ap(r){if(r._terminated)throw new de(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||jx(r),r._firestoreClient}function jx(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,_,T){return new lC(m,p,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,N0(T.experimentalLongPollingOptions),T.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new Nx(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this._byteString=e}static fromBase64String(e){try{return new To(Kt.fromBase64String(e))}catch(n){throw new de(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new To(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=/^__.*__$/;class Bx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new fu(e,this.data,n,this.fieldTransforms)}}class V0{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new vs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function k0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class Kh{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Kh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Sh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(k0(this.Lu)&&zx.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Hx{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||zh(e)}ju(e,n,s,o=!1){return new Kh({Lu:e,methodName:n,zu:s,path:$t.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cp(r){const e=r._freezeSettings(),n=zh(r._databaseId);return new Hx(r._databaseId,!!e.ignoreUndefinedProperties,n)}function P0(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);Dp("Data must be an object, but it was:",f,s);const m=L0(s,f);let p,_;if(u.merge)p=new Rn(f.fieldMask),_=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const A of u.mergeFields){const R=jm(e,A,n);if(!f.contains(R))throw new de(te.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);j0(T,R)||T.push(R)}p=new Rn(T),_=f.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,_=f.fieldTransforms;return new Bx(new _n(m),p,_)}class Qh extends gu{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qh}}function qx(r,e,n){return new Kh({Lu:3,zu:e.settings.zu,methodName:r._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ip extends gu{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=qx(this,e,!0),s=this.Hu.map(u=>_u(u,n)),o=new yo(s);return new GT(e.path,o)}isEqual(e){return e instanceof Ip&&us(this.Hu,e.Hu)}}class xp extends gu{constructor(e,n){super(e),this.Ju=n}_toFieldTransform(e){const n=new ru(e.serializer,zT(e.serializer,this.Ju));return new GT(e.path,n)}isEqual(e){return e instanceof xp&&this.Ju===e.Ju}}function Fx(r,e,n,s){const o=r.ju(1,e,n);Dp("Data must be an object, but it was:",o,s);const u=[],f=_n.empty();ys(s,(p,_)=>{const T=Np(e,p,n);_=nn(_);const A=o.Ku(T);if(_ instanceof Qh)u.push(T);else{const R=_u(_,A);R!=null&&(u.push(T),f.set(T,R))}});const m=new Rn(u);return new V0(f,m,o.fieldTransforms)}function Gx(r,e,n,s,o,u){const f=r.ju(1,e,n),m=[jm(e,s,n)],p=[o];if(u.length%2!=0)throw new de(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(jm(e,u[R])),p.push(u[R+1]);const _=[],T=_n.empty();for(let R=m.length-1;R>=0;--R)if(!j0(_,m[R])){const V=m[R];let L=p[R];L=nn(L);const Y=f.Ku(V);if(L instanceof Qh)_.push(V);else{const F=_u(L,Y);F!=null&&(_.push(V),T.set(V,F))}}const A=new Rn(_);return new V0(T,A,f.fieldTransforms)}function _u(r,e){if(U0(r=nn(r)))return Dp("Unsupported field value:",e,r),L0(r,e);if(r instanceof gu)return function(s,o){if(!k0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=_u(m,o.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=nn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return zT(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Dt.fromDate(s);return{timestampValue:yh(o.serializer,u)}}if(s instanceof Dt){const u=new Dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:yh(o.serializer,u)}}if(s instanceof bp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof To)return{bytesValue:ZT(o.serializer,s._byteString)};if(s instanceof yn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:up(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Rp)return function(f,m){return{mapValue:{fields:{[bT]:{stringValue:RT},[mh]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw m.Wu("VectorValues must only contain numeric values.");return ap(m.serializer,_)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${wp(s)}`)}(r,e)}function L0(r,e){const n={};return vT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ys(r,(s,o)=>{const u=_u(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function U0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Dt||r instanceof bp||r instanceof To||r instanceof yn||r instanceof gu||r instanceof Rp)}function Dp(r,e,n){if(!U0(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=wp(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function jm(r,e,n){if((e=nn(e))instanceof $h)return e._internalPath;if(typeof e=="string")return Np(r,e);throw Sh("Field path arguments must be of type string or ",r,!1,void 0,n)}const $x=new RegExp("[~\\*/\\[\\]]");function Np(r,e,n){if(e.search($x)>=0)throw Sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new $h(...e.split("."))._internalPath}catch{throw Sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Sh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new de(te.INVALID_ARGUMENT,m+r+p)}function j0(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Kx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(B0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Kx extends z0{data(){return super.data()}}function B0(r,e){return typeof e=="string"?Np(r,e):e instanceof $h?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new de(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yx{convertValue(e,n="none"){switch(ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ys(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[mh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>pt(f.doubleValue));return new Rp(u)}convertGeoPoint(e){return new bp(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Mh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=hs(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Ke(r0(s));const o=new tu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||cr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class q0 extends z0{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(B0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class rh extends q0{data(e={}){return super.data(e)}}class Xx{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Gl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new rh(this._firestore,this._userDataWriter,s.key,s,new Gl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return m.type!==0&&(_=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:Wx(m.type),doc:p,oldIndex:_,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Wx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F0(r){r=bi(r,yn);const e=bi(r.firestore,xo);return Vx(Ap(e),r._key).then(n=>Jx(e,r,n))}class G0 extends Yx{constructor(e){super(),this.firestore=e}convertBytes(e){return new To(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,n)}}function Op(r){r=bi(r,Fh);const e=bi(r.firestore,xo),n=Ap(e),s=new G0(e);return Qx(r._query),kx(n,r._query).then(o=>new Xx(e,s,r,o))}function $0(r,e,n){r=bi(r,yn);const s=bi(r.firestore,xo),o=H0(r.converter,e);return Mp(s,[P0(Cp(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Zn.none())])}function K0(r,e,n,...s){r=bi(r,yn);const o=bi(r.firestore,xo),u=Cp(o);let f;return f=typeof(e=nn(e))=="string"||e instanceof $h?Gx(u,"updateDoc",r._key,e,n,s):Fx(u,"updateDoc",r._key,e),Mp(o,[f.toMutation(r._key,Zn.exists(!0))])}function Zx(r,e){const n=bi(r.firestore,xo),s=ca(r),o=H0(r.converter,e);return Mp(n,[P0(Cp(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Zn.exists(!1))]).then(()=>s)}function Mp(r,e){return function(s,o){const u=new ar;return s.asyncQueue.enqueueAndForget(async()=>Sx(await Mx(s),o,u)),u.promise}(Ap(r),e)}function Jx(r,e,n){const s=n.docs.get(e._key),o=new G0(r);return new q0(r,o,e._key,s,new Gl(n.hasPendingWrites,n.fromCache),e.converter)}function eD(...r){return new Ip("arrayUnion",r)}function Q0(r){return new xp("increment",r)}(function(e,n=!0){(function(o){bo=o})(Ao),fo(new ia("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new xo(new $1(s.getProvider("auth-internal")),new Y1(f,s.getProvider("app-check-internal")),function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new de(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(_.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),as(vv,Ev,e),as(vv,Ev,"esm2017")})();function Vp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function Y0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tD=Y0,X0=new cu("auth","Firebase",Y0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Xm("@firebase/auth");function nD(r,...e){wh.logLevel<=Me.WARN&&wh.warn(`Auth (${Ao}): ${r}`,...e)}function sh(r,...e){wh.logLevel<=Me.ERROR&&wh.error(`Auth (${Ao}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(r,...e){throw kp(r,...e)}function Ei(r,...e){return kp(r,...e)}function W0(r,e,n){const s=Object.assign(Object.assign({},tD()),{[e]:n});return new cu("auth","Firebase",s).create(e,{appName:r.name})}function or(r){return W0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function kp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return X0.create(r,...e)}function ve(r,e,...n){if(!r)throw kp(e,...n)}function nr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw sh(e),new Error(e)}function fr(r,e){r||nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function iD(){return dE()==="http:"||dE()==="https:"}function dE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iD()||wR()||"connection"in navigator)?navigator.onLine:!0}function sD(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,fr(n>e,"Short delay should be less than long delay!"),this.isMobile=ER()||AR()}get(){return rD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pp(r,e){fr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=new yu(3e4,6e4);function Es(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Ts(r,e,n,s,o={}){return J0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=hu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:e,headers:p},u);return SR()||(_.referrerPolicy="no-referrer"),Z0.fetch()(eS(r,r.config.apiHost,n,m),_)})}async function J0(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},aD),e);try{const o=new uD(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Yc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,_]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Yc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Yc(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw W0(r,T,_);Jn(r,T)}}catch(o){if(o instanceof dr)throw o;Jn(r,"network-request-failed",{message:String(o)})}}async function vu(r,e,n,s,o={}){const u=await Ts(r,e,n,s,o);return"mfaPendingCredential"in u&&Jn(r,"multi-factor-auth-required",{_serverResponse:u}),u}function eS(r,e,n,s){const o=`${e}${n}?${s}`;return r.config.emulator?Pp(r.config,o):`${r.config.apiScheme}://${o}`}function lD(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ei(this.auth,"network-request-failed")),oD.get())})}}function Yc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ei(r,e,s);return o.customData._tokenResponse=n,o}function mE(r){return r!==void 0&&r.enterprise!==void 0}class cD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return lD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hD(r,e){return Ts(r,"GET","/v2/recaptchaConfig",Es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(r,e){return Ts(r,"POST","/v1/accounts:delete",e)}async function tS(r,e){return Ts(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dD(r,e=!1){const n=nn(r),s=await n.getIdToken(e),o=Lp(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Xl(mm(o.auth_time)),issuedAtTime:Xl(mm(o.iat)),expirationTime:Xl(mm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function mm(r){return Number(r)*1e3}function Lp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const o=eT(n);return o?JSON.parse(o):(sh("Failed to decode base64 JWT payload"),null)}catch(o){return sh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function pE(r){const e=Lp(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function su(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof dr&&mD(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function mD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(r){var e;const n=r.auth,s=await r.getIdToken(),o=await su(r,tS(n,{idToken:s}));ve(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?nS(u.providerUserInfo):[],m=_D(r.providerData,f),p=r.isAnonymous,_=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),T=p?_:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Bm(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,A)}async function gD(r){const e=nn(r);await Ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _D(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function nS(r){return r.map(e=>{var{providerId:n}=e,s=Vp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(r,e){const n=await J0(r,{},async()=>{const s=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=eS(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",Z0.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vD(r,e){return Ts(r,"POST","/v2/accounts:revokeToken",Es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=pE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await yD(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new uo;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ir{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Vp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Bm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await su(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return dD(this,e)}reload(){return gD(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ir(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ah(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(or(this.auth));const e=await this.getIdToken();return await su(this,fD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,_,T;const A=(s=n.displayName)!==null&&s!==void 0?s:void 0,R=(o=n.email)!==null&&o!==void 0?o:void 0,V=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,L=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Y=(m=n.tenantId)!==null&&m!==void 0?m:void 0,F=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,G=(_=n.createdAt)!==null&&_!==void 0?_:void 0,Z=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:J,emailVerified:ce,isAnonymous:ue,providerData:Se,stsTokenManager:O}=n;ve(J&&O,e,"internal-error");const C=uo.fromJSON(this.name,O);ve(typeof J=="string",e,"internal-error"),Wr(A,e.name),Wr(R,e.name),ve(typeof ce=="boolean",e,"internal-error"),ve(typeof ue=="boolean",e,"internal-error"),Wr(V,e.name),Wr(L,e.name),Wr(Y,e.name),Wr(F,e.name),Wr(G,e.name),Wr(Z,e.name);const b=new ir({uid:J,auth:e,email:R,emailVerified:ce,displayName:A,isAnonymous:ue,photoURL:L,phoneNumber:V,tenantId:Y,stsTokenManager:C,createdAt:G,lastLoginAt:Z});return Se&&Array.isArray(Se)&&(b.providerData=Se.map(x=>Object.assign({},x))),F&&(b._redirectEventId=F),b}static async _fromIdTokenResponse(e,n,s=!1){const o=new uo;o.updateFromServerResponse(n);const u=new ir({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ah(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?nS(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new uo;m.updateFromIdToken(s);const p=new ir({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Bm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE=new Map;function rr(r){fr(r instanceof Function,"Expected a class definition");let e=gE.get(r);return e?(fr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,gE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}iS.type="NONE";const _E=iS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(r,e,n){return`firebase:${r}:${e}:${n}`}class co{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ah(this.userKey,o.apiKey,u),this.fullPersistenceKey=ah("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ir._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new co(rr(_E),e,s);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||rr(_E);const f=ah(s,e.config.apiKey,e.name);let m=null;for(const _ of n)try{const T=await _._get(f);if(T){const A=ir._fromJSON(e,T);_!==u&&(m=A),u=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new co(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new co(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uS(e))return"Blackberry";if(cS(e))return"Webos";if(sS(e))return"Safari";if((e.includes("chrome/")||aS(e))&&!e.includes("edge/"))return"Chrome";if(lS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function rS(r=tn()){return/firefox\//i.test(r)}function sS(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aS(r=tn()){return/crios\//i.test(r)}function oS(r=tn()){return/iemobile/i.test(r)}function lS(r=tn()){return/android/i.test(r)}function uS(r=tn()){return/blackberry/i.test(r)}function cS(r=tn()){return/webos/i.test(r)}function Up(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function ED(r=tn()){var e;return Up(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TD(){return bR()&&document.documentMode===10}function hS(r=tn()){return Up(r)||lS(r)||cS(r)||uS(r)||/windows phone/i.test(r)||oS(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(r,e=[]){let n;switch(r){case"Browser":n=yE(tn());break;case"Worker":n=`${yE(tn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ao}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(r,e={}){return Ts(r,"GET","/v2/passwordPolicy",Es(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=6;class bD{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:AD,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new vE(this),this.idTokenSubscription=new vE(this),this.beforeStateQueue=new SD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=rr(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await co.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await tS(this,{idToken:e}),s=await ir._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Gn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ah(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(or(this));const n=e?nn(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(or(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(or(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wD(this),n=new bD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await vD(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&rr(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&nD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ha(r){return nn(r)}class vE{constructor(e){this.auth=e,this.observer=null,this.addObserver=MR(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CD(r){Yh=r}function dS(r){return Yh.loadJS(r)}function ID(){return Yh.recaptchaEnterpriseScript}function xD(){return Yh.gapiScript}function DD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class ND{constructor(){this.enterprise=new OD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class OD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const MD="recaptcha-enterprise",mS="NO_RECAPTCHA";class VD{constructor(e){this.type=MD,this.auth=ha(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{hD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new cD(p);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,f(_.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;mE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(_=>{f(_)}).catch(()=>{f(mS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ND().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&mE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=ID();p.length!==0&&(p+=m),dS(p).then(()=>{o(m,u,f)}).catch(_=>{f(_)})}}).catch(m=>{f(m)})})}}async function EE(r,e,n,s=!1,o=!1){const u=new VD(r);let f;if(o)f=mS;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Hm(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await EE(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await EE(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(r,e){const n=Zm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(us(u,e??{}))return o;Jn(o,"already-initialized")}return n.initialize({options:e})}function PD(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(rr);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function LD(r,e,n){const s=ha(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=pS(e),{host:f,port:m}=UD(e),p=m===null?"":`:${m}`,_={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(us(_,s.config.emulator)&&us(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,jD()}function pS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function UD(r){const e=pS(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:TE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:TE(f)}}}function TE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function jD(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return nr("not implemented")}_getIdTokenResponse(e){return nr("not implemented")}_linkToIdToken(e,n){return nr("not implemented")}_getReauthenticationResolver(e){return nr("not implemented")}}async function zD(r,e){return Ts(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(r,e){return vu(r,"POST","/v1/accounts:signInWithPassword",Es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(r,e){return vu(r,"POST","/v1/accounts:signInWithEmailLink",Es(r,e))}async function qD(r,e){return vu(r,"POST","/v1/accounts:signInWithEmailLink",Es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends jp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new au(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new au(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hm(e,n,"signInWithPassword",BD);case"emailLink":return HD(e,{email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hm(e,s,"signUpPassword",zD);case"emailLink":return qD(e,{idToken:n,email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(r,e){return vu(r,"POST","/v1/accounts:signInWithIdp",Es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD="http://localhost";class aa extends jp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Vp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new aa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ho(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ho(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ho(e,n)}buildRequest(){const e={requestUri:FD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $D(r){const e=zl(Bl(r)).link,n=e?zl(Bl(e)).deep_link_id:null,s=zl(Bl(r)).deep_link_id;return(s?zl(Bl(s)).link:null)||s||n||e||r}class zp{constructor(e){var n,s,o,u,f,m;const p=zl(Bl(e)),_=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,A=GD((o=p.mode)!==null&&o!==void 0?o:null);ve(_&&T&&A,"argument-error"),this.apiKey=_,this.operation=A,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=$D(e);try{return new zp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.providerId=Do.PROVIDER_ID}static credential(e,n){return au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=zp.parseLink(n);return ve(s,"argument-error"),au._fromEmailAndCode(e,s.code,s.tenantId)}}Do.PROVIDER_ID="password";Do.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Do.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends gS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Eu{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return aa._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return es.credential(n,s)}catch{return null}}}es.GOOGLE_SIGN_IN_METHOD="google.com";es.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Eu{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.GITHUB_SIGN_IN_METHOD="github.com";ts.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Eu{constructor(){super("twitter.com")}static credential(e,n){return aa._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ns.credential(n,s)}catch{return null}}}ns.TWITTER_SIGN_IN_METHOD="twitter.com";ns.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD(r,e){return vu(r,"POST","/v1/accounts:signUp",Es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ir._fromIdTokenResponse(e,s,o),f=SE(s);return new oa({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=SE(s);return new oa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function SE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends dr{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,bh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new bh(e,n,s,o)}}function _S(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?bh._fromErrorAndOperation(r,u,e,s):u})}async function QD(r,e,n=!1){const s=await su(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return oa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(r,e,n=!1){const{auth:s}=r;if(Gn(s.app))return Promise.reject(or(s));const o="reauthenticate";try{const u=await su(r,_S(s,o,e,r),n);ve(u.idToken,s,"internal-error");const f=Lp(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(r.uid===m,s,"user-mismatch"),oa._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Jn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yS(r,e,n=!1){if(Gn(r.app))return Promise.reject(or(r));const s="signIn",o=await _S(r,s,e),u=await oa._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function XD(r,e){return yS(ha(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vS(r){const e=ha(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function WD(r,e,n){if(Gn(r.app))return Promise.reject(or(r));const s=ha(r),f=await Hm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&vS(r),p}),m=await oa._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function ZD(r,e,n){return Gn(r.app)?Promise.reject(or(r)):XD(nn(r),Do.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&vS(r),s})}function JD(r,e,n,s){return nn(r).onIdTokenChanged(e,n,s)}function eN(r,e,n){return nn(r).beforeAuthStateChanged(e,n)}function tN(r){return nn(r).signOut()}const Rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=1e3,iN=10;class TS extends ES{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);TD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,iN):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},nN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}TS.type="LOCAL";const rN=TS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS extends ES{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}SS.type="SESSION";const wS=SS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Xh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async _=>_(n.origin,u)),p=await sN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Xh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const _=Bp("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const R=A;if(R.data.eventId===_)switch(R.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(){return window}function oN(r){Ti().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AS(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function lN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uN(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function cN(){return AS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="firebaseLocalStorageDb",hN=1,Ch="firebaseLocalStorage",RS="fbase_key";class Tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Wh(r,e){return r.transaction([Ch],e?"readwrite":"readonly").objectStore(Ch)}function fN(){const r=indexedDB.deleteDatabase(bS);return new Tu(r).toPromise()}function qm(){const r=indexedDB.open(bS,hN);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ch,{keyPath:RS})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ch)?e(s):(s.close(),await fN(),e(await qm()))})})}async function wE(r,e,n){const s=Wh(r,!0).put({[RS]:e,value:n});return new Tu(s).toPromise()}async function dN(r,e){const n=Wh(r,!1).get(e),s=await new Tu(n).toPromise();return s===void 0?null:s.value}function AE(r,e){const n=Wh(r,!0).delete(e);return new Tu(n).toPromise()}const mN=800,pN=3;class CS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>pN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return AS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Xh._getInstance(cN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await lN(),!this.activeServiceWorker)return;this.sender=new aN(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qm();return await wE(e,Rh,"1"),await AE(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>wE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>dN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>AE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Wh(o,!1).getAll();return new Tu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CS.type="LOCAL";const gN=CS;new yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(r,e){return e?rr(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp extends jp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yN(r){return yS(r.auth,new Hp(r),r.bypassAuthState)}function vN(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),YD(n,new Hp(r),r.bypassAuthState)}async function EN(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),QD(n,new Hp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yN;case"linkViaPopup":case"linkViaRedirect":return EN;case"reauthViaPopup":case"reauthViaRedirect":return vN;default:Jn(this.auth,"internal-error")}}resolve(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=new yu(2e3,1e4);class oo extends IS{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,oo.currentPopupAction&&oo.currentPopupAction.cancel(),oo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){fr(this.filter.length===1,"Popup operations only handle one event");const e=Bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,oo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TN.get())};e()}}oo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="pendingRedirect",oh=new Map;class wN extends IS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=oh.get(this.auth._key());if(!e){try{const s=await AN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AN(r,e){const n=CN(e),s=RN(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function bN(r,e){oh.set(r._key(),e)}function RN(r){return rr(r._redirectPersistence)}function CN(r){return ah(SN,r.config.apiKey,r.name)}async function IN(r,e,n=!1){if(Gn(r.app))return Promise.reject(or(r));const s=ha(r),o=_N(s,e),f=await new wN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=10*60*1e3;class DN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!xS(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ei(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xN&&this.cachedEventUids.clear(),this.cachedEventUids.has(bE(e))}saveEventToCache(e){this.cachedEventUids.add(bE(e)),this.lastProcessedEventTime=Date.now()}}function bE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function xS({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xS(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(r,e={}){return Ts(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VN=/^https?/;async function kN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await ON(r);for(const n of e)try{if(PN(n))return}catch{}Jn(r,"unauthorized-domain")}function PN(r){const e=zm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!VN.test(n))return!1;if(MN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=new yu(3e4,6e4);function RE(){const r=Ti().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function UN(r){return new Promise((e,n)=>{var s,o,u;function f(){RE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RE(),n(Ei(r,"network-request-failed"))},timeout:LN.get()})}if(!((o=(s=Ti().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ti().gapi)===null||u===void 0)&&u.load)f();else{const m=DD("iframefcb");return Ti()[m]=()=>{gapi.load?f():n(Ei(r,"network-request-failed"))},dS(`${xD()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw lh=null,e})}let lh=null;function jN(r){return lh=lh||UN(r),lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=new yu(5e3,15e3),BN="__/auth/iframe",HN="emulator/auth/iframe",qN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GN(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Pp(e,HN):`https://${r.config.authDomain}/${BN}`,s={apiKey:e.apiKey,appName:r.name,v:Ao},o=FN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${hu(s).slice(1)}`}async function $N(r){const e=await jN(r),n=Ti().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:GN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ei(r,"network-request-failed"),m=Ti().setTimeout(()=>{u(f)},zN.get());function p(){Ti().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QN=500,YN=600,XN="_blank",WN="http://localhost";class CE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZN(r,e,n,s=QN,o=YN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},KN),{width:s.toString(),height:o.toString(),top:u,left:f}),_=tn().toLowerCase();n&&(m=aS(_)?XN:n),rS(_)&&(e=e||WN,p.scrollbars="yes");const T=Object.entries(p).reduce((R,[V,L])=>`${R}${V}=${L},`,"");if(ED(_)&&m!=="_self")return JN(e||"",m),new CE(null);const A=window.open(e||"",m,T);ve(A,r,"popup-blocked");try{A.focus()}catch{}return new CE(A)}function JN(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="__/auth/handler",t2="emulator/auth/handler",n2=encodeURIComponent("fac");async function IE(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ao,eventId:o};if(e instanceof gS){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",OR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,A]of Object.entries({}))f[T]=A}if(e instanceof Eu){const T=e.getScopes().filter(A=>A!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),_=p?`#${n2}=${encodeURIComponent(p)}`:"";return`${i2(r)}?${hu(m).slice(1)}${_}`}function i2({config:r}){return r.emulator?Pp(r,t2):`https://${r.authDomain}/${e2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="webStorageSupport";class r2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wS,this._completeRedirectFn=IN,this._overrideRedirectResult=bN}async _openPopup(e,n,s,o){var u;fr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await IE(e,n,s,zm(),o);return ZN(e,f,Bp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await IE(e,n,s,zm(),o);return oN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(fr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await $N(e),s=new DN(e);return n.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pm,{type:pm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[pm];f!==void 0&&n(!!f),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return hS()||sS()||Up()}}const s2=r2;var xE="@firebase/auth",DE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function l2(r){fo(new ia("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fS(r)},_=new RD(s,o,u,p);return PD(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),fo(new ia("auth-internal",e=>{const n=ha(e.getProvider("auth").getImmediate());return(s=>new a2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),as(xE,DE,o2(r)),as(xE,DE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=5*60,c2=iT("authIdTokenMaxAge")||u2;let NE=null;const h2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>c2)return;const o=n==null?void 0:n.token;NE!==o&&(NE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function f2(r=oT()){const e=Zm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=kD(r,{popupRedirectResolver:s2,persistence:[gN,rN,wS]}),s=iT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=h2(u.toString());eN(n,f,()=>f(n.currentUser)),JD(n,m=>f(m))}}const o=tT("auth");return o&&LD(n,`http://${o}`),n}function d2(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}CD({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ei("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",d2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});l2("Browser");var m2="firebase",p2="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */as(m2,p2,"app");const g2={apiKey:"AIzaSyCSjbxL9N2DMxDdY5VYHIgSS8xcEXT54xE",authDomain:"my-first-project-7cbf9.firebaseapp.com",databaseURL:"https://my-first-project-7cbf9-default-rtdb.europe-west1.firebasedatabase.app",projectId:"my-first-project-7cbf9",storageBucket:"my-first-project-7cbf9.firebasestorage.app",messagingSenderId:"424606795900",appId:"1:424606795900:web:61a3a0683433959a3da1f9"},DS=aT(g2),Ri=Ux(DS),qp=f2(DS);function _2(){const r=H.useRef(),[e,n]=H.useState([]),[s,o]=H.useState([]),u=H.useRef(!1),f=()=>{const m=r.current.value.trim().toLowerCase();if(r.current.value="",m==="")o(e);else{const p=e.filter(_=>{var T;return(T=_.content)==null?void 0:T.toLowerCase().includes(m)});o(p)}};return H.useEffect(()=>{if(u.current)return;u.current=!0,(async()=>{try{const p=Gh(Ri,"posts"),T=(await Op(p)).docs.map(A=>A.data());n(T),o(T)}catch(p){console.error("Грешка при взимане на постовете:",p)}})()},[]),E.jsxs("div",{className:mn.container,children:[E.jsxs("nav",{className:mn.nav,children:[E.jsx("h1",{children:"At"}),E.jsxs("ul",{children:[E.jsx("li",{children:E.jsxs(_e,{to:"/react-regular-exam/login",children:[E.jsx("i",{className:`fa-solid fa-arrow-right-to-bracket ${mn.i}`}),E.jsx("span",{children:"Sign in"})]})}),E.jsx("li",{children:E.jsxs(_e,{to:"/react-regular-exam/create",children:[E.jsx("i",{className:`fa-regular fa-id-badge ${mn.i}`}),E.jsx("span",{children:"Create account"})]})}),E.jsx("li",{children:E.jsxs(_e,{to:"/react-regular-exam",children:[E.jsx("i",{className:`fa-solid fa-person-through-window ${mn.i}`}),E.jsx("span",{children:"Leave"})]})})]}),E.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Guest"}),E.jsx("p",{children:"Guest"})]}),E.jsxs("main",{className:mn.main,children:[E.jsxs("section",{id:"search",className:mn.search,children:[E.jsx("h3",{children:"What do you need?"}),E.jsx("input",{type:"search",ref:r,name:"search",id:"search",placeholder:"search"}),E.jsx("button",{onClick:f,children:"🔍"})]}),E.jsxs("section",{id:"posts",className:mn.posts,children:[E.jsxs("div",{id:"post",className:mn.post,children:[E.jsxs("div",{id:"meta",className:mn.meta,children:[E.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Profile image"}),E.jsx("h4",{children:"Author"}),E.jsx("p",{children:"Date"})]}),E.jsx("p",{children:"Text content. This is my first post is text content, which is going to become viral!"}),E.jsx("img",{src:"https://images.indianexpress.com/2017/12/2017-viral-photos-main_759_combo.jpg?w=350",alt:"Img or Video"}),E.jsxs("div",{id:"feedback",className:mn.feedback,children:[E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-comment"}),E.jsx("span",{children:"5"})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-heart"}),E.jsx("span",{children:"12"})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-solid fa-magnifying-glass"}),E.jsx("span",{children:"57"})]})]})]}),s.length>0?s.map((m,p)=>{const _=m.meta.date;return E.jsxs("div",{id:"post",className:mn.post,children:[E.jsxs("div",{id:"meta",className:mn.meta,children:[E.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Profile image"}),E.jsx("h4",{children:m.meta.author}),E.jsx("p",{children:_})]}),E.jsx("p",{children:m.content}),E.jsx("img",{src:m.img||"https://example.com/default-image.jpg",alt:"Img or Video"}),E.jsxs("div",{id:"feedback",className:mn.feedback,children:[E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-comment"}),E.jsx("span",{children:m.feedback.comments})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-heart"}),E.jsx("span",{children:m.feedback.likes})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-solid fa-magnifying-glass"}),E.jsx("span",{children:m.feedback.views})]})]})]},p)}):E.jsx("p",{children:"No posts found"})]})]})]})}const y2="_wrapperMajor_12wpi_1",v2="_header_12wpi_11",E2="_logo_12wpi_73",T2="_main_12wpi_83",S2="_mainDiv_12wpi_95",w2="_nav_12wpi_107",A2="_button_12wpi_121",b2="_google_12wpi_141",R2="_awesome_12wpi_175",C2="_separator_12wpi_201",I2="_hr_12wpi_223",x2="_input_12wpi_231",D2="_next_12wpi_245",N2="_lastParagraph_12wpi_263",ft={wrapperMajor:y2,header:v2,logo:E2,main:T2,mainDiv:S2,nav:w2,button:A2,google:b2,awesome:R2,separator:C2,hr:I2,input:x2,next:D2,lastParagraph:N2},fa=H.createContext();function O2({children:r}){const[e,n]=H.useState({name:"",email:"",password:"",birthday:{month:"",day:"",year:""},checkbox:{getMore:"",connectWith:"",peronalizedAds:"",noThanks:""}}),s=o=>{n(u=>({...u,...o}))};return E.jsx(fa.Provider,{value:{formData:e,updateForm:s},children:r})}function M2(){const r=_s(),{updateForm:e}=H.useContext(fa),n=async s=>{var u;s.preventDefault();const o={email:((u=s.target.elements.email)==null?void 0:u.value)||""};if(!o.email)return alert("You must enter a valid email address");await e(o),r("/react-regular-exam/login/pass")};return E.jsx("form",{onSubmit:n,children:E.jsxs("div",{className:ft.wrapperMajor,children:[E.jsxs("header",{className:ft.header,children:[E.jsx(_e,{className:ft.x,to:"/react-regular-exam",children:E.jsx("i",{className:"fa-solid fa-xmark"})}),E.jsx("h1",{className:ft.logo,children:"At"})]}),E.jsx("main",{className:ft.main,children:E.jsxs("div",{className:ft.mainDiv,children:[E.jsx("h1",{children:"Sign in to At"}),E.jsxs("nav",{className:ft.nav,children:[E.jsxs("button",{type:"button",className:`${ft.button} ${ft.awesome} ${ft.google}`,children:[E.jsx("i",{className:"fa-brands fa-google"}),"Sign in with Google"]}),E.jsxs("button",{type:"button",className:`${ft.button} ${ft.awesome}`,children:[E.jsx("i",{className:"fa-brands fa-apple"}),"Sign in with Apple"]}),E.jsxs("div",{className:ft.separator,children:[E.jsx("hr",{className:ft.hr}),E.jsx("p",{children:"or"}),E.jsx("hr",{className:ft.hr})]}),E.jsx("input",{name:"email",className:ft.input,type:"email",placeholder:"email"}),E.jsx("button",{className:`${ft.button} ${ft.awesome} ${ft.next}`,children:"Next"}),E.jsx("button",{type:"button",className:`${ft.button} ${ft.awesome}`,to:"/react-regular-exam/guest",children:"Forgot password?"}),E.jsxs("p",{className:ft.lastParagraph,children:["Don't have an account?",E.jsx(_e,{to:"/react-regular-exam/create",children:"Sign up"})]})]})]})})]})})}const V2="_wrapperMajor_1qz1e_1",k2="_header_1qz1e_21",P2="_logo_1qz1e_83",L2="_main_1qz1e_93",U2="_mainDiv_1qz1e_107",j2="_upperDiv_1qz1e_121",z2="_emailState_1qz1e_131",B2="_password_1qz1e_159",H2="_arrow_1qz1e_177",q2="_inputWrapper_1qz1e_189",F2="_pass_1qz1e_159",G2="_forgot_1qz1e_219",$2="_login_1qz1e_247",K2="_signup_1qz1e_289",cn={wrapperMajor:V2,header:k2,logo:P2,main:L2,mainDiv:U2,upperDiv:j2,emailState:z2,password:B2,arrow:H2,inputWrapper:q2,pass:F2,forgot:G2,login:$2,signup:K2};function Q2(r,e){localStorage.setItem("user",JSON.stringify(r)),localStorage.setItem("userToken",e)}function NS(){return localStorage.getItem("userToken")}function Fp(){return localStorage.getItem("user")}function Y2(){localStorage.removeItem("userToken"),localStorage.removeItem("user")}const X2=async r=>{const{email:e,password:n}=r;try{const o=(await WD(qp,e,n)).user;await $0(ca(Ri,"users",o.uid),{...r,createdAt:new Date,userId:o.uid})}catch(s){console.error("Error registering user:",s.message)}},W2=async r=>{const{email:e,password:n}=r;try{const o=(await ZD(qp,e,n)).user,u=await o.getIdToken(),f=await tO(o.uid);return Q2(f,u),f}catch(s){console.error("Error login user:",s.message)}},Z2=async r=>{try{const e=await nO(r.img);e?r.img=e:r.img="";const n=await Zx(Gh(Ri,"posts"),r),s={...r,id:n.id};await $0(ca(Ri,"posts",n.id),s)}catch(e){console.error("Error adding document:",e)}},OS=async(r,e)=>{const n=ca(Ri,"posts",r);try{await K0(n,{comments:eD({data:e}),"feedback.comments":Q0(1)})}catch(s){console.error("Error adding comment: ",s)}},J2=async r=>{const e=ca(Ri,"posts",r);try{await K0(e,{"feedback.likes":Q0(1)})}catch(n){console.error("Error adding like: ",n)}},eO=async r=>{try{const e=ca(Ri,"posts",r),n=await F0(e);return n.exists()?n.data():(console.log("No such document!"),null)}catch(e){return console.error("Error fetching post:",e),null}},OE=async()=>{try{const r=Gh(Ri,"posts"),n=(await Op(r)).docs.map(s=>s.data());return n.sort((s,o)=>new Date(o.meta.date)-new Date(s.meta.date)),n}catch(r){console.error("Грешка при взимане на постовете:",r)}};async function tO(r){try{const e=ca(Ri,"users",r),n=await F0(e);if(n.exists())return n.data();throw new Error("no such user!")}catch(e){return console.error("Error fetching user:",e.message),null}}const nO=async r=>{if(!r)return;const e=new FormData;e.append("file",r),e.append("upload_preset","my_unsigned_preset");try{const s=await(await fetch("https://api.cloudinary.com/v1_1/dsqegonee/image/upload",{method:"POST",body:e})).json();if(s.secure_url)return console.log("Изображението е качено успешно:",s.secure_url),s.secure_url;console.error("Грешка при качването на изображението",s)}catch(n){console.error("Грешка при качването на изображението:",n)}},iO="_loader_1ojyy_11",rO={loader:iO};function MS(){return E.jsx("div",{className:rO.loader})}function sO(){const{formData:r,updateForm:e}=H.useContext(fa),n=_s(),[s,o]=H.useState(!1),[u,f]=H.useState(!1),m=async p=>{var T;p.preventDefault(),f(!0);const _={password:(T=p.target.elements.password)==null?void 0:T.value};if(!_)return alert("You need to provide a password");await e(_)};return H.useEffect(()=>{if(!r.password)return;(async()=>{try{const _=await W2(r);await e(_),n("/react-regular-exam/welcome"),f(!1)}catch(_){alert(_.message)}})()},[r.password]),E.jsx("form",{onSubmit:m,children:E.jsxs("div",{className:cn.wrapperMajor,children:[u&&E.jsx(MS,{}),E.jsxs("header",{className:cn.header,children:[E.jsx(_e,{className:cn.x,to:"/react-regular-exam",children:E.jsx("i",{className:"fa-solid fa-xmark"})}),E.jsx("h1",{className:cn.logo,children:"At"})]}),E.jsx("main",{className:cn.main,children:E.jsxs("div",{className:cn.mainDiv,children:[E.jsxs("div",{className:cn.upperDiv,children:[E.jsx("h1",{children:"Enter your password"}),E.jsxs("div",{className:cn.emailState,children:[E.jsx("p",{children:"Email"}),E.jsx("p",{children:r.email})]}),E.jsxs("div",{className:cn.password,children:[E.jsxs("div",{className:cn.arrow,children:[E.jsx("p",{children:"Password"}),E.jsx("i",{className:"fa-solid fa-arrow-down"})]}),E.jsxs("div",{className:cn.inputWrapper,children:[E.jsx("input",{className:cn.pass,type:"password",name:"password",id:"",placeholder:""}),E.jsx("i",{className:"fa-regular fa-eye"})]})]}),E.jsx("p",{className:cn.forgot,children:E.jsx(_e,{children:"Forgot password?"})})]}),E.jsxs("div",{className:cn.login,children:[E.jsx("input",{name:"login",type:"submit",value:"Log in"}),E.jsxs("div",{className:cn.signup,children:[E.jsx("p",{children:"Don't have an account?"}),E.jsx(_e,{to:"/create",children:"Sign up"})]})]})]})})]})})}const aO="_wrapperMajor_1bczb_1",oO="_header_1bczb_21",lO="_logo_1bczb_83",uO="_main_1bczb_93",cO="_mainDiv_1bczb_107",hO="_upperDiv_1bczb_121",fO="_password_1bczb_133",dO="_arrow_1bczb_151",mO="_inputWrapper_1bczb_163",pO="_pass_1bczb_133",gO="_login_1bczb_185",_O="_birth_1bczb_223",yO="_birthday_1bczb_255",vO="_month_1bczb_265",EO="_day_1bczb_291",TO="_year_1bczb_291",Ye={wrapperMajor:aO,header:oO,logo:lO,main:uO,mainDiv:cO,upperDiv:hO,password:fO,arrow:dO,inputWrapper:mO,pass:pO,login:gO,birth:_O,birthday:yO,month:vO,day:EO,year:TO};function SO(){const{updateForm:r}=H.useContext(fa),e=_s(),n=async s=>{var u,f,m,p,_,T,A;s.preventDefault();const o={name:((u=s.target.elements.name)==null?void 0:u.value)||"",email:((f=s.target.elements.email)==null?void 0:f.value)||"",password:((m=s.target.elements.password)==null?void 0:m.value)||"",birthday:{month:((p=s.target.elements.month)==null?void 0:p.value)||"",day:((_=s.target.elements.day)==null?void 0:_.value)||"",year:((T=s.target.elements.year)==null?void 0:T.value)||""}};if(o.name)if(o.email){if(!o.password||o.password.length<6)return alert("You must enter a valid password!");if(o.password!==((A=s.target.elements.repeat)==null?void 0:A.value))return alert("Password Missmatch!");if(o.birthday.month)if(o.birthday.day){if(!o.birthday.year)return alert("You must choose an year!")}else return alert("You must choose a day!");else return alert("You must choose a month!")}else return alert("You must enter a valid email address!");else return alert("You must enter a name!");await r(o),e("/react-regular-exam/create/submit")};return E.jsx("form",{onSubmit:n,children:E.jsxs("div",{className:Ye.wrapperMajor,children:[E.jsxs("header",{className:Ye.header,children:[E.jsx(_e,{className:Ye.x,to:"/react-regular-exam",children:E.jsx("i",{className:"fa-solid fa-xmark"})}),E.jsx("h1",{className:Ye.logo,children:"At"})]}),E.jsx("main",{className:Ye.main,children:E.jsxs("div",{className:Ye.mainDiv,children:[E.jsxs("div",{className:Ye.upperDiv,children:[E.jsx("h1",{children:"Create your account"}),E.jsxs("div",{className:Ye.password,children:[E.jsxs("div",{className:Ye.arrow,children:[E.jsx("p",{children:"Name"}),E.jsx("i",{className:"fa-solid fa-arrow-down"})]}),E.jsx("div",{className:Ye.inputWrapper,children:E.jsx("input",{className:Ye.pass,type:"text",name:"name",id:"",placeholder:""})})]}),E.jsxs("div",{className:Ye.password,children:[E.jsxs("div",{className:Ye.arrow,children:[E.jsx("p",{children:"Email"}),E.jsx("i",{className:"fa-solid fa-arrow-down"})]}),E.jsx("div",{className:Ye.inputWrapper,children:E.jsx("input",{className:Ye.pass,type:"email",name:"email",id:"",placeholder:""})})]}),E.jsxs("div",{className:Ye.password,children:[E.jsxs("div",{className:Ye.arrow,children:[E.jsx("p",{children:"Password"}),E.jsx("i",{className:"fa-solid fa-arrow-down"})]}),E.jsx("div",{className:Ye.inputWrapper,children:E.jsx("input",{className:Ye.pass,type:"password",name:"password",id:"",placeholder:"At least 6 characters"})})]}),E.jsxs("div",{className:Ye.password,children:[E.jsxs("div",{className:Ye.arrow,children:[E.jsx("p",{children:"Repeat password"}),E.jsx("i",{className:"fa-solid fa-arrow-down"})]}),E.jsx("div",{className:Ye.inputWrapper,children:E.jsx("input",{className:Ye.pass,type:"password",name:"repeat",id:"",placeholder:""})})]}),E.jsxs("div",{className:Ye.birth,children:[E.jsx("p",{children:"Date of Birth"}),E.jsx("p",{children:"This will not be shown publicly. Confirm your own age, even if this account is for a business, a pet, or something else."}),E.jsxs("div",{className:Ye.birthday,children:[E.jsxs("div",{className:Ye.month,children:[E.jsx("p",{children:"month"}),E.jsxs("select",{name:"month",id:"month",children:[E.jsx("option",{value:""}),E.jsx("option",{value:"January",children:"January"}),E.jsx("option",{value:"February",children:"February"}),E.jsx("option",{value:"March",children:"March"}),E.jsx("option",{value:"April",children:"April"}),E.jsx("option",{value:"May",children:"May"}),E.jsx("option",{value:"June",children:"June"}),E.jsx("option",{value:"July",children:"July"}),E.jsx("option",{value:"August",children:"August"}),E.jsx("option",{value:"September",children:"September"}),E.jsx("option",{value:"October",children:"October"}),E.jsx("option",{value:"November",children:"November"}),E.jsx("option",{value:"December",children:"December"})]})]}),E.jsxs("div",{className:Ye.day,children:[E.jsx("p",{children:"Day"}),E.jsxs("select",{name:"day",id:"day",children:[E.jsx("option",{value:""}),Array.from({length:31},(s,o)=>E.jsx("option",{value:o+1,children:o+1},o+1))]})]}),E.jsxs("div",{className:Ye.year,children:[E.jsx("p",{children:"Year"}),E.jsxs("select",{name:"year",id:"year",children:[E.jsx("option",{value:""}),Array.from({length:121},(s,o)=>E.jsx("option",{value:o+1905,children:o+1905},o+1905))]})]})]})]})]}),E.jsx("div",{className:Ye.login,children:E.jsx("button",{children:"Next"})})]})})]})})}const wO="_wrapperMajor_ewi7d_1",AO="_header_ewi7d_33",bO="_logo_ewi7d_95",RO="_main_ewi7d_105",CO="_wrapper_ewi7d_1",IO="_checkBoxWrapper_ewi7d_135",xO="_button_ewi7d_267",Zr={wrapperMajor:wO,header:AO,logo:bO,main:RO,wrapper:CO,checkBoxWrapper:IO,button:xO};function DO(){const r=_s(),{formData:e,updateForm:n}=H.useContext(fa),[s,o]=H.useState(!1),u=async f=>{var p,_,T;f.preventDefault(),o(!0);const m={checkbox:{getMore:(p=f.target.elements.getMore)!=null&&p.checked?"yes":"no",connectWith:(_=f.target.elements.connectWith)!=null&&_.checked?"yes":"no",peronalizedAds:(T=f.target.elements.peronalizedAds)!=null&&T.checked?"yes":"no"}};try{n(m)}catch(A){console.error("Error registering user:",A.message)}};return H.useEffect(()=>{if(!e.checkbox.getMore)return;(async()=>{try{await X2(e),o(!1),r("/react-regular-exam/guest")}catch(m){alert(m.message)}})()},[e.checkbox.getMore]),E.jsx("form",{onSubmit:u,children:E.jsxs("div",{className:Zr.wrapperMajor,children:[s&&E.jsx(MS,{}),E.jsxs("header",{className:Zr.header,children:[E.jsx(_e,{className:Zr.x,to:"/react-regular-exam",children:E.jsx("i",{className:"fa-solid fa-xmark"})}),E.jsx("h1",{className:Zr.logo,children:"At"})]}),E.jsxs("main",{className:Zr.main,children:[E.jsxs("div",{className:Zr.wrapper,children:[E.jsx("h1",{children:"Customize your experience"}),E.jsxs("div",{className:Zr.checkBoxWrapper,children:[E.jsxs("div",{children:[E.jsx("h3",{children:"Get more out of At"}),E.jsxs("div",{children:[E.jsx("p",{children:"Receive email about your At activity and recommendations."}),E.jsx("input",{type:"checkbox",name:"getMore"})]})]}),E.jsxs("div",{children:[E.jsx("h3",{children:"Connect with people you know"}),E.jsxs("div",{children:[E.jsx("p",{children:"Let others find your At account by your email address."}),E.jsx("input",{type:"checkbox",name:"connectWith"})]})]}),E.jsxs("div",{children:[E.jsx("h3",{children:"Personalized ads"}),E.jsxs("div",{children:[E.jsx("p",{children:"You will always see ads on At based on your At activity. When this setting is enabled, At may further personalize ads from At advertisers, on and off At, by combining your At activity with other online activity and information from our partners."}),E.jsx("input",{type:"checkbox",name:"peronalizedAds"})]})]})]}),E.jsxs("p",{children:["By signing up, you agree to our ",E.jsx(_e,{children:"Terms"}),", ",E.jsx(_e,{children:"Privacy Policy"}),", and ",E.jsx(_e,{children:"Cookie Use"}),". At may use your contact information, including your email address and phone number for purposes outlined in our Privacy Policy. ",E.jsx(_e,{children:"Learn more"})]})]}),E.jsx("div",{className:Zr.button,children:E.jsx("input",{type:"submit",value:"Next"})})]})]})})}const NO="_container_1491b_1",OO="_main_1491b_159",ME={container:NO,main:OO},MO="_nav_tg84o_1",VO="_i_tg84o_11",ea={nav:MO,i:VO};function kO(){const{formData:r,updateForm:e}=H.useContext(fa),[n,s]=H.useState("Loading..."),o=_s(),u=async f=>{f.preventDefault();try{await tN(qp),e({name:"",email:"",password:"",birthday:{month:"",day:"",year:""},checkbox:{getMore:"",connectWith:"",peronalizedAds:"",noThanks:""}}),Y2(),o("/react-regular-exam")}catch(m){console.error("Logout error:",m)}};return H.useEffect(()=>{const f=JSON.parse(Fp());f&&f.name?s(f.name):s("Guest")},[]),E.jsxs("nav",{className:ea.nav,children:[E.jsx("h1",{children:"At"}),E.jsxs("ul",{children:[E.jsx("li",{children:E.jsxs(_e,{to:"/react-regular-exam/welcome",children:[E.jsx("i",{className:`fa-solid fa-house-flag ${ea.i}`}),E.jsx("span",{children:"Welcome"})]})}),E.jsx("li",{children:E.jsxs(_e,{to:"/react-regular-exam/about",children:[E.jsx("i",{className:`fa-solid fa-bell ${ea.i}`}),E.jsx("span",{children:"Notification"})]})}),E.jsx("li",{children:E.jsxs(_e,{to:"/react-regular-exam/about",children:[E.jsx("i",{className:`fa-solid fa-envelope ${ea.i}`}),E.jsx("span",{children:"Messages"})]})}),E.jsx("li",{children:E.jsxs(_e,{to:"/react-regular-exam/about",children:[E.jsx("i",{className:`fa-solid fa-user ${ea.i}`}),E.jsx("span",{children:"Profile"})]})}),E.jsx("li",{children:E.jsxs(_e,{to:"/react-regular-exam/about",children:[E.jsx("i",{className:`fa-solid fa-suitcase ${ea.i}`}),E.jsx("span",{children:"Jobs"})]})}),E.jsx("li",{children:E.jsxs(_e,{onClick:u,to:"#",children:[E.jsx("i",{className:`fa-solid fa-circle-xmark ${ea.i}`}),E.jsx("span",{children:"Logout"})]})}),E.jsx("li",{children:E.jsx(_e,{to:"/react-regular-exam/welcome/post",children:E.jsx("span",{children:"Post"})})})]}),E.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Guest"}),E.jsx("p",{children:n})]})}function PO(){const r=H.useRef(null);return E.jsxs("div",{className:ME.container,children:[E.jsx(kO,{}),E.jsx("main",{ref:r,className:ME.main,children:E.jsx(sb,{context:{mainRef:r}})})]})}const LO="_search_jvbo2_1",UO="_meta_jvbo2_39",jO="_post_jvbo2_69",zO="_postWrapper_jvbo2_77",BO="_feedback_jvbo2_113",HO="_imgWrap_jvbo2_141",qO="_modalOverlay_jvbo2_149",FO="_modalContent_jvbo2_175",GO="_commentBox_jvbo2_195",$O="_modalButtons_jvbo2_215",KO="_sendBtn_jvbo2_225",QO="_closeBtn_jvbo2_247",pn={search:LO,meta:UO,post:jO,postWrapper:zO,feedback:BO,imgWrap:HO,modalOverlay:qO,modalContent:FO,commentBox:GO,modalButtons:$O,sendBtn:KO,closeBtn:QO};function YO(r,e){return E.jsx(E.Fragment,{children:E.jsxs("section",{id:"search",className:pn.search,children:[E.jsx("h3",{children:"What do you need?"}),E.jsx("input",{type:"search",ref:e,name:"search",id:"search",placeholder:"search"}),E.jsx("button",{onClick:r.onSearch,children:"🔍"})]})})}const XO=H.forwardRef(YO);function WO(r=6){const[e,n]=H.useState(!1),[s,o]=H.useState(1);return{fetchPosts:async(p,_)=>{try{const T=Gh(Ri,"posts"),R=(await Op(T)).docs.map(V=>V.data());R.sort((V,L)=>new Date(L.meta.date)-new Date(V.meta.date)),p(R),_(R.slice(0,r))}catch(T){console.error("Грешка при взимане на постовете:",T)}},loadMorePosts:(p,_,T)=>{if(e||_.length>=p.length)return;n(!0);const A=s+1,R=p.slice(s*r,A*r);R.length>0&&(T(V=>[...V,...R]),o(A)),n(!1)},loading:e,handleSearch:(p,_)=>{const T=p.trim().toLowerCase();if(T==="")o(1),_(posts.slice(0,s*r));else{const A=posts.filter(R=>{var V;return(V=R.content)==null?void 0:V.toLowerCase().includes(T)});_(A)}}}}function ZO(r,e){H.useEffect(()=>{if(!(r!=null&&r.current))return;const n=()=>{const s=r.current;if(!s)return;const o=s.scrollHeight;s.scrollTop+s.clientHeight+5>=o&&e()};return r.current.addEventListener("scroll",n),()=>{r.current&&r.current.removeEventListener("scroll",n)}},[r,e])}function JO(){const r=_s();return{handleDetailsClick:n=>{r(`/react-regular-exam/welcome/${n.id}/details`,{state:{post:n}})}}}const Ft=[];for(let r=0;r<256;++r)Ft.push((r+256).toString(16).slice(1));function eM(r,e=0){return(Ft[r[e+0]]+Ft[r[e+1]]+Ft[r[e+2]]+Ft[r[e+3]]+"-"+Ft[r[e+4]]+Ft[r[e+5]]+"-"+Ft[r[e+6]]+Ft[r[e+7]]+"-"+Ft[r[e+8]]+Ft[r[e+9]]+"-"+Ft[r[e+10]]+Ft[r[e+11]]+Ft[r[e+12]]+Ft[r[e+13]]+Ft[r[e+14]]+Ft[r[e+15]]).toLowerCase()}let gm;const tM=new Uint8Array(16);function nM(){if(!gm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");gm=crypto.getRandomValues.bind(crypto)}return gm(tM)}const iM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),VE={randomUUID:iM};function VS(r,e,n){var o;if(VE.randomUUID&&!r)return VE.randomUUID();r=r||{};const s=r.random??((o=r.rng)==null?void 0:o.call(r))??nM();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,eM(s)}function rM(){return{handleLike:async e=>{try{await J2(e)}catch(n){alert("Error adding like: "+n.message)}}}}function sM(){const[r,e]=H.useState([]),[n,s]=H.useState([]),o=H.useRef(),{fetchPosts:u,loadMorePosts:f,loading:m,handleSearch:p}=WO(),{mainRef:_}=FA(),{handleDetailsClick:T}=JO(),{handleLike:A}=rM();H.useEffect(()=>{(async()=>{await u(e,s)})()},[]);const R=()=>{o.current&&p(o.current.value)};ZO(_,f(r,n,s));const V=G=>{const J=G.target.closest("#closestID").getAttribute("data-key"),ce=document.getElementById(J);ce.style.display="block"},L=G=>{const J=G.target.closest("#closestID").getAttribute("data-key"),ce=document.getElementById(J);ce.style.display="none"},Y=async G=>{const Z=G.target.closest("#closestID"),J=Z.getAttribute("data-key"),ce=JSON.parse(Fp()),ue={id:VS(),author:ce.name,text:Z.querySelector("textarea").value,date:new Date().toLocaleString()};if(Z.querySelector("textarea").value="",!ue.text)return alert("Your reply is empty!");await OS(J,ue);const Se=document.getElementById(J);Se.style.display="none";const O=await OE();O&&s(O)},F=async G=>{const J=G.target.closest("#closestID").getAttribute("data-key");await A(J);const ce=await OE();ce&&s(ce)};return E.jsxs(E.Fragment,{children:[E.jsx(XO,{ref:o,onSearch:R}),E.jsx("section",{id:"posts",className:pn.posts,children:n.length>0?n.map(G=>E.jsxs("div",{id:"closestID","data-key":G.id,className:pn.postWrapper,children:[E.jsx("div",{onClick:()=>T(G),className:pn.post,children:E.jsxs("div",{className:pn.imgWrap,children:[E.jsxs("div",{className:pn.meta,children:[E.jsx("img",{src:G.meta.img||G.meta.avatar||"https://example.com/default-avatar.jpg",alt:"Profile"}),E.jsx("h4",{children:G.meta.author}),E.jsx("p",{children:G.meta.date})]}),E.jsx("p",{children:G.content}),E.jsx("img",{src:G.img||"https://example.com/default-avatar.jpg",alt:"Img or Video"})]})},G.id),E.jsxs("div",{className:pn.feedback,children:[E.jsxs("p",{onClick:Z=>V(Z),children:[E.jsx("i",{className:"fa-regular fa-comment"}),E.jsx("span",{children:G.feedback.comments})]}),E.jsxs("p",{onClick:Z=>F(Z),children:[E.jsx("i",{className:"fa-regular fa-heart"}),E.jsx("span",{children:G.feedback.likes})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-solid fa-magnifying-glass"}),E.jsx("span",{children:G.feedback.views})]})]}),E.jsx("div",{"data-key":G.id,id:G.id,style:{display:"none"},className:pn.modalOverlay,children:E.jsxs("div",{className:pn.modalContent,onClick:Z=>Z.stopPropagation(),children:[E.jsx("textarea",{className:pn.commentBox,placeholder:"Post your reply"}),E.jsxs("div",{className:pn.modalButtons,children:[E.jsx("button",{className:pn.sendBtn,onClick:Z=>Y(Z),children:"Reply"}),E.jsx("button",{className:pn.closeBtn,onClick:Z=>L(Z),children:"X"})]})]})})]},G.id)):E.jsx("p",{children:"No posts found"})}),m&&E.jsx("p",{className:pn.loading,children:"Loading more posts..."})]})}function aM({children:r}){const e=NS(),n=_s();return H.useEffect(()=>{if(!e)return n("/react-regular-exam")}),E.jsx(E.Fragment,{children:r})}const oM="_postFormContainer_19kdp_3",lM="_postForm_19kdp_3",uM="_avatar_19kdp_43",cM="_formContent_19kdp_57",hM="_textarea_19kdp_71",fM="_mediaPreview_19kdp_93",dM="_footer_19kdp_117",mM="_mediaButton_19kdp_133",pM="_button_19kdp_161",gM="_removeButton_19kdp_191",gi={postFormContainer:oM,postForm:lM,avatar:uM,formContent:cM,textarea:hM,mediaPreview:fM,footer:dM,mediaButton:mM,button:pM,removeButton:gM};function _M(){const[r,e]=H.useState(null),[n,s]=H.useState(null),o=H.useRef(null),u=H.useRef(null),{formData:f}=H.useContext(fa),m=T=>{const A=T.target.files[0];if(A){const R=URL.createObjectURL(A);e(A),s(R)}},p=()=>{e(null),u.current&&(u.current.value="")},_=async T=>{T.preventDefault();const A=o.current.value.trim();if(!A)return;const R={content:A,feedback:{comments:0,likes:0,views:0},img:r,meta:{author:f.name,date:new Date().toLocaleString(),avatar:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg"},comments:[]};await Z2(R),o.current.value="",e(null),u.current&&(u.current.value="")};return E.jsx("div",{className:gi.postFormContainer,children:E.jsxs("div",{className:gi.postForm,children:[E.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"User avatar",className:gi.avatar}),E.jsxs("form",{onSubmit:_,className:gi.formContent,children:[E.jsx("textarea",{ref:o,placeholder:"What's happening?",className:gi.textarea}),r&&E.jsx("div",{className:gi.mediaPreview,children:E.jsx("img",{src:n,alt:"Uploaded media preview"})}),E.jsxs("div",{className:gi.footer,children:[E.jsxs("label",{className:gi.mediaButton,children:["📷 Add Media",E.jsx("input",{type:"file",accept:"image/*",onChange:m,hidden:!0,ref:u})]}),r&&E.jsx("button",{type:"button",onClick:p,className:gi.removeButton,children:"❌ Remove"}),E.jsx("button",{type:"submit",className:gi.button,children:"Post"})]})]})]})})}const yM="_container_4dbl9_1",vM="_text_4dbl9_19",EM="_link_4dbl9_31",Xc={container:yM,text:vM,link:EM},TM=()=>{const[r,e]=H.useState(!1);return H.useEffect(()=>{const n=()=>{NS()};n(),n&&e(!0)},[]),E.jsxs("div",{className:Xc.container,children:[E.jsx("h1",{className:Xc.text,children:"Under Construction"}),r?E.jsx(_e,{to:"/react-regular-exam/welcome",className:Xc.link,children:"Go Back"}):E.jsx(_e,{to:"/react-regular-exam",className:Xc.link,children:"Go Back"})]})},SM="_meta_1t8iz_1",wM="_post_1t8iz_31",AM="_imgWrap_1t8iz_39",bM="_feedback_1t8iz_65",RM="_actions_1t8iz_91",CM="_editButton_1t8iz_103",IM="_deleteButton_1t8iz_103",xM="_commentSection_1t8iz_135",DM="_commentInput_1t8iz_149",NM="_commentButton_1t8iz_165",OM="_commentsContainer_1t8iz_185",MM="_comment_1t8iz_135",VM="_commentHeader_1t8iz_223",kM="_commentDate_1t8iz_259",PM="_commentText_1t8iz_269",LM="_noComments_1t8iz_279",Zt={meta:SM,post:wM,imgWrap:AM,feedback:bM,actions:RM,editButton:CM,deleteButton:IM,commentSection:xM,commentInput:DM,commentButton:NM,commentsContainer:OM,comment:MM,commentHeader:VM,commentDate:kM,commentText:PM,noComments:LM};function UM(){const e=JSON.parse(Fp()).name;return{handleComment:async(s,o)=>{const u=s.id,f={id:VS(),author:e,text:o.current.value,date:new Date().toLocaleString()};return o.current.value="",f.text?(await OS(u,f),f):alert("Your reply is empty!")}}}function jM(){var _;const r=gs(),{handleComment:e}=UM(),n=(_=r.state)==null?void 0:_.post,s=H.useRef(),[o,u]=H.useState(null),[f,m]=H.useState([]);if(!n)return E.jsx("p",{children:"No post data found"});const p=async()=>{const T=await e(o,s);T&&m(A=>[...A,T])};return H.useEffect(()=>{(async()=>{const A=await eO(n.id);u(A)})()},[f]),E.jsxs(E.Fragment,{children:[o?E.jsxs("div",{className:Zt.post,children:[E.jsxs("div",{className:Zt.imgWrap,children:[E.jsxs("div",{className:Zt.meta,children:[E.jsx("img",{src:o.meta.img||o.meta.avatar||"https://example.com/default-avatar.jpg",alt:"Profile"}),E.jsx("h4",{children:o.meta.author}),E.jsx("p",{children:o.meta.date})]}),E.jsx("p",{children:o.content}),E.jsx("img",{src:o.img||"https://example.com/default-avatar.jpg",alt:"Img or Video"})]}),E.jsxs("div",{className:Zt.feedback,children:[E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-comment"}),E.jsx("span",{children:o.feedback.comments})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-heart"}),E.jsx("span",{children:o.feedback.likes})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-solid fa-magnifying-glass"}),E.jsx("span",{children:o.feedback.views})]})]}),E.jsxs("div",{className:Zt.actions,children:[E.jsx("button",{className:Zt.editButton,onClick:()=>handleEdit(n.id),children:"Edit"}),E.jsx("button",{className:Zt.deleteButton,onClick:()=>handleDelete(n.id),children:"Delete"})]}),E.jsxs("div",{className:Zt.commentSection,children:[E.jsx("textarea",{ref:s,placeholder:"Post your reply",className:Zt.commentInput}),E.jsx("button",{className:Zt.commentButton,onClick:()=>p(),children:"Reply"})]})]},o.id):E.jsx("p",{children:"Loading post data..."}),o?E.jsx("div",{className:Zt.commentsContainer,children:o.comments&&o.comments.length>0?o.comments.map(T=>E.jsxs("div",{className:Zt.comment,children:[E.jsxs("div",{className:Zt.commentHeader,children:[E.jsx("h5",{children:T.data.author}),E.jsx("p",{className:Zt.commentDate,children:T.data.date})]}),E.jsx("p",{className:Zt.commentText,children:T.data.text})]},T.data.id)):E.jsx("p",{className:Zt.noComments,children:"No comments yet. Be the first to reply!"})}):E.jsx("p",{children:"Loading post data..."})]})}function zM(){return E.jsx(O2,{children:E.jsxs(ob,{children:[E.jsx(Fn,{path:"/react-regular-exam/about",element:E.jsx(TM,{})}),E.jsx(Fn,{path:"/react-regular-exam",element:E.jsx(eR,{})}),E.jsx(Fn,{path:"/react-regular-exam/guest",element:E.jsx(_2,{})}),E.jsx(Fn,{path:"/react-regular-exam/login",element:E.jsx(M2,{})}),E.jsx(Fn,{path:"/react-regular-exam/login/pass",element:E.jsx(sO,{})}),E.jsx(Fn,{path:"/react-regular-exam/create",element:E.jsx(SO,{})}),E.jsx(Fn,{path:"/react-regular-exam/create/submit",element:E.jsx(DO,{})}),E.jsxs(Fn,{path:"/react-regular-exam/welcome",element:E.jsx(aM,{children:E.jsx(PO,{})}),children:[E.jsx(Fn,{index:!0,element:E.jsx(sM,{})}),E.jsx(Fn,{path:":postId/details",element:E.jsx(jM,{})}),E.jsx(Fn,{path:"post",element:E.jsx(_M,{})})]})]})})}mA.createRoot(document.getElementById("root")).render(E.jsx(H.StrictMode,{children:E.jsx(Db,{children:E.jsx(zM,{})})}));
