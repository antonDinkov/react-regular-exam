(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var zd={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function OS(){if(R_)return Il;R_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Il.Fragment=e,Il.jsx=n,Il.jsxs=n,Il}var C_;function MS(){return C_||(C_=1,zd.exports=OS()),zd.exports}var E=MS(),Bd={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I_;function VS(){if(I_)return Ce;I_=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.iterator;function N(x){return x===null||typeof x!="object"?null:(x=b&&x[b]||x["@@iterator"],typeof x=="function"?x:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,Y={};function q(x,te,he){this.props=x,this.context=te,this.refs=Y,this.updater=he||P}q.prototype.isReactComponent={},q.prototype.setState=function(x,te){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,te,"setState")},q.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function Q(){}Q.prototype=q.prototype;function ne(x,te,he){this.props=x,this.context=te,this.refs=Y,this.updater=he||P}var ee=ne.prototype=new Q;ee.constructor=ne,z(ee,q.prototype),ee.isPureReactComponent=!0;var pe=Array.isArray,ue={H:null,A:null,T:null,S:null},be=Object.prototype.hasOwnProperty;function M(x,te,he,se,ae,Ie){return he=Ie.ref,{$$typeof:r,type:x,key:te,ref:he!==void 0?he:null,props:Ie}}function R(x,te){return M(x.type,te,void 0,void 0,void 0,x.props)}function w(x){return typeof x=="object"&&x!==null&&x.$$typeof===r}function I(x){var te={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function(he){return te[he]})}var V=/\/+/g;function j(x,te){return typeof x=="object"&&x!==null&&x.key!=null?I(""+x.key):te.toString(36)}function D(){}function At(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(D,D):(x.status="pending",x.then(function(te){x.status==="pending"&&(x.status="fulfilled",x.value=te)},function(te){x.status==="pending"&&(x.status="rejected",x.reason=te)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function gt(x,te,he,se,ae){var Ie=typeof x;(Ie==="undefined"||Ie==="boolean")&&(x=null);var Re=!1;if(x===null)Re=!0;else switch(Ie){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(x.$$typeof){case r:case e:Re=!0;break;case T:return Re=x._init,gt(Re(x._payload),te,he,se,ae)}}if(Re)return ae=ae(x),Re=se===""?"."+j(x,0):se,pe(ae)?(he="",Re!=null&&(he=Re.replace(V,"$&/")+"/"),gt(ae,te,he,"",function(ot){return ot})):ae!=null&&(w(ae)&&(ae=R(ae,he+(ae.key==null||x&&x.key===ae.key?"":(""+ae.key).replace(V,"$&/")+"/")+Re)),te.push(ae)),1;Re=0;var yt=se===""?".":se+":";if(pe(x))for(var Be=0;Be<x.length;Be++)se=x[Be],Ie=yt+j(se,Be),Re+=gt(se,te,he,Ie,ae);else if(Be=N(x),typeof Be=="function")for(x=Be.call(x),Be=0;!(se=x.next()).done;)se=se.value,Ie=yt+j(se,Be++),Re+=gt(se,te,he,Ie,ae);else if(Ie==="object"){if(typeof x.then=="function")return gt(At(x),te,he,se,ae);throw te=String(x),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Re}function re(x,te,he){if(x==null)return x;var se=[],ae=0;return gt(x,se,"","",function(Ie){return te.call(he,Ie,ae++)}),se}function ve(x){if(x._status===-1){var te=x._result;te=te(),te.then(function(he){(x._status===0||x._status===-1)&&(x._status=1,x._result=he)},function(he){(x._status===0||x._status===-1)&&(x._status=2,x._result=he)}),x._status===-1&&(x._status=0,x._result=te)}if(x._status===1)return x._result.default;throw x._result}var me=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)};function Ge(){}return Ce.Children={map:re,forEach:function(x,te,he){re(x,function(){te.apply(this,arguments)},he)},count:function(x){var te=0;return re(x,function(){te++}),te},toArray:function(x){return re(x,function(te){return te})||[]},only:function(x){if(!w(x))throw Error("React.Children.only expected to receive a single React element child.");return x}},Ce.Component=q,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=ne,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Ce.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ce.cache=function(x){return function(){return x.apply(null,arguments)}},Ce.cloneElement=function(x,te,he){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var se=z({},x.props),ae=x.key,Ie=void 0;if(te!=null)for(Re in te.ref!==void 0&&(Ie=void 0),te.key!==void 0&&(ae=""+te.key),te)!be.call(te,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&te.ref===void 0||(se[Re]=te[Re]);var Re=arguments.length-2;if(Re===1)se.children=he;else if(1<Re){for(var yt=Array(Re),Be=0;Be<Re;Be++)yt[Be]=arguments[Be+2];se.children=yt}return M(x.type,ae,void 0,void 0,Ie,se)},Ce.createContext=function(x){return x={$$typeof:f,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:u,_context:x},x},Ce.createElement=function(x,te,he){var se,ae={},Ie=null;if(te!=null)for(se in te.key!==void 0&&(Ie=""+te.key),te)be.call(te,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ae[se]=te[se]);var Re=arguments.length-2;if(Re===1)ae.children=he;else if(1<Re){for(var yt=Array(Re),Be=0;Be<Re;Be++)yt[Be]=arguments[Be+2];ae.children=yt}if(x&&x.defaultProps)for(se in Re=x.defaultProps,Re)ae[se]===void 0&&(ae[se]=Re[se]);return M(x,Ie,void 0,void 0,null,ae)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(x){return{$$typeof:m,render:x}},Ce.isValidElement=w,Ce.lazy=function(x){return{$$typeof:T,_payload:{_status:-1,_result:x},_init:ve}},Ce.memo=function(x,te){return{$$typeof:y,type:x,compare:te===void 0?null:te}},Ce.startTransition=function(x){var te=ue.T,he={};ue.T=he;try{var se=x(),ae=ue.S;ae!==null&&ae(he,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Ge,me)}catch(Ie){me(Ie)}finally{ue.T=te}},Ce.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Ce.use=function(x){return ue.H.use(x)},Ce.useActionState=function(x,te,he){return ue.H.useActionState(x,te,he)},Ce.useCallback=function(x,te){return ue.H.useCallback(x,te)},Ce.useContext=function(x){return ue.H.useContext(x)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(x,te){return ue.H.useDeferredValue(x,te)},Ce.useEffect=function(x,te){return ue.H.useEffect(x,te)},Ce.useId=function(){return ue.H.useId()},Ce.useImperativeHandle=function(x,te,he){return ue.H.useImperativeHandle(x,te,he)},Ce.useInsertionEffect=function(x,te){return ue.H.useInsertionEffect(x,te)},Ce.useLayoutEffect=function(x,te){return ue.H.useLayoutEffect(x,te)},Ce.useMemo=function(x,te){return ue.H.useMemo(x,te)},Ce.useOptimistic=function(x,te){return ue.H.useOptimistic(x,te)},Ce.useReducer=function(x,te,he){return ue.H.useReducer(x,te,he)},Ce.useRef=function(x){return ue.H.useRef(x)},Ce.useState=function(x){return ue.H.useState(x)},Ce.useSyncExternalStore=function(x,te,he){return ue.H.useSyncExternalStore(x,te,he)},Ce.useTransition=function(){return ue.H.useTransition()},Ce.version="19.0.0",Ce}var D_;function xm(){return D_||(D_=1,Bd.exports=VS()),Bd.exports}var G=xm(),Hd={exports:{}},Dl={},qd={exports:{}},Fd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N_;function kS(){return N_||(N_=1,function(r){function e(re,ve){var me=re.length;re.push(ve);e:for(;0<me;){var Ge=me-1>>>1,x=re[Ge];if(0<o(x,ve))re[Ge]=ve,re[me]=x,me=Ge;else break e}}function n(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var ve=re[0],me=re.pop();if(me!==ve){re[0]=me;e:for(var Ge=0,x=re.length,te=x>>>1;Ge<te;){var he=2*(Ge+1)-1,se=re[he],ae=he+1,Ie=re[ae];if(0>o(se,me))ae<x&&0>o(Ie,se)?(re[Ge]=Ie,re[ae]=me,Ge=ae):(re[Ge]=se,re[he]=me,Ge=he);else if(ae<x&&0>o(Ie,me))re[Ge]=Ie,re[ae]=me,Ge=ae;else break e}}return ve}function o(re,ve){var me=re.sortIndex-ve.sortIndex;return me!==0?me:re.id-ve.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],y=[],T=1,b=null,N=3,P=!1,z=!1,Y=!1,q=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function ee(re){for(var ve=n(y);ve!==null;){if(ve.callback===null)s(y);else if(ve.startTime<=re)s(y),ve.sortIndex=ve.expirationTime,e(p,ve);else break;ve=n(y)}}function pe(re){if(Y=!1,ee(re),!z)if(n(p)!==null)z=!0,At();else{var ve=n(y);ve!==null&&gt(pe,ve.startTime-re)}}var ue=!1,be=-1,M=5,R=-1;function w(){return!(r.unstable_now()-R<M)}function I(){if(ue){var re=r.unstable_now();R=re;var ve=!0;try{e:{z=!1,Y&&(Y=!1,Q(be),be=-1),P=!0;var me=N;try{t:{for(ee(re),b=n(p);b!==null&&!(b.expirationTime>re&&w());){var Ge=b.callback;if(typeof Ge=="function"){b.callback=null,N=b.priorityLevel;var x=Ge(b.expirationTime<=re);if(re=r.unstable_now(),typeof x=="function"){b.callback=x,ee(re),ve=!0;break t}b===n(p)&&s(p),ee(re)}else s(p);b=n(p)}if(b!==null)ve=!0;else{var te=n(y);te!==null&&gt(pe,te.startTime-re),ve=!1}}break e}finally{b=null,N=me,P=!1}ve=void 0}}finally{ve?V():ue=!1}}}var V;if(typeof ne=="function")V=function(){ne(I)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,D=j.port2;j.port1.onmessage=I,V=function(){D.postMessage(null)}}else V=function(){q(I,0)};function At(){ue||(ue=!0,V())}function gt(re,ve){be=q(function(){re(r.unstable_now())},ve)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(re){re.callback=null},r.unstable_continueExecution=function(){z||P||(z=!0,At())},r.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<re?Math.floor(1e3/re):5},r.unstable_getCurrentPriorityLevel=function(){return N},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(re){switch(N){case 1:case 2:case 3:var ve=3;break;default:ve=N}var me=N;N=ve;try{return re()}finally{N=me}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(re,ve){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var me=N;N=re;try{return ve()}finally{N=me}},r.unstable_scheduleCallback=function(re,ve,me){var Ge=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ge+me:Ge):me=Ge,re){case 1:var x=-1;break;case 2:x=250;break;case 5:x=1073741823;break;case 4:x=1e4;break;default:x=5e3}return x=me+x,re={id:T++,callback:ve,priorityLevel:re,startTime:me,expirationTime:x,sortIndex:-1},me>Ge?(re.sortIndex=me,e(y,re),n(p)===null&&re===n(y)&&(Y?(Q(be),be=-1):Y=!0,gt(pe,me-Ge))):(re.sortIndex=x,e(p,re),z||P||(z=!0,At())),re},r.unstable_shouldYield=w,r.unstable_wrapCallback=function(re){var ve=N;return function(){var me=N;N=ve;try{return re.apply(this,arguments)}finally{N=me}}}}(Fd)),Fd}var x_;function PS(){return x_||(x_=1,qd.exports=kS()),qd.exports}var Gd={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O_;function LS(){if(O_)return Yt;O_=1;var r=xm();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,y,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:y,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(p,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(p,y,null,T)},Yt.flushSync=function(p){var y=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=y,s.p=T,s.d.f()}},Yt.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(p,y))},Yt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Yt.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var T=y.as,b=m(T,y.crossOrigin),N=typeof y.integrity=="string"?y.integrity:void 0,P=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:N,fetchPriority:P}):T==="script"&&s.d.X(p,{crossOrigin:b,integrity:N,fetchPriority:P,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Yt.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=m(y.as,y.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(p)},Yt.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,b=m(T,y.crossOrigin);s.d.L(p,T,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Yt.preloadModule=function(p,y){if(typeof p=="string")if(y){var T=m(y.as,y.crossOrigin);s.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(p)},Yt.requestFormReset=function(p){s.d.r(p)},Yt.unstable_batchedUpdates=function(p,y){return p(y)},Yt.useFormState=function(p,y,T){return f.H.useFormState(p,y,T)},Yt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Yt.version="19.0.0",Yt}var M_;function US(){if(M_)return Gd.exports;M_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Gd.exports=LS(),Gd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function jS(){if(V_)return Dl;V_=1;var r=PS(),e=xm(),n=US();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),N=Symbol.for("react.consumer"),P=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),pe=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function be(t){return t===null||typeof t!="object"?null:(t=ue&&t[ue]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function R(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case T:return"Profiler";case y:return"StrictMode";case Y:return"Suspense";case q:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case P:return(t.displayName||"Context")+".Provider";case N:return(t._context.displayName||"Context")+".Consumer";case z:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q:return i=t.displayName||null,i!==null?i:R(t.type)||"Memo";case ne:i=t._payload,t=t._init;try{return R(t(i))}catch{}}return null}var w=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,V,j;function D(t){if(V===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);V=i&&i[1]||"",j=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+t+j}var At=!1;function gt(t,i){if(!t||At)return"";At=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(K){var H=K}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(K){H=K}t.call(Z.prototype)}}else{try{throw Error()}catch(K){H=K}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(K){if(K&&H&&typeof K.stack=="string")return[K.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],A=d[1];if(v&&A){var C=v.split(`
`),k=A.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===k.length)for(l=C.length-1,h=k.length-1;1<=l&&0<=h&&C[l]!==k[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==k[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==k[h]){var $=`
`+C[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{At=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?D(a):""}function re(t){switch(t.tag){case 26:case 27:case 5:return D(t.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return t=gt(t.type,!1),t;case 11:return t=gt(t.type.render,!1),t;case 1:return t=gt(t.type,!0),t;default:return""}}function ve(t){try{var i="";do i+=re(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function me(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function Ge(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function x(t){if(me(t)!==t)throw Error(s(188))}function te(t){var i=t.alternate;if(!i){if(i=me(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return x(h),t;if(d===l)return x(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,A=h.child;A;){if(A===a){v=!0,a=h,l=d;break}if(A===l){v=!0,l=h,a=d;break}A=A.sibling}if(!v){for(A=d.child;A;){if(A===a){v=!0,a=d,l=h;break}if(A===l){v=!0,l=d,a=h;break}A=A.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function he(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=he(t),i!==null)return i;t=t.sibling}return null}var se=Array.isArray,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},Re=[],yt=-1;function Be(t){return{current:t}}function ot(t){0>yt||(t.current=Re[yt],Re[yt]=null,yt--)}function Qe(t,i){yt++,Re[yt]=t.current,t.current=i}var en=Be(null),Ai=Be(null),Tn=Be(null),lr=Be(null);function ur(t,i){switch(Qe(Tn,i),Qe(Ai,t),Qe(en,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?t_(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=t_(t),i=n_(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ot(en),Qe(en,i)}function Si(){ot(en),ot(Ai),ot(Tn)}function So(t){t.memoizedState!==null&&Qe(lr,t);var i=en.current,a=n_(i,t.type);i!==a&&(Qe(Ai,t),Qe(en,a))}function aa(t){Ai.current===t&&(ot(en),ot(Ai)),lr.current===t&&(ot(lr),Sl._currentValue=Ie)}var oa=Object.prototype.hasOwnProperty,fs=r.unstable_scheduleCallback,la=r.unstable_cancelCallback,Bh=r.unstable_shouldYield,wo=r.unstable_requestPaint,ln=r.unstable_now,du=r.unstable_getCurrentPriorityLevel,St=r.unstable_ImmediatePriority,Ot=r.unstable_UserBlockingPriority,wi=r.unstable_NormalPriority,mu=r.unstable_LowPriority,bo=r.unstable_IdlePriority,Hh=r.log,ds=r.unstable_setDisableYieldValue,cr=null,$t=null;function Ro(t){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(cr,t,void 0,(t.current.flags&128)===128)}catch{}}function Yn(t){if(typeof Hh=="function"&&ds(t),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(cr,t)}catch{}}var tn=Math.clz32?Math.clz32:gu,Co=Math.log,pu=Math.LN2;function gu(t){return t>>>=0,t===0?32:31-(Co(t)/pu|0)|0}var Xn=128,hr=4194304;function Bn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function An(t,i){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var A=a&134217727;return A!==0?(a=A&~h,a!==0?l=Bn(a):(d&=A,d!==0?l=Bn(d):t||(v=A&~v,v!==0&&(l=Bn(v))))):(A=a&~h,A!==0?l=Bn(A):d!==0?l=Bn(d):t||(v=a&~v,v!==0&&(l=Bn(v)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:l}function fr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ua(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Io(){var t=Xn;return Xn<<=1,(Xn&4194176)===0&&(Xn=128),t}function dr(){var t=hr;return hr<<=1,(hr&62914560)===0&&(hr=4194304),t}function ca(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function dt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function yu(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var A=t.entanglements,C=t.expirationTimes,k=t.hiddenUpdates;for(a=v&~a;0<a;){var $=31-tn(a),Z=1<<$;A[$]=0,C[$]=-1;var H=k[$];if(H!==null)for(k[$]=null,$=0;$<H.length;$++){var K=H[$];K!==null&&(K.lane&=-536870913)}a&=~Z}l!==0&&mr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function mr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-tn(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function pr(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-tn(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function _u(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function vu(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:E_(t.type))}function gr(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var Wn=Math.random().toString(36).slice(2),Mt="__reactFiber$"+Wn,wt="__reactProps$"+Wn,bi="__reactContainer$"+Wn,ms="__reactEvents$"+Wn,ha="__reactListeners$"+Wn,Zn="__reactHandles$"+Wn,Do="__reactResources$"+Wn,yr="__reactMarker$"+Wn;function ps(t){delete t[Mt],delete t[wt],delete t[ms],delete t[ha],delete t[Zn]}function Hn(t){var i=t[Mt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[bi]||a[Mt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=s_(t);t!==null;){if(a=t[Mt])return a;t=s_(t)}return i}t=a,a=t.parentNode}return null}function Ri(t){if(t=t[Mt]||t[bi]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function _r(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function vr(t){var i=t[Do];return i||(i=t[Do]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function nt(t){t[yr]=!0}var No=new Set,fa={};function dn(t,i){un(t,i),un(t+"Capture",i)}function un(t,i){for(fa[t]=i,t=0;t<i.length;t++)No.add(i[t])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xo={},Oo={};function Eu(t){return oa.call(Oo,t)?!0:oa.call(xo,t)?!1:qh.test(t)?Oo[t]=!0:(xo[t]=!0,!1)}function Er(t,i,a){if(Eu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Tr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Sn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Tu(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Fh(t){var i=Tu(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function gs(t){t._valueTracker||(t._valueTracker=Fh(t))}function Mo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Tu(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function da(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ci=/[\n"\\]/g;function lt(t){return t.replace(Ci,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ar(t,i,a,l,h,d,v,A){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+nn(i)):t.value!==""+nn(i)&&(t.value=""+nn(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?ma(t,v,nn(i)):a!=null?ma(t,v,nn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?t.name=""+nn(A):t.removeAttribute("name")}function ys(t,i,a,l,h,d,v,A){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+nn(a):"",i=i!=null?""+nn(i):a,A||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=A?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function ma(t,i,a){i==="number"&&da(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function He(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+nn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function _s(t,i,a){if(i!=null&&(i=""+nn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+nn(a):""}function Sr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(se(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=nn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function wn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Gh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Gh.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Au(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Vo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Vo(t,d,i[d])}function ko(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$h=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jn(t){return $h.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var bn=null;function pa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ii=null,Di=null;function Ni(t){var i=Ri(t);if(i&&(t=i.stateNode)){var a=t[wt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ar(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+lt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[wt]||null;if(!h)throw Error(s(90));Ar(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Mo(l)}break e;case"textarea":_s(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&He(t,!!a.multiple,i,!1)}}}var Po=!1;function Su(t,i,a){if(Po)return t(i,a);Po=!0;try{var l=t(i);return l}finally{if(Po=!1,(Ii!==null||Di!==null)&&(mc(),Ii&&(i=Ii,t=Di,Di=Ii=null,Ni(i),t)))for(i=0;i<t.length;i++)Ni(t[i])}}function vs(t,i){var a=t.stateNode;if(a===null)return null;var l=a[wt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Rn=!1;if(mn)try{var Es={};Object.defineProperty(Es,"passive",{get:function(){Rn=!0}}),window.addEventListener("test",Es,Es),window.removeEventListener("test",Es,Es)}catch{Rn=!1}var ei=null,wr=null,xi=null;function Lo(){if(xi)return xi;var t,i=wr,a=i.length,l,h="value"in ei?ei.value:ei.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return xi=h.slice(t,1<l?1-l:void 0)}function ti(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ni(){return!0}function Uo(){return!1}function Vt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var A in t)t.hasOwnProperty(A)&&(a=t[A],this[A]=a?a(d):d[A]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ni:Uo,this.isPropagationStopped=Uo,this}return I(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),i}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ga=Vt(Ke),Ts=I({},Ke,{view:0,detail:0}),wu=Vt(Ts),ya,_a,ii,As=I({},Ts,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ii&&(ii&&t.type==="mousemove"?(ya=t.screenX-ii.screenX,_a=t.screenY-ii.screenY):_a=ya=0,ii=t),ya)},movementY:function(t){return"movementY"in t?t.movementY:_a}}),Cn=Vt(As),bu=I({},As,{dataTransfer:0}),Qh=Vt(bu),Ss=I({},Ts,{relatedTarget:0}),va=Vt(Ss),jo=I({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),Ea=Vt(jo),Ru=I({},Ke,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ta=Vt(Ru),Yh=I({},Ke,{data:0}),zo=Vt(Yh),ws={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Iu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Bo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Iu[t])?!!i[t]:!1}function bs(){return Bo}var Du=I({},Ts,{key:function(t){if(t.key){var i=ws[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ti(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Cu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bs,charCode:function(t){return t.type==="keypress"?ti(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ti(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Aa=Vt(Du),Nu=I({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ho=Vt(Nu),Oi=I({},Ts,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bs}),xu=Vt(Oi),Ou=I({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mu=Vt(Ou),Vu=I({},As,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Sa=Vt(Vu),rn=I({},Ke,{newState:0,oldState:0}),ku=Vt(rn),Pu=[9,13,27,32],ri=mn&&"CompositionEvent"in window,c=null;mn&&"documentMode"in document&&(c=document.documentMode);var g=mn&&"TextEvent"in window&&!c,_=mn&&(!ri||c&&8<c&&11>=c),S=" ",U=!1;function F(t,i){switch(t){case"keyup":return Pu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Le=!1;function bt(t,i){switch(t){case"compositionend":return ie(i);case"keypress":return i.which!==32?null:(U=!0,S);case"textInput":return t=i.data,t===S&&U?null:t;default:return null}}function Ue(t,i){if(Le)return t==="compositionend"||!ri&&F(t,i)?(t=Lo(),xi=wr=ei=null,Le=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return _&&i.locale!=="ko"?null:i.data;default:return null}}var kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!kt[t.type]:i==="textarea"}function Mi(t,i,a,l){Ii?Di?Di.push(l):Di=[l]:Ii=l,i=vc(i,"onChange"),0<i.length&&(a=new ga("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var zt=null,si=null;function qo(t){Xy(t,0)}function Lu(t){var i=_r(t);if(Mo(i))return t}function bp(t,i){if(t==="change")return i}var Rp=!1;if(mn){var Xh;if(mn){var Wh="oninput"in document;if(!Wh){var Cp=document.createElement("div");Cp.setAttribute("oninput","return;"),Wh=typeof Cp.oninput=="function"}Xh=Wh}else Xh=!1;Rp=Xh&&(!document.documentMode||9<document.documentMode)}function Ip(){zt&&(zt.detachEvent("onpropertychange",Dp),si=zt=null)}function Dp(t){if(t.propertyName==="value"&&Lu(si)){var i=[];Mi(i,si,t,pa(t)),Su(qo,i)}}function lA(t,i,a){t==="focusin"?(Ip(),zt=i,si=a,zt.attachEvent("onpropertychange",Dp)):t==="focusout"&&Ip()}function uA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Lu(si)}function cA(t,i){if(t==="click")return Lu(i)}function hA(t,i){if(t==="input"||t==="change")return Lu(i)}function fA(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var pn=typeof Object.is=="function"?Object.is:fA;function Fo(t,i){if(pn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!oa.call(i,h)||!pn(t[h],i[h]))return!1}return!0}function Np(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xp(t,i){var a=Np(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Np(a)}}function Op(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Op(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Mp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=da(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=da(t.document)}return i}function Zh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function dA(t,i){var a=Mp(i);i=t.focusedElem;var l=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&Op(i.ownerDocument.documentElement,i)){if(l!==null&&Zh(i)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=xp(i,d);var v=xp(i,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var mA=mn&&"documentMode"in document&&11>=document.documentMode,wa=null,Jh=null,Go=null,ef=!1;function Vp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;ef||wa==null||wa!==da(l)||(l=wa,"selectionStart"in l&&Zh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Go&&Fo(Go,l)||(Go=l,l=vc(Jh,"onSelect"),0<l.length&&(i=new ga("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=wa)))}function Rs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ba={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionrun:Rs("Transition","TransitionRun"),transitionstart:Rs("Transition","TransitionStart"),transitioncancel:Rs("Transition","TransitionCancel"),transitionend:Rs("Transition","TransitionEnd")},tf={},kp={};mn&&(kp=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);function Cs(t){if(tf[t])return tf[t];if(!ba[t])return t;var i=ba[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in kp)return tf[t]=i[a];return t}var Pp=Cs("animationend"),Lp=Cs("animationiteration"),Up=Cs("animationstart"),pA=Cs("transitionrun"),gA=Cs("transitionstart"),yA=Cs("transitioncancel"),jp=Cs("transitionend"),zp=new Map,Bp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function qn(t,i){zp.set(t,i),dn(i,[t])}var In=[],Ra=0,nf=0;function Uu(){for(var t=Ra,i=nf=Ra=0;i<t;){var a=In[i];In[i++]=null;var l=In[i];In[i++]=null;var h=In[i];In[i++]=null;var d=In[i];if(In[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Hp(a,h,d)}}function ju(t,i,a,l){In[Ra++]=t,In[Ra++]=i,In[Ra++]=a,In[Ra++]=l,nf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function rf(t,i,a,l){return ju(t,i,a,l),zu(t)}function br(t,i){return ju(t,null,null,i),zu(t)}function Hp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&i!==null&&t.tag===3&&(d=t.stateNode,h=31-tn(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[i]:t.push(i),i.lane=a|536870912)}function zu(t){if(50<gl)throw gl=0,cd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ca={},qp=new WeakMap;function Dn(t,i){if(typeof t=="object"&&t!==null){var a=qp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ve(i)},qp.set(t,i),i)}return{value:t,source:i,stack:ve(i)}}var Ia=[],Da=0,Bu=null,Hu=0,Nn=[],xn=0,Is=null,Vi=1,ki="";function Ds(t,i){Ia[Da++]=Hu,Ia[Da++]=Bu,Bu=t,Hu=i}function Fp(t,i,a){Nn[xn++]=Vi,Nn[xn++]=ki,Nn[xn++]=Is,Is=t;var l=Vi;t=ki;var h=32-tn(l)-1;l&=~(1<<h),a+=1;var d=32-tn(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Vi=1<<32-tn(i)+h|a<<h|l,ki=d+t}else Vi=1<<d|a<<h|l,ki=t}function sf(t){t.return!==null&&(Ds(t,1),Fp(t,1,0))}function af(t){for(;t===Bu;)Bu=Ia[--Da],Ia[Da]=null,Hu=Ia[--Da],Ia[Da]=null;for(;t===Is;)Is=Nn[--xn],Nn[xn]=null,ki=Nn[--xn],Nn[xn]=null,Vi=Nn[--xn],Nn[xn]=null}var sn=null,Bt=null,qe=!1,Fn=null,ai=!1,of=Error(s(519));function Ns(t){var i=Error(s(418,""));throw Qo(Dn(i,t)),of}function Gp(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Mt]=t,i[wt]=l,a){case"dialog":ke("cancel",i),ke("close",i);break;case"iframe":case"object":case"embed":ke("load",i);break;case"video":case"audio":for(a=0;a<_l.length;a++)ke(_l[a],i);break;case"source":ke("error",i);break;case"img":case"image":case"link":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"input":ke("invalid",i),ys(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),gs(i);break;case"select":ke("invalid",i);break;case"textarea":ke("invalid",i),Sr(i,l.value,l.defaultValue,l.children),gs(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||e_(i.textContent,a)?(l.popover!=null&&(ke("beforetoggle",i),ke("toggle",i)),l.onScroll!=null&&ke("scroll",i),l.onScrollEnd!=null&&ke("scrollend",i),l.onClick!=null&&(i.onclick=Ec),i=!0):i=!1,i||Ns(t)}function Kp(t){for(sn=t.return;sn;)switch(sn.tag){case 3:case 27:ai=!0;return;case 5:case 13:ai=!1;return;default:sn=sn.return}}function Ko(t){if(t!==sn)return!1;if(!qe)return Kp(t),qe=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Cd(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&Bt&&Ns(t),Kp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Bt=Kn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Bt=null}}else Bt=sn?Kn(t.stateNode.nextSibling):null;return!0}function $o(){Bt=sn=null,qe=!1}function Qo(t){Fn===null?Fn=[t]:Fn.push(t)}var Yo=Error(s(460)),$p=Error(s(474)),lf={then:function(){}};function Qp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function qu(){}function Yp(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(qu,qu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Yo?Error(s(483)):t;default:if(typeof i.status=="string")i.then(qu,qu);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Yo?Error(s(483)):t}throw Xo=i,Yo}}var Xo=null;function Xp(){if(Xo===null)throw Error(s(459));var t=Xo;return Xo=null,t}var Na=null,Wo=0;function Fu(t){var i=Wo;return Wo+=1,Na===null&&(Na=[]),Yp(Na,t,i)}function Zo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Gu(t,i){throw i.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Wp(t){var i=t._init;return i(t._payload)}function Zp(t){function i(L,O){if(t){var B=L.deletions;B===null?(L.deletions=[O],L.flags|=16):B.push(O)}}function a(L,O){if(!t)return null;for(;O!==null;)i(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=Lr(L,O),L.index=0,L.sibling=null,L}function d(L,O,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<O?(L.flags|=33554434,O):B):(L.flags|=33554434,O)):(L.flags|=1048576,O)}function v(L){return t&&L.alternate===null&&(L.flags|=33554434),L}function A(L,O,B,X){return O===null||O.tag!==6?(O=nd(B,L.mode,X),O.return=L,O):(O=h(O,B),O.return=L,O)}function C(L,O,B,X){var le=B.type;return le===p?$(L,O,B.props.children,X,B.key):O!==null&&(O.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ne&&Wp(le)===O.type)?(O=h(O,B.props),Zo(O,B),O.return=L,O):(O=uc(B.type,B.key,B.props,null,L.mode,X),Zo(O,B),O.return=L,O)}function k(L,O,B,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=id(B,L.mode,X),O.return=L,O):(O=h(O,B.children||[]),O.return=L,O)}function $(L,O,B,X,le){return O===null||O.tag!==7?(O=zs(B,L.mode,X,le),O.return=L,O):(O=h(O,B),O.return=L,O)}function Z(L,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=nd(""+O,L.mode,B),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case f:return B=uc(O.type,O.key,O.props,null,L.mode,B),Zo(B,O),B.return=L,B;case m:return O=id(O,L.mode,B),O.return=L,O;case ne:var X=O._init;return O=X(O._payload),Z(L,O,B)}if(se(O)||be(O))return O=zs(O,L.mode,B,null),O.return=L,O;if(typeof O.then=="function")return Z(L,Fu(O),B);if(O.$$typeof===P)return Z(L,ac(L,O),B);Gu(L,O)}return null}function H(L,O,B,X){var le=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return le!==null?null:A(L,O,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case f:return B.key===le?C(L,O,B,X):null;case m:return B.key===le?k(L,O,B,X):null;case ne:return le=B._init,B=le(B._payload),H(L,O,B,X)}if(se(B)||be(B))return le!==null?null:$(L,O,B,X,null);if(typeof B.then=="function")return H(L,O,Fu(B),X);if(B.$$typeof===P)return H(L,O,ac(L,B),X);Gu(L,B)}return null}function K(L,O,B,X,le){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(B)||null,A(O,L,""+X,le);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case f:return L=L.get(X.key===null?B:X.key)||null,C(O,L,X,le);case m:return L=L.get(X.key===null?B:X.key)||null,k(O,L,X,le);case ne:var Ne=X._init;return X=Ne(X._payload),K(L,O,B,X,le)}if(se(X)||be(X))return L=L.get(B)||null,$(O,L,X,le,null);if(typeof X.then=="function")return K(L,O,B,Fu(X),le);if(X.$$typeof===P)return K(L,O,B,ac(O,X),le);Gu(O,X)}return null}function ce(L,O,B,X){for(var le=null,Ne=null,fe=O,ye=O=0,Ut=null;fe!==null&&ye<B.length;ye++){fe.index>ye?(Ut=fe,fe=null):Ut=fe.sibling;var Fe=H(L,fe,B[ye],X);if(Fe===null){fe===null&&(fe=Ut);break}t&&fe&&Fe.alternate===null&&i(L,fe),O=d(Fe,O,ye),Ne===null?le=Fe:Ne.sibling=Fe,Ne=Fe,fe=Ut}if(ye===B.length)return a(L,fe),qe&&Ds(L,ye),le;if(fe===null){for(;ye<B.length;ye++)fe=Z(L,B[ye],X),fe!==null&&(O=d(fe,O,ye),Ne===null?le=fe:Ne.sibling=fe,Ne=fe);return qe&&Ds(L,ye),le}for(fe=l(fe);ye<B.length;ye++)Ut=K(fe,L,ye,B[ye],X),Ut!==null&&(t&&Ut.alternate!==null&&fe.delete(Ut.key===null?ye:Ut.key),O=d(Ut,O,ye),Ne===null?le=Ut:Ne.sibling=Ut,Ne=Ut);return t&&fe.forEach(function(Fr){return i(L,Fr)}),qe&&Ds(L,ye),le}function Se(L,O,B,X){if(B==null)throw Error(s(151));for(var le=null,Ne=null,fe=O,ye=O=0,Ut=null,Fe=B.next();fe!==null&&!Fe.done;ye++,Fe=B.next()){fe.index>ye?(Ut=fe,fe=null):Ut=fe.sibling;var Fr=H(L,fe,Fe.value,X);if(Fr===null){fe===null&&(fe=Ut);break}t&&fe&&Fr.alternate===null&&i(L,fe),O=d(Fr,O,ye),Ne===null?le=Fr:Ne.sibling=Fr,Ne=Fr,fe=Ut}if(Fe.done)return a(L,fe),qe&&Ds(L,ye),le;if(fe===null){for(;!Fe.done;ye++,Fe=B.next())Fe=Z(L,Fe.value,X),Fe!==null&&(O=d(Fe,O,ye),Ne===null?le=Fe:Ne.sibling=Fe,Ne=Fe);return qe&&Ds(L,ye),le}for(fe=l(fe);!Fe.done;ye++,Fe=B.next())Fe=K(fe,L,ye,Fe.value,X),Fe!==null&&(t&&Fe.alternate!==null&&fe.delete(Fe.key===null?ye:Fe.key),O=d(Fe,O,ye),Ne===null?le=Fe:Ne.sibling=Fe,Ne=Fe);return t&&fe.forEach(function(xS){return i(L,xS)}),qe&&Ds(L,ye),le}function ht(L,O,B,X){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case f:e:{for(var le=B.key;O!==null;){if(O.key===le){if(le=B.type,le===p){if(O.tag===7){a(L,O.sibling),X=h(O,B.props.children),X.return=L,L=X;break e}}else if(O.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ne&&Wp(le)===O.type){a(L,O.sibling),X=h(O,B.props),Zo(X,B),X.return=L,L=X;break e}a(L,O);break}else i(L,O);O=O.sibling}B.type===p?(X=zs(B.props.children,L.mode,X,B.key),X.return=L,L=X):(X=uc(B.type,B.key,B.props,null,L.mode,X),Zo(X,B),X.return=L,L=X)}return v(L);case m:e:{for(le=B.key;O!==null;){if(O.key===le)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){a(L,O.sibling),X=h(O,B.children||[]),X.return=L,L=X;break e}else{a(L,O);break}else i(L,O);O=O.sibling}X=id(B,L.mode,X),X.return=L,L=X}return v(L);case ne:return le=B._init,B=le(B._payload),ht(L,O,B,X)}if(se(B))return ce(L,O,B,X);if(be(B)){if(le=be(B),typeof le!="function")throw Error(s(150));return B=le.call(B),Se(L,O,B,X)}if(typeof B.then=="function")return ht(L,O,Fu(B),X);if(B.$$typeof===P)return ht(L,O,ac(L,B),X);Gu(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(a(L,O.sibling),X=h(O,B),X.return=L,L=X):(a(L,O),X=nd(B,L.mode,X),X.return=L,L=X),v(L)):a(L,O)}return function(L,O,B,X){try{Wo=0;var le=ht(L,O,B,X);return Na=null,le}catch(fe){if(fe===Yo)throw fe;var Ne=kn(29,fe,null,L.mode);return Ne.lanes=X,Ne.return=L,Ne}finally{}}}var xs=Zp(!0),Jp=Zp(!1),xa=Be(null),Ku=Be(0);function eg(t,i){t=Ki,Qe(Ku,t),Qe(xa,i),Ki=t|i.baseLanes}function uf(){Qe(Ku,Ki),Qe(xa,xa.current)}function cf(){Ki=Ku.current,ot(xa),ot(Ku)}var On=Be(null),oi=null;function Rr(t){var i=t.alternate;Qe(Ct,Ct.current&1),Qe(On,t),oi===null&&(i===null||xa.current!==null||i.memoizedState!==null)&&(oi=t)}function tg(t){if(t.tag===22){if(Qe(Ct,Ct.current),Qe(On,t),oi===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(oi=t)}}else Cr()}function Cr(){Qe(Ct,Ct.current),Qe(On,On.current)}function Pi(t){ot(On),oi===t&&(oi=null),ot(Ct)}var Ct=Be(0);function $u(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var _A=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},vA=r.unstable_scheduleCallback,EA=r.unstable_NormalPriority,It={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hf(){return{controller:new _A,data:new Map,refCount:0}}function Jo(t){t.refCount--,t.refCount===0&&vA(EA,function(){t.controller.abort()})}var el=null,ff=0,Oa=0,Ma=null;function TA(t,i){if(el===null){var a=el=[];ff=0,Oa=_d(),Ma={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ff++,i.then(ng,ng),i}function ng(){if(--ff===0&&el!==null){Ma!==null&&(Ma.status="fulfilled");var t=el;el=null,Oa=0,Ma=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function AA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var ig=w.S;w.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&TA(t,i),ig!==null&&ig(t,i)};var Os=Be(null);function df(){var t=Os.current;return t!==null?t:Je.pooledCache}function Qu(t,i){i===null?Qe(Os,Os.current):Qe(Os,i.pool)}function rg(){var t=df();return t===null?null:{parent:It._currentValue,pool:t}}var Ir=0,De=null,Xe=null,_t=null,Yu=!1,Va=!1,Ms=!1,Xu=0,tl=0,ka=null,SA=0;function mt(){throw Error(s(321))}function mf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!pn(t[a],i[a]))return!1;return!0}function pf(t,i,a,l,h,d){return Ir=d,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,w.H=t===null||t.memoizedState===null?Vs:Dr,Ms=!1,d=a(l,h),Ms=!1,Va&&(d=ag(i,a,l,h)),sg(t),d}function sg(t){w.H=li;var i=Xe!==null&&Xe.next!==null;if(Ir=0,_t=Xe=De=null,Yu=!1,tl=0,ka=null,i)throw Error(s(300));t===null||Pt||(t=t.dependencies,t!==null&&sc(t)&&(Pt=!0))}function ag(t,i,a,l){De=t;var h=0;do{if(Va&&(ka=null),tl=0,Va=!1,25<=h)throw Error(s(301));if(h+=1,_t=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}w.H=ks,d=i(a,l)}while(Va);return d}function wA(){var t=w.H,i=t.useState()[0];return i=typeof i.then=="function"?nl(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(De.flags|=1024),i}function gf(){var t=Xu!==0;return Xu=0,t}function yf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function _f(t){if(Yu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Yu=!1}Ir=0,_t=Xe=De=null,Va=!1,tl=Xu=0,ka=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?De.memoizedState=_t=t:_t=_t.next=t,_t}function vt(){if(Xe===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=_t===null?De.memoizedState:_t.next;if(i!==null)_t=i,Xe=t;else{if(t===null)throw De.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},_t===null?De.memoizedState=_t=t:_t=_t.next=t}return _t}var Wu;Wu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function nl(t){var i=tl;return tl+=1,ka===null&&(ka=[]),t=Yp(ka,t,i),i=De,(_t===null?i.memoizedState:_t.next)===null&&(i=i.alternate,w.H=i===null||i.memoizedState===null?Vs:Dr),t}function Zu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return nl(t);if(t.$$typeof===P)return Qt(t)}throw Error(s(438,String(t)))}function vf(t){var i=null,a=De.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Wu(),De.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=pe;return i.index++,a}function Li(t,i){return typeof i=="function"?i(t):i}function Ju(t){var i=vt();return Ef(i,Xe,t)}function Ef(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var A=v=null,C=null,k=i,$=!1;do{var Z=k.lane&-536870913;if(Z!==k.lane?(je&Z)===Z:(Ir&Z)===Z){var H=k.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),Z===Oa&&($=!0);else if((Ir&H)===H){k=k.next,H===Oa&&($=!0);continue}else Z={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},C===null?(A=C=Z,v=d):C=C.next=Z,De.lanes|=H,Ur|=H;Z=k.action,Ms&&a(d,Z),d=k.hasEagerState?k.eagerState:a(d,Z)}else H={lane:Z,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},C===null?(A=C=H,v=d):C=C.next=H,De.lanes|=Z,Ur|=Z;k=k.next}while(k!==null&&k!==i);if(C===null?v=d:C.next=A,!pn(d,t.memoizedState)&&(Pt=!0,$&&(a=Ma,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Tf(t){var i=vt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);pn(d,i.memoizedState)||(Pt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function og(t,i,a){var l=De,h=vt(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!pn((Xe||h).memoizedState,a);if(v&&(h.memoizedState=a,Pt=!0),h=h.queue,wf(cg.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,Pa(9,ug.bind(null,l,h,a,i),{destroy:void 0},null),Je===null)throw Error(s(349));d||(Ir&60)!==0||lg(l,i,a)}return a}function lg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=De.updateQueue,i===null?(i=Wu(),De.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function ug(t,i,a,l){i.value=a,i.getSnapshot=l,hg(i)&&fg(t)}function cg(t,i,a){return a(function(){hg(i)&&fg(t)})}function hg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!pn(t,a)}catch{return!0}}function fg(t){var i=br(t,2);i!==null&&an(i,t,2)}function Af(t){var i=cn();if(typeof t=="function"){var a=t;if(t=a(),Ms){Yn(!0);try{a()}finally{Yn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:t},i}function dg(t,i,a,l){return t.baseState=a,Ef(t,Xe,typeof l=="function"?l:Li)}function bA(t,i,a,l,h){if(nc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};w.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,mg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function mg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=w.T,v={};w.T=v;try{var A=a(h,l),C=w.S;C!==null&&C(v,A),pg(t,i,A)}catch(k){Sf(t,i,k)}finally{w.T=d}}else try{d=a(h,l),pg(t,i,d)}catch(k){Sf(t,i,k)}}function pg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){gg(t,i,l)},function(l){return Sf(t,i,l)}):gg(t,i,a)}function gg(t,i,a){i.status="fulfilled",i.value=a,yg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,mg(t,a)))}function Sf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,yg(i),i=i.next;while(i!==l)}t.action=null}function yg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function _g(t,i){return i}function vg(t,i){if(qe){var a=Je.formState;if(a!==null){e:{var l=De;if(qe){if(Bt){t:{for(var h=Bt,d=ai;h.nodeType!==8;){if(!d){h=null;break t}if(h=Kn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Bt=Kn(h.nextSibling),l=h.data==="F!";break e}}Ns(l)}l=!1}l&&(i=a[0])}}return a=cn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_g,lastRenderedState:i},a.queue=l,a=Lg.bind(null,De,l),l.dispatch=a,l=Af(!1),d=Df.bind(null,De,!1,l.queue),l=cn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=bA.bind(null,De,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Eg(t){var i=vt();return Tg(i,Xe,t)}function Tg(t,i,a){i=Ef(t,i,_g)[0],t=Ju(Li)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?nl(i):i;var l=vt(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(De.flags|=2048,Pa(9,RA.bind(null,h,a),{destroy:void 0},null)),[i,d,t]}function RA(t,i){t.action=i}function Ag(t){var i=vt(),a=Xe;if(a!==null)return Tg(i,a,t);vt(),i=i.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Pa(t,i,a,l){return t={tag:t,create:i,inst:a,deps:l,next:null},i=De.updateQueue,i===null&&(i=Wu(),De.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Sg(){return vt().memoizedState}function ec(t,i,a,l){var h=cn();De.flags|=t,h.memoizedState=Pa(1|i,a,{destroy:void 0},l===void 0?null:l)}function tc(t,i,a,l){var h=vt();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&mf(l,Xe.memoizedState.deps)?h.memoizedState=Pa(i,a,d,l):(De.flags|=t,h.memoizedState=Pa(1|i,a,d,l))}function wg(t,i){ec(8390656,8,t,i)}function wf(t,i){tc(2048,8,t,i)}function bg(t,i){return tc(4,2,t,i)}function Rg(t,i){return tc(4,4,t,i)}function Cg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Ig(t,i,a){a=a!=null?a.concat([t]):null,tc(4,4,Cg.bind(null,i,t),a)}function bf(){}function Dg(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&mf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Ng(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&mf(i,l[1]))return l[0];if(l=t(),Ms){Yn(!0);try{t()}finally{Yn(!1)}}return a.memoizedState=[l,i],l}function Rf(t,i,a){return a===void 0||(Ir&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=Oy(),De.lanes|=t,Ur|=t,a)}function xg(t,i,a,l){return pn(a,i)?a:xa.current!==null?(t=Rf(t,a,l),pn(t,i)||(Pt=!0),t):(Ir&42)===0?(Pt=!0,t.memoizedState=a):(t=Oy(),De.lanes|=t,Ur|=t,i)}function Og(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=w.T,A={};w.T=A,Df(t,!1,i,a);try{var C=h(),k=w.S;if(k!==null&&k(A,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var $=AA(C,l);il(t,i,$,vn(t))}else il(t,i,l,vn(t))}catch(Z){il(t,i,{then:function(){},status:"rejected",reason:Z},vn())}finally{ae.p=d,w.T=v}}function CA(){}function Cf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Mg(t).queue;Og(t,h,i,Ie,a===null?CA:function(){return Vg(t),a(l)})}function Mg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:Ie},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Vg(t){var i=Mg(t).next.queue;il(t,i,{},vn())}function If(){return Qt(Sl)}function kg(){return vt().memoizedState}function Pg(){return vt().memoizedState}function IA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=vn();t=Or(a);var l=Mr(i,t,a);l!==null&&(an(l,i,a),al(l,i,a)),i={cache:hf()},t.payload=i;return}i=i.return}}function DA(t,i,a){var l=vn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},nc(t)?Ug(i,a):(a=rf(t,i,a,l),a!==null&&(an(a,t,l),jg(a,i,l)))}function Lg(t,i,a){var l=vn();il(t,i,a,l)}function il(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(nc(t))Ug(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,A=d(v,a);if(h.hasEagerState=!0,h.eagerState=A,pn(A,v))return ju(t,i,h,0),Je===null&&Uu(),!1}catch{}finally{}if(a=rf(t,i,h,l),a!==null)return an(a,t,l),jg(a,i,l),!0}return!1}function Df(t,i,a,l){if(l={lane:2,revertLane:_d(),action:l,hasEagerState:!1,eagerState:null,next:null},nc(t)){if(i)throw Error(s(479))}else i=rf(t,a,l,2),i!==null&&an(i,t,2)}function nc(t){var i=t.alternate;return t===De||i!==null&&i===De}function Ug(t,i){Va=Yu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function jg(t,i,a){if((a&4194176)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,pr(t,a)}}var li={readContext:Qt,use:Zu,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt};li.useCacheRefresh=mt,li.useMemoCache=mt,li.useHostTransitionStatus=mt,li.useFormState=mt,li.useActionState=mt,li.useOptimistic=mt;var Vs={readContext:Qt,use:Zu,useCallback:function(t,i){return cn().memoizedState=[t,i===void 0?null:i],t},useContext:Qt,useEffect:wg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ec(4194308,4,Cg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ec(4194308,4,t,i)},useInsertionEffect:function(t,i){ec(4,2,t,i)},useMemo:function(t,i){var a=cn();i=i===void 0?null:i;var l=t();if(Ms){Yn(!0);try{t()}finally{Yn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=cn();if(a!==void 0){var h=a(i);if(Ms){Yn(!0);try{a(i)}finally{Yn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=DA.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var i=cn();return t={current:t},i.memoizedState=t},useState:function(t){t=Af(t);var i=t.queue,a=Lg.bind(null,De,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:bf,useDeferredValue:function(t,i){var a=cn();return Rf(a,t,i)},useTransition:function(){var t=Af(!1);return t=Og.bind(null,De,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=De,h=cn();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Je===null)throw Error(s(349));(je&60)!==0||lg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,wg(cg.bind(null,l,d,t),[t]),l.flags|=2048,Pa(9,ug.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var t=cn(),i=Je.identifierPrefix;if(qe){var a=ki,l=Vi;a=(l&~(1<<32-tn(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=Xu++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=SA++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return cn().memoizedState=IA.bind(null,De)}};Vs.useMemoCache=vf,Vs.useHostTransitionStatus=If,Vs.useFormState=vg,Vs.useActionState=vg,Vs.useOptimistic=function(t){var i=cn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Df.bind(null,De,!0,a),a.dispatch=i,[t,i]};var Dr={readContext:Qt,use:Zu,useCallback:Dg,useContext:Qt,useEffect:wf,useImperativeHandle:Ig,useInsertionEffect:bg,useLayoutEffect:Rg,useMemo:Ng,useReducer:Ju,useRef:Sg,useState:function(){return Ju(Li)},useDebugValue:bf,useDeferredValue:function(t,i){var a=vt();return xg(a,Xe.memoizedState,t,i)},useTransition:function(){var t=Ju(Li)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:nl(t),i]},useSyncExternalStore:og,useId:kg};Dr.useCacheRefresh=Pg,Dr.useMemoCache=vf,Dr.useHostTransitionStatus=If,Dr.useFormState=Eg,Dr.useActionState=Eg,Dr.useOptimistic=function(t,i){var a=vt();return dg(a,Xe,t,i)};var ks={readContext:Qt,use:Zu,useCallback:Dg,useContext:Qt,useEffect:wf,useImperativeHandle:Ig,useInsertionEffect:bg,useLayoutEffect:Rg,useMemo:Ng,useReducer:Tf,useRef:Sg,useState:function(){return Tf(Li)},useDebugValue:bf,useDeferredValue:function(t,i){var a=vt();return Xe===null?Rf(a,t,i):xg(a,Xe.memoizedState,t,i)},useTransition:function(){var t=Tf(Li)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:nl(t),i]},useSyncExternalStore:og,useId:kg};ks.useCacheRefresh=Pg,ks.useMemoCache=vf,ks.useHostTransitionStatus=If,ks.useFormState=Ag,ks.useActionState=Ag,ks.useOptimistic=function(t,i){var a=vt();return Xe!==null?dg(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])};function Nf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:I({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var xf={isMounted:function(t){return(t=t._reactInternals)?me(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var l=vn(),h=Or(l);h.payload=i,a!=null&&(h.callback=a),i=Mr(t,h,l),i!==null&&(an(i,t,l),al(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=vn(),h=Or(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Mr(t,h,l),i!==null&&(an(i,t,l),al(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=vn(),l=Or(a);l.tag=2,i!=null&&(l.callback=i),i=Mr(t,l,a),i!==null&&(an(i,t,a),al(i,t,a))}};function zg(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Fo(a,l)||!Fo(h,d):!0}function Bg(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&xf.enqueueReplaceState(i,i.state,null)}function Ps(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=I({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var ic=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Hg(t){ic(t)}function qg(t){console.error(t)}function Fg(t){ic(t)}function rc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Gg(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Of(t,i,a){return a=Or(a),a.tag=3,a.payload={element:null},a.callback=function(){rc(t,i)},a}function Kg(t){return t=Or(t),t.tag=3,t}function $g(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Gg(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Gg(i,a,l),typeof h!="function"&&(jr===null?jr=new Set([this]):jr.add(this));var A=l.stack;this.componentDidCatch(l.value,{componentStack:A!==null?A:""})})}function NA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&sl(i,a,h,!0),a=On.current,a!==null){switch(a.tag){case 13:return oi===null?dd():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===lf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),pd(t,l,h)),!1;case 22:return a.flags|=65536,l===lf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),pd(t,l,h)),!1}throw Error(s(435,a.tag))}return pd(t,l,h),dd(),!1}if(qe)return i=On.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==of&&(t=Error(s(422),{cause:l}),Qo(Dn(t,a)))):(l!==of&&(i=Error(s(423),{cause:l}),Qo(Dn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Dn(l,a),h=Of(t.stateNode,l,h),$f(t,h),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=Dn(d,a),ml===null?ml=[d]:ml.push(d),ct!==4&&(ct=2),i===null)return!0;l=Dn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Of(a.stateNode,l,t),$f(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(jr===null||!jr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Kg(h),$g(h,t,a,l),$f(a,h),!1}a=a.return}while(a!==null);return!1}var Qg=Error(s(461)),Pt=!1;function Ht(t,i,a,l){i.child=t===null?Jp(i,null,a,l):xs(i,t.child,a,l)}function Yg(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var A in l)A!=="ref"&&(v[A]=l[A])}else v=l;return Us(i),l=pf(t,i,a,v,d,h),A=gf(),t!==null&&!Pt?(yf(t,i,h),Ui(t,i,h)):(qe&&A&&sf(i),i.flags|=1,Ht(t,i,l,h),i.child)}function Xg(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!td(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Wg(t,i,d,l,h)):(t=uc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Bf(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Fo,a(v,l)&&t.ref===i.ref)return Ui(t,i,h)}return i.flags|=1,t=Lr(d,l),t.ref=i.ref,t.return=i,i.child=t}function Wg(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Fo(d,l)&&t.ref===i.ref)if(Pt=!1,i.pendingProps=l=d,Bf(t,h))(t.flags&131072)!==0&&(Pt=!0);else return i.lanes=t.lanes,Ui(t,i,h)}return Mf(t,i,a,l,h)}function Zg(t,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(rl(t,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=v!==null?v.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return Jg(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Qu(i,v!==null?v.cachePool:null),v!==null?eg(i,v):uf(),tg(i);else return i.lanes=i.childLanes=536870912,Jg(t,i,v!==null?v.baseLanes|a:a,a)}else v!==null?(Qu(i,v.cachePool),eg(i,v),Cr(),i.memoizedState=null):(t!==null&&Qu(i,null),uf(),Cr());return Ht(t,i,h,a),i.child}function Jg(t,i,a,l){var h=df();return h=h===null?null:{parent:It._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Qu(i,null),uf(),tg(i),t!==null&&sl(t,i,l,!0),null}function rl(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function Mf(t,i,a,l,h){return Us(i),a=pf(t,i,a,l,void 0,h),l=gf(),t!==null&&!Pt?(yf(t,i,h),Ui(t,i,h)):(qe&&l&&sf(i),i.flags|=1,Ht(t,i,a,h),i.child)}function ey(t,i,a,l,h,d){return Us(i),i.updateQueue=null,a=ag(i,l,a,h),sg(t),l=gf(),t!==null&&!Pt?(yf(t,i,d),Ui(t,i,d)):(qe&&l&&sf(i),i.flags|=1,Ht(t,i,a,d),i.child)}function ty(t,i,a,l,h){if(Us(i),i.stateNode===null){var d=Ca,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=xf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Gf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qt(v):Ca,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Nf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&xf.enqueueReplaceState(d,d.state,null),ll(i,l,d,h),ol(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var A=i.memoizedProps,C=Ps(a,A);d.props=C;var k=d.context,$=a.contextType;v=Ca,typeof $=="object"&&$!==null&&(v=Qt($));var Z=a.getDerivedStateFromProps;$=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",A=i.pendingProps!==A,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(A||k!==v)&&Bg(i,d,l,v),xr=!1;var H=i.memoizedState;d.state=H,ll(i,l,d,h),ol(),k=i.memoizedState,A||H!==k||xr?(typeof Z=="function"&&(Nf(i,a,Z,l),k=i.memoizedState),(C=xr||zg(i,a,C,l,H,k,v))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=k),d.props=l,d.state=k,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Kf(t,i),v=i.memoizedProps,$=Ps(a,v),d.props=$,Z=i.pendingProps,H=d.context,k=a.contextType,C=Ca,typeof k=="object"&&k!==null&&(C=Qt(k)),A=a.getDerivedStateFromProps,(k=typeof A=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||H!==C)&&Bg(i,d,l,C),xr=!1,H=i.memoizedState,d.state=H,ll(i,l,d,h),ol();var K=i.memoizedState;v!==Z||H!==K||xr||t!==null&&t.dependencies!==null&&sc(t.dependencies)?(typeof A=="function"&&(Nf(i,a,A,l),K=i.memoizedState),($=xr||zg(i,a,$,l,H,K,C)||t!==null&&t.dependencies!==null&&sc(t.dependencies))?(k||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=C,l=$):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,rl(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=xs(i,t.child,null,h),i.child=xs(i,null,a,h)):Ht(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Ui(t,i,h),t}function ny(t,i,a,l){return $o(),i.flags|=256,Ht(t,i,a,l),i.child}var Vf={dehydrated:null,treeContext:null,retryLane:0};function kf(t){return{baseLanes:t,cachePool:rg()}}function Pf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Pn),t}function iy(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(qe){if(h?Rr(i):Cr(),qe){var A=Bt,C;if(C=A){e:{for(C=A,A=ai;C.nodeType!==8;){if(!A){A=null;break e}if(C=Kn(C.nextSibling),C===null){A=null;break e}}A=C}A!==null?(i.memoizedState={dehydrated:A,treeContext:Is!==null?{id:Vi,overflow:ki}:null,retryLane:536870912},C=kn(18,null,null,0),C.stateNode=A,C.return=i,i.child=C,sn=i,Bt=null,C=!0):C=!1}C||Ns(i)}if(A=i.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return A.data==="$!"?i.lanes=16:i.lanes=536870912,null;Pi(i)}return A=l.children,l=l.fallback,h?(Cr(),h=i.mode,A=Uf({mode:"hidden",children:A},h),l=zs(l,h,a,null),A.return=i,l.return=i,A.sibling=l,i.child=A,h=i.child,h.memoizedState=kf(a),h.childLanes=Pf(t,v,a),i.memoizedState=Vf,l):(Rr(i),Lf(i,A))}if(C=t.memoizedState,C!==null&&(A=C.dehydrated,A!==null)){if(d)i.flags&256?(Rr(i),i.flags&=-257,i=jf(t,i,a)):i.memoizedState!==null?(Cr(),i.child=t.child,i.flags|=128,i=null):(Cr(),h=l.fallback,A=i.mode,l=Uf({mode:"visible",children:l.children},A),h=zs(h,A,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,xs(i,t.child,null,a),l=i.child,l.memoizedState=kf(a),l.childLanes=Pf(t,v,a),i.memoizedState=Vf,i=h);else if(Rr(i),A.data==="$!"){if(v=A.nextSibling&&A.nextSibling.dataset,v)var k=v.dgst;v=k,l=Error(s(419)),l.stack="",l.digest=v,Qo({value:l,source:null,stack:null}),i=jf(t,i,a)}else if(Pt||sl(t,i,a,!1),v=(a&t.childLanes)!==0,Pt||v){if(v=Je,v!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane)throw C.retryLane=l,br(t,l),an(v,t,l),Qg}A.data==="$?"||dd(),i=jf(t,i,a)}else A.data==="$?"?(i.flags|=128,i.child=t.child,i=GA.bind(null,t),A._reactRetry=i,i=null):(t=C.treeContext,Bt=Kn(A.nextSibling),sn=i,qe=!0,Fn=null,ai=!1,t!==null&&(Nn[xn++]=Vi,Nn[xn++]=ki,Nn[xn++]=Is,Vi=t.id,ki=t.overflow,Is=i),i=Lf(i,l.children),i.flags|=4096);return i}return h?(Cr(),h=l.fallback,A=i.mode,C=t.child,k=C.sibling,l=Lr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&31457280,k!==null?h=Lr(k,h):(h=zs(h,A,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,A=t.child.memoizedState,A===null?A=kf(a):(C=A.cachePool,C!==null?(k=It._currentValue,C=C.parent!==k?{parent:k,pool:k}:C):C=rg(),A={baseLanes:A.baseLanes|a,cachePool:C}),h.memoizedState=A,h.childLanes=Pf(t,v,a),i.memoizedState=Vf,l):(Rr(i),a=t.child,t=a.sibling,a=Lr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Lf(t,i){return i=Uf({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Uf(t,i){return Dy(t,i,0,null)}function jf(t,i,a){return xs(i,t.child,null,a),t=Lf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function ry(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),qf(t.return,i,a)}function zf(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function sy(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ht(t,i,l.children,a),l=Ct.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ry(t,a,i);else if(t.tag===19)ry(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Qe(Ct,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&$u(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),zf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&$u(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}zf(i,!0,a,null,d);break;case"together":zf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ui(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ur|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(sl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Lr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Lr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Bf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&sc(t)))}function xA(t,i,a){switch(i.tag){case 3:ur(i,i.stateNode.containerInfo),Nr(i,It,t.memoizedState.cache),$o();break;case 27:case 5:So(i);break;case 4:ur(i,i.stateNode.containerInfo);break;case 10:Nr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Rr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?iy(t,i,a):(Rr(i),t=Ui(t,i,a),t!==null?t.sibling:null);Rr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(sl(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return sy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Qe(Ct,Ct.current),l)break;return null;case 22:case 23:return i.lanes=0,Zg(t,i,a);case 24:Nr(i,It,t.memoizedState.cache)}return Ui(t,i,a)}function ay(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Pt=!0;else{if(!Bf(t,a)&&(i.flags&128)===0)return Pt=!1,xA(t,i,a);Pt=(t.flags&131072)!==0}else Pt=!1,qe&&(i.flags&1048576)!==0&&Fp(i,Hu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")td(l)?(t=Ps(l,t),i.tag=1,i=ty(null,i,l,t,a)):(i.tag=0,i=Mf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===z){i.tag=11,i=Yg(null,i,l,t,a);break e}else if(h===Q){i.tag=14,i=Xg(null,i,l,t,a);break e}}throw i=R(l)||l,Error(s(306,i,""))}}return i;case 0:return Mf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ps(l,i.pendingProps),ty(t,i,l,h,a);case 3:e:{if(ur(i,i.stateNode.containerInfo),t===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,Kf(t,i),ll(i,d,null,a);var v=i.memoizedState;if(d=v.cache,Nr(i,It,d),d!==h.cache&&Ff(i,[It],a,!0),ol(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=ny(t,i,d,a);break e}else if(d!==l){l=Dn(Error(s(424)),i),Qo(l),i=ny(t,i,d,a);break e}else for(Bt=Kn(i.stateNode.containerInfo.firstChild),sn=i,qe=!0,Fn=null,ai=!0,a=Jp(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if($o(),d===l){i=Ui(t,i,a);break e}Ht(t,i,d,a)}i=i.child}return i;case 26:return rl(t,i),t===null?(a=u_(i.type,null,i.pendingProps,null))?i.memoizedState=a:qe||(a=i.type,t=i.pendingProps,l=Tc(Tn.current).createElement(a),l[Mt]=i,l[wt]=t,qt(l,a,t),nt(l),i.stateNode=l):i.memoizedState=u_(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return So(i),t===null&&qe&&(l=i.stateNode=a_(i.type,i.pendingProps,Tn.current),sn=i,ai=!0,Bt=Kn(l.firstChild)),l=i.pendingProps.children,t!==null||qe?Ht(t,i,l,a):i.child=xs(i,null,l,a),rl(t,i),i.child;case 5:return t===null&&qe&&((h=l=Bt)&&(l=oS(l,i.type,i.pendingProps,ai),l!==null?(i.stateNode=l,sn=i,Bt=Kn(l.firstChild),ai=!1,h=!0):h=!1),h||Ns(i)),So(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Cd(h,d)?l=null:v!==null&&Cd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=pf(t,i,wA,null,null,a),Sl._currentValue=h),rl(t,i),Ht(t,i,l,a),i.child;case 6:return t===null&&qe&&((t=a=Bt)&&(a=lS(a,i.pendingProps,ai),a!==null?(i.stateNode=a,sn=i,Bt=null,t=!0):t=!1),t||Ns(i)),null;case 13:return iy(t,i,a);case 4:return ur(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=xs(i,null,l,a):Ht(t,i,l,a),i.child;case 11:return Yg(t,i,i.type,i.pendingProps,a);case 7:return Ht(t,i,i.pendingProps,a),i.child;case 8:return Ht(t,i,i.pendingProps.children,a),i.child;case 12:return Ht(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Nr(i,i.type,l.value),Ht(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Us(i),h=Qt(h),l=l(h),i.flags|=1,Ht(t,i,l,a),i.child;case 14:return Xg(t,i,i.type,i.pendingProps,a);case 15:return Wg(t,i,i.type,i.pendingProps,a);case 19:return sy(t,i,a);case 22:return Zg(t,i,a);case 24:return Us(i),l=Qt(It),t===null?(h=df(),h===null&&(h=Je,d=hf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Gf(i),Nr(i,It,h)):((t.lanes&a)!==0&&(Kf(t,i),ll(i,null,null,a),ol()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Nr(i,It,l)):(l=d.cache,Nr(i,It,l),l!==h.cache&&Ff(i,[It],a,!0))),Ht(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Hf=Be(null),Ls=null,ji=null;function Nr(t,i,a){Qe(Hf,i._currentValue),i._currentValue=a}function zi(t){t._currentValue=Hf.current,ot(Hf)}function qf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Ff(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var A=d;d=h;for(var C=0;C<i.length;C++)if(A.context===i[C]){d.lanes|=a,A=d.alternate,A!==null&&(A.lanes|=a),qf(d.return,a,t),l||(v=null);break e}d=A.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),qf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function sl(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var A=h.type;pn(h.pendingProps.value,v.value)||(t!==null?t.push(A):t=[A])}}else if(h===lr.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Sl):t=[Sl])}h=h.return}t!==null&&Ff(i,t,a,l),i.flags|=262144}function sc(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Us(t){Ls=t,ji=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return oy(Ls,t)}function ac(t,i){return Ls===null&&Us(t),oy(t,i)}function oy(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ji===null){if(t===null)throw Error(s(308));ji=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ji=ji.next=i;return a}var xr=!1;function Gf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Or(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Mr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(rt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=zu(t),Hp(t,null,a),i}return ju(t,l,i,a),zu(t)}function al(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,pr(t,a)}}function $f(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Qf=!1;function ol(){if(Qf){var t=Ma;if(t!==null)throw t}}function ll(t,i,a,l){Qf=!1;var h=t.updateQueue;xr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,A=h.shared.pending;if(A!==null){h.shared.pending=null;var C=A,k=C.next;C.next=null,v===null?d=k:v.next=k,v=C;var $=t.alternate;$!==null&&($=$.updateQueue,A=$.lastBaseUpdate,A!==v&&(A===null?$.firstBaseUpdate=k:A.next=k,$.lastBaseUpdate=C))}if(d!==null){var Z=h.baseState;v=0,$=k=C=null,A=d;do{var H=A.lane&-536870913,K=H!==A.lane;if(K?(je&H)===H:(l&H)===H){H!==0&&H===Oa&&(Qf=!0),$!==null&&($=$.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var ce=t,Se=A;H=i;var ht=a;switch(Se.tag){case 1:if(ce=Se.payload,typeof ce=="function"){Z=ce.call(ht,Z,H);break e}Z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=Se.payload,H=typeof ce=="function"?ce.call(ht,Z,H):ce,H==null)break e;Z=I({},Z,H);break e;case 2:xr=!0}}H=A.callback,H!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[H]:K.push(H))}else K={lane:H,tag:A.tag,payload:A.payload,callback:A.callback,next:null},$===null?(k=$=K,C=Z):$=$.next=K,v|=H;if(A=A.next,A===null){if(A=h.shared.pending,A===null)break;K=A,A=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);$===null&&(C=Z),h.baseState=C,h.firstBaseUpdate=k,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),Ur|=v,t.lanes=v,t.memoizedState=Z}}function ly(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function uy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ly(a[t],i)}function ul(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(A){Ze(i,i.return,A)}}function Vr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,A=v.destroy;if(A!==void 0){v.destroy=void 0,h=i;var C=a;try{A()}catch(k){Ze(h,C,k)}}}l=l.next}while(l!==d)}}catch(k){Ze(i,i.return,k)}}function cy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{uy(i,a)}catch(l){Ze(t,t.return,l)}}}function hy(t,i,a){a.props=Ps(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,i,l)}}function js(t,i){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){Ze(t,i,d)}}function gn(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,i,h)}else a.current=null}function fy(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function dy(t,i,a){try{var l=t.stateNode;nS(l,t.type,a,i),l[wt]=i}catch(h){Ze(t,t.return,h)}}function my(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Yf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||my(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Xf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ec));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Xf(t,i,a),t=t.sibling;t!==null;)Xf(t,i,a),t=t.sibling}function oc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(oc(t,i,a),t=t.sibling;t!==null;)oc(t,i,a),t=t.sibling}var Bi=!1,ut=!1,Wf=!1,py=typeof WeakSet=="function"?WeakSet:Set,Lt=null,gy=!1;function OA(t,i){if(t=t.containerInfo,bd=Cc,t=Mp(t),Zh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,A=-1,C=-1,k=0,$=0,Z=t,H=null;t:for(;;){for(var K;Z!==a||h!==0&&Z.nodeType!==3||(A=v+h),Z!==d||l!==0&&Z.nodeType!==3||(C=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(K=Z.firstChild)!==null;)H=Z,Z=K;for(;;){if(Z===t)break t;if(H===a&&++k===h&&(A=v),H===d&&++$===l&&(C=v),(K=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=K}a=A===-1||C===-1?null:{start:A,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Rd={focusedElem:t,selectionRange:a},Cc=!1,Lt=i;Lt!==null;)if(i=Lt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Lt=t;else for(;Lt!==null;){switch(i=Lt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=Ps(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Se){Ze(a,a.return,Se)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Nd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Nd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Lt=t;break}Lt=i.return}return ce=gy,gy=!1,ce}function yy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:qi(t,a),l&4&&ul(5,a);break;case 1:if(qi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(A){Ze(a,a.return,A)}else{var h=Ps(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(A){Ze(a,a.return,A)}}l&64&&cy(a),l&512&&js(a,a.return);break;case 3:if(qi(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{uy(l,t)}catch(A){Ze(a,a.return,A)}}break;case 26:qi(t,a),l&512&&js(a,a.return);break;case 27:case 5:qi(t,a),i===null&&l&4&&fy(a),l&512&&js(a,a.return);break;case 12:qi(t,a);break;case 13:qi(t,a),l&4&&Ey(t,a);break;case 22:if(h=a.memoizedState!==null||Bi,!h){i=i!==null&&i.memoizedState!==null||ut;var d=Bi,v=ut;Bi=h,(ut=i)&&!v?kr(t,a,(a.subtreeFlags&8772)!==0):qi(t,a),Bi=d,ut=v}l&512&&(a.memoizedProps.mode==="manual"?js(a,a.return):gn(a,a.return));break;default:qi(t,a)}}function _y(t){var i=t.alternate;i!==null&&(t.alternate=null,_y(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ps(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Et=null,yn=!1;function Hi(t,i,a){for(a=a.child;a!==null;)vy(t,i,a),a=a.sibling}function vy(t,i,a){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(cr,a)}catch{}switch(a.tag){case 26:ut||gn(a,i),Hi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ut||gn(a,i);var l=Et,h=yn;for(Et=a.stateNode,Hi(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);ps(a),Et=l,yn=h;break;case 5:ut||gn(a,i);case 6:h=Et;var d=yn;if(Et=null,Hi(t,i,a),Et=h,yn=d,Et!==null)if(yn)try{t=Et,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(v){Ze(a,i,v)}else try{Et.removeChild(a.stateNode)}catch(v){Ze(a,i,v)}break;case 18:Et!==null&&(yn?(i=Et,a=a.stateNode,i.nodeType===8?Dd(i.parentNode,a):i.nodeType===1&&Dd(i,a),Cl(i)):Dd(Et,a.stateNode));break;case 4:l=Et,h=yn,Et=a.stateNode.containerInfo,yn=!0,Hi(t,i,a),Et=l,yn=h;break;case 0:case 11:case 14:case 15:ut||Vr(2,a,i),ut||Vr(4,a,i),Hi(t,i,a);break;case 1:ut||(gn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&hy(a,i,l)),Hi(t,i,a);break;case 21:Hi(t,i,a);break;case 22:ut||gn(a,i),ut=(l=ut)||a.memoizedState!==null,Hi(t,i,a),ut=l;break;default:Hi(t,i,a)}}function Ey(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Cl(t)}catch(a){Ze(i,i.return,a)}}function MA(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new py),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new py),i;default:throw Error(s(435,t.tag))}}function Zf(t,i){var a=MA(t);i.forEach(function(l){var h=KA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Mn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,A=v;e:for(;A!==null;){switch(A.tag){case 27:case 5:Et=A.stateNode,yn=!1;break e;case 3:Et=A.stateNode.containerInfo,yn=!0;break e;case 4:Et=A.stateNode.containerInfo,yn=!0;break e}A=A.return}if(Et===null)throw Error(s(160));vy(d,v,h),Et=null,yn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Ty(i,t),i=i.sibling}var Gn=null;function Ty(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Mn(i,t),Vn(t),l&4&&(Vr(3,t,t.return),ul(3,t),Vr(5,t,t.return));break;case 1:Mn(i,t),Vn(t),l&512&&(ut||a===null||gn(a,a.return)),l&64&&Bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Gn;if(Mn(i,t),Vn(t),l&512&&(ut||a===null||gn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[yr]||d[Mt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),qt(d,l,a),d[Mt]=t,nt(d),l=d;break e;case"link":var v=f_("link","href",h).get(l+(a.href||""));if(v){for(var A=0;A<v.length;A++)if(d=v[A],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(A,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=f_("meta","content",h).get(l+(a.content||""))){for(A=0;A<v.length;A++)if(d=v[A],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(A,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Mt]=t,nt(d),l=d}t.stateNode=l}else d_(h,t.type,t.stateNode);else t.stateNode=h_(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?d_(h,t.type,t.stateNode):h_(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&dy(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var C=h.firstChild;C;){var k=C.nextSibling,$=C.nodeName;C[yr]||$==="HEAD"||$==="BODY"||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=k}for(var Z=t.type,H=h.attributes;H.length;)h.removeAttributeNode(H[0]);qt(h,Z,d),h[Mt]=t,h[wt]=d}catch(ce){Ze(t,t.return,ce)}}case 5:if(Mn(i,t),Vn(t),l&512&&(ut||a===null||gn(a,a.return)),t.flags&32){h=t.stateNode;try{wn(h,"")}catch(ce){Ze(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,dy(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Wf=!0);break;case 6:if(Mn(i,t),Vn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Ze(t,t.return,ce)}}break;case 3:if(wc=null,h=Gn,Gn=Ac(i.containerInfo),Mn(i,t),Gn=h,Vn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Cl(i.containerInfo)}catch(ce){Ze(t,t.return,ce)}Wf&&(Wf=!1,Ay(t));break;case 4:l=Gn,Gn=Ac(t.stateNode.containerInfo),Mn(i,t),Vn(t),Gn=l;break;case 12:Mn(i,t),Vn(t);break;case 13:Mn(i,t),Vn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(od=ln()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Zf(t,l)));break;case 22:if(l&512&&(ut||a===null||gn(a,a.return)),C=t.memoizedState!==null,k=a!==null&&a.memoizedState!==null,$=Bi,Z=ut,Bi=$||C,ut=Z||k,Mn(i,t),ut=Z,Bi=$,Vn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=C?i._visibility&-2:i._visibility|1,C&&(i=Bi||ut,a===null||k||i||La(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){k=a=i;try{if(h=k.stateNode,C)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=k.stateNode,A=k.memoizedProps.style;var K=A!=null&&A.hasOwnProperty("display")?A.display:null;v.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ce){Ze(k,k.return,ce)}}}else if(i.tag===6){if(a===null){k=i;try{k.stateNode.nodeValue=C?"":k.memoizedProps}catch(ce){Ze(k,k.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Zf(t,a))));break;case 19:Mn(i,t),Vn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Zf(t,l)));break;case 21:break;default:Mn(i,t),Vn(t)}}function Vn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(my(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=Yf(t);oc(t,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(wn(v,""),l.flags&=-33);var A=Yf(t);oc(t,A,v);break;case 3:case 4:var C=l.stateNode.containerInfo,k=Yf(t);Xf(t,k,C);break;default:throw Error(s(161))}}}catch($){Ze(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Ay(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Ay(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function qi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)yy(t,i.alternate,i),i=i.sibling}function La(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Vr(4,i,i.return),La(i);break;case 1:gn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&hy(i,i.return,a),La(i);break;case 26:case 27:case 5:gn(i,i.return),La(i);break;case 22:gn(i,i.return),i.memoizedState===null&&La(i);break;default:La(i)}t=t.sibling}}function kr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:kr(h,d,a),ul(4,d);break;case 1:if(kr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Ze(l,l.return,k)}if(l=d,h=l.updateQueue,h!==null){var A=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)ly(C[h],A)}catch(k){Ze(l,l.return,k)}}a&&v&64&&cy(d),js(d,d.return);break;case 26:case 27:case 5:kr(h,d,a),a&&l===null&&v&4&&fy(d),js(d,d.return);break;case 12:kr(h,d,a);break;case 13:kr(h,d,a),a&&v&4&&Ey(h,d);break;case 22:d.memoizedState===null&&kr(h,d,a),js(d,d.return);break;default:kr(h,d,a)}i=i.sibling}}function Jf(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Jo(a))}function ed(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Jo(t))}function Pr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Sy(t,i,a,l),i=i.sibling}function Sy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Pr(t,i,a,l),h&2048&&ul(9,i);break;case 3:Pr(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Jo(t)));break;case 12:if(h&2048){Pr(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,A=d.onPostCommit;typeof A=="function"&&A(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ze(i,i.return,C)}}else Pr(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Pr(t,i,a,l):cl(t,i):d._visibility&4?Pr(t,i,a,l):(d._visibility|=4,Ua(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Jf(i.alternate,i);break;case 24:Pr(t,i,a,l),h&2048&&ed(i.alternate,i);break;default:Pr(t,i,a,l)}}function Ua(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,A=a,C=l,k=v.flags;switch(v.tag){case 0:case 11:case 15:Ua(d,v,A,C,h),ul(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&4?Ua(d,v,A,C,h):cl(d,v):($._visibility|=4,Ua(d,v,A,C,h)),h&&k&2048&&Jf(v.alternate,v);break;case 24:Ua(d,v,A,C,h),h&&k&2048&&ed(v.alternate,v);break;default:Ua(d,v,A,C,h)}i=i.sibling}}function cl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:cl(a,l),h&2048&&Jf(l.alternate,l);break;case 24:cl(a,l),h&2048&&ed(l.alternate,l);break;default:cl(a,l)}i=i.sibling}}var hl=8192;function ja(t){if(t.subtreeFlags&hl)for(t=t.child;t!==null;)wy(t),t=t.sibling}function wy(t){switch(t.tag){case 26:ja(t),t.flags&hl&&t.memoizedState!==null&&TS(Gn,t.memoizedState,t.memoizedProps);break;case 5:ja(t);break;case 3:case 4:var i=Gn;Gn=Ac(t.stateNode.containerInfo),ja(t),Gn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=hl,hl=16777216,ja(t),hl=i):ja(t));break;default:ja(t)}}function by(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function fl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,Cy(l,t)}by(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ry(t),t=t.sibling}function Ry(t){switch(t.tag){case 0:case 11:case 15:fl(t),t.flags&2048&&Vr(9,t,t.return);break;case 3:fl(t);break;case 12:fl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,lc(t)):fl(t);break;default:fl(t)}}function lc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,Cy(l,t)}by(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Vr(8,i,i.return),lc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,lc(i));break;default:lc(i)}t=t.sibling}}function Cy(t,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:Vr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Jo(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=t;Lt!==null;){l=Lt;var h=l.sibling,d=l.return;if(_y(l),l===a){Lt=null;break e}if(h!==null){h.return=d,Lt=h;break e}Lt=d}}}function VA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(t,i,a,l){return new VA(t,i,a,l)}function td(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Lr(t,i){var a=t.alternate;return a===null?(a=kn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Iy(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function uc(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")td(t)&&(v=1);else if(typeof t=="string")v=vS(t,a,en.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return zs(a.children,h,d,i);case y:v=8,h|=24;break;case T:return t=kn(12,a,i,h|2),t.elementType=T,t.lanes=d,t;case Y:return t=kn(13,a,i,h),t.elementType=Y,t.lanes=d,t;case q:return t=kn(19,a,i,h),t.elementType=q,t.lanes=d,t;case ee:return Dy(a,h,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b:case P:v=10;break e;case N:v=9;break e;case z:v=11;break e;case Q:v=14;break e;case ne:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=kn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function zs(t,i,a,l){return t=kn(7,t,l,i),t.lanes=a,t}function Dy(t,i,a,l){t=kn(22,t,l,i),t.elementType=ee,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var v=br(d,2);v!==null&&(h._pendingVisibility|=2,an(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var v=br(d,2);v!==null&&(h._pendingVisibility&=-3,an(v,d,2))}}};return t.stateNode=h,t}function nd(t,i,a){return t=kn(6,t,null,i),t.lanes=a,t}function id(t,i,a){return i=kn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Fi(t){t.flags|=4}function Ny(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!m_(i)){if(i=On.current,i!==null&&((je&4194176)===je?oi!==null:(je&62914560)!==je&&(je&536870912)===0||i!==oi))throw Xo=lf,$p;t.flags|=8192}}function cc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?dr():536870912,t.lanes|=i,Ba|=i)}function dl(t,i){if(!qe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function kA(t,i,a){var l=i.pendingProps;switch(af(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),zi(It),Si(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ko(i)?Fi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Fn!==null&&(hd(Fn),Fn=null))),it(i),null;case 26:return a=i.memoizedState,t===null?(Fi(i),a!==null?(it(i),Ny(i,a)):(it(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Fi(i),it(i),Ny(i,a)):(it(i),i.flags&=-16777217):(t.memoizedProps!==l&&Fi(i),it(i),i.flags&=-16777217),null;case 27:aa(i),a=Tn.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Fi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}t=en.current,Ko(i)?Gp(i):(t=a_(h,l,a),i.stateNode=t,Fi(i))}return it(i),null;case 5:if(aa(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Fi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(t=en.current,Ko(i))Gp(i);else{switch(h=Tc(Tn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Mt]=i,t[wt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(qt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Fi(i)}}return it(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Fi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Tn.current,Ko(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=sn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Mt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||e_(t.nodeValue,a)),t||Ns(i)}else t=Tc(t).createTextNode(l),t[Mt]=i,i.stateNode=t}return it(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ko(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Mt]=i}else $o(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else Fn!==null&&(hd(Fn),Fn=null),h=!0;if(!h)return i.flags&256?(Pi(i),i):(Pi(i),null)}if(Pi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),cc(i,i.updateQueue),it(i),null;case 4:return Si(),t===null&&Ad(i.stateNode.containerInfo),it(i),null;case 10:return zi(i.type),it(i),null;case 19:if(ot(Ct),h=i.memoizedState,h===null)return it(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)dl(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=$u(t),d!==null){for(i.flags|=128,dl(h,!1),t=d.updateQueue,i.updateQueue=t,cc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Iy(a,t),a=a.sibling;return Qe(Ct,Ct.current&1|2),i.child}t=t.sibling}h.tail!==null&&ln()>hc&&(i.flags|=128,l=!0,dl(h,!1),i.lanes=4194304)}else{if(!l)if(t=$u(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,cc(i,t),dl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return it(i),null}else 2*ln()-h.renderingStartTime>hc&&a!==536870912&&(i.flags|=128,l=!0,dl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=ln(),i.sibling=null,t=Ct.current,Qe(Ct,l?t&1|2:t&1),i):(it(i),null);case 22:case 23:return Pi(i),cf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&cc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ot(Os),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),zi(It),it(i),null;case 25:return null}throw Error(s(156,i.tag))}function PA(t,i){switch(af(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return zi(It),Si(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return aa(i),null;case 13:if(Pi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));$o()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ot(Ct),null;case 4:return Si(),null;case 10:return zi(i.type),null;case 22:case 23:return Pi(i),cf(),t!==null&&ot(Os),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return zi(It),null;case 25:return null;default:return null}}function xy(t,i){switch(af(i),i.tag){case 3:zi(It),Si();break;case 26:case 27:case 5:aa(i);break;case 4:Si();break;case 13:Pi(i);break;case 19:ot(Ct);break;case 10:zi(i.type);break;case 22:case 23:Pi(i),cf(),t!==null&&ot(Os);break;case 24:zi(It)}}var LA={getCacheForType:function(t){var i=Qt(It),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},UA=typeof WeakMap=="function"?WeakMap:Map,rt=0,Je=null,xe=null,je=0,et=0,_n=null,Gi=!1,za=!1,rd=!1,Ki=0,ct=0,Ur=0,Bs=0,sd=0,Pn=0,Ba=0,ml=null,ui=null,ad=!1,od=0,hc=1/0,fc=null,jr=null,dc=!1,Hs=null,pl=0,ld=0,ud=null,gl=0,cd=null;function vn(){if((rt&2)!==0&&je!==0)return je&-je;if(w.T!==null){var t=Oa;return t!==0?t:_d()}return vu()}function Oy(){Pn===0&&(Pn=(je&536870912)===0||qe?Io():536870912);var t=On.current;return t!==null&&(t.flags|=32),Pn}function an(t,i,a){(t===Je&&et===2||t.cancelPendingCommit!==null)&&(Ha(t,0),$i(t,je,Pn,!1)),dt(t,a),((rt&2)===0||t!==Je)&&(t===Je&&((rt&2)===0&&(Bs|=a),ct===4&&$i(t,je,Pn,!1)),ci(t))}function My(t,i,a){if((rt&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&t.expiredLanes)===0||fr(t,i),h=l?BA(t,i):md(t,i,!0),d=l;do{if(h===0){za&&!l&&$i(t,i,0,!1);break}else if(h===6)$i(t,i,0,!Gi);else{if(a=t.current.alternate,d&&!jA(a)){h=md(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var A=t;h=ml;var C=A.current.memoizedState.isDehydrated;if(C&&(Ha(A,v).flags|=256),v=md(A,v,!1),v!==2){if(rd&&!C){A.errorRecoveryDisabledLanes|=d,Bs|=d,h=4;break e}d=ui,ui=h,d!==null&&hd(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Ha(t,0),$i(t,i,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){$i(l,i,Pn,!Gi);break e}break;case 2:ui=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=od+300-ln(),10<d)){if($i(l,i,Pn,!Gi),An(l,0)!==0)break e;l.timeoutHandle=i_(Vy.bind(null,l,a,ui,fc,ad,i,Pn,Bs,Ba,Gi,2,-0,0),d);break e}Vy(l,a,ui,fc,ad,i,Pn,Bs,Ba,Gi,0,-0,0)}}break}while(!0);ci(t)}function hd(t){ui===null?ui=t:ui.push.apply(ui,t)}function Vy(t,i,a,l,h,d,v,A,C,k,$,Z,H){var K=i.subtreeFlags;if((K&8192||(K&16785408)===16785408)&&(Al={stylesheets:null,count:0,unsuspend:ES},wy(i),i=AS(),i!==null)){t.cancelPendingCommit=i(By.bind(null,t,a,l,h,v,A,C,1,Z,H)),$i(t,d,v,!k);return}By(t,a,l,h,v,A,C,$,Z,H)}function jA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function $i(t,i,a,l){i&=~sd,i&=~Bs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-tn(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&mr(t,a,i)}function mc(){return(rt&6)===0?(yl(0),!1):!0}function fd(){if(xe!==null){if(et===0)var t=xe.return;else t=xe,ji=Ls=null,_f(t),Na=null,Wo=0,t=xe;for(;t!==null;)xy(t.alternate,t),t=t.return;xe=null}}function Ha(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,rS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),fd(),Je=t,xe=a=Lr(t.current,null),je=i,et=0,_n=null,Gi=!1,za=fr(t,i),rd=!1,Ba=Pn=sd=Bs=Ur=ct=0,ui=ml=null,ad=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-tn(l),d=1<<h;i|=t[h],l&=~d}return Ki=i,Uu(),a}function ky(t,i){De=null,w.H=li,i===Yo?(i=Xp(),et=3):i===$p?(i=Xp(),et=4):et=i===Qg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,_n=i,xe===null&&(ct=1,rc(t,Dn(i,t.current)))}function Py(){var t=w.H;return w.H=li,t===null?li:t}function Ly(){var t=w.A;return w.A=LA,t}function dd(){ct=4,Gi||(je&4194176)!==je&&On.current!==null||(za=!0),(Ur&134217727)===0&&(Bs&134217727)===0||Je===null||$i(Je,je,Pn,!1)}function md(t,i,a){var l=rt;rt|=2;var h=Py(),d=Ly();(Je!==t||je!==i)&&(fc=null,Ha(t,i)),i=!1;var v=ct;e:do try{if(et!==0&&xe!==null){var A=xe,C=_n;switch(et){case 8:fd(),v=6;break e;case 3:case 2:case 6:On.current===null&&(i=!0);var k=et;if(et=0,_n=null,qa(t,A,C,k),a&&za){v=0;break e}break;default:k=et,et=0,_n=null,qa(t,A,C,k)}}zA(),v=ct;break}catch($){ky(t,$)}while(!0);return i&&t.shellSuspendCounter++,ji=Ls=null,rt=l,w.H=h,w.A=d,xe===null&&(Je=null,je=0,Uu()),v}function zA(){for(;xe!==null;)Uy(xe)}function BA(t,i){var a=rt;rt|=2;var l=Py(),h=Ly();Je!==t||je!==i?(fc=null,hc=ln()+500,Ha(t,i)):za=fr(t,i);e:do try{if(et!==0&&xe!==null){i=xe;var d=_n;t:switch(et){case 1:et=0,_n=null,qa(t,i,d,1);break;case 2:if(Qp(d)){et=0,_n=null,jy(i);break}i=function(){et===2&&Je===t&&(et=7),ci(t)},d.then(i,i);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Qp(d)?(et=0,_n=null,jy(i)):(et=0,_n=null,qa(t,i,d,7));break;case 5:var v=null;switch(xe.tag){case 26:v=xe.memoizedState;case 5:case 27:var A=xe;if(!v||m_(v)){et=0,_n=null;var C=A.sibling;if(C!==null)xe=C;else{var k=A.return;k!==null?(xe=k,pc(k)):xe=null}break t}}et=0,_n=null,qa(t,i,d,5);break;case 6:et=0,_n=null,qa(t,i,d,6);break;case 8:fd(),ct=6;break e;default:throw Error(s(462))}}HA();break}catch($){ky(t,$)}while(!0);return ji=Ls=null,w.H=l,w.A=h,rt=a,xe!==null?0:(Je=null,je=0,Uu(),ct)}function HA(){for(;xe!==null&&!Bh();)Uy(xe)}function Uy(t){var i=ay(t.alternate,t,Ki);t.memoizedProps=t.pendingProps,i===null?pc(t):xe=i}function jy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=ey(a,i,i.pendingProps,i.type,void 0,je);break;case 11:i=ey(a,i,i.pendingProps,i.type.render,i.ref,je);break;case 5:_f(i);default:xy(a,i),i=xe=Iy(i,Ki),i=ay(a,i,Ki)}t.memoizedProps=t.pendingProps,i===null?pc(t):xe=i}function qa(t,i,a,l){ji=Ls=null,_f(i),Na=null,Wo=0;var h=i.return;try{if(NA(t,h,i,a,je)){ct=1,rc(t,Dn(a,t.current)),xe=null;return}}catch(d){if(h!==null)throw xe=h,d;ct=1,rc(t,Dn(a,t.current)),xe=null;return}i.flags&32768?(qe||l===1?t=!0:za||(je&536870912)!==0?t=!1:(Gi=t=!0,(l===2||l===3||l===6)&&(l=On.current,l!==null&&l.tag===13&&(l.flags|=16384))),zy(i,t)):pc(i)}function pc(t){var i=t;do{if((i.flags&32768)!==0){zy(i,Gi);return}t=i.return;var a=kA(i.alternate,i,Ki);if(a!==null){xe=a;return}if(i=i.sibling,i!==null){xe=i;return}xe=i=t}while(i!==null);ct===0&&(ct=5)}function zy(t,i){do{var a=PA(t.alternate,t);if(a!==null){a.flags&=32767,xe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){xe=t;return}xe=t=a}while(t!==null);ct=6,xe=null}function By(t,i,a,l,h,d,v,A,C,k){var $=w.T,Z=ae.p;try{ae.p=2,w.T=null,qA(t,i,a,l,Z,h,d,v,A,C,k)}finally{w.T=$,ae.p=Z}}function qA(t,i,a,l,h,d,v,A){do Fa();while(Hs!==null);if((rt&6)!==0)throw Error(s(327));var C=t.finishedWork;if(l=t.finishedLanes,C===null)return null;if(t.finishedWork=null,t.finishedLanes=0,C===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var k=C.lanes|C.childLanes;if(k|=nf,yu(t,l,k,d,v,A),t===Je&&(xe=Je=null,je=0),(C.subtreeFlags&10256)===0&&(C.flags&10256)===0||dc||(dc=!0,ld=k,ud=a,$A(wi,function(){return Fa(),null})),a=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||a?(a=w.T,w.T=null,d=ae.p,ae.p=2,v=rt,rt|=4,OA(t,C),Ty(C,t),dA(Rd,t.containerInfo),Cc=!!bd,Rd=bd=null,t.current=C,yy(t,C.alternate,C),wo(),rt=v,ae.p=d,w.T=a):t.current=C,dc?(dc=!1,Hs=t,pl=l):Hy(t,k),k=t.pendingLanes,k===0&&(jr=null),Ro(C.stateNode),ci(t),i!==null)for(h=t.onRecoverableError,C=0;C<i.length;C++)k=i[C],h(k.value,{componentStack:k.stack});return(pl&3)!==0&&Fa(),k=t.pendingLanes,(l&4194218)!==0&&(k&42)!==0?t===cd?gl++:(gl=0,cd=t):gl=0,yl(0),null}function Hy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Jo(i)))}function Fa(){if(Hs!==null){var t=Hs,i=ld;ld=0;var a=_u(pl),l=w.T,h=ae.p;try{if(ae.p=32>a?32:a,w.T=null,Hs===null)var d=!1;else{a=ud,ud=null;var v=Hs,A=pl;if(Hs=null,pl=0,(rt&6)!==0)throw Error(s(331));var C=rt;if(rt|=4,Ry(v.current),Sy(v,v.current,A,a),rt=C,yl(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(cr,v)}catch{}d=!0}return d}finally{ae.p=h,w.T=l,Hy(t,i)}}return!1}function qy(t,i,a){i=Dn(a,i),i=Of(t.stateNode,i,2),t=Mr(t,i,2),t!==null&&(dt(t,2),ci(t))}function Ze(t,i,a){if(t.tag===3)qy(t,t,a);else for(;i!==null;){if(i.tag===3){qy(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(jr===null||!jr.has(l))){t=Dn(a,t),a=Kg(2),l=Mr(i,a,2),l!==null&&($g(a,l,i,t),dt(l,2),ci(l));break}}i=i.return}}function pd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new UA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(rd=!0,h.add(a),t=FA.bind(null,t,i,a),i.then(t,t))}function FA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(je&a)===a&&(ct===4||ct===3&&(je&62914560)===je&&300>ln()-od?(rt&2)===0&&Ha(t,0):sd|=a,Ba===je&&(Ba=0)),ci(t)}function Fy(t,i){i===0&&(i=dr()),t=br(t,i),t!==null&&(dt(t,i),ci(t))}function GA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Fy(t,a)}function KA(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Fy(t,a)}function $A(t,i){return fs(t,i)}var gc=null,Ga=null,gd=!1,yc=!1,yd=!1,qs=0;function ci(t){t!==Ga&&t.next===null&&(Ga===null?gc=Ga=t:Ga=Ga.next=t),yc=!0,gd||(gd=!0,YA(QA))}function yl(t,i){if(!yd&&yc){yd=!0;do for(var a=!1,l=gc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,A=l.pingedLanes;d=(1<<31-tn(42|t)+1)-1,d&=h&~(v&~A),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,$y(l,d))}else d=je,d=An(l,l===Je?d:0),(d&3)===0||fr(l,d)||(a=!0,$y(l,d));l=l.next}while(a);yd=!1}}function QA(){yc=gd=!1;var t=0;qs!==0&&(iS()&&(t=qs),qs=0);for(var i=ln(),a=null,l=gc;l!==null;){var h=l.next,d=Gy(l,i);d===0?(l.next=null,a===null?gc=h:a.next=h,h===null&&(Ga=a)):(a=l,(t!==0||(d&3)!==0)&&(yc=!0)),l=h}yl(t)}function Gy(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-tn(d),A=1<<v,C=h[v];C===-1?((A&a)===0||(A&l)!==0)&&(h[v]=ua(A,i)):C<=i&&(t.expiredLanes|=A),d&=~A}if(i=Je,a=je,a=An(t,t===i?a:0),l=t.callbackNode,a===0||t===i&&et===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&la(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||fr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&la(l),_u(a)){case 2:case 8:a=Ot;break;case 32:a=wi;break;case 268435456:a=bo;break;default:a=wi}return l=Ky.bind(null,t),a=fs(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&la(l),t.callbackPriority=2,t.callbackNode=null,2}function Ky(t,i){var a=t.callbackNode;if(Fa()&&t.callbackNode!==a)return null;var l=je;return l=An(t,t===Je?l:0),l===0?null:(My(t,l,i),Gy(t,ln()),t.callbackNode!=null&&t.callbackNode===a?Ky.bind(null,t):null)}function $y(t,i){if(Fa())return null;My(t,i,!0)}function YA(t){sS(function(){(rt&6)!==0?fs(St,t):t()})}function _d(){return qs===0&&(qs=Io()),qs}function Qy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Jn(""+t)}function Yy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function XA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Qy((h[wt]||null).action),v=l.submitter;v&&(i=(i=v[wt]||null)?Qy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var A=new ga("action","action",null,l,h);t.push({event:A,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(qs!==0){var C=v?Yy(h,v):new FormData(h);Cf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(A.preventDefault(),C=v?Yy(h,v):new FormData(h),Cf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var vd=0;vd<Bp.length;vd++){var Ed=Bp[vd],WA=Ed.toLowerCase(),ZA=Ed[0].toUpperCase()+Ed.slice(1);qn(WA,"on"+ZA)}qn(Pp,"onAnimationEnd"),qn(Lp,"onAnimationIteration"),qn(Up,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(pA,"onTransitionRun"),qn(gA,"onTransitionStart"),qn(yA,"onTransitionCancel"),qn(jp,"onTransitionEnd"),un("onMouseEnter",["mouseout","mouseover"]),un("onMouseLeave",["mouseout","mouseover"]),un("onPointerEnter",["pointerout","pointerover"]),un("onPointerLeave",["pointerout","pointerover"]),dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function Xy(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var A=l[v],C=A.instance,k=A.currentTarget;if(A=A.listener,C!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=k;try{d(h)}catch($){ic($)}h.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(A=l[v],C=A.instance,k=A.currentTarget,A=A.listener,C!==d&&h.isPropagationStopped())break e;d=A,h.currentTarget=k;try{d(h)}catch($){ic($)}h.currentTarget=null,d=C}}}}function ke(t,i){var a=i[ms];a===void 0&&(a=i[ms]=new Set);var l=t+"__bubble";a.has(l)||(Wy(i,t,2,!1),a.add(l))}function Td(t,i,a){var l=0;i&&(l|=4),Wy(a,t,l,i)}var _c="_reactListening"+Math.random().toString(36).slice(2);function Ad(t){if(!t[_c]){t[_c]=!0,No.forEach(function(a){a!=="selectionchange"&&(JA.has(a)||Td(a,!1,t),Td(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[_c]||(i[_c]=!0,Td("selectionchange",!1,i))}}function Wy(t,i,a,l){switch(E_(i)){case 2:var h=bS;break;case 8:h=RS;break;default:h=kd}a=h.bind(null,i,a,t),h=void 0,!Rn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Sd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var A=l.stateNode.containerInfo;if(A===h||A.nodeType===8&&A.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&(C=v.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;v=v.return}for(;A!==null;){if(v=Hn(A),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue e}A=A.parentNode}}l=l.return}Su(function(){var k=d,$=pa(a),Z=[];e:{var H=zp.get(t);if(H!==void 0){var K=ga,ce=t;switch(t){case"keypress":if(ti(a)===0)break e;case"keydown":case"keyup":K=Aa;break;case"focusin":ce="focus",K=va;break;case"focusout":ce="blur",K=va;break;case"beforeblur":case"afterblur":K=va;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Cn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Qh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=xu;break;case Pp:case Lp:case Up:K=Ea;break;case jp:K=Mu;break;case"scroll":case"scrollend":K=wu;break;case"wheel":K=Sa;break;case"copy":case"cut":case"paste":K=Ta;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Ho;break;case"toggle":case"beforetoggle":K=ku}var Se=(i&4)!==0,ht=!Se&&(t==="scroll"||t==="scrollend"),L=Se?H!==null?H+"Capture":null:H;Se=[];for(var O=k,B;O!==null;){var X=O;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||L===null||(X=vs(O,L),X!=null&&Se.push(vl(O,X,B))),ht)break;O=O.return}0<Se.length&&(H=new K(H,ce,null,a,$),Z.push({event:H,listeners:Se}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",H&&a!==bn&&(ce=a.relatedTarget||a.fromElement)&&(Hn(ce)||ce[bi]))break e;if((K||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,K?(ce=a.relatedTarget||a.toElement,K=k,ce=ce?Hn(ce):null,ce!==null&&(ht=me(ce),Se=ce.tag,ce!==ht||Se!==5&&Se!==27&&Se!==6)&&(ce=null)):(K=null,ce=k),K!==ce)){if(Se=Cn,X="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Se=Ho,X="onPointerLeave",L="onPointerEnter",O="pointer"),ht=K==null?H:_r(K),B=ce==null?H:_r(ce),H=new Se(X,O+"leave",K,a,$),H.target=ht,H.relatedTarget=B,X=null,Hn($)===k&&(Se=new Se(L,O+"enter",ce,a,$),Se.target=B,Se.relatedTarget=ht,X=Se),ht=X,K&&ce)t:{for(Se=K,L=ce,O=0,B=Se;B;B=Ka(B))O++;for(B=0,X=L;X;X=Ka(X))B++;for(;0<O-B;)Se=Ka(Se),O--;for(;0<B-O;)L=Ka(L),B--;for(;O--;){if(Se===L||L!==null&&Se===L.alternate)break t;Se=Ka(Se),L=Ka(L)}Se=null}else Se=null;K!==null&&Zy(Z,H,K,Se,!1),ce!==null&&ht!==null&&Zy(Z,ht,ce,Se,!0)}}e:{if(H=k?_r(k):window,K=H.nodeName&&H.nodeName.toLowerCase(),K==="select"||K==="input"&&H.type==="file")var le=bp;else if(Rt(H))if(Rp)le=hA;else{le=uA;var Ne=lA}else K=H.nodeName,!K||K.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?k&&ko(k.elementType)&&(le=bp):le=cA;if(le&&(le=le(t,k))){Mi(Z,le,a,$);break e}Ne&&Ne(t,H,k),t==="focusout"&&k&&H.type==="number"&&k.memoizedProps.value!=null&&ma(H,"number",H.value)}switch(Ne=k?_r(k):window,t){case"focusin":(Rt(Ne)||Ne.contentEditable==="true")&&(wa=Ne,Jh=k,Go=null);break;case"focusout":Go=Jh=wa=null;break;case"mousedown":ef=!0;break;case"contextmenu":case"mouseup":case"dragend":ef=!1,Vp(Z,a,$);break;case"selectionchange":if(mA)break;case"keydown":case"keyup":Vp(Z,a,$)}var fe;if(ri)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Le?F(t,a)&&(ye="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(_&&a.locale!=="ko"&&(Le||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Le&&(fe=Lo()):(ei=$,wr="value"in ei?ei.value:ei.textContent,Le=!0)),Ne=vc(k,ye),0<Ne.length&&(ye=new zo(ye,t,null,a,$),Z.push({event:ye,listeners:Ne}),fe?ye.data=fe:(fe=ie(a),fe!==null&&(ye.data=fe)))),(fe=g?bt(t,a):Ue(t,a))&&(ye=vc(k,"onBeforeInput"),0<ye.length&&(Ne=new zo("onBeforeInput","beforeinput",null,a,$),Z.push({event:Ne,listeners:ye}),Ne.data=fe)),XA(Z,t,k,a,$)}Xy(Z,i)})}function vl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function vc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=vs(t,a),h!=null&&l.unshift(vl(t,h,d)),h=vs(t,i),h!=null&&l.push(vl(t,h,d))),t=t.return}return l}function Ka(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Zy(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var A=a,C=A.alternate,k=A.stateNode;if(A=A.tag,C!==null&&C===l)break;A!==5&&A!==26&&A!==27||k===null||(C=k,h?(k=vs(a,d),k!=null&&v.unshift(vl(a,k,C))):h||(k=vs(a,d),k!=null&&v.push(vl(a,k,C)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var eS=/\r\n?/g,tS=/\u0000|\uFFFD/g;function Jy(t){return(typeof t=="string"?t:""+t).replace(eS,`
`).replace(tS,"")}function e_(t,i){return i=Jy(i),Jy(t)===i}function Ec(){}function We(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||wn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&wn(t,""+l);break;case"className":Tr(t,"class",l);break;case"tabIndex":Tr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Tr(t,a,l);break;case"style":Au(t,l,d);break;case"data":if(i!=="object"){Tr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Jn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Jn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ec);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Jn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),Er(t,"popover",l);break;case"xlinkActuate":Sn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Sn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Sn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Sn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Sn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Sn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Sn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Er(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Kh.get(a)||a,Er(t,a,l))}}function wd(t,i,a,l,h,d){switch(a){case"style":Au(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?wn(t,l):(typeof l=="number"||typeof l=="bigint")&&wn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ec);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[wt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Er(t,a,l)}}}function qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,d,v,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":ke("invalid",t);var A=d=v=h=null,C=null,k=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":v=$;break;case"checked":C=$;break;case"defaultChecked":k=$;break;case"value":d=$;break;case"defaultValue":A=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:We(t,i,l,$,a,null)}}ys(t,d,A,C,k,v,h,!1),gs(t);return;case"select":ke("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(A=a[h],A!=null))switch(h){case"value":d=A;break;case"defaultValue":v=A;break;case"multiple":l=A;default:We(t,i,h,A,a,null)}i=d,a=v,t.multiple=!!l,i!=null?He(t,!!l,i,!1):a!=null&&He(t,!!l,a,!0);return;case"textarea":ke("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(A=a[v],A!=null))switch(v){case"value":l=A;break;case"defaultValue":h=A;break;case"children":d=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(s(91));break;default:We(t,i,v,A,a,null)}Sr(t,l,h,d),gs(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,i,C,l,a,null)}return;case"dialog":ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<_l.length;l++)ke(_l[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,k,l,a,null)}return;default:if(ko(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&wd(t,i,$,l,a,void 0));return}}for(A in a)a.hasOwnProperty(A)&&(l=a[A],l!=null&&We(t,i,A,l,a,null))}function nS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,A=null,C=null,k=null,$=null;for(K in a){var Z=a[K];if(a.hasOwnProperty(K)&&Z!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(K)||We(t,i,K,null,l,Z)}}for(var H in l){var K=l[H];if(Z=a[H],l.hasOwnProperty(H)&&(K!=null||Z!=null))switch(H){case"type":d=K;break;case"name":h=K;break;case"checked":k=K;break;case"defaultChecked":$=K;break;case"value":v=K;break;case"defaultValue":A=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==Z&&We(t,i,H,K,l,Z)}}Ar(t,v,A,C,k,$,d,h);return;case"select":K=v=A=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":K=C;default:l.hasOwnProperty(d)||We(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":H=d;break;case"defaultValue":A=d;break;case"multiple":v=d;default:d!==C&&We(t,i,h,d,l,C)}i=A,a=v,l=K,H!=null?He(t,!!a,H,!1):!!l!=!!a&&(i!=null?He(t,!!a,i,!0):He(t,!!a,a?[]:"",!1));return;case"textarea":K=H=null;for(A in a)if(h=a[A],a.hasOwnProperty(A)&&h!=null&&!l.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:We(t,i,A,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,i,v,h,l,d)}_s(t,H,K);return;case"option":for(var ce in a)if(H=a[ce],a.hasOwnProperty(ce)&&H!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:We(t,i,ce,null,l,H)}for(C in l)if(H=l[C],K=a[C],l.hasOwnProperty(C)&&H!==K&&(H!=null||K!=null))switch(C){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:We(t,i,C,H,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Se in a)H=a[Se],a.hasOwnProperty(Se)&&H!=null&&!l.hasOwnProperty(Se)&&We(t,i,Se,null,l,H);for(k in l)if(H=l[k],K=a[k],l.hasOwnProperty(k)&&H!==K&&(H!=null||K!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:We(t,i,k,H,l,K)}return;default:if(ko(i)){for(var ht in a)H=a[ht],a.hasOwnProperty(ht)&&H!==void 0&&!l.hasOwnProperty(ht)&&wd(t,i,ht,void 0,l,H);for($ in l)H=l[$],K=a[$],!l.hasOwnProperty($)||H===K||H===void 0&&K===void 0||wd(t,i,$,H,l,K);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&We(t,i,L,null,l,H);for(Z in l)H=l[Z],K=a[Z],!l.hasOwnProperty(Z)||H===K||H==null&&K==null||We(t,i,Z,H,l,K)}var bd=null,Rd=null;function Tc(t){return t.nodeType===9?t:t.ownerDocument}function t_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function n_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Cd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Id=null;function iS(){var t=window.event;return t&&t.type==="popstate"?t===Id?!1:(Id=t,!0):(Id=null,!1)}var i_=typeof setTimeout=="function"?setTimeout:void 0,rS=typeof clearTimeout=="function"?clearTimeout:void 0,r_=typeof Promise=="function"?Promise:void 0,sS=typeof queueMicrotask=="function"?queueMicrotask:typeof r_<"u"?function(t){return r_.resolve(null).then(t).catch(aS)}:i_;function aS(t){setTimeout(function(){throw t})}function Dd(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),Cl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Cl(i)}function Nd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Nd(a),ps(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function oS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[yr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function lS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Kn(t.nextSibling),t===null))return null;return t}function Kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function s_(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function a_(t,i,a){switch(i=Tc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Ln=new Map,o_=new Set;function Ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Qi=ae.d;ae.d={f:uS,r:cS,D:hS,C:fS,L:dS,m:mS,X:gS,S:pS,M:yS};function uS(){var t=Qi.f(),i=mc();return t||i}function cS(t){var i=Ri(t);i!==null&&i.tag===5&&i.type==="form"?Vg(i):Qi.r(t)}var $a=typeof document>"u"?null:document;function l_(t,i,a){var l=$a;if(l&&typeof i=="string"&&i){var h=lt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),o_.has(h)||(o_.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),qt(i,"link",t),nt(i),l.head.appendChild(i)))}}function hS(t){Qi.D(t),l_("dns-prefetch",t,null)}function fS(t,i){Qi.C(t,i),l_("preconnect",t,i)}function dS(t,i,a){Qi.L(t,i,a);var l=$a;if(l&&t&&i){var h='link[rel="preload"][as="'+lt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+lt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+lt(a.imageSizes)+'"]')):h+='[href="'+lt(t)+'"]';var d=h;switch(i){case"style":d=Qa(t);break;case"script":d=Ya(t)}Ln.has(d)||(t=I({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Ln.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(El(d))||i==="script"&&l.querySelector(Tl(d))||(i=l.createElement("link"),qt(i,"link",t),nt(i),l.head.appendChild(i)))}}function mS(t,i){Qi.m(t,i);var a=$a;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+lt(l)+'"][href="'+lt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ya(t)}if(!Ln.has(d)&&(t=I({rel:"modulepreload",href:t},i),Ln.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Tl(d)))return}l=a.createElement("link"),qt(l,"link",t),nt(l),a.head.appendChild(l)}}}function pS(t,i,a){Qi.S(t,i,a);var l=$a;if(l&&t){var h=vr(l).hoistableStyles,d=Qa(t);i=i||"default";var v=h.get(d);if(!v){var A={loading:0,preload:null};if(v=l.querySelector(El(d)))A.loading=5;else{t=I({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Ln.get(d))&&xd(t,a);var C=v=l.createElement("link");nt(C),qt(C,"link",t),C._p=new Promise(function(k,$){C.onload=k,C.onerror=$}),C.addEventListener("load",function(){A.loading|=1}),C.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Sc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:A},h.set(d,v)}}}function gS(t,i){Qi.X(t,i);var a=$a;if(a&&t){var l=vr(a).hoistableScripts,h=Ya(t),d=l.get(h);d||(d=a.querySelector(Tl(h)),d||(t=I({src:t,async:!0},i),(i=Ln.get(h))&&Od(t,i),d=a.createElement("script"),nt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function yS(t,i){Qi.M(t,i);var a=$a;if(a&&t){var l=vr(a).hoistableScripts,h=Ya(t),d=l.get(h);d||(d=a.querySelector(Tl(h)),d||(t=I({src:t,async:!0,type:"module"},i),(i=Ln.get(h))&&Od(t,i),d=a.createElement("script"),nt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function u_(t,i,a,l){var h=(h=Tn.current)?Ac(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Qa(a.href),a=vr(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Qa(a.href);var d=vr(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(El(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||_S(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Ya(a),a=vr(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Qa(t){return'href="'+lt(t)+'"'}function El(t){return'link[rel="stylesheet"]['+t+"]"}function c_(t){return I({},t,{"data-precedence":t.precedence,precedence:null})}function _S(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),qt(i,"link",a),nt(i),t.head.appendChild(i))}function Ya(t){return'[src="'+lt(t)+'"]'}function Tl(t){return"script[async]"+t}function h_(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+lt(a.href)+'"]');if(l)return i.instance=l,nt(l),l;var h=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),nt(l),qt(l,"style",h),Sc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Qa(a.href);var d=t.querySelector(El(h));if(d)return i.state.loading|=4,i.instance=d,nt(d),d;l=c_(a),(h=Ln.get(h))&&xd(l,h),d=(t.ownerDocument||t).createElement("link"),nt(d);var v=d;return v._p=new Promise(function(A,C){v.onload=A,v.onerror=C}),qt(d,"link",l),i.state.loading|=4,Sc(d,a.precedence,t),i.instance=d;case"script":return d=Ya(a.src),(h=t.querySelector(Tl(d)))?(i.instance=h,nt(h),h):(l=a,(h=Ln.get(d))&&(l=I({},a),Od(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),nt(h),qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Sc(l,a.precedence,t));return i.instance}function Sc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var A=l[v];if(A.dataset.precedence===i)d=A;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function xd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Od(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var wc=null;function f_(t,i,a){if(wc===null){var l=new Map,h=wc=new Map;h.set(a,l)}else h=wc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[yr]||d[Mt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var A=l.get(v);A?A.push(d):l.set(v,[d])}}return l}function d_(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function vS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function m_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Al=null;function ES(){}function TS(t,i,a){if(Al===null)throw Error(s(475));var l=Al;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Qa(a.href),d=t.querySelector(El(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=bc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,nt(d);return}d=t.ownerDocument||t,a=c_(a),(h=Ln.get(h))&&xd(a,h),d=d.createElement("link"),nt(d);var v=d;v._p=new Promise(function(A,C){v.onload=A,v.onerror=C}),qt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=bc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function AS(){if(Al===null)throw Error(s(475));var t=Al;return t.stylesheets&&t.count===0&&Md(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Md(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function bc(){if(this.count--,this.count===0){if(this.stylesheets)Md(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Rc=null;function Md(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Rc=new Map,i.forEach(SS,t),Rc=null,bc.call(t))}function SS(t,i){if(!(i.state.loading&4)){var a=Rc.get(t);if(a)var l=a.get(null);else{a=new Map,Rc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=bc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Sl={$$typeof:P,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function wS(t,i,a,l,h,d,v,A){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ca(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ca(0),this.hiddenUpdates=ca(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function p_(t,i,a,l,h,d,v,A,C,k,$,Z){return t=new wS(t,i,a,v,A,C,k,Z),i=1,d===!0&&(i|=24),d=kn(3,null,null,i),t.current=d,d.stateNode=t,i=hf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Gf(d),t}function g_(t){return t?(t=Ca,t):Ca}function y_(t,i,a,l,h,d){h=g_(h),l.context===null?l.context=h:l.pendingContext=h,l=Or(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Mr(t,l,i),a!==null&&(an(a,t,i),al(a,t,i))}function __(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Vd(t,i){__(t,i),(t=t.alternate)&&__(t,i)}function v_(t){if(t.tag===13){var i=br(t,67108864);i!==null&&an(i,t,67108864),Vd(t,67108864)}}var Cc=!0;function bS(t,i,a,l){var h=w.T;w.T=null;var d=ae.p;try{ae.p=2,kd(t,i,a,l)}finally{ae.p=d,w.T=h}}function RS(t,i,a,l){var h=w.T;w.T=null;var d=ae.p;try{ae.p=8,kd(t,i,a,l)}finally{ae.p=d,w.T=h}}function kd(t,i,a,l){if(Cc){var h=Pd(l);if(h===null)Sd(t,i,l,Ic,a),T_(t,l);else if(IS(h,t,i,a,l))l.stopPropagation();else if(T_(t,l),i&4&&-1<CS.indexOf(t)){for(;h!==null;){var d=Ri(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Bn(d.pendingLanes);if(v!==0){var A=d;for(A.pendingLanes|=2,A.entangledLanes|=2;v;){var C=1<<31-tn(v);A.entanglements[1]|=C,v&=~C}ci(d),(rt&6)===0&&(hc=ln()+500,yl(0))}}break;case 13:A=br(d,2),A!==null&&an(A,d,2),mc(),Vd(d,2)}if(d=Pd(l),d===null&&Sd(t,i,l,Ic,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Sd(t,i,l,null,a)}}function Pd(t){return t=pa(t),Ld(t)}var Ic=null;function Ld(t){if(Ic=null,t=Hn(t),t!==null){var i=me(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=Ge(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Ic=t,null}function E_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(du()){case St:return 2;case Ot:return 8;case wi:case mu:return 32;case bo:return 268435456;default:return 32}default:return 32}}var Ud=!1,zr=null,Br=null,Hr=null,wl=new Map,bl=new Map,qr=[],CS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function T_(t,i){switch(t){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":wl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(i.pointerId)}}function Rl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Ri(i),i!==null&&v_(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function IS(t,i,a,l,h){switch(i){case"focusin":return zr=Rl(zr,t,i,a,l,h),!0;case"dragenter":return Br=Rl(Br,t,i,a,l,h),!0;case"mouseover":return Hr=Rl(Hr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return wl.set(d,Rl(wl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,bl.set(d,Rl(bl.get(d)||null,t,i,a,l,h)),!0}return!1}function A_(t){var i=Hn(t.target);if(i!==null){var a=me(i);if(a!==null){if(i=a.tag,i===13){if(i=Ge(a),i!==null){t.blockedOn=i,gr(t.priority,function(){if(a.tag===13){var l=vn(),h=br(a,l);h!==null&&an(h,a,l),Vd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Pd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);bn=l,a.target.dispatchEvent(l),bn=null}else return i=Ri(a),i!==null&&v_(i),t.blockedOn=a,!1;i.shift()}return!0}function S_(t,i,a){Dc(t)&&a.delete(i)}function DS(){Ud=!1,zr!==null&&Dc(zr)&&(zr=null),Br!==null&&Dc(Br)&&(Br=null),Hr!==null&&Dc(Hr)&&(Hr=null),wl.forEach(S_),bl.forEach(S_)}function Nc(t,i){t.blockedOn===i&&(t.blockedOn=null,Ud||(Ud=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,DS)))}var xc=null;function w_(t){xc!==t&&(xc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){xc===t&&(xc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Ld(l||a)===null)continue;break}var d=Ri(a);d!==null&&(t.splice(i,3),i-=3,Cf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Cl(t){function i(C){return Nc(C,t)}zr!==null&&Nc(zr,t),Br!==null&&Nc(Br,t),Hr!==null&&Nc(Hr,t),wl.forEach(i),bl.forEach(i);for(var a=0;a<qr.length;a++){var l=qr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<qr.length&&(a=qr[0],a.blockedOn===null);)A_(a),a.blockedOn===null&&qr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[wt]||null;if(typeof d=="function")v||w_(a);else if(v){var A=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[wt]||null)A=v.formAction;else if(Ld(h)!==null)continue}else A=v.action;typeof A=="function"?a[l+1]=A:(a.splice(l,3),l-=3),w_(a)}}}function jd(t){this._internalRoot=t}Oc.prototype.render=jd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=vn();y_(a,l,t,i,null,null)},Oc.prototype.unmount=jd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&Fa(),y_(t.current,2,null,t,null,null),mc(),i[bi]=null}};function Oc(t){this._internalRoot=t}Oc.prototype.unstable_scheduleHydration=function(t){if(t){var i=vu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<qr.length&&i!==0&&i<qr[a].priority;a++);qr.splice(a,0,t),a===0&&A_(t)}};var b_=e.version;if(b_!=="19.0.0")throw Error(s(527,b_,"19.0.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=te(i),t=t!==null?he(t):null,t=t===null?null:t.stateNode,t};var NS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:w,findFiberByHostInstance:Hn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mc.isDisabled&&Mc.supportsFiber)try{cr=Mc.inject(NS),$t=Mc}catch{}}return Dl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Hg,d=qg,v=Fg,A=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(A=i.unstable_transitionCallbacks)),i=p_(t,1,!1,null,null,a,l,h,d,v,A,null),t[bi]=i.current,Ad(t.nodeType===8?t.parentNode:t),new jd(i)},Dl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Hg,v=qg,A=Fg,C=null,k=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(A=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(k=a.formState)),i=p_(t,1,!0,i,a??null,l,h,d,v,A,C,k),i.context=g_(null),a=i.current,l=vn(),h=Or(l),h.callback=null,Mr(a,h,l),i.current.lanes=l,dt(i,l),ci(i),t[bi]=i.current,Ad(t),new Oc(i)},Dl.version="19.0.0",Dl}var k_;function zS(){if(k_)return Hd.exports;k_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Hd.exports=jS(),Hd.exports}var BS=zS(),Nl={},P_;function HS(){if(P_)return Nl;P_=1,Object.defineProperty(Nl,"__esModule",{value:!0}),Nl.parse=f,Nl.serialize=y;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const N=function(){};return N.prototype=Object.create(null),N})();function f(N,P){const z=new u,Y=N.length;if(Y<2)return z;const q=(P==null?void 0:P.decode)||T;let Q=0;do{const ne=N.indexOf("=",Q);if(ne===-1)break;const ee=N.indexOf(";",Q),pe=ee===-1?Y:ee;if(ne>pe){Q=N.lastIndexOf(";",ne-1)+1;continue}const ue=m(N,Q,ne),be=p(N,ne,ue),M=N.slice(ue,be);if(z[M]===void 0){let R=m(N,ne+1,pe),w=p(N,pe,R);const I=q(N.slice(R,w));z[M]=I}Q=pe+1}while(Q<Y);return z}function m(N,P,z){do{const Y=N.charCodeAt(P);if(Y!==32&&Y!==9)return P}while(++P<z);return z}function p(N,P,z){for(;P>z;){const Y=N.charCodeAt(--P);if(Y!==32&&Y!==9)return P+1}return z}function y(N,P,z){const Y=(z==null?void 0:z.encode)||encodeURIComponent;if(!r.test(N))throw new TypeError(`argument name is invalid: ${N}`);const q=Y(P);if(!e.test(q))throw new TypeError(`argument val is invalid: ${P}`);let Q=N+"="+q;if(!z)return Q;if(z.maxAge!==void 0){if(!Number.isInteger(z.maxAge))throw new TypeError(`option maxAge is invalid: ${z.maxAge}`);Q+="; Max-Age="+z.maxAge}if(z.domain){if(!n.test(z.domain))throw new TypeError(`option domain is invalid: ${z.domain}`);Q+="; Domain="+z.domain}if(z.path){if(!s.test(z.path))throw new TypeError(`option path is invalid: ${z.path}`);Q+="; Path="+z.path}if(z.expires){if(!b(z.expires)||!Number.isFinite(z.expires.valueOf()))throw new TypeError(`option expires is invalid: ${z.expires}`);Q+="; Expires="+z.expires.toUTCString()}if(z.httpOnly&&(Q+="; HttpOnly"),z.secure&&(Q+="; Secure"),z.partitioned&&(Q+="; Partitioned"),z.priority)switch(typeof z.priority=="string"?z.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${z.priority}`)}if(z.sameSite)switch(typeof z.sameSite=="string"?z.sameSite.toLowerCase():z.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${z.sameSite}`)}return Q}function T(N){if(N.indexOf("%")===-1)return N;try{return decodeURIComponent(N)}catch{return N}}function b(N){return o.call(N)==="[object Date]"}return Nl}HS();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var L_="popstate";function qS(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return sm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:ql(o)}return GS(e,n,null,r)}function st(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function yi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FS(){return Math.random().toString(36).substring(2,10)}function U_(r,e){return{usr:r.state,key:r.key,idx:e}}function sm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?mo(e):e,state:n,key:e&&e.key||s||FS()}}function ql({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function mo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function GS(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,y=T();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function T(){return(f.state||{idx:null}).idx}function b(){m="POP";let q=T(),Q=q==null?null:q-y;y=q,p&&p({action:m,location:Y.location,delta:Q})}function N(q,Q){m="PUSH";let ne=sm(Y.location,q,Q);y=T()+1;let ee=U_(ne,y),pe=Y.createHref(ne);try{f.pushState(ee,"",pe)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(pe)}u&&p&&p({action:m,location:Y.location,delta:1})}function P(q,Q){m="REPLACE";let ne=sm(Y.location,q,Q);y=T();let ee=U_(ne,y),pe=Y.createHref(ne);f.replaceState(ee,"",pe),u&&p&&p({action:m,location:Y.location,delta:0})}function z(q){let Q=o.location.origin!=="null"?o.location.origin:o.location.href,ne=typeof q=="string"?q:ql(q);return ne=ne.replace(/ $/,"%20"),st(Q,`No window.location.(origin|href) available to create URL for href: ${ne}`),new URL(ne,Q)}let Y={get action(){return m},get location(){return r(o,f)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(L_,b),p=q,()=>{o.removeEventListener(L_,b),p=null}},createHref(q){return e(o,q)},createURL:z,encodeLocation(q){let Q=z(q);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:N,replace:P,go(q){return f.go(q)}};return Y}function mE(r,e,n="/"){return KS(r,e,n,!1)}function KS(r,e,n,s){let o=typeof e=="string"?mo(e):e,u=nr(o.pathname||"/",n);if(u==null)return null;let f=pE(r);$S(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let y=rw(u);m=nw(f[p],y,s)}return m}function pE(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(st(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let y=Zi([s,p.relativePath]),T=n.concat(p);u.children&&u.children.length>0&&(st(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),pE(u.children,e,T,y)),!(u.path==null&&!u.index)&&e.push({path:y,score:ew(y,u.index),routesMeta:T})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of gE(u.path))o(u,f,p)}),e}function gE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=gE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function $S(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:tw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var QS=/^:[\w-]+$/,YS=3,XS=2,WS=1,ZS=10,JS=-2,j_=r=>r==="*";function ew(r,e){let n=r.split("/"),s=n.length;return n.some(j_)&&(s+=JS),e&&(s+=XS),n.filter(o=>!j_(o)).reduce((o,u)=>o+(QS.test(u)?YS:u===""?WS:ZS),s)}function tw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function nw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],y=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",b=Jc({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},T),N=p.route;if(!b&&y&&n&&!s[s.length-1].route.index&&(b=Jc({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:Zi([u,b.pathname]),pathnameBase:lw(Zi([u,b.pathnameBase])),route:N}),b.pathnameBase!=="/"&&(u=Zi([u,b.pathnameBase]))}return f}function Jc(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=iw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((y,{paramName:T,isOptional:b},N)=>{if(T==="*"){let z=m[N]||"";f=u.slice(0,u.length-z.length).replace(/(.)\/+$/,"$1")}const P=m[N];return b&&!P?y[T]=void 0:y[T]=(P||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function iw(r,e=!1,n=!0){yi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function rw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return yi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function nr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function sw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?mo(r):r;return{pathname:n?n.startsWith("/")?n:aw(n,e):e,search:uw(s),hash:cw(o)}}function aw(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Kd(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ow(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yE(r){let e=ow(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function _E(r,e,n,s=!1){let o;typeof r=="string"?o=mo(r):(o={...r},st(!o.pathname||!o.pathname.includes("?"),Kd("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),Kd("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),Kd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let N=f.split("/");for(;N[0]==="..";)N.shift(),b-=1;o.pathname=N.join("/")}m=b>=0?e[b]:"/"}let p=sw(o,m),y=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(y||T)&&(p.pathname+="/"),p}var Zi=r=>r.join("/").replace(/\/\/+/g,"/"),lw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),uw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,cw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function hw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var vE=["POST","PUT","PATCH","DELETE"];new Set(vE);var fw=["GET",...vE];new Set(fw);var po=G.createContext(null);po.displayName="DataRouter";var vh=G.createContext(null);vh.displayName="DataRouterState";var EE=G.createContext({isTransitioning:!1});EE.displayName="ViewTransition";var dw=G.createContext(new Map);dw.displayName="Fetchers";var mw=G.createContext(null);mw.displayName="Await";var Ei=G.createContext(null);Ei.displayName="Navigation";var Jl=G.createContext(null);Jl.displayName="Location";var Ti=G.createContext({outlet:null,matches:[],isDataRoute:!1});Ti.displayName="Route";var Om=G.createContext(null);Om.displayName="RouteError";function pw(r,{relative:e}={}){st(eu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(Ei),{hash:o,pathname:u,search:f}=nu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Zi([n,u])),s.createHref({pathname:m,search:f,hash:o})}function eu(){return G.useContext(Jl)!=null}function ea(){return st(eu(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(Jl).location}var TE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AE(r){G.useContext(Ei).static||G.useLayoutEffect(r)}function tu(){let{isDataRoute:r}=G.useContext(Ti);return r?Nw():gw()}function gw(){st(eu(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(po),{basename:e,navigator:n}=G.useContext(Ei),{matches:s}=G.useContext(Ti),{pathname:o}=ea(),u=JSON.stringify(yE(s)),f=G.useRef(!1);return AE(()=>{f.current=!0}),G.useCallback((p,y={})=>{if(yi(f.current,TE),!f.current)return;if(typeof p=="number"){n.go(p);return}let T=_E(p,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Zi([e,T.pathname])),(y.replace?n.replace:n.push)(T,y.state,y)},[e,n,u,o,r])}var yw=G.createContext(null);function _w(r){let e=G.useContext(Ti).outlet;return e&&G.createElement(yw.Provider,{value:r},e)}function nu(r,{relative:e}={}){let{matches:n}=G.useContext(Ti),{pathname:s}=ea(),o=JSON.stringify(yE(n));return G.useMemo(()=>_E(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function vw(r,e){return SE(r,e)}function SE(r,e,n,s){var ne;st(eu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=G.useContext(Ei),{matches:f}=G.useContext(Ti),m=f[f.length-1],p=m?m.params:{},y=m?m.pathname:"/",T=m?m.pathnameBase:"/",b=m&&m.route;{let ee=b&&b.path||"";wE(y,!b||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let N=ea(),P;if(e){let ee=typeof e=="string"?mo(e):e;st(T==="/"||((ne=ee.pathname)==null?void 0:ne.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),P=ee}else P=N;let z=P.pathname||"/",Y=z;if(T!=="/"){let ee=T.replace(/^\//,"").split("/");Y="/"+z.replace(/^\//,"").split("/").slice(ee.length).join("/")}let q=!u&&n&&n.matches&&n.matches.length>0?n.matches:mE(r,{pathname:Y});yi(b||q!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),yi(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=ww(q&&q.map(ee=>Object.assign({},ee,{params:Object.assign({},p,ee.params),pathname:Zi([T,o.encodeLocation?o.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?T:Zi([T,o.encodeLocation?o.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),f,n,s);return e&&Q?G.createElement(Jl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},Q):Q}function Ew(){let r=Dw(),e=hw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null,"💿 Hey developer 👋"),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:o},n):null,f)}var Tw=G.createElement(Ew,null),Aw=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?G.createElement(Ti.Provider,{value:this.props.routeContext},G.createElement(Om.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Sw({routeContext:r,match:e,children:n}){let s=G.useContext(po);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Ti.Provider,{value:r},n)}function ww(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(y=>y.route.id&&(u==null?void 0:u[y.route.id])!==void 0);st(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let y=o[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(m=p),y.route.id){let{loaderData:T,errors:b}=n,N=y.route.loader&&!T.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||N){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,y,T)=>{let b,N=!1,P=null,z=null;n&&(b=u&&y.route.id?u[y.route.id]:void 0,P=y.route.errorElement||Tw,f&&(m<0&&T===0?(wE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,z=null):m===T&&(N=!0,z=y.route.hydrateFallbackElement||null)));let Y=e.concat(o.slice(0,T+1)),q=()=>{let Q;return b?Q=P:N?Q=z:y.route.Component?Q=G.createElement(y.route.Component,null):y.route.element?Q=y.route.element:Q=p,G.createElement(Sw,{match:y,routeContext:{outlet:p,matches:Y,isDataRoute:n!=null},children:Q})};return n&&(y.route.ErrorBoundary||y.route.errorElement||T===0)?G.createElement(Aw,{location:n.location,revalidation:n.revalidation,component:P,error:b,children:q(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):q()},null)}function Mm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bw(r){let e=G.useContext(po);return st(e,Mm(r)),e}function Rw(r){let e=G.useContext(vh);return st(e,Mm(r)),e}function Cw(r){let e=G.useContext(Ti);return st(e,Mm(r)),e}function Vm(r){let e=Cw(r),n=e.matches[e.matches.length-1];return st(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Iw(){return Vm("useRouteId")}function Dw(){var s;let r=G.useContext(Om),e=Rw("useRouteError"),n=Vm("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function Nw(){let{router:r}=bw("useNavigate"),e=Vm("useNavigate"),n=G.useRef(!1);return AE(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{yi(n.current,TE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var z_={};function wE(r,e,n){!e&&!z_[r]&&(z_[r]=!0,yi(!1,n))}G.memo(xw);function xw({routes:r,future:e,state:n}){return SE(r,void 0,n,e)}function Ow(r){return _w(r.context)}function hi(r){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Mw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){st(!eu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=mo(n));let{pathname:p="/",search:y="",hash:T="",state:b=null,key:N="default"}=n,P=G.useMemo(()=>{let z=nr(p,f);return z==null?null:{location:{pathname:z,search:y,hash:T,state:b,key:N},navigationType:s}},[f,p,y,T,b,N,s]);return yi(P!=null,`<Router basename="${f}"> is not able to match the URL "${p}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:G.createElement(Ei.Provider,{value:m},G.createElement(Jl.Provider,{children:e,value:P}))}function Vw({children:r,location:e}){return vw(am(r),e)}function am(r,e=[]){let n=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let u=[...e,o];if(s.type===G.Fragment){n.push.apply(n,am(s.props.children,u));return}st(s.type===hi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=am(s.props.children,u)),n.push(f)}),n}var Bc="get",Hc="application/x-www-form-urlencoded";function Eh(r){return r!=null&&typeof r.tagName=="string"}function kw(r){return Eh(r)&&r.tagName.toLowerCase()==="button"}function Pw(r){return Eh(r)&&r.tagName.toLowerCase()==="form"}function Lw(r){return Eh(r)&&r.tagName.toLowerCase()==="input"}function Uw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function jw(r,e){return r.button===0&&(!e||e==="_self")&&!Uw(r)}var Vc=null;function zw(){if(Vc===null)try{new FormData(document.createElement("form"),0),Vc=!1}catch{Vc=!0}return Vc}var Bw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $d(r){return r!=null&&!Bw.has(r)?(yi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hc}"`),null):r}function Hw(r,e){let n,s,o,u,f;if(Pw(r)){let m=r.getAttribute("action");s=m?nr(m,e):null,n=r.getAttribute("method")||Bc,o=$d(r.getAttribute("enctype"))||Hc,u=new FormData(r)}else if(kw(r)||Lw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?nr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Bc,o=$d(r.getAttribute("formenctype"))||$d(m.getAttribute("enctype"))||Hc,u=new FormData(m,r),!zw()){let{name:y,type:T,value:b}=r;if(T==="image"){let N=y?`${y}.`:"";u.append(`${N}x`,"0"),u.append(`${N}y`,"0")}else y&&u.append(y,b)}}else{if(Eh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Bc,s=null,o=Hc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function km(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function qw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Fw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Gw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await qw(u,n);return f.links?f.links():[]}return[]}));return Yw(s.flat(1).filter(Fw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function B_(r,e,n,s,o,u){let f=(p,y)=>n[y]?p.route.id!==n[y].route.id:!0,m=(p,y)=>{var T;return n[y].pathname!==p.pathname||((T=n[y].route.path)==null?void 0:T.endsWith("*"))&&n[y].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,y)=>f(p,y)||m(p,y)):u==="data"?e.filter((p,y)=>{var b;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,y)||m(p,y))return!0;if(p.route.shouldRevalidate){let N=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof N=="boolean")return N}return!0}):[]}function Kw(r,e,{includeHydrateFallback:n}={}){return $w(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function $w(r){return[...new Set(r)]}function Qw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Yw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Qw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function Xw(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&nr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function bE(){let r=G.useContext(po);return km(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Ww(){let r=G.useContext(vh);return km(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Pm=G.createContext(void 0);Pm.displayName="FrameworkContext";function RE(){let r=G.useContext(Pm);return km(r,"You must render this element inside a <HydratedRouter> element"),r}function Zw(r,e){let n=G.useContext(Pm),[s,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:y,onMouseLeave:T,onTouchStart:b}=e,N=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Y=Q=>{Q.forEach(ne=>{f(ne.isIntersecting)})},q=new IntersectionObserver(Y,{threshold:.5});return N.current&&q.observe(N.current),()=>{q.disconnect()}}},[r]),G.useEffect(()=>{if(s){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let P=()=>{o(!0)},z=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,N,{}]:[u,N,{onFocus:xl(m,P),onBlur:xl(p,z),onMouseEnter:xl(y,P),onMouseLeave:xl(T,z),onTouchStart:xl(b,P)}]:[!1,N,{}]}function xl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Jw({page:r,...e}){let{router:n}=bE(),s=G.useMemo(()=>mE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?G.createElement(tb,{page:r,matches:s,...e}):null}function eb(r){let{manifest:e,routeModules:n}=RE(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return Gw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function tb({page:r,matches:e,...n}){let s=ea(),{manifest:o,routeModules:u}=RE(),{basename:f}=bE(),{loaderData:m,matches:p}=Ww(),y=G.useMemo(()=>B_(r,e,p,o,s,"data"),[r,e,p,o,s]),T=G.useMemo(()=>B_(r,e,p,o,s,"assets"),[r,e,p,o,s]),b=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let z=new Set,Y=!1;if(e.forEach(Q=>{var ee;let ne=o.routes[Q.route.id];!ne||!ne.hasLoader||(!y.some(pe=>pe.route.id===Q.route.id)&&Q.route.id in m&&((ee=u[Q.route.id])!=null&&ee.shouldRevalidate)||ne.hasClientLoader?Y=!0:z.add(Q.route.id))}),z.size===0)return[];let q=Xw(r,f);return Y&&z.size>0&&q.searchParams.set("_routes",e.filter(Q=>z.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[q.pathname+q.search]},[f,m,s,o,y,e,r,u]),N=G.useMemo(()=>Kw(T,o),[T,o]),P=eb(T);return G.createElement(G.Fragment,null,b.map(z=>G.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),N.map(z=>G.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),P.map(({key:z,link:Y})=>G.createElement("link",{key:z,...Y})))}function nb(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var CE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{CE&&(window.__reactRouterVersion="7.3.0")}catch{}function ib({basename:r,children:e,window:n}){let s=G.useRef();s.current==null&&(s.current=qS({window:n,v5Compat:!0}));let o=s.current,[u,f]=G.useState({action:o.action,location:o.location}),m=G.useCallback(p=>{G.startTransition(()=>f(p))},[f]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.createElement(Mw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var IE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=G.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:y,preventScrollReset:T,viewTransition:b,...N},P){let{basename:z}=G.useContext(Ei),Y=typeof y=="string"&&IE.test(y),q,Q=!1;if(typeof y=="string"&&Y&&(q=y,CE))try{let w=new URL(window.location.href),I=y.startsWith("//")?new URL(w.protocol+y):new URL(y),V=nr(I.pathname,z);I.origin===w.origin&&V!=null?y=V+I.search+I.hash:Q=!0}catch{yi(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=pw(y,{relative:o}),[ee,pe,ue]=Zw(s,N),be=ob(y,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:b});function M(w){e&&e(w),w.defaultPrevented||be(w)}let R=G.createElement("a",{...N,...ue,href:q||ne,onClick:Q||u?e:M,ref:nb(P,pe),target:p,"data-discover":!Y&&n==="render"?"true":void 0});return ee&&!Y?G.createElement(G.Fragment,null,R,G.createElement(Jw,{page:ne})):R});Te.displayName="Link";var rb=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...y},T){let b=nu(f,{relative:y.relative}),N=ea(),P=G.useContext(vh),{navigator:z,basename:Y}=G.useContext(Ei),q=P!=null&&fb(b)&&m===!0,Q=z.encodeLocation?z.encodeLocation(b).pathname:b.pathname,ne=N.pathname,ee=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),ee=ee?ee.toLowerCase():null,Q=Q.toLowerCase()),ee&&Y&&(ee=nr(ee,Y)||ee);const pe=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let ue=ne===Q||!o&&ne.startsWith(Q)&&ne.charAt(pe)==="/",be=ee!=null&&(ee===Q||!o&&ee.startsWith(Q)&&ee.charAt(Q.length)==="/"),M={isActive:ue,isPending:be,isTransitioning:q},R=ue?e:void 0,w;typeof s=="function"?w=s(M):w=[s,ue?"active":null,be?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(M):u;return G.createElement(Te,{...y,"aria-current":R,className:w,ref:T,style:I,to:f,viewTransition:m},typeof p=="function"?p(M):p)});rb.displayName="NavLink";var sb=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Bc,action:m,onSubmit:p,relative:y,preventScrollReset:T,viewTransition:b,...N},P)=>{let z=cb(),Y=hb(m,{relative:y}),q=f.toLowerCase()==="get"?"get":"post",Q=typeof m=="string"&&IE.test(m),ne=ee=>{if(p&&p(ee),ee.defaultPrevented)return;ee.preventDefault();let pe=ee.nativeEvent.submitter,ue=(pe==null?void 0:pe.getAttribute("formmethod"))||f;z(pe||ee.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:o,state:u,relative:y,preventScrollReset:T,viewTransition:b})};return G.createElement("form",{ref:P,method:q,action:Y,onSubmit:s?p:ne,...N,"data-discover":!Q&&r==="render"?"true":void 0})});sb.displayName="Form";function ab(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function DE(r){let e=G.useContext(po);return st(e,ab(r)),e}function ob(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=tu(),p=ea(),y=nu(r,{relative:u});return G.useCallback(T=>{if(jw(T,e)){T.preventDefault();let b=n!==void 0?n:ql(p)===ql(y);m(r,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,y,n,s,e,r,o,u,f])}var lb=0,ub=()=>`__${String(++lb)}__`;function cb(){let{router:r}=DE("useSubmit"),{basename:e}=G.useContext(Ei),n=Iw();return G.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:y}=Hw(s,e);if(o.navigate===!1){let T=o.fetcherKey||ub();await r.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:y,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function hb(r,{relative:e}={}){let{basename:n}=G.useContext(Ei),s=G.useContext(Ti);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...nu(r||".",{relative:e})},f=ea();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Zi([n,u.pathname])),ql(u)}function fb(r,e={}){let n=G.useContext(EE);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=DE("useViewTransitionState"),o=nu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=nr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=nr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Jc(o.pathname,f)!=null||Jc(o.pathname,u)!=null}new TextEncoder;const db="_container_pir9d_11",mb="_main_pir9d_29",pb="_logo_pir9d_43",gb="_h2_pir9d_51",yb="_happening_pir9d_61",_b="_nav_pir9d_73",vb="_button_pir9d_87",Eb="_awesome_pir9d_123",Tb="_separator_pir9d_229",Ab="_hr_pir9d_251",Sb="_terms_pir9d_259",wb="_ul_pir9d_277",bb="_li_pir9d_303",Rb="_flexli_pir9d_311",Oe={container:db,main:mb,logo:pb,h2:gb,happening:yb,nav:_b,button:vb,awesome:Eb,separator:Tb,hr:Ab,terms:Sb,ul:wb,li:bb,flexli:Rb};function Cb(){return E.jsxs("div",{className:Oe.container,children:[E.jsxs("main",{className:Oe.main,children:[E.jsx("h1",{className:Oe.logo,children:"At"}),E.jsxs("div",{children:[E.jsx("h1",{className:Oe.happening,children:"Happening now"}),E.jsx("h2",{className:Oe.h2,children:"Join Today."}),E.jsxs("nav",{className:Oe.nav,children:[E.jsxs(Te,{className:`${Oe.button} ${Oe.awesome}`,children:[E.jsx("i",{className:"fa-brands fa-google"}),"Sign up with Google"]}),E.jsxs(Te,{className:`${Oe.button} ${Oe.awesome}`,children:[E.jsx("i",{className:"fa-brands fa-apple"}),"Sign up with Apple"]}),E.jsxs("div",{className:Oe.separator,children:[E.jsx("hr",{className:Oe.hr}),E.jsx("p",{children:"or"}),E.jsx("hr",{className:Oe.hr})]}),E.jsx(Te,{to:"/react-regular-exam/create",className:Oe.button,children:"Create account"}),E.jsxs("p",{className:Oe.terms,children:["By signing up, you agree of the ",E.jsx("a",{href:"#",children:"Term of Service"}),"and ",E.jsx("a",{href:"#",children:"Privacy Policy"}),", incliding ",E.jsx("a",{href:"#",children:"Cookie Use."})]}),E.jsx("p",{id:"account",children:"Already have an account?"}),E.jsx(Te,{to:"/react-regular-exam/login",className:Oe.button,children:"Sign in"}),E.jsx("p",{children:"Take a look:"}),E.jsx(Te,{to:"/react-regular-exam/guest",className:Oe.button,children:"Guest"})]})]})]}),E.jsx("footer",{children:E.jsxs("ul",{className:Oe.ul,children:[E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"About"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"Download the At app"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"Help Center"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"Terms of Service"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"Privacy Policy"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"Cookie Policy"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"Accessibillity"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"Ads Info"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"Blog"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"Careers"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"Brand Resources"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"Advertising"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"Marketing"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"At for Business"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"Developers"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"Directory"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"Settings"})}),E.jsx("li",{className:Oe.li,children:E.jsxs(Te,{to:"#",className:Oe.flexli,href:"#",children:[E.jsx("i",{className:"fa-regular fa-copyright"}),"2025 X Corp"]})})]})})]})}const Ib="_container_t0tol_1",Db="_nav_t0tol_15",Nb="_i_t0tol_25",xb="_main_t0tol_125",Ob="_search_t0tol_143",Mb="_meta_t0tol_181",Vb="_post_t0tol_211",kb="_feedback_t0tol_245",hn={container:Ib,nav:Db,i:Nb,main:xb,search:Ob,meta:Mb,post:Vb,feedback:kb},Pb=()=>{};var H_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Lb=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},xE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,T=u>>2,b=(u&3)<<4|m>>4;let N=(m&15)<<2|y>>6,P=y&63;p||(P=64,f||(N=64)),s.push(n[T],n[b],n[N],n[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(NE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Lb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||b==null)throw new Ub;const N=u<<2|m>>4;if(s.push(N),y!==64){const P=m<<4&240|y>>2;if(s.push(P),b!==64){const z=y<<6&192|b;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Ub extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jb=function(r){const e=NE(r);return xE.encodeByteArray(e,!0)},eh=function(r){return jb(r).replace(/\./g,"")},OE=function(r){try{return xE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=()=>zb().__FIREBASE_DEFAULTS__,Hb=()=>{if(typeof process>"u"||typeof H_>"u")return;const r=H_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},qb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&OE(r[1]);return e&&JSON.parse(e)},Th=()=>{try{return Pb()||Bb()||Hb()||qb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},ME=r=>{var e,n;return(n=(e=Th())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},Fb=r=>{const e=ME(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},VE=()=>{var r;return(r=Th())===null||r===void 0?void 0:r.config},kE=r=>{var e;return(e=Th())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[eh(JSON.stringify(n)),eh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $b(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function Qb(){var r;const e=(r=Th())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Yb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Xb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Wb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Zb(){const r=Jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Jb(){return!Qb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eR(){try{return typeof indexedDB=="object"}catch{return!1}}function tR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="FirebaseError";class or extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=nR,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,iu.prototype.create)}}class iu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?iR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new or(o,m,s)}}function iR(r,e){return r.replace(rR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const rR=/\{\$([^}]+)}/g;function sR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function $s(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(q_(u)&&q_(f)){if(!$s(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function q_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ol(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Ml(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function aR(r,e){const n=new oR(r,e);return n.subscribe.bind(n)}class oR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");lR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Qd),o.error===void 0&&(o.error=Qd),o.complete===void 0&&(o.complete=Qd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Qd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(r){return r&&r._delegate?r._delegate:r}class Qs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Gb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hR(e))try{this.getOrInitializeService({instanceIdentifier:Gs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Gs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Gs){return this.instances.has(e)}getOptions(e=Gs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:cR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Gs){return this.component?this.component.multipleInstances?e:Gs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cR(r){return r===Gs?void 0:r}function hR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const dR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},mR=Me.INFO,pR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},gR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=pR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lm{constructor(e){this.name=e,this._logLevel=mR,this._logHandler=gR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const yR=(r,e)=>e.some(n=>r instanceof n);let F_,G_;function _R(){return F_||(F_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vR(){return G_||(G_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PE=new WeakMap,om=new WeakMap,LE=new WeakMap,Yd=new WeakMap,Um=new WeakMap;function ER(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Jr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&PE.set(n,r)}).catch(()=>{}),Um.set(e,r),e}function TR(r){if(om.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});om.set(r,e)}let lm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return om.get(r);if(e==="objectStoreNames")return r.objectStoreNames||LE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function AR(r){lm=r(lm)}function SR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Xd(this),e,...n);return LE.set(s,e.sort?e.sort():[e]),Jr(s)}:vR().includes(r)?function(...e){return r.apply(Xd(this),e),Jr(PE.get(this))}:function(...e){return Jr(r.apply(Xd(this),e))}}function wR(r){return typeof r=="function"?SR(r):(r instanceof IDBTransaction&&TR(r),yR(r,_R())?new Proxy(r,lm):r)}function Jr(r){if(r instanceof IDBRequest)return ER(r);if(Yd.has(r))return Yd.get(r);const e=wR(r);return e!==r&&(Yd.set(r,e),Um.set(e,r)),e}const Xd=r=>Um.get(r);function bR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Jr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Jr(f.result),p.oldVersion,p.newVersion,Jr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const RR=["get","getKey","getAll","getAllKeys","count"],CR=["put","add","delete","clear"],Wd=new Map;function K_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Wd.get(e))return Wd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=CR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||RR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let y=p.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&p.done]))[0]};return Wd.set(e,u),u}AR(r=>({...r,get:(e,n,s)=>K_(e,n)||r.get(e,n,s),has:(e,n)=>!!K_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function DR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const um="@firebase/app",$_="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir=new Lm("@firebase/app"),NR="@firebase/app-compat",xR="@firebase/analytics-compat",OR="@firebase/analytics",MR="@firebase/app-check-compat",VR="@firebase/app-check",kR="@firebase/auth",PR="@firebase/auth-compat",LR="@firebase/database",UR="@firebase/data-connect",jR="@firebase/database-compat",zR="@firebase/functions",BR="@firebase/functions-compat",HR="@firebase/installations",qR="@firebase/installations-compat",FR="@firebase/messaging",GR="@firebase/messaging-compat",KR="@firebase/performance",$R="@firebase/performance-compat",QR="@firebase/remote-config",YR="@firebase/remote-config-compat",XR="@firebase/storage",WR="@firebase/storage-compat",ZR="@firebase/firestore",JR="@firebase/vertexai",e1="@firebase/firestore-compat",t1="firebase",n1="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="[DEFAULT]",i1={[um]:"fire-core",[NR]:"fire-core-compat",[OR]:"fire-analytics",[xR]:"fire-analytics-compat",[VR]:"fire-app-check",[MR]:"fire-app-check-compat",[kR]:"fire-auth",[PR]:"fire-auth-compat",[LR]:"fire-rtdb",[UR]:"fire-data-connect",[jR]:"fire-rtdb-compat",[zR]:"fire-fn",[BR]:"fire-fn-compat",[HR]:"fire-iid",[qR]:"fire-iid-compat",[FR]:"fire-fcm",[GR]:"fire-fcm-compat",[KR]:"fire-perf",[$R]:"fire-perf-compat",[QR]:"fire-rc",[YR]:"fire-rc-compat",[XR]:"fire-gcs",[WR]:"fire-gcs-compat",[ZR]:"fire-fst",[e1]:"fire-fst-compat",[JR]:"fire-vertex","fire-js":"fire-js",[t1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const th=new Map,r1=new Map,hm=new Map;function Q_(r,e){try{r.container.addComponent(e)}catch(n){ir.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function so(r){const e=r.name;if(hm.has(e))return ir.debug(`There were multiple attempts to register component ${e}.`),!1;hm.set(e,r);for(const n of th.values())Q_(n,r);for(const n of r1.values())Q_(n,r);return!0}function jm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Un(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new iu("app","Firebase",s1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Qs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const go=n1;function UE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:cm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw es.create("bad-app-name",{appName:String(o)});if(n||(n=VE()),!n)throw es.create("no-options");const u=th.get(o);if(u){if($s(n,u.options)&&$s(s,u.config))return u;throw es.create("duplicate-app",{appName:o})}const f=new fR(o);for(const p of hm.values())f.addComponent(p);const m=new a1(n,s,f);return th.set(o,m),m}function jE(r=cm){const e=th.get(r);if(!e&&r===cm&&VE())return UE();if(!e)throw es.create("no-app",{appName:r});return e}function ts(r,e,n){var s;let o=(s=i1[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ir.warn(m.join(" "));return}so(new Qs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="firebase-heartbeat-database",l1=1,Fl="firebase-heartbeat-store";let Zd=null;function zE(){return Zd||(Zd=bR(o1,l1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Fl)}catch(n){console.warn(n)}}}}).catch(r=>{throw es.create("idb-open",{originalErrorMessage:r.message})})),Zd}async function u1(r){try{const n=(await zE()).transaction(Fl),s=await n.objectStore(Fl).get(BE(r));return await n.done,s}catch(e){if(e instanceof or)ir.warn(e.message);else{const n=es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ir.warn(n.message)}}}async function Y_(r,e){try{const s=(await zE()).transaction(Fl,"readwrite");await s.objectStore(Fl).put(e,BE(r)),await s.done}catch(n){if(n instanceof or)ir.warn(n.message);else{const s=es.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ir.warn(s.message)}}}function BE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=1024,h1=30;class f1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new m1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=X_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>h1){const f=p1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ir.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=X_(),{heartbeatsToSend:s,unsentEntries:o}=d1(this._heartbeatsCache.heartbeats),u=eh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return ir.warn(n),""}}}function X_(){return new Date().toISOString().substring(0,10)}function d1(r,e=c1){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),W_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),W_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class m1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eR()?tR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await u1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Y_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Y_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function W_(r){return eh(JSON.stringify({version:2,heartbeats:r})).length}function p1(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(r){so(new Qs("platform-logger",e=>new IR(e),"PRIVATE")),so(new Qs("heartbeat",e=>new f1(e),"PRIVATE")),ts(um,$_,r),ts(um,$_,"esm2017"),ts("fire-js","")}g1("");var Z_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ns,HE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function w(){}w.prototype=R.prototype,M.D=R.prototype,M.prototype=new w,M.prototype.constructor=M,M.C=function(I,V,j){for(var D=Array(arguments.length-2),At=2;At<arguments.length;At++)D[At-2]=arguments[At];return R.prototype[V].apply(I,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,R,w){w||(w=0);var I=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)I[V]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(V=0;16>V;++V)I[V]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=M.g[0],w=M.g[1],V=M.g[2];var j=M.g[3],D=R+(j^w&(V^j))+I[0]+3614090360&4294967295;R=w+(D<<7&4294967295|D>>>25),D=j+(V^R&(w^V))+I[1]+3905402710&4294967295,j=R+(D<<12&4294967295|D>>>20),D=V+(w^j&(R^w))+I[2]+606105819&4294967295,V=j+(D<<17&4294967295|D>>>15),D=w+(R^V&(j^R))+I[3]+3250441966&4294967295,w=V+(D<<22&4294967295|D>>>10),D=R+(j^w&(V^j))+I[4]+4118548399&4294967295,R=w+(D<<7&4294967295|D>>>25),D=j+(V^R&(w^V))+I[5]+1200080426&4294967295,j=R+(D<<12&4294967295|D>>>20),D=V+(w^j&(R^w))+I[6]+2821735955&4294967295,V=j+(D<<17&4294967295|D>>>15),D=w+(R^V&(j^R))+I[7]+4249261313&4294967295,w=V+(D<<22&4294967295|D>>>10),D=R+(j^w&(V^j))+I[8]+1770035416&4294967295,R=w+(D<<7&4294967295|D>>>25),D=j+(V^R&(w^V))+I[9]+2336552879&4294967295,j=R+(D<<12&4294967295|D>>>20),D=V+(w^j&(R^w))+I[10]+4294925233&4294967295,V=j+(D<<17&4294967295|D>>>15),D=w+(R^V&(j^R))+I[11]+2304563134&4294967295,w=V+(D<<22&4294967295|D>>>10),D=R+(j^w&(V^j))+I[12]+1804603682&4294967295,R=w+(D<<7&4294967295|D>>>25),D=j+(V^R&(w^V))+I[13]+4254626195&4294967295,j=R+(D<<12&4294967295|D>>>20),D=V+(w^j&(R^w))+I[14]+2792965006&4294967295,V=j+(D<<17&4294967295|D>>>15),D=w+(R^V&(j^R))+I[15]+1236535329&4294967295,w=V+(D<<22&4294967295|D>>>10),D=R+(V^j&(w^V))+I[1]+4129170786&4294967295,R=w+(D<<5&4294967295|D>>>27),D=j+(w^V&(R^w))+I[6]+3225465664&4294967295,j=R+(D<<9&4294967295|D>>>23),D=V+(R^w&(j^R))+I[11]+643717713&4294967295,V=j+(D<<14&4294967295|D>>>18),D=w+(j^R&(V^j))+I[0]+3921069994&4294967295,w=V+(D<<20&4294967295|D>>>12),D=R+(V^j&(w^V))+I[5]+3593408605&4294967295,R=w+(D<<5&4294967295|D>>>27),D=j+(w^V&(R^w))+I[10]+38016083&4294967295,j=R+(D<<9&4294967295|D>>>23),D=V+(R^w&(j^R))+I[15]+3634488961&4294967295,V=j+(D<<14&4294967295|D>>>18),D=w+(j^R&(V^j))+I[4]+3889429448&4294967295,w=V+(D<<20&4294967295|D>>>12),D=R+(V^j&(w^V))+I[9]+568446438&4294967295,R=w+(D<<5&4294967295|D>>>27),D=j+(w^V&(R^w))+I[14]+3275163606&4294967295,j=R+(D<<9&4294967295|D>>>23),D=V+(R^w&(j^R))+I[3]+4107603335&4294967295,V=j+(D<<14&4294967295|D>>>18),D=w+(j^R&(V^j))+I[8]+1163531501&4294967295,w=V+(D<<20&4294967295|D>>>12),D=R+(V^j&(w^V))+I[13]+2850285829&4294967295,R=w+(D<<5&4294967295|D>>>27),D=j+(w^V&(R^w))+I[2]+4243563512&4294967295,j=R+(D<<9&4294967295|D>>>23),D=V+(R^w&(j^R))+I[7]+1735328473&4294967295,V=j+(D<<14&4294967295|D>>>18),D=w+(j^R&(V^j))+I[12]+2368359562&4294967295,w=V+(D<<20&4294967295|D>>>12),D=R+(w^V^j)+I[5]+4294588738&4294967295,R=w+(D<<4&4294967295|D>>>28),D=j+(R^w^V)+I[8]+2272392833&4294967295,j=R+(D<<11&4294967295|D>>>21),D=V+(j^R^w)+I[11]+1839030562&4294967295,V=j+(D<<16&4294967295|D>>>16),D=w+(V^j^R)+I[14]+4259657740&4294967295,w=V+(D<<23&4294967295|D>>>9),D=R+(w^V^j)+I[1]+2763975236&4294967295,R=w+(D<<4&4294967295|D>>>28),D=j+(R^w^V)+I[4]+1272893353&4294967295,j=R+(D<<11&4294967295|D>>>21),D=V+(j^R^w)+I[7]+4139469664&4294967295,V=j+(D<<16&4294967295|D>>>16),D=w+(V^j^R)+I[10]+3200236656&4294967295,w=V+(D<<23&4294967295|D>>>9),D=R+(w^V^j)+I[13]+681279174&4294967295,R=w+(D<<4&4294967295|D>>>28),D=j+(R^w^V)+I[0]+3936430074&4294967295,j=R+(D<<11&4294967295|D>>>21),D=V+(j^R^w)+I[3]+3572445317&4294967295,V=j+(D<<16&4294967295|D>>>16),D=w+(V^j^R)+I[6]+76029189&4294967295,w=V+(D<<23&4294967295|D>>>9),D=R+(w^V^j)+I[9]+3654602809&4294967295,R=w+(D<<4&4294967295|D>>>28),D=j+(R^w^V)+I[12]+3873151461&4294967295,j=R+(D<<11&4294967295|D>>>21),D=V+(j^R^w)+I[15]+530742520&4294967295,V=j+(D<<16&4294967295|D>>>16),D=w+(V^j^R)+I[2]+3299628645&4294967295,w=V+(D<<23&4294967295|D>>>9),D=R+(V^(w|~j))+I[0]+4096336452&4294967295,R=w+(D<<6&4294967295|D>>>26),D=j+(w^(R|~V))+I[7]+1126891415&4294967295,j=R+(D<<10&4294967295|D>>>22),D=V+(R^(j|~w))+I[14]+2878612391&4294967295,V=j+(D<<15&4294967295|D>>>17),D=w+(j^(V|~R))+I[5]+4237533241&4294967295,w=V+(D<<21&4294967295|D>>>11),D=R+(V^(w|~j))+I[12]+1700485571&4294967295,R=w+(D<<6&4294967295|D>>>26),D=j+(w^(R|~V))+I[3]+2399980690&4294967295,j=R+(D<<10&4294967295|D>>>22),D=V+(R^(j|~w))+I[10]+4293915773&4294967295,V=j+(D<<15&4294967295|D>>>17),D=w+(j^(V|~R))+I[1]+2240044497&4294967295,w=V+(D<<21&4294967295|D>>>11),D=R+(V^(w|~j))+I[8]+1873313359&4294967295,R=w+(D<<6&4294967295|D>>>26),D=j+(w^(R|~V))+I[15]+4264355552&4294967295,j=R+(D<<10&4294967295|D>>>22),D=V+(R^(j|~w))+I[6]+2734768916&4294967295,V=j+(D<<15&4294967295|D>>>17),D=w+(j^(V|~R))+I[13]+1309151649&4294967295,w=V+(D<<21&4294967295|D>>>11),D=R+(V^(w|~j))+I[4]+4149444226&4294967295,R=w+(D<<6&4294967295|D>>>26),D=j+(w^(R|~V))+I[11]+3174756917&4294967295,j=R+(D<<10&4294967295|D>>>22),D=V+(R^(j|~w))+I[2]+718787259&4294967295,V=j+(D<<15&4294967295|D>>>17),D=w+(j^(V|~R))+I[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+j&4294967295}s.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var w=R-this.blockSize,I=this.B,V=this.h,j=0;j<R;){if(V==0)for(;j<=w;)o(this,M,j),j+=this.blockSize;if(typeof M=="string"){for(;j<R;)if(I[V++]=M.charCodeAt(j++),V==this.blockSize){o(this,I),V=0;break}}else for(;j<R;)if(I[V++]=M[j++],V==this.blockSize){o(this,I),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var w=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=w&255,w/=256;for(this.u(M),M=Array(16),R=w=0;4>R;++R)for(var I=0;32>I;I+=8)M[w++]=this.g[R]>>>I&255;return M};function u(M,R){var w=m;return Object.prototype.hasOwnProperty.call(w,M)?w[M]:w[M]=R(M)}function f(M,R){this.h=R;for(var w=[],I=!0,V=M.length-1;0<=V;V--){var j=M[V]|0;I&&j==R||(w[V]=j,I=!1)}this.g=w}var m={};function p(M){return-128<=M&&128>M?u(M,function(R){return new f([R|0],0>R?-1:0)}):new f([M|0],0>M?-1:0)}function y(M){if(isNaN(M)||!isFinite(M))return b;if(0>M)return q(y(-M));for(var R=[],w=1,I=0;M>=w;I++)R[I]=M/w|0,w*=4294967296;return new f(R,0)}function T(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return q(T(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=y(Math.pow(R,8)),I=b,V=0;V<M.length;V+=8){var j=Math.min(8,M.length-V),D=parseInt(M.substring(V,V+j),R);8>j?(j=y(Math.pow(R,j)),I=I.j(j).add(y(D))):(I=I.j(w),I=I.add(y(D)))}return I}var b=p(0),N=p(1),P=p(16777216);r=f.prototype,r.m=function(){if(Y(this))return-q(this).m();for(var M=0,R=1,w=0;w<this.g.length;w++){var I=this.i(w);M+=(0<=I?I:4294967296+I)*R,R*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(z(this))return"0";if(Y(this))return"-"+q(this).toString(M);for(var R=y(Math.pow(M,6)),w=this,I="";;){var V=pe(w,R).g;w=Q(w,V.j(R));var j=((0<w.g.length?w.g[0]:w.h)>>>0).toString(M);if(w=V,z(w))return j+I;for(;6>j.length;)j="0"+j;I=j+I}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function z(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function Y(M){return M.h==-1}r.l=function(M){return M=Q(this,M),Y(M)?-1:z(M)?0:1};function q(M){for(var R=M.g.length,w=[],I=0;I<R;I++)w[I]=~M.g[I];return new f(w,~M.h).add(N)}r.abs=function(){return Y(this)?q(this):this},r.add=function(M){for(var R=Math.max(this.g.length,M.g.length),w=[],I=0,V=0;V<=R;V++){var j=I+(this.i(V)&65535)+(M.i(V)&65535),D=(j>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);I=D>>>16,j&=65535,D&=65535,w[V]=D<<16|j}return new f(w,w[w.length-1]&-2147483648?-1:0)};function Q(M,R){return M.add(q(R))}r.j=function(M){if(z(this)||z(M))return b;if(Y(this))return Y(M)?q(this).j(q(M)):q(q(this).j(M));if(Y(M))return q(this.j(q(M)));if(0>this.l(P)&&0>M.l(P))return y(this.m()*M.m());for(var R=this.g.length+M.g.length,w=[],I=0;I<2*R;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(var V=0;V<M.g.length;V++){var j=this.i(I)>>>16,D=this.i(I)&65535,At=M.i(V)>>>16,gt=M.i(V)&65535;w[2*I+2*V]+=D*gt,ne(w,2*I+2*V),w[2*I+2*V+1]+=j*gt,ne(w,2*I+2*V+1),w[2*I+2*V+1]+=D*At,ne(w,2*I+2*V+1),w[2*I+2*V+2]+=j*At,ne(w,2*I+2*V+2)}for(I=0;I<R;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=R;I<2*R;I++)w[I]=0;return new f(w,0)};function ne(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function ee(M,R){this.g=M,this.h=R}function pe(M,R){if(z(R))throw Error("division by zero");if(z(M))return new ee(b,b);if(Y(M))return R=pe(q(M),R),new ee(q(R.g),q(R.h));if(Y(R))return R=pe(M,q(R)),new ee(q(R.g),R.h);if(30<M.g.length){if(Y(M)||Y(R))throw Error("slowDivide_ only works with positive integers.");for(var w=N,I=R;0>=I.l(M);)w=ue(w),I=ue(I);var V=be(w,1),j=be(I,1);for(I=be(I,2),w=be(w,2);!z(I);){var D=j.add(I);0>=D.l(M)&&(V=V.add(w),j=D),I=be(I,1),w=be(w,1)}return R=Q(M,V.j(R)),new ee(V,R)}for(V=b;0<=M.l(R);){for(w=Math.max(1,Math.floor(M.m()/R.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),j=y(w),D=j.j(R);Y(D)||0<D.l(M);)w-=I,j=y(w),D=j.j(R);z(j)&&(j=N),V=V.add(j),M=Q(M,D)}return new ee(V,M)}r.A=function(M){return pe(this,M).h},r.and=function(M){for(var R=Math.max(this.g.length,M.g.length),w=[],I=0;I<R;I++)w[I]=this.i(I)&M.i(I);return new f(w,this.h&M.h)},r.or=function(M){for(var R=Math.max(this.g.length,M.g.length),w=[],I=0;I<R;I++)w[I]=this.i(I)|M.i(I);return new f(w,this.h|M.h)},r.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),w=[],I=0;I<R;I++)w[I]=this.i(I)^M.i(I);return new f(w,this.h^M.h)};function ue(M){for(var R=M.g.length+1,w=[],I=0;I<R;I++)w[I]=M.i(I)<<1|M.i(I-1)>>>31;return new f(w,M.h)}function be(M,R){var w=R>>5;R%=32;for(var I=M.g.length-w,V=[],j=0;j<I;j++)V[j]=0<R?M.i(j+w)>>>R|M.i(j+w+1)<<32-R:M.i(j+w);return new f(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,HE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,ns=f}).apply(typeof Z_<"u"?Z_:typeof self<"u"?self:typeof window<"u"?window:{});var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qE,Vl,FE,qc,fm,GE,KE,$E;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,_){return c==Array.prototype||c==Object.prototype||(c[g]=_.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof kc=="object"&&kc];for(var g=0;g<c.length;++g){var _=c[g];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var _=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var U=c[S];if(!(U in _))break e;_=_[U]}c=c[c.length-1],S=_[c],g=g(S),g!=S&&g!=null&&e(_,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var _=0,S=!1,U={next:function(){if(!S&&_<c.length){var F=_++;return{value:g(F,c[F]),done:!1}}return S=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function T(c,g,_){return c.call.apply(c.bind,arguments)}function b(c,g,_){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,S),c.apply(g,U)}}return function(){return c.apply(g,arguments)}}function N(c,g,_){return N=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:b,N.apply(null,arguments)}function P(c,g){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function z(c,g){function _(){}_.prototype=g.prototype,c.aa=g.prototype,c.prototype=new _,c.prototype.constructor=c,c.Qb=function(S,U,F){for(var ie=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ie[Le-2]=arguments[Le];return g.prototype[U].apply(S,ie)}}function Y(c){const g=c.length;if(0<g){const _=Array(g);for(let S=0;S<g;S++)_[S]=c[S];return _}return[]}function q(c,g){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const U=c.length||0,F=S.length||0;c.length=U+F;for(let ie=0;ie<F;ie++)c[U+ie]=S[ie]}else c.push(S)}}class Q{constructor(g,_){this.i=g,this.j=_,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function ne(c){return/^[\s\xa0]*$/.test(c)}function ee(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function pe(c){return pe[" "](c),c}pe[" "]=function(){};var ue=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function be(c,g,_){for(const S in c)g.call(_,c[S],S,c)}function M(c,g){for(const _ in c)g.call(void 0,c[_],_,c)}function R(c){const g={};for(const _ in c)g[_]=c[_];return g}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,g){let _,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(_ in S)c[_]=S[_];for(let F=0;F<w.length;F++)_=w[F],Object.prototype.hasOwnProperty.call(S,_)&&(c[_]=S[_])}}function V(c){var g=1;c=c.split(":");const _=[];for(;0<g&&c.length;)_.push(c.shift()),g--;return c.length&&_.push(c.join(":")),_}function j(c){m.setTimeout(()=>{throw c},0)}function D(){var c=Ge;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class At{constructor(){this.h=this.g=null}add(g,_){const S=gt.get();S.set(g,_),this.h?this.h.next=S:this.g=S,this.h=S}}var gt=new Q(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(g,_){this.h=g,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,me=!1,Ge=new At,x=()=>{const c=m.Promise.resolve(void 0);ve=()=>{c.then(te)}};var te=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(_){j(_)}var g=gt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}me=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const _=()=>{};m.addEventListener("test",_,g),m.removeEventListener("test",_,g)}catch{}return c}();function Ie(c,g){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var _=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ue){e:{try{pe(g.nodeName);var U=!0;break e}catch{}U=!1}U||(g=null)}}else _=="mouseover"?g=c.fromElement:_=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Re[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}z(Ie,se);var Re={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),Be=0;function ot(c,g,_,S,U){this.listener=c,this.proxy=null,this.src=g,this.type=_,this.capture=!!S,this.ha=U,this.key=++Be,this.da=this.fa=!1}function Qe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function en(c){this.src=c,this.g={},this.h=0}en.prototype.add=function(c,g,_,S,U){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var ie=Tn(c,g,S,U);return-1<ie?(g=c[ie],_||(g.fa=!1)):(g=new ot(g,this.src,F,!!S,U),g.fa=_,c.push(g)),g};function Ai(c,g){var _=g.type;if(_ in c.g){var S=c.g[_],U=Array.prototype.indexOf.call(S,g,void 0),F;(F=0<=U)&&Array.prototype.splice.call(S,U,1),F&&(Qe(g),c.g[_].length==0&&(delete c.g[_],c.h--))}}function Tn(c,g,_,S){for(var U=0;U<c.length;++U){var F=c[U];if(!F.da&&F.listener==g&&F.capture==!!_&&F.ha==S)return U}return-1}var lr="closure_lm_"+(1e6*Math.random()|0),ur={};function Si(c,g,_,S,U){if(Array.isArray(g)){for(var F=0;F<g.length;F++)Si(c,g[F],_,S,U);return null}return _=du(_),c&&c[yt]?c.K(g,_,y(S)?!!S.capture:!1,U):So(c,g,_,!1,S,U)}function So(c,g,_,S,U,F){if(!g)throw Error("Invalid event type");var ie=y(U)?!!U.capture:!!U,Le=wo(c);if(Le||(c[lr]=Le=new en(c)),_=Le.add(g,_,S,ie,F),_.proxy)return _;if(S=aa(),_.proxy=S,S.src=c,S.listener=_,c.addEventListener)ae||(U=ie),U===void 0&&(U=!1),c.addEventListener(g.toString(),S,U);else if(c.attachEvent)c.attachEvent(la(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function aa(){function c(_){return g.call(c.src,c.listener,_)}const g=Bh;return c}function oa(c,g,_,S,U){if(Array.isArray(g))for(var F=0;F<g.length;F++)oa(c,g[F],_,S,U);else S=y(S)?!!S.capture:!!S,_=du(_),c&&c[yt]?(c=c.i,g=String(g).toString(),g in c.g&&(F=c.g[g],_=Tn(F,_,S,U),-1<_&&(Qe(F[_]),Array.prototype.splice.call(F,_,1),F.length==0&&(delete c.g[g],c.h--)))):c&&(c=wo(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Tn(g,_,S,U)),(_=-1<c?g[c]:null)&&fs(_))}function fs(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[yt])Ai(g.i,c);else{var _=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(_,S,c.capture):g.detachEvent?g.detachEvent(la(_),S):g.addListener&&g.removeListener&&g.removeListener(S),(_=wo(g))?(Ai(_,c),_.h==0&&(_.src=null,g[lr]=null)):Qe(c)}}}function la(c){return c in ur?ur[c]:ur[c]="on"+c}function Bh(c,g){if(c.da)c=!0;else{g=new Ie(g,this);var _=c.listener,S=c.ha||c.src;c.fa&&fs(c),c=_.call(S,g)}return c}function wo(c){return c=c[lr],c instanceof en?c:null}var ln="__closure_events_fn_"+(1e9*Math.random()>>>0);function du(c){return typeof c=="function"?c:(c[ln]||(c[ln]=function(g){return c.handleEvent(g)}),c[ln])}function St(){he.call(this),this.i=new en(this),this.M=this,this.F=null}z(St,he),St.prototype[yt]=!0,St.prototype.removeEventListener=function(c,g,_,S){oa(this,c,g,_,S)};function Ot(c,g){var _,S=c.F;if(S)for(_=[];S;S=S.F)_.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new se(g,c);else if(g instanceof se)g.target=g.target||c;else{var U=g;g=new se(S,c),I(g,U)}if(U=!0,_)for(var F=_.length-1;0<=F;F--){var ie=g.g=_[F];U=wi(ie,S,!0,g)&&U}if(ie=g.g=c,U=wi(ie,S,!0,g)&&U,U=wi(ie,S,!1,g)&&U,_)for(F=0;F<_.length;F++)ie=g.g=_[F],U=wi(ie,S,!1,g)&&U}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var _=c.g[g],S=0;S<_.length;S++)Qe(_[S]);delete c.g[g],c.h--}}this.F=null},St.prototype.K=function(c,g,_,S){return this.i.add(String(c),g,!1,_,S)},St.prototype.L=function(c,g,_,S){return this.i.add(String(c),g,!0,_,S)};function wi(c,g,_,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,F=0;F<g.length;++F){var ie=g[F];if(ie&&!ie.da&&ie.capture==_){var Le=ie.listener,bt=ie.ha||ie.src;ie.fa&&Ai(c.i,ie),U=Le.call(bt,S)!==!1&&U}}return U&&!S.defaultPrevented}function mu(c,g,_){if(typeof c=="function")_&&(c=N(c,_));else if(c&&typeof c.handleEvent=="function")c=N(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function bo(c){c.g=mu(()=>{c.g=null,c.i&&(c.i=!1,bo(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Hh extends he{constructor(g,_){super(),this.m=g,this.l=_,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:bo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ds(c){he.call(this),this.h=c,this.g={}}z(ds,he);var cr=[];function $t(c){be(c.g,function(g,_){this.g.hasOwnProperty(_)&&fs(g)},c),c.g={}}ds.prototype.N=function(){ds.aa.N.call(this),$t(this)},ds.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ro=m.JSON.stringify,Yn=m.JSON.parse,tn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Co(){}Co.prototype.h=null;function pu(c){return c.h||(c.h=c.i())}function gu(){}var Xn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function hr(){se.call(this,"d")}z(hr,se);function Bn(){se.call(this,"c")}z(Bn,se);var An={},fr=null;function ua(){return fr=fr||new St}An.La="serverreachability";function Io(c){se.call(this,An.La,c)}z(Io,se);function dr(c){const g=ua();Ot(g,new Io(g))}An.STAT_EVENT="statevent";function ca(c,g){se.call(this,An.STAT_EVENT,c),this.stat=g}z(ca,se);function dt(c){const g=ua();Ot(g,new ca(g,c))}An.Ma="timingevent";function yu(c,g){se.call(this,An.Ma,c),this.size=g}z(yu,se);function mr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function pr(){this.g=!0}pr.prototype.xa=function(){this.g=!1};function _u(c,g,_,S,U,F){c.info(function(){if(c.g)if(F)for(var ie="",Le=F.split("&"),bt=0;bt<Le.length;bt++){var Ue=Le[bt].split("=");if(1<Ue.length){var kt=Ue[0];Ue=Ue[1];var Rt=kt.split("_");ie=2<=Rt.length&&Rt[1]=="type"?ie+(kt+"="+Ue+"&"):ie+(kt+"=redacted&")}}else ie=null;else ie=F;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+g+`
`+_+`
`+ie})}function vu(c,g,_,S,U,F,ie){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+g+`
`+_+`
`+F+" "+ie})}function gr(c,g,_,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Mt(c,_)+(S?" "+S:"")})}function Wn(c,g){c.info(function(){return"TIMEOUT: "+g})}pr.prototype.info=function(){};function Mt(c,g){if(!c.g)return g;if(!g)return null;try{var _=JSON.parse(g);if(_){for(c=0;c<_.length;c++)if(Array.isArray(_[c])){var S=_[c];if(!(2>S.length)){var U=S[1];if(Array.isArray(U)&&!(1>U.length)){var F=U[0];if(F!="noop"&&F!="stop"&&F!="close")for(var ie=1;ie<U.length;ie++)U[ie]=""}}}}return Ro(_)}catch{return g}}var wt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ms;function ha(){}z(ha,Co),ha.prototype.g=function(){return new XMLHttpRequest},ha.prototype.i=function(){return{}},ms=new ha;function Zn(c,g,_,S){this.j=c,this.i=g,this.l=_,this.R=S||1,this.U=new ds(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Do}function Do(){this.i=null,this.g="",this.h=!1}var yr={},ps={};function Hn(c,g,_){c.L=1,c.v=_s(lt(g)),c.m=_,c.P=!0,Ri(c,null)}function Ri(c,g){c.F=Date.now(),nt(c),c.A=lt(c.v);var _=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Di(_.i,"t",S),c.C=0,_=c.j.J,c.h=new Do,c.g=Mu(c.j,_?g:null,!c.m),0<c.O&&(c.M=new Hh(N(c.Y,c,c.g),c.O)),g=c.U,_=c.g,S=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(cr[0]=U.toString()),U=cr);for(var F=0;F<U.length;F++){var ie=Si(_,U[F],S||g.handleEvent,!1,g.h||g);if(!ie)break;g.g[ie.key]=ie}g=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),dr(),_u(c.i,c.u,c.A,c.l,c.R,c.m)}Zn.prototype.ca=function(c){c=c.target;const g=this.M;g&&Cn(c)==3?g.j():this.Y(c)},Zn.prototype.Y=function(c){try{if(c==this.g)e:{const Rt=Cn(this.g);var g=this.g.Ba();const Mi=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||bu(this.g)))){this.J||Rt!=4||g==7||(g==8||0>=Mi?dr(3):dr(2)),fa(this);var _=this.g.Z();this.X=_;t:if(_r(this)){var S=bu(this.g);c="";var U=S.length,F=Cn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){un(this),dn(this);var ie="";break t}this.h.i=new m.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(F&&g==U-1)});S.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=_==200,vu(this.i,this.u,this.A,this.l,this.R,Rt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,bt=this.g;if((Le=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(Le)){var Ue=Le;break t}}Ue=null}if(_=Ue)gr(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mn(this,_);else{this.o=!1,this.s=3,dt(12),un(this),dn(this);break e}}if(this.P){_=!0;let zt;for(;!this.J&&this.C<ie.length;)if(zt=vr(this,ie),zt==ps){Rt==4&&(this.s=4,dt(14),_=!1),gr(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==yr){this.s=4,dt(15),gr(this.i,this.l,ie,"[Invalid Chunk]"),_=!1;break}else gr(this.i,this.l,zt,null),mn(this,zt);if(_r(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||ie.length!=0||this.h.h||(this.s=1,dt(16),_=!1),this.o=this.o&&_,!_)gr(this.i,this.l,ie,"[Invalid Chunked Response]"),un(this),dn(this);else if(0<ie.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),bs(kt),kt.M=!0,dt(11))}}else gr(this.i,this.l,ie,null),mn(this,ie);Rt==4&&un(this),this.o&&!this.J&&(Rt==4?Nu(this.j,this):(this.o=!1,nt(this)))}else Qh(this.g),_==400&&0<ie.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),un(this),dn(this)}}}catch{}finally{}};function _r(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function vr(c,g){var _=c.C,S=g.indexOf(`
`,_);return S==-1?ps:(_=Number(g.substring(_,S)),isNaN(_)?yr:(S+=1,S+_>g.length?ps:(g=g.slice(S,S+_),c.C=S+_,g)))}Zn.prototype.cancel=function(){this.J=!0,un(this)};function nt(c){c.S=Date.now()+c.I,No(c,c.I)}function No(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=mr(N(c.ba,c),g)}function fa(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Zn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Wn(this.i,this.A),this.L!=2&&(dr(),dt(17)),un(this),this.s=2,dn(this)):No(this,this.S-c)};function dn(c){c.j.G==0||c.J||Nu(c.j,c)}function un(c){fa(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,$t(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function mn(c,g){try{var _=c.j;if(_.G!=0&&(_.g==c||Er(_.h,c))){if(!c.K&&Er(_.h,c)&&_.G==3){try{var S=_.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<c.F)Aa(_),Ea(_);else break e;Bo(_),dt(18)}}else _.za=U[1],0<_.za-_.T&&37500>U[2]&&_.F&&_.v==0&&!_.C&&(_.C=mr(N(_.Za,_),6e3));if(1>=Eu(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else Oi(_,11)}else if((c.K||_.g==c)&&Aa(_),!ne(g))for(U=_.Da.g.parse(g),g=0;g<U.length;g++){let Ue=U[g];if(_.T=Ue[0],Ue=Ue[1],_.G==2)if(Ue[0]=="c"){_.K=Ue[1],_.ia=Ue[2];const kt=Ue[3];kt!=null&&(_.la=kt,_.j.info("VER="+_.la));const Rt=Ue[4];Rt!=null&&(_.Aa=Rt,_.j.info("SVER="+_.Aa));const Mi=Ue[5];Mi!=null&&typeof Mi=="number"&&0<Mi&&(S=1.5*Mi,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const zt=c.g;if(zt){const si=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(si){var F=S.h;F.g||si.indexOf("spdy")==-1&&si.indexOf("quic")==-1&&si.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Tr(F,F.h),F.h=null))}if(S.D){const qo=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;qo&&(S.ya=qo,He(S.I,S.D,qo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-c.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ie=c;if(S.qa=Ou(S,S.J?S.ia:null,S.W),ie.K){Sn(S.h,ie);var Le=ie,bt=S.L;bt&&(Le.I=bt),Le.B&&(fa(Le),nt(Le)),S.g=ie}else Iu(S);0<_.i.length&&Ta(_)}else Ue[0]!="stop"&&Ue[0]!="close"||Oi(_,7);else _.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Oi(_,7):jo(_):Ue[0]!="noop"&&_.l&&_.l.ta(Ue),_.v=0)}}dr(4)}catch{}}var qh=class{constructor(c,g){this.g=c,this.map=g}};function xo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Oo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Eu(c){return c.h?1:c.g?c.g.size:0}function Er(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Tr(c,g){c.g?c.g.add(g):c.h=g}function Sn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}xo.prototype.cancel=function(){if(this.i=nn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function nn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const _ of c.g.values())g=g.concat(_.D);return g}return Y(c.i)}function Tu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],_=c.length,S=0;S<_;S++)g.push(c[S]);return g}g=[],_=0;for(S in c)g[_++]=c[S];return g}function Fh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var _=0;_<c;_++)g.push(_);return g}g=[],_=0;for(const S in c)g[_++]=S;return g}}}function gs(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var _=Fh(c),S=Tu(c),U=S.length,F=0;F<U;F++)g.call(void 0,S[F],_&&_[F],c)}var Mo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function da(c,g){if(c){c=c.split("&");for(var _=0;_<c.length;_++){var S=c[_].indexOf("="),U=null;if(0<=S){var F=c[_].substring(0,S);U=c[_].substring(S+1)}else F=c[_];g(F,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Ci(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ci){this.h=c.h,Ar(this,c.j),this.o=c.o,this.g=c.g,ys(this,c.s),this.l=c.l;var g=c.i,_=new Jn;_.i=g.i,g.g&&(_.g=new Map(g.g),_.h=g.h),ma(this,_),this.m=c.m}else c&&(g=String(c).match(Mo))?(this.h=!1,Ar(this,g[1]||"",!0),this.o=Sr(g[2]||""),this.g=Sr(g[3]||"",!0),ys(this,g[4]),this.l=Sr(g[5]||"",!0),ma(this,g[6]||"",!0),this.m=Sr(g[7]||"")):(this.h=!1,this.i=new Jn(null,this.h))}Ci.prototype.toString=function(){var c=[],g=this.j;g&&c.push(wn(g,Vo,!0),":");var _=this.g;return(_||g=="file")&&(c.push("//"),(g=this.o)&&c.push(wn(g,Vo,!0),"@"),c.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&c.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&c.push("/"),c.push(wn(_,_.charAt(0)=="/"?ko:Au,!0))),(_=this.i.toString())&&c.push("?",_),(_=this.m)&&c.push("#",wn(_,$h)),c.join("")};function lt(c){return new Ci(c)}function Ar(c,g,_){c.j=_?Sr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ys(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function ma(c,g,_){g instanceof Jn?(c.i=g,Po(c.i,c.h)):(_||(g=wn(g,Kh)),c.i=new Jn(g,c.h))}function He(c,g,_){c.i.set(g,_)}function _s(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Sr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function wn(c,g,_){return typeof c=="string"?(c=encodeURI(c).replace(g,Gh),_&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Gh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Vo=/[#\/\?@]/g,Au=/[#\?:]/g,ko=/[#\?]/g,Kh=/[#\?@]/g,$h=/#/g;function Jn(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function bn(c){c.g||(c.g=new Map,c.h=0,c.i&&da(c.i,function(g,_){c.add(decodeURIComponent(g.replace(/\+/g," ")),_)}))}r=Jn.prototype,r.add=function(c,g){bn(this),this.i=null,c=Ni(this,c);var _=this.g.get(c);return _||this.g.set(c,_=[]),_.push(g),this.h+=1,this};function pa(c,g){bn(c),g=Ni(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Ii(c,g){return bn(c),g=Ni(c,g),c.g.has(g)}r.forEach=function(c,g){bn(this),this.g.forEach(function(_,S){_.forEach(function(U){c.call(g,U,S,this)},this)},this)},r.na=function(){bn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),_=[];for(let S=0;S<g.length;S++){const U=c[S];for(let F=0;F<U.length;F++)_.push(g[S])}return _},r.V=function(c){bn(this);let g=[];if(typeof c=="string")Ii(this,c)&&(g=g.concat(this.g.get(Ni(this,c))));else{c=Array.from(this.g.values());for(let _=0;_<c.length;_++)g=g.concat(c[_])}return g},r.set=function(c,g){return bn(this),this.i=null,c=Ni(this,c),Ii(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Di(c,g,_){pa(c,g),0<_.length&&(c.i=null,c.g.set(Ni(c,g),Y(_)),c.h+=_.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var _=0;_<g.length;_++){var S=g[_];const F=encodeURIComponent(String(S)),ie=this.V(S);for(S=0;S<ie.length;S++){var U=F;ie[S]!==""&&(U+="="+encodeURIComponent(String(ie[S]))),c.push(U)}}return this.i=c.join("&")};function Ni(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Po(c,g){g&&!c.j&&(bn(c),c.i=null,c.g.forEach(function(_,S){var U=S.toLowerCase();S!=U&&(pa(this,S),Di(this,U,_))},c)),c.j=g}function Su(c,g){const _=new pr;if(m.Image){const S=new Image;S.onload=P(Rn,_,"TestLoadImage: loaded",!0,g,S),S.onerror=P(Rn,_,"TestLoadImage: error",!1,g,S),S.onabort=P(Rn,_,"TestLoadImage: abort",!1,g,S),S.ontimeout=P(Rn,_,"TestLoadImage: timeout",!1,g,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function vs(c,g){const _=new pr,S=new AbortController,U=setTimeout(()=>{S.abort(),Rn(_,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(F=>{clearTimeout(U),F.ok?Rn(_,"TestPingServer: ok",!0,g):Rn(_,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),Rn(_,"TestPingServer: error",!1,g)})}function Rn(c,g,_,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(_)}catch{}}function Es(){this.g=new tn}function ei(c,g,_){const S=_||"";try{gs(c,function(U,F){let ie=U;y(U)&&(ie=Ro(U)),g.push(S+F+"="+encodeURIComponent(ie))})}catch(U){throw g.push(S+"type="+encodeURIComponent("_badmap")),U}}function wr(c){this.l=c.Ub||null,this.j=c.eb||!1}z(wr,Co),wr.prototype.g=function(){return new xi(this.l,this.j)},wr.prototype.i=function(c){return function(){return c}}({});function xi(c,g){St.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(xi,St),r=xi.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,ni(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ti(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Lo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Lo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?ti(this):ni(this),this.readyState==3&&Lo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ti(this))},r.Qa=function(c){this.g&&(this.response=c,ti(this))},r.ga=function(){this.g&&ti(this)};function ti(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ni(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var _=g.next();!_.done;)_=_.value,c.push(_[0]+": "+_[1]),_=g.next();return c.join(`\r
`)};function ni(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Uo(c){let g="";return be(c,function(_,S){g+=S,g+=":",g+=_,g+=`\r
`}),g}function Vt(c,g,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Uo(_),typeof c=="string"?_!=null&&encodeURIComponent(String(_)):He(c,g,_))}function Ke(c){St.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(Ke,St);var ga=/^https?$/i,Ts=["POST","PUT"];r=Ke.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ms.g(),this.v=this.o?pu(this.o):pu(ms),this.g.onreadystatechange=N(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(F){wu(this,F);return}if(c=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)_.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const F of S.keys())_.set(F,S.get(F));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(F=>F.toLowerCase()=="content-type"),U=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ts,g,void 0))||S||U||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ie]of _)this.g.setRequestHeader(F,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{As(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){wu(this,F)}};function wu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,ya(c),ii(c)}function ya(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ot(this,"complete"),Ot(this,"abort"),ii(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ii(this,!0)),Ke.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?_a(this):this.bb())},r.bb=function(){_a(this)};function _a(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Cn(c)!=4||c.Z()!=2)){if(c.u&&Cn(c)==4)mu(c.Ea,0,c);else if(Ot(c,"readystatechange"),Cn(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var _;if(!(_=g)){var S;if(S=ie===0){var U=String(c.D).match(Mo)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),S=!ga.test(U?U.toLowerCase():"")}_=S}if(_)Ot(c,"complete"),Ot(c,"success");else{c.m=6;try{var F=2<Cn(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",ya(c)}}finally{ii(c)}}}}function ii(c,g){if(c.g){As(c);const _=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ot(c,"ready");try{_.onreadystatechange=S}catch{}}}function As(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Cn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Cn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Yn(g)}};function bu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Qh(c){const g={};c=(c.g&&2<=Cn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(ne(c[S]))continue;var _=V(c[S]);const U=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const F=g[U]||[];g[U]=F,F.push(_)}M(g,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ss(c,g,_){return _&&_.internalChannelParams&&_.internalChannelParams[c]||g}function va(c){this.Aa=0,this.i=[],this.j=new pr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ss("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ss("baseRetryDelayMs",5e3,c),this.cb=Ss("retryDelaySeedMs",1e4,c),this.Wa=Ss("forwardChannelMaxRetries",2,c),this.wa=Ss("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new xo(c&&c.concurrentRequestLimit),this.Da=new Es,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=va.prototype,r.la=8,r.G=1,r.connect=function(c,g,_,S){dt(0),this.W=c,this.H=g||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Ou(this,null,this.W),Ta(this)};function jo(c){if(Ru(c),c.G==3){var g=c.U++,_=lt(c.I);if(He(_,"SID",c.K),He(_,"RID",g),He(_,"TYPE","terminate"),ws(c,_),g=new Zn(c,c.j,g),g.L=2,g.v=_s(lt(_)),_=!1,m.navigator&&m.navigator.sendBeacon)try{_=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!_&&m.Image&&(new Image().src=g.v,_=!0),_||(g.g=Mu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),nt(g)}xu(c)}function Ea(c){c.g&&(bs(c),c.g.cancel(),c.g=null)}function Ru(c){Ea(c),c.u&&(m.clearTimeout(c.u),c.u=null),Aa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ta(c){if(!Oo(c.h)&&!c.s){c.s=!0;var g=c.Ga;ve||x(),me||(ve(),me=!0),Ge.add(g,c),c.B=0}}function Yh(c,g){return Eu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=mr(N(c.Ga,c,g),Ho(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new Zn(this,this.j,c);let F=this.o;if(this.S&&(F?(F=R(F),I(F,this.S)):F=this.S),this.m!==null||this.O||(U.H=F,F=null),this.P)e:{for(var g=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=_;break e}if(g===4096||_===this.i.length-1){g=_+1;break e}}g=1e3}else g=1e3;g=Cu(this,U,g),_=lt(this.I),He(_,"RID",c),He(_,"CVER",22),this.D&&He(_,"X-HTTP-Session-Id",this.D),ws(this,_),F&&(this.O?g="headers="+encodeURIComponent(String(Uo(F)))+"&"+g:this.m&&Vt(_,this.m,F)),Tr(this.h,U),this.Ua&&He(_,"TYPE","init"),this.P?(He(_,"$req",g),He(_,"SID","null"),U.T=!0,Hn(U,_,null)):Hn(U,_,g),this.G=2}}else this.G==3&&(c?zo(this,c):this.i.length==0||Oo(this.h)||zo(this))};function zo(c,g){var _;g?_=g.l:_=c.U++;const S=lt(c.I);He(S,"SID",c.K),He(S,"RID",_),He(S,"AID",c.T),ws(c,S),c.m&&c.o&&Vt(S,c.m,c.o),_=new Zn(c,c.j,_,c.B+1),c.m===null&&(_.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Cu(c,_,1e3),_.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Tr(c.h,_),Hn(_,S,g)}function ws(c,g){c.H&&be(c.H,function(_,S){He(g,S,_)}),c.l&&gs({},function(_,S){He(g,S,_)})}function Cu(c,g,_){_=Math.min(c.i.length,_);var S=c.l?N(c.l.Na,c.l,c):null;e:{var U=c.i;let F=-1;for(;;){const ie=["count="+_];F==-1?0<_?(F=U[0].g,ie.push("ofs="+F)):F=0:ie.push("ofs="+F);let Le=!0;for(let bt=0;bt<_;bt++){let Ue=U[bt].g;const kt=U[bt].map;if(Ue-=F,0>Ue)F=Math.max(0,U[bt].g-100),Le=!1;else try{ei(kt,ie,"req"+Ue+"_")}catch{S&&S(kt)}}if(Le){S=ie.join("&");break e}}}return c=c.i.splice(0,_),g.D=c,S}function Iu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ve||x(),me||(ve(),me=!0),Ge.add(g,c),c.v=0}}function Bo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=mr(N(c.Fa,c),Ho(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Du(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=mr(N(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Ea(this),Du(this))};function bs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Du(c){c.g=new Zn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=lt(c.qa);He(g,"RID","rpc"),He(g,"SID",c.K),He(g,"AID",c.T),He(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(g,"TO",c.ja),He(g,"TYPE","xmlhttp"),ws(c,g),c.m&&c.o&&Vt(g,c.m,c.o),c.L&&(c.g.I=c.L);var _=c.g;c=c.ia,_.L=1,_.v=_s(lt(g)),_.m=null,_.P=!0,Ri(_,c)}r.Za=function(){this.C!=null&&(this.C=null,Ea(this),Bo(this),dt(19))};function Aa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Nu(c,g){var _=null;if(c.g==g){Aa(c),bs(c),c.g=null;var S=2}else if(Er(c.h,g))_=g.D,Sn(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){_=g.m?g.m.length:0,g=Date.now()-g.F;var U=c.B;S=ua(),Ot(S,new yu(S,_)),Ta(c)}else Iu(c);else if(U=g.s,U==3||U==0&&0<g.X||!(S==1&&Yh(c,g)||S==2&&Bo(c)))switch(_&&0<_.length&&(g=c.h,g.i=g.i.concat(_)),U){case 1:Oi(c,5);break;case 4:Oi(c,10);break;case 3:Oi(c,6);break;default:Oi(c,2)}}}function Ho(c,g){let _=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(_*=2),_*g}function Oi(c,g){if(c.j.info("Error code "+g),g==2){var _=N(c.fb,c),S=c.Xa;const U=!S;S=new Ci(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ar(S,"https"),_s(S),U?Su(S.toString(),_):vs(S.toString(),_)}else dt(2);c.G=0,c.l&&c.l.sa(g),xu(c),Ru(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function xu(c){if(c.G=0,c.ka=[],c.l){const g=nn(c.h);(g.length!=0||c.i.length!=0)&&(q(c.ka,g),q(c.ka,c.i),c.h.i.length=0,Y(c.i),c.i.length=0),c.l.ra()}}function Ou(c,g,_){var S=_ instanceof Ci?lt(_):new Ci(_);if(S.g!="")g&&(S.g=g+"."+S.g),ys(S,S.s);else{var U=m.location;S=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var F=new Ci(null);S&&Ar(F,S),g&&(F.g=g),U&&ys(F,U),_&&(F.l=_),S=F}return _=c.D,g=c.ya,_&&g&&He(S,_,g),He(S,"VER",c.la),ws(c,S),S}function Mu(c,g,_){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ke(new wr({eb:_})):new Ke(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Vu(){}r=Vu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Sa(){}Sa.prototype.g=function(c,g){return new rn(c,g)};function rn(c,g){St.call(this),this.g=new va(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!ne(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!ne(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ri(this)}z(rn,St),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){jo(this.g)},rn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var _={};_.__data__=c,c=_}else this.u&&(_={},_.__data__=Ro(c),c=_);g.i.push(new qh(g.Ya++,c)),g.G==3&&Ta(g)},rn.prototype.N=function(){this.g.l=null,delete this.j,jo(this.g),delete this.g,rn.aa.N.call(this)};function ku(c){hr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const _ in g){c=_;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}z(ku,hr);function Pu(){Bn.call(this),this.status=1}z(Pu,Bn);function ri(c){this.g=c}z(ri,Vu),ri.prototype.ua=function(){Ot(this.g,"a")},ri.prototype.ta=function(c){Ot(this.g,new ku(c))},ri.prototype.sa=function(c){Ot(this.g,new Pu)},ri.prototype.ra=function(){Ot(this.g,"b")},Sa.prototype.createWebChannel=Sa.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,$E=function(){return new Sa},KE=function(){return ua()},GE=An,fm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wt.NO_ERROR=0,wt.TIMEOUT=8,wt.HTTP_ERROR=6,qc=wt,bi.COMPLETE="complete",FE=bi,gu.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",St.prototype.listen=St.prototype.K,Vl=gu,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,qE=Ke}).apply(typeof kc<"u"?kc:typeof self<"u"?self:typeof window<"u"?window:{});const J_="@firebase/firestore",ev="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yo="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=new Lm("@firebase/firestore");function Xa(){return Ys.logLevel}function oe(r,...e){if(Ys.logLevel<=Me.DEBUG){const n=e.map(zm);Ys.debug(`Firestore (${yo}): ${r}`,...n)}}function rr(r,...e){if(Ys.logLevel<=Me.ERROR){const n=e.map(zm);Ys.error(`Firestore (${yo}): ${r}`,...n)}}function ao(r,...e){if(Ys.logLevel<=Me.WARN){const n=e.map(zm);Ys.warn(`Firestore (${yo}): ${r}`,...n)}}function zm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r="Unexpected state"){const e=`FIRESTORE (${yo}) INTERNAL ASSERTION FAILED: `+r;throw rr(e),new Error(e)}function $e(r,e){r||Ee()}function we(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends or{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class y1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wt.UNAUTHENTICATED))}shutdown(){}}class _1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class v1{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Ji,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Ji)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string"),new QE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Wt(e)}}class E1{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class T1{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new E1(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class tv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class A1{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Un(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0);const s=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new tv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string"),this.R=n.token,new tv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=S1(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Pe(r,e){return r<e?-1:r>e?1:0}function oo(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nv=-62135596800,iv=1e6;class Nt{static now(){return Nt.fromMillis(Date.now())}static fromDate(e){return Nt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*iv);return new Nt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<nv)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/iv}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-nv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Nt(0,0))}static max(){return new Ae(new Nt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv="__name__";class fi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(),s===void 0?s=e.length-n:s>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return fi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=fi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=fi.isNumericId(e),o=fi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?fi.extractNumericId(e).compare(fi.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ns.fromString(e.substring(4,e.length-2))}}class tt extends fi{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const w1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends fi{construct(e,n,s){return new Gt(e,n,s)}static isValidIdentifier(e){return w1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===rv}static keyField(){return new Gt([rv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new de(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(tt.fromString(e))}static fromName(e){return new ge(tt.fromString(e).popFirst(5))}static empty(){return new ge(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gl=-1;function b1(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(s===1e9?new Nt(n+1,0):new Nt(n,s));return new rs(o,ge.empty(),e)}function R1(r){return new rs(r.readTime,r.key,Gl)}class rs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new rs(Ae.min(),ge.empty(),Gl)}static max(){return new rs(Ae.max(),ge.empty(),Gl)}}function C1(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Pe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class D1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==I1)throw r;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,s)=>{n(e)})}static reject(e){return new W((n,s)=>{s(e)})}static waitFor(e){return new W((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next(o=>o?W.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new W((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const y=p;n(e[y]).next(T=>{f[y]=T,++m,m===u&&s(f)},T=>o(T))}})}static doWhile(e,n){return new W((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function N1(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function vo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Ah.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm=-1;function Sh(r){return r==null}function nh(r){return r===0&&1/r==-1/0}function x1(r){return typeof r=="number"&&Number.isInteger(r)&&!nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="";function O1(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=sv(e)),e=M1(r.get(n),e);return sv(e)}function M1(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case XE:n+="";break;default:n+=u}}return n}function sv(r){return r+XE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function av(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ta(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function WE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pc(this.root,e,this.comparator,!0)}}class Pc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ft.RED,this.left=o??Ft.EMPTY,this.right=u??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ft(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ov(this.data.getIterator())}getIteratorFrom(e){return new ov(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class ov{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new $n([])}unionWith(e){let n=new xt(Gt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new $n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return oo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new ZE("Invalid base64 string: "+u):u}}(e);return new Kt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const V1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(r){if($e(!!r),typeof r=="string"){let e=0;const n=V1.exec(r);if($e(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(r.seconds),nanos:pt(r.nanos)}}function pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function as(r){return typeof r=="string"?Kt.fromBase64String(r):Kt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="server_timestamp",eT="__type__",tT="__previous_value__",nT="__local_write_time__";function Hm(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[eT])===null||n===void 0?void 0:n.stringValue)===JE}function wh(r){const e=r.mapValue.fields[tT];return Hm(e)?wh(e):e}function Kl(r){const e=ss(r.mapValue.fields[nT].timestampValue);return new Nt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n,s,o,u,f,m,p,y){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}const ih="(default)";class $l{constructor(e,n){this.projectId=e,this.database=n||ih}static empty(){return new $l("","")}get isDefaultDatabase(){return this.database===ih}isEqual(e){return e instanceof $l&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="__type__",P1="__max__",Lc={mapValue:{}},rT="__vector__",rh="value";function os(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Hm(r)?4:U1(r)?9007199254740991:L1(r)?10:11:Ee()}function _i(r,e){if(r===e)return!0;const n=os(r);if(n!==os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Kl(r).isEqual(Kl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ss(o.timestampValue),m=ss(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return as(o.bytesValue).isEqual(as(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return pt(o.geoPointValue.latitude)===pt(u.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pt(o.integerValue)===pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pt(o.doubleValue),m=pt(u.doubleValue);return f===m?nh(f)===nh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return oo(r.arrayValue.values||[],e.arrayValue.values||[],_i);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(av(f)!==av(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!_i(f[p],m[p])))return!1;return!0}(r,e);default:return Ee()}}function Ql(r,e){return(r.values||[]).find(n=>_i(n,e))!==void 0}function lo(r,e){if(r===e)return 0;const n=os(r),s=os(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=pt(u.integerValue||u.doubleValue),p=pt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return lv(r.timestampValue,e.timestampValue);case 4:return lv(Kl(r),Kl(e));case 5:return Pe(r.stringValue,e.stringValue);case 6:return function(u,f){const m=as(u),p=as(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let y=0;y<m.length&&y<p.length;y++){const T=Pe(m[y],p[y]);if(T!==0)return T}return Pe(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Pe(pt(u.latitude),pt(f.latitude));return m!==0?m:Pe(pt(u.longitude),pt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return uv(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,y,T;const b=u.fields||{},N=f.fields||{},P=(m=b[rh])===null||m===void 0?void 0:m.arrayValue,z=(p=N[rh])===null||p===void 0?void 0:p.arrayValue,Y=Pe(((y=P==null?void 0:P.values)===null||y===void 0?void 0:y.length)||0,((T=z==null?void 0:z.values)===null||T===void 0?void 0:T.length)||0);return Y!==0?Y:uv(P,z)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Lc.mapValue&&f===Lc.mapValue)return 0;if(u===Lc.mapValue)return 1;if(f===Lc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),y=f.fields||{},T=Object.keys(y);p.sort(),T.sort();for(let b=0;b<p.length&&b<T.length;++b){const N=Pe(p[b],T[b]);if(N!==0)return N;const P=lo(m[p[b]],y[T[b]]);if(P!==0)return P}return Pe(p.length,T.length)}(r.mapValue,e.mapValue);default:throw Ee()}}function lv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const n=ss(r),s=ss(e),o=Pe(n.seconds,s.seconds);return o!==0?o:Pe(n.nanos,s.nanos)}function uv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=lo(n[o],s[o]);if(u)return u}return Pe(n.length,s.length)}function uo(r){return dm(r)}function dm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=ss(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return as(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ge.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=dm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${dm(n.fields[f])}`;return o+"}"}(r.mapValue):Ee()}function Fc(r){switch(os(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=wh(r);return e?16+Fc(e):16;case 5:return 2*r.stringValue.length;case 6:return as(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Fc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ta(s.fields,(u,f)=>{o+=u.length+Fc(f)}),o}(r.mapValue);default:throw Ee()}}function mm(r){return!!r&&"integerValue"in r}function qm(r){return!!r&&"arrayValue"in r}function cv(r){return!!r&&"nullValue"in r}function hv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Gc(r){return!!r&&"mapValue"in r}function L1(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[iT])===null||n===void 0?void 0:n.stringValue)===rT}function Ul(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ta(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ul(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ul(r.arrayValue.values[n]);return e}return Object.assign({},r)}function U1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===P1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jn{constructor(e){this.value=e}static empty(){return new jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Gc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ul(n)}setAll(e){let n=Gt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Ul(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Gc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _i(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Gc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ta(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new jn(Ul(this.value))}}function sT(r){const e=[];return ta(r.fields,(n,s)=>{const o=new Gt([n]);if(Gc(s)){const u=sT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Ae.min(),Ae.min(),Ae.min(),jn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,Ae.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Ae.min(),Ae.min(),jn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Ae.min(),Ae.min(),jn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n){this.position=e,this.inclusive=n}}function fv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=lo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function dv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!_i(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n="asc"){this.field=e,this.dir=n}}function j1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT{}class Dt extends aT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new B1(e,n,s):n==="array-contains"?new F1(e,s):n==="in"?new G1(e,s):n==="not-in"?new K1(e,s):n==="array-contains-any"?new $1(e,s):new Dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new H1(e,s):new q1(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(lo(n,this.value)):n!==null&&os(this.value)===os(n)&&this.matchesComparison(lo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends aT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new vi(e,n)}matches(e){return oT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function oT(r){return r.op==="and"}function lT(r){return z1(r)&&oT(r)}function z1(r){for(const e of r.filters)if(e instanceof vi)return!1;return!0}function pm(r){if(r instanceof Dt)return r.field.canonicalString()+r.op.toString()+uo(r.value);if(lT(r))return r.filters.map(e=>pm(e)).join(",");{const e=r.filters.map(n=>pm(n)).join(",");return`${r.op}(${e})`}}function uT(r,e){return r instanceof Dt?function(s,o){return o instanceof Dt&&s.op===o.op&&s.field.isEqual(o.field)&&_i(s.value,o.value)}(r,e):r instanceof vi?function(s,o){return o instanceof vi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&uT(f,o.filters[m]),!0):!1}(r,e):void Ee()}function cT(r){return r instanceof Dt?function(n){return`${n.field.canonicalString()} ${n.op} ${uo(n.value)}`}(r):r instanceof vi?function(n){return n.op.toString()+" {"+n.getFilters().map(cT).join(" ,")+"}"}(r):"Filter"}class B1 extends Dt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class H1 extends Dt{constructor(e,n){super(e,"in",n),this.keys=hT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class q1 extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=hT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function hT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class F1 extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return qm(n)&&Ql(n.arrayValue,this.value)}}class G1 extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ql(this.value.arrayValue,n)}}class K1 extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Ql(this.value.arrayValue,n)}}class $1 extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!qm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Ql(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function mv(r,e=null,n=[],s=[],o=null,u=null,f=null){return new Q1(r,e,n,s,o,u,f)}function Fm(r){const e=we(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>pm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Sh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>uo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>uo(s)).join(",")),e.le=n}return e.le}function Gm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!j1(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!uT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!dv(r.startAt,e.startAt)&&dv(r.endAt,e.endAt)}function gm(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Y1(r,e,n,s,o,u,f,m){return new bh(r,e,n,s,o,u,f,m)}function Km(r){return new bh(r)}function pv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function X1(r){return r.collectionGroup!==null}function jl(r){const e=we(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new xt(Gt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new ah(u,s))}),n.has(Gt.keyField().canonicalString())||e.he.push(new ah(Gt.keyField(),s))}return e.he}function di(r){const e=we(r);return e.Pe||(e.Pe=W1(e,jl(r))),e.Pe}function W1(r,e){if(r.limitType==="F")return mv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new ah(o.field,u)});const n=r.endAt?new sh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new sh(r.startAt.position,r.startAt.inclusive):null;return mv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function ym(r,e,n){return new bh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Rh(r,e){return Gm(di(r),di(e))&&r.limitType===e.limitType}function fT(r){return`${Fm(di(r))}|lt:${r.limitType}`}function Wa(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>cT(o)).join(", ")}]`),Sh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>uo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>uo(o)).join(",")),`Target(${s})`}(di(r))}; limitType=${r.limitType})`}function Ch(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of jl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const y=fv(f,m,p);return f.inclusive?y<=0:y<0}(s.startAt,jl(s),o)||s.endAt&&!function(f,m,p){const y=fv(f,m,p);return f.inclusive?y>=0:y>0}(s.endAt,jl(s),o))}(r,e)}function Z1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function dT(r){return(e,n)=>{let s=!1;for(const o of jl(r)){const u=J1(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function J1(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),y=m.data.field(u);return p!==null&&y!==null?lo(p,y):Ee()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ta(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return WE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=new at(ge.comparator);function sr(){return eC}const mT=new at(ge.comparator);function kl(...r){let e=mT;for(const n of r)e=e.insert(n.key,n);return e}function pT(r){let e=mT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ks(){return zl()}function gT(){return zl()}function zl(){return new na(r=>r.toString(),(r,e)=>r.isEqual(e))}const tC=new at(ge.comparator),nC=new xt(ge.comparator);function Ve(...r){let e=nC;for(const n of r)e=e.add(n);return e}const iC=new xt(Pe);function rC(){return iC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(e)?"-0":e}}function yT(r){return{integerValue:""+r}}function sC(r,e){return x1(e)?yT(e):$m(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(){this._=void 0}}function aC(r,e,n){return r instanceof oh?function(o,u){const f={fields:{[eT]:{stringValue:JE},[nT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Hm(u)&&(u=wh(u)),u&&(f.fields[tT]=u),{mapValue:f}}(n,e):r instanceof Yl?vT(r,e):r instanceof Xl?ET(r,e):function(o,u){const f=_T(o,u),m=gv(f)+gv(o.Ie);return mm(f)&&mm(o.Ie)?yT(m):$m(o.serializer,m)}(r,e)}function oC(r,e,n){return r instanceof Yl?vT(r,e):r instanceof Xl?ET(r,e):n}function _T(r,e){return r instanceof lh?function(s){return mm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class oh extends Ih{}class Yl extends Ih{constructor(e){super(),this.elements=e}}function vT(r,e){const n=TT(e);for(const s of r.elements)n.some(o=>_i(o,s))||n.push(s);return{arrayValue:{values:n}}}class Xl extends Ih{constructor(e){super(),this.elements=e}}function ET(r,e){let n=TT(e);for(const s of r.elements)n=n.filter(o=>!_i(o,s));return{arrayValue:{values:n}}}class lh extends Ih{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function gv(r){return pt(r.integerValue||r.doubleValue)}function TT(r){return qm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function lC(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Yl&&o instanceof Yl||s instanceof Xl&&o instanceof Xl?oo(s.elements,o.elements,_i):s instanceof lh&&o instanceof lh?_i(s.Ie,o.Ie):s instanceof oh&&o instanceof oh}(r.transform,e.transform)}class uC{constructor(e,n){this.version=e,this.transformResults=n}}class er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new er}static exists(e){return new er(void 0,e)}static updateTime(e){return new er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Kc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Dh{}function AT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new wT(r.key,er.none()):new su(r.key,r.data,er.none());{const n=r.data,s=jn.empty();let o=new xt(Gt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new ia(r.key,s,new $n(o.toArray()),er.none())}}function cC(r,e,n){r instanceof su?function(o,u,f){const m=o.value.clone(),p=_v(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof ia?function(o,u,f){if(!Kc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=_v(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(ST(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Bl(r,e,n,s){return r instanceof su?function(u,f,m,p){if(!Kc(u.precondition,f))return m;const y=u.value.clone(),T=vv(u.fieldTransforms,p,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof ia?function(u,f,m,p){if(!Kc(u.precondition,f))return m;const y=vv(u.fieldTransforms,p,f),T=f.data;return T.setAll(ST(u)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,e,n,s):function(u,f,m){return Kc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function hC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=_T(s.transform,o||null);u!=null&&(n===null&&(n=jn.empty()),n.set(s.field,u))}return n||null}function yv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&oo(s,o,(u,f)=>lC(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class su extends Dh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ia extends Dh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ST(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function _v(r,e,n){const s=new Map;$e(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,oC(f,m,n[o]))}return s}function vv(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,aC(u,f,e))}return s}class wT extends Dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fC extends Dh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&cC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Bl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Bl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=gT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=AT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Ae.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&oo(this.mutations,e.mutations,(n,s)=>yv(n,s))&&oo(this.baseMutations,e.baseMutations,(n,s)=>yv(n,s))}}class Qm{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){$e(e.mutations.length===s.length);let o=function(){return tC}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Qm(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,ze;function gC(r){switch(r){case J.OK:return Ee();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ee()}}function bT(r){if(r===void 0)return rr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Tt.OK:return J.OK;case Tt.CANCELLED:return J.CANCELLED;case Tt.UNKNOWN:return J.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return J.INTERNAL;case Tt.UNAVAILABLE:return J.UNAVAILABLE;case Tt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Tt.NOT_FOUND:return J.NOT_FOUND;case Tt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Tt.ABORTED:return J.ABORTED;case Tt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Tt.DATA_LOSS:return J.DATA_LOSS;default:return Ee()}}(ze=Tt||(Tt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=new ns([4294967295,4294967295],0);function Ev(r){const e=yC().encode(r),n=new HE;return n.update(e),new Uint8Array(n.digest())}function Tv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ns([n,s],0),new ns([o,u],0)]}class Ym{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Pl(`Invalid padding: ${n}`);if(s<0)throw new Pl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Pl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Pl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ns.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(ns.fromNumber(s)));return o.compare(_C)===1&&(o=new ns([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Ev(e),[s,o]=Tv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Ym(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=Ev(e),[s,o]=Tv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,au.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Nh(Ae.min(),o,new at(Pe),sr(),Ve())}}class au{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new au(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class RT{constructor(e,n){this.targetId=e,this.ge=n}}class CT{constructor(e,n,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Av{constructor(){this.pe=0,this.ye=Sv(),this.we=Kt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ve(),n=Ve(),s=Ve();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee()}}),new au(this.we,this.be,e,n,s)}Me(){this.Se=!1,this.ye=Sv()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,$e(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class vC{constructor(e){this.ke=e,this.qe=new Map,this.Qe=sr(),this.$e=Uc(),this.Ke=Uc(),this.Ue=new at(Pe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(gm(u))if(s===0){const f=new ge(u.path);this.ze(n,f,Zt.newNoDocument(f,Ae.min()))}else $e(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,y)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=as(s).toUint8Array()}catch(p){if(p instanceof ZE)return ao("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Ym(f,o,u)}catch(p){return ao(p instanceof Pl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&gm(m.target)){const p=new ge(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Zt.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Ve();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Nh(e,n,this.Ue,this.Qe,s);return this.Qe=sr(),this.$e=Uc(),this.Ke=Uc(),this.Ue=new at(Pe),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Av,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new xt(Pe),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new xt(Pe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Av),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Uc(){return new at(ge.comparator)}function Sv(){return new at(ge.comparator)}const EC={asc:"ASCENDING",desc:"DESCENDING"},TC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},AC={and:"AND",or:"OR"};class SC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _m(r,e){return r.useProto3Json||Sh(e)?e:{value:e}}function uh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function wC(r,e){return uh(r,e.toTimestamp())}function mi(r){return $e(!!r),Ae.fromTimestamp(function(n){const s=ss(n);return new Nt(s.seconds,s.nanos)}(r))}function Xm(r,e){return vm(r,e).canonicalString()}function vm(r,e){const n=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function DT(r){const e=tt.fromString(r);return $e(VT(e)),e}function Em(r,e){return Xm(r.databaseId,e.path)}function Jd(r,e){const n=DT(e);if(n.get(1)!==r.databaseId.projectId)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(xT(n))}function NT(r,e){return Xm(r.databaseId,e)}function bC(r){const e=DT(r);return e.length===4?tt.emptyPath():xT(e)}function Tm(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function xT(r){return $e(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function wv(r,e,n){return{name:Em(r,e),fields:n.value.mapValue.fields}}function RC(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,T){return y.useProto3Json?($e(T===void 0||typeof T=="string"),Kt.fromBase64String(T||"")):($e(T===void 0||T instanceof Buffer||T instanceof Uint8Array),Kt.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(y){const T=y.code===void 0?J.UNKNOWN:bT(y.code);return new de(T,y.message||"")}(f);n=new CT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Jd(r,s.document.name),u=mi(s.document.updateTime),f=s.document.createTime?mi(s.document.createTime):Ae.min(),m=new jn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,f,m),y=s.targetIds||[],T=s.removedTargetIds||[];n=new $c(y,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Jd(r,s.document),u=s.readTime?mi(s.readTime):Ae.min(),f=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new $c([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Jd(r,s.document),u=s.removedTargetIds||[];n=new $c([],u,o,null)}else{if(!("filter"in e))return Ee();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new pC(o,u),m=s.targetId;n=new RT(m,f)}}return n}function CC(r,e){let n;if(e instanceof su)n={update:wv(r,e.key,e.value)};else if(e instanceof wT)n={delete:Em(r,e.key)};else if(e instanceof ia)n={update:wv(r,e.key,e.data),updateMask:PC(e.fieldMask)};else{if(!(e instanceof fC))return Ee();n={verify:Em(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof oh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Yl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Xl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof lh)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Ee()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:wC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee()}(r,e.precondition)),n}function IC(r,e){return r&&r.length>0?($e(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?mi(o.updateTime):mi(u);return f.isEqual(Ae.min())&&(f=mi(u)),new uC(f,o.transformResults||[])}(n,e))):[]}function DC(r,e){return{documents:[NT(r,e.path)]}}function NC(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=NT(r,o);const u=function(y){if(y.length!==0)return MT(vi.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(y){if(y.length!==0)return y.map(T=>function(N){return{field:Za(N.field),direction:MC(N.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=_m(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:n,parent:o}}function xC(r){let e=bC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){$e(s===1);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=function(b){const N=OT(b);return N instanceof vi&&lT(N)?N.getFilters():[N]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(N=>function(z){return new ah(Ja(z.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction))}(N))}(n.orderBy));let m=null;n.limit&&(m=function(b){let N;return N=typeof b=="object"?b.value:b,Sh(N)?null:N}(n.limit));let p=null;n.startAt&&(p=function(b){const N=!!b.before,P=b.values||[];return new sh(P,N)}(n.startAt));let y=null;return n.endAt&&(y=function(b){const N=!b.before,P=b.values||[];return new sh(P,N)}(n.endAt)),Y1(e,o,f,u,m,"F",p,y)}function OC(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function OT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=Ja(n.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=Ja(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Ja(n.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=Ja(n.unaryFilter.field);return Dt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(r):r.fieldFilter!==void 0?function(n){return Dt.create(Ja(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return vi.create(n.compositeFilter.filters.map(s=>OT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(r):Ee()}function MC(r){return EC[r]}function VC(r){return TC[r]}function kC(r){return AC[r]}function Za(r){return{fieldPath:r.canonicalString()}}function Ja(r){return Gt.fromServerFormat(r.fieldPath)}function MT(r){return r instanceof Dt?function(n){if(n.op==="=="){if(hv(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NAN"}};if(cv(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(hv(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NAN"}};if(cv(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(n.field),op:VC(n.op),value:n.value}}}(r):r instanceof vi?function(n){const s=n.getFilters().map(o=>MT(o));return s.length===1?s[0]:{compositeFilter:{op:kC(n.op),filters:s}}}(r):Ee()}function PC(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function VT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n,s,o,u=Ae.min(),f=Ae.min(),m=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.Tt=e}}function UC(r){const e=xC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ym(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.Tn=new zC}addToCollectionParentIndex(e,n){return this.Tn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(rs.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class zC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new xt(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new xt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kT=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(kT,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new co(0)}static Un(){return new co(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv="LruGarbageCollector",BC=1048576;function Cv([r,e],[n,s]){const o=Pe(r,n);return o===0?Pe(e,s):o}class HC{constructor(e){this.Hn=e,this.buffer=new xt(Cv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Cv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class qC{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){oe(Rv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){vo(n)?oe(Rv,"Ignoring IndexedDB error during garbage collection: ",n):await _o(n)}await this.er(3e5)})}}class FC{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Ah.ae);const s=new HC(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(bv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),bv):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(y=Date.now(),Xa()<=Me.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(y-p)+`ms
Total Duration: ${y-T}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function GC(r,e){return new FC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(){this.changes=new na(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Bl(s.mutation,o,$n.empty(),Nt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ve()){const o=Ks();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=kl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Ks();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ve()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=sr();const f=zl(),m=function(){return zl()}();return n.forEach((p,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof ia)?u=u.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),Bl(T.mutation,y,T.mutation.getFieldMask(),Nt.now())):f.set(y.key,$n.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,T)=>f.set(y,T)),n.forEach((y,T)=>{var b;return m.set(y,new $C(T,(b=f.get(y))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,n){const s=zl();let o=new at((f,m)=>f-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const y=n.get(p);if(y===null)return;let T=s.get(p)||$n.empty();T=m.applyToLocalView(y,T),s.set(p,T);const b=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,T=p.value,b=gT();T.forEach(N=>{if(!u.has(N)){const P=AT(n.get(N),s.get(N));P!==null&&b.set(N,P),u=u.add(N)}}),f.push(this.documentOverlayCache.saveOverlays(e,y,b))}return W.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):X1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):W.resolve(Ks());let m=Gl,p=u;return f.next(y=>W.forEach(y,(T,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(T)?W.resolve():this.remoteDocumentCache.getEntry(e,T).next(N=>{p=p.insert(T,N)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,Ve())).next(T=>({batchId:m,changes:pT(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let o=kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=kl();return this.indexManager.getCollectionParents(e,u).next(m=>W.forEach(m,p=>{const y=function(b,N){return new bh(N,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(T=>{T.forEach((b,N)=>{f=f.insert(b,N)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,Zt.newInvalidDocument(T)))});let m=kl();return f.forEach((p,y)=>{const T=u.get(p);T!==void 0&&Bl(T.mutation,y,$n.empty(),Nt.now()),Ch(n,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return W.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:mi(o.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:UC(o.bundledQuery),readTime:mi(o.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.overlays=new at(ge.comparator),this.Rr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ks();return W.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),W.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const o=Ks(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new at((y,T)=>y-T);const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let T=u.get(y.largestBatchId);T===null&&(T=Ks(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const m=Ks(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,T)=>m.set(y,T)),!(m.size()>=o)););return W.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new mC(n,s));let u=this.Rr.get(n);u===void 0&&(u=Ve(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(){this.Vr=new xt(jt.mr),this.gr=new xt(jt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new jt(e,n))}br(e,n){e.forEach(s=>this.removeReference(s,n))}Sr(e){const n=new ge(new tt([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ge(new tt([])),s=new jt(n,e),o=new jt(n,e+1);let u=Ve();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new jt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ge.comparator(e.key,n.key)||Pe(e.Cr,n.Cr)}static pr(e,n){return Pe(e.Cr,n.Cr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new xt(jt.mr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new dC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,n){return W.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Bm:this.Fr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new xt(Pe);return n.forEach(o=>{const u=new jt(o,0),f=new jt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),W.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new jt(new ge(u),0);let m=new xt(Pe);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.Cr)),!0)},f),W.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){$e(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return W.forEach(n.mutations,o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new jt(n,0),o=this.Mr.firstAfterOrEqual(s);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.kr=e,this.docs=function(){return new at(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=sr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))}),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=sr();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:T}}=p.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||C1(R1(T),s)<=0||(o.has(T.key)||Ch(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee()}qr(e,n){return W.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new eI(this)}getSize(e){return W.resolve(this.size)}}class eI extends KC{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),W.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.persistence=e,this.Qr=new na(n=>Fm(n),Gm),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Wm,this.targetCount=0,this.Ur=co.Kn()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),W.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new co(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.zn(n),W.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),W.waitFor(u).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this.Kr.yr(n,s),W.resolve()}removeMatchingKeys(e,n,s){this.Kr.br(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Kr.vr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Ah(0),this.zr=!1,this.zr=!0,this.jr=new WC,this.referenceDelegate=e(this),this.Hr=new tI(this),this.indexManager=new jC,this.remoteDocumentCache=function(o){return new JC(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new LC(n),this.Yr=new YC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new XC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new ZC(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const o=new nI(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return W.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class nI extends D1{constructor(e){super(),this.currentSequenceNumber=e}}class Zm{constructor(e){this.persistence=e,this.ti=new Wm,this.ni=null}static ri(e){return new Zm(e)}get ii(){if(this.ni)return this.ni;throw Ee()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),W.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ii,s=>{const o=ge.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Ae.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return W.or([()=>W.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class ch{constructor(e,n){this.persistence=e,this.oi=new na(s=>O1(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=GC(this,n)}static ri(e,n){return new ch(e,n)}Zr(){}Xr(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return W.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?W.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Ae.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),W.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Fc(e.data.value)),n}ar(e,n,s){return W.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Jm(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Jb()?8:N1(Jt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new iI;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(Xa()<=Me.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Wa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),W.resolve()):(Xa()<=Me.DEBUG&&oe("QueryEngine","Query:",Wa(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Xa()<=Me.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Wa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,di(n))):W.resolve())}rs(e,n){if(pv(n))return W.resolve(null);let s=di(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=ym(n,null,"F"),s=di(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ve(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const y=this.cs(n,m);return this.ls(n,y,f,p.readTime)?this.rs(e,ym(n,null,"F")):this.hs(e,y,n,p)}))})))}ss(e,n,s,o){return pv(n)||o.isEqual(Ae.min())?W.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?W.resolve(null):(Xa()<=Me.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Wa(n)),this.hs(e,f,n,b1(o,Gl)).next(m=>m))})}cs(e,n){let s=new xt(dT(e));return n.forEach((o,u)=>{Ch(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return Xa()<=Me.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Wa(n)),this.ns.getDocumentsMatchingQuery(e,n,rs.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep="LocalStore",sI=3e8;class aI{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new at(Pe),this.Is=new na(u=>Fm(u),Gm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function oI(r,e,n,s){return new aI(r,e,n,s)}async function LT(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ve();for(const y of o){f.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}for(const y of u){m.push(y.batchId);for(const T of y.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(y=>({Rs:y,removedBatchIds:f,addedBatchIds:m}))})})}function lI(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,y,T){const b=y.batch,N=b.keys();let P=W.resolve();return N.forEach(z=>{P=P.next(()=>T.getEntry(p,z)).next(Y=>{const q=y.docVersions.get(z);$e(q!==null),Y.version.compareTo(q)<0&&(b.applyToRemoteDocument(Y,y),Y.isValidDocument()&&(Y.setReadTime(y.commitVersion),T.addEntry(Y)))})}),P.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ve();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function UT(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function uI(r,e){const n=we(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((T,b)=>{const N=o.get(b);if(!N)return;m.push(n.Hr.removeMatchingKeys(u,T.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(u,T.addedDocuments,b)));let P=N.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?P=P.withResumeToken(Kt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):T.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(T.resumeToken,s)),o=o.insert(b,P),function(Y,q,Q){return Y.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=sI?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(N,P,T)&&m.push(n.Hr.updateTargetData(u,P))});let p=sr(),y=Ve();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(cI(u,f,e.documentUpdates).next(T=>{p=T.Vs,y=T.fs})),!s.isEqual(Ae.min())){const T=n.Hr.getLastRemoteSnapshotVersion(u).next(b=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return W.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(n.Ts=o,u))}function cI(r,e,n){let s=Ve(),o=Ve();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=sr();return n.forEach((m,p)=>{const y=u.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):oe(ep,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function hI(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Bm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function fI(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,W.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Zr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Am(r,e,n){const s=we(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!vo(f))throw f;oe(ep,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function Iv(r,e,n){const s=we(r);let o=Ae.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,y,T){const b=we(p),N=b.Is.get(T);return N!==void 0?W.resolve(b.Ts.get(N)):b.Hr.getTargetData(y,T)}(s,f,di(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:Ae.min(),n?u:Ve())).next(m=>(dI(s,Z1(e),m),{documents:m,gs:u})))}function dI(r,e,n){let s=r.Es.get(e)||Ae.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class Dv{constructor(){this.activeTargetIds=rC()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mI{constructor(){this.ho=new Dv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Dv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="ConnectivityMonitor";class xv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){oe(Nv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){oe(Nv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc=null;function Sm(){return jc===null?jc=function(){return 268435456+Math.round(2147483648*Math.random())}():jc++,"0x"+jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em="RestConnection",gI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yI{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===ih?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,n,s,o,u){const f=Sm(),m=this.So(e,n.toUriEncodedString());oe(em,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(y=>(oe(em,`Received RPC '${e}' ${f}: `,y),y),y=>{throw ao(em,`RPC '${e}' ${f} failed with error: `,y,"url: ",m,"request:",s),y})}Co(e,n,s,o,u,f){return this.bo(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+yo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}So(e,n){const s=gI[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class vI extends yI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=Sm();return new Promise((f,m)=>{const p=new qE;p.setWithCredentials(!0),p.listenOnce(FE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case qc.NO_ERROR:const T=p.getResponseJson();oe(Xt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),f(T);break;case qc.TIMEOUT:oe(Xt,`RPC '${e}' ${u} timed out`),m(new de(J.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const b=p.getStatus();if(oe(Xt,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let N=p.getResponseJson();Array.isArray(N)&&(N=N[0]);const P=N==null?void 0:N.error;if(P&&P.status&&P.message){const z=function(q){const Q=q.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Q)>=0?Q:J.UNKNOWN}(P.status);m(new de(z,P.message))}else m(new de(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new de(J.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{oe(Xt,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);oe(Xt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",y,s,15)})}Wo(e,n,s){const o=Sm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=$E(),m=KE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");oe(Xt,`Creating RPC '${e}' stream ${o}: ${T}`,p);const b=f.createWebChannel(T,p);let N=!1,P=!1;const z=new _I({Fo:q=>{P?oe(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(N||(oe(Xt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),N=!0),oe(Xt,`RPC '${e}' stream ${o} sending:`,q),b.send(q))},Mo:()=>b.close()}),Y=(q,Q,ne)=>{q.listen(Q,ee=>{try{ne(ee)}catch(pe){setTimeout(()=>{throw pe},0)}})};return Y(b,Vl.EventType.OPEN,()=>{P||(oe(Xt,`RPC '${e}' stream ${o} transport opened.`),z.Qo())}),Y(b,Vl.EventType.CLOSE,()=>{P||(P=!0,oe(Xt,`RPC '${e}' stream ${o} transport closed`),z.Ko())}),Y(b,Vl.EventType.ERROR,q=>{P||(P=!0,ao(Xt,`RPC '${e}' stream ${o} transport errored:`,q),z.Ko(new de(J.UNAVAILABLE,"The operation could not be completed")))}),Y(b,Vl.EventType.MESSAGE,q=>{var Q;if(!P){const ne=q.data[0];$e(!!ne);const ee=ne,pe=(ee==null?void 0:ee.error)||((Q=ee[0])===null||Q===void 0?void 0:Q.error);if(pe){oe(Xt,`RPC '${e}' stream ${o} received error:`,pe);const ue=pe.status;let be=function(w){const I=Tt[w];if(I!==void 0)return bT(I)}(ue),M=pe.message;be===void 0&&(be=J.INTERNAL,M="Unknown error status: "+ue+" with message "+pe.message),P=!0,z.Ko(new de(be,M)),b.close()}else oe(Xt,`RPC '${e}' stream ${o} received:`,ne),z.Uo(ne)}}),Y(m,GE.STAT_EVENT,q=>{q.stat===fm.PROXY?oe(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===fm.NOPROXY&&oe(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{z.$o()},0),z}}function tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(r){return new SC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="PersistentStream";class zT{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new jT(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(rr(n.toString()),rr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new de(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return oe(Ov,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(oe(Ov,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EI extends zT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=RC(this.serializer,e),s=function(u){if(!("targetChange"in u))return Ae.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Ae.min():f.readTime?mi(f.readTime):Ae.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Tm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=gm(p)?{documents:DC(u,p)}:{query:NC(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=IT(u,f.resumeToken);const y=_m(u,f.expectedCount);y!==null&&(m.expectedCount=y)}else if(f.snapshotVersion.compareTo(Ae.min())>0){m.readTime=uh(u,f.snapshotVersion.toTimestamp());const y=_m(u,f.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=OC(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Tm(this.serializer),n.removeTarget=e,this.I_(n)}}class TI extends zT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=IC(e.writeResults,e.commitTime),s=mi(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Tm(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>CC(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{}class SI extends AI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(e,vm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(J.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,vm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new de(J.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class wI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(rr(n),this.N_=!1):oe("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="RemoteStore";class bI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{ra(this)&&(oe(Xs,"Restarting streams for network reachability change."),await async function(p){const y=we(p);y.W_.add(4),await ou(y),y.j_.set("Unknown"),y.W_.delete(4),await Oh(y)}(this))})}),this.j_=new wI(s,o)}}async function Oh(r){if(ra(r))for(const e of r.G_)await e(!0)}async function ou(r){for(const e of r.G_)await e(!1)}function BT(r,e){const n=we(r);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),rp(n)?ip(n):Eo(n).c_()&&np(n,e))}function tp(r,e){const n=we(r),s=Eo(n);n.U_.delete(e),s.c_()&&HT(n,e),n.U_.size===0&&(s.c_()?s.P_():ra(n)&&n.j_.set("Unknown"))}function np(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Eo(r).y_(e)}function HT(r,e){r.H_.Ne(e),Eo(r).w_(e)}function ip(r){r.H_=new vC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Eo(r).start(),r.j_.B_()}function rp(r){return ra(r)&&!Eo(r).u_()&&r.U_.size>0}function ra(r){return we(r).W_.size===0}function qT(r){r.H_=void 0}async function RI(r){r.j_.set("Online")}async function CI(r){r.U_.forEach((e,n)=>{np(r,e)})}async function II(r,e){qT(r),rp(r)?(r.j_.q_(e),ip(r)):r.j_.set("Unknown")}async function DI(r,e,n){if(r.j_.set("Online"),e instanceof CT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){oe(Xs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await hh(r,s)}else if(e instanceof $c?r.H_.We(e):e instanceof RT?r.H_.Ze(e):r.H_.je(e),!n.isEqual(Ae.min()))try{const s=await UT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.U_.get(y);T&&u.U_.set(y,T.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,y)=>{const T=u.U_.get(p);if(!T)return;u.U_.set(p,T.withResumeToken(Kt.EMPTY_BYTE_STRING,T.snapshotVersion)),HT(u,p);const b=new Zr(T.target,p,y,T.sequenceNumber);np(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){oe(Xs,"Failed to raise snapshot:",s),await hh(r,s)}}async function hh(r,e,n){if(!vo(e))throw e;r.W_.add(1),await ou(r),r.j_.set("Offline"),n||(n=()=>UT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{oe(Xs,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Oh(r)})}function FT(r,e){return e().catch(n=>hh(r,n,e))}async function Mh(r){const e=we(r),n=ls(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:Bm;for(;NI(e);)try{const o=await hI(e.localStore,s);if(o===null){e.K_.length===0&&n.P_();break}s=o.batchId,xI(e,o)}catch(o){await hh(e,o)}GT(e)&&KT(e)}function NI(r){return ra(r)&&r.K_.length<10}function xI(r,e){r.K_.push(e);const n=ls(r);n.c_()&&n.b_&&n.S_(e.mutations)}function GT(r){return ra(r)&&!ls(r).u_()&&r.K_.length>0}function KT(r){ls(r).start()}async function OI(r){ls(r).C_()}async function MI(r){const e=ls(r);for(const n of r.K_)e.S_(n.mutations)}async function VI(r,e,n){const s=r.K_.shift(),o=Qm.from(s,e,n);await FT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Mh(r)}async function kI(r,e){e&&ls(r).b_&&await async function(s,o){if(function(f){return gC(f)&&f!==J.ABORTED}(o.code)){const u=s.K_.shift();ls(s).h_(),await FT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Mh(s)}}(r,e),GT(r)&&KT(r)}async function Mv(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),oe(Xs,"RemoteStore received new credentials");const s=ra(n);n.W_.add(3),await ou(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Oh(n)}async function PI(r,e){const n=we(r);e?(n.W_.delete(2),await Oh(n)):e||(n.W_.add(2),await ou(n),n.j_.set("Unknown"))}function Eo(r){return r.J_||(r.J_=function(n,s,o){const u=we(n);return u.M_(),new EI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:RI.bind(null,r),No:CI.bind(null,r),Lo:II.bind(null,r),p_:DI.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),rp(r)?ip(r):r.j_.set("Unknown")):(await r.J_.stop(),qT(r))})),r.J_}function ls(r){return r.Y_||(r.Y_=function(n,s,o){const u=we(n);return u.M_(),new TI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:OI.bind(null,r),Lo:kI.bind(null,r),D_:MI.bind(null,r),v_:VI.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Mh(r)):(await r.Y_.stop(),r.K_.length>0&&(oe(Xs,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new sp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ap(r,e){if(rr("AsyncQueue",`${e}: ${r}`),vo(r))return new de(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{static emptySet(e){return new to(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=kl(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof to)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new to;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(){this.Z_=new at(ge.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ee():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class ho{constructor(e,n,s,o,u,f,m,p,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new ho(e,n,to.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Rh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class UI{constructor(){this.queries=kv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=kv(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new de(J.ABORTED,"Firestore shutting down"))}}function kv(){return new na(r=>fT(r),Rh)}async function $T(r,e){const n=we(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new LI,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=ap(f,`Initialization of query '${Wa(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&op(n)}async function QT(r,e){const n=we(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function jI(r,e){const n=we(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&op(n)}function zI(r,e,n){const s=we(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function op(r){r.ia.forEach(e=>{e.next()})}var wm,Pv;(Pv=wm||(wm={}))._a="default",Pv.Cache="cache";class YT{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new ho(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=ho.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==wm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e){this.key=e}}class WT{constructor(e){this.key=e}}class BI{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=dT(e),this.wa=new to(this.ya)}get ba(){return this.fa}Sa(e,n){const s=n?n.Da:new Vv,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,b)=>{const N=o.get(T),P=Ch(this.query,b)?b:null,z=!!N&&this.mutatedKeys.has(N.key),Y=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let q=!1;N&&P?N.data.isEqual(P.data)?z!==Y&&(s.track({type:3,doc:P}),q=!0):this.va(N,P)||(s.track({type:2,doc:P}),q=!0,(p&&this.ya(P,p)>0||y&&this.ya(P,y)<0)&&(m=!0)):!N&&P?(s.track({type:0,doc:P}),q=!0):N&&!P&&(s.track({type:1,doc:N}),q=!0,(p||y)&&(m=!0)),q&&(P?(f=f.add(P),u=Y?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((T,b)=>function(P,z){const Y=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return Y(P)-Y(z)}(T.type,b.type)||this.ya(T.doc,b.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,f.length!==0||y?{snapshot:new ho(this.query,e.wa,u,f,e.mutatedKeys,p===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Vv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new WT(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new XT(s))}),n}Oa(e){this.fa=e.gs,this.pa=Ve();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return ho.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const lp="SyncEngine";class HI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class qI{constructor(e){this.key=e,this.Ba=!1}}class FI{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new na(m=>fT(m),Rh),this.qa=new Map,this.Qa=new Set,this.$a=new at(ge.comparator),this.Ka=new Map,this.Ua=new Wm,this.Wa={},this.Ga=new Map,this.za=co.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function GI(r,e,n=!0){const s=i0(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await ZT(s,e,n,!0),o}async function KI(r,e){const n=i0(r);await ZT(n,e,!0,!1)}async function ZT(r,e,n,s){const o=await fI(r.localStore,di(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await $I(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&BT(r.remoteStore,o),m}async function $I(r,e,n,s,o){r.Ha=(b,N,P)=>async function(Y,q,Q,ne){let ee=q.view.Sa(Q);ee.ls&&(ee=await Iv(Y.localStore,q.query,!1).then(({documents:M})=>q.view.Sa(M,ee)));const pe=ne&&ne.targetChanges.get(q.targetId),ue=ne&&ne.targetMismatches.get(q.targetId)!=null,be=q.view.applyChanges(ee,Y.isPrimaryClient,pe,ue);return Uv(Y,q.targetId,be.Ma),be.snapshot}(r,b,N,P);const u=await Iv(r.localStore,e,!0),f=new BI(e,u.gs),m=f.Sa(u.documents),p=au.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(m,r.isPrimaryClient,p);Uv(r,n,y.Ma);const T=new HI(e,n,f);return r.ka.set(e,T),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),y.snapshot}async function QI(r,e,n){const s=we(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Rh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Am(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&tp(s.remoteStore,o.targetId),bm(s,o.targetId)}).catch(_o)):(bm(s,o.targetId),await Am(s.localStore,o.targetId,!0))}async function YI(r,e){const n=we(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),tp(n.remoteStore,s.targetId))}async function XI(r,e,n){const s=iD(r);try{const o=await function(f,m){const p=we(f),y=Nt.now(),T=m.reduce((P,z)=>P.add(z.key),Ve());let b,N;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let z=sr(),Y=Ve();return p.ds.getEntries(P,T).next(q=>{z=q,z.forEach((Q,ne)=>{ne.isValidDocument()||(Y=Y.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,z)).next(q=>{b=q;const Q=[];for(const ne of m){const ee=hC(ne,b.get(ne.key).overlayedDocument);ee!=null&&Q.push(new ia(ne.key,ee,sT(ee.value.mapValue),er.exists(!0)))}return p.mutationQueue.addMutationBatch(P,y,Q,m)}).next(q=>{N=q;const Q=q.applyToLocalDocumentSet(b,Y);return p.documentOverlayCache.saveOverlays(P,q.batchId,Q)})}).then(()=>({batchId:N.batchId,changes:pT(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let y=f.Wa[f.currentUser.toKey()];y||(y=new at(Pe)),y=y.insert(m,p),f.Wa[f.currentUser.toKey()]=y}(s,o.batchId,n),await lu(s,o.changes),await Mh(s.remoteStore)}catch(o){const u=ap(o,"Failed to persist write");n.reject(u)}}async function JT(r,e){const n=we(r);try{const s=await uI(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?$e(f.Ba):o.removedDocuments.size>0&&($e(f.Ba),f.Ba=!1))}),await lu(n,s,e)}catch(s){await _o(s)}}function Lv(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=we(f);p.onlineState=m;let y=!1;p.queries.forEach((T,b)=>{for(const N of b.ta)N.sa(m)&&(y=!0)}),y&&op(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function WI(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ka.get(e),u=o&&o.key;if(u){let f=new at(ge.comparator);f=f.insert(u,Zt.newNoDocument(u,Ae.min()));const m=Ve().add(u),p=new Nh(Ae.min(),new Map,new at(Pe),f,m);await JT(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),up(s)}else await Am(s.localStore,e,!1).then(()=>bm(s,e,n)).catch(_o)}async function ZI(r,e){const n=we(r),s=e.batch.batchId;try{const o=await lI(n.localStore,e);t0(n,s,null),e0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await lu(n,o)}catch(o){await _o(o)}}async function JI(r,e,n){const s=we(r);try{const o=await function(f,m){const p=we(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let T;return p.mutationQueue.lookupMutationBatch(y,m).next(b=>($e(b!==null),T=b.keys(),p.mutationQueue.removeMutationBatch(y,b))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T)).next(()=>p.localDocuments.getDocuments(y,T))})}(s.localStore,e);t0(s,e,n),e0(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await lu(s,o)}catch(o){await _o(o)}}function e0(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function t0(r,e,n){const s=we(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function bm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ua.Sr(e).forEach(s=>{r.Ua.containsKey(s)||n0(r,s)})}function n0(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(tp(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ka.delete(n),up(r))}function Uv(r,e,n){for(const s of n)s instanceof XT?(r.Ua.addReference(s.key,e),eD(r,s)):s instanceof WT?(oe(lp,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||n0(r,s.key)):Ee()}function eD(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(oe(lp,"New document in limbo: "+n),r.Qa.add(s),up(r))}function up(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new ge(tt.fromString(e)),s=r.za.next();r.Ka.set(s,new qI(n)),r.$a=r.$a.insert(n,s),BT(r.remoteStore,new Zr(di(Km(n.path)),s,"TargetPurposeLimboResolution",Ah.ae))}}async function lu(r,e,n){const s=we(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(y=>{var T;if((y||n)&&s.isPrimaryClient){const b=y?!y.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(y){o.push(y);const b=Jm.Yi(p.targetId,y);u.push(b)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,y){const T=we(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>W.forEach(y,N=>W.forEach(N.Hi,P=>T.persistence.referenceDelegate.addReference(b,N.targetId,P)).next(()=>W.forEach(N.Ji,P=>T.persistence.referenceDelegate.removeReference(b,N.targetId,P)))))}catch(b){if(!vo(b))throw b;oe(ep,"Failed to update sequence numbers: "+b)}for(const b of y){const N=b.targetId;if(!b.fromCache){const P=T.Ts.get(N),z=P.snapshotVersion,Y=P.withLastLimboFreeSnapshotVersion(z);T.Ts=T.Ts.insert(N,Y)}}}(s.localStore,u))}async function tD(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){oe(lp,"User change. New user:",e.toKey());const s=await LT(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new de(J.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await lu(n,s.Rs)}}function nD(r,e){const n=we(r),s=n.Ka.get(e);if(s&&s.Ba)return Ve().add(s.key);{let o=Ve();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.ba)}return o}}function i0(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=JT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WI.bind(null,e),e.La.p_=jI.bind(null,e.eventManager),e.La.Ja=zI.bind(null,e.eventManager),e}function iD(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JI.bind(null,e),e}class fh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return oI(this.persistence,new rI,e.initialUser,this.serializer)}Xa(e){return new PT(Zm.ri,this.serializer)}Za(e){return new mI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fh.provider={build:()=>new fh};class rD extends fh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){$e(this.persistence.referenceDelegate instanceof ch);const s=this.persistence.referenceDelegate.garbageCollector;return new qC(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new PT(s=>ch.ri(s,n),this.serializer)}}class Rm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Lv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=tD.bind(null,this.syncEngine),await PI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new UI}()}createDatastore(e){const n=xh(e.databaseInfo.databaseId),s=function(u){return new vI(u)}(e.databaseInfo);return function(u,f,m,p){return new SI(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new bI(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>Lv(this.syncEngine,n,0),function(){return xv.D()?new xv:new pI}())}createSyncEngine(e,n){return function(o,u,f,m,p,y,T){const b=new FI(o,u,f,m,p,y);return T&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=we(o);oe(Xs,"RemoteStore shutting down."),u.W_.add(5),await ou(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Rm.provider={build:()=>new Rm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):rr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="FirestoreClient";class sD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=YE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{oe(us,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(oe(us,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=ap(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function nm(r,e){r.asyncQueue.verifyOperationInProgress(),oe(us,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await LT(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function jv(r,e){r.asyncQueue.verifyOperationInProgress();const n=await aD(r);oe(us,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Mv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Mv(e.remoteStore,o)),r._onlineComponents=e}async function aD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(us,"Using user provided OfflineComponentProvider");try{await nm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;ao("Error using user provided cache. Falling back to memory cache: "+n),await nm(r,new fh)}}else oe(us,"Using default OfflineComponentProvider"),await nm(r,new rD(void 0));return r._offlineComponents}async function s0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(us,"Using user provided OnlineComponentProvider"),await jv(r,r._uninitializedComponentsProvider._online)):(oe(us,"Using default OnlineComponentProvider"),await jv(r,new Rm))),r._onlineComponents}function oD(r){return s0(r).then(e=>e.syncEngine)}async function a0(r){const e=await s0(r),n=e.eventManager;return n.onListen=GI.bind(null,e.syncEngine),n.onUnlisten=QI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=KI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=YI.bind(null,e.syncEngine),n}function lD(r,e,n={}){const s=new Ji;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const T=new r0({next:N=>{T.su(),f.enqueueAndForget(()=>QT(u,b));const P=N.docs.has(m);!P&&N.fromCache?y.reject(new de(J.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&N.fromCache&&p&&p.source==="server"?y.reject(new de(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(N)},error:N=>y.reject(N)}),b=new YT(Km(m.path),T,{includeMetadataChanges:!0,Ta:!0});return $T(u,b)}(await a0(r),r.asyncQueue,e,n,s)),s.promise}function uD(r,e,n={}){const s=new Ji;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,y){const T=new r0({next:N=>{T.su(),f.enqueueAndForget(()=>QT(u,b)),N.fromCache&&p.source==="server"?y.reject(new de(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(N)},error:N=>y.reject(N)}),b=new YT(m,T,{includeMetadataChanges:!0,Ta:!0});return $T(u,b)}(await a0(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(r,e,n){if(!n)throw new de(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function cD(r,e,n,s){if(e===!0&&s===!0)throw new de(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function Bv(r){if(!ge.isDocumentKey(r))throw new de(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Hv(r){if(ge.isDocumentKey(r))throw new de(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function cp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee()}function Ws(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new de(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cp(r);throw new de(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0="firestore.googleapis.com",qv=!0;class Fv{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=u0,this.ssl=qv}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:qv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BC)throw new de(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=o0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new y1;switch(s.type){case"firstParty":return new T1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=zv.get(n);s&&(oe("ComponentProvider","Removing Datastore"),zv.delete(n),s.terminate())}(this),Promise.resolve()}}function hD(r,e,n,s={}){var o;const u=(r=Ws(r,Vh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==u0&&u.host!==m&&ao("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!$s(p,f)&&(r._setSettings(p),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=Wt.MOCK_USER;else{y=Kb(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new de(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Wt(b)}r._authCredentials=new _1(new QE(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new kh(this.firestore,e,this._query)}}class En{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}}class is extends kh{constructor(e,n,s){super(e,n,Km(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new ge(e))}withConverter(e){return new is(this.firestore,e,this._path)}}function c0(r,e,...n){if(r=zn(r),l0("collection","path",e),r instanceof Vh){const s=tt.fromString(e,...n);return Hv(s),new is(r,null,s)}{if(!(r instanceof En||r instanceof is))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return Hv(s),new is(r.firestore,null,s)}}function h0(r,e,...n){if(r=zn(r),arguments.length===1&&(e=YE.newId()),l0("doc","path",e),r instanceof Vh){const s=tt.fromString(e,...n);return Bv(s),new En(r,null,new ge(s))}{if(!(r instanceof En||r instanceof is))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return Bv(s),new En(r.firestore,r instanceof is?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="AsyncQueue";class Kv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new jT(this,"async_queue_retry"),this.bu=()=>{const s=tm();s&&oe(Gv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const n=tm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=tm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new Ji;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!vo(e))throw e;oe(Gv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw rr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=sp.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ee()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Ph extends Vh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Kv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Kv(e),this._firestoreClient=void 0,await e}}}function fD(r,e){const n=typeof r=="object"?r:jE(),s=typeof r=="string"?r:ih,o=jm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Fb("firestore");u&&hD(o,...u)}return o}function hp(r){if(r._terminated)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||dD(r),r._firestoreClient}function dD(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,y,T){return new k1(m,p,y,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,o0(T.experimentalLongPollingOptions),T.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new sD(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new fo(Kt.fromBase64String(e))}catch(n){throw new de(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new fo(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=/^__.*__$/;class pD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ia(e,this.data,this.fieldMask,n,this.fieldTransforms):new su(e,this.data,n,this.fieldTransforms)}}function d0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class pp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new pp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return dh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(d0(this.Lu)&&mD.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class gD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||xh(e)}ju(e,n,s,o=!1){return new pp({Lu:e,methodName:n,zu:s,path:Gt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yD(r){const e=r._freezeSettings(),n=xh(r._databaseId);return new gD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function _D(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);y0("Data must be an object, but it was:",f,s);const m=p0(s,f);let p,y;if(u.merge)p=new $n(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const N=vD(e,b,n);if(!f.contains(N))throw new de(J.INVALID_ARGUMENT,`Field '${N}' is specified in your field mask but missing from your input data.`);TD(T,N)||T.push(N)}p=new $n(T),y=f.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,y=f.fieldTransforms;return new pD(new jn(m),p,y)}function m0(r,e){if(g0(r=zn(r)))return y0("Unsupported field value:",e,r),p0(r,e);if(r instanceof f0)return function(s,o){if(!d0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=m0(m,o.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=zn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return sC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Nt.fromDate(s);return{timestampValue:uh(o.serializer,u)}}if(s instanceof Nt){const u=new Nt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:uh(o.serializer,u)}}if(s instanceof dp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof fo)return{bytesValue:IT(o.serializer,s._byteString)};if(s instanceof En){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Xm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof mp)return function(f,m){return{mapValue:{fields:{[iT]:{stringValue:rT},[rh]:{arrayValue:{values:f.toArray().map(y=>{if(typeof y!="number")throw m.Wu("VectorValues must only contain numeric values.");return $m(m.serializer,y)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${cp(s)}`)}(r,e)}function p0(r,e){const n={};return WE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ta(r,(s,o)=>{const u=m0(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function g0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Nt||r instanceof dp||r instanceof fo||r instanceof En||r instanceof f0||r instanceof mp)}function y0(r,e,n){if(!g0(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=cp(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function vD(r,e,n){if((e=zn(e))instanceof fp)return e._internalPath;if(typeof e=="string")return _0(r,e);throw dh("Field path arguments must be of type string or ",r,!1,void 0,n)}const ED=new RegExp("[~\\*/\\[\\]]");function _0(r,e,n){if(e.search(ED)>=0)throw dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new fp(...e.split("."))._internalPath}catch{throw dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function dh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new de(J.INVALID_ARGUMENT,m+r+p)}function TD(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v0{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(E0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class AD extends v0{data(){return super.data()}}function E0(r,e){return typeof e=="string"?_0(r,e):e instanceof fp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new de(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wD{convertValue(e,n="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ta(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[rh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>pt(f.doubleValue));return new mp(u)}convertGeoPoint(e){return new dp(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=wh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Kl(e));default:return null}}convertTimestamp(e){const n=ss(e);return new Nt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);$e(VT(s));const o=new $l(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||rr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ll{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class T0 extends v0{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(E0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Qc extends T0{data(e={}){return super.data(e)}}class RD{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ll(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Qc(this._firestore,this._userDataWriter,s.key,s,new Ll(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new Qc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ll(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Qc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ll(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return m.type!==0&&(y=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:CD(m.type),doc:p,oldIndex:y,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function CD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(r){r=Ws(r,En);const e=Ws(r.firestore,Ph);return lD(hp(e),r._key).then(n=>xD(e,r,n))}class A0 extends wD{constructor(e){super(),this.firestore=e}convertBytes(e){return new fo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,n)}}function S0(r){r=Ws(r,kh);const e=Ws(r.firestore,Ph),n=hp(e),s=new A0(e);return SD(r._query),uD(n,r._query).then(o=>new RD(e,s,r,o))}function DD(r,e,n){r=Ws(r,En);const s=Ws(r.firestore,Ph),o=bD(r.converter,e);return ND(s,[_D(yD(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,er.none())])}function ND(r,e){return function(s,o){const u=new Ji;return s.asyncQueue.enqueueAndForget(async()=>XI(await oD(s),o,u)),u.promise}(hp(r),e)}function xD(r,e,n){const s=n.docs.get(e._key),o=new A0(r);return new T0(r,o,e._key,s,new Ll(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){yo=o})(go),so(new Qs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Ph(new v1(s.getProvider("auth-internal")),new A1(f,s.getProvider("app-check-internal")),function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new de(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new $l(y.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),ts(J_,ev,e),ts(J_,ev,"esm2017")})();function gp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function w0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OD=w0,b0=new iu("auth","Firebase",w0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mh=new Lm("@firebase/auth");function MD(r,...e){mh.logLevel<=Me.WARN&&mh.warn(`Auth (${go}): ${r}`,...e)}function Yc(r,...e){mh.logLevel<=Me.ERROR&&mh.error(`Auth (${go}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(r,...e){throw yp(r,...e)}function pi(r,...e){return yp(r,...e)}function R0(r,e,n){const s=Object.assign(Object.assign({},OD()),{[e]:n});return new iu("auth","Firebase",s).create(e,{appName:r.name})}function tr(r){return R0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return b0.create(r,...e)}function _e(r,e,...n){if(!r)throw yp(e,...n)}function Yi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Yc(e),new Error(e)}function ar(r,e){r||Yi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function VD(){return $v()==="http:"||$v()==="https:"}function $v(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VD()||Xb()||"connection"in navigator)?navigator.onLine:!0}function PD(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu{constructor(e,n){this.shortDelay=e,this.longDelay=n,ar(n>e,"Short delay should be less than long delay!"),this.isMobile=$b()||Wb()}get(){return kD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _p(r,e){ar(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=new uu(3e4,6e4);function cs(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function hs(r,e,n,s,o={}){return I0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=ru(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},u);return Yb()||(y.referrerPolicy="no-referrer"),C0.fetch()(D0(r,r.config.apiHost,n,m),y)})}async function I0(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},LD),e);try{const o=new zD(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw zc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw zc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw zc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw zc(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw R0(r,T,y);Qn(r,T)}}catch(o){if(o instanceof or)throw o;Qn(r,"network-request-failed",{message:String(o)})}}async function cu(r,e,n,s,o={}){const u=await hs(r,e,n,s,o);return"mfaPendingCredential"in u&&Qn(r,"multi-factor-auth-required",{_serverResponse:u}),u}function D0(r,e,n,s){const o=`${e}${n}?${s}`;return r.config.emulator?_p(r.config,o):`${r.config.apiScheme}://${o}`}function jD(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(pi(this.auth,"network-request-failed")),UD.get())})}}function zc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=pi(r,e,s);return o.customData._tokenResponse=n,o}function Qv(r){return r!==void 0&&r.enterprise!==void 0}class BD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return jD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function HD(r,e){return hs(r,"GET","/v2/recaptchaConfig",cs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(r,e){return hs(r,"POST","/v1/accounts:delete",e)}async function N0(r,e){return hs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FD(r,e=!1){const n=zn(r),s=await n.getIdToken(e),o=vp(s);_e(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Hl(im(o.auth_time)),issuedAtTime:Hl(im(o.iat)),expirationTime:Hl(im(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function im(r){return Number(r)*1e3}function vp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Yc("JWT malformed, contained fewer than 3 sections"),null;try{const o=OE(n);return o?JSON.parse(o):(Yc("Failed to decode base64 JWT payload"),null)}catch(o){return Yc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Yv(r){const e=vp(r);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof or&&GD(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function GD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hl(this.lastLoginAt),this.creationTime=Hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ph(r){var e;const n=r.auth,s=await r.getIdToken(),o=await Wl(r,N0(n,{idToken:s}));_e(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?x0(u.providerUserInfo):[],m=QD(r.providerData,f),p=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),T=p?y:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Im(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,b)}async function $D(r){const e=zn(r);await ph(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QD(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function x0(r){return r.map(e=>{var{providerId:n}=e,s=gp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(r,e){const n=await I0(r,{},async()=>{const s=ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=D0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",C0.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function XD(r,e){return hs(r,"POST","/v2/accounts:revokeToken",cs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Yv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){_e(e.length!==0,"internal-error");const n=Yv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(_e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await YD(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new no;return s&&(_e(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(_e(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(_e(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new no,this.toJSON())}_performRefresh(){return Yi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(r,e){_e(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Xi{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=gp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new KD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Im(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Wl(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return FD(this,e)}reload(){return $D(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Xi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await ph(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(tr(this.auth));const e=await this.getIdToken();return await Wl(this,qD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,y,T;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,N=(o=n.email)!==null&&o!==void 0?o:void 0,P=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,z=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Y=(m=n.tenantId)!==null&&m!==void 0?m:void 0,q=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Q=(y=n.createdAt)!==null&&y!==void 0?y:void 0,ne=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:ee,emailVerified:pe,isAnonymous:ue,providerData:be,stsTokenManager:M}=n;_e(ee&&M,e,"internal-error");const R=no.fromJSON(this.name,M);_e(typeof ee=="string",e,"internal-error"),Gr(b,e.name),Gr(N,e.name),_e(typeof pe=="boolean",e,"internal-error"),_e(typeof ue=="boolean",e,"internal-error"),Gr(P,e.name),Gr(z,e.name),Gr(Y,e.name),Gr(q,e.name),Gr(Q,e.name),Gr(ne,e.name);const w=new Xi({uid:ee,auth:e,email:N,emailVerified:pe,displayName:b,isAnonymous:ue,photoURL:z,phoneNumber:P,tenantId:Y,stsTokenManager:R,createdAt:Q,lastLoginAt:ne});return be&&Array.isArray(be)&&(w.providerData=be.map(I=>Object.assign({},I))),q&&(w._redirectEventId=q),w}static async _fromIdTokenResponse(e,n,s=!1){const o=new no;o.updateFromServerResponse(n);const u=new Xi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await ph(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];_e(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?x0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new no;m.updateFromIdToken(s);const p=new Xi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Im(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv=new Map;function Wi(r){ar(r instanceof Function,"Expected a class definition");let e=Xv.get(r);return e?(ar(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Xv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}O0.type="NONE";const Wv=O0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(r,e,n){return`firebase:${r}:${e}:${n}`}class io{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Xc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Xc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Xi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new io(Wi(Wv),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Wi(Wv);const f=Xc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const T=await y._get(f);if(T){const b=Xi._fromJSON(e,T);y!==u&&(m=b),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new io(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new io(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zv(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(P0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(M0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(U0(e))return"Blackberry";if(j0(e))return"Webos";if(V0(e))return"Safari";if((e.includes("chrome/")||k0(e))&&!e.includes("edge/"))return"Chrome";if(L0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function M0(r=Jt()){return/firefox\//i.test(r)}function V0(r=Jt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function k0(r=Jt()){return/crios\//i.test(r)}function P0(r=Jt()){return/iemobile/i.test(r)}function L0(r=Jt()){return/android/i.test(r)}function U0(r=Jt()){return/blackberry/i.test(r)}function j0(r=Jt()){return/webos/i.test(r)}function Ep(r=Jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function WD(r=Jt()){var e;return Ep(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ZD(){return Zb()&&document.documentMode===10}function z0(r=Jt()){return Ep(r)||L0(r)||j0(r)||U0(r)||/windows phone/i.test(r)||P0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B0(r,e=[]){let n;switch(r){case"Browser":n=Zv(Jt());break;case"Worker":n=`${Zv(Jt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${go}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eN(r,e={}){return hs(r,"GET","/v2/passwordPolicy",cs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tN=6;class nN{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:tN,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Jv(this),this.idTokenSubscription=new Jv(this),this.beforeStateQueue=new JD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Wi(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await io.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await N0(this,{idToken:e}),s=await Xi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Un(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ph(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(tr(this));const n=e?zn(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await eN(this),n=new nN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new iu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await XD(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Wi(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await io.create(this,[Wi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(_e(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=B0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&MD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function sa(r){return zn(r)}class Jv{constructor(e){this.auth=e,this.observer=null,this.addObserver=aR(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rN(r){Lh=r}function H0(r){return Lh.loadJS(r)}function sN(){return Lh.recaptchaEnterpriseScript}function aN(){return Lh.gapiScript}function oN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class lN{constructor(){this.enterprise=new uN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class uN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const cN="recaptcha-enterprise",q0="NO_RECAPTCHA";class hN{constructor(e){this.type=cN,this.auth=sa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{HD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new BD(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Qv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(q0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lN().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Qv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=sN();p.length!==0&&(p+=m),H0(p).then(()=>{o(m,u,f)}).catch(y=>{f(y)})}}).catch(m=>{f(m)})})}}async function eE(r,e,n,s=!1,o=!1){const u=new hN(r);let f;if(o)f=q0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,y=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Dm(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await eE(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await eE(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(r,e){const n=jm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if($s(u,e??{}))return o;Qn(o,"already-initialized")}return n.initialize({options:e})}function dN(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Wi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function mN(r,e,n){const s=sa(r);_e(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=F0(e),{host:f,port:m}=pN(e),p=m===null?"":`:${m}`,y={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){_e(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),_e($s(y,s.config.emulator)&&$s(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,gN()}function F0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function pN(r){const e=F0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:tE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:tE(f)}}}function tE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function gN(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Yi("not implemented")}_getIdTokenResponse(e){return Yi("not implemented")}_linkToIdToken(e,n){return Yi("not implemented")}_getReauthenticationResolver(e){return Yi("not implemented")}}async function yN(r,e){return hs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(r,e){return cu(r,"POST","/v1/accounts:signInWithPassword",cs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(r,e){return cu(r,"POST","/v1/accounts:signInWithEmailLink",cs(r,e))}async function EN(r,e){return cu(r,"POST","/v1/accounts:signInWithEmailLink",cs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl extends Tp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new Zl(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new Zl(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dm(e,n,"signInWithPassword",_N);case"emailLink":return vN(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Dm(e,s,"signUpPassword",yN);case"emailLink":return EN(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ro(r,e){return cu(r,"POST","/v1/accounts:signInWithIdp",cs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN="http://localhost";class Zs extends Tp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=gp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Zs(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ro(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ro(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ro(e,n)}buildRequest(){const e={requestUri:TN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ru(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function SN(r){const e=Ol(Ml(r)).link,n=e?Ol(Ml(e)).deep_link_id:null,s=Ol(Ml(r)).deep_link_id;return(s?Ol(Ml(s)).link:null)||s||n||e||r}class Ap{constructor(e){var n,s,o,u,f,m;const p=Ol(Ml(e)),y=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,b=AN((o=p.mode)!==null&&o!==void 0?o:null);_e(y&&T&&b,"argument-error"),this.apiKey=y,this.operation=b,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=SN(e);try{return new Ap(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.providerId=To.PROVIDER_ID}static credential(e,n){return Zl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Ap.parseLink(n);return _e(s,"argument-error"),Zl._fromEmailAndCode(e,s.code,s.tenantId)}}To.PROVIDER_ID="password";To.EMAIL_PASSWORD_SIGN_IN_METHOD="password";To.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends G0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends hu{constructor(){super("facebook.com")}static credential(e){return Zs._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends hu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zs._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Yr.credential(n,s)}catch{return null}}}Yr.GOOGLE_SIGN_IN_METHOD="google.com";Yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends hu{constructor(){super("github.com")}static credential(e){return Zs._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.GITHUB_SIGN_IN_METHOD="github.com";Xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends hu{constructor(){super("twitter.com")}static credential(e,n){return Zs._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Wr.credential(n,s)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(r,e){return cu(r,"POST","/v1/accounts:signUp",cs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Xi._fromIdTokenResponse(e,s,o),f=nE(s);return new Js({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=nE(s);return new Js({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function nE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh extends or{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new gh(e,n,s,o)}}function K0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?gh._fromErrorAndOperation(r,u,e,s):u})}async function bN(r,e,n=!1){const s=await Wl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return Js._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RN(r,e,n=!1){const{auth:s}=r;if(Un(s.app))return Promise.reject(tr(s));const o="reauthenticate";try{const u=await Wl(r,K0(s,o,e,r),n);_e(u.idToken,s,"internal-error");const f=vp(u.idToken);_e(f,s,"internal-error");const{sub:m}=f;return _e(r.uid===m,s,"user-mismatch"),Js._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Qn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $0(r,e,n=!1){if(Un(r.app))return Promise.reject(tr(r));const s="signIn",o=await K0(r,s,e),u=await Js._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function CN(r,e){return $0(sa(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q0(r){const e=sa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function IN(r,e,n){if(Un(r.app))return Promise.reject(tr(r));const s=sa(r),f=await Dm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Q0(r),p}),m=await Js._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function DN(r,e,n){return Un(r.app)?Promise.reject(tr(r)):CN(zn(r),To.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Q0(r),s})}function NN(r,e,n,s){return zn(r).onIdTokenChanged(e,n,s)}function xN(r,e,n){return zn(r).beforeAuthStateChanged(e,n)}const yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=1e3,MN=10;class X0 extends Y0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=z0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);ZD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,MN):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},ON)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}X0.type="LOCAL";const VN=X0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0 extends Y0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}W0.type="SESSION";const Z0=W0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Uh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async y=>y(n.origin,u)),p=await kN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Uh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const y=Sp("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const N=b;if(N.data.eventId===y)switch(N.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(N.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(){return window}function LN(r){gi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J0(){return typeof gi().WorkerGlobalScope<"u"&&typeof gi().importScripts=="function"}async function UN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jN(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function zN(){return J0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="firebaseLocalStorageDb",BN=1,_h="firebaseLocalStorage",tA="fbase_key";class fu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function jh(r,e){return r.transaction([_h],e?"readwrite":"readonly").objectStore(_h)}function HN(){const r=indexedDB.deleteDatabase(eA);return new fu(r).toPromise()}function Nm(){const r=indexedDB.open(eA,BN);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(_h,{keyPath:tA})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(_h)?e(s):(s.close(),await HN(),e(await Nm()))})})}async function iE(r,e,n){const s=jh(r,!0).put({[tA]:e,value:n});return new fu(s).toPromise()}async function qN(r,e){const n=jh(r,!1).get(e),s=await new fu(n).toPromise();return s===void 0?null:s.value}function rE(r,e){const n=jh(r,!0).delete(e);return new fu(n).toPromise()}const FN=800,GN=3;class nA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>GN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return J0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Uh._getInstance(zN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await UN(),!this.activeServiceWorker)return;this.sender=new PN(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Nm();return await iE(e,yh,"1"),await rE(e,yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>iE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>qN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>rE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=jh(o,!1).getAll();return new fu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nA.type="LOCAL";const KN=nA;new uu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(r,e){return e?Wi(e):(_e(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp extends Tp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ro(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ro(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ro(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QN(r){return $0(r.auth,new wp(r),r.bypassAuthState)}function YN(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),RN(n,new wp(r),r.bypassAuthState)}async function XN(r){const{auth:e,user:n}=r;return _e(n,e,"internal-error"),bN(n,new wp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QN;case"linkViaPopup":case"linkViaRedirect":return XN;case"reauthViaPopup":case"reauthViaRedirect":return YN;default:Qn(this.auth,"internal-error")}}resolve(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN=new uu(2e3,1e4);class eo extends iA{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,eo.currentPopupAction&&eo.currentPopupAction.cancel(),eo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){ar(this.filter.length===1,"Popup operations only handle one event");const e=Sp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,eo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WN.get())};e()}}eo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="pendingRedirect",Wc=new Map;class JN extends iA{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Wc.get(this.auth._key());if(!e){try{const s=await ex(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Wc.set(this.auth._key(),e)}return this.bypassAuthState||Wc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ex(r,e){const n=ix(e),s=nx(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function tx(r,e){Wc.set(r._key(),e)}function nx(r){return Wi(r._redirectPersistence)}function ix(r){return Xc(ZN,r.config.apiKey,r.name)}async function rx(r,e,n=!1){if(Un(r.app))return Promise.reject(tr(r));const s=sa(r),o=$N(s,e),f=await new JN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx=10*60*1e3;class ax{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ox(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!rA(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(pi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sx&&this.cachedEventUids.clear(),this.cachedEventUids.has(sE(e))}saveEventToCache(e){this.cachedEventUids.add(sE(e)),this.lastProcessedEventTime=Date.now()}}function sE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function rA({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ox(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rA(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lx(r,e={}){return hs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ux=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cx=/^https?/;async function hx(r){if(r.config.emulator)return;const{authorizedDomains:e}=await lx(r);for(const n of e)try{if(fx(n))return}catch{}Qn(r,"unauthorized-domain")}function fx(r){const e=Cm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!cx.test(n))return!1;if(ux.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=new uu(3e4,6e4);function aE(){const r=gi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function mx(r){return new Promise((e,n)=>{var s,o,u;function f(){aE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aE(),n(pi(r,"network-request-failed"))},timeout:dx.get()})}if(!((o=(s=gi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=gi().gapi)===null||u===void 0)&&u.load)f();else{const m=oN("iframefcb");return gi()[m]=()=>{gapi.load?f():n(pi(r,"network-request-failed"))},H0(`${aN()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Zc=null,e})}let Zc=null;function px(r){return Zc=Zc||mx(r),Zc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gx=new uu(5e3,15e3),yx="__/auth/iframe",_x="emulator/auth/iframe",vx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ex=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tx(r){const e=r.config;_e(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?_p(e,_x):`https://${r.config.authDomain}/${yx}`,s={apiKey:e.apiKey,appName:r.name,v:go},o=Ex.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${ru(s).slice(1)}`}async function Ax(r){const e=await px(r),n=gi().gapi;return _e(n,r,"internal-error"),e.open({where:document.body,url:Tx(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vx,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=pi(r,"network-request-failed"),m=gi().setTimeout(()=>{u(f)},gx.get());function p(){gi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},wx=500,bx=600,Rx="_blank",Cx="http://localhost";class oE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ix(r,e,n,s=wx,o=bx){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},Sx),{width:s.toString(),height:o.toString(),top:u,left:f}),y=Jt().toLowerCase();n&&(m=k0(y)?Rx:n),M0(y)&&(e=e||Cx,p.scrollbars="yes");const T=Object.entries(p).reduce((N,[P,z])=>`${N}${P}=${z},`,"");if(WD(y)&&m!=="_self")return Dx(e||"",m),new oE(null);const b=window.open(e||"",m,T);_e(b,r,"popup-blocked");try{b.focus()}catch{}return new oE(b)}function Dx(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="__/auth/handler",xx="emulator/auth/handler",Ox=encodeURIComponent("fac");async function lE(r,e,n,s,o,u){_e(r.config.authDomain,r,"auth-domain-config-required"),_e(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:go,eventId:o};if(e instanceof G0){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",sR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))f[T]=b}if(e instanceof hu){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),y=p?`#${Ox}=${encodeURIComponent(p)}`:"";return`${Mx(r)}?${ru(m).slice(1)}${y}`}function Mx({config:r}){return r.emulator?_p(r,xx):`https://${r.authDomain}/${Nx}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="webStorageSupport";class Vx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Z0,this._completeRedirectFn=rx,this._overrideRedirectResult=tx}async _openPopup(e,n,s,o){var u;ar((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await lE(e,n,s,Cm(),o);return Ix(e,f,Sp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await lE(e,n,s,Cm(),o);return LN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(ar(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Ax(e),s=new ax(e);return n.register("authEvent",o=>(_e(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(rm,{type:rm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[rm];f!==void 0&&n(!!f),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=hx(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return z0()||V0()||Ep()}}const kx=Vx;var uE="@firebase/auth",cE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ux(r){so(new Qs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;_e(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:B0(r)},y=new iN(s,o,u,p);return dN(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),so(new Qs("auth-internal",e=>{const n=sa(e.getProvider("auth").getImmediate());return(s=>new Px(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ts(uE,cE,Lx(r)),ts(uE,cE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jx=5*60,zx=kE("authIdTokenMaxAge")||jx;let hE=null;const Bx=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>zx)return;const o=n==null?void 0:n.token;hE!==o&&(hE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Hx(r=jE()){const e=jm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=fN(r,{popupRedirectResolver:kx,persistence:[KN,VN,Z0]}),s=kE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=Bx(u.toString());xN(n,f,()=>f(n.currentUser)),NN(n,m=>f(m))}}const o=ME("auth");return o&&mN(n,`http://${o}`),n}function qx(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}rN({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=pi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",qx().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ux("Browser");var Fx="firebase",Gx="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ts(Fx,Gx,"app");const Kx={apiKey:"AIzaSyCSjbxL9N2DMxDdY5VYHIgSS8xcEXT54xE",authDomain:"my-first-project-7cbf9.firebaseapp.com",databaseURL:"https://my-first-project-7cbf9-default-rtdb.europe-west1.firebasedatabase.app",projectId:"my-first-project-7cbf9",storageBucket:"my-first-project-7cbf9.firebasestorage.app",messagingSenderId:"424606795900",appId:"1:424606795900:web:61a3a0683433959a3da1f9"},sA=UE(Kx),zh=fD(sA),aA=Hx(sA);function $x(){const r=G.useRef(),[e,n]=G.useState([]),[s,o]=G.useState([]),u=G.useRef(!1),f=()=>{const m=r.current.value.trim().toLowerCase();if(r.current.value="",m==="")o(e);else{const p=e.filter(y=>{var T;return(T=y.content)==null?void 0:T.toLowerCase().includes(m)});o(p)}};return G.useEffect(()=>{if(u.current)return;u.current=!0,(async()=>{try{const p=c0(zh,"posts"),T=(await S0(p)).docs.map(b=>b.data());n(T),o(T)}catch(p){console.error("Грешка при взимане на постовете:",p)}})()},[]),E.jsxs("div",{className:hn.container,children:[E.jsxs("nav",{className:hn.nav,children:[E.jsx("h1",{children:"At"}),E.jsxs("ul",{children:[E.jsx("li",{children:E.jsxs(Te,{to:"/react-regular-exam/login",children:[E.jsx("i",{className:`fa-solid fa-arrow-right-to-bracket ${hn.i}`}),E.jsx("span",{children:"Sign in"})]})}),E.jsx("li",{children:E.jsxs(Te,{to:"/react-regular-exam/create",children:[E.jsx("i",{className:`fa-regular fa-id-badge ${hn.i}`}),E.jsx("span",{children:"Create account"})]})}),E.jsx("li",{children:E.jsxs(Te,{to:"/react-regular-exam",children:[E.jsx("i",{className:`fa-solid fa-person-through-window ${hn.i}`}),E.jsx("span",{children:"Leave"})]})})]}),E.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Guest"}),E.jsx("p",{children:"Guest"})]}),E.jsxs("main",{className:hn.main,children:[E.jsxs("section",{id:"search",className:hn.search,children:[E.jsx("h3",{children:"What do you need?"}),E.jsx("input",{type:"search",ref:r,name:"search",id:"search",placeholder:"search"}),E.jsx("button",{onClick:f,children:"🔍"})]}),E.jsxs("section",{id:"posts",className:hn.posts,children:[E.jsxs("div",{id:"post",className:hn.post,children:[E.jsxs("div",{id:"meta",className:hn.meta,children:[E.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Profile image"}),E.jsx("h4",{children:"Author"}),E.jsx("p",{children:"Date"})]}),E.jsx("p",{children:"Text content. This is my first post is text content, which is going to become viral!"}),E.jsx("img",{src:"https://images.indianexpress.com/2017/12/2017-viral-photos-main_759_combo.jpg?w=350",alt:"Img or Video"}),E.jsxs("div",{id:"feedback",className:hn.feedback,children:[E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-comment"}),E.jsx("span",{children:"5"})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-heart"}),E.jsx("span",{children:"12"})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-solid fa-magnifying-glass"}),E.jsx("span",{children:"57"})]})]})]}),s.length>0?s.map((m,p)=>{const y=m.meta.date.toDate();return E.jsxs("div",{id:"post",className:hn.post,children:[E.jsxs("div",{id:"meta",className:hn.meta,children:[E.jsx("img",{src:m.meta.img,alt:"Profile image"}),E.jsx("h4",{children:m.meta.author}),E.jsx("p",{children:y.toLocaleDateString()})]}),E.jsx("p",{children:m.content}),E.jsx("img",{src:m.img,alt:"Img or Video"}),E.jsxs("div",{id:"feedback",className:hn.feedback,children:[E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-comment"}),E.jsx("span",{children:m.feedback.comments})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-heart"}),E.jsx("span",{children:m.feedback.likes})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-solid fa-magnifying-glass"}),E.jsx("span",{children:m.feedback.views})]})]})]},p)}):E.jsx("p",{children:"No posts found"})]})]})]})}const Qx="_wrapperMajor_12wpi_1",Yx="_header_12wpi_11",Xx="_logo_12wpi_73",Wx="_main_12wpi_83",Zx="_mainDiv_12wpi_95",Jx="_nav_12wpi_107",e2="_button_12wpi_121",t2="_google_12wpi_141",n2="_awesome_12wpi_175",i2="_separator_12wpi_201",r2="_hr_12wpi_223",s2="_input_12wpi_231",a2="_next_12wpi_245",o2="_lastParagraph_12wpi_263",ft={wrapperMajor:Qx,header:Yx,logo:Xx,main:Wx,mainDiv:Zx,nav:Jx,button:e2,google:t2,awesome:n2,separator:i2,hr:r2,input:s2,next:a2,lastParagraph:o2},Ao=G.createContext();function l2({children:r}){const[e,n]=G.useState({name:"",email:"",password:"",birthday:{month:"",day:"",year:""},checkbox:{getMore:"",connectWith:"",peronalizedAds:"",noThanks:""}}),s=o=>{n(u=>({...u,...o}))};return E.jsx(Ao.Provider,{value:{formData:e,updateForm:s},children:r})}function u2(){const r=tu(),{updateForm:e}=G.useContext(Ao),n=async s=>{var u;s.preventDefault();const o={email:((u=s.target.elements.email)==null?void 0:u.value)||""};if(!o.email)return alert("You must enter a valid email address");await e(o),r("/react-regular-exam/login/pass")};return E.jsx("form",{onSubmit:n,children:E.jsxs("div",{className:ft.wrapperMajor,children:[E.jsxs("header",{className:ft.header,children:[E.jsx(Te,{className:ft.x,to:"/react-regular-exam",children:E.jsx("i",{className:"fa-solid fa-xmark"})}),E.jsx("h1",{className:ft.logo,children:"At"})]}),E.jsx("main",{className:ft.main,children:E.jsxs("div",{className:ft.mainDiv,children:[E.jsx("h1",{children:"Sign in to At"}),E.jsxs("nav",{className:ft.nav,children:[E.jsxs("button",{type:"button",className:`${ft.button} ${ft.awesome} ${ft.google}`,children:[E.jsx("i",{className:"fa-brands fa-google"}),"Sign in with Google"]}),E.jsxs("button",{type:"button",className:`${ft.button} ${ft.awesome}`,children:[E.jsx("i",{className:"fa-brands fa-apple"}),"Sign in with Apple"]}),E.jsxs("div",{className:ft.separator,children:[E.jsx("hr",{className:ft.hr}),E.jsx("p",{children:"or"}),E.jsx("hr",{className:ft.hr})]}),E.jsx("input",{name:"email",className:ft.input,type:"email",placeholder:"email"}),E.jsx("button",{className:`${ft.button} ${ft.awesome} ${ft.next}`,children:"Next"}),E.jsx("button",{type:"button",className:`${ft.button} ${ft.awesome}`,to:"/react-regular-exam/guest",children:"Forgot password?"}),E.jsxs("p",{className:ft.lastParagraph,children:["Don't have an account?",E.jsx(Te,{to:"/react-regular-exam/create",children:"Sign up"})]})]})]})})]})})}const c2="_wrapperMajor_ljgmt_1",h2="_header_ljgmt_21",f2="_logo_ljgmt_83",d2="_main_ljgmt_93",m2="_mainDiv_ljgmt_107",p2="_upperDiv_ljgmt_121",g2="_emailState_ljgmt_131",y2="_password_ljgmt_159",_2="_arrow_ljgmt_177",v2="_inputWrapper_ljgmt_189",E2="_pass_ljgmt_159",T2="_forgot_ljgmt_219",A2="_login_ljgmt_247",S2="_signup_ljgmt_281",on={wrapperMajor:c2,header:h2,logo:f2,main:d2,mainDiv:m2,upperDiv:p2,emailState:g2,password:y2,arrow:_2,inputWrapper:v2,pass:E2,forgot:T2,login:A2,signup:S2};function w2(r,e){localStorage.setItem("user",JSON.stringify(r)),localStorage.setItem("userToken",e)}function b2(){return localStorage.getItem("user")}const R2=async r=>{const{email:e,password:n}=r;try{const o=(await IN(aA,e,n)).user;await DD(h0(zh,"users",o.uid),{...r,createdAt:new Date})}catch(s){console.error("Error registering user:",s.message)}},C2=async r=>{const{email:e,password:n}=r;try{const o=(await DN(aA,e,n)).user,u=await o.getIdToken(),f=await I2(o.uid);w2(f,u)}catch(s){console.error("Error login user:",s.message)}};async function I2(r){try{const e=h0(zh,"users",r),n=await ID(e);if(n.exists())return n.data();throw new Error("no such user!")}catch(e){return console.error("Error fetching user:",e.message),null}}const D2="_loader_1ojyy_11",N2={loader:D2};function oA(){return E.jsx("div",{className:N2.loader})}function x2(){const{formData:r,updateForm:e}=G.useContext(Ao),n=tu(),[s,o]=G.useState(!1),[u,f]=G.useState(!1),m=async p=>{var T;p.preventDefault(),f(!0);const y={password:(T=p.target.elements.password)==null?void 0:T.value};if(!y)return alert("You need to provide a password");await e(y)};return G.useEffect(()=>{if(!r.password)return;(async()=>{try{await C2(r),n("/react-regular-exam/welcome"),f(!1)}catch(y){alert(y.message)}})()},[r.password]),E.jsx("form",{onSubmit:m,children:E.jsxs("div",{className:on.wrapperMajor,children:[u&&E.jsx(oA,{}),E.jsxs("header",{className:on.header,children:[E.jsx(Te,{className:on.x,to:"/react-regular-exam",children:E.jsx("i",{className:"fa-solid fa-xmark"})}),E.jsx("h1",{className:on.logo,children:"At"})]}),E.jsx("main",{className:on.main,children:E.jsxs("div",{className:on.mainDiv,children:[E.jsxs("div",{className:on.upperDiv,children:[E.jsx("h1",{children:"Enter your password"}),E.jsxs("div",{className:on.emailState,children:[E.jsx("p",{children:"Email"}),E.jsx("p",{children:r.email})]}),E.jsxs("div",{className:on.password,children:[E.jsxs("div",{className:on.arrow,children:[E.jsx("p",{children:"Password"}),E.jsx("i",{className:"fa-solid fa-arrow-down"})]}),E.jsxs("div",{className:on.inputWrapper,children:[E.jsx("input",{className:on.pass,type:"password",name:"password",id:"",placeholder:""}),E.jsx("i",{className:"fa-regular fa-eye"})]})]}),E.jsx("p",{className:on.forgot,children:E.jsx(Te,{children:"Forgot password?"})})]}),E.jsxs("div",{className:on.login,children:[E.jsx("input",{name:"login",type:"submit",value:"Log in"}),E.jsxs("div",{className:on.signup,children:[E.jsx("p",{children:"Don't have an account?"}),E.jsx(Te,{to:"/create",children:"Sign up"})]})]})]})})]})})}const O2="_wrapperMajor_1bczb_1",M2="_header_1bczb_21",V2="_logo_1bczb_83",k2="_main_1bczb_93",P2="_mainDiv_1bczb_107",L2="_upperDiv_1bczb_121",U2="_password_1bczb_133",j2="_arrow_1bczb_151",z2="_inputWrapper_1bczb_163",B2="_pass_1bczb_133",H2="_login_1bczb_185",q2="_birth_1bczb_223",F2="_birthday_1bczb_255",G2="_month_1bczb_265",K2="_day_1bczb_291",$2="_year_1bczb_291",Ye={wrapperMajor:O2,header:M2,logo:V2,main:k2,mainDiv:P2,upperDiv:L2,password:U2,arrow:j2,inputWrapper:z2,pass:B2,login:H2,birth:q2,birthday:F2,month:G2,day:K2,year:$2};function Q2(){const{updateForm:r}=G.useContext(Ao),e=tu(),n=async s=>{var u,f,m,p,y,T,b;s.preventDefault();const o={name:((u=s.target.elements.name)==null?void 0:u.value)||"",email:((f=s.target.elements.email)==null?void 0:f.value)||"",password:((m=s.target.elements.password)==null?void 0:m.value)||"",birthday:{month:((p=s.target.elements.month)==null?void 0:p.value)||"",day:((y=s.target.elements.day)==null?void 0:y.value)||"",year:((T=s.target.elements.year)==null?void 0:T.value)||""}};if(o.name)if(o.email){if(!o.password||o.password.length<6)return alert("You must enter a valid password!");if(o.password!==((b=s.target.elements.repeat)==null?void 0:b.value))return alert("Password Missmatch!");if(o.birthday.month)if(o.birthday.day){if(!o.birthday.year)return alert("You must choose an year!")}else return alert("You must choose a day!");else return alert("You must choose a month!")}else return alert("You must enter a valid email address!");else return alert("You must enter a name!");await r(o),e("/react-regular-exam/create/submit")};return E.jsx("form",{onSubmit:n,children:E.jsxs("div",{className:Ye.wrapperMajor,children:[E.jsxs("header",{className:Ye.header,children:[E.jsx(Te,{className:Ye.x,to:"/react-regular-exam",children:E.jsx("i",{className:"fa-solid fa-xmark"})}),E.jsx("h1",{className:Ye.logo,children:"At"})]}),E.jsx("main",{className:Ye.main,children:E.jsxs("div",{className:Ye.mainDiv,children:[E.jsxs("div",{className:Ye.upperDiv,children:[E.jsx("h1",{children:"Create your account"}),E.jsxs("div",{className:Ye.password,children:[E.jsxs("div",{className:Ye.arrow,children:[E.jsx("p",{children:"Name"}),E.jsx("i",{className:"fa-solid fa-arrow-down"})]}),E.jsx("div",{className:Ye.inputWrapper,children:E.jsx("input",{className:Ye.pass,type:"text",name:"name",id:"",placeholder:""})})]}),E.jsxs("div",{className:Ye.password,children:[E.jsxs("div",{className:Ye.arrow,children:[E.jsx("p",{children:"Email"}),E.jsx("i",{className:"fa-solid fa-arrow-down"})]}),E.jsx("div",{className:Ye.inputWrapper,children:E.jsx("input",{className:Ye.pass,type:"email",name:"email",id:"",placeholder:""})})]}),E.jsxs("div",{className:Ye.password,children:[E.jsxs("div",{className:Ye.arrow,children:[E.jsx("p",{children:"Password"}),E.jsx("i",{className:"fa-solid fa-arrow-down"})]}),E.jsx("div",{className:Ye.inputWrapper,children:E.jsx("input",{className:Ye.pass,type:"password",name:"password",id:"",placeholder:"At least 6 characters"})})]}),E.jsxs("div",{className:Ye.password,children:[E.jsxs("div",{className:Ye.arrow,children:[E.jsx("p",{children:"Repeat password"}),E.jsx("i",{className:"fa-solid fa-arrow-down"})]}),E.jsx("div",{className:Ye.inputWrapper,children:E.jsx("input",{className:Ye.pass,type:"password",name:"repeat",id:"",placeholder:""})})]}),E.jsxs("div",{className:Ye.birth,children:[E.jsx("p",{children:"Date of Birth"}),E.jsx("p",{children:"This will not be shown publicly. Confirm your own age, even if this account is for a business, a pet, or something else."}),E.jsxs("div",{className:Ye.birthday,children:[E.jsxs("div",{className:Ye.month,children:[E.jsx("p",{children:"month"}),E.jsxs("select",{name:"month",id:"month",children:[E.jsx("option",{value:""}),E.jsx("option",{value:"January",children:"January"}),E.jsx("option",{value:"February",children:"February"}),E.jsx("option",{value:"March",children:"March"}),E.jsx("option",{value:"April",children:"April"}),E.jsx("option",{value:"May",children:"May"}),E.jsx("option",{value:"June",children:"June"}),E.jsx("option",{value:"July",children:"July"}),E.jsx("option",{value:"August",children:"August"}),E.jsx("option",{value:"September",children:"September"}),E.jsx("option",{value:"October",children:"October"}),E.jsx("option",{value:"November",children:"November"}),E.jsx("option",{value:"December",children:"December"})]})]}),E.jsxs("div",{className:Ye.day,children:[E.jsx("p",{children:"Day"}),E.jsxs("select",{name:"day",id:"day",children:[E.jsx("option",{value:""}),Array.from({length:31},(s,o)=>E.jsx("option",{value:o+1,children:o+1},o+1))]})]}),E.jsxs("div",{className:Ye.year,children:[E.jsx("p",{children:"Year"}),E.jsxs("select",{name:"year",id:"year",children:[E.jsx("option",{value:""}),Array.from({length:121},(s,o)=>E.jsx("option",{value:o+1905,children:o+1905},o+1905))]})]})]})]})]}),E.jsx("div",{className:Ye.login,children:E.jsx("button",{children:"Next"})})]})})]})})}const Y2="_wrapperMajor_ewi7d_1",X2="_header_ewi7d_33",W2="_logo_ewi7d_95",Z2="_main_ewi7d_105",J2="_wrapper_ewi7d_1",eO="_checkBoxWrapper_ewi7d_135",tO="_button_ewi7d_267",Kr={wrapperMajor:Y2,header:X2,logo:W2,main:Z2,wrapper:J2,checkBoxWrapper:eO,button:tO};function nO(){const r=tu(),{formData:e,updateForm:n}=G.useContext(Ao),[s,o]=G.useState(!1),u=async f=>{var p,y,T;f.preventDefault(),o(!0);const m={checkbox:{getMore:(p=f.target.elements.getMore)!=null&&p.checked?"yes":"no",connectWith:(y=f.target.elements.connectWith)!=null&&y.checked?"yes":"no",peronalizedAds:(T=f.target.elements.peronalizedAds)!=null&&T.checked?"yes":"no"}};try{n(m)}catch(b){console.error("Error registering user:",b.message)}};return G.useEffect(()=>{if(!e.checkbox.getMore)return;(async()=>{try{await R2(e),o(!1),r("/react-regular-exam/guest")}catch(m){alert(m.message)}})()},[e.checkbox.getMore]),E.jsx("form",{onSubmit:u,children:E.jsxs("div",{className:Kr.wrapperMajor,children:[s&&E.jsx(oA,{}),E.jsxs("header",{className:Kr.header,children:[E.jsx(Te,{className:Kr.x,to:"/react-regular-exam",children:E.jsx("i",{className:"fa-solid fa-xmark"})}),E.jsx("h1",{className:Kr.logo,children:"At"})]}),E.jsxs("main",{className:Kr.main,children:[E.jsxs("div",{className:Kr.wrapper,children:[E.jsx("h1",{children:"Customize your experience"}),E.jsxs("div",{className:Kr.checkBoxWrapper,children:[E.jsxs("div",{children:[E.jsx("h3",{children:"Get more out of At"}),E.jsxs("div",{children:[E.jsx("p",{children:"Receive email about your At activity and recommendations."}),E.jsx("input",{type:"checkbox",name:"getMore"})]})]}),E.jsxs("div",{children:[E.jsx("h3",{children:"Connect with people you know"}),E.jsxs("div",{children:[E.jsx("p",{children:"Let others find your At account by your email address."}),E.jsx("input",{type:"checkbox",name:"connectWith"})]})]}),E.jsxs("div",{children:[E.jsx("h3",{children:"Personalized ads"}),E.jsxs("div",{children:[E.jsx("p",{children:"You will always see ads on At based on your At activity. When this setting is enabled, At may further personalize ads from At advertisers, on and off At, by combining your At activity with other online activity and information from our partners."}),E.jsx("input",{type:"checkbox",name:"peronalizedAds"})]})]})]}),E.jsxs("p",{children:["By signing up, you agree to our ",E.jsx(Te,{children:"Terms"}),", ",E.jsx(Te,{children:"Privacy Policy"}),", and ",E.jsx(Te,{children:"Cookie Use"}),". At may use your contact information, including your email address and phone number for purposes outlined in our Privacy Policy. ",E.jsx(Te,{children:"Learn more"})]})]}),E.jsx("div",{className:Kr.button,children:E.jsx("input",{type:"submit",value:"Next"})})]})]})})}const iO="_container_1491b_1",rO="_main_1491b_159",fE={container:iO,main:rO},sO="_nav_w5sj9_1",aO="_i_w5sj9_11",Fs={nav:sO,i:aO};function oO(){const{formData:r,updateForm:e}=G.useContext(Ao),[n,s]=G.useState("Loading...");return G.useEffect(()=>{const o=JSON.parse(b2());console.log("Tochno predi loga"),console.log(o),console.log(o.name),o&&o.name?s(o.name):s("Guest")},[]),E.jsxs("nav",{className:Fs.nav,children:[E.jsx("h1",{children:"At"}),E.jsxs("ul",{children:[E.jsx("li",{children:E.jsxs(Te,{to:"/react-regular-exam/welcome",children:[E.jsx("i",{className:`fa-solid fa-house-flag ${Fs.i}`}),E.jsx("span",{children:"Welcome"})]})}),E.jsx("li",{children:E.jsxs(Te,{to:"/react-regular-exam/create",children:[E.jsx("i",{className:`fa-solid fa-bell ${Fs.i}`}),E.jsx("span",{children:"Notification"})]})}),E.jsx("li",{children:E.jsxs(Te,{to:"/react-regular-exam/create",children:[E.jsx("i",{className:`fa-solid fa-envelope ${Fs.i}`}),E.jsx("span",{children:"Messages"})]})}),E.jsx("li",{children:E.jsxs(Te,{to:"/react-regular-exam/create",children:[E.jsx("i",{className:`fa-solid fa-user ${Fs.i}`}),E.jsx("span",{children:"Profile"})]})}),E.jsx("li",{children:E.jsxs(Te,{to:"/react-regular-exam/create",children:[E.jsx("i",{className:`fa-solid fa-suitcase ${Fs.i}`}),E.jsx("span",{children:"Jobs"})]})}),E.jsx("li",{children:E.jsxs(Te,{to:"/react-regular-exam",children:[E.jsx("i",{className:`fa-solid fa-circle-xmark ${Fs.i}`}),E.jsx("span",{children:"Logout"})]})}),E.jsx("li",{children:E.jsx(Te,{to:"/react-regular-exam/post",children:E.jsx("span",{children:"Post"})})})]}),E.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Guest"}),E.jsx("p",{children:n})]})}const lO="_search_pc9pq_1",uO="_meta_pc9pq_39",cO="_post_pc9pq_69",hO="_feedback_pc9pq_103",$r={search:lO,meta:uO,post:cO,feedback:hO};function fO(){const r=G.useRef(),e=G.useRef(!1),[n,s]=G.useState([]),[o,u]=G.useState([]),f=()=>{const m=r.current.value.trim().toLowerCase();if(r.current.value="",m==="")u(n);else{const p=n.filter(y=>{var T;return(T=y.content)==null?void 0:T.toLowerCase().includes(m)});u(p)}};return G.useEffect(()=>{if(e.current)return;e.current=!0,(async()=>{try{const p=c0(zh,"posts"),T=(await S0(p)).docs.map(b=>b.data());s(T),u(T)}catch(p){console.error("Грешка при взимане на постовете:",p)}})()},[]),E.jsxs(E.Fragment,{children:[E.jsxs("section",{id:"search",className:$r.search,children:[E.jsx("h3",{children:"What do you need?"}),E.jsx("input",{type:"search",ref:r,name:"search",id:"search",placeholder:"search"}),E.jsx("button",{onClick:f,children:"🔍"})]}),E.jsxs("section",{id:"posts",className:$r.posts,children:[E.jsxs("div",{id:"post",className:$r.post,children:[E.jsxs("div",{id:"meta",className:$r.meta,children:[E.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Profile image"}),E.jsx("h4",{children:"Author"}),E.jsx("p",{children:"Date"})]}),E.jsx("p",{children:"Text content. This is my first post is text content, which is going to become viral!"}),E.jsx("img",{src:"https://images.indianexpress.com/2017/12/2017-viral-photos-main_759_combo.jpg?w=350",alt:"Img or Video"}),E.jsxs("div",{id:"feedback",className:$r.feedback,children:[E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-comment"}),E.jsx("span",{children:"5"})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-heart"}),E.jsx("span",{children:"12"})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-solid fa-magnifying-glass"}),E.jsx("span",{children:"57"})]})]})]}),o.length>0?o.map((m,p)=>{const y=m.meta.date.toDate();return E.jsxs("div",{id:"post",className:$r.post,children:[E.jsxs("div",{id:"meta",className:$r.meta,children:[E.jsx("img",{src:m.meta.img,alt:"Profile image"}),E.jsx("h4",{children:m.meta.author}),E.jsx("p",{children:y.toLocaleDateString()})]}),E.jsx("p",{children:m.content}),E.jsx("img",{src:m.img,alt:"Img or Video"}),E.jsxs("div",{id:"feedback",className:$r.feedback,children:[E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-comment"}),E.jsx("span",{children:m.feedback.comments})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-heart"}),E.jsx("span",{children:m.feedback.likes})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-solid fa-magnifying-glass"}),E.jsx("span",{children:m.feedback.views})]})]})]},p)}):E.jsx("p",{children:"No posts found"})]})]})}function dE({children:r}){return E.jsxs("div",{className:fE.container,children:[E.jsx(oO,{}),E.jsx("main",{className:fE.main,children:E.jsx(Ow,{})})]})}function dO(){return E.jsx(l2,{children:E.jsxs(Vw,{children:[E.jsx(hi,{path:"/react-regular-exam",element:E.jsx(Cb,{})}),E.jsx(hi,{path:"/react-regular-exam/guest",element:E.jsx($x,{})}),E.jsx(hi,{path:"/react-regular-exam/login",element:E.jsx(u2,{})}),E.jsx(hi,{path:"/react-regular-exam/login/pass",element:E.jsx(x2,{})}),E.jsx(hi,{path:"/react-regular-exam/create",element:E.jsx(Q2,{})}),E.jsx(hi,{path:"/react-regular-exam/create/submit",element:E.jsx(nO,{})}),E.jsx(hi,{path:"/react-regular-exam/post",element:E.jsx(dE,{})}),E.jsx(hi,{path:"/react-regular-exam/*",element:E.jsx(dE,{}),children:E.jsx(hi,{path:"welcome",element:E.jsx(fO,{})})})]})})}BS.createRoot(document.getElementById("root")).render(E.jsx(G.StrictMode,{children:E.jsx(ib,{children:E.jsx(dO,{})})}));
