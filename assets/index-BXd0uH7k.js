(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var sm={exports:{}},Bl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function pb(){if(iv)return Bl;iv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Bl.Fragment=e,Bl.jsx=n,Bl.jsxs=n,Bl}var rv;function gb(){return rv||(rv=1,sm.exports=pb()),sm.exports}var y=gb(),am={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function _b(){if(sv)return Ce;sv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.iterator;function R(M){return M===null||typeof M!="object"?null:(M=b&&M[b]||M["@@iterator"],typeof M=="function"?M:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,Q={};function q(M,ne,de){this.props=M,this.context=ne,this.refs=Q,this.updater=de||O}q.prototype.isReactComponent={},q.prototype.setState=function(M,ne){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,ne,"setState")},q.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function G(){}G.prototype=q.prototype;function J(M,ne,de){this.props=M,this.context=ne,this.refs=Q,this.updater=de||O}var K=J.prototype=new G;K.constructor=J,j(K,q.prototype),K.isPureReactComponent=!0;var re=Array.isArray,se={H:null,A:null,T:null,S:null},ce=Object.prototype.hasOwnProperty;function k(M,ne,de,oe,le,Ie){return de=Ie.ref,{$$typeof:r,type:M,key:ne,ref:de!==void 0?de:null,props:Ie}}function C(M,ne){return k(M.type,ne,void 0,void 0,void 0,M.props)}function A(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function D(M){var ne={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(de){return ne[de]})}var x=/\/+/g;function V(M,ne){return typeof M=="object"&&M!==null&&M.key!=null?D(""+M.key):ne.toString(36)}function N(){}function tt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(N,N):(M.status="pending",M.then(function(ne){M.status==="pending"&&(M.status="fulfilled",M.value=ne)},function(ne){M.status==="pending"&&(M.status="rejected",M.reason=ne)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function _t(M,ne,de,oe,le){var Ie=typeof M;(Ie==="undefined"||Ie==="boolean")&&(M=null);var Re=!1;if(M===null)Re=!0;else switch(Ie){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(M.$$typeof){case r:case e:Re=!0;break;case T:return Re=M._init,_t(Re(M._payload),ne,de,oe,le)}}if(Re)return le=le(M),Re=oe===""?"."+V(M,0):oe,re(le)?(de="",Re!=null&&(de=Re.replace(x,"$&/")+"/"),_t(le,ne,de,"",function(lt){return lt})):le!=null&&(A(le)&&(le=C(le,de+(le.key==null||M&&M.key===le.key?"":(""+le.key).replace(x,"$&/")+"/")+Re)),ne.push(le)),1;Re=0;var yt=oe===""?".":oe+":";if(re(M))for(var Be=0;Be<M.length;Be++)oe=M[Be],Ie=yt+V(oe,Be),Re+=_t(oe,ne,de,Ie,le);else if(Be=R(M),typeof Be=="function")for(M=Be.call(M),Be=0;!(oe=M.next()).done;)oe=oe.value,Ie=yt+V(oe,Be++),Re+=_t(oe,ne,de,Ie,le);else if(Ie==="object"){if(typeof M.then=="function")return _t(tt(M),ne,de,oe,le);throw ne=String(M),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Re}function ae(M,ne,de){if(M==null)return M;var oe=[],le=0;return _t(M,oe,"","",function(Ie){return ne.call(de,Ie,le++)}),oe}function Te(M){if(M._status===-1){var ne=M._result;ne=ne(),ne.then(function(de){(M._status===0||M._status===-1)&&(M._status=1,M._result=de)},function(de){(M._status===0||M._status===-1)&&(M._status=2,M._result=de)}),M._status===-1&&(M._status=0,M._result=ne)}if(M._status===1)return M._result.default;throw M._result}var ge=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function Ge(){}return Ce.Children={map:ae,forEach:function(M,ne,de){ae(M,function(){ne.apply(this,arguments)},de)},count:function(M){var ne=0;return ae(M,function(){ne++}),ne},toArray:function(M){return ae(M,function(ne){return ne})||[]},only:function(M){if(!A(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ce.Component=q,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=J,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,Ce.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ce.cache=function(M){return function(){return M.apply(null,arguments)}},Ce.cloneElement=function(M,ne,de){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var oe=j({},M.props),le=M.key,Ie=void 0;if(ne!=null)for(Re in ne.ref!==void 0&&(Ie=void 0),ne.key!==void 0&&(le=""+ne.key),ne)!ce.call(ne,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ne.ref===void 0||(oe[Re]=ne[Re]);var Re=arguments.length-2;if(Re===1)oe.children=de;else if(1<Re){for(var yt=Array(Re),Be=0;Be<Re;Be++)yt[Be]=arguments[Be+2];oe.children=yt}return k(M.type,le,void 0,void 0,Ie,oe)},Ce.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},Ce.createElement=function(M,ne,de){var oe,le={},Ie=null;if(ne!=null)for(oe in ne.key!==void 0&&(Ie=""+ne.key),ne)ce.call(ne,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(le[oe]=ne[oe]);var Re=arguments.length-2;if(Re===1)le.children=de;else if(1<Re){for(var yt=Array(Re),Be=0;Be<Re;Be++)yt[Be]=arguments[Be+2];le.children=yt}if(M&&M.defaultProps)for(oe in Re=M.defaultProps,Re)le[oe]===void 0&&(le[oe]=Re[oe]);return k(M,Ie,void 0,void 0,null,le)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(M){return{$$typeof:m,render:M}},Ce.isValidElement=A,Ce.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:Te}},Ce.memo=function(M,ne){return{$$typeof:_,type:M,compare:ne===void 0?null:ne}},Ce.startTransition=function(M){var ne=se.T,de={};se.T=de;try{var oe=M(),le=se.S;le!==null&&le(de,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Ge,ge)}catch(Ie){ge(Ie)}finally{se.T=ne}},Ce.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},Ce.use=function(M){return se.H.use(M)},Ce.useActionState=function(M,ne,de){return se.H.useActionState(M,ne,de)},Ce.useCallback=function(M,ne){return se.H.useCallback(M,ne)},Ce.useContext=function(M){return se.H.useContext(M)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(M,ne){return se.H.useDeferredValue(M,ne)},Ce.useEffect=function(M,ne){return se.H.useEffect(M,ne)},Ce.useId=function(){return se.H.useId()},Ce.useImperativeHandle=function(M,ne,de){return se.H.useImperativeHandle(M,ne,de)},Ce.useInsertionEffect=function(M,ne){return se.H.useInsertionEffect(M,ne)},Ce.useLayoutEffect=function(M,ne){return se.H.useLayoutEffect(M,ne)},Ce.useMemo=function(M,ne){return se.H.useMemo(M,ne)},Ce.useOptimistic=function(M,ne){return se.H.useOptimistic(M,ne)},Ce.useReducer=function(M,ne,de){return se.H.useReducer(M,ne,de)},Ce.useRef=function(M){return se.H.useRef(M)},Ce.useState=function(M){return se.H.useState(M)},Ce.useSyncExternalStore=function(M,ne,de){return se.H.useSyncExternalStore(M,ne,de)},Ce.useTransition=function(){return se.H.useTransition()},Ce.version="19.0.0",Ce}var av;function Jm(){return av||(av=1,am.exports=_b()),am.exports}var U=Jm(),om={exports:{}},Hl={},lm={exports:{}},um={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function yb(){return ov||(ov=1,function(r){function e(ae,Te){var ge=ae.length;ae.push(Te);e:for(;0<ge;){var Ge=ge-1>>>1,M=ae[Ge];if(0<o(M,Te))ae[Ge]=Te,ae[ge]=M,ge=Ge;else break e}}function n(ae){return ae.length===0?null:ae[0]}function s(ae){if(ae.length===0)return null;var Te=ae[0],ge=ae.pop();if(ge!==Te){ae[0]=ge;e:for(var Ge=0,M=ae.length,ne=M>>>1;Ge<ne;){var de=2*(Ge+1)-1,oe=ae[de],le=de+1,Ie=ae[le];if(0>o(oe,ge))le<M&&0>o(Ie,oe)?(ae[Ge]=Ie,ae[le]=ge,Ge=le):(ae[Ge]=oe,ae[de]=ge,Ge=de);else if(le<M&&0>o(Ie,ge))ae[Ge]=Ie,ae[le]=ge,Ge=le;else break e}}return Te}function o(ae,Te){var ge=ae.sortIndex-Te.sortIndex;return ge!==0?ge:ae.id-Te.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],_=[],T=1,b=null,R=3,O=!1,j=!1,Q=!1,q=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;function K(ae){for(var Te=n(_);Te!==null;){if(Te.callback===null)s(_);else if(Te.startTime<=ae)s(_),Te.sortIndex=Te.expirationTime,e(p,Te);else break;Te=n(_)}}function re(ae){if(Q=!1,K(ae),!j)if(n(p)!==null)j=!0,tt();else{var Te=n(_);Te!==null&&_t(re,Te.startTime-ae)}}var se=!1,ce=-1,k=5,C=-1;function A(){return!(r.unstable_now()-C<k)}function D(){if(se){var ae=r.unstable_now();C=ae;var Te=!0;try{e:{j=!1,Q&&(Q=!1,G(ce),ce=-1),O=!0;var ge=R;try{t:{for(K(ae),b=n(p);b!==null&&!(b.expirationTime>ae&&A());){var Ge=b.callback;if(typeof Ge=="function"){b.callback=null,R=b.priorityLevel;var M=Ge(b.expirationTime<=ae);if(ae=r.unstable_now(),typeof M=="function"){b.callback=M,K(ae),Te=!0;break t}b===n(p)&&s(p),K(ae)}else s(p);b=n(p)}if(b!==null)Te=!0;else{var ne=n(_);ne!==null&&_t(re,ne.startTime-ae),Te=!1}}break e}finally{b=null,R=ge,O=!1}Te=void 0}}finally{Te?x():se=!1}}}var x;if(typeof J=="function")x=function(){J(D)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,N=V.port2;V.port1.onmessage=D,x=function(){N.postMessage(null)}}else x=function(){q(D,0)};function tt(){se||(se=!0,x())}function _t(ae,Te){ce=q(function(){ae(r.unstable_now())},Te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ae){ae.callback=null},r.unstable_continueExecution=function(){j||O||(j=!0,tt())},r.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ae?Math.floor(1e3/ae):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(ae){switch(R){case 1:case 2:case 3:var Te=3;break;default:Te=R}var ge=R;R=Te;try{return ae()}finally{R=ge}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ae,Te){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ge=R;R=ae;try{return Te()}finally{R=ge}},r.unstable_scheduleCallback=function(ae,Te,ge){var Ge=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ge+ge:Ge):ge=Ge,ae){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=ge+M,ae={id:T++,callback:Te,priorityLevel:ae,startTime:ge,expirationTime:M,sortIndex:-1},ge>Ge?(ae.sortIndex=ge,e(_,ae),n(p)===null&&ae===n(_)&&(Q?(G(ce),ce=-1):Q=!0,_t(re,ge-Ge))):(ae.sortIndex=M,e(p,ae),j||O||(j=!0,tt())),ae},r.unstable_shouldYield=A,r.unstable_wrapCallback=function(ae){var Te=R;return function(){var ge=R;R=Te;try{return ae.apply(this,arguments)}finally{R=ge}}}}(um)),um}var lv;function vb(){return lv||(lv=1,lm.exports=yb()),lm.exports}var cm={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function Eb(){if(uv)return Wt;uv=1;var r=Jm();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,_,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:_,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(p,_,null,T)},Wt.flushSync=function(p){var _=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=_,s.p=T,s.d.f()}},Wt.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,b=m(T,_.crossOrigin),R=typeof _.integrity=="string"?_.integrity:void 0,O=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:R,fetchPriority:O}):T==="script"&&s.d.X(p,{crossOrigin:b,integrity:R,fetchPriority:O,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Wt.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=m(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},Wt.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,b=m(T,_.crossOrigin);s.d.L(p,T,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Wt.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=m(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,_){return p(_)},Wt.useFormState=function(p,_,T){return f.H.useFormState(p,_,T)},Wt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Wt.version="19.0.0",Wt}var cv;function Tb(){if(cv)return cm.exports;cv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),cm.exports=Eb(),cm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function wb(){if(hv)return Hl;hv=1;var r=vb(),e=Jm(),n=Tb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),O=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),re=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function ce(t){return t===null||typeof t!="object"?null:(t=se&&t[se]||t["@@iterator"],typeof t=="function"?t:null)}var k=Symbol.for("react.client.reference");function C(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===k?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case T:return"Profiler";case _:return"StrictMode";case Q:return"Suspense";case q:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case O:return(t.displayName||"Context")+".Provider";case R:return(t._context.displayName||"Context")+".Consumer";case j:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case G:return i=t.displayName||null,i!==null?i:C(t.type)||"Memo";case J:i=t._payload,t=t._init;try{return C(t(i))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,x,V;function N(t){if(x===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);x=i&&i[1]||"",V=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+x+t+V}var tt=!1;function _t(t,i){if(!t||tt)return"";tt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Y){var F=Y}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Y){F=Y}t.call(ee.prototype)}}else{try{throw Error()}catch(Y){F=Y}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Y){if(Y&&F&&typeof Y.stack=="string")return[Y.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],w=d[1];if(E&&w){var I=E.split(`
`),L=w.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===L.length)for(l=I.length-1,h=L.length-1;1<=l&&0<=h&&I[l]!==L[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==L[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==L[h]){var X=`
`+I[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{tt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?N(a):""}function ae(t){switch(t.tag){case 26:case 27:case 5:return N(t.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return t=_t(t.type,!1),t;case 11:return t=_t(t.type.render,!1),t;case 1:return t=_t(t.type,!0),t;default:return""}}function Te(t){try{var i="";do i+=ae(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ge(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function Ge(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function M(t){if(ge(t)!==t)throw Error(s(188))}function ne(t){var i=t.alternate;if(!i){if(i=ge(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return M(h),t;if(d===l)return M(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,w=h.child;w;){if(w===a){E=!0,a=h,l=d;break}if(w===l){E=!0,l=h,a=d;break}w=w.sibling}if(!E){for(w=d.child;w;){if(w===a){E=!0,a=d,l=h;break}if(w===l){E=!0,l=d,a=h;break}w=w.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function de(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=de(t),i!==null)return i;t=t.sibling}return null}var oe=Array.isArray,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},Re=[],yt=-1;function Be(t){return{current:t}}function lt(t){0>yt||(t.current=Re[yt],Re[yt]=null,yt--)}function Qe(t,i){yt++,Re[yt]=t.current,t.current=i}var sn=Be(null),ki=Be(null),On=Be(null),Tr=Be(null);function wr(t,i){switch(Qe(On,i),Qe(ki,t),Qe(sn,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Oy(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=Oy(t),i=My(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}lt(sn),Qe(sn,i)}function Pi(){lt(sn),lt(ki),lt(On)}function Vo(t){t.memoizedState!==null&&Qe(Tr,t);var i=sn.current,a=My(i,t.type);i!==a&&(Qe(ki,t),Qe(sn,a))}function ya(t){ki.current===t&&(lt(sn),lt(ki)),Tr.current===t&&(lt(Tr),Vl._currentValue=Ie)}var va=Object.prototype.hasOwnProperty,Cs=r.unstable_scheduleCallback,Ea=r.unstable_cancelCallback,of=r.unstable_shouldYield,jo=r.unstable_requestPaint,pn=r.unstable_now,Cu=r.unstable_getCurrentPriorityLevel,bt=r.unstable_ImmediatePriority,Mt=r.unstable_UserBlockingPriority,Vi=r.unstable_NormalPriority,Iu=r.unstable_LowPriority,Lo=r.unstable_IdlePriority,lf=r.log,Is=r.unstable_setDisableYieldValue,Sr=null,Yt=null;function Uo(t){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Sr,t,void 0,(t.current.flags&128)===128)}catch{}}function oi(t){if(typeof lf=="function"&&Is(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(Sr,t)}catch{}}var an=Math.clz32?Math.clz32:Nu,zo=Math.log,xu=Math.LN2;function Nu(t){return t>>>=0,t===0?32:31-(zo(t)/xu|0)|0}var li=128,br=4194304;function Zn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Mn(t,i){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,E=t.warmLanes;t=t.finishedLanes!==0;var w=a&134217727;return w!==0?(a=w&~h,a!==0?l=Zn(a):(d&=w,d!==0?l=Zn(d):t||(E=w&~E,E!==0&&(l=Zn(E))))):(w=a&~h,w!==0?l=Zn(w):d!==0?l=Zn(d):t||(E=a&~E,E!==0&&(l=Zn(E)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,E=i&-i,h>=E||h===32&&(E&4194176)!==0)?i:l}function Ar(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ta(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bo(){var t=li;return li<<=1,(li&4194176)===0&&(li=128),t}function Rr(){var t=br;return br<<=1,(br&62914560)===0&&(br=4194304),t}function wa(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function mt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Du(t,i,a,l,h,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,I=t.expirationTimes,L=t.hiddenUpdates;for(a=E&~a;0<a;){var X=31-an(a),ee=1<<X;w[X]=0,I[X]=-1;var F=L[X];if(F!==null)for(L[X]=null,X=0;X<F.length;X++){var Y=F[X];Y!==null&&(Y.lane&=-536870913)}a&=~ee}l!==0&&Cr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~i))}function Cr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-an(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function Ir(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-an(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Ou(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Mu(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:Wy(t.type))}function xr(t,i){var a=le.p;try{return le.p=t,i()}finally{le.p=a}}var ui=Math.random().toString(36).slice(2),kt="__reactFiber$"+ui,At="__reactProps$"+ui,ji="__reactContainer$"+ui,xs="__reactEvents$"+ui,Sa="__reactListeners$"+ui,ci="__reactHandles$"+ui,Ho="__reactResources$"+ui,Nr="__reactMarker$"+ui;function Ns(t){delete t[kt],delete t[At],delete t[xs],delete t[Sa],delete t[ci]}function Jn(t){var i=t[kt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ji]||a[kt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Vy(t);t!==null;){if(a=t[kt])return a;t=Vy(t)}return i}t=a,a=t.parentNode}return null}function Li(t){if(t=t[kt]||t[ji]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Dr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Or(t){var i=t[Ho];return i||(i=t[Ho]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function it(t){t[Nr]=!0}var qo=new Set,ba={};function Sn(t,i){gn(t,i),gn(t+"Capture",i)}function gn(t,i){for(ba[t]=i,t=0;t<i.length;t++)qo.add(i[t])}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fo={},Go={};function ku(t){return va.call(Go,t)?!0:va.call(Fo,t)?!1:uf.test(t)?Go[t]=!0:(Fo[t]=!0,!1)}function Mr(t,i,a){if(ku(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function kr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function kn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function on(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Pu(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function cf(t){var i=Pu(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ds(t){t._valueTracker||(t._valueTracker=cf(t))}function $o(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Pu(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Aa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ui=/[\n"\\]/g;function ut(t){return t.replace(Ui,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Pr(t,i,a,l,h,d,E,w){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+on(i)):t.value!==""+on(i)&&(t.value=""+on(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?Ra(t,E,on(i)):a!=null?Ra(t,E,on(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+on(w):t.removeAttribute("name")}function Os(t,i,a,l,h,d,E,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+on(a):"",i=i!=null?""+on(i):a,w||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function Ra(t,i,a){i==="number"&&Aa(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function He(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+on(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ms(t,i,a){if(i!=null&&(i=""+on(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+on(a):""}function Vr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=on(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Pn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var hf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ko(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||hf.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Vu(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Ko(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Ko(t,d,i[d])}function Qo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ff=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),df=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hi(t){return df.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Vn=null;function Ca(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zi=null,Bi=null;function Hi(t){var i=Li(t);if(i&&(t=i.stateNode)){var a=t[At]||null;e:switch(t=i.stateNode,i.type){case"input":if(Pr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ut(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[At]||null;if(!h)throw Error(s(90));Pr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&$o(l)}break e;case"textarea":Ms(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&He(t,!!a.multiple,i,!1)}}}var Yo=!1;function ju(t,i,a){if(Yo)return t(i,a);Yo=!0;try{var l=t(i);return l}finally{if(Yo=!1,(zi!==null||Bi!==null)&&(Ic(),zi&&(i=zi,t=Bi,Bi=zi=null,Hi(i),t)))for(i=0;i<t.length;i++)Hi(t[i])}}function ks(t,i){var a=t.stateNode;if(a===null)return null;var l=a[At]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var jn=!1;if(bn)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){jn=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{jn=!1}var fi=null,jr=null,qi=null;function Xo(){if(qi)return qi;var t,i=jr,a=i.length,l,h="value"in fi?fi.value:fi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var E=a-t;for(l=1;l<=E&&i[a-l]===h[d-l];l++);return qi=h.slice(t,1<l?1-l:void 0)}function di(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function mi(){return!0}function Wo(){return!1}function Pt(t){function i(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?mi:Wo,this.isPropagationStopped=Wo,this}return D(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),i}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=Pt($e),Vs=D({},$e,{view:0,detail:0}),Lu=Pt(Vs),xa,Na,pi,js=D({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pi&&(pi&&t.type==="mousemove"?(xa=t.screenX-pi.screenX,Na=t.screenY-pi.screenY):Na=xa=0,pi=t),xa)},movementY:function(t){return"movementY"in t?t.movementY:Na}}),Ln=Pt(js),Uu=D({},js,{dataTransfer:0}),mf=Pt(Uu),Ls=D({},Vs,{relatedTarget:0}),Da=Pt(Ls),Zo=D({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),Oa=Pt(Zo),zu=D({},$e,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ma=Pt(zu),pf=D({},$e,{data:0}),Jo=Pt(pf),Us={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function el(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Hu[t])?!!i[t]:!1}function zs(){return el}var qu=D({},Vs,{key:function(t){if(t.key){var i=Us[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=di(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zs,charCode:function(t){return t.type==="keypress"?di(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?di(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ka=Pt(qu),Fu=D({},js,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tl=Pt(Fu),Fi=D({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zs}),Gu=Pt(Fi),$u=D({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ku=Pt($u),Qu=D({},js,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pa=Pt(Qu),ln=D({},$e,{newState:0,oldState:0}),Yu=Pt(ln),Xu=[9,13,27,32],gi=bn&&"CompositionEvent"in window,c=null;bn&&"documentMode"in document&&(c=document.documentMode);var g=bn&&"TextEvent"in window&&!c,v=bn&&(!gi||c&&8<c&&11>=c),S=" ",B=!1;function $(t,i){switch(t){case"keyup":return Xu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var je=!1;function Rt(t,i){switch(t){case"compositionend":return ie(i);case"keypress":return i.which!==32?null:(B=!0,S);case"textInput":return t=i.data,t===S&&B?null:t;default:return null}}function Le(t,i){if(je)return t==="compositionend"||!gi&&$(t,i)?(t=Xo(),qi=jr=fi=null,je=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ct(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Vt[t.type]:i==="textarea"}function Gi(t,i,a,l){zi?Bi?Bi.push(l):Bi=[l]:zi=l,i=Mc(i,"onChange"),0<i.length&&(a=new Ia("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Bt=null,_i=null;function nl(t){Cy(t,0)}function Wu(t){var i=Dr(t);if($o(i))return t}function ng(t,i){if(t==="change")return i}var ig=!1;if(bn){var gf;if(bn){var _f="oninput"in document;if(!_f){var rg=document.createElement("div");rg.setAttribute("oninput","return;"),_f=typeof rg.oninput=="function"}gf=_f}else gf=!1;ig=gf&&(!document.documentMode||9<document.documentMode)}function sg(){Bt&&(Bt.detachEvent("onpropertychange",ag),_i=Bt=null)}function ag(t){if(t.propertyName==="value"&&Wu(_i)){var i=[];Gi(i,_i,t,Ca(t)),ju(nl,i)}}function Gw(t,i,a){t==="focusin"?(sg(),Bt=i,_i=a,Bt.attachEvent("onpropertychange",ag)):t==="focusout"&&sg()}function $w(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wu(_i)}function Kw(t,i){if(t==="click")return Wu(i)}function Qw(t,i){if(t==="input"||t==="change")return Wu(i)}function Yw(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var An=typeof Object.is=="function"?Object.is:Yw;function il(t,i){if(An(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!va.call(i,h)||!An(t[h],i[h]))return!1}return!0}function og(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lg(t,i){var a=og(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=og(a)}}function ug(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?ug(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function cg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Aa(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Aa(t.document)}return i}function yf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function Xw(t,i){var a=cg(i);i=t.focusedElem;var l=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&ug(i.ownerDocument.documentElement,i)){if(l!==null&&yf(i)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=lg(i,d);var E=lg(i,l);h&&E&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==E.node||a.focusOffset!==E.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(E.node,E.offset)):(t.setEnd(E.node,E.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Ww=bn&&"documentMode"in document&&11>=document.documentMode,Va=null,vf=null,rl=null,Ef=!1;function hg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Ef||Va==null||Va!==Aa(l)||(l=Va,"selectionStart"in l&&yf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),rl&&il(rl,l)||(rl=l,l=Mc(vf,"onSelect"),0<l.length&&(i=new Ia("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Va)))}function Bs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ja={animationend:Bs("Animation","AnimationEnd"),animationiteration:Bs("Animation","AnimationIteration"),animationstart:Bs("Animation","AnimationStart"),transitionrun:Bs("Transition","TransitionRun"),transitionstart:Bs("Transition","TransitionStart"),transitioncancel:Bs("Transition","TransitionCancel"),transitionend:Bs("Transition","TransitionEnd")},Tf={},fg={};bn&&(fg=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Hs(t){if(Tf[t])return Tf[t];if(!ja[t])return t;var i=ja[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in fg)return Tf[t]=i[a];return t}var dg=Hs("animationend"),mg=Hs("animationiteration"),pg=Hs("animationstart"),Zw=Hs("transitionrun"),Jw=Hs("transitionstart"),eS=Hs("transitioncancel"),gg=Hs("transitionend"),_g=new Map,yg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ei(t,i){_g.set(t,i),Sn(i,[t])}var Un=[],La=0,wf=0;function Zu(){for(var t=La,i=wf=La=0;i<t;){var a=Un[i];Un[i++]=null;var l=Un[i];Un[i++]=null;var h=Un[i];Un[i++]=null;var d=Un[i];if(Un[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&vg(a,h,d)}}function Ju(t,i,a,l){Un[La++]=t,Un[La++]=i,Un[La++]=a,Un[La++]=l,wf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Sf(t,i,a,l){return Ju(t,i,a,l),ec(t)}function Lr(t,i){return Ju(t,null,null,i),ec(t)}function vg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&i!==null&&t.tag===3&&(d=t.stateNode,h=31-an(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[i]:t.push(i),i.lane=a|536870912)}function ec(t){if(50<xl)throw xl=0,xd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ua={},Eg=new WeakMap;function zn(t,i){if(typeof t=="object"&&t!==null){var a=Eg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Te(i)},Eg.set(t,i),i)}return{value:t,source:i,stack:Te(i)}}var za=[],Ba=0,tc=null,nc=0,Bn=[],Hn=0,qs=null,$i=1,Ki="";function Fs(t,i){za[Ba++]=nc,za[Ba++]=tc,tc=t,nc=i}function Tg(t,i,a){Bn[Hn++]=$i,Bn[Hn++]=Ki,Bn[Hn++]=qs,qs=t;var l=$i;t=Ki;var h=32-an(l)-1;l&=~(1<<h),a+=1;var d=32-an(i)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,$i=1<<32-an(i)+h|a<<h|l,Ki=d+t}else $i=1<<d|a<<h|l,Ki=t}function bf(t){t.return!==null&&(Fs(t,1),Tg(t,1,0))}function Af(t){for(;t===tc;)tc=za[--Ba],za[Ba]=null,nc=za[--Ba],za[Ba]=null;for(;t===qs;)qs=Bn[--Hn],Bn[Hn]=null,Ki=Bn[--Hn],Bn[Hn]=null,$i=Bn[--Hn],Bn[Hn]=null}var un=null,Ht=null,qe=!1,ti=null,yi=!1,Rf=Error(s(519));function Gs(t){var i=Error(s(418,""));throw ol(zn(i,t)),Rf}function wg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[kt]=t,i[At]=l,a){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(a=0;a<Dl.length;a++)Pe(Dl[a],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),Os(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ds(i);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),Vr(i,l.value,l.defaultValue,l.children),Ds(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Dy(i.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),l.onScroll!=null&&Pe("scroll",i),l.onScrollEnd!=null&&Pe("scrollend",i),l.onClick!=null&&(i.onclick=kc),i=!0):i=!1,i||Gs(t)}function Sg(t){for(un=t.return;un;)switch(un.tag){case 3:case 27:yi=!0;return;case 5:case 13:yi=!1;return;default:un=un.return}}function sl(t){if(t!==un)return!1;if(!qe)return Sg(t),qe=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||$d(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&Ht&&Gs(t),Sg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Ht=ii(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Ht=null}}else Ht=un?ii(t.stateNode.nextSibling):null;return!0}function al(){Ht=un=null,qe=!1}function ol(t){ti===null?ti=[t]:ti.push(t)}var ll=Error(s(460)),bg=Error(s(474)),Cf={then:function(){}};function Ag(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ic(){}function Rg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ic,ic),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===ll?Error(s(483)):t;default:if(typeof i.status=="string")i.then(ic,ic);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===ll?Error(s(483)):t}throw ul=i,ll}}var ul=null;function Cg(){if(ul===null)throw Error(s(459));var t=ul;return ul=null,t}var Ha=null,cl=0;function rc(t){var i=cl;return cl+=1,Ha===null&&(Ha=[]),Rg(Ha,t,i)}function hl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function sc(t,i){throw i.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ig(t){var i=t._init;return i(t._payload)}function xg(t){function i(z,P){if(t){var H=z.deletions;H===null?(z.deletions=[P],z.flags|=16):H.push(P)}}function a(z,P){if(!t)return null;for(;P!==null;)i(z,P),P=P.sibling;return null}function l(z){for(var P=new Map;z!==null;)z.key!==null?P.set(z.key,z):P.set(z.index,z),z=z.sibling;return P}function h(z,P){return z=Xr(z,P),z.index=0,z.sibling=null,z}function d(z,P,H){return z.index=H,t?(H=z.alternate,H!==null?(H=H.index,H<P?(z.flags|=33554434,P):H):(z.flags|=33554434,P)):(z.flags|=1048576,P)}function E(z){return t&&z.alternate===null&&(z.flags|=33554434),z}function w(z,P,H,W){return P===null||P.tag!==6?(P=Td(H,z.mode,W),P.return=z,P):(P=h(P,H),P.return=z,P)}function I(z,P,H,W){var he=H.type;return he===p?X(z,P,H.props.children,W,H.key):P!==null&&(P.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===J&&Ig(he)===P.type)?(P=h(P,H.props),hl(P,H),P.return=z,P):(P=Sc(H.type,H.key,H.props,null,z.mode,W),hl(P,H),P.return=z,P)}function L(z,P,H,W){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=wd(H,z.mode,W),P.return=z,P):(P=h(P,H.children||[]),P.return=z,P)}function X(z,P,H,W,he){return P===null||P.tag!==7?(P=ta(H,z.mode,W,he),P.return=z,P):(P=h(P,H),P.return=z,P)}function ee(z,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Td(""+P,z.mode,H),P.return=z,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case f:return H=Sc(P.type,P.key,P.props,null,z.mode,H),hl(H,P),H.return=z,H;case m:return P=wd(P,z.mode,H),P.return=z,P;case J:var W=P._init;return P=W(P._payload),ee(z,P,H)}if(oe(P)||ce(P))return P=ta(P,z.mode,H,null),P.return=z,P;if(typeof P.then=="function")return ee(z,rc(P),H);if(P.$$typeof===O)return ee(z,Ec(z,P),H);sc(z,P)}return null}function F(z,P,H,W){var he=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return he!==null?null:w(z,P,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case f:return H.key===he?I(z,P,H,W):null;case m:return H.key===he?L(z,P,H,W):null;case J:return he=H._init,H=he(H._payload),F(z,P,H,W)}if(oe(H)||ce(H))return he!==null?null:X(z,P,H,W,null);if(typeof H.then=="function")return F(z,P,rc(H),W);if(H.$$typeof===O)return F(z,P,Ec(z,H),W);sc(z,H)}return null}function Y(z,P,H,W,he){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return z=z.get(H)||null,w(P,z,""+W,he);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case f:return z=z.get(W.key===null?H:W.key)||null,I(P,z,W,he);case m:return z=z.get(W.key===null?H:W.key)||null,L(P,z,W,he);case J:var Ne=W._init;return W=Ne(W._payload),Y(z,P,H,W,he)}if(oe(W)||ce(W))return z=z.get(H)||null,X(P,z,W,he,null);if(typeof W.then=="function")return Y(z,P,H,rc(W),he);if(W.$$typeof===O)return Y(z,P,H,Ec(P,W),he);sc(P,W)}return null}function fe(z,P,H,W){for(var he=null,Ne=null,pe=P,ve=P=0,Ut=null;pe!==null&&ve<H.length;ve++){pe.index>ve?(Ut=pe,pe=null):Ut=pe.sibling;var Fe=F(z,pe,H[ve],W);if(Fe===null){pe===null&&(pe=Ut);break}t&&pe&&Fe.alternate===null&&i(z,pe),P=d(Fe,P,ve),Ne===null?he=Fe:Ne.sibling=Fe,Ne=Fe,pe=Ut}if(ve===H.length)return a(z,pe),qe&&Fs(z,ve),he;if(pe===null){for(;ve<H.length;ve++)pe=ee(z,H[ve],W),pe!==null&&(P=d(pe,P,ve),Ne===null?he=pe:Ne.sibling=pe,Ne=pe);return qe&&Fs(z,ve),he}for(pe=l(pe);ve<H.length;ve++)Ut=Y(pe,z,ve,H[ve],W),Ut!==null&&(t&&Ut.alternate!==null&&pe.delete(Ut.key===null?ve:Ut.key),P=d(Ut,P,ve),Ne===null?he=Ut:Ne.sibling=Ut,Ne=Ut);return t&&pe.forEach(function(is){return i(z,is)}),qe&&Fs(z,ve),he}function be(z,P,H,W){if(H==null)throw Error(s(151));for(var he=null,Ne=null,pe=P,ve=P=0,Ut=null,Fe=H.next();pe!==null&&!Fe.done;ve++,Fe=H.next()){pe.index>ve?(Ut=pe,pe=null):Ut=pe.sibling;var is=F(z,pe,Fe.value,W);if(is===null){pe===null&&(pe=Ut);break}t&&pe&&is.alternate===null&&i(z,pe),P=d(is,P,ve),Ne===null?he=is:Ne.sibling=is,Ne=is,pe=Ut}if(Fe.done)return a(z,pe),qe&&Fs(z,ve),he;if(pe===null){for(;!Fe.done;ve++,Fe=H.next())Fe=ee(z,Fe.value,W),Fe!==null&&(P=d(Fe,P,ve),Ne===null?he=Fe:Ne.sibling=Fe,Ne=Fe);return qe&&Fs(z,ve),he}for(pe=l(pe);!Fe.done;ve++,Fe=H.next())Fe=Y(pe,z,ve,Fe.value,W),Fe!==null&&(t&&Fe.alternate!==null&&pe.delete(Fe.key===null?ve:Fe.key),P=d(Fe,P,ve),Ne===null?he=Fe:Ne.sibling=Fe,Ne=Fe);return t&&pe.forEach(function(mb){return i(z,mb)}),qe&&Fs(z,ve),he}function ft(z,P,H,W){if(typeof H=="object"&&H!==null&&H.type===p&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case f:e:{for(var he=H.key;P!==null;){if(P.key===he){if(he=H.type,he===p){if(P.tag===7){a(z,P.sibling),W=h(P,H.props.children),W.return=z,z=W;break e}}else if(P.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===J&&Ig(he)===P.type){a(z,P.sibling),W=h(P,H.props),hl(W,H),W.return=z,z=W;break e}a(z,P);break}else i(z,P);P=P.sibling}H.type===p?(W=ta(H.props.children,z.mode,W,H.key),W.return=z,z=W):(W=Sc(H.type,H.key,H.props,null,z.mode,W),hl(W,H),W.return=z,z=W)}return E(z);case m:e:{for(he=H.key;P!==null;){if(P.key===he)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){a(z,P.sibling),W=h(P,H.children||[]),W.return=z,z=W;break e}else{a(z,P);break}else i(z,P);P=P.sibling}W=wd(H,z.mode,W),W.return=z,z=W}return E(z);case J:return he=H._init,H=he(H._payload),ft(z,P,H,W)}if(oe(H))return fe(z,P,H,W);if(ce(H)){if(he=ce(H),typeof he!="function")throw Error(s(150));return H=he.call(H),be(z,P,H,W)}if(typeof H.then=="function")return ft(z,P,rc(H),W);if(H.$$typeof===O)return ft(z,P,Ec(z,H),W);sc(z,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(a(z,P.sibling),W=h(P,H),W.return=z,z=W):(a(z,P),W=Td(H,z.mode,W),W.return=z,z=W),E(z)):a(z,P)}return function(z,P,H,W){try{cl=0;var he=ft(z,P,H,W);return Ha=null,he}catch(pe){if(pe===ll)throw pe;var Ne=$n(29,pe,null,z.mode);return Ne.lanes=W,Ne.return=z,Ne}finally{}}}var $s=xg(!0),Ng=xg(!1),qa=Be(null),ac=Be(0);function Dg(t,i){t=rr,Qe(ac,t),Qe(qa,i),rr=t|i.baseLanes}function If(){Qe(ac,rr),Qe(qa,qa.current)}function xf(){rr=ac.current,lt(qa),lt(ac)}var qn=Be(null),vi=null;function Ur(t){var i=t.alternate;Qe(It,It.current&1),Qe(qn,t),vi===null&&(i===null||qa.current!==null||i.memoizedState!==null)&&(vi=t)}function Og(t){if(t.tag===22){if(Qe(It,It.current),Qe(qn,t),vi===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(vi=t)}}else zr()}function zr(){Qe(It,It.current),Qe(qn,qn.current)}function Qi(t){lt(qn),vi===t&&(vi=null),lt(It)}var It=Be(0);function oc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var tS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},nS=r.unstable_scheduleCallback,iS=r.unstable_NormalPriority,xt={$$typeof:O,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Nf(){return{controller:new tS,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&nS(iS,function(){t.controller.abort()})}var dl=null,Df=0,Fa=0,Ga=null;function rS(t,i){if(dl===null){var a=dl=[];Df=0,Fa=jd(),Ga={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Df++,i.then(Mg,Mg),i}function Mg(){if(--Df===0&&dl!==null){Ga!==null&&(Ga.status="fulfilled");var t=dl;dl=null,Fa=0,Ga=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function sS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var kg=A.S;A.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&rS(t,i),kg!==null&&kg(t,i)};var Ks=Be(null);function Of(){var t=Ks.current;return t!==null?t:Je.pooledCache}function lc(t,i){i===null?Qe(Ks,Ks.current):Qe(Ks,i.pool)}function Pg(){var t=Of();return t===null?null:{parent:xt._currentValue,pool:t}}var Br=0,xe=null,Xe=null,vt=null,uc=!1,$a=!1,Qs=!1,cc=0,ml=0,Ka=null,aS=0;function pt(){throw Error(s(321))}function Mf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!An(t[a],i[a]))return!1;return!0}function kf(t,i,a,l,h,d){return Br=d,xe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,A.H=t===null||t.memoizedState===null?Ys:Hr,Qs=!1,d=a(l,h),Qs=!1,$a&&(d=jg(i,a,l,h)),Vg(t),d}function Vg(t){A.H=Ei;var i=Xe!==null&&Xe.next!==null;if(Br=0,vt=Xe=xe=null,uc=!1,ml=0,Ka=null,i)throw Error(s(300));t===null||jt||(t=t.dependencies,t!==null&&vc(t)&&(jt=!0))}function jg(t,i,a,l){xe=t;var h=0;do{if($a&&(Ka=null),ml=0,$a=!1,25<=h)throw Error(s(301));if(h+=1,vt=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}A.H=Xs,d=i(a,l)}while($a);return d}function oS(){var t=A.H,i=t.useState()[0];return i=typeof i.then=="function"?pl(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(xe.flags|=1024),i}function Pf(){var t=cc!==0;return cc=0,t}function Vf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function jf(t){if(uc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}uc=!1}Br=0,vt=Xe=xe=null,$a=!1,ml=cc=0,Ka=null}function _n(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?xe.memoizedState=vt=t:vt=vt.next=t,vt}function Et(){if(Xe===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=vt===null?xe.memoizedState:vt.next;if(i!==null)vt=i,Xe=t;else{if(t===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},vt===null?xe.memoizedState=vt=t:vt=vt.next=t}return vt}var hc;hc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function pl(t){var i=ml;return ml+=1,Ka===null&&(Ka=[]),t=Rg(Ka,t,i),i=xe,(vt===null?i.memoizedState:vt.next)===null&&(i=i.alternate,A.H=i===null||i.memoizedState===null?Ys:Hr),t}function fc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return pl(t);if(t.$$typeof===O)return Xt(t)}throw Error(s(438,String(t)))}function Lf(t){var i=null,a=xe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=hc(),xe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=re;return i.index++,a}function Yi(t,i){return typeof i=="function"?i(t):i}function dc(t){var i=Et();return Uf(i,Xe,t)}function Uf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var w=E=null,I=null,L=i,X=!1;do{var ee=L.lane&-536870913;if(ee!==L.lane?(Ue&ee)===ee:(Br&ee)===ee){var F=L.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),ee===Fa&&(X=!0);else if((Br&F)===F){L=L.next,F===Fa&&(X=!0);continue}else ee={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},I===null?(w=I=ee,E=d):I=I.next=ee,xe.lanes|=F,Wr|=F;ee=L.action,Qs&&a(d,ee),d=L.hasEagerState?L.eagerState:a(d,ee)}else F={lane:ee,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},I===null?(w=I=F,E=d):I=I.next=F,xe.lanes|=ee,Wr|=ee;L=L.next}while(L!==null&&L!==i);if(I===null?E=d:I.next=w,!An(d,t.memoizedState)&&(jt=!0,X&&(a=Ga,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function zf(t){var i=Et(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=t(d,E.action),E=E.next;while(E!==h);An(d,i.memoizedState)||(jt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Lg(t,i,a){var l=xe,h=Et(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!An((Xe||h).memoizedState,a);if(E&&(h.memoizedState=a,jt=!0),h=h.queue,qf(Bg.bind(null,l,h,t),[t]),h.getSnapshot!==i||E||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,Qa(9,zg.bind(null,l,h,a,i),{destroy:void 0},null),Je===null)throw Error(s(349));d||(Br&60)!==0||Ug(l,i,a)}return a}function Ug(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=xe.updateQueue,i===null?(i=hc(),xe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function zg(t,i,a,l){i.value=a,i.getSnapshot=l,Hg(i)&&qg(t)}function Bg(t,i,a){return a(function(){Hg(i)&&qg(t)})}function Hg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!An(t,a)}catch{return!0}}function qg(t){var i=Lr(t,2);i!==null&&cn(i,t,2)}function Bf(t){var i=_n();if(typeof t=="function"){var a=t;if(t=a(),Qs){oi(!0);try{a()}finally{oi(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:t},i}function Fg(t,i,a,l){return t.baseState=a,Uf(t,Xe,typeof l=="function"?l:Yi)}function lS(t,i,a,l,h){if(gc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};A.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Gg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Gg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=A.T,E={};A.T=E;try{var w=a(h,l),I=A.S;I!==null&&I(E,w),$g(t,i,w)}catch(L){Hf(t,i,L)}finally{A.T=d}}else try{d=a(h,l),$g(t,i,d)}catch(L){Hf(t,i,L)}}function $g(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Kg(t,i,l)},function(l){return Hf(t,i,l)}):Kg(t,i,a)}function Kg(t,i,a){i.status="fulfilled",i.value=a,Qg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Gg(t,a)))}function Hf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Qg(i),i=i.next;while(i!==l)}t.action=null}function Qg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Yg(t,i){return i}function Xg(t,i){if(qe){var a=Je.formState;if(a!==null){e:{var l=xe;if(qe){if(Ht){t:{for(var h=Ht,d=yi;h.nodeType!==8;){if(!d){h=null;break t}if(h=ii(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Ht=ii(h.nextSibling),l=h.data==="F!";break e}}Gs(l)}l=!1}l&&(i=a[0])}}return a=_n(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yg,lastRenderedState:i},a.queue=l,a=m_.bind(null,xe,l),l.dispatch=a,l=Bf(!1),d=Qf.bind(null,xe,!1,l.queue),l=_n(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=lS.bind(null,xe,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Wg(t){var i=Et();return Zg(i,Xe,t)}function Zg(t,i,a){i=Uf(t,i,Yg)[0],t=dc(Yi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?pl(i):i;var l=Et(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(xe.flags|=2048,Qa(9,uS.bind(null,h,a),{destroy:void 0},null)),[i,d,t]}function uS(t,i){t.action=i}function Jg(t){var i=Et(),a=Xe;if(a!==null)return Zg(i,a,t);Et(),i=i.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Qa(t,i,a,l){return t={tag:t,create:i,inst:a,deps:l,next:null},i=xe.updateQueue,i===null&&(i=hc(),xe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function e_(){return Et().memoizedState}function mc(t,i,a,l){var h=_n();xe.flags|=t,h.memoizedState=Qa(1|i,a,{destroy:void 0},l===void 0?null:l)}function pc(t,i,a,l){var h=Et();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&Mf(l,Xe.memoizedState.deps)?h.memoizedState=Qa(i,a,d,l):(xe.flags|=t,h.memoizedState=Qa(1|i,a,d,l))}function t_(t,i){mc(8390656,8,t,i)}function qf(t,i){pc(2048,8,t,i)}function n_(t,i){return pc(4,2,t,i)}function i_(t,i){return pc(4,4,t,i)}function r_(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function s_(t,i,a){a=a!=null?a.concat([t]):null,pc(4,4,r_.bind(null,i,t),a)}function Ff(){}function a_(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Mf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function o_(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Mf(i,l[1]))return l[0];if(l=t(),Qs){oi(!0);try{t()}finally{oi(!1)}}return a.memoizedState=[l,i],l}function Gf(t,i,a){return a===void 0||(Br&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=uy(),xe.lanes|=t,Wr|=t,a)}function l_(t,i,a,l){return An(a,i)?a:qa.current!==null?(t=Gf(t,a,l),An(t,i)||(jt=!0),t):(Br&42)===0?(jt=!0,t.memoizedState=a):(t=uy(),xe.lanes|=t,Wr|=t,i)}function u_(t,i,a,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var E=A.T,w={};A.T=w,Qf(t,!1,i,a);try{var I=h(),L=A.S;if(L!==null&&L(w,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=sS(I,l);gl(t,i,X,xn(t))}else gl(t,i,l,xn(t))}catch(ee){gl(t,i,{then:function(){},status:"rejected",reason:ee},xn())}finally{le.p=d,A.T=E}}function cS(){}function $f(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=c_(t).queue;u_(t,h,i,Ie,a===null?cS:function(){return h_(t),a(l)})}function c_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:Ie},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function h_(t){var i=c_(t).next.queue;gl(t,i,{},xn())}function Kf(){return Xt(Vl)}function f_(){return Et().memoizedState}function d_(){return Et().memoizedState}function hS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=xn();t=Gr(a);var l=$r(i,t,a);l!==null&&(cn(l,i,a),vl(l,i,a)),i={cache:Nf()},t.payload=i;return}i=i.return}}function fS(t,i,a){var l=xn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},gc(t)?p_(i,a):(a=Sf(t,i,a,l),a!==null&&(cn(a,t,l),g_(a,i,l)))}function m_(t,i,a){var l=xn();gl(t,i,a,l)}function gl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(gc(t))p_(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,w=d(E,a);if(h.hasEagerState=!0,h.eagerState=w,An(w,E))return Ju(t,i,h,0),Je===null&&Zu(),!1}catch{}finally{}if(a=Sf(t,i,h,l),a!==null)return cn(a,t,l),g_(a,i,l),!0}return!1}function Qf(t,i,a,l){if(l={lane:2,revertLane:jd(),action:l,hasEagerState:!1,eagerState:null,next:null},gc(t)){if(i)throw Error(s(479))}else i=Sf(t,a,l,2),i!==null&&cn(i,t,2)}function gc(t){var i=t.alternate;return t===xe||i!==null&&i===xe}function p_(t,i){$a=uc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function g_(t,i,a){if((a&4194176)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ir(t,a)}}var Ei={readContext:Xt,use:fc,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt};Ei.useCacheRefresh=pt,Ei.useMemoCache=pt,Ei.useHostTransitionStatus=pt,Ei.useFormState=pt,Ei.useActionState=pt,Ei.useOptimistic=pt;var Ys={readContext:Xt,use:fc,useCallback:function(t,i){return _n().memoizedState=[t,i===void 0?null:i],t},useContext:Xt,useEffect:t_,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,mc(4194308,4,r_.bind(null,i,t),a)},useLayoutEffect:function(t,i){return mc(4194308,4,t,i)},useInsertionEffect:function(t,i){mc(4,2,t,i)},useMemo:function(t,i){var a=_n();i=i===void 0?null:i;var l=t();if(Qs){oi(!0);try{t()}finally{oi(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=_n();if(a!==void 0){var h=a(i);if(Qs){oi(!0);try{a(i)}finally{oi(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=fS.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var i=_n();return t={current:t},i.memoizedState=t},useState:function(t){t=Bf(t);var i=t.queue,a=m_.bind(null,xe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Ff,useDeferredValue:function(t,i){var a=_n();return Gf(a,t,i)},useTransition:function(){var t=Bf(!1);return t=u_.bind(null,xe,t.queue,!0,!1),_n().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=xe,h=_n();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Je===null)throw Error(s(349));(Ue&60)!==0||Ug(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,t_(Bg.bind(null,l,d,t),[t]),l.flags|=2048,Qa(9,zg.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var t=_n(),i=Je.identifierPrefix;if(qe){var a=Ki,l=$i;a=(l&~(1<<32-an(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=cc++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=aS++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return _n().memoizedState=hS.bind(null,xe)}};Ys.useMemoCache=Lf,Ys.useHostTransitionStatus=Kf,Ys.useFormState=Xg,Ys.useActionState=Xg,Ys.useOptimistic=function(t){var i=_n();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Qf.bind(null,xe,!0,a),a.dispatch=i,[t,i]};var Hr={readContext:Xt,use:fc,useCallback:a_,useContext:Xt,useEffect:qf,useImperativeHandle:s_,useInsertionEffect:n_,useLayoutEffect:i_,useMemo:o_,useReducer:dc,useRef:e_,useState:function(){return dc(Yi)},useDebugValue:Ff,useDeferredValue:function(t,i){var a=Et();return l_(a,Xe.memoizedState,t,i)},useTransition:function(){var t=dc(Yi)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:pl(t),i]},useSyncExternalStore:Lg,useId:f_};Hr.useCacheRefresh=d_,Hr.useMemoCache=Lf,Hr.useHostTransitionStatus=Kf,Hr.useFormState=Wg,Hr.useActionState=Wg,Hr.useOptimistic=function(t,i){var a=Et();return Fg(a,Xe,t,i)};var Xs={readContext:Xt,use:fc,useCallback:a_,useContext:Xt,useEffect:qf,useImperativeHandle:s_,useInsertionEffect:n_,useLayoutEffect:i_,useMemo:o_,useReducer:zf,useRef:e_,useState:function(){return zf(Yi)},useDebugValue:Ff,useDeferredValue:function(t,i){var a=Et();return Xe===null?Gf(a,t,i):l_(a,Xe.memoizedState,t,i)},useTransition:function(){var t=zf(Yi)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:pl(t),i]},useSyncExternalStore:Lg,useId:f_};Xs.useCacheRefresh=d_,Xs.useMemoCache=Lf,Xs.useHostTransitionStatus=Kf,Xs.useFormState=Jg,Xs.useActionState=Jg,Xs.useOptimistic=function(t,i){var a=Et();return Xe!==null?Fg(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])};function Yf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:D({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Xf={isMounted:function(t){return(t=t._reactInternals)?ge(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var l=xn(),h=Gr(l);h.payload=i,a!=null&&(h.callback=a),i=$r(t,h,l),i!==null&&(cn(i,t,l),vl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=xn(),h=Gr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=$r(t,h,l),i!==null&&(cn(i,t,l),vl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=xn(),l=Gr(a);l.tag=2,i!=null&&(l.callback=i),i=$r(t,l,a),i!==null&&(cn(i,t,a),vl(i,t,a))}};function __(t,i,a,l,h,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!il(a,l)||!il(h,d):!0}function y_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Xf.enqueueReplaceState(i,i.state,null)}function Ws(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=D({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var _c=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function v_(t){_c(t)}function E_(t){console.error(t)}function T_(t){_c(t)}function yc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function w_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Wf(t,i,a){return a=Gr(a),a.tag=3,a.payload={element:null},a.callback=function(){yc(t,i)},a}function S_(t){return t=Gr(t),t.tag=3,t}function b_(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){w_(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){w_(i,a,l),typeof h!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function dS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&yl(i,a,h,!0),a=qn.current,a!==null){switch(a.tag){case 13:return vi===null?Od():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Cf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),kd(t,l,h)),!1;case 22:return a.flags|=65536,l===Cf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),kd(t,l,h)),!1}throw Error(s(435,a.tag))}return kd(t,l,h),Od(),!1}if(qe)return i=qn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Rf&&(t=Error(s(422),{cause:l}),ol(zn(t,a)))):(l!==Rf&&(i=Error(s(423),{cause:l}),ol(zn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=zn(l,a),h=Wf(t.stateNode,l,h),fd(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=zn(d,a),Cl===null?Cl=[d]:Cl.push(d),ht!==4&&(ht=2),i===null)return!0;l=zn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Wf(a.stateNode,l,t),fd(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Zr===null||!Zr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=S_(h),b_(h,t,a,l),fd(a,h),!1}a=a.return}while(a!==null);return!1}var A_=Error(s(461)),jt=!1;function qt(t,i,a,l){i.child=t===null?Ng(i,null,a,l):$s(i,t.child,a,l)}function R_(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var E={};for(var w in l)w!=="ref"&&(E[w]=l[w])}else E=l;return Js(i),l=kf(t,i,a,E,d,h),w=Pf(),t!==null&&!jt?(Vf(t,i,h),Xi(t,i,h)):(qe&&w&&bf(i),i.flags|=1,qt(t,i,l,h),i.child)}function C_(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Ed(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,I_(t,i,d,l,h)):(t=Sc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!ad(t,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:il,a(E,l)&&t.ref===i.ref)return Xi(t,i,h)}return i.flags|=1,t=Xr(d,l),t.ref=i.ref,t.return=i,i.child=t}function I_(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(il(d,l)&&t.ref===i.ref)if(jt=!1,i.pendingProps=l=d,ad(t,h))(t.flags&131072)!==0&&(jt=!0);else return i.lanes=t.lanes,Xi(t,i,h)}return Zf(t,i,a,l,h)}function x_(t,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,E=t!==null?t.memoizedState:null;if(_l(t,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=E!==null?E.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return N_(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&lc(i,E!==null?E.cachePool:null),E!==null?Dg(i,E):If(),Og(i);else return i.lanes=i.childLanes=536870912,N_(t,i,E!==null?E.baseLanes|a:a,a)}else E!==null?(lc(i,E.cachePool),Dg(i,E),zr(),i.memoizedState=null):(t!==null&&lc(i,null),If(),zr());return qt(t,i,h,a),i.child}function N_(t,i,a,l){var h=Of();return h=h===null?null:{parent:xt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&lc(i,null),If(),Og(i),t!==null&&yl(t,i,l,!0),null}function _l(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function Zf(t,i,a,l,h){return Js(i),a=kf(t,i,a,l,void 0,h),l=Pf(),t!==null&&!jt?(Vf(t,i,h),Xi(t,i,h)):(qe&&l&&bf(i),i.flags|=1,qt(t,i,a,h),i.child)}function D_(t,i,a,l,h,d){return Js(i),i.updateQueue=null,a=jg(i,l,a,h),Vg(t),l=Pf(),t!==null&&!jt?(Vf(t,i,d),Xi(t,i,d)):(qe&&l&&bf(i),i.flags|=1,qt(t,i,a,d),i.child)}function O_(t,i,a,l,h){if(Js(i),i.stateNode===null){var d=Ua,E=a.contextType;typeof E=="object"&&E!==null&&(d=Xt(E)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Xf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},cd(i),E=a.contextType,d.context=typeof E=="object"&&E!==null?Xt(E):Ua,d.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Yf(i,a,E,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Xf.enqueueReplaceState(d,d.state,null),Tl(i,l,d,h),El(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var w=i.memoizedProps,I=Ws(a,w);d.props=I;var L=d.context,X=a.contextType;E=Ua,typeof X=="object"&&X!==null&&(E=Xt(X));var ee=a.getDerivedStateFromProps;X=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||L!==E)&&y_(i,d,l,E),Fr=!1;var F=i.memoizedState;d.state=F,Tl(i,l,d,h),El(),L=i.memoizedState,w||F!==L||Fr?(typeof ee=="function"&&(Yf(i,a,ee,l),L=i.memoizedState),(I=Fr||__(i,a,I,l,F,L,E))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=L),d.props=l,d.state=L,d.context=E,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,hd(t,i),E=i.memoizedProps,X=Ws(a,E),d.props=X,ee=i.pendingProps,F=d.context,L=a.contextType,I=Ua,typeof L=="object"&&L!==null&&(I=Xt(L)),w=a.getDerivedStateFromProps,(L=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==ee||F!==I)&&y_(i,d,l,I),Fr=!1,F=i.memoizedState,d.state=F,Tl(i,l,d,h),El();var Y=i.memoizedState;E!==ee||F!==Y||Fr||t!==null&&t.dependencies!==null&&vc(t.dependencies)?(typeof w=="function"&&(Yf(i,a,w,l),Y=i.memoizedState),(X=Fr||__(i,a,X,l,F,Y,I)||t!==null&&t.dependencies!==null&&vc(t.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Y,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Y,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Y),d.props=l,d.state=Y,d.context=I,l=X):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,_l(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=$s(i,t.child,null,h),i.child=$s(i,null,a,h)):qt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Xi(t,i,h),t}function M_(t,i,a,l){return al(),i.flags|=256,qt(t,i,a,l),i.child}var Jf={dehydrated:null,treeContext:null,retryLane:0};function ed(t){return{baseLanes:t,cachePool:Pg()}}function td(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Kn),t}function k_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(qe){if(h?Ur(i):zr(),qe){var w=Ht,I;if(I=w){e:{for(I=w,w=yi;I.nodeType!==8;){if(!w){w=null;break e}if(I=ii(I.nextSibling),I===null){w=null;break e}}w=I}w!==null?(i.memoizedState={dehydrated:w,treeContext:qs!==null?{id:$i,overflow:Ki}:null,retryLane:536870912},I=$n(18,null,null,0),I.stateNode=w,I.return=i,i.child=I,un=i,Ht=null,I=!0):I=!1}I||Gs(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return w.data==="$!"?i.lanes=16:i.lanes=536870912,null;Qi(i)}return w=l.children,l=l.fallback,h?(zr(),h=i.mode,w=id({mode:"hidden",children:w},h),l=ta(l,h,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,h=i.child,h.memoizedState=ed(a),h.childLanes=td(t,E,a),i.memoizedState=Jf,l):(Ur(i),nd(i,w))}if(I=t.memoizedState,I!==null&&(w=I.dehydrated,w!==null)){if(d)i.flags&256?(Ur(i),i.flags&=-257,i=rd(t,i,a)):i.memoizedState!==null?(zr(),i.child=t.child,i.flags|=128,i=null):(zr(),h=l.fallback,w=i.mode,l=id({mode:"visible",children:l.children},w),h=ta(h,w,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,$s(i,t.child,null,a),l=i.child,l.memoizedState=ed(a),l.childLanes=td(t,E,a),i.memoizedState=Jf,i=h);else if(Ur(i),w.data==="$!"){if(E=w.nextSibling&&w.nextSibling.dataset,E)var L=E.dgst;E=L,l=Error(s(419)),l.stack="",l.digest=E,ol({value:l,source:null,stack:null}),i=rd(t,i,a)}else if(jt||yl(t,i,a,!1),E=(a&t.childLanes)!==0,jt||E){if(E=Je,E!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane)throw I.retryLane=l,Lr(t,l),cn(E,t,l),A_}w.data==="$?"||Od(),i=rd(t,i,a)}else w.data==="$?"?(i.flags|=128,i.child=t.child,i=IS.bind(null,t),w._reactRetry=i,i=null):(t=I.treeContext,Ht=ii(w.nextSibling),un=i,qe=!0,ti=null,yi=!1,t!==null&&(Bn[Hn++]=$i,Bn[Hn++]=Ki,Bn[Hn++]=qs,$i=t.id,Ki=t.overflow,qs=i),i=nd(i,l.children),i.flags|=4096);return i}return h?(zr(),h=l.fallback,w=i.mode,I=t.child,L=I.sibling,l=Xr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&31457280,L!==null?h=Xr(L,h):(h=ta(h,w,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,w=t.child.memoizedState,w===null?w=ed(a):(I=w.cachePool,I!==null?(L=xt._currentValue,I=I.parent!==L?{parent:L,pool:L}:I):I=Pg(),w={baseLanes:w.baseLanes|a,cachePool:I}),h.memoizedState=w,h.childLanes=td(t,E,a),i.memoizedState=Jf,l):(Ur(i),a=t.child,t=a.sibling,a=Xr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=a,i.memoizedState=null,a)}function nd(t,i){return i=id({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function id(t,i){return ay(t,i,0,null)}function rd(t,i,a){return $s(i,t.child,null,a),t=nd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function P_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),ld(t.return,i,a)}function sd(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function V_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(qt(t,i,l.children,a),l=It.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&P_(t,a,i);else if(t.tag===19)P_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Qe(It,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&oc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),sd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&oc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}sd(i,!0,a,null,d);break;case"together":sd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Xi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Wr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(yl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Xr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Xr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function ad(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&vc(t)))}function mS(t,i,a){switch(i.tag){case 3:wr(i,i.stateNode.containerInfo),qr(i,xt,t.memoizedState.cache),al();break;case 27:case 5:Vo(i);break;case 4:wr(i,i.stateNode.containerInfo);break;case 10:qr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ur(i),i.flags|=128,null):(a&i.child.childLanes)!==0?k_(t,i,a):(Ur(i),t=Xi(t,i,a),t!==null?t.sibling:null);Ur(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(yl(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return V_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Qe(It,It.current),l)break;return null;case 22:case 23:return i.lanes=0,x_(t,i,a);case 24:qr(i,xt,t.memoizedState.cache)}return Xi(t,i,a)}function j_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)jt=!0;else{if(!ad(t,a)&&(i.flags&128)===0)return jt=!1,mS(t,i,a);jt=(t.flags&131072)!==0}else jt=!1,qe&&(i.flags&1048576)!==0&&Tg(i,nc,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Ed(l)?(t=Ws(l,t),i.tag=1,i=O_(null,i,l,t,a)):(i.tag=0,i=Zf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===j){i.tag=11,i=R_(null,i,l,t,a);break e}else if(h===G){i.tag=14,i=C_(null,i,l,t,a);break e}}throw i=C(l)||l,Error(s(306,i,""))}}return i;case 0:return Zf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ws(l,i.pendingProps),O_(t,i,l,h,a);case 3:e:{if(wr(i,i.stateNode.containerInfo),t===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,hd(t,i),Tl(i,d,null,a);var E=i.memoizedState;if(d=E.cache,qr(i,xt,d),d!==h.cache&&ud(i,[xt],a,!0),El(),d=E.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=M_(t,i,d,a);break e}else if(d!==l){l=zn(Error(s(424)),i),ol(l),i=M_(t,i,d,a);break e}else for(Ht=ii(i.stateNode.containerInfo.firstChild),un=i,qe=!0,ti=null,yi=!0,a=Ng(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(al(),d===l){i=Xi(t,i,a);break e}qt(t,i,d,a)}i=i.child}return i;case 26:return _l(t,i),t===null?(a=zy(i.type,null,i.pendingProps,null))?i.memoizedState=a:qe||(a=i.type,t=i.pendingProps,l=Pc(On.current).createElement(a),l[kt]=i,l[At]=t,Ft(l,a,t),it(l),i.stateNode=l):i.memoizedState=zy(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Vo(i),t===null&&qe&&(l=i.stateNode=jy(i.type,i.pendingProps,On.current),un=i,yi=!0,Ht=ii(l.firstChild)),l=i.pendingProps.children,t!==null||qe?qt(t,i,l,a):i.child=$s(i,null,l,a),_l(t,i),i.child;case 5:return t===null&&qe&&((h=l=Ht)&&(l=FS(l,i.type,i.pendingProps,yi),l!==null?(i.stateNode=l,un=i,Ht=ii(l.firstChild),yi=!1,h=!0):h=!1),h||Gs(i)),Vo(i),h=i.type,d=i.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,$d(h,d)?l=null:E!==null&&$d(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=kf(t,i,oS,null,null,a),Vl._currentValue=h),_l(t,i),qt(t,i,l,a),i.child;case 6:return t===null&&qe&&((t=a=Ht)&&(a=GS(a,i.pendingProps,yi),a!==null?(i.stateNode=a,un=i,Ht=null,t=!0):t=!1),t||Gs(i)),null;case 13:return k_(t,i,a);case 4:return wr(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=$s(i,null,l,a):qt(t,i,l,a),i.child;case 11:return R_(t,i,i.type,i.pendingProps,a);case 7:return qt(t,i,i.pendingProps,a),i.child;case 8:return qt(t,i,i.pendingProps.children,a),i.child;case 12:return qt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,qr(i,i.type,l.value),qt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Js(i),h=Xt(h),l=l(h),i.flags|=1,qt(t,i,l,a),i.child;case 14:return C_(t,i,i.type,i.pendingProps,a);case 15:return I_(t,i,i.type,i.pendingProps,a);case 19:return V_(t,i,a);case 22:return x_(t,i,a);case 24:return Js(i),l=Xt(xt),t===null?(h=Of(),h===null&&(h=Je,d=Nf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},cd(i),qr(i,xt,h)):((t.lanes&a)!==0&&(hd(t,i),Tl(i,null,null,a),El()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),qr(i,xt,l)):(l=d.cache,qr(i,xt,l),l!==h.cache&&ud(i,[xt],a,!0))),qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var od=Be(null),Zs=null,Wi=null;function qr(t,i,a){Qe(od,i._currentValue),i._currentValue=a}function Zi(t){t._currentValue=od.current,lt(od)}function ld(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function ud(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=h;for(var I=0;I<i.length;I++)if(w.context===i[I]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),ld(d.return,a,t),l||(E=null);break e}d=w.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),ld(E,a,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function yl(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var w=h.type;An(h.pendingProps.value,E.value)||(t!==null?t.push(w):t=[w])}}else if(h===Tr.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Vl):t=[Vl])}h=h.return}t!==null&&ud(i,t,a,l),i.flags|=262144}function vc(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Js(t){Zs=t,Wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return L_(Zs,t)}function Ec(t,i){return Zs===null&&Js(t),L_(t,i)}function L_(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Wi===null){if(t===null)throw Error(s(308));Wi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Wi=Wi.next=i;return a}var Fr=!1;function cd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function hd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function $r(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(st&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ec(t),vg(t,null,a),i}return Ju(t,l,i,a),ec(t)}function vl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Ir(t,a)}}function fd(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var dd=!1;function El(){if(dd){var t=Ga;if(t!==null)throw t}}function Tl(t,i,a,l){dd=!1;var h=t.updateQueue;Fr=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var I=w,L=I.next;I.next=null,E===null?d=L:E.next=L,E=I;var X=t.alternate;X!==null&&(X=X.updateQueue,w=X.lastBaseUpdate,w!==E&&(w===null?X.firstBaseUpdate=L:w.next=L,X.lastBaseUpdate=I))}if(d!==null){var ee=h.baseState;E=0,X=L=I=null,w=d;do{var F=w.lane&-536870913,Y=F!==w.lane;if(Y?(Ue&F)===F:(l&F)===F){F!==0&&F===Fa&&(dd=!0),X!==null&&(X=X.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var fe=t,be=w;F=i;var ft=a;switch(be.tag){case 1:if(fe=be.payload,typeof fe=="function"){ee=fe.call(ft,ee,F);break e}ee=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=be.payload,F=typeof fe=="function"?fe.call(ft,ee,F):fe,F==null)break e;ee=D({},ee,F);break e;case 2:Fr=!0}}F=w.callback,F!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[F]:Y.push(F))}else Y={lane:F,tag:w.tag,payload:w.payload,callback:w.callback,next:null},X===null?(L=X=Y,I=ee):X=X.next=Y,E|=F;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;Y=w,w=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);X===null&&(I=ee),h.baseState=I,h.firstBaseUpdate=L,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Wr|=E,t.lanes=E,t.memoizedState=ee}}function U_(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function z_(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)U_(a[t],i)}function wl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(w){Ze(i,i.return,w)}}function Kr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var E=l.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,h=i;var I=a;try{w()}catch(L){Ze(h,I,L)}}}l=l.next}while(l!==d)}}catch(L){Ze(i,i.return,L)}}function B_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{z_(i,a)}catch(l){Ze(t,t.return,l)}}}function H_(t,i,a){a.props=Ws(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,i,l)}}function ea(t,i){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){Ze(t,i,d)}}function Rn(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,i,h)}else a.current=null}function q_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function F_(t,i,a){try{var l=t.stateNode;US(l,t.type,a,i),l[At]=i}catch(h){Ze(t,t.return,h)}}function G_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function md(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||G_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function pd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=kc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(pd(t,i,a),t=t.sibling;t!==null;)pd(t,i,a),t=t.sibling}function Tc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Tc(t,i,a),t=t.sibling;t!==null;)Tc(t,i,a),t=t.sibling}var Ji=!1,ct=!1,gd=!1,$_=typeof WeakSet=="function"?WeakSet:Set,Lt=null,K_=!1;function pS(t,i){if(t=t.containerInfo,Fd=Bc,t=cg(t),yf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,w=-1,I=-1,L=0,X=0,ee=t,F=null;t:for(;;){for(var Y;ee!==a||h!==0&&ee.nodeType!==3||(w=E+h),ee!==d||l!==0&&ee.nodeType!==3||(I=E+l),ee.nodeType===3&&(E+=ee.nodeValue.length),(Y=ee.firstChild)!==null;)F=ee,ee=Y;for(;;){if(ee===t)break t;if(F===a&&++L===h&&(w=E),F===d&&++X===l&&(I=E),(Y=ee.nextSibling)!==null)break;ee=F,F=ee.parentNode}ee=Y}a=w===-1||I===-1?null:{start:w,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Gd={focusedElem:t,selectionRange:a},Bc=!1,Lt=i;Lt!==null;)if(i=Lt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Lt=t;else for(;Lt!==null;){switch(i=Lt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Ws(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){Ze(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Yd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Yd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Lt=t;break}Lt=i.return}return fe=K_,K_=!1,fe}function Q_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:tr(t,a),l&4&&wl(5,a);break;case 1:if(tr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(w){Ze(a,a.return,w)}else{var h=Ws(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(w){Ze(a,a.return,w)}}l&64&&B_(a),l&512&&ea(a,a.return);break;case 3:if(tr(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{z_(l,t)}catch(w){Ze(a,a.return,w)}}break;case 26:tr(t,a),l&512&&ea(a,a.return);break;case 27:case 5:tr(t,a),i===null&&l&4&&q_(a),l&512&&ea(a,a.return);break;case 12:tr(t,a);break;case 13:tr(t,a),l&4&&W_(t,a);break;case 22:if(h=a.memoizedState!==null||Ji,!h){i=i!==null&&i.memoizedState!==null||ct;var d=Ji,E=ct;Ji=h,(ct=i)&&!E?Qr(t,a,(a.subtreeFlags&8772)!==0):tr(t,a),Ji=d,ct=E}l&512&&(a.memoizedProps.mode==="manual"?ea(a,a.return):Rn(a,a.return));break;default:tr(t,a)}}function Y_(t){var i=t.alternate;i!==null&&(t.alternate=null,Y_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ns(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Tt=null,Cn=!1;function er(t,i,a){for(a=a.child;a!==null;)X_(t,i,a),a=a.sibling}function X_(t,i,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Sr,a)}catch{}switch(a.tag){case 26:ct||Rn(a,i),er(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ct||Rn(a,i);var l=Tt,h=Cn;for(Tt=a.stateNode,er(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Ns(a),Tt=l,Cn=h;break;case 5:ct||Rn(a,i);case 6:h=Tt;var d=Cn;if(Tt=null,er(t,i,a),Tt=h,Cn=d,Tt!==null)if(Cn)try{t=Tt,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(E){Ze(a,i,E)}else try{Tt.removeChild(a.stateNode)}catch(E){Ze(a,i,E)}break;case 18:Tt!==null&&(Cn?(i=Tt,a=a.stateNode,i.nodeType===8?Qd(i.parentNode,a):i.nodeType===1&&Qd(i,a),zl(i)):Qd(Tt,a.stateNode));break;case 4:l=Tt,h=Cn,Tt=a.stateNode.containerInfo,Cn=!0,er(t,i,a),Tt=l,Cn=h;break;case 0:case 11:case 14:case 15:ct||Kr(2,a,i),ct||Kr(4,a,i),er(t,i,a);break;case 1:ct||(Rn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&H_(a,i,l)),er(t,i,a);break;case 21:er(t,i,a);break;case 22:ct||Rn(a,i),ct=(l=ct)||a.memoizedState!==null,er(t,i,a),ct=l;break;default:er(t,i,a)}}function W_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{zl(t)}catch(a){Ze(i,i.return,a)}}function gS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new $_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new $_),i;default:throw Error(s(435,t.tag))}}function _d(t,i){var a=gS(t);i.forEach(function(l){var h=xS.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Fn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,E=i,w=E;e:for(;w!==null;){switch(w.tag){case 27:case 5:Tt=w.stateNode,Cn=!1;break e;case 3:Tt=w.stateNode.containerInfo,Cn=!0;break e;case 4:Tt=w.stateNode.containerInfo,Cn=!0;break e}w=w.return}if(Tt===null)throw Error(s(160));X_(d,E,h),Tt=null,Cn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Z_(i,t),i=i.sibling}var ni=null;function Z_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Fn(i,t),Gn(t),l&4&&(Kr(3,t,t.return),wl(3,t),Kr(5,t,t.return));break;case 1:Fn(i,t),Gn(t),l&512&&(ct||a===null||Rn(a,a.return)),l&64&&Ji&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ni;if(Fn(i,t),Gn(t),l&512&&(ct||a===null||Rn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Nr]||d[kt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ft(d,l,a),d[kt]=t,it(d),l=d;break e;case"link":var E=qy("link","href",h).get(l+(a.href||""));if(E){for(var w=0;w<E.length;w++)if(d=E[w],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(w,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;case"meta":if(E=qy("meta","content",h).get(l+(a.content||""))){for(w=0;w<E.length;w++)if(d=E[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(w,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[kt]=t,it(d),l=d}t.stateNode=l}else Fy(h,t.type,t.stateNode);else t.stateNode=Hy(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Fy(h,t.type,t.stateNode):Hy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&F_(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var I=h.firstChild;I;){var L=I.nextSibling,X=I.nodeName;I[Nr]||X==="HEAD"||X==="BODY"||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&I.rel.toLowerCase()==="stylesheet"||h.removeChild(I),I=L}for(var ee=t.type,F=h.attributes;F.length;)h.removeAttributeNode(F[0]);Ft(h,ee,d),h[kt]=t,h[At]=d}catch(fe){Ze(t,t.return,fe)}}case 5:if(Fn(i,t),Gn(t),l&512&&(ct||a===null||Rn(a,a.return)),t.flags&32){h=t.stateNode;try{Pn(h,"")}catch(fe){Ze(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,F_(t,h,a!==null?a.memoizedProps:h)),l&1024&&(gd=!0);break;case 6:if(Fn(i,t),Gn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){Ze(t,t.return,fe)}}break;case 3:if(Lc=null,h=ni,ni=Vc(i.containerInfo),Fn(i,t),ni=h,Gn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{zl(i.containerInfo)}catch(fe){Ze(t,t.return,fe)}gd&&(gd=!1,J_(t));break;case 4:l=ni,ni=Vc(t.stateNode.containerInfo),Fn(i,t),Gn(t),ni=l;break;case 12:Fn(i,t),Gn(t);break;case 13:Fn(i,t),Gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rd=pn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_d(t,l)));break;case 22:if(l&512&&(ct||a===null||Rn(a,a.return)),I=t.memoizedState!==null,L=a!==null&&a.memoizedState!==null,X=Ji,ee=ct,Ji=X||I,ct=ee||L,Fn(i,t),ct=ee,Ji=X,Gn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=I?i._visibility&-2:i._visibility|1,I&&(i=Ji||ct,a===null||L||i||Ya(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){L=a=i;try{if(h=L.stateNode,I)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{E=L.stateNode,w=L.memoizedProps.style;var Y=w!=null&&w.hasOwnProperty("display")?w.display:null;E.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(fe){Ze(L,L.return,fe)}}}else if(i.tag===6){if(a===null){L=i;try{L.stateNode.nodeValue=I?"":L.memoizedProps}catch(fe){Ze(L,L.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,_d(t,a))));break;case 19:Fn(i,t),Gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,_d(t,l)));break;case 21:break;default:Fn(i,t),Gn(t)}}function Gn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(G_(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=md(t);Tc(t,d,h);break;case 5:var E=l.stateNode;l.flags&32&&(Pn(E,""),l.flags&=-33);var w=md(t);Tc(t,w,E);break;case 3:case 4:var I=l.stateNode.containerInfo,L=md(t);pd(t,L,I);break;default:throw Error(s(161))}}}catch(X){Ze(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function J_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;J_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function tr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Q_(t,i.alternate,i),i=i.sibling}function Ya(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Kr(4,i,i.return),Ya(i);break;case 1:Rn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&H_(i,i.return,a),Ya(i);break;case 26:case 27:case 5:Rn(i,i.return),Ya(i);break;case 22:Rn(i,i.return),i.memoizedState===null&&Ya(i);break;default:Ya(i)}t=t.sibling}}function Qr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:Qr(h,d,a),wl(4,d);break;case 1:if(Qr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){Ze(l,l.return,L)}if(l=d,h=l.updateQueue,h!==null){var w=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)U_(I[h],w)}catch(L){Ze(l,l.return,L)}}a&&E&64&&B_(d),ea(d,d.return);break;case 26:case 27:case 5:Qr(h,d,a),a&&l===null&&E&4&&q_(d),ea(d,d.return);break;case 12:Qr(h,d,a);break;case 13:Qr(h,d,a),a&&E&4&&W_(h,d);break;case 22:d.memoizedState===null&&Qr(h,d,a),ea(d,d.return);break;default:Qr(h,d,a)}i=i.sibling}}function yd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&fl(a))}function vd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&fl(t))}function Yr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ey(t,i,a,l),i=i.sibling}function ey(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Yr(t,i,a,l),h&2048&&wl(9,i);break;case 3:Yr(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&fl(t)));break;case 12:if(h&2048){Yr(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,E=d.id,w=d.onPostCommit;typeof w=="function"&&w(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ze(i,i.return,I)}}else Yr(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Yr(t,i,a,l):Sl(t,i):d._visibility&4?Yr(t,i,a,l):(d._visibility|=4,Xa(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&yd(i.alternate,i);break;case 24:Yr(t,i,a,l),h&2048&&vd(i.alternate,i);break;default:Yr(t,i,a,l)}}function Xa(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,E=i,w=a,I=l,L=E.flags;switch(E.tag){case 0:case 11:case 15:Xa(d,E,w,I,h),wl(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&4?Xa(d,E,w,I,h):Sl(d,E):(X._visibility|=4,Xa(d,E,w,I,h)),h&&L&2048&&yd(E.alternate,E);break;case 24:Xa(d,E,w,I,h),h&&L&2048&&vd(E.alternate,E);break;default:Xa(d,E,w,I,h)}i=i.sibling}}function Sl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Sl(a,l),h&2048&&yd(l.alternate,l);break;case 24:Sl(a,l),h&2048&&vd(l.alternate,l);break;default:Sl(a,l)}i=i.sibling}}var bl=8192;function Wa(t){if(t.subtreeFlags&bl)for(t=t.child;t!==null;)ty(t),t=t.sibling}function ty(t){switch(t.tag){case 26:Wa(t),t.flags&bl&&t.memoizedState!==null&&rb(ni,t.memoizedState,t.memoizedProps);break;case 5:Wa(t);break;case 3:case 4:var i=ni;ni=Vc(t.stateNode.containerInfo),Wa(t),ni=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=bl,bl=16777216,Wa(t),bl=i):Wa(t));break;default:Wa(t)}}function ny(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Al(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,ry(l,t)}ny(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)iy(t),t=t.sibling}function iy(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&Kr(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,wc(t)):Al(t);break;default:Al(t)}}function wc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,ry(l,t)}ny(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Kr(8,i,i.return),wc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,wc(i));break;default:wc(i)}t=t.sibling}}function ry(t,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:Kr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=t;Lt!==null;){l=Lt;var h=l.sibling,d=l.return;if(Y_(l),l===a){Lt=null;break e}if(h!==null){h.return=d,Lt=h;break e}Lt=d}}}function _S(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(t,i,a,l){return new _S(t,i,a,l)}function Ed(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xr(t,i){var a=t.alternate;return a===null?(a=$n(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function sy(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Sc(t,i,a,l,h,d){var E=0;if(l=t,typeof t=="function")Ed(t)&&(E=1);else if(typeof t=="string")E=nb(t,a,sn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return ta(a.children,h,d,i);case _:E=8,h|=24;break;case T:return t=$n(12,a,i,h|2),t.elementType=T,t.lanes=d,t;case Q:return t=$n(13,a,i,h),t.elementType=Q,t.lanes=d,t;case q:return t=$n(19,a,i,h),t.elementType=q,t.lanes=d,t;case K:return ay(a,h,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b:case O:E=10;break e;case R:E=9;break e;case j:E=11;break e;case G:E=14;break e;case J:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=$n(E,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function ta(t,i,a,l){return t=$n(7,t,l,i),t.lanes=a,t}function ay(t,i,a,l){t=$n(22,t,l,i),t.elementType=K,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var E=Lr(d,2);E!==null&&(h._pendingVisibility|=2,cn(E,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var E=Lr(d,2);E!==null&&(h._pendingVisibility&=-3,cn(E,d,2))}}};return t.stateNode=h,t}function Td(t,i,a){return t=$n(6,t,null,i),t.lanes=a,t}function wd(t,i,a){return i=$n(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function nr(t){t.flags|=4}function oy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Gy(i)){if(i=qn.current,i!==null&&((Ue&4194176)===Ue?vi!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||i!==vi))throw ul=Cf,bg;t.flags|=8192}}function bc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Rr():536870912,t.lanes|=i,Ja|=i)}function Rl(t,i){if(!qe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function yS(t,i,a){var l=i.pendingProps;switch(Af(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Zi(xt),Pi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(sl(i)?nr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ti!==null&&(Nd(ti),ti=null))),rt(i),null;case 26:return a=i.memoizedState,t===null?(nr(i),a!==null?(rt(i),oy(i,a)):(rt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(nr(i),rt(i),oy(i,a)):(rt(i),i.flags&=-16777217):(t.memoizedProps!==l&&nr(i),rt(i),i.flags&=-16777217),null;case 27:ya(i),a=On.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&nr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}t=sn.current,sl(i)?wg(i):(t=jy(h,l,a),i.stateNode=t,nr(i))}return rt(i),null;case 5:if(ya(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&nr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(t=sn.current,sl(i))wg(i);else{switch(h=Pc(On.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[kt]=i,t[At]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Ft(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&nr(i)}}return rt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&nr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=On.current,sl(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=un,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[kt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Dy(t.nodeValue,a)),t||Gs(i)}else t=Pc(t).createTextNode(l),t[kt]=i,i.stateNode=t}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=sl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[kt]=i}else al(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else ti!==null&&(Nd(ti),ti=null),h=!0;if(!h)return i.flags&256?(Qi(i),i):(Qi(i),null)}if(Qi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),bc(i,i.updateQueue),rt(i),null;case 4:return Pi(),t===null&&Bd(i.stateNode.containerInfo),rt(i),null;case 10:return Zi(i.type),rt(i),null;case 19:if(lt(It),h=i.memoizedState,h===null)return rt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Rl(h,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=oc(t),d!==null){for(i.flags|=128,Rl(h,!1),t=d.updateQueue,i.updateQueue=t,bc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)sy(a,t),a=a.sibling;return Qe(It,It.current&1|2),i.child}t=t.sibling}h.tail!==null&&pn()>Ac&&(i.flags|=128,l=!0,Rl(h,!1),i.lanes=4194304)}else{if(!l)if(t=oc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,bc(i,t),Rl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return rt(i),null}else 2*pn()-h.renderingStartTime>Ac&&a!==536870912&&(i.flags|=128,l=!0,Rl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=pn(),i.sibling=null,t=It.current,Qe(It,l?t&1|2:t&1),i):(rt(i),null);case 22:case 23:return Qi(i),xf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&bc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&lt(Ks),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Zi(xt),rt(i),null;case 25:return null}throw Error(s(156,i.tag))}function vS(t,i){switch(Af(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Zi(xt),Pi(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ya(i),null;case 13:if(Qi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));al()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return lt(It),null;case 4:return Pi(),null;case 10:return Zi(i.type),null;case 22:case 23:return Qi(i),xf(),t!==null&&lt(Ks),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Zi(xt),null;case 25:return null;default:return null}}function ly(t,i){switch(Af(i),i.tag){case 3:Zi(xt),Pi();break;case 26:case 27:case 5:ya(i);break;case 4:Pi();break;case 13:Qi(i);break;case 19:lt(It);break;case 10:Zi(i.type);break;case 22:case 23:Qi(i),xf(),t!==null&&lt(Ks);break;case 24:Zi(xt)}}var ES={getCacheForType:function(t){var i=Xt(xt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},TS=typeof WeakMap=="function"?WeakMap:Map,st=0,Je=null,De=null,Ue=0,et=0,In=null,ir=!1,Za=!1,Sd=!1,rr=0,ht=0,Wr=0,na=0,bd=0,Kn=0,Ja=0,Cl=null,Ti=null,Ad=!1,Rd=0,Ac=1/0,Rc=null,Zr=null,Cc=!1,ia=null,Il=0,Cd=0,Id=null,xl=0,xd=null;function xn(){if((st&2)!==0&&Ue!==0)return Ue&-Ue;if(A.T!==null){var t=Fa;return t!==0?t:jd()}return Mu()}function uy(){Kn===0&&(Kn=(Ue&536870912)===0||qe?Bo():536870912);var t=qn.current;return t!==null&&(t.flags|=32),Kn}function cn(t,i,a){(t===Je&&et===2||t.cancelPendingCommit!==null)&&(eo(t,0),sr(t,Ue,Kn,!1)),mt(t,a),((st&2)===0||t!==Je)&&(t===Je&&((st&2)===0&&(na|=a),ht===4&&sr(t,Ue,Kn,!1)),wi(t))}function cy(t,i,a){if((st&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&t.expiredLanes)===0||Ar(t,i),h=l?bS(t,i):Md(t,i,!0),d=l;do{if(h===0){Za&&!l&&sr(t,i,0,!1);break}else if(h===6)sr(t,i,0,!ir);else{if(a=t.current.alternate,d&&!wS(a)){h=Md(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var w=t;h=Cl;var I=w.current.memoizedState.isDehydrated;if(I&&(eo(w,E).flags|=256),E=Md(w,E,!1),E!==2){if(Sd&&!I){w.errorRecoveryDisabledLanes|=d,na|=d,h=4;break e}d=Ti,Ti=h,d!==null&&Nd(d)}h=E}if(d=!1,h!==2)continue}}if(h===1){eo(t,0),sr(t,i,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){sr(l,i,Kn,!ir);break e}break;case 2:Ti=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=Rd+300-pn(),10<d)){if(sr(l,i,Kn,!ir),Mn(l,0)!==0)break e;l.timeoutHandle=ky(hy.bind(null,l,a,Ti,Rc,Ad,i,Kn,na,Ja,ir,2,-0,0),d);break e}hy(l,a,Ti,Rc,Ad,i,Kn,na,Ja,ir,0,-0,0)}}break}while(!0);wi(t)}function Nd(t){Ti===null?Ti=t:Ti.push.apply(Ti,t)}function hy(t,i,a,l,h,d,E,w,I,L,X,ee,F){var Y=i.subtreeFlags;if((Y&8192||(Y&16785408)===16785408)&&(Pl={stylesheets:null,count:0,unsuspend:ib},ty(i),i=sb(),i!==null)){t.cancelPendingCommit=i(yy.bind(null,t,a,l,h,E,w,I,1,ee,F)),sr(t,d,E,!L);return}yy(t,a,l,h,E,w,I,X,ee,F)}function wS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!An(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function sr(t,i,a,l){i&=~bd,i&=~na,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-an(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&Cr(t,a,i)}function Ic(){return(st&6)===0?(Nl(0),!1):!0}function Dd(){if(De!==null){if(et===0)var t=De.return;else t=De,Wi=Zs=null,jf(t),Ha=null,cl=0,t=De;for(;t!==null;)ly(t.alternate,t),t=t.return;De=null}}function eo(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,BS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Dd(),Je=t,De=a=Xr(t.current,null),Ue=i,et=0,In=null,ir=!1,Za=Ar(t,i),Sd=!1,Ja=Kn=bd=na=Wr=ht=0,Ti=Cl=null,Ad=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-an(l),d=1<<h;i|=t[h],l&=~d}return rr=i,Zu(),a}function fy(t,i){xe=null,A.H=Ei,i===ll?(i=Cg(),et=3):i===bg?(i=Cg(),et=4):et=i===A_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,In=i,De===null&&(ht=1,yc(t,zn(i,t.current)))}function dy(){var t=A.H;return A.H=Ei,t===null?Ei:t}function my(){var t=A.A;return A.A=ES,t}function Od(){ht=4,ir||(Ue&4194176)!==Ue&&qn.current!==null||(Za=!0),(Wr&134217727)===0&&(na&134217727)===0||Je===null||sr(Je,Ue,Kn,!1)}function Md(t,i,a){var l=st;st|=2;var h=dy(),d=my();(Je!==t||Ue!==i)&&(Rc=null,eo(t,i)),i=!1;var E=ht;e:do try{if(et!==0&&De!==null){var w=De,I=In;switch(et){case 8:Dd(),E=6;break e;case 3:case 2:case 6:qn.current===null&&(i=!0);var L=et;if(et=0,In=null,to(t,w,I,L),a&&Za){E=0;break e}break;default:L=et,et=0,In=null,to(t,w,I,L)}}SS(),E=ht;break}catch(X){fy(t,X)}while(!0);return i&&t.shellSuspendCounter++,Wi=Zs=null,st=l,A.H=h,A.A=d,De===null&&(Je=null,Ue=0,Zu()),E}function SS(){for(;De!==null;)py(De)}function bS(t,i){var a=st;st|=2;var l=dy(),h=my();Je!==t||Ue!==i?(Rc=null,Ac=pn()+500,eo(t,i)):Za=Ar(t,i);e:do try{if(et!==0&&De!==null){i=De;var d=In;t:switch(et){case 1:et=0,In=null,to(t,i,d,1);break;case 2:if(Ag(d)){et=0,In=null,gy(i);break}i=function(){et===2&&Je===t&&(et=7),wi(t)},d.then(i,i);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Ag(d)?(et=0,In=null,gy(i)):(et=0,In=null,to(t,i,d,7));break;case 5:var E=null;switch(De.tag){case 26:E=De.memoizedState;case 5:case 27:var w=De;if(!E||Gy(E)){et=0,In=null;var I=w.sibling;if(I!==null)De=I;else{var L=w.return;L!==null?(De=L,xc(L)):De=null}break t}}et=0,In=null,to(t,i,d,5);break;case 6:et=0,In=null,to(t,i,d,6);break;case 8:Dd(),ht=6;break e;default:throw Error(s(462))}}AS();break}catch(X){fy(t,X)}while(!0);return Wi=Zs=null,A.H=l,A.A=h,st=a,De!==null?0:(Je=null,Ue=0,Zu(),ht)}function AS(){for(;De!==null&&!of();)py(De)}function py(t){var i=j_(t.alternate,t,rr);t.memoizedProps=t.pendingProps,i===null?xc(t):De=i}function gy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=D_(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=D_(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:jf(i);default:ly(a,i),i=De=sy(i,rr),i=j_(a,i,rr)}t.memoizedProps=t.pendingProps,i===null?xc(t):De=i}function to(t,i,a,l){Wi=Zs=null,jf(i),Ha=null,cl=0;var h=i.return;try{if(dS(t,h,i,a,Ue)){ht=1,yc(t,zn(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ht=1,yc(t,zn(a,t.current)),De=null;return}i.flags&32768?(qe||l===1?t=!0:Za||(Ue&536870912)!==0?t=!1:(ir=t=!0,(l===2||l===3||l===6)&&(l=qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),_y(i,t)):xc(i)}function xc(t){var i=t;do{if((i.flags&32768)!==0){_y(i,ir);return}t=i.return;var a=yS(i.alternate,i,rr);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ht===0&&(ht=5)}function _y(t,i){do{var a=vS(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ht=6,De=null}function yy(t,i,a,l,h,d,E,w,I,L){var X=A.T,ee=le.p;try{le.p=2,A.T=null,RS(t,i,a,l,ee,h,d,E,w,I,L)}finally{A.T=X,le.p=ee}}function RS(t,i,a,l,h,d,E,w){do no();while(ia!==null);if((st&6)!==0)throw Error(s(327));var I=t.finishedWork;if(l=t.finishedLanes,I===null)return null;if(t.finishedWork=null,t.finishedLanes=0,I===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var L=I.lanes|I.childLanes;if(L|=wf,Du(t,l,L,d,E,w),t===Je&&(De=Je=null,Ue=0),(I.subtreeFlags&10256)===0&&(I.flags&10256)===0||Cc||(Cc=!0,Cd=L,Id=a,NS(Vi,function(){return no(),null})),a=(I.flags&15990)!==0,(I.subtreeFlags&15990)!==0||a?(a=A.T,A.T=null,d=le.p,le.p=2,E=st,st|=4,pS(t,I),Z_(I,t),Xw(Gd,t.containerInfo),Bc=!!Fd,Gd=Fd=null,t.current=I,Q_(t,I.alternate,I),jo(),st=E,le.p=d,A.T=a):t.current=I,Cc?(Cc=!1,ia=t,Il=l):vy(t,L),L=t.pendingLanes,L===0&&(Zr=null),Uo(I.stateNode),wi(t),i!==null)for(h=t.onRecoverableError,I=0;I<i.length;I++)L=i[I],h(L.value,{componentStack:L.stack});return(Il&3)!==0&&no(),L=t.pendingLanes,(l&4194218)!==0&&(L&42)!==0?t===xd?xl++:(xl=0,xd=t):xl=0,Nl(0),null}function vy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,fl(i)))}function no(){if(ia!==null){var t=ia,i=Cd;Cd=0;var a=Ou(Il),l=A.T,h=le.p;try{if(le.p=32>a?32:a,A.T=null,ia===null)var d=!1;else{a=Id,Id=null;var E=ia,w=Il;if(ia=null,Il=0,(st&6)!==0)throw Error(s(331));var I=st;if(st|=4,iy(E.current),ey(E,E.current,w,a),st=I,Nl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Sr,E)}catch{}d=!0}return d}finally{le.p=h,A.T=l,vy(t,i)}}return!1}function Ey(t,i,a){i=zn(a,i),i=Wf(t.stateNode,i,2),t=$r(t,i,2),t!==null&&(mt(t,2),wi(t))}function Ze(t,i,a){if(t.tag===3)Ey(t,t,a);else for(;i!==null;){if(i.tag===3){Ey(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zr===null||!Zr.has(l))){t=zn(a,t),a=S_(2),l=$r(i,a,2),l!==null&&(b_(a,l,i,t),mt(l,2),wi(l));break}}i=i.return}}function kd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new TS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Sd=!0,h.add(a),t=CS.bind(null,t,i,a),i.then(t,t))}function CS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(Ue&a)===a&&(ht===4||ht===3&&(Ue&62914560)===Ue&&300>pn()-Rd?(st&2)===0&&eo(t,0):bd|=a,Ja===Ue&&(Ja=0)),wi(t)}function Ty(t,i){i===0&&(i=Rr()),t=Lr(t,i),t!==null&&(mt(t,i),wi(t))}function IS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Ty(t,a)}function xS(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Ty(t,a)}function NS(t,i){return Cs(t,i)}var Nc=null,io=null,Pd=!1,Dc=!1,Vd=!1,ra=0;function wi(t){t!==io&&t.next===null&&(io===null?Nc=io=t:io=io.next=t),Dc=!0,Pd||(Pd=!0,OS(DS))}function Nl(t,i){if(!Vd&&Dc){Vd=!0;do for(var a=!1,l=Nc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-an(42|t)+1)-1,d&=h&~(E&~w),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,by(l,d))}else d=Ue,d=Mn(l,l===Je?d:0),(d&3)===0||Ar(l,d)||(a=!0,by(l,d));l=l.next}while(a);Vd=!1}}function DS(){Dc=Pd=!1;var t=0;ra!==0&&(zS()&&(t=ra),ra=0);for(var i=pn(),a=null,l=Nc;l!==null;){var h=l.next,d=wy(l,i);d===0?(l.next=null,a===null?Nc=h:a.next=h,h===null&&(io=a)):(a=l,(t!==0||(d&3)!==0)&&(Dc=!0)),l=h}Nl(t)}function wy(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-an(d),w=1<<E,I=h[E];I===-1?((w&a)===0||(w&l)!==0)&&(h[E]=Ta(w,i)):I<=i&&(t.expiredLanes|=w),d&=~w}if(i=Je,a=Ue,a=Mn(t,t===i?a:0),l=t.callbackNode,a===0||t===i&&et===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ea(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ar(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Ea(l),Ou(a)){case 2:case 8:a=Mt;break;case 32:a=Vi;break;case 268435456:a=Lo;break;default:a=Vi}return l=Sy.bind(null,t),a=Cs(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Ea(l),t.callbackPriority=2,t.callbackNode=null,2}function Sy(t,i){var a=t.callbackNode;if(no()&&t.callbackNode!==a)return null;var l=Ue;return l=Mn(t,t===Je?l:0),l===0?null:(cy(t,l,i),wy(t,pn()),t.callbackNode!=null&&t.callbackNode===a?Sy.bind(null,t):null)}function by(t,i){if(no())return null;cy(t,i,!0)}function OS(t){HS(function(){(st&6)!==0?Cs(bt,t):t()})}function jd(){return ra===0&&(ra=Bo()),ra}function Ay(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:hi(""+t)}function Ry(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function MS(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Ay((h[At]||null).action),E=l.submitter;E&&(i=(i=E[At]||null)?Ay(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var w=new Ia("action","action",null,l,h);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ra!==0){var I=E?Ry(h,E):new FormData(h);$f(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(w.preventDefault(),I=E?Ry(h,E):new FormData(h),$f(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Ld=0;Ld<yg.length;Ld++){var Ud=yg[Ld],kS=Ud.toLowerCase(),PS=Ud[0].toUpperCase()+Ud.slice(1);ei(kS,"on"+PS)}ei(dg,"onAnimationEnd"),ei(mg,"onAnimationIteration"),ei(pg,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(Zw,"onTransitionRun"),ei(Jw,"onTransitionStart"),ei(eS,"onTransitionCancel"),ei(gg,"onTransitionEnd"),gn("onMouseEnter",["mouseout","mouseover"]),gn("onMouseLeave",["mouseout","mouseover"]),gn("onPointerEnter",["pointerout","pointerover"]),gn("onPointerLeave",["pointerout","pointerover"]),Sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dl));function Cy(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var w=l[E],I=w.instance,L=w.currentTarget;if(w=w.listener,I!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=L;try{d(h)}catch(X){_c(X)}h.currentTarget=null,d=I}else for(E=0;E<l.length;E++){if(w=l[E],I=w.instance,L=w.currentTarget,w=w.listener,I!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=L;try{d(h)}catch(X){_c(X)}h.currentTarget=null,d=I}}}}function Pe(t,i){var a=i[xs];a===void 0&&(a=i[xs]=new Set);var l=t+"__bubble";a.has(l)||(Iy(i,t,2,!1),a.add(l))}function zd(t,i,a){var l=0;i&&(l|=4),Iy(a,t,l,i)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function Bd(t){if(!t[Oc]){t[Oc]=!0,qo.forEach(function(a){a!=="selectionchange"&&(VS.has(a)||zd(a,!1,t),zd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Oc]||(i[Oc]=!0,zd("selectionchange",!1,i))}}function Iy(t,i,a,l){switch(Wy(i)){case 2:var h=lb;break;case 8:h=ub;break;default:h=em}a=h.bind(null,i,a,t),h=void 0,!jn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Hd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var w=l.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(E===4)for(E=l.return;E!==null;){var I=E.tag;if((I===3||I===4)&&(I=E.stateNode.containerInfo,I===h||I.nodeType===8&&I.parentNode===h))return;E=E.return}for(;w!==null;){if(E=Jn(w),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){l=d=E;continue e}w=w.parentNode}}l=l.return}ju(function(){var L=d,X=Ca(a),ee=[];e:{var F=_g.get(t);if(F!==void 0){var Y=Ia,fe=t;switch(t){case"keypress":if(di(a)===0)break e;case"keydown":case"keyup":Y=ka;break;case"focusin":fe="focus",Y=Da;break;case"focusout":fe="blur",Y=Da;break;case"beforeblur":case"afterblur":Y=Da;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=mf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=Gu;break;case dg:case mg:case pg:Y=Oa;break;case gg:Y=Ku;break;case"scroll":case"scrollend":Y=Lu;break;case"wheel":Y=Pa;break;case"copy":case"cut":case"paste":Y=Ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=tl;break;case"toggle":case"beforetoggle":Y=Yu}var be=(i&4)!==0,ft=!be&&(t==="scroll"||t==="scrollend"),z=be?F!==null?F+"Capture":null:F;be=[];for(var P=L,H;P!==null;){var W=P;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||z===null||(W=ks(P,z),W!=null&&be.push(Ol(P,W,H))),ft)break;P=P.return}0<be.length&&(F=new Y(F,fe,null,a,X),ee.push({event:F,listeners:be}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",F&&a!==Vn&&(fe=a.relatedTarget||a.fromElement)&&(Jn(fe)||fe[ji]))break e;if((Y||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,Y?(fe=a.relatedTarget||a.toElement,Y=L,fe=fe?Jn(fe):null,fe!==null&&(ft=ge(fe),be=fe.tag,fe!==ft||be!==5&&be!==27&&be!==6)&&(fe=null)):(Y=null,fe=L),Y!==fe)){if(be=Ln,W="onMouseLeave",z="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(be=tl,W="onPointerLeave",z="onPointerEnter",P="pointer"),ft=Y==null?F:Dr(Y),H=fe==null?F:Dr(fe),F=new be(W,P+"leave",Y,a,X),F.target=ft,F.relatedTarget=H,W=null,Jn(X)===L&&(be=new be(z,P+"enter",fe,a,X),be.target=H,be.relatedTarget=ft,W=be),ft=W,Y&&fe)t:{for(be=Y,z=fe,P=0,H=be;H;H=ro(H))P++;for(H=0,W=z;W;W=ro(W))H++;for(;0<P-H;)be=ro(be),P--;for(;0<H-P;)z=ro(z),H--;for(;P--;){if(be===z||z!==null&&be===z.alternate)break t;be=ro(be),z=ro(z)}be=null}else be=null;Y!==null&&xy(ee,F,Y,be,!1),fe!==null&&ft!==null&&xy(ee,ft,fe,be,!0)}}e:{if(F=L?Dr(L):window,Y=F.nodeName&&F.nodeName.toLowerCase(),Y==="select"||Y==="input"&&F.type==="file")var he=ng;else if(Ct(F))if(ig)he=Qw;else{he=$w;var Ne=Gw}else Y=F.nodeName,!Y||Y.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?L&&Qo(L.elementType)&&(he=ng):he=Kw;if(he&&(he=he(t,L))){Gi(ee,he,a,X);break e}Ne&&Ne(t,F,L),t==="focusout"&&L&&F.type==="number"&&L.memoizedProps.value!=null&&Ra(F,"number",F.value)}switch(Ne=L?Dr(L):window,t){case"focusin":(Ct(Ne)||Ne.contentEditable==="true")&&(Va=Ne,vf=L,rl=null);break;case"focusout":rl=vf=Va=null;break;case"mousedown":Ef=!0;break;case"contextmenu":case"mouseup":case"dragend":Ef=!1,hg(ee,a,X);break;case"selectionchange":if(Ww)break;case"keydown":case"keyup":hg(ee,a,X)}var pe;if(gi)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else je?$(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(v&&a.locale!=="ko"&&(je||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&je&&(pe=Xo()):(fi=X,jr="value"in fi?fi.value:fi.textContent,je=!0)),Ne=Mc(L,ve),0<Ne.length&&(ve=new Jo(ve,t,null,a,X),ee.push({event:ve,listeners:Ne}),pe?ve.data=pe:(pe=ie(a),pe!==null&&(ve.data=pe)))),(pe=g?Rt(t,a):Le(t,a))&&(ve=Mc(L,"onBeforeInput"),0<ve.length&&(Ne=new Jo("onBeforeInput","beforeinput",null,a,X),ee.push({event:Ne,listeners:ve}),Ne.data=pe)),MS(ee,t,L,a,X)}Cy(ee,i)})}function Ol(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Mc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=ks(t,a),h!=null&&l.unshift(Ol(t,h,d)),h=ks(t,i),h!=null&&l.push(Ol(t,h,d))),t=t.return}return l}function ro(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function xy(t,i,a,l,h){for(var d=i._reactName,E=[];a!==null&&a!==l;){var w=a,I=w.alternate,L=w.stateNode;if(w=w.tag,I!==null&&I===l)break;w!==5&&w!==26&&w!==27||L===null||(I=L,h?(L=ks(a,d),L!=null&&E.unshift(Ol(a,L,I))):h||(L=ks(a,d),L!=null&&E.push(Ol(a,L,I)))),a=a.return}E.length!==0&&t.push({event:i,listeners:E})}var jS=/\r\n?/g,LS=/\u0000|\uFFFD/g;function Ny(t){return(typeof t=="string"?t:""+t).replace(jS,`
`).replace(LS,"")}function Dy(t,i){return i=Ny(i),Ny(t)===i}function kc(){}function We(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Pn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Pn(t,""+l);break;case"className":kr(t,"class",l);break;case"tabIndex":kr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":kr(t,a,l);break;case"style":Vu(t,l,d);break;case"data":if(i!=="object"){kr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=hi(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=hi(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=kc);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=hi(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),Mr(t,"popover",l);break;case"xlinkActuate":kn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":kn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":kn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":kn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":kn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":kn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":kn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":kn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":kn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Mr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ff.get(a)||a,Mr(t,a,l))}}function qd(t,i,a,l,h,d){switch(a){case"style":Vu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Pn(t,l):(typeof l=="number"||typeof l=="bigint")&&Pn(t,""+l);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=kc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ba.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[At]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Mr(t,a,l)}}}function Ft(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,d,E,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":Pe("invalid",t);var w=d=E=h=null,I=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":E=X;break;case"checked":I=X;break;case"defaultChecked":L=X;break;case"value":d=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:We(t,i,l,X,a,null)}}Os(t,d,w,I,L,E,h,!1),Ds(t);return;case"select":Pe("invalid",t),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":d=w;break;case"defaultValue":E=w;break;case"multiple":l=w;default:We(t,i,h,w,a,null)}i=d,a=E,t.multiple=!!l,i!=null?He(t,!!l,i,!1):a!=null&&He(t,!!l,a,!0);return;case"textarea":Pe("invalid",t),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(w=a[E],w!=null))switch(E){case"value":l=w;break;case"defaultValue":h=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:We(t,i,E,w,a,null)}Vr(t,l,h,d),Ds(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,i,I,l,a,null)}return;case"dialog":Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(l=0;l<Dl.length;l++)Pe(Dl[l],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,L,l,a,null)}return;default:if(Qo(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&qd(t,i,X,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&We(t,i,w,l,a,null))}function US(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,w=null,I=null,L=null,X=null;for(Y in a){var ee=a[Y];if(a.hasOwnProperty(Y)&&ee!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":I=ee;default:l.hasOwnProperty(Y)||We(t,i,Y,null,l,ee)}}for(var F in l){var Y=l[F];if(ee=a[F],l.hasOwnProperty(F)&&(Y!=null||ee!=null))switch(F){case"type":d=Y;break;case"name":h=Y;break;case"checked":L=Y;break;case"defaultChecked":X=Y;break;case"value":E=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==ee&&We(t,i,F,Y,l,ee)}}Pr(t,E,w,I,L,X,d,h);return;case"select":Y=E=w=F=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Y=I;default:l.hasOwnProperty(d)||We(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":F=d;break;case"defaultValue":w=d;break;case"multiple":E=d;default:d!==I&&We(t,i,h,d,l,I)}i=w,a=E,l=Y,F!=null?He(t,!!a,F,!1):!!l!=!!a&&(i!=null?He(t,!!a,i,!0):He(t,!!a,a?[]:"",!1));return;case"textarea":Y=F=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:We(t,i,w,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":F=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,i,E,h,l,d)}Ms(t,F,Y);return;case"option":for(var fe in a)if(F=a[fe],a.hasOwnProperty(fe)&&F!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:We(t,i,fe,null,l,F)}for(I in l)if(F=l[I],Y=a[I],l.hasOwnProperty(I)&&F!==Y&&(F!=null||Y!=null))switch(I){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:We(t,i,I,F,l,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)F=a[be],a.hasOwnProperty(be)&&F!=null&&!l.hasOwnProperty(be)&&We(t,i,be,null,l,F);for(L in l)if(F=l[L],Y=a[L],l.hasOwnProperty(L)&&F!==Y&&(F!=null||Y!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:We(t,i,L,F,l,Y)}return;default:if(Qo(i)){for(var ft in a)F=a[ft],a.hasOwnProperty(ft)&&F!==void 0&&!l.hasOwnProperty(ft)&&qd(t,i,ft,void 0,l,F);for(X in l)F=l[X],Y=a[X],!l.hasOwnProperty(X)||F===Y||F===void 0&&Y===void 0||qd(t,i,X,F,l,Y);return}}for(var z in a)F=a[z],a.hasOwnProperty(z)&&F!=null&&!l.hasOwnProperty(z)&&We(t,i,z,null,l,F);for(ee in l)F=l[ee],Y=a[ee],!l.hasOwnProperty(ee)||F===Y||F==null&&Y==null||We(t,i,ee,F,l,Y)}var Fd=null,Gd=null;function Pc(t){return t.nodeType===9?t:t.ownerDocument}function Oy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function My(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function $d(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Kd=null;function zS(){var t=window.event;return t&&t.type==="popstate"?t===Kd?!1:(Kd=t,!0):(Kd=null,!1)}var ky=typeof setTimeout=="function"?setTimeout:void 0,BS=typeof clearTimeout=="function"?clearTimeout:void 0,Py=typeof Promise=="function"?Promise:void 0,HS=typeof queueMicrotask=="function"?queueMicrotask:typeof Py<"u"?function(t){return Py.resolve(null).then(t).catch(qS)}:ky;function qS(t){setTimeout(function(){throw t})}function Qd(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),zl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);zl(i)}function Yd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Yd(a),Ns(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function FS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Nr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ii(t.nextSibling),t===null)break}return null}function GS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ii(t.nextSibling),t===null))return null;return t}function ii(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function Vy(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function jy(t,i,a){switch(i=Pc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Qn=new Map,Ly=new Set;function Vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var ar=le.d;le.d={f:$S,r:KS,D:QS,C:YS,L:XS,m:WS,X:JS,S:ZS,M:eb};function $S(){var t=ar.f(),i=Ic();return t||i}function KS(t){var i=Li(t);i!==null&&i.tag===5&&i.type==="form"?h_(i):ar.r(t)}var so=typeof document>"u"?null:document;function Uy(t,i,a){var l=so;if(l&&typeof i=="string"&&i){var h=ut(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ly.has(h)||(Ly.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ft(i,"link",t),it(i),l.head.appendChild(i)))}}function QS(t){ar.D(t),Uy("dns-prefetch",t,null)}function YS(t,i){ar.C(t,i),Uy("preconnect",t,i)}function XS(t,i,a){ar.L(t,i,a);var l=so;if(l&&t&&i){var h='link[rel="preload"][as="'+ut(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ut(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ut(a.imageSizes)+'"]')):h+='[href="'+ut(t)+'"]';var d=h;switch(i){case"style":d=ao(t);break;case"script":d=oo(t)}Qn.has(d)||(t=D({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Qn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ml(d))||i==="script"&&l.querySelector(kl(d))||(i=l.createElement("link"),Ft(i,"link",t),it(i),l.head.appendChild(i)))}}function WS(t,i){ar.m(t,i);var a=so;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ut(l)+'"][href="'+ut(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=oo(t)}if(!Qn.has(d)&&(t=D({rel:"modulepreload",href:t},i),Qn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(kl(d)))return}l=a.createElement("link"),Ft(l,"link",t),it(l),a.head.appendChild(l)}}}function ZS(t,i,a){ar.S(t,i,a);var l=so;if(l&&t){var h=Or(l).hoistableStyles,d=ao(t);i=i||"default";var E=h.get(d);if(!E){var w={loading:0,preload:null};if(E=l.querySelector(Ml(d)))w.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Qn.get(d))&&Xd(t,a);var I=E=l.createElement("link");it(I),Ft(I,"link",t),I._p=new Promise(function(L,X){I.onload=L,I.onerror=X}),I.addEventListener("load",function(){w.loading|=1}),I.addEventListener("error",function(){w.loading|=2}),w.loading|=4,jc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:w},h.set(d,E)}}}function JS(t,i){ar.X(t,i);var a=so;if(a&&t){var l=Or(a).hoistableScripts,h=oo(t),d=l.get(h);d||(d=a.querySelector(kl(h)),d||(t=D({src:t,async:!0},i),(i=Qn.get(h))&&Wd(t,i),d=a.createElement("script"),it(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function eb(t,i){ar.M(t,i);var a=so;if(a&&t){var l=Or(a).hoistableScripts,h=oo(t),d=l.get(h);d||(d=a.querySelector(kl(h)),d||(t=D({src:t,async:!0,type:"module"},i),(i=Qn.get(h))&&Wd(t,i),d=a.createElement("script"),it(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function zy(t,i,a,l){var h=(h=On.current)?Vc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ao(a.href),a=Or(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ao(a.href);var d=Or(h).hoistableStyles,E=d.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=h.querySelector(Ml(t)))&&!d._p&&(E.instance=d,E.state.loading=5),Qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(t,a),d||tb(h,t,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=oo(a),a=Or(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ao(t){return'href="'+ut(t)+'"'}function Ml(t){return'link[rel="stylesheet"]['+t+"]"}function By(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function tb(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ft(i,"link",a),it(i),t.head.appendChild(i))}function oo(t){return'[src="'+ut(t)+'"]'}function kl(t){return"script[async]"+t}function Hy(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+ut(a.href)+'"]');if(l)return i.instance=l,it(l),l;var h=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),it(l),Ft(l,"style",h),jc(l,a.precedence,t),i.instance=l;case"stylesheet":h=ao(a.href);var d=t.querySelector(Ml(h));if(d)return i.state.loading|=4,i.instance=d,it(d),d;l=By(a),(h=Qn.get(h))&&Xd(l,h),d=(t.ownerDocument||t).createElement("link"),it(d);var E=d;return E._p=new Promise(function(w,I){E.onload=w,E.onerror=I}),Ft(d,"link",l),i.state.loading|=4,jc(d,a.precedence,t),i.instance=d;case"script":return d=oo(a.src),(h=t.querySelector(kl(d)))?(i.instance=h,it(h),h):(l=a,(h=Qn.get(d))&&(l=D({},a),Wd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),it(h),Ft(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,jc(l,a.precedence,t));return i.instance}function jc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var w=l[E];if(w.dataset.precedence===i)d=w;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Xd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Wd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Lc=null;function qy(t,i,a){if(Lc===null){var l=new Map,h=Lc=new Map;h.set(a,l)}else h=Lc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Nr]||d[kt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=t+E;var w=l.get(E);w?w.push(d):l.set(E,[d])}}return l}function Fy(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function nb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Gy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Pl=null;function ib(){}function rb(t,i,a){if(Pl===null)throw Error(s(475));var l=Pl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ao(a.href),d=t.querySelector(Ml(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Uc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,it(d);return}d=t.ownerDocument||t,a=By(a),(h=Qn.get(h))&&Xd(a,h),d=d.createElement("link"),it(d);var E=d;E._p=new Promise(function(w,I){E.onload=w,E.onerror=I}),Ft(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Uc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function sb(){if(Pl===null)throw Error(s(475));var t=Pl;return t.stylesheets&&t.count===0&&Zd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Zd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Uc(){if(this.count--,this.count===0){if(this.stylesheets)Zd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zc=null;function Zd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zc=new Map,i.forEach(ab,t),zc=null,Uc.call(t))}function ab(t,i){if(!(i.state.loading&4)){var a=zc.get(t);if(a)var l=a.get(null);else{a=new Map,zc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=Uc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Vl={$$typeof:O,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function ob(t,i,a,l,h,d,E,w){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wa(0),this.hiddenUpdates=wa(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function $y(t,i,a,l,h,d,E,w,I,L,X,ee){return t=new ob(t,i,a,E,w,I,L,ee),i=1,d===!0&&(i|=24),d=$n(3,null,null,i),t.current=d,d.stateNode=t,i=Nf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},cd(d),t}function Ky(t){return t?(t=Ua,t):Ua}function Qy(t,i,a,l,h,d){h=Ky(h),l.context===null?l.context=h:l.pendingContext=h,l=Gr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=$r(t,l,i),a!==null&&(cn(a,t,i),vl(a,t,i))}function Yy(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Jd(t,i){Yy(t,i),(t=t.alternate)&&Yy(t,i)}function Xy(t){if(t.tag===13){var i=Lr(t,67108864);i!==null&&cn(i,t,67108864),Jd(t,67108864)}}var Bc=!0;function lb(t,i,a,l){var h=A.T;A.T=null;var d=le.p;try{le.p=2,em(t,i,a,l)}finally{le.p=d,A.T=h}}function ub(t,i,a,l){var h=A.T;A.T=null;var d=le.p;try{le.p=8,em(t,i,a,l)}finally{le.p=d,A.T=h}}function em(t,i,a,l){if(Bc){var h=tm(l);if(h===null)Hd(t,i,l,Hc,a),Zy(t,l);else if(hb(h,t,i,a,l))l.stopPropagation();else if(Zy(t,l),i&4&&-1<cb.indexOf(t)){for(;h!==null;){var d=Li(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Zn(d.pendingLanes);if(E!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var I=1<<31-an(E);w.entanglements[1]|=I,E&=~I}wi(d),(st&6)===0&&(Ac=pn()+500,Nl(0))}}break;case 13:w=Lr(d,2),w!==null&&cn(w,d,2),Ic(),Jd(d,2)}if(d=tm(l),d===null&&Hd(t,i,l,Hc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Hd(t,i,l,null,a)}}function tm(t){return t=Ca(t),nm(t)}var Hc=null;function nm(t){if(Hc=null,t=Jn(t),t!==null){var i=ge(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=Ge(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Hc=t,null}function Wy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cu()){case bt:return 2;case Mt:return 8;case Vi:case Iu:return 32;case Lo:return 268435456;default:return 32}default:return 32}}var im=!1,Jr=null,es=null,ts=null,jl=new Map,Ll=new Map,ns=[],cb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Zy(t,i){switch(t){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":jl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(i.pointerId)}}function Ul(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Li(i),i!==null&&Xy(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function hb(t,i,a,l,h){switch(i){case"focusin":return Jr=Ul(Jr,t,i,a,l,h),!0;case"dragenter":return es=Ul(es,t,i,a,l,h),!0;case"mouseover":return ts=Ul(ts,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return jl.set(d,Ul(jl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ll.set(d,Ul(Ll.get(d)||null,t,i,a,l,h)),!0}return!1}function Jy(t){var i=Jn(t.target);if(i!==null){var a=ge(i);if(a!==null){if(i=a.tag,i===13){if(i=Ge(a),i!==null){t.blockedOn=i,xr(t.priority,function(){if(a.tag===13){var l=xn(),h=Lr(a,l);h!==null&&cn(h,a,l),Jd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=tm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Vn=l,a.target.dispatchEvent(l),Vn=null}else return i=Li(a),i!==null&&Xy(i),t.blockedOn=a,!1;i.shift()}return!0}function ev(t,i,a){qc(t)&&a.delete(i)}function fb(){im=!1,Jr!==null&&qc(Jr)&&(Jr=null),es!==null&&qc(es)&&(es=null),ts!==null&&qc(ts)&&(ts=null),jl.forEach(ev),Ll.forEach(ev)}function Fc(t,i){t.blockedOn===i&&(t.blockedOn=null,im||(im=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,fb)))}var Gc=null;function tv(t){Gc!==t&&(Gc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Gc===t&&(Gc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(nm(l||a)===null)continue;break}var d=Li(a);d!==null&&(t.splice(i,3),i-=3,$f(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function zl(t){function i(I){return Fc(I,t)}Jr!==null&&Fc(Jr,t),es!==null&&Fc(es,t),ts!==null&&Fc(ts,t),jl.forEach(i),Ll.forEach(i);for(var a=0;a<ns.length;a++){var l=ns[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ns.length&&(a=ns[0],a.blockedOn===null);)Jy(a),a.blockedOn===null&&ns.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[At]||null;if(typeof d=="function")E||tv(a);else if(E){var w=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[At]||null)w=E.formAction;else if(nm(h)!==null)continue}else w=E.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),tv(a)}}}function rm(t){this._internalRoot=t}$c.prototype.render=rm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=xn();Qy(a,l,t,i,null,null)},$c.prototype.unmount=rm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&no(),Qy(t.current,2,null,t,null,null),Ic(),i[ji]=null}};function $c(t){this._internalRoot=t}$c.prototype.unstable_scheduleHydration=function(t){if(t){var i=Mu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<ns.length&&i!==0&&i<ns[a].priority;a++);ns.splice(a,0,t),a===0&&Jy(t)}};var nv=e.version;if(nv!=="19.0.0")throw Error(s(527,nv,"19.0.0"));le.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=ne(i),t=t!==null?de(t):null,t=t===null?null:t.stateNode,t};var db={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Jn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{Sr=Kc.inject(db),Yt=Kc}catch{}}return Hl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=v_,d=E_,E=T_,w=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=$y(t,1,!1,null,null,a,l,h,d,E,w,null),t[ji]=i.current,Bd(t.nodeType===8?t.parentNode:t),new rm(i)},Hl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=v_,E=E_,w=T_,I=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=$y(t,1,!0,i,a??null,l,h,d,E,w,I,L),i.context=Ky(null),a=i.current,l=xn(),h=Gr(l),h.callback=null,$r(a,h,l),i.current.lanes=l,mt(i,l),wi(i),t[ji]=i.current,Bd(t),new $c(i)},Hl.version="19.0.0",Hl}var fv;function Sb(){if(fv)return om.exports;fv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),om.exports=wb(),om.exports}var bb=Sb(),ql={},dv;function Ab(){if(dv)return ql;dv=1,Object.defineProperty(ql,"__esModule",{value:!0}),ql.parse=f,ql.serialize=_;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function f(R,O){const j=new u,Q=R.length;if(Q<2)return j;const q=(O==null?void 0:O.decode)||T;let G=0;do{const J=R.indexOf("=",G);if(J===-1)break;const K=R.indexOf(";",G),re=K===-1?Q:K;if(J>re){G=R.lastIndexOf(";",J-1)+1;continue}const se=m(R,G,J),ce=p(R,J,se),k=R.slice(se,ce);if(j[k]===void 0){let C=m(R,J+1,re),A=p(R,re,C);const D=q(R.slice(C,A));j[k]=D}G=re+1}while(G<Q);return j}function m(R,O,j){do{const Q=R.charCodeAt(O);if(Q!==32&&Q!==9)return O}while(++O<j);return j}function p(R,O,j){for(;O>j;){const Q=R.charCodeAt(--O);if(Q!==32&&Q!==9)return O+1}return j}function _(R,O,j){const Q=(j==null?void 0:j.encode)||encodeURIComponent;if(!r.test(R))throw new TypeError(`argument name is invalid: ${R}`);const q=Q(O);if(!e.test(q))throw new TypeError(`argument val is invalid: ${O}`);let G=R+"="+q;if(!j)return G;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);G+="; Max-Age="+j.maxAge}if(j.domain){if(!n.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);G+="; Domain="+j.domain}if(j.path){if(!s.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);G+="; Path="+j.path}if(j.expires){if(!b(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);G+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&(G+="; HttpOnly"),j.secure&&(G+="; Secure"),j.partitioned&&(G+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return G}function T(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function b(R){return o.call(R)==="[object Date]"}return ql}Ab();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var mv="popstate";function Rb(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Am("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:nu(o)}return Ib(e,n,null,r)}function at(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function xi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Cb(){return Math.random().toString(36).substring(2,10)}function pv(r,e){return{usr:r.state,key:r.key,idx:e}}function Am(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Co(e):e,state:n,key:e&&e.key||s||Cb()}}function nu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Co(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Ib(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,_=T();_==null&&(_=0,f.replaceState({...f.state,idx:_},""));function T(){return(f.state||{idx:null}).idx}function b(){m="POP";let q=T(),G=q==null?null:q-_;_=q,p&&p({action:m,location:Q.location,delta:G})}function R(q,G){m="PUSH";let J=Am(Q.location,q,G);_=T()+1;let K=pv(J,_),re=Q.createHref(J);try{f.pushState(K,"",re)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(re)}u&&p&&p({action:m,location:Q.location,delta:1})}function O(q,G){m="REPLACE";let J=Am(Q.location,q,G);_=T();let K=pv(J,_),re=Q.createHref(J);f.replaceState(K,"",re),u&&p&&p({action:m,location:Q.location,delta:0})}function j(q){let G=o.location.origin!=="null"?o.location.origin:o.location.href,J=typeof q=="string"?q:nu(q);return J=J.replace(/ $/,"%20"),at(G,`No window.location.(origin|href) available to create URL for href: ${J}`),new URL(J,G)}let Q={get action(){return m},get location(){return r(o,f)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(mv,b),p=q,()=>{o.removeEventListener(mv,b),p=null}},createHref(q){return e(o,q)},createURL:j,encodeLocation(q){let G=j(q);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:R,replace:O,go(q){return f.go(q)}};return Q}function $E(r,e,n="/"){return xb(r,e,n,!1)}function xb(r,e,n,s){let o=typeof e=="string"?Co(e):e,u=dr(o.pathname||"/",n);if(u==null)return null;let f=KE(r);Nb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let _=Bb(u);m=Ub(f[p],_,s)}return m}function KE(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(at(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let _=cr([s,p.relativePath]),T=n.concat(p);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),KE(u.children,e,T,_)),!(u.path==null&&!u.index)&&e.push({path:_,score:jb(_,u.index),routesMeta:T})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of QE(u.path))o(u,f,p)}),e}function QE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=QE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Nb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Lb(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Db=/^:[\w-]+$/,Ob=3,Mb=2,kb=1,Pb=10,Vb=-2,gv=r=>r==="*";function jb(r,e){let n=r.split("/"),s=n.length;return n.some(gv)&&(s+=Vb),e&&(s+=Mb),n.filter(o=>!gv(o)).reduce((o,u)=>o+(Db.test(u)?Ob:u===""?kb:Pb),s)}function Lb(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Ub(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],_=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",b=mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},T),R=p.route;if(!b&&_&&n&&!s[s.length-1].route.index&&(b=mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:cr([u,b.pathname]),pathnameBase:Gb(cr([u,b.pathnameBase])),route:R}),b.pathnameBase!=="/"&&(u=cr([u,b.pathnameBase]))}return f}function mh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=zb(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((_,{paramName:T,isOptional:b},R)=>{if(T==="*"){let j=m[R]||"";f=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const O=m[R];return b&&!O?_[T]=void 0:_[T]=(O||"").replace(/%2F/g,"/"),_},{}),pathname:u,pathnameBase:f,pattern:r}}function zb(r,e=!1,n=!0){xi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Bb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function dr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function Hb(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Co(r):r;return{pathname:n?n.startsWith("/")?n:qb(n,e):e,search:$b(s),hash:Kb(o)}}function qb(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function hm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Fb(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function YE(r){let e=Fb(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function XE(r,e,n,s=!1){let o;typeof r=="string"?o=Co(r):(o={...r},at(!o.pathname||!o.pathname.includes("?"),hm("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),hm("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),hm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),b-=1;o.pathname=R.join("/")}m=b>=0?e[b]:"/"}let p=Hb(o,m),_=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(_||T)&&(p.pathname+="/"),p}var cr=r=>r.join("/").replace(/\/\/+/g,"/"),Gb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),$b=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Kb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Qb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var WE=["POST","PUT","PATCH","DELETE"];new Set(WE);var Yb=["GET",...WE];new Set(Yb);var Io=U.createContext(null);Io.displayName="DataRouter";var Ph=U.createContext(null);Ph.displayName="DataRouterState";var ZE=U.createContext({isTransitioning:!1});ZE.displayName="ViewTransition";var Xb=U.createContext(new Map);Xb.displayName="Fetchers";var Wb=U.createContext(null);Wb.displayName="Await";var Oi=U.createContext(null);Oi.displayName="Navigation";var fu=U.createContext(null);fu.displayName="Location";var Mi=U.createContext({outlet:null,matches:[],isDataRoute:!1});Mi.displayName="Route";var ep=U.createContext(null);ep.displayName="RouteError";function Zb(r,{relative:e}={}){at(du(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(Oi),{hash:o,pathname:u,search:f}=mu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:cr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function du(){return U.useContext(fu)!=null}function yr(){return at(du(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(fu).location}var JE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function e0(r){U.useContext(Oi).static||U.useLayoutEffect(r)}function ai(){let{isDataRoute:r}=U.useContext(Mi);return r?dA():Jb()}function Jb(){at(du(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(Io),{basename:e,navigator:n}=U.useContext(Oi),{matches:s}=U.useContext(Mi),{pathname:o}=yr(),u=JSON.stringify(YE(s)),f=U.useRef(!1);return e0(()=>{f.current=!0}),U.useCallback((p,_={})=>{if(xi(f.current,JE),!f.current)return;if(typeof p=="number"){n.go(p);return}let T=XE(p,JSON.parse(u),o,_.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:cr([e,T.pathname])),(_.replace?n.replace:n.push)(T,_.state,_)},[e,n,u,o,r])}var t0=U.createContext(null);function eA(){return U.useContext(t0)}function tA(r){let e=U.useContext(Mi).outlet;return e&&U.createElement(t0.Provider,{value:r},e)}function mu(r,{relative:e}={}){let{matches:n}=U.useContext(Mi),{pathname:s}=yr(),o=JSON.stringify(YE(n));return U.useMemo(()=>XE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function nA(r,e){return n0(r,e)}function n0(r,e,n,s){var J;at(du(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=U.useContext(Oi),{matches:f}=U.useContext(Mi),m=f[f.length-1],p=m?m.params:{},_=m?m.pathname:"/",T=m?m.pathnameBase:"/",b=m&&m.route;{let K=b&&b.path||"";i0(_,!b||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let R=yr(),O;if(e){let K=typeof e=="string"?Co(e):e;at(T==="/"||((J=K.pathname)==null?void 0:J.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${K.pathname}" was given in the \`location\` prop.`),O=K}else O=R;let j=O.pathname||"/",Q=j;if(T!=="/"){let K=T.replace(/^\//,"").split("/");Q="/"+j.replace(/^\//,"").split("/").slice(K.length).join("/")}let q=!u&&n&&n.matches&&n.matches.length>0?n.matches:$E(r,{pathname:Q});xi(b||q!=null,`No routes matched location "${O.pathname}${O.search}${O.hash}" `),xi(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${O.pathname}${O.search}${O.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=oA(q&&q.map(K=>Object.assign({},K,{params:Object.assign({},p,K.params),pathname:cr([T,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?T:cr([T,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),f,n,s);return e&&G?U.createElement(fu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...O},navigationType:"POP"}},G):G}function iA(){let r=fA(),e=Qb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=U.createElement(U.Fragment,null,U.createElement("p",null,"💿 Hey developer 👋"),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:o},n):null,f)}var rA=U.createElement(iA,null),sA=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?U.createElement(Mi.Provider,{value:this.props.routeContext},U.createElement(ep.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aA({routeContext:r,match:e,children:n}){let s=U.useContext(Io);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(Mi.Provider,{value:r},n)}function oA(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let _=o[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=p),_.route.id){let{loaderData:T,errors:b}=n,R=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!b||b[_.route.id]===void 0);if(_.route.lazy||R){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,_,T)=>{let b,R=!1,O=null,j=null;n&&(b=u&&_.route.id?u[_.route.id]:void 0,O=_.route.errorElement||rA,f&&(m<0&&T===0?(i0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,j=null):m===T&&(R=!0,j=_.route.hydrateFallbackElement||null)));let Q=e.concat(o.slice(0,T+1)),q=()=>{let G;return b?G=O:R?G=j:_.route.Component?G=U.createElement(_.route.Component,null):_.route.element?G=_.route.element:G=p,U.createElement(aA,{match:_,routeContext:{outlet:p,matches:Q,isDataRoute:n!=null},children:G})};return n&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?U.createElement(sA,{location:n.location,revalidation:n.revalidation,component:O,error:b,children:q(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):q()},null)}function tp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lA(r){let e=U.useContext(Io);return at(e,tp(r)),e}function uA(r){let e=U.useContext(Ph);return at(e,tp(r)),e}function cA(r){let e=U.useContext(Mi);return at(e,tp(r)),e}function np(r){let e=cA(r),n=e.matches[e.matches.length-1];return at(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function hA(){return np("useRouteId")}function fA(){var s;let r=U.useContext(ep),e=uA("useRouteError"),n=np("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function dA(){let{router:r}=lA("useNavigate"),e=np("useNavigate"),n=U.useRef(!1);return e0(()=>{n.current=!0}),U.useCallback(async(o,u={})=>{xi(n.current,JE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var _v={};function i0(r,e,n){!e&&!_v[r]&&(_v[r]=!0,xi(!1,n))}U.memo(mA);function mA({routes:r,future:e,state:n}){return n0(r,void 0,n,e)}function pA(r){return tA(r.context)}function dn(r){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){at(!du(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=U.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Co(n));let{pathname:p="/",search:_="",hash:T="",state:b=null,key:R="default"}=n,O=U.useMemo(()=>{let j=dr(p,f);return j==null?null:{location:{pathname:j,search:_,hash:T,state:b,key:R},navigationType:s}},[f,p,_,T,b,R,s]);return xi(O!=null,`<Router basename="${f}"> is not able to match the URL "${p}${_}${T}" because it does not start with the basename, so the <Router> won't render anything.`),O==null?null:U.createElement(Oi.Provider,{value:m},U.createElement(fu.Provider,{children:e,value:O}))}function _A({children:r,location:e}){return nA(Rm(r),e)}function Rm(r,e=[]){let n=[];return U.Children.forEach(r,(s,o)=>{if(!U.isValidElement(s))return;let u=[...e,o];if(s.type===U.Fragment){n.push.apply(n,Rm(s.props.children,u));return}at(s.type===dn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Rm(s.props.children,u)),n.push(f)}),n}var nh="get",ih="application/x-www-form-urlencoded";function Vh(r){return r!=null&&typeof r.tagName=="string"}function yA(r){return Vh(r)&&r.tagName.toLowerCase()==="button"}function vA(r){return Vh(r)&&r.tagName.toLowerCase()==="form"}function EA(r){return Vh(r)&&r.tagName.toLowerCase()==="input"}function TA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function wA(r,e){return r.button===0&&(!e||e==="_self")&&!TA(r)}var Qc=null;function SA(){if(Qc===null)try{new FormData(document.createElement("form"),0),Qc=!1}catch{Qc=!0}return Qc}var bA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function fm(r){return r!=null&&!bA.has(r)?(xi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ih}"`),null):r}function AA(r,e){let n,s,o,u,f;if(vA(r)){let m=r.getAttribute("action");s=m?dr(m,e):null,n=r.getAttribute("method")||nh,o=fm(r.getAttribute("enctype"))||ih,u=new FormData(r)}else if(yA(r)||EA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?dr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||nh,o=fm(r.getAttribute("formenctype"))||fm(m.getAttribute("enctype"))||ih,u=new FormData(m,r),!SA()){let{name:_,type:T,value:b}=r;if(T==="image"){let R=_?`${_}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else _&&u.append(_,b)}}else{if(Vh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nh,s=null,o=ih,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function ip(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function RA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function IA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await RA(u,n);return f.links?f.links():[]}return[]}));return OA(s.flat(1).filter(CA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function yv(r,e,n,s,o,u){let f=(p,_)=>n[_]?p.route.id!==n[_].route.id:!0,m=(p,_)=>{var T;return n[_].pathname!==p.pathname||((T=n[_].route.path)==null?void 0:T.endsWith("*"))&&n[_].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,_)=>f(p,_)||m(p,_)):u==="data"?e.filter((p,_)=>{var b;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,_)||m(p,_))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function xA(r,e,{includeHydrateFallback:n}={}){return NA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function NA(r){return[...new Set(r)]}function DA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function OA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(DA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function MA(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&dr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function r0(){let r=U.useContext(Io);return ip(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function kA(){let r=U.useContext(Ph);return ip(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var rp=U.createContext(void 0);rp.displayName="FrameworkContext";function s0(){let r=U.useContext(rp);return ip(r,"You must render this element inside a <HydratedRouter> element"),r}function PA(r,e){let n=U.useContext(rp),[s,o]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:_,onMouseLeave:T,onTouchStart:b}=e,R=U.useRef(null);U.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Q=G=>{G.forEach(J=>{f(J.isIntersecting)})},q=new IntersectionObserver(Q,{threshold:.5});return R.current&&q.observe(R.current),()=>{q.disconnect()}}},[r]),U.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let O=()=>{o(!0)},j=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:Fl(m,O),onBlur:Fl(p,j),onMouseEnter:Fl(_,O),onMouseLeave:Fl(T,j),onTouchStart:Fl(b,O)}]:[!1,R,{}]}function Fl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function VA({page:r,...e}){let{router:n}=r0(),s=U.useMemo(()=>$E(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?U.createElement(LA,{page:r,matches:s,...e}):null}function jA(r){let{manifest:e,routeModules:n}=s0(),[s,o]=U.useState([]);return U.useEffect(()=>{let u=!1;return IA(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function LA({page:r,matches:e,...n}){let s=yr(),{manifest:o,routeModules:u}=s0(),{basename:f}=r0(),{loaderData:m,matches:p}=kA(),_=U.useMemo(()=>yv(r,e,p,o,s,"data"),[r,e,p,o,s]),T=U.useMemo(()=>yv(r,e,p,o,s,"assets"),[r,e,p,o,s]),b=U.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let j=new Set,Q=!1;if(e.forEach(G=>{var K;let J=o.routes[G.route.id];!J||!J.hasLoader||(!_.some(re=>re.route.id===G.route.id)&&G.route.id in m&&((K=u[G.route.id])!=null&&K.shouldRevalidate)||J.hasClientLoader?Q=!0:j.add(G.route.id))}),j.size===0)return[];let q=MA(r,f);return Q&&j.size>0&&q.searchParams.set("_routes",e.filter(G=>j.has(G.route.id)).map(G=>G.route.id).join(",")),[q.pathname+q.search]},[f,m,s,o,_,e,r,u]),R=U.useMemo(()=>xA(T,o),[T,o]),O=jA(T);return U.createElement(U.Fragment,null,b.map(j=>U.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),R.map(j=>U.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),O.map(({key:j,link:Q})=>U.createElement("link",{key:j,...Q})))}function UA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var a0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{a0&&(window.__reactRouterVersion="7.3.0")}catch{}function zA({basename:r,children:e,window:n}){let s=U.useRef();s.current==null&&(s.current=Rb({window:n,v5Compat:!0}));let o=s.current,[u,f]=U.useState({action:o.action,location:o.location}),m=U.useCallback(p=>{U.startTransition(()=>f(p))},[f]);return U.useLayoutEffect(()=>o.listen(m),[o,m]),U.createElement(gA,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var o0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=U.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:_,preventScrollReset:T,viewTransition:b,...R},O){let{basename:j}=U.useContext(Oi),Q=typeof _=="string"&&o0.test(_),q,G=!1;if(typeof _=="string"&&Q&&(q=_,a0))try{let A=new URL(window.location.href),D=_.startsWith("//")?new URL(A.protocol+_):new URL(_),x=dr(D.pathname,j);D.origin===A.origin&&x!=null?_=x+D.search+D.hash:G=!0}catch{xi(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=Zb(_,{relative:o}),[K,re,se]=PA(s,R),ce=FA(_,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:b});function k(A){e&&e(A),A.defaultPrevented||ce(A)}let C=U.createElement("a",{...R,...se,href:q||J,onClick:G||u?e:k,ref:UA(O,re),target:p,"data-discover":!Q&&n==="render"?"true":void 0});return K&&!Q?U.createElement(U.Fragment,null,C,U.createElement(VA,{page:J})):C});_e.displayName="Link";var BA=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,..._},T){let b=mu(f,{relative:_.relative}),R=yr(),O=U.useContext(Ph),{navigator:j,basename:Q}=U.useContext(Oi),q=O!=null&&YA(b)&&m===!0,G=j.encodeLocation?j.encodeLocation(b).pathname:b.pathname,J=R.pathname,K=O&&O.navigation&&O.navigation.location?O.navigation.location.pathname:null;n||(J=J.toLowerCase(),K=K?K.toLowerCase():null,G=G.toLowerCase()),K&&Q&&(K=dr(K,Q)||K);const re=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let se=J===G||!o&&J.startsWith(G)&&J.charAt(re)==="/",ce=K!=null&&(K===G||!o&&K.startsWith(G)&&K.charAt(G.length)==="/"),k={isActive:se,isPending:ce,isTransitioning:q},C=se?e:void 0,A;typeof s=="function"?A=s(k):A=[s,se?"active":null,ce?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(k):u;return U.createElement(_e,{..._,"aria-current":C,className:A,ref:T,style:D,to:f,viewTransition:m},typeof p=="function"?p(k):p)});BA.displayName="NavLink";var HA=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=nh,action:m,onSubmit:p,relative:_,preventScrollReset:T,viewTransition:b,...R},O)=>{let j=KA(),Q=QA(m,{relative:_}),q=f.toLowerCase()==="get"?"get":"post",G=typeof m=="string"&&o0.test(m),J=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let re=K.nativeEvent.submitter,se=(re==null?void 0:re.getAttribute("formmethod"))||f;j(re||K.currentTarget,{fetcherKey:e,method:se,navigate:n,replace:o,state:u,relative:_,preventScrollReset:T,viewTransition:b})};return U.createElement("form",{ref:O,method:q,action:Q,onSubmit:s?p:J,...R,"data-discover":!G&&r==="render"?"true":void 0})});HA.displayName="Form";function qA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function l0(r){let e=U.useContext(Io);return at(e,qA(r)),e}function FA(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=ai(),p=yr(),_=mu(r,{relative:u});return U.useCallback(T=>{if(wA(T,e)){T.preventDefault();let b=n!==void 0?n:nu(p)===nu(_);m(r,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,_,n,s,e,r,o,u,f])}var GA=0,$A=()=>`__${String(++GA)}__`;function KA(){let{router:r}=l0("useSubmit"),{basename:e}=U.useContext(Oi),n=hA();return U.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:_}=AA(s,e);if(o.navigate===!1){let T=o.fetcherKey||$A();await r.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function QA(r,{relative:e}={}){let{basename:n}=U.useContext(Oi),s=U.useContext(Mi);at(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...mu(r||".",{relative:e})},f=yr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:cr([n,u.pathname])),nu(u)}function YA(r,e={}){let n=U.useContext(ZE);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=l0("useViewTransitionState"),o=mu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=dr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=dr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return mh(o.pathname,f)!=null||mh(o.pathname,u)!=null}new TextEncoder;const XA="_container_pir9d_11",WA="_main_pir9d_29",ZA="_logo_pir9d_43",JA="_h2_pir9d_51",e1="_happening_pir9d_61",t1="_nav_pir9d_73",n1="_button_pir9d_87",i1="_awesome_pir9d_123",r1="_separator_pir9d_229",s1="_hr_pir9d_251",a1="_terms_pir9d_259",o1="_ul_pir9d_277",l1="_li_pir9d_303",u1="_flexli_pir9d_311",Oe={container:XA,main:WA,logo:ZA,h2:JA,happening:e1,nav:t1,button:n1,awesome:i1,separator:r1,hr:s1,terms:a1,ul:o1,li:l1,flexli:u1},vr=U.createContext();function c1({children:r}){const[e,n]=U.useState({name:"",email:"",password:"",birthday:{month:"",day:"",year:""},checkbox:{getMore:"",connectWith:"",peronalizedAds:"",noThanks:""},bio:"",updateHistory:[],profileImg:"",profileImgID:"",wallImg:"",wallImgId:""}),s=u=>{n(f=>({...f,...u}))},o=()=>{n({name:"",email:"",password:"",birthday:{month:"",day:"",year:""},checkbox:{getMore:"",connectWith:"",peronalizedAds:"",noThanks:""}})};return y.jsx(vr.Provider,{value:{formData:e,updateForm:s,resetFormData:o},children:r})}function h1(){const{resetFormData:r}=U.useContext(vr);return U.useEffect(()=>(r(),()=>{console.log("Front page unmounted")}),[]),y.jsxs("div",{className:Oe.container,children:[y.jsxs("main",{className:Oe.main,children:[y.jsx("h1",{className:Oe.logo,children:"At"}),y.jsxs("div",{children:[y.jsx("h1",{className:Oe.happening,children:"Happening now"}),y.jsx("h2",{className:Oe.h2,children:"Join Today."}),y.jsxs("nav",{className:Oe.nav,children:[y.jsxs(_e,{to:"/react-regular-exam/about",className:`${Oe.button} ${Oe.awesome}`,children:[y.jsx("i",{className:"fa-brands fa-google"}),"Sign up with Google"]}),y.jsxs(_e,{to:"/react-regular-exam/about",className:`${Oe.button} ${Oe.awesome}`,children:[y.jsx("i",{className:"fa-brands fa-apple"}),"Sign up with Apple"]}),y.jsxs("div",{className:Oe.separator,children:[y.jsx("hr",{className:Oe.hr}),y.jsx("p",{children:"or"}),y.jsx("hr",{className:Oe.hr})]}),y.jsx(_e,{to:"/react-regular-exam/create",className:Oe.button,children:"Create account"}),y.jsxs("p",{className:Oe.terms,children:["By signing up, you agree of the ",y.jsx(_e,{to:"/react-regular-exam/about",children:"Term of Service"}),"and ",y.jsx(_e,{to:"/react-regular-exam/about",children:"Privacy Policy"}),", incliding ",y.jsx(_e,{to:"/react-regular-exam/about",children:"Cookie Use."})]}),y.jsx("p",{id:"account",children:"Already have an account?"}),y.jsx(_e,{to:"/react-regular-exam/login",className:Oe.button,children:"Sign in"}),y.jsx("p",{children:"Take a look:"}),y.jsx(_e,{to:"/react-regular-exam/guest",className:Oe.button,children:"Guest"})]})]})]}),y.jsx("footer",{children:y.jsxs("ul",{className:Oe.ul,children:[y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"About"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Download the At app"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Help Center"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Terms of Service"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Privacy Policy"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Cookie Policy"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Accessibillity"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Ads Info"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Blog"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Careers"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Brand Resources"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Advertising"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Marketing"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"At for Business"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Developers"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Directory"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Settings"})}),y.jsx("li",{className:Oe.li,children:y.jsxs(_e,{to:"/react-regular-exam/about",className:Oe.flexli,href:"#",children:[y.jsx("i",{className:"fa-regular fa-copyright"}),"2025 X Corp"]})})]})})]})}const f1="_container_t0tol_1",d1="_nav_t0tol_15",m1="_i_t0tol_25",p1="_main_t0tol_125",g1="_search_t0tol_143",_1="_meta_t0tol_181",y1="_post_t0tol_211",v1="_feedback_t0tol_245",yn={container:f1,nav:d1,i:m1,main:p1,search:g1,meta:_1,post:y1,feedback:v1},E1=()=>{};var vv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},T1=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},c0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,_=p?r[o+2]:0,T=u>>2,b=(u&3)<<4|m>>4;let R=(m&15)<<2|_>>6,O=_&63;p||(O=64,f||(R=64)),s.push(n[T],n[b],n[R],n[O])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(u0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):T1(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const _=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||_==null||b==null)throw new w1;const R=u<<2|m>>4;if(s.push(R),_!==64){const O=m<<4&240|_>>2;if(s.push(O),b!==64){const j=_<<6&192|b;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class w1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const S1=function(r){const e=u0(r);return c0.encodeByteArray(e,!0)},ph=function(r){return S1(r).replace(/\./g,"")},h0=function(r){try{return c0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1=()=>b1().__FIREBASE_DEFAULTS__,R1=()=>{if(typeof process>"u"||typeof vv>"u")return;const r=vv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},C1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&h0(r[1]);return e&&JSON.parse(e)},jh=()=>{try{return E1()||A1()||R1()||C1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},f0=r=>{var e,n;return(n=(e=jh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},I1=r=>{const e=f0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},d0=()=>{var r;return(r=jh())===null||r===void 0?void 0:r.config},m0=r=>{var e;return(e=jh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[ph(JSON.stringify(n)),ph(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function D1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function O1(){var r;const e=(r=jh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function M1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function k1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function P1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function V1(){const r=nn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function j1(){return!O1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function L1(){try{return typeof indexedDB=="object"}catch{return!1}}function U1(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="FirebaseError";class Er extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=z1,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?B1(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Er(o,m,s)}}function B1(r,e){return r.replace(H1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const H1=/\{\$([^}]+)}/g;function q1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function gs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Ev(u)&&Ev(f)){if(!gs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Ev(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Gl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function $l(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function F1(r,e){const n=new G1(r,e);return n.subscribe.bind(n)}class G1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");$1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=dm),o.error===void 0&&(o.error=dm),o.complete===void 0&&(o.complete=dm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $1(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function dm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(r){return r&&r._delegate?r._delegate:r}class la{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new x1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Y1(e))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=aa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=aa){return this.instances.has(e)}getOptions(e=aa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Q1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=aa){return this.component?this.component.multipleInstances?e:aa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Q1(r){return r===aa?void 0:r}function Y1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new K1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const W1={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},Z1=Me.INFO,J1={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},eR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=J1[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class sp{constructor(e){this.name=e,this._logLevel=Z1,this._logHandler=eR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?W1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const tR=(r,e)=>e.some(n=>r instanceof n);let Tv,wv;function nR(){return Tv||(Tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iR(){return wv||(wv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const p0=new WeakMap,Cm=new WeakMap,g0=new WeakMap,mm=new WeakMap,ap=new WeakMap;function rR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(hs(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&p0.set(n,r)}).catch(()=>{}),ap.set(e,r),e}function sR(r){if(Cm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Cm.set(r,e)}let Im={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Cm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||g0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function aR(r){Im=r(Im)}function oR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(pm(this),e,...n);return g0.set(s,e.sort?e.sort():[e]),hs(s)}:iR().includes(r)?function(...e){return r.apply(pm(this),e),hs(p0.get(this))}:function(...e){return hs(r.apply(pm(this),e))}}function lR(r){return typeof r=="function"?oR(r):(r instanceof IDBTransaction&&sR(r),tR(r,nR())?new Proxy(r,Im):r)}function hs(r){if(r instanceof IDBRequest)return rR(r);if(mm.has(r))return mm.get(r);const e=lR(r);return e!==r&&(mm.set(r,e),ap.set(e,r)),e}const pm=r=>ap.get(r);function uR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=hs(f);return s&&f.addEventListener("upgradeneeded",p=>{s(hs(f.result),p.oldVersion,p.newVersion,hs(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const cR=["get","getKey","getAll","getAllKeys","count"],hR=["put","add","delete","clear"],gm=new Map;function Sv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(gm.get(e))return gm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=hR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||cR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),o&&p.done]))[0]};return gm.set(e,u),u}aR(r=>({...r,get:(e,n,s)=>Sv(e,n)||r.get(e,n,s),has:(e,n)=>!!Sv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function dR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const xm="@firebase/app",bv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new sp("@firebase/app"),mR="@firebase/app-compat",pR="@firebase/analytics-compat",gR="@firebase/analytics",_R="@firebase/app-check-compat",yR="@firebase/app-check",vR="@firebase/auth",ER="@firebase/auth-compat",TR="@firebase/database",wR="@firebase/data-connect",SR="@firebase/database-compat",bR="@firebase/functions",AR="@firebase/functions-compat",RR="@firebase/installations",CR="@firebase/installations-compat",IR="@firebase/messaging",xR="@firebase/messaging-compat",NR="@firebase/performance",DR="@firebase/performance-compat",OR="@firebase/remote-config",MR="@firebase/remote-config-compat",kR="@firebase/storage",PR="@firebase/storage-compat",VR="@firebase/firestore",jR="@firebase/vertexai",LR="@firebase/firestore-compat",UR="firebase",zR="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nm="[DEFAULT]",BR={[xm]:"fire-core",[mR]:"fire-core-compat",[gR]:"fire-analytics",[pR]:"fire-analytics-compat",[yR]:"fire-app-check",[_R]:"fire-app-check-compat",[vR]:"fire-auth",[ER]:"fire-auth-compat",[TR]:"fire-rtdb",[wR]:"fire-data-connect",[SR]:"fire-rtdb-compat",[bR]:"fire-fn",[AR]:"fire-fn-compat",[RR]:"fire-iid",[CR]:"fire-iid-compat",[IR]:"fire-fcm",[xR]:"fire-fcm-compat",[NR]:"fire-perf",[DR]:"fire-perf-compat",[OR]:"fire-rc",[MR]:"fire-rc-compat",[kR]:"fire-gcs",[PR]:"fire-gcs-compat",[VR]:"fire-fst",[LR]:"fire-fst-compat",[jR]:"fire-vertex","fire-js":"fire-js",[UR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new Map,HR=new Map,Dm=new Map;function Av(r,e){try{r.container.addComponent(e)}catch(n){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function yo(r){const e=r.name;if(Dm.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;Dm.set(e,r);for(const n of gh.values())Av(n,r);for(const n of HR.values())Av(n,r);return!0}function op(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Yn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fs=new pu("app","Firebase",qR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new la("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw fs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=zR;function _0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Nm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw fs.create("bad-app-name",{appName:String(o)});if(n||(n=d0()),!n)throw fs.create("no-options");const u=gh.get(o);if(u){if(gs(n,u.options)&&gs(s,u.config))return u;throw fs.create("duplicate-app",{appName:o})}const f=new X1(o);for(const p of Dm.values())f.addComponent(p);const m=new FR(n,s,f);return gh.set(o,m),m}function y0(r=Nm){const e=gh.get(r);if(!e&&r===Nm&&d0())return _0();if(!e)throw fs.create("no-app",{appName:r});return e}function ds(r,e,n){var s;let o=(s=BR[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(m.join(" "));return}yo(new la(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GR="firebase-heartbeat-database",$R=1,iu="firebase-heartbeat-store";let _m=null;function v0(){return _m||(_m=uR(GR,$R,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(iu)}catch(n){console.warn(n)}}}}).catch(r=>{throw fs.create("idb-open",{originalErrorMessage:r.message})})),_m}async function KR(r){try{const n=(await v0()).transaction(iu),s=await n.objectStore(iu).get(E0(r));return await n.done,s}catch(e){if(e instanceof Er)mr.warn(e.message);else{const n=fs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mr.warn(n.message)}}}async function Rv(r,e){try{const s=(await v0()).transaction(iu,"readwrite");await s.objectStore(iu).put(e,E0(r)),await s.done}catch(n){if(n instanceof Er)mr.warn(n.message);else{const s=fs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mr.warn(s.message)}}}function E0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QR=1024,YR=30;class XR{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ZR(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Cv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>YR){const f=JR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){mr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Cv(),{heartbeatsToSend:s,unsentEntries:o}=WR(this._heartbeatsCache.heartbeats),u=ph(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return mr.warn(n),""}}}function Cv(){return new Date().toISOString().substring(0,10)}function WR(r,e=QR){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Iv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Iv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class ZR{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return L1()?U1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await KR(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Rv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Rv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Iv(r){return ph(JSON.stringify({version:2,heartbeats:r})).length}function JR(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(r){yo(new la("platform-logger",e=>new fR(e),"PRIVATE")),yo(new la("heartbeat",e=>new XR(e),"PRIVATE")),ds(xm,bv,r),ds(xm,bv,"esm2017"),ds("fire-js","")}eC("");var xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ms,T0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,C){function A(){}A.prototype=C.prototype,k.D=C.prototype,k.prototype=new A,k.prototype.constructor=k,k.C=function(D,x,V){for(var N=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)N[tt-2]=arguments[tt];return C.prototype[x].apply(D,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,C,A){A||(A=0);var D=Array(16);if(typeof C=="string")for(var x=0;16>x;++x)D[x]=C.charCodeAt(A++)|C.charCodeAt(A++)<<8|C.charCodeAt(A++)<<16|C.charCodeAt(A++)<<24;else for(x=0;16>x;++x)D[x]=C[A++]|C[A++]<<8|C[A++]<<16|C[A++]<<24;C=k.g[0],A=k.g[1],x=k.g[2];var V=k.g[3],N=C+(V^A&(x^V))+D[0]+3614090360&4294967295;C=A+(N<<7&4294967295|N>>>25),N=V+(x^C&(A^x))+D[1]+3905402710&4294967295,V=C+(N<<12&4294967295|N>>>20),N=x+(A^V&(C^A))+D[2]+606105819&4294967295,x=V+(N<<17&4294967295|N>>>15),N=A+(C^x&(V^C))+D[3]+3250441966&4294967295,A=x+(N<<22&4294967295|N>>>10),N=C+(V^A&(x^V))+D[4]+4118548399&4294967295,C=A+(N<<7&4294967295|N>>>25),N=V+(x^C&(A^x))+D[5]+1200080426&4294967295,V=C+(N<<12&4294967295|N>>>20),N=x+(A^V&(C^A))+D[6]+2821735955&4294967295,x=V+(N<<17&4294967295|N>>>15),N=A+(C^x&(V^C))+D[7]+4249261313&4294967295,A=x+(N<<22&4294967295|N>>>10),N=C+(V^A&(x^V))+D[8]+1770035416&4294967295,C=A+(N<<7&4294967295|N>>>25),N=V+(x^C&(A^x))+D[9]+2336552879&4294967295,V=C+(N<<12&4294967295|N>>>20),N=x+(A^V&(C^A))+D[10]+4294925233&4294967295,x=V+(N<<17&4294967295|N>>>15),N=A+(C^x&(V^C))+D[11]+2304563134&4294967295,A=x+(N<<22&4294967295|N>>>10),N=C+(V^A&(x^V))+D[12]+1804603682&4294967295,C=A+(N<<7&4294967295|N>>>25),N=V+(x^C&(A^x))+D[13]+4254626195&4294967295,V=C+(N<<12&4294967295|N>>>20),N=x+(A^V&(C^A))+D[14]+2792965006&4294967295,x=V+(N<<17&4294967295|N>>>15),N=A+(C^x&(V^C))+D[15]+1236535329&4294967295,A=x+(N<<22&4294967295|N>>>10),N=C+(x^V&(A^x))+D[1]+4129170786&4294967295,C=A+(N<<5&4294967295|N>>>27),N=V+(A^x&(C^A))+D[6]+3225465664&4294967295,V=C+(N<<9&4294967295|N>>>23),N=x+(C^A&(V^C))+D[11]+643717713&4294967295,x=V+(N<<14&4294967295|N>>>18),N=A+(V^C&(x^V))+D[0]+3921069994&4294967295,A=x+(N<<20&4294967295|N>>>12),N=C+(x^V&(A^x))+D[5]+3593408605&4294967295,C=A+(N<<5&4294967295|N>>>27),N=V+(A^x&(C^A))+D[10]+38016083&4294967295,V=C+(N<<9&4294967295|N>>>23),N=x+(C^A&(V^C))+D[15]+3634488961&4294967295,x=V+(N<<14&4294967295|N>>>18),N=A+(V^C&(x^V))+D[4]+3889429448&4294967295,A=x+(N<<20&4294967295|N>>>12),N=C+(x^V&(A^x))+D[9]+568446438&4294967295,C=A+(N<<5&4294967295|N>>>27),N=V+(A^x&(C^A))+D[14]+3275163606&4294967295,V=C+(N<<9&4294967295|N>>>23),N=x+(C^A&(V^C))+D[3]+4107603335&4294967295,x=V+(N<<14&4294967295|N>>>18),N=A+(V^C&(x^V))+D[8]+1163531501&4294967295,A=x+(N<<20&4294967295|N>>>12),N=C+(x^V&(A^x))+D[13]+2850285829&4294967295,C=A+(N<<5&4294967295|N>>>27),N=V+(A^x&(C^A))+D[2]+4243563512&4294967295,V=C+(N<<9&4294967295|N>>>23),N=x+(C^A&(V^C))+D[7]+1735328473&4294967295,x=V+(N<<14&4294967295|N>>>18),N=A+(V^C&(x^V))+D[12]+2368359562&4294967295,A=x+(N<<20&4294967295|N>>>12),N=C+(A^x^V)+D[5]+4294588738&4294967295,C=A+(N<<4&4294967295|N>>>28),N=V+(C^A^x)+D[8]+2272392833&4294967295,V=C+(N<<11&4294967295|N>>>21),N=x+(V^C^A)+D[11]+1839030562&4294967295,x=V+(N<<16&4294967295|N>>>16),N=A+(x^V^C)+D[14]+4259657740&4294967295,A=x+(N<<23&4294967295|N>>>9),N=C+(A^x^V)+D[1]+2763975236&4294967295,C=A+(N<<4&4294967295|N>>>28),N=V+(C^A^x)+D[4]+1272893353&4294967295,V=C+(N<<11&4294967295|N>>>21),N=x+(V^C^A)+D[7]+4139469664&4294967295,x=V+(N<<16&4294967295|N>>>16),N=A+(x^V^C)+D[10]+3200236656&4294967295,A=x+(N<<23&4294967295|N>>>9),N=C+(A^x^V)+D[13]+681279174&4294967295,C=A+(N<<4&4294967295|N>>>28),N=V+(C^A^x)+D[0]+3936430074&4294967295,V=C+(N<<11&4294967295|N>>>21),N=x+(V^C^A)+D[3]+3572445317&4294967295,x=V+(N<<16&4294967295|N>>>16),N=A+(x^V^C)+D[6]+76029189&4294967295,A=x+(N<<23&4294967295|N>>>9),N=C+(A^x^V)+D[9]+3654602809&4294967295,C=A+(N<<4&4294967295|N>>>28),N=V+(C^A^x)+D[12]+3873151461&4294967295,V=C+(N<<11&4294967295|N>>>21),N=x+(V^C^A)+D[15]+530742520&4294967295,x=V+(N<<16&4294967295|N>>>16),N=A+(x^V^C)+D[2]+3299628645&4294967295,A=x+(N<<23&4294967295|N>>>9),N=C+(x^(A|~V))+D[0]+4096336452&4294967295,C=A+(N<<6&4294967295|N>>>26),N=V+(A^(C|~x))+D[7]+1126891415&4294967295,V=C+(N<<10&4294967295|N>>>22),N=x+(C^(V|~A))+D[14]+2878612391&4294967295,x=V+(N<<15&4294967295|N>>>17),N=A+(V^(x|~C))+D[5]+4237533241&4294967295,A=x+(N<<21&4294967295|N>>>11),N=C+(x^(A|~V))+D[12]+1700485571&4294967295,C=A+(N<<6&4294967295|N>>>26),N=V+(A^(C|~x))+D[3]+2399980690&4294967295,V=C+(N<<10&4294967295|N>>>22),N=x+(C^(V|~A))+D[10]+4293915773&4294967295,x=V+(N<<15&4294967295|N>>>17),N=A+(V^(x|~C))+D[1]+2240044497&4294967295,A=x+(N<<21&4294967295|N>>>11),N=C+(x^(A|~V))+D[8]+1873313359&4294967295,C=A+(N<<6&4294967295|N>>>26),N=V+(A^(C|~x))+D[15]+4264355552&4294967295,V=C+(N<<10&4294967295|N>>>22),N=x+(C^(V|~A))+D[6]+2734768916&4294967295,x=V+(N<<15&4294967295|N>>>17),N=A+(V^(x|~C))+D[13]+1309151649&4294967295,A=x+(N<<21&4294967295|N>>>11),N=C+(x^(A|~V))+D[4]+4149444226&4294967295,C=A+(N<<6&4294967295|N>>>26),N=V+(A^(C|~x))+D[11]+3174756917&4294967295,V=C+(N<<10&4294967295|N>>>22),N=x+(C^(V|~A))+D[2]+718787259&4294967295,x=V+(N<<15&4294967295|N>>>17),N=A+(V^(x|~C))+D[9]+3951481745&4294967295,k.g[0]=k.g[0]+C&4294967295,k.g[1]=k.g[1]+(x+(N<<21&4294967295|N>>>11))&4294967295,k.g[2]=k.g[2]+x&4294967295,k.g[3]=k.g[3]+V&4294967295}s.prototype.u=function(k,C){C===void 0&&(C=k.length);for(var A=C-this.blockSize,D=this.B,x=this.h,V=0;V<C;){if(x==0)for(;V<=A;)o(this,k,V),V+=this.blockSize;if(typeof k=="string"){for(;V<C;)if(D[x++]=k.charCodeAt(V++),x==this.blockSize){o(this,D),x=0;break}}else for(;V<C;)if(D[x++]=k[V++],x==this.blockSize){o(this,D),x=0;break}}this.h=x,this.o+=C},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var C=1;C<k.length-8;++C)k[C]=0;var A=8*this.o;for(C=k.length-8;C<k.length;++C)k[C]=A&255,A/=256;for(this.u(k),k=Array(16),C=A=0;4>C;++C)for(var D=0;32>D;D+=8)k[A++]=this.g[C]>>>D&255;return k};function u(k,C){var A=m;return Object.prototype.hasOwnProperty.call(A,k)?A[k]:A[k]=C(k)}function f(k,C){this.h=C;for(var A=[],D=!0,x=k.length-1;0<=x;x--){var V=k[x]|0;D&&V==C||(A[x]=V,D=!1)}this.g=A}var m={};function p(k){return-128<=k&&128>k?u(k,function(C){return new f([C|0],0>C?-1:0)}):new f([k|0],0>k?-1:0)}function _(k){if(isNaN(k)||!isFinite(k))return b;if(0>k)return q(_(-k));for(var C=[],A=1,D=0;k>=A;D++)C[D]=k/A|0,A*=4294967296;return new f(C,0)}function T(k,C){if(k.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(k.charAt(0)=="-")return q(T(k.substring(1),C));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=_(Math.pow(C,8)),D=b,x=0;x<k.length;x+=8){var V=Math.min(8,k.length-x),N=parseInt(k.substring(x,x+V),C);8>V?(V=_(Math.pow(C,V)),D=D.j(V).add(_(N))):(D=D.j(A),D=D.add(_(N)))}return D}var b=p(0),R=p(1),O=p(16777216);r=f.prototype,r.m=function(){if(Q(this))return-q(this).m();for(var k=0,C=1,A=0;A<this.g.length;A++){var D=this.i(A);k+=(0<=D?D:4294967296+D)*C,C*=4294967296}return k},r.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(j(this))return"0";if(Q(this))return"-"+q(this).toString(k);for(var C=_(Math.pow(k,6)),A=this,D="";;){var x=re(A,C).g;A=G(A,x.j(C));var V=((0<A.g.length?A.g[0]:A.h)>>>0).toString(k);if(A=x,j(A))return V+D;for(;6>V.length;)V="0"+V;D=V+D}},r.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function j(k){if(k.h!=0)return!1;for(var C=0;C<k.g.length;C++)if(k.g[C]!=0)return!1;return!0}function Q(k){return k.h==-1}r.l=function(k){return k=G(this,k),Q(k)?-1:j(k)?0:1};function q(k){for(var C=k.g.length,A=[],D=0;D<C;D++)A[D]=~k.g[D];return new f(A,~k.h).add(R)}r.abs=function(){return Q(this)?q(this):this},r.add=function(k){for(var C=Math.max(this.g.length,k.g.length),A=[],D=0,x=0;x<=C;x++){var V=D+(this.i(x)&65535)+(k.i(x)&65535),N=(V>>>16)+(this.i(x)>>>16)+(k.i(x)>>>16);D=N>>>16,V&=65535,N&=65535,A[x]=N<<16|V}return new f(A,A[A.length-1]&-2147483648?-1:0)};function G(k,C){return k.add(q(C))}r.j=function(k){if(j(this)||j(k))return b;if(Q(this))return Q(k)?q(this).j(q(k)):q(q(this).j(k));if(Q(k))return q(this.j(q(k)));if(0>this.l(O)&&0>k.l(O))return _(this.m()*k.m());for(var C=this.g.length+k.g.length,A=[],D=0;D<2*C;D++)A[D]=0;for(D=0;D<this.g.length;D++)for(var x=0;x<k.g.length;x++){var V=this.i(D)>>>16,N=this.i(D)&65535,tt=k.i(x)>>>16,_t=k.i(x)&65535;A[2*D+2*x]+=N*_t,J(A,2*D+2*x),A[2*D+2*x+1]+=V*_t,J(A,2*D+2*x+1),A[2*D+2*x+1]+=N*tt,J(A,2*D+2*x+1),A[2*D+2*x+2]+=V*tt,J(A,2*D+2*x+2)}for(D=0;D<C;D++)A[D]=A[2*D+1]<<16|A[2*D];for(D=C;D<2*C;D++)A[D]=0;return new f(A,0)};function J(k,C){for(;(k[C]&65535)!=k[C];)k[C+1]+=k[C]>>>16,k[C]&=65535,C++}function K(k,C){this.g=k,this.h=C}function re(k,C){if(j(C))throw Error("division by zero");if(j(k))return new K(b,b);if(Q(k))return C=re(q(k),C),new K(q(C.g),q(C.h));if(Q(C))return C=re(k,q(C)),new K(q(C.g),C.h);if(30<k.g.length){if(Q(k)||Q(C))throw Error("slowDivide_ only works with positive integers.");for(var A=R,D=C;0>=D.l(k);)A=se(A),D=se(D);var x=ce(A,1),V=ce(D,1);for(D=ce(D,2),A=ce(A,2);!j(D);){var N=V.add(D);0>=N.l(k)&&(x=x.add(A),V=N),D=ce(D,1),A=ce(A,1)}return C=G(k,x.j(C)),new K(x,C)}for(x=b;0<=k.l(C);){for(A=Math.max(1,Math.floor(k.m()/C.m())),D=Math.ceil(Math.log(A)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),V=_(A),N=V.j(C);Q(N)||0<N.l(k);)A-=D,V=_(A),N=V.j(C);j(V)&&(V=R),x=x.add(V),k=G(k,N)}return new K(x,k)}r.A=function(k){return re(this,k).h},r.and=function(k){for(var C=Math.max(this.g.length,k.g.length),A=[],D=0;D<C;D++)A[D]=this.i(D)&k.i(D);return new f(A,this.h&k.h)},r.or=function(k){for(var C=Math.max(this.g.length,k.g.length),A=[],D=0;D<C;D++)A[D]=this.i(D)|k.i(D);return new f(A,this.h|k.h)},r.xor=function(k){for(var C=Math.max(this.g.length,k.g.length),A=[],D=0;D<C;D++)A[D]=this.i(D)^k.i(D);return new f(A,this.h^k.h)};function se(k){for(var C=k.g.length+1,A=[],D=0;D<C;D++)A[D]=k.i(D)<<1|k.i(D-1)>>>31;return new f(A,k.h)}function ce(k,C){var A=C>>5;C%=32;for(var D=k.g.length-A,x=[],V=0;V<D;V++)x[V]=0<C?k.i(V+A)>>>C|k.i(V+A+1)<<32-C:k.i(V+A);return new f(x,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,T0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=T,ms=f}).apply(typeof xv<"u"?xv:typeof self<"u"?self:typeof window<"u"?window:{});var Yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var w0,Kl,S0,rh,Om,b0,A0,R0;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yc=="object"&&Yc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in v))break e;v=v[B]}c=c[c.length-1],S=v[c],g=g(S),g!=S&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var v=0,S=!1,B={next:function(){if(!S&&v<c.length){var $=v++;return{value:g($,c[$]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function _(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function T(c,g,v){return c.call.apply(c.bind,arguments)}function b(c,g,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),c.apply(g,B)}}return function(){return c.apply(g,arguments)}}function R(c,g,v){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:b,R.apply(null,arguments)}function O(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function j(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,B,$){for(var ie=Array(arguments.length-2),je=2;je<arguments.length;je++)ie[je-2]=arguments[je];return g.prototype[B].apply(S,ie)}}function Q(c){const g=c.length;if(0<g){const v=Array(g);for(let S=0;S<g;S++)v[S]=c[S];return v}return[]}function q(c,g){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const B=c.length||0,$=S.length||0;c.length=B+$;for(let ie=0;ie<$;ie++)c[B+ie]=S[ie]}else c.push(S)}}class G{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function J(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function re(c){return re[" "](c),c}re[" "]=function(){};var se=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function ce(c,g,v){for(const S in c)g.call(v,c[S],S,c)}function k(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function C(c){const g={};for(const v in c)g[v]=c[v];return g}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,g){let v,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(v in S)c[v]=S[v];for(let $=0;$<A.length;$++)v=A[$],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function x(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function V(c){m.setTimeout(()=>{throw c},0)}function N(){var c=Ge;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class tt{constructor(){this.h=this.g=null}add(g,v){const S=_t.get();S.set(g,v),this.h?this.h.next=S:this.g=S,this.h=S}}var _t=new G(()=>new ae,c=>c.reset());class ae{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,ge=!1,Ge=new tt,M=()=>{const c=m.Promise.resolve(void 0);Te=()=>{c.then(ne)}};var ne=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(v){V(v)}var g=_t;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ge=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return c}();function Ie(c,g){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(se){e:{try{re(g.nodeName);var B=!0;break e}catch{}B=!1}B||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Re[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}j(Ie,oe);var Re={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),Be=0;function lt(c,g,v,S,B){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!S,this.ha=B,this.key=++Be,this.da=this.fa=!1}function Qe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function sn(c){this.src=c,this.g={},this.h=0}sn.prototype.add=function(c,g,v,S,B){var $=c.toString();c=this.g[$],c||(c=this.g[$]=[],this.h++);var ie=On(c,g,S,B);return-1<ie?(g=c[ie],v||(g.fa=!1)):(g=new lt(g,this.src,$,!!S,B),g.fa=v,c.push(g)),g};function ki(c,g){var v=g.type;if(v in c.g){var S=c.g[v],B=Array.prototype.indexOf.call(S,g,void 0),$;($=0<=B)&&Array.prototype.splice.call(S,B,1),$&&(Qe(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function On(c,g,v,S){for(var B=0;B<c.length;++B){var $=c[B];if(!$.da&&$.listener==g&&$.capture==!!v&&$.ha==S)return B}return-1}var Tr="closure_lm_"+(1e6*Math.random()|0),wr={};function Pi(c,g,v,S,B){if(Array.isArray(g)){for(var $=0;$<g.length;$++)Pi(c,g[$],v,S,B);return null}return v=Cu(v),c&&c[yt]?c.K(g,v,_(S)?!!S.capture:!1,B):Vo(c,g,v,!1,S,B)}function Vo(c,g,v,S,B,$){if(!g)throw Error("Invalid event type");var ie=_(B)?!!B.capture:!!B,je=jo(c);if(je||(c[Tr]=je=new sn(c)),v=je.add(g,v,S,ie,$),v.proxy)return v;if(S=ya(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)le||(B=ie),B===void 0&&(B=!1),c.addEventListener(g.toString(),S,B);else if(c.attachEvent)c.attachEvent(Ea(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ya(){function c(v){return g.call(c.src,c.listener,v)}const g=of;return c}function va(c,g,v,S,B){if(Array.isArray(g))for(var $=0;$<g.length;$++)va(c,g[$],v,S,B);else S=_(S)?!!S.capture:!!S,v=Cu(v),c&&c[yt]?(c=c.i,g=String(g).toString(),g in c.g&&($=c.g[g],v=On($,v,S,B),-1<v&&(Qe($[v]),Array.prototype.splice.call($,v,1),$.length==0&&(delete c.g[g],c.h--)))):c&&(c=jo(c))&&(g=c.g[g.toString()],c=-1,g&&(c=On(g,v,S,B)),(v=-1<c?g[c]:null)&&Cs(v))}function Cs(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[yt])ki(g.i,c);else{var v=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(v,S,c.capture):g.detachEvent?g.detachEvent(Ea(v),S):g.addListener&&g.removeListener&&g.removeListener(S),(v=jo(g))?(ki(v,c),v.h==0&&(v.src=null,g[Tr]=null)):Qe(c)}}}function Ea(c){return c in wr?wr[c]:wr[c]="on"+c}function of(c,g){if(c.da)c=!0;else{g=new Ie(g,this);var v=c.listener,S=c.ha||c.src;c.fa&&Cs(c),c=v.call(S,g)}return c}function jo(c){return c=c[Tr],c instanceof sn?c:null}var pn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cu(c){return typeof c=="function"?c:(c[pn]||(c[pn]=function(g){return c.handleEvent(g)}),c[pn])}function bt(){de.call(this),this.i=new sn(this),this.M=this,this.F=null}j(bt,de),bt.prototype[yt]=!0,bt.prototype.removeEventListener=function(c,g,v,S){va(this,c,g,v,S)};function Mt(c,g){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new oe(g,c);else if(g instanceof oe)g.target=g.target||c;else{var B=g;g=new oe(S,c),D(g,B)}if(B=!0,v)for(var $=v.length-1;0<=$;$--){var ie=g.g=v[$];B=Vi(ie,S,!0,g)&&B}if(ie=g.g=c,B=Vi(ie,S,!0,g)&&B,B=Vi(ie,S,!1,g)&&B,v)for($=0;$<v.length;$++)ie=g.g=v[$],B=Vi(ie,S,!1,g)&&B}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],S=0;S<v.length;S++)Qe(v[S]);delete c.g[g],c.h--}}this.F=null},bt.prototype.K=function(c,g,v,S){return this.i.add(String(c),g,!1,v,S)},bt.prototype.L=function(c,g,v,S){return this.i.add(String(c),g,!0,v,S)};function Vi(c,g,v,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var B=!0,$=0;$<g.length;++$){var ie=g[$];if(ie&&!ie.da&&ie.capture==v){var je=ie.listener,Rt=ie.ha||ie.src;ie.fa&&ki(c.i,ie),B=je.call(Rt,S)!==!1&&B}}return B&&!S.defaultPrevented}function Iu(c,g,v){if(typeof c=="function")v&&(c=R(c,v));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function Lo(c){c.g=Iu(()=>{c.g=null,c.i&&(c.i=!1,Lo(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class lf extends de{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Lo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Is(c){de.call(this),this.h=c,this.g={}}j(Is,de);var Sr=[];function Yt(c){ce(c.g,function(g,v){this.g.hasOwnProperty(v)&&Cs(g)},c),c.g={}}Is.prototype.N=function(){Is.aa.N.call(this),Yt(this)},Is.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Uo=m.JSON.stringify,oi=m.JSON.parse,an=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function zo(){}zo.prototype.h=null;function xu(c){return c.h||(c.h=c.i())}function Nu(){}var li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function br(){oe.call(this,"d")}j(br,oe);function Zn(){oe.call(this,"c")}j(Zn,oe);var Mn={},Ar=null;function Ta(){return Ar=Ar||new bt}Mn.La="serverreachability";function Bo(c){oe.call(this,Mn.La,c)}j(Bo,oe);function Rr(c){const g=Ta();Mt(g,new Bo(g))}Mn.STAT_EVENT="statevent";function wa(c,g){oe.call(this,Mn.STAT_EVENT,c),this.stat=g}j(wa,oe);function mt(c){const g=Ta();Mt(g,new wa(g,c))}Mn.Ma="timingevent";function Du(c,g){oe.call(this,Mn.Ma,c),this.size=g}j(Du,oe);function Cr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function Ir(){this.g=!0}Ir.prototype.xa=function(){this.g=!1};function Ou(c,g,v,S,B,$){c.info(function(){if(c.g)if($)for(var ie="",je=$.split("&"),Rt=0;Rt<je.length;Rt++){var Le=je[Rt].split("=");if(1<Le.length){var Vt=Le[0];Le=Le[1];var Ct=Vt.split("_");ie=2<=Ct.length&&Ct[1]=="type"?ie+(Vt+"="+Le+"&"):ie+(Vt+"=redacted&")}}else ie=null;else ie=$;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+g+`
`+v+`
`+ie})}function Mu(c,g,v,S,B,$,ie){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+g+`
`+v+`
`+$+" "+ie})}function xr(c,g,v,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+kt(c,v)+(S?" "+S:"")})}function ui(c,g){c.info(function(){return"TIMEOUT: "+g})}Ir.prototype.info=function(){};function kt(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var $=B[0];if($!="noop"&&$!="stop"&&$!="close")for(var ie=1;ie<B.length;ie++)B[ie]=""}}}}return Uo(v)}catch{return g}}var At={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ji={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},xs;function Sa(){}j(Sa,zo),Sa.prototype.g=function(){return new XMLHttpRequest},Sa.prototype.i=function(){return{}},xs=new Sa;function ci(c,g,v,S){this.j=c,this.i=g,this.l=v,this.R=S||1,this.U=new Is(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ho}function Ho(){this.i=null,this.g="",this.h=!1}var Nr={},Ns={};function Jn(c,g,v){c.L=1,c.v=Ms(ut(g)),c.m=v,c.P=!0,Li(c,null)}function Li(c,g){c.F=Date.now(),it(c),c.A=ut(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Bi(v.i,"t",S),c.C=0,v=c.j.J,c.h=new Ho,c.g=Ku(c.j,v?g:null,!c.m),0<c.O&&(c.M=new lf(R(c.Y,c,c.g),c.O)),g=c.U,v=c.g,S=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(Sr[0]=B.toString()),B=Sr);for(var $=0;$<B.length;$++){var ie=Pi(v,B[$],S||g.handleEvent,!1,g.h||g);if(!ie)break;g.g[ie.key]=ie}g=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Rr(),Ou(c.i,c.u,c.A,c.l,c.R,c.m)}ci.prototype.ca=function(c){c=c.target;const g=this.M;g&&Ln(c)==3?g.j():this.Y(c)},ci.prototype.Y=function(c){try{if(c==this.g)e:{const Ct=Ln(this.g);var g=this.g.Ba();const Gi=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||Uu(this.g)))){this.J||Ct!=4||g==7||(g==8||0>=Gi?Rr(3):Rr(2)),ba(this);var v=this.g.Z();this.X=v;t:if(Dr(this)){var S=Uu(this.g);c="";var B=S.length,$=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){gn(this),Sn(this);var ie="";break t}this.h.i=new m.TextDecoder}for(g=0;g<B;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!($&&g==B-1)});S.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=v==200,Mu(this.i,this.u,this.A,this.l,this.R,Ct,v),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Rt=this.g;if((je=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(je)){var Le=je;break t}}Le=null}if(v=Le)xr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bn(this,v);else{this.o=!1,this.s=3,mt(12),gn(this),Sn(this);break e}}if(this.P){v=!0;let Bt;for(;!this.J&&this.C<ie.length;)if(Bt=Or(this,ie),Bt==Ns){Ct==4&&(this.s=4,mt(14),v=!1),xr(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==Nr){this.s=4,mt(15),xr(this.i,this.l,ie,"[Invalid Chunk]"),v=!1;break}else xr(this.i,this.l,Bt,null),bn(this,Bt);if(Dr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||ie.length!=0||this.h.h||(this.s=1,mt(16),v=!1),this.o=this.o&&v,!v)xr(this.i,this.l,ie,"[Invalid Chunked Response]"),gn(this),Sn(this);else if(0<ie.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),zs(Vt),Vt.M=!0,mt(11))}}else xr(this.i,this.l,ie,null),bn(this,ie);Ct==4&&gn(this),this.o&&!this.J&&(Ct==4?Fu(this.j,this):(this.o=!1,it(this)))}else mf(this.g),v==400&&0<ie.indexOf("Unknown SID")?(this.s=3,mt(12)):(this.s=0,mt(13)),gn(this),Sn(this)}}}catch{}finally{}};function Dr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Or(c,g){var v=c.C,S=g.indexOf(`
`,v);return S==-1?Ns:(v=Number(g.substring(v,S)),isNaN(v)?Nr:(S+=1,S+v>g.length?Ns:(g=g.slice(S,S+v),c.C=S+v,g)))}ci.prototype.cancel=function(){this.J=!0,gn(this)};function it(c){c.S=Date.now()+c.I,qo(c,c.I)}function qo(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Cr(R(c.ba,c),g)}function ba(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ci.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ui(this.i,this.A),this.L!=2&&(Rr(),mt(17)),gn(this),this.s=2,Sn(this)):qo(this,this.S-c)};function Sn(c){c.j.G==0||c.J||Fu(c.j,c)}function gn(c){ba(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Yt(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function bn(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||Mr(v.h,c))){if(!c.K&&Mr(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)ka(v),Oa(v);else break e;el(v),mt(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=Cr(R(v.Za,v),6e3));if(1>=ku(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Fi(v,11)}else if((c.K||v.g==c)&&ka(v),!J(g))for(B=v.Da.g.parse(g),g=0;g<B.length;g++){let Le=B[g];if(v.T=Le[0],Le=Le[1],v.G==2)if(Le[0]=="c"){v.K=Le[1],v.ia=Le[2];const Vt=Le[3];Vt!=null&&(v.la=Vt,v.j.info("VER="+v.la));const Ct=Le[4];Ct!=null&&(v.Aa=Ct,v.j.info("SVER="+v.Aa));const Gi=Le[5];Gi!=null&&typeof Gi=="number"&&0<Gi&&(S=1.5*Gi,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Bt=c.g;if(Bt){const _i=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var $=S.h;$.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(kr($,$.h),$.h=null))}if(S.D){const nl=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;nl&&(S.ya=nl,He(S.I,S.D,nl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ie=c;if(S.qa=$u(S,S.J?S.ia:null,S.W),ie.K){kn(S.h,ie);var je=ie,Rt=S.L;Rt&&(je.I=Rt),je.B&&(ba(je),it(je)),S.g=ie}else Hu(S);0<v.i.length&&Ma(v)}else Le[0]!="stop"&&Le[0]!="close"||Fi(v,7);else v.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Fi(v,7):Zo(v):Le[0]!="noop"&&v.l&&v.l.ta(Le),v.v=0)}}Rr(4)}catch{}}var uf=class{constructor(c,g){this.g=c,this.map=g}};function Fo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Go(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ku(c){return c.h?1:c.g?c.g.size:0}function Mr(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function kr(c,g){c.g?c.g.add(g):c.h=g}function kn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Fo.prototype.cancel=function(){if(this.i=on(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function on(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return Q(c.i)}function Pu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],v=c.length,S=0;S<v;S++)g.push(c[S]);return g}g=[],v=0;for(S in c)g[v++]=c[S];return g}function cf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const S in c)g[v++]=S;return g}}}function Ds(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=cf(c),S=Pu(c),B=S.length,$=0;$<B;$++)g.call(void 0,S[$],v&&v[$],c)}var $o=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Aa(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),B=null;if(0<=S){var $=c[v].substring(0,S);B=c[v].substring(S+1)}else $=c[v];g($,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Ui(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ui){this.h=c.h,Pr(this,c.j),this.o=c.o,this.g=c.g,Os(this,c.s),this.l=c.l;var g=c.i,v=new hi;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),Ra(this,v),this.m=c.m}else c&&(g=String(c).match($o))?(this.h=!1,Pr(this,g[1]||"",!0),this.o=Vr(g[2]||""),this.g=Vr(g[3]||"",!0),Os(this,g[4]),this.l=Vr(g[5]||"",!0),Ra(this,g[6]||"",!0),this.m=Vr(g[7]||"")):(this.h=!1,this.i=new hi(null,this.h))}Ui.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Pn(g,Ko,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Pn(g,Ko,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Pn(v,v.charAt(0)=="/"?Qo:Vu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Pn(v,df)),c.join("")};function ut(c){return new Ui(c)}function Pr(c,g,v){c.j=v?Vr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Os(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Ra(c,g,v){g instanceof hi?(c.i=g,Yo(c.i,c.h)):(v||(g=Pn(g,ff)),c.i=new hi(g,c.h))}function He(c,g,v){c.i.set(g,v)}function Ms(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Vr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Pn(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,hf),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ko=/[#\/\?@]/g,Vu=/[#\?:]/g,Qo=/[#\?]/g,ff=/[#\?@]/g,df=/#/g;function hi(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Vn(c){c.g||(c.g=new Map,c.h=0,c.i&&Aa(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=hi.prototype,r.add=function(c,g){Vn(this),this.i=null,c=Hi(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Ca(c,g){Vn(c),g=Hi(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function zi(c,g){return Vn(c),g=Hi(c,g),c.g.has(g)}r.forEach=function(c,g){Vn(this),this.g.forEach(function(v,S){v.forEach(function(B){c.call(g,B,S,this)},this)},this)},r.na=function(){Vn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let S=0;S<g.length;S++){const B=c[S];for(let $=0;$<B.length;$++)v.push(g[S])}return v},r.V=function(c){Vn(this);let g=[];if(typeof c=="string")zi(this,c)&&(g=g.concat(this.g.get(Hi(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},r.set=function(c,g){return Vn(this),this.i=null,c=Hi(this,c),zi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Bi(c,g,v){Ca(c,g),0<v.length&&(c.i=null,c.g.set(Hi(c,g),Q(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var S=g[v];const $=encodeURIComponent(String(S)),ie=this.V(S);for(S=0;S<ie.length;S++){var B=$;ie[S]!==""&&(B+="="+encodeURIComponent(String(ie[S]))),c.push(B)}}return this.i=c.join("&")};function Hi(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Yo(c,g){g&&!c.j&&(Vn(c),c.i=null,c.g.forEach(function(v,S){var B=S.toLowerCase();S!=B&&(Ca(this,S),Bi(this,B,v))},c)),c.j=g}function ju(c,g){const v=new Ir;if(m.Image){const S=new Image;S.onload=O(jn,v,"TestLoadImage: loaded",!0,g,S),S.onerror=O(jn,v,"TestLoadImage: error",!1,g,S),S.onabort=O(jn,v,"TestLoadImage: abort",!1,g,S),S.ontimeout=O(jn,v,"TestLoadImage: timeout",!1,g,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function ks(c,g){const v=new Ir,S=new AbortController,B=setTimeout(()=>{S.abort(),jn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then($=>{clearTimeout(B),$.ok?jn(v,"TestPingServer: ok",!0,g):jn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(B),jn(v,"TestPingServer: error",!1,g)})}function jn(c,g,v,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(v)}catch{}}function Ps(){this.g=new an}function fi(c,g,v){const S=v||"";try{Ds(c,function(B,$){let ie=B;_(B)&&(ie=Uo(B)),g.push(S+$+"="+encodeURIComponent(ie))})}catch(B){throw g.push(S+"type="+encodeURIComponent("_badmap")),B}}function jr(c){this.l=c.Ub||null,this.j=c.eb||!1}j(jr,zo),jr.prototype.g=function(){return new qi(this.l,this.j)},jr.prototype.i=function(c){return function(){return c}}({});function qi(c,g){bt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(qi,bt),r=qi.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,mi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,di(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?di(this):mi(this),this.readyState==3&&Xo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,di(this))},r.Qa=function(c){this.g&&(this.response=c,di(this))},r.ga=function(){this.g&&di(this)};function di(c){c.readyState=4,c.l=null,c.j=null,c.v=null,mi(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function mi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Wo(c){let g="";return ce(c,function(v,S){g+=S,g+=":",g+=v,g+=`\r
`}),g}function Pt(c,g,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Wo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):He(c,g,v))}function $e(c){bt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j($e,bt);var Ia=/^https?$/i,Vs=["POST","PUT"];r=$e.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():xs.g(),this.v=this.o?xu(this.o):xu(xs),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch($){Lu(this,$);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)v.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const $ of S.keys())v.set($,S.get($));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find($=>$.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Vs,g,void 0))||S||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ie]of v)this.g.setRequestHeader($,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{js(this),this.u=!0,this.g.send(c),this.u=!1}catch($){Lu(this,$)}};function Lu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,xa(c),pi(c)}function xa(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Mt(this,"complete"),Mt(this,"abort"),pi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pi(this,!0)),$e.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Na(this):this.bb())},r.bb=function(){Na(this)};function Na(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Ln(c)!=4||c.Z()!=2)){if(c.u&&Ln(c)==4)Iu(c.Ea,0,c);else if(Mt(c,"readystatechange"),Ln(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var S;if(S=ie===0){var B=String(c.D).match($o)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),S=!Ia.test(B?B.toLowerCase():"")}v=S}if(v)Mt(c,"complete"),Mt(c,"success");else{c.m=6;try{var $=2<Ln(c)?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.Z()+"]",xa(c)}}finally{pi(c)}}}}function pi(c,g){if(c.g){js(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Mt(c,"ready");try{v.onreadystatechange=S}catch{}}}function js(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Ln(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),oi(g)}};function Uu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function mf(c){const g={};c=(c.g&&2<=Ln(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(J(c[S]))continue;var v=x(c[S]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const $=g[B]||[];g[B]=$,$.push(v)}k(g,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ls(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Da(c){this.Aa=0,this.i=[],this.j=new Ir,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ls("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ls("baseRetryDelayMs",5e3,c),this.cb=Ls("retryDelaySeedMs",1e4,c),this.Wa=Ls("forwardChannelMaxRetries",2,c),this.wa=Ls("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Fo(c&&c.concurrentRequestLimit),this.Da=new Ps,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Da.prototype,r.la=8,r.G=1,r.connect=function(c,g,v,S){mt(0),this.W=c,this.H=g||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=$u(this,null,this.W),Ma(this)};function Zo(c){if(zu(c),c.G==3){var g=c.U++,v=ut(c.I);if(He(v,"SID",c.K),He(v,"RID",g),He(v,"TYPE","terminate"),Us(c,v),g=new ci(c,c.j,g),g.L=2,g.v=Ms(ut(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=Ku(g.j,null),g.g.ea(g.v)),g.F=Date.now(),it(g)}Gu(c)}function Oa(c){c.g&&(zs(c),c.g.cancel(),c.g=null)}function zu(c){Oa(c),c.u&&(m.clearTimeout(c.u),c.u=null),ka(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ma(c){if(!Go(c.h)&&!c.s){c.s=!0;var g=c.Ga;Te||M(),ge||(Te(),ge=!0),Ge.add(g,c),c.B=0}}function pf(c,g){return ku(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Cr(R(c.Ga,c,g),tl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new ci(this,this.j,c);let $=this.o;if(this.S&&($?($=C($),D($,this.S)):$=this.S),this.m!==null||this.O||(B.H=$,$=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Bu(this,B,g),v=ut(this.I),He(v,"RID",c),He(v,"CVER",22),this.D&&He(v,"X-HTTP-Session-Id",this.D),Us(this,v),$&&(this.O?g="headers="+encodeURIComponent(String(Wo($)))+"&"+g:this.m&&Pt(v,this.m,$)),kr(this.h,B),this.Ua&&He(v,"TYPE","init"),this.P?(He(v,"$req",g),He(v,"SID","null"),B.T=!0,Jn(B,v,null)):Jn(B,v,g),this.G=2}}else this.G==3&&(c?Jo(this,c):this.i.length==0||Go(this.h)||Jo(this))};function Jo(c,g){var v;g?v=g.l:v=c.U++;const S=ut(c.I);He(S,"SID",c.K),He(S,"RID",v),He(S,"AID",c.T),Us(c,S),c.m&&c.o&&Pt(S,c.m,c.o),v=new ci(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Bu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),kr(c.h,v),Jn(v,S,g)}function Us(c,g){c.H&&ce(c.H,function(v,S){He(g,S,v)}),c.l&&Ds({},function(v,S){He(g,S,v)})}function Bu(c,g,v){v=Math.min(c.i.length,v);var S=c.l?R(c.l.Na,c.l,c):null;e:{var B=c.i;let $=-1;for(;;){const ie=["count="+v];$==-1?0<v?($=B[0].g,ie.push("ofs="+$)):$=0:ie.push("ofs="+$);let je=!0;for(let Rt=0;Rt<v;Rt++){let Le=B[Rt].g;const Vt=B[Rt].map;if(Le-=$,0>Le)$=Math.max(0,B[Rt].g-100),je=!1;else try{fi(Vt,ie,"req"+Le+"_")}catch{S&&S(Vt)}}if(je){S=ie.join("&");break e}}}return c=c.i.splice(0,v),g.D=c,S}function Hu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Te||M(),ge||(Te(),ge=!0),Ge.add(g,c),c.v=0}}function el(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Cr(R(c.Fa,c),tl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,qu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Cr(R(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,mt(10),Oa(this),qu(this))};function zs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function qu(c){c.g=new ci(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=ut(c.qa);He(g,"RID","rpc"),He(g,"SID",c.K),He(g,"AID",c.T),He(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(g,"TO",c.ja),He(g,"TYPE","xmlhttp"),Us(c,g),c.m&&c.o&&Pt(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Ms(ut(g)),v.m=null,v.P=!0,Li(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Oa(this),el(this),mt(19))};function ka(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Fu(c,g){var v=null;if(c.g==g){ka(c),zs(c),c.g=null;var S=2}else if(Mr(c.h,g))v=g.D,kn(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var B=c.B;S=Ta(),Mt(S,new Du(S,v)),Ma(c)}else Hu(c);else if(B=g.s,B==3||B==0&&0<g.X||!(S==1&&pf(c,g)||S==2&&el(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),B){case 1:Fi(c,5);break;case 4:Fi(c,10);break;case 3:Fi(c,6);break;default:Fi(c,2)}}}function tl(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function Fi(c,g){if(c.j.info("Error code "+g),g==2){var v=R(c.fb,c),S=c.Xa;const B=!S;S=new Ui(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Pr(S,"https"),Ms(S),B?ju(S.toString(),v):ks(S.toString(),v)}else mt(2);c.G=0,c.l&&c.l.sa(g),Gu(c),zu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),mt(2)):(this.j.info("Failed to ping google.com"),mt(1))};function Gu(c){if(c.G=0,c.ka=[],c.l){const g=on(c.h);(g.length!=0||c.i.length!=0)&&(q(c.ka,g),q(c.ka,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.ra()}}function $u(c,g,v){var S=v instanceof Ui?ut(v):new Ui(v);if(S.g!="")g&&(S.g=g+"."+S.g),Os(S,S.s);else{var B=m.location;S=B.protocol,g=g?g+"."+B.hostname:B.hostname,B=+B.port;var $=new Ui(null);S&&Pr($,S),g&&($.g=g),B&&Os($,B),v&&($.l=v),S=$}return v=c.D,g=c.ya,v&&g&&He(S,v,g),He(S,"VER",c.la),Us(c,S),S}function Ku(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new $e(new jr({eb:v})):new $e(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}r=Qu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Pa(){}Pa.prototype.g=function(c,g){return new ln(c,g)};function ln(c,g){bt.call(this),this.g=new Da(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!J(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!J(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new gi(this)}j(ln,bt),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Zo(this.g)},ln.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Uo(c),c=v);g.i.push(new uf(g.Ya++,c)),g.G==3&&Ma(g)},ln.prototype.N=function(){this.g.l=null,delete this.j,Zo(this.g),delete this.g,ln.aa.N.call(this)};function Yu(c){br.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}j(Yu,br);function Xu(){Zn.call(this),this.status=1}j(Xu,Zn);function gi(c){this.g=c}j(gi,Qu),gi.prototype.ua=function(){Mt(this.g,"a")},gi.prototype.ta=function(c){Mt(this.g,new Yu(c))},gi.prototype.sa=function(c){Mt(this.g,new Xu)},gi.prototype.ra=function(){Mt(this.g,"b")},Pa.prototype.createWebChannel=Pa.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,R0=function(){return new Pa},A0=function(){return Ta()},b0=Mn,Om={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},At.NO_ERROR=0,At.TIMEOUT=8,At.HTTP_ERROR=6,rh=At,ji.COMPLETE="complete",S0=ji,Nu.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",bt.prototype.listen=bt.prototype.K,Kl=Nu,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,w0=$e}).apply(typeof Yc<"u"?Yc:typeof self<"u"?self:typeof window<"u"?window:{});const Nv="@firebase/firestore",Dv="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=new sp("@firebase/firestore");function lo(){return ua.logLevel}function ue(r,...e){if(ua.logLevel<=Me.DEBUG){const n=e.map(lp);ua.debug(`Firestore (${No}): ${r}`,...n)}}function pr(r,...e){if(ua.logLevel<=Me.ERROR){const n=e.map(lp);ua.error(`Firestore (${No}): ${r}`,...n)}}function vo(r,...e){if(ua.logLevel<=Me.WARN){const n=e.map(lp);ua.warn(`Firestore (${No}): ${r}`,...n)}}function lp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r="Unexpected state"){const e=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: `+r;throw pr(e),new Error(e)}function Ke(r,e){r||we()}function Ae(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends Er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class tC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}class nC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class iC{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new hr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new hr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string"),new C0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new en(e)}}class rC{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class sC{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new rC(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ov{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class aC{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Yn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Ov(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new Ov(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=oC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function Eo(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv=-62135596800,kv=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*kv);return new Dt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Mv)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/kv}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Mv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Dt(0,0))}static max(){return new Se(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="__name__";class bi{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(),s===void 0?s=e.length-n:s>e.length-n&&we(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return bi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=bi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=bi.isNumericId(e),o=bi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?bi.extractNumericId(e).compare(bi.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ms.fromString(e.substring(4,e.length-2))}}class nt extends bi{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const lC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends bi{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return lC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Pv}static keyField(){return new Kt([Pv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new me(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new me(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new me(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(nt.fromString(e))}static fromName(e){return new ye(nt.fromString(e).popFirst(5))}static empty(){return new ye(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=-1;function uC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new Dt(n+1,0):new Dt(n,s));return new _s(o,ye.empty(),e)}function cC(r){return new _s(r.readTime,r.key,ru)}class _s{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new _s(Se.min(),ye.empty(),ru)}static max(){return new _s(Se.max(),ye.empty(),ru)}}function hC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class dC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(r){if(r.code!==te.FAILED_PRECONDITION||r.message!==fC)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,s)=>{n(e)})}static reject(e){return new Z((n,s)=>{s(e)})}static waitFor(e){return new Z((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=Z.resolve(!1);for(const s of e)n=n.next(o=>o?Z.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new Z((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const _=p;n(e[_]).next(T=>{f[_]=T,++m,m===u&&s(f)},T=>o(T))}})}static doWhile(e,n){return new Z((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function mC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Oo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Lh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up=-1;function Uh(r){return r==null}function _h(r){return r===0&&1/r==-1/0}function pC(r){return typeof r=="number"&&Number.isInteger(r)&&!_h(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="";function gC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Vv(e)),e=_C(r.get(n),e);return Vv(e)}function _C(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case x0:n+="";break;default:n+=u}}return n}function Vv(r){return r+x0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Ss(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function N0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xc(this.root,e,this.comparator,!0)}}class Xc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??$t.RED,this.left=o??$t.EMPTY,this.right=u??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new $t(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,n,s,o,u){return this}insert(e,n,s){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Lv(this.data.getIterator())}getIteratorFrom(e){return new Lv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class Lv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new Ot(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new D0("Invalid base64 string: "+u):u}}(e);return new Qt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const yC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(r){if(Ke(!!r),typeof r=="string"){let e=0;const n=yC.exec(r);if(Ke(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function vs(r){return typeof r=="string"?Qt.fromBase64String(r):Qt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0="server_timestamp",M0="__type__",k0="__previous_value__",P0="__local_write_time__";function cp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[M0])===null||n===void 0?void 0:n.stringValue)===O0}function zh(r){const e=r.mapValue.fields[k0];return cp(e)?zh(e):e}function su(r){const e=ys(r.mapValue.fields[P0].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,n,s,o,u,f,m,p,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=_}}const yh="(default)";class au{constructor(e,n){this.projectId=e,this.database=n||yh}static empty(){return new au("","")}get isDefaultDatabase(){return this.database===yh}isEqual(e){return e instanceof au&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0="__type__",EC="__max__",Wc={mapValue:{}},j0="__vector__",vh="value";function Es(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?cp(r)?4:wC(r)?9007199254740991:TC(r)?10:11:we()}function Ni(r,e){if(r===e)return!0;const n=Es(r);if(n!==Es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return su(r).isEqual(su(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ys(o.timestampValue),m=ys(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return vs(o.bytesValue).isEqual(vs(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return gt(o.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return gt(o.integerValue)===gt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=gt(o.doubleValue),m=gt(u.doubleValue);return f===m?_h(f)===_h(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return Eo(r.arrayValue.values||[],e.arrayValue.values||[],Ni);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(jv(f)!==jv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ni(f[p],m[p])))return!1;return!0}(r,e);default:return we()}}function ou(r,e){return(r.values||[]).find(n=>Ni(n,e))!==void 0}function To(r,e){if(r===e)return 0;const n=Es(r),s=Es(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=gt(u.integerValue||u.doubleValue),p=gt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return Uv(r.timestampValue,e.timestampValue);case 4:return Uv(su(r),su(e));case 5:return Ve(r.stringValue,e.stringValue);case 6:return function(u,f){const m=vs(u),p=vs(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let _=0;_<m.length&&_<p.length;_++){const T=Ve(m[_],p[_]);if(T!==0)return T}return Ve(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ve(gt(u.latitude),gt(f.latitude));return m!==0?m:Ve(gt(u.longitude),gt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return zv(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,_,T;const b=u.fields||{},R=f.fields||{},O=(m=b[vh])===null||m===void 0?void 0:m.arrayValue,j=(p=R[vh])===null||p===void 0?void 0:p.arrayValue,Q=Ve(((_=O==null?void 0:O.values)===null||_===void 0?void 0:_.length)||0,((T=j==null?void 0:j.values)===null||T===void 0?void 0:T.length)||0);return Q!==0?Q:zv(O,j)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Wc.mapValue&&f===Wc.mapValue)return 0;if(u===Wc.mapValue)return 1;if(f===Wc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),_=f.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let b=0;b<p.length&&b<T.length;++b){const R=Ve(p[b],T[b]);if(R!==0)return R;const O=To(m[p[b]],_[T[b]]);if(O!==0)return O}return Ve(p.length,T.length)}(r.mapValue,e.mapValue);default:throw we()}}function Uv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=ys(r),s=ys(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function zv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=To(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function wo(r){return Mm(r)}function Mm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=ys(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return vs(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ye.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Mm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Mm(n.fields[f])}`;return o+"}"}(r.mapValue):we()}function sh(r){switch(Es(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zh(r);return e?16+sh(e):16;case 5:return 2*r.stringValue.length;case 6:return vs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+sh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Ss(s.fields,(u,f)=>{o+=u.length+sh(f)}),o}(r.mapValue);default:throw we()}}function km(r){return!!r&&"integerValue"in r}function hp(r){return!!r&&"arrayValue"in r}function Bv(r){return!!r&&"nullValue"in r}function Hv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ah(r){return!!r&&"mapValue"in r}function TC(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[V0])===null||n===void 0?void 0:n.stringValue)===j0}function Wl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ss(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Wl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Wl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function wC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===EC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ah(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(n)}setAll(e){let n=Kt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Wl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Ss(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Tn(Wl(this.value))}}function L0(r){const e=[];return Ss(r.fields,(n,s)=>{const o=new Kt([n]);if(ah(s)){const u=L0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new tn(e,0,Se.min(),Se.min(),Se.min(),Tn.empty(),0)}static newFoundDocument(e,n,s,o){return new tn(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new tn(e,2,n,Se.min(),Se.min(),Tn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,Se.min(),Se.min(),Tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.position=e,this.inclusive=n}}function qv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=To(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Fv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ni(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n="asc"){this.field=e,this.dir=n}}function SC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{}class Nt extends U0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new AC(e,n,s):n==="array-contains"?new IC(e,s):n==="in"?new xC(e,s):n==="not-in"?new NC(e,s):n==="array-contains-any"?new DC(e,s):new Nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new RC(e,s):new CC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(To(n,this.value)):n!==null&&Es(this.value)===Es(n)&&this.matchesComparison(To(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends U0{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Di(e,n)}matches(e){return z0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function z0(r){return r.op==="and"}function B0(r){return bC(r)&&z0(r)}function bC(r){for(const e of r.filters)if(e instanceof Di)return!1;return!0}function Pm(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+wo(r.value);if(B0(r))return r.filters.map(e=>Pm(e)).join(",");{const e=r.filters.map(n=>Pm(n)).join(",");return`${r.op}(${e})`}}function H0(r,e){return r instanceof Nt?function(s,o){return o instanceof Nt&&s.op===o.op&&s.field.isEqual(o.field)&&Ni(s.value,o.value)}(r,e):r instanceof Di?function(s,o){return o instanceof Di&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&H0(f,o.filters[m]),!0):!1}(r,e):void we()}function q0(r){return r instanceof Nt?function(n){return`${n.field.canonicalString()} ${n.op} ${wo(n.value)}`}(r):r instanceof Di?function(n){return n.op.toString()+" {"+n.getFilters().map(q0).join(" ,")+"}"}(r):"Filter"}class AC extends Nt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class RC extends Nt{constructor(e,n){super(e,"in",n),this.keys=F0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class CC extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=F0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function F0(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class IC extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return hp(n)&&ou(n.arrayValue,this.value)}}class xC extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ou(this.value.arrayValue,n)}}class NC extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ou(this.value.arrayValue,n)}}class DC extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!hp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ou(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function Gv(r,e=null,n=[],s=[],o=null,u=null,f=null){return new OC(r,e,n,s,o,u,f)}function fp(r){const e=Ae(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Pm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Uh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>wo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>wo(s)).join(",")),e.le=n}return e.le}function dp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!SC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!H0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Fv(r.startAt,e.startAt)&&Fv(r.endAt,e.endAt)}function Vm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function MC(r,e,n,s,o,u,f,m){return new Bh(r,e,n,s,o,u,f,m)}function mp(r){return new Bh(r)}function $v(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function kC(r){return r.collectionGroup!==null}function Zl(r){const e=Ae(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ot(Kt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new Th(u,s))}),n.has(Kt.keyField().canonicalString())||e.he.push(new Th(Kt.keyField(),s))}return e.he}function Ai(r){const e=Ae(r);return e.Pe||(e.Pe=PC(e,Zl(r))),e.Pe}function PC(r,e){if(r.limitType==="F")return Gv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Th(o.field,u)});const n=r.endAt?new Eh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Eh(r.startAt.position,r.startAt.inclusive):null;return Gv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function jm(r,e,n){return new Bh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Hh(r,e){return dp(Ai(r),Ai(e))&&r.limitType===e.limitType}function G0(r){return`${fp(Ai(r))}|lt:${r.limitType}`}function uo(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>q0(o)).join(", ")}]`),Uh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>wo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>wo(o)).join(",")),`Target(${s})`}(Ai(r))}; limitType=${r.limitType})`}function qh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Zl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const _=qv(f,m,p);return f.inclusive?_<=0:_<0}(s.startAt,Zl(s),o)||s.endAt&&!function(f,m,p){const _=qv(f,m,p);return f.inclusive?_>=0:_>0}(s.endAt,Zl(s),o))}(r,e)}function VC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function $0(r){return(e,n)=>{let s=!1;for(const o of Zl(r)){const u=jC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function jC(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),_=m.data.field(u);return p!==null&&_!==null?To(p,_):we()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ss(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return N0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=new ot(ye.comparator);function gr(){return LC}const K0=new ot(ye.comparator);function Ql(...r){let e=K0;for(const n of r)e=e.insert(n.key,n);return e}function Q0(r){let e=K0;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function oa(){return Jl()}function Y0(){return Jl()}function Jl(){return new da(r=>r.toString(),(r,e)=>r.isEqual(e))}const UC=new ot(ye.comparator),zC=new Ot(ye.comparator);function ke(...r){let e=zC;for(const n of r)e=e.add(n);return e}const BC=new Ot(Ve);function HC(){return BC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function X0(r){return{integerValue:""+r}}function W0(r,e){return pC(e)?X0(e):pp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this._=void 0}}function qC(r,e,n){return r instanceof wh?function(o,u){const f={fields:{[M0]:{stringValue:O0},[P0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&cp(u)&&(u=zh(u)),u&&(f.fields[k0]=u),{mapValue:f}}(n,e):r instanceof So?J0(r,e):r instanceof lu?eT(r,e):function(o,u){const f=Z0(o,u),m=Kv(f)+Kv(o.Ie);return km(f)&&km(o.Ie)?X0(m):pp(o.serializer,m)}(r,e)}function FC(r,e,n){return r instanceof So?J0(r,e):r instanceof lu?eT(r,e):n}function Z0(r,e){return r instanceof uu?function(s){return km(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class wh extends Fh{}class So extends Fh{constructor(e){super(),this.elements=e}}function J0(r,e){const n=tT(e);for(const s of r.elements)n.some(o=>Ni(o,s))||n.push(s);return{arrayValue:{values:n}}}class lu extends Fh{constructor(e){super(),this.elements=e}}function eT(r,e){let n=tT(e);for(const s of r.elements)n=n.filter(o=>!Ni(o,s));return{arrayValue:{values:n}}}class uu extends Fh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Kv(r){return gt(r.integerValue||r.doubleValue)}function tT(r){return hp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(e,n){this.field=e,this.transform=n}}function GC(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof So&&o instanceof So||s instanceof lu&&o instanceof lu?Eo(s.elements,o.elements,Ni):s instanceof uu&&o instanceof uu?Ni(s.Ie,o.Ie):s instanceof wh&&o instanceof wh}(r.transform,e.transform)}class $C{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Gh{}function iT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new gp(r.key,Xn.none()):new _u(r.key,r.data,Xn.none());{const n=r.data,s=Tn.empty();let o=new Ot(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new bs(r.key,s,new Dn(o.toArray()),Xn.none())}}function KC(r,e,n){r instanceof _u?function(o,u,f){const m=o.value.clone(),p=Yv(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof bs?function(o,u,f){if(!oh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Yv(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(rT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function eu(r,e,n,s){return r instanceof _u?function(u,f,m,p){if(!oh(u.precondition,f))return m;const _=u.value.clone(),T=Xv(u.fieldTransforms,p,f);return _.setAll(T),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(r,e,n,s):r instanceof bs?function(u,f,m,p){if(!oh(u.precondition,f))return m;const _=Xv(u.fieldTransforms,p,f),T=f.data;return T.setAll(rT(u)),T.setAll(_),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,e,n,s):function(u,f,m){return oh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function QC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Z0(s.transform,o||null);u!=null&&(n===null&&(n=Tn.empty()),n.set(s.field,u))}return n||null}function Qv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Eo(s,o,(u,f)=>GC(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class _u extends Gh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class bs extends Gh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function rT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function Yv(r,e,n){const s=new Map;Ke(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,FC(f,m,n[o]))}return s}function Xv(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,qC(u,f,e))}return s}class gp extends Gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class YC extends Gh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&KC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=eu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=eu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Y0();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=iT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,(n,s)=>Qv(n,s))&&Eo(this.baseMutations,e.baseMutations,(n,s)=>Qv(n,s))}}class _p{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length);let o=function(){return UC}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new _p(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,ze;function JC(r){switch(r){case te.OK:return we();case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return we()}}function sT(r){if(r===void 0)return pr("GRPC error has no .code"),te.UNKNOWN;switch(r){case St.OK:return te.OK;case St.CANCELLED:return te.CANCELLED;case St.UNKNOWN:return te.UNKNOWN;case St.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case St.INTERNAL:return te.INTERNAL;case St.UNAVAILABLE:return te.UNAVAILABLE;case St.UNAUTHENTICATED:return te.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case St.NOT_FOUND:return te.NOT_FOUND;case St.ALREADY_EXISTS:return te.ALREADY_EXISTS;case St.PERMISSION_DENIED:return te.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case St.ABORTED:return te.ABORTED;case St.OUT_OF_RANGE:return te.OUT_OF_RANGE;case St.UNIMPLEMENTED:return te.UNIMPLEMENTED;case St.DATA_LOSS:return te.DATA_LOSS;default:return we()}}(ze=St||(St={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI=new ms([4294967295,4294967295],0);function Wv(r){const e=eI().encode(r),n=new T0;return n.update(e),new Uint8Array(n.digest())}function Zv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ms([n,s],0),new ms([o,u],0)]}class yp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Yl(`Invalid padding: ${n}`);if(s<0)throw new Yl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Yl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ms.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(ms.fromNumber(s)));return o.compare(tI)===1&&(o=new ms([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Wv(e),[s,o]=Zv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new yp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=Wv(e),[s,o]=Zv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Yl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,yu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new $h(Se.min(),o,new ot(Ve),gr(),ke())}}class yu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new yu(s,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class aT{constructor(e,n){this.targetId=e,this.ge=n}}class oT{constructor(e,n,s=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Jv{constructor(){this.pe=0,this.ye=eE(),this.we=Qt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=ke(),n=ke(),s=ke();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:we()}}),new yu(this.we,this.be,e,n,s)}Me(){this.Se=!1,this.ye=eE()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ke(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class nI{constructor(e){this.ke=e,this.qe=new Map,this.Qe=gr(),this.$e=Zc(),this.Ke=Zc(),this.Ue=new ot(Ve)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:we()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Vm(u))if(s===0){const f=new ye(u.path);this.ze(n,f,tn.newNoDocument(f,Se.min()))}else Ke(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,_)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=vs(s).toUint8Array()}catch(p){if(p instanceof D0)return vo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new yp(f,o,u)}catch(p){return vo(p instanceof Yl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Vm(m.target)){const p=new ye(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,tn.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=ke();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const _=this.Xe(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new $h(e,n,this.Ue,this.Qe,s);return this.Qe=gr(),this.$e=Zc(),this.Ke=Zc(),this.Ue=new ot(Ve),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Jv,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Ot(Ve),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Ot(Ve),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Jv),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Zc(){return new ot(ye.comparator)}function eE(){return new ot(ye.comparator)}const iI={asc:"ASCENDING",desc:"DESCENDING"},rI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},sI={and:"AND",or:"OR"};class aI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Lm(r,e){return r.useProto3Json||Uh(e)?e:{value:e}}function Sh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function oI(r,e){return Sh(r,e.toTimestamp())}function Ri(r){return Ke(!!r),Se.fromTimestamp(function(n){const s=ys(n);return new Dt(s.seconds,s.nanos)}(r))}function vp(r,e){return Um(r,e).canonicalString()}function Um(r,e){const n=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function uT(r){const e=nt.fromString(r);return Ke(mT(e)),e}function zm(r,e){return vp(r.databaseId,e.path)}function ym(r,e){const n=uT(e);if(n.get(1)!==r.databaseId.projectId)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new me(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(hT(n))}function cT(r,e){return vp(r.databaseId,e)}function lI(r){const e=uT(r);return e.length===4?nt.emptyPath():hT(e)}function Bm(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function hT(r){return Ke(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function tE(r,e,n){return{name:zm(r,e),fields:n.value.mapValue.fields}}function uI(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(_,T){return _.useProto3Json?(Ke(T===void 0||typeof T=="string"),Qt.fromBase64String(T||"")):(Ke(T===void 0||T instanceof Buffer||T instanceof Uint8Array),Qt.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(_){const T=_.code===void 0?te.UNKNOWN:sT(_.code);return new me(T,_.message||"")}(f);n=new oT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=ym(r,s.document.name),u=Ri(s.document.updateTime),f=s.document.createTime?Ri(s.document.createTime):Se.min(),m=new Tn({mapValue:{fields:s.document.fields}}),p=tn.newFoundDocument(o,u,f,m),_=s.targetIds||[],T=s.removedTargetIds||[];n=new lh(_,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=ym(r,s.document),u=s.readTime?Ri(s.readTime):Se.min(),f=tn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new lh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=ym(r,s.document),u=s.removedTargetIds||[];n=new lh([],u,o,null)}else{if(!("filter"in e))return we();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new ZC(o,u),m=s.targetId;n=new aT(m,f)}}return n}function cI(r,e){let n;if(e instanceof _u)n={update:tE(r,e.key,e.value)};else if(e instanceof gp)n={delete:zm(r,e.key)};else if(e instanceof bs)n={update:tE(r,e.key,e.data),updateMask:vI(e.fieldMask)};else{if(!(e instanceof YC))return we();n={verify:zm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof wh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof So)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof lu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof uu)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw we()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:oI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we()}(r,e.precondition)),n}function hI(r,e){return r&&r.length>0?(Ke(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?Ri(o.updateTime):Ri(u);return f.isEqual(Se.min())&&(f=Ri(u)),new $C(f,o.transformResults||[])}(n,e))):[]}function fI(r,e){return{documents:[cT(r,e.path)]}}function dI(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=cT(r,o);const u=function(_){if(_.length!==0)return dT(Di.create(_,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(_){if(_.length!==0)return _.map(T=>function(R){return{field:co(R.field),direction:gI(R.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Lm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ht:n,parent:o}}function mI(r){let e=lI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=function(b){const R=fT(b);return R instanceof Di&&B0(R)?R.getFilters():[R]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(R=>function(j){return new Th(ho(j.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(R))}(n.orderBy));let m=null;n.limit&&(m=function(b){let R;return R=typeof b=="object"?b.value:b,Uh(R)?null:R}(n.limit));let p=null;n.startAt&&(p=function(b){const R=!!b.before,O=b.values||[];return new Eh(O,R)}(n.startAt));let _=null;return n.endAt&&(_=function(b){const R=!b.before,O=b.values||[];return new Eh(O,R)}(n.endAt)),MC(e,o,f,u,m,"F",p,_)}function pI(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ho(n.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ho(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ho(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ho(n.unaryFilter.field);return Nt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(r):r.fieldFilter!==void 0?function(n){return Nt.create(ho(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Di.create(n.compositeFilter.filters.map(s=>fT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we()}}(n.compositeFilter.op))}(r):we()}function gI(r){return iI[r]}function _I(r){return rI[r]}function yI(r){return sI[r]}function co(r){return{fieldPath:r.canonicalString()}}function ho(r){return Kt.fromServerFormat(r.fieldPath)}function dT(r){return r instanceof Nt?function(n){if(n.op==="=="){if(Hv(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NAN"}};if(Bv(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Hv(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NAN"}};if(Bv(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(n.field),op:_I(n.op),value:n.value}}}(r):r instanceof Di?function(n){const s=n.getFilters().map(o=>dT(o));return s.length===1?s[0]:{compositeFilter:{op:yI(n.op),filters:s}}}(r):we()}function vI(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs{constructor(e,n,s,o,u=Se.min(),f=Se.min(),m=Qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new cs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new cs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.Tt=e}}function TI(r){const e=mI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?jm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(){this.Tn=new SI}addToCollectionParentIndex(e,n){return this.Tn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(_s.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(_s.min())}updateCollectionGroup(e,n,s){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class SI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ot(nt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ot(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pT=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(pT,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new bo(0)}static Un(){return new bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="LruGarbageCollector",bI=1048576;function rE([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class AI{constructor(e){this.Hn=e,this.buffer=new Ot(rE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();rE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class RI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ue(iE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Oo(n)?ue(iE,"Ignoring IndexedDB error during garbage collection: ",n):await Do(n)}await this.er(3e5)})}}class CI{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(Lh.ae);const s=new AI(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(nE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),nE):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(_=Date.now(),lo()<=Me.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function II(r,e){return new CI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.changes=new da(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&eu(s.mutation,o,Dn.empty(),Dt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ke()){const o=oa();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Ql();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=oa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ke()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=gr();const f=Jl(),m=function(){return Jl()}();return n.forEach((p,_)=>{const T=s.get(_.key);o.has(_.key)&&(T===void 0||T.mutation instanceof bs)?u=u.insert(_.key,_):T!==void 0?(f.set(_.key,T.mutation.getFieldMask()),eu(T.mutation,_,T.mutation.getFieldMask(),Dt.now())):f.set(_.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((_,T)=>f.set(_,T)),n.forEach((_,T)=>{var b;return m.set(_,new NI(T,(b=f.get(_))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Jl();let o=new ot((f,m)=>f-m),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let T=s.get(p)||Dn.empty();T=m.applyToLocalView(_,T),s.set(p,T);const b=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),_=p.key,T=p.value,b=Y0();T.forEach(R=>{if(!u.has(R)){const O=iT(n.get(R),s.get(R));O!==null&&b.set(R,O),u=u.add(R)}}),f.push(this.documentOverlayCache.saveOverlays(e,_,b))}return Z.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):kC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):Z.resolve(oa());let m=ru,p=u;return f.next(_=>Z.forEach(_,(T,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(e,T).next(R=>{p=p.insert(T,R)}))).next(()=>this.populateOverlays(e,_,u)).next(()=>this.computeViews(e,p,_,ke())).next(T=>({batchId:m,changes:Q0(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let o=Ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ql();return this.indexManager.getCollectionParents(e,u).next(m=>Z.forEach(m,p=>{const _=function(b,R){return new Bh(R,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next(T=>{T.forEach((b,R)=>{f=f.insert(b,R)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,_)=>{const T=_.getKey();f.get(T)===null&&(f=f.insert(T,tn.newInvalidDocument(T)))});let m=Ql();return f.forEach((p,_)=>{const T=u.get(p);T!==void 0&&eu(T.mutation,_,Dn.empty(),Dt.now()),qh(n,_)&&(m=m.insert(p,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return Z.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ri(o.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:TI(o.bundledQuery),readTime:Ri(o.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.overlays=new ot(ye.comparator),this.Rr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const s=oa();return Z.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),Z.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),Z.resolve()}getOverlaysForCollection(e,n,s){const o=oa(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ot((_,T)=>_-T);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let T=u.get(_.largestBatchId);T===null&&(T=oa(),u=u.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const m=oa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,T)=>m.set(_,T)),!(m.size()>=o)););return Z.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new WC(n,s));let u=this.Rr.get(n);u===void 0&&(u=ke(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(){this.Vr=new Ot(zt.mr),this.gr=new Ot(zt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new zt(e,n))}br(e,n){e.forEach(s=>this.removeReference(s,n))}Sr(e){const n=new ye(new nt([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ye(new nt([])),s=new zt(n,e),o=new zt(n,e+1);let u=ke();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new zt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ye.comparator(e.key,n.key)||Ve(e.Cr,n.Cr)}static pr(e,n){return Ve(e.Cr,n.Cr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ot(zt.mr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new XC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(e,n){return Z.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?up:this.Fr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ot(Ve);return n.forEach(o=>{const u=new zt(o,0),f=new zt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),Z.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new zt(new ye(u),0);let m=new Ot(Ve);return this.Mr.forEachWhile(p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(m=m.add(p.Cr)),!0)},f),Z.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ke(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Z.forEach(n.mutations,o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new zt(n,0),o=this.Mr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e){this.kr=e,this.docs=function(){return new ot(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let s=gr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=gr();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||hC(cC(T),s)<=0||(o.has(T.key)||qh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,n,s,o){we()}qr(e,n){return Z.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new jI(this)}getSize(e){return Z.resolve(this.size)}}class jI extends xI{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),Z.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.persistence=e,this.Qr=new da(n=>fp(n),dp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Ep,this.targetCount=0,this.Ur=bo.Kn()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),Z.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.zn(n),Z.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Z.waitFor(u).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return Z.resolve(s)}addMatchingKeys(e,n,s){return this.Kr.yr(n,s),Z.resolve()}removeMatchingKeys(e,n,s){this.Kr.br(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),Z.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Kr.vr(n);return Z.resolve(s)}containsKey(e,n){return Z.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Lh(0),this.zr=!1,this.zr=!0,this.jr=new kI,this.referenceDelegate=e(this),this.Hr=new LI(this),this.indexManager=new wI,this.remoteDocumentCache=function(o){return new VI(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new EI(n),this.Yr=new OI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new MI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new PI(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new UI(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return Z.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class UI extends dC{constructor(e){super(),this.currentSequenceNumber=e}}class Tp{constructor(e){this.persistence=e,this.ti=new Ep,this.ni=null}static ri(e){return new Tp(e)}get ii(){if(this.ni)return this.ni;throw we()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),Z.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),Z.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,s=>{const o=ye.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Se.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return Z.or([()=>Z.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class bh{constructor(e,n){this.persistence=e,this.oi=new da(s=>gC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=II(this,n)}static ri(e,n){return new bh(e,n)}Zr(){}Xr(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return Z.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?Z.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),Z.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sh(e.data.value)),n}ar(e,n,s){return Z.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new wp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return j1()?8:mC(nn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new zI;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(lo()<=Me.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(lo()<=Me.DEBUG&&ue("QueryEngine","Query:",uo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(lo()<=Me.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ai(n))):Z.resolve())}rs(e,n){if($v(n))return Z.resolve(null);let s=Ai(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=jm(n,null,"F"),s=Ai(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=ke(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const _=this.cs(n,m);return this.ls(n,_,f,p.readTime)?this.rs(e,jm(n,null,"F")):this.hs(e,_,n,p)}))})))}ss(e,n,s,o){return $v(n)||o.isEqual(Se.min())?Z.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?Z.resolve(null):(lo()<=Me.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),uo(n)),this.hs(e,f,n,uC(o,ru)).next(m=>m))})}cs(e,n){let s=new Ot($0(e));return n.forEach((o,u)=>{qh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return lo()<=Me.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",uo(n)),this.ns.getDocumentsMatchingQuery(e,n,_s.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sp="LocalStore",HI=3e8;class qI{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new ot(Ve),this.Is=new da(u=>fp(u),dp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new DI(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function FI(r,e,n,s){return new qI(r,e,n,s)}async function _T(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=ke();for(const _ of o){f.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of u){m.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(_=>({Rs:_,removedBatchIds:f,addedBatchIds:m}))})})}function GI(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,_,T){const b=_.batch,R=b.keys();let O=Z.resolve();return R.forEach(j=>{O=O.next(()=>T.getEntry(p,j)).next(Q=>{const q=_.docVersions.get(j);Ke(q!==null),Q.version.compareTo(q)<0&&(b.applyToRemoteDocument(Q,_),Q.isValidDocument()&&(Q.setReadTime(_.commitVersion),T.addEntry(Q)))})}),O.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=ke();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(p=p.add(m.batch.mutations[_].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function yT(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function $I(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((T,b)=>{const R=o.get(b);if(!R)return;m.push(n.Hr.removeMatchingKeys(u,T.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(u,T.addedDocuments,b)));let O=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?O=O.withResumeToken(Qt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):T.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(T.resumeToken,s)),o=o.insert(b,O),function(Q,q,G){return Q.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=HI?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(R,O,T)&&m.push(n.Hr.updateTargetData(u,O))});let p=gr(),_=ke();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(KI(u,f,e.documentUpdates).next(T=>{p=T.Vs,_=T.fs})),!s.isEqual(Se.min())){const T=n.Hr.getLastRemoteSnapshotVersion(u).next(b=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return Z.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,_)).next(()=>p)}).then(u=>(n.Ts=o,u))}function KI(r,e,n){let s=ke(),o=ke();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=gr();return n.forEach((m,p)=>{const _=u.get(m);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ue(Sp,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function QI(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=up),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function YI(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,Z.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new cs(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Hm(r,e,n){const s=Ae(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Oo(f))throw f;ue(Sp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function sE(r,e,n){const s=Ae(r);let o=Se.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,_,T){const b=Ae(p),R=b.Is.get(T);return R!==void 0?Z.resolve(b.Ts.get(R)):b.Hr.getTargetData(_,T)}(s,f,Ai(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:ke())).next(m=>(XI(s,VC(e),m),{documents:m,gs:u})))}function XI(r,e,n){let s=r.Es.get(e)||Se.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class aE{constructor(){this.activeTargetIds=HC()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WI{constructor(){this.ho=new aE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new aE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="ConnectivityMonitor";class lE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ue(oE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ue(oE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc=null;function qm(){return Jc===null?Jc=function(){return 268435456+Math.round(2147483648*Math.random())}():Jc++,"0x"+Jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vm="RestConnection",JI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class ex{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===yh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,n,s,o,u){const f=qm(),m=this.So(e,n.toUriEncodedString());ue(vm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(_=>(ue(vm,`Received RPC '${e}' ${f}: `,_),_),_=>{throw vo(vm,`RPC '${e}' ${f} failed with error: `,_,"url: ",m,"request:",s),_})}Co(e,n,s,o,u,f){return this.bo(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+No}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}So(e,n){const s=JI[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class nx extends ex{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=qm();return new Promise((f,m)=>{const p=new w0;p.setWithCredentials(!0),p.listenOnce(S0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case rh.NO_ERROR:const T=p.getResponseJson();ue(Zt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),f(T);break;case rh.TIMEOUT:ue(Zt,`RPC '${e}' ${u} timed out`),m(new me(te.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const b=p.getStatus();if(ue(Zt,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const O=R==null?void 0:R.error;if(O&&O.status&&O.message){const j=function(q){const G=q.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(G)>=0?G:te.UNKNOWN}(O.status);m(new me(j,O.message))}else m(new me(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new me(te.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{ue(Zt,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(o);ue(Zt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",_,s,15)})}Wo(e,n,s){const o=qm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=R0(),m=A0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");ue(Zt,`Creating RPC '${e}' stream ${o}: ${T}`,p);const b=f.createWebChannel(T,p);let R=!1,O=!1;const j=new tx({Fo:q=>{O?ue(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(R||(ue(Zt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),R=!0),ue(Zt,`RPC '${e}' stream ${o} sending:`,q),b.send(q))},Mo:()=>b.close()}),Q=(q,G,J)=>{q.listen(G,K=>{try{J(K)}catch(re){setTimeout(()=>{throw re},0)}})};return Q(b,Kl.EventType.OPEN,()=>{O||(ue(Zt,`RPC '${e}' stream ${o} transport opened.`),j.Qo())}),Q(b,Kl.EventType.CLOSE,()=>{O||(O=!0,ue(Zt,`RPC '${e}' stream ${o} transport closed`),j.Ko())}),Q(b,Kl.EventType.ERROR,q=>{O||(O=!0,vo(Zt,`RPC '${e}' stream ${o} transport errored:`,q),j.Ko(new me(te.UNAVAILABLE,"The operation could not be completed")))}),Q(b,Kl.EventType.MESSAGE,q=>{var G;if(!O){const J=q.data[0];Ke(!!J);const K=J,re=(K==null?void 0:K.error)||((G=K[0])===null||G===void 0?void 0:G.error);if(re){ue(Zt,`RPC '${e}' stream ${o} received error:`,re);const se=re.status;let ce=function(A){const D=St[A];if(D!==void 0)return sT(D)}(se),k=re.message;ce===void 0&&(ce=te.INTERNAL,k="Unknown error status: "+se+" with message "+re.message),O=!0,j.Ko(new me(ce,k)),b.close()}else ue(Zt,`RPC '${e}' stream ${o} received:`,J),j.Uo(J)}}),Q(m,b0.STAT_EVENT,q=>{q.stat===Om.PROXY?ue(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===Om.NOPROXY&&ue(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{j.$o()},0),j}}function Em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kh(r){return new aI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE="PersistentStream";class ET{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new vT(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===te.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new me(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ue(uE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ue(uE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ix extends ET{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=uI(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?Ri(f.readTime):Se.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Bm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Vm(p)?{documents:fI(u,p)}:{query:dI(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=lT(u,f.resumeToken);const _=Lm(u,f.expectedCount);_!==null&&(m.expectedCount=_)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=Sh(u,f.snapshotVersion.toTimestamp());const _=Lm(u,f.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const s=pI(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Bm(this.serializer),n.removeTarget=e,this.I_(n)}}class rx extends ET{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=hI(e.writeResults,e.commitTime),s=Ri(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Bm(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>cI(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{}class ax extends sx{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(e,Um(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(te.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Um(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new me(te.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class ox{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(pr(n),this.N_=!1):ue("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca="RemoteStore";class lx{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{ma(this)&&(ue(ca,"Restarting streams for network reachability change."),await async function(p){const _=Ae(p);_.W_.add(4),await vu(_),_.j_.set("Unknown"),_.W_.delete(4),await Qh(_)}(this))})}),this.j_=new ox(s,o)}}async function Qh(r){if(ma(r))for(const e of r.G_)await e(!0)}async function vu(r){for(const e of r.G_)await e(!1)}function TT(r,e){const n=Ae(r);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Cp(n)?Rp(n):Mo(n).c_()&&Ap(n,e))}function bp(r,e){const n=Ae(r),s=Mo(n);n.U_.delete(e),s.c_()&&wT(n,e),n.U_.size===0&&(s.c_()?s.P_():ma(n)&&n.j_.set("Unknown"))}function Ap(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mo(r).y_(e)}function wT(r,e){r.H_.Ne(e),Mo(r).w_(e)}function Rp(r){r.H_=new nI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Mo(r).start(),r.j_.B_()}function Cp(r){return ma(r)&&!Mo(r).u_()&&r.U_.size>0}function ma(r){return Ae(r).W_.size===0}function ST(r){r.H_=void 0}async function ux(r){r.j_.set("Online")}async function cx(r){r.U_.forEach((e,n)=>{Ap(r,e)})}async function hx(r,e){ST(r),Cp(r)?(r.j_.q_(e),Rp(r)):r.j_.set("Unknown")}async function fx(r,e,n){if(r.j_.set("Online"),e instanceof oT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){ue(ca,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ah(r,s)}else if(e instanceof lh?r.H_.We(e):e instanceof aT?r.H_.Ze(e):r.H_.je(e),!n.isEqual(Se.min()))try{const s=await yT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.U_.get(_);T&&u.U_.set(_,T.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,_)=>{const T=u.U_.get(p);if(!T)return;u.U_.set(p,T.withResumeToken(Qt.EMPTY_BYTE_STRING,T.snapshotVersion)),wT(u,p);const b=new cs(T.target,p,_,T.sequenceNumber);Ap(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ue(ca,"Failed to raise snapshot:",s),await Ah(r,s)}}async function Ah(r,e,n){if(!Oo(e))throw e;r.W_.add(1),await vu(r),r.j_.set("Offline"),n||(n=()=>yT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ue(ca,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Qh(r)})}function bT(r,e){return e().catch(n=>Ah(r,n,e))}async function Yh(r){const e=Ae(r),n=Ts(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:up;for(;dx(e);)try{const o=await QI(e.localStore,s);if(o===null){e.K_.length===0&&n.P_();break}s=o.batchId,mx(e,o)}catch(o){await Ah(e,o)}AT(e)&&RT(e)}function dx(r){return ma(r)&&r.K_.length<10}function mx(r,e){r.K_.push(e);const n=Ts(r);n.c_()&&n.b_&&n.S_(e.mutations)}function AT(r){return ma(r)&&!Ts(r).u_()&&r.K_.length>0}function RT(r){Ts(r).start()}async function px(r){Ts(r).C_()}async function gx(r){const e=Ts(r);for(const n of r.K_)e.S_(n.mutations)}async function _x(r,e,n){const s=r.K_.shift(),o=_p.from(s,e,n);await bT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Yh(r)}async function yx(r,e){e&&Ts(r).b_&&await async function(s,o){if(function(f){return JC(f)&&f!==te.ABORTED}(o.code)){const u=s.K_.shift();Ts(s).h_(),await bT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Yh(s)}}(r,e),AT(r)&&RT(r)}async function cE(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),ue(ca,"RemoteStore received new credentials");const s=ma(n);n.W_.add(3),await vu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Qh(n)}async function vx(r,e){const n=Ae(r);e?(n.W_.delete(2),await Qh(n)):e||(n.W_.add(2),await vu(n),n.j_.set("Unknown"))}function Mo(r){return r.J_||(r.J_=function(n,s,o){const u=Ae(n);return u.M_(),new ix(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:ux.bind(null,r),No:cx.bind(null,r),Lo:hx.bind(null,r),p_:fx.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Cp(r)?Rp(r):r.j_.set("Unknown")):(await r.J_.stop(),ST(r))})),r.J_}function Ts(r){return r.Y_||(r.Y_=function(n,s,o){const u=Ae(n);return u.M_(),new rx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:px.bind(null,r),Lo:yx.bind(null,r),D_:gx.bind(null,r),v_:_x.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Yh(r)):(await r.Y_.stop(),r.K_.length>0&&(ue(ca,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Ip(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xp(r,e){if(pr("AsyncQueue",`${e}: ${r}`),Oo(r))return new me(te.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{static emptySet(e){return new mo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Ql(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new mo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(){this.Z_=new ot(ye.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):we():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ao{constructor(e,n,s,o,u,f,m,p,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Ao(e,n,mo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Tx{constructor(){this.queries=fE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=fE(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new me(te.ABORTED,"Firestore shutting down"))}}function fE(){return new da(r=>G0(r),Hh)}async function CT(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new Ex,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=xp(f,`Initialization of query '${uo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Np(n)}async function IT(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function wx(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Np(n)}function Sx(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Np(r){r.ia.forEach(e=>{e.next()})}var Fm,dE;(dE=Fm||(Fm={}))._a="default",dE.Cache="cache";class xT{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ao(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Fm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(e){this.key=e}}class DT{constructor(e){this.key=e}}class bx{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ke(),this.mutatedKeys=ke(),this.ya=$0(e),this.wa=new mo(this.ya)}get ba(){return this.fa}Sa(e,n){const s=n?n.Da:new hE,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,b)=>{const R=o.get(T),O=qh(this.query,b)?b:null,j=!!R&&this.mutatedKeys.has(R.key),Q=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let q=!1;R&&O?R.data.isEqual(O.data)?j!==Q&&(s.track({type:3,doc:O}),q=!0):this.va(R,O)||(s.track({type:2,doc:O}),q=!0,(p&&this.ya(O,p)>0||_&&this.ya(O,_)<0)&&(m=!0)):!R&&O?(s.track({type:0,doc:O}),q=!0):R&&!O&&(s.track({type:1,doc:R}),q=!0,(p||_)&&(m=!0)),q&&(O?(f=f.add(O),u=Q?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((T,b)=>function(O,j){const Q=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return Q(O)-Q(j)}(T.type,b.type)||this.ya(T.doc,b.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,_=p!==this.ga;return this.ga=p,f.length!==0||_?{snapshot:new Ao(this.query,e.wa,u,f,e.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new hE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ke(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new DT(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new NT(s))}),n}Oa(e){this.fa=e.gs,this.pa=ke();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return Ao.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Dp="SyncEngine";class Ax{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Rx{constructor(e){this.key=e,this.Ba=!1}}class Cx{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new da(m=>G0(m),Hh),this.qa=new Map,this.Qa=new Set,this.$a=new ot(ye.comparator),this.Ka=new Map,this.Ua=new Ep,this.Wa={},this.Ga=new Map,this.za=bo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Ix(r,e,n=!0){const s=jT(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await OT(s,e,n,!0),o}async function xx(r,e){const n=jT(r);await OT(n,e,!0,!1)}async function OT(r,e,n,s){const o=await YI(r.localStore,Ai(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await Nx(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&TT(r.remoteStore,o),m}async function Nx(r,e,n,s,o){r.Ha=(b,R,O)=>async function(Q,q,G,J){let K=q.view.Sa(G);K.ls&&(K=await sE(Q.localStore,q.query,!1).then(({documents:k})=>q.view.Sa(k,K)));const re=J&&J.targetChanges.get(q.targetId),se=J&&J.targetMismatches.get(q.targetId)!=null,ce=q.view.applyChanges(K,Q.isPrimaryClient,re,se);return pE(Q,q.targetId,ce.Ma),ce.snapshot}(r,b,R,O);const u=await sE(r.localStore,e,!0),f=new bx(e,u.gs),m=f.Sa(u.documents),p=yu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),_=f.applyChanges(m,r.isPrimaryClient,p);pE(r,n,_.Ma);const T=new Ax(e,n,f);return r.ka.set(e,T),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),_.snapshot}async function Dx(r,e,n){const s=Ae(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Hh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Hm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&bp(s.remoteStore,o.targetId),Gm(s,o.targetId)}).catch(Do)):(Gm(s,o.targetId),await Hm(s.localStore,o.targetId,!0))}async function Ox(r,e){const n=Ae(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),bp(n.remoteStore,s.targetId))}async function Mx(r,e,n){const s=zx(r);try{const o=await function(f,m){const p=Ae(f),_=Dt.now(),T=m.reduce((O,j)=>O.add(j.key),ke());let b,R;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let j=gr(),Q=ke();return p.ds.getEntries(O,T).next(q=>{j=q,j.forEach((G,J)=>{J.isValidDocument()||(Q=Q.add(G))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,j)).next(q=>{b=q;const G=[];for(const J of m){const K=QC(J,b.get(J.key).overlayedDocument);K!=null&&G.push(new bs(J.key,K,L0(K.value.mapValue),Xn.exists(!0)))}return p.mutationQueue.addMutationBatch(O,_,G,m)}).next(q=>{R=q;const G=q.applyToLocalDocumentSet(b,Q);return p.documentOverlayCache.saveOverlays(O,q.batchId,G)})}).then(()=>({batchId:R.batchId,changes:Q0(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let _=f.Wa[f.currentUser.toKey()];_||(_=new ot(Ve)),_=_.insert(m,p),f.Wa[f.currentUser.toKey()]=_}(s,o.batchId,n),await Eu(s,o.changes),await Yh(s.remoteStore)}catch(o){const u=xp(o,"Failed to persist write");n.reject(u)}}async function MT(r,e){const n=Ae(r);try{const s=await $I(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Ke(f.Ba):o.removedDocuments.size>0&&(Ke(f.Ba),f.Ba=!1))}),await Eu(n,s,e)}catch(s){await Do(s)}}function mE(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ae(f);p.onlineState=m;let _=!1;p.queries.forEach((T,b)=>{for(const R of b.ta)R.sa(m)&&(_=!0)}),_&&Np(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function kx(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ka.get(e),u=o&&o.key;if(u){let f=new ot(ye.comparator);f=f.insert(u,tn.newNoDocument(u,Se.min()));const m=ke().add(u),p=new $h(Se.min(),new Map,new ot(Ve),f,m);await MT(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),Op(s)}else await Hm(s.localStore,e,!1).then(()=>Gm(s,e,n)).catch(Do)}async function Px(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await GI(n.localStore,e);PT(n,s,null),kT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Eu(n,o)}catch(o){await Do(o)}}async function Vx(r,e,n){const s=Ae(r);try{const o=await function(f,m){const p=Ae(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let T;return p.mutationQueue.lookupMutationBatch(_,m).next(b=>(Ke(b!==null),T=b.keys(),p.mutationQueue.removeMutationBatch(_,b))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T)).next(()=>p.localDocuments.getDocuments(_,T))})}(s.localStore,e);PT(s,e,n),kT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Eu(s,o)}catch(o){await Do(o)}}function kT(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function PT(r,e,n){const s=Ae(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Gm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ua.Sr(e).forEach(s=>{r.Ua.containsKey(s)||VT(r,s)})}function VT(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(bp(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ka.delete(n),Op(r))}function pE(r,e,n){for(const s of n)s instanceof NT?(r.Ua.addReference(s.key,e),jx(r,s)):s instanceof DT?(ue(Dp,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||VT(r,s.key)):we()}function jx(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(ue(Dp,"New document in limbo: "+n),r.Qa.add(s),Op(r))}function Op(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new ye(nt.fromString(e)),s=r.za.next();r.Ka.set(s,new Rx(n)),r.$a=r.$a.insert(n,s),TT(r.remoteStore,new cs(Ai(mp(n.path)),s,"TargetPurposeLimboResolution",Lh.ae))}}async function Eu(r,e,n){const s=Ae(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(_=>{var T;if((_||n)&&s.isPrimaryClient){const b=_?!_.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(_){o.push(_);const b=wp.Yi(p.targetId,_);u.push(b)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,_){const T=Ae(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>Z.forEach(_,R=>Z.forEach(R.Hi,O=>T.persistence.referenceDelegate.addReference(b,R.targetId,O)).next(()=>Z.forEach(R.Ji,O=>T.persistence.referenceDelegate.removeReference(b,R.targetId,O)))))}catch(b){if(!Oo(b))throw b;ue(Sp,"Failed to update sequence numbers: "+b)}for(const b of _){const R=b.targetId;if(!b.fromCache){const O=T.Ts.get(R),j=O.snapshotVersion,Q=O.withLastLimboFreeSnapshotVersion(j);T.Ts=T.Ts.insert(R,Q)}}}(s.localStore,u))}async function Lx(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){ue(Dp,"User change. New user:",e.toKey());const s=await _T(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new me(te.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Eu(n,s.Rs)}}function Ux(r,e){const n=Ae(r),s=n.Ka.get(e);if(s&&s.Ba)return ke().add(s.key);{let o=ke();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.ba)}return o}}function jT(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=MT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ux.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=kx.bind(null,e),e.La.p_=wx.bind(null,e.eventManager),e.La.Ja=Sx.bind(null,e.eventManager),e}function zx(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Px.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vx.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return FI(this.persistence,new BI,e.initialUser,this.serializer)}Xa(e){return new gT(Tp.ri,this.serializer)}Za(e){return new WI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class Bx extends Rh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ke(this.persistence.referenceDelegate instanceof bh);const s=this.persistence.referenceDelegate.garbageCollector;return new RI(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new gT(s=>bh.ri(s,n),this.serializer)}}class $m{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>mE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Lx.bind(null,this.syncEngine),await vx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Tx}()}createDatastore(e){const n=Kh(e.databaseInfo.databaseId),s=function(u){return new nx(u)}(e.databaseInfo);return function(u,f,m,p){return new ax(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new lx(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>mE(this.syncEngine,n,0),function(){return lE.D()?new lE:new ZI}())}createSyncEngine(e,n){return function(o,u,f,m,p,_,T){const b=new Cx(o,u,f,m,p,_);return T&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ae(o);ue(ca,"RemoteStore shutting down."),u.W_.add(5),await vu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}$m.provider={build:()=>new $m};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws="FirestoreClient";class Hx{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=I0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ue(ws,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ue(ws,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=xp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Tm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(ws,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await _T(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function gE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await qx(r);ue(ws,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>cE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>cE(e.remoteStore,o)),r._onlineComponents=e}async function qx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(ws,"Using user provided OfflineComponentProvider");try{await Tm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===te.FAILED_PRECONDITION||o.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;vo("Error using user provided cache. Falling back to memory cache: "+n),await Tm(r,new Rh)}}else ue(ws,"Using default OfflineComponentProvider"),await Tm(r,new Bx(void 0));return r._offlineComponents}async function UT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(ws,"Using user provided OnlineComponentProvider"),await gE(r,r._uninitializedComponentsProvider._online)):(ue(ws,"Using default OnlineComponentProvider"),await gE(r,new $m))),r._onlineComponents}function Fx(r){return UT(r).then(e=>e.syncEngine)}async function zT(r){const e=await UT(r),n=e.eventManager;return n.onListen=Ix.bind(null,e.syncEngine),n.onUnlisten=Dx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Ox.bind(null,e.syncEngine),n}function Gx(r,e,n={}){const s=new hr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,_){const T=new LT({next:R=>{T.su(),f.enqueueAndForget(()=>IT(u,b));const O=R.docs.has(m);!O&&R.fromCache?_.reject(new me(te.UNAVAILABLE,"Failed to get document because the client is offline.")):O&&R.fromCache&&p&&p.source==="server"?_.reject(new me(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(R)},error:R=>_.reject(R)}),b=new xT(mp(m.path),T,{includeMetadataChanges:!0,Ta:!0});return CT(u,b)}(await zT(r),r.asyncQueue,e,n,s)),s.promise}function $x(r,e,n={}){const s=new hr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,_){const T=new LT({next:R=>{T.su(),f.enqueueAndForget(()=>IT(u,b)),R.fromCache&&p.source==="server"?_.reject(new me(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(R)},error:R=>_.reject(R)}),b=new xT(m,T,{includeMetadataChanges:!0,Ta:!0});return CT(u,b)}(await zT(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(r,e,n){if(!n)throw new me(te.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Kx(r,e,n,s){if(e===!0&&s===!0)throw new me(te.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function yE(r){if(!ye.isDocumentKey(r))throw new me(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function vE(r){if(ye.isDocumentKey(r))throw new me(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Mp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we()}function ri(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new me(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Mp(r);throw new me(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="firestore.googleapis.com",EE=!0;class TE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new me(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qT,this.ssl=EE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:EE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bI)throw new me(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Kx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new me(te.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new TE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new TE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new tC;switch(s.type){case"firstParty":return new sC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=_E.get(n);s&&(ue("ComponentProvider","Removing Datastore"),_E.delete(n),s.terminate())}(this),Promise.resolve()}}function Qx(r,e,n,s={}){var o;const u=(r=ri(r,Xh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==qT&&u.host!==m&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!gs(p,f)&&(r._setSettings(p),s.mockUserToken)){let _,T;if(typeof s.mockUserToken=="string")_=s.mockUserToken,T=en.MOCK_USER;else{_=N1(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new me(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new en(b)}r._authCredentials=new nC(new C0(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Wh(this.firestore,e,this._query)}}class wn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ps(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class ps extends Wh{constructor(e,n,s){super(e,n,mp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new ye(e))}withConverter(e){return new ps(this.firestore,e,this._path)}}function Zh(r,e,...n){if(r=rn(r),HT("collection","path",e),r instanceof Xh){const s=nt.fromString(e,...n);return vE(s),new ps(r,null,s)}{if(!(r instanceof wn||r instanceof ps))throw new me(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return vE(s),new ps(r.firestore,null,s)}}function Wn(r,e,...n){if(r=rn(r),arguments.length===1&&(e=I0.newId()),HT("doc","path",e),r instanceof Xh){const s=nt.fromString(e,...n);return yE(s),new wn(r,null,new ye(s))}{if(!(r instanceof wn||r instanceof ps))throw new me(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return yE(s),new wn(r.firestore,r instanceof ps?r.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="AsyncQueue";class SE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new vT(this,"async_queue_retry"),this.bu=()=>{const s=Em();s&&ue(wE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const n=Em();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new hr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Oo(e))throw e;ue(wE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw pr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Ip.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&we()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class pa extends Xh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new SE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new SE(e),this._firestoreClient=void 0,await e}}}function Yx(r,e){const n=typeof r=="object"?r:y0(),s=typeof r=="string"?r:yh,o=op(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=I1("firestore");u&&Qx(o,...u)}return o}function kp(r){if(r._terminated)throw new me(te.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Xx(r),r._firestoreClient}function Xx(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,_,T){return new vC(m,p,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,BT(T.experimentalLongPollingOptions),T.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new Hx(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ro(Qt.fromBase64String(e))}catch(n){throw new me(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ro(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wx=/^__.*__$/;class Zx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new bs(e,this.data,this.fieldMask,n,this.fieldTransforms):new _u(e,this.data,n,this.fieldTransforms)}}class FT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new bs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function GT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class ef{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new ef(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Ch(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(GT(this.Lu)&&Wx.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Jx{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Kh(e)}ju(e,n,s,o=!1){return new ef({Lu:e,methodName:n,zu:s,path:Kt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function jp(r){const e=r._freezeSettings(),n=Kh(r._databaseId);return new Jx(r._databaseId,!!e.ignoreUndefinedProperties,n)}function $T(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);zp("Data must be an object, but it was:",f,s);const m=KT(s,f);let p,_;if(u.merge)p=new Dn(f.fieldMask),_=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const R=Km(e,b,n);if(!f.contains(R))throw new me(te.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);YT(T,R)||T.push(R)}p=new Dn(T),_=f.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,_=f.fieldTransforms;return new Zx(new Tn(m),p,_)}class tf extends Tu{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tf}}function eN(r,e,n){return new ef({Lu:3,zu:e.settings.zu,methodName:r._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Lp extends Tu{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=eN(this,e,!0),s=this.Hu.map(u=>wu(u,n)),o=new So(s);return new nT(e.path,o)}isEqual(e){return e instanceof Lp&&gs(this.Hu,e.Hu)}}class Up extends Tu{constructor(e,n){super(e),this.Ju=n}_toFieldTransform(e){const n=new uu(e.serializer,W0(e.serializer,this.Ju));return new nT(e.path,n)}isEqual(e){return e instanceof Up&&this.Ju===e.Ju}}function tN(r,e,n,s){const o=r.ju(1,e,n);zp("Data must be an object, but it was:",o,s);const u=[],f=Tn.empty();Ss(s,(p,_)=>{const T=Bp(e,p,n);_=rn(_);const b=o.Ku(T);if(_ instanceof tf)u.push(T);else{const R=wu(_,b);R!=null&&(u.push(T),f.set(T,R))}});const m=new Dn(u);return new FT(f,m,o.fieldTransforms)}function nN(r,e,n,s,o,u){const f=r.ju(1,e,n),m=[Km(e,s,n)],p=[o];if(u.length%2!=0)throw new me(te.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(Km(e,u[R])),p.push(u[R+1]);const _=[],T=Tn.empty();for(let R=m.length-1;R>=0;--R)if(!YT(_,m[R])){const O=m[R];let j=p[R];j=rn(j);const Q=f.Ku(O);if(j instanceof tf)_.push(O);else{const q=wu(j,Q);q!=null&&(_.push(O),T.set(O,q))}}const b=new Dn(_);return new FT(T,b,f.fieldTransforms)}function wu(r,e){if(QT(r=rn(r)))return zp("Unsupported field value:",e,r),KT(r,e);if(r instanceof Tu)return function(s,o){if(!GT(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=wu(m,o.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=rn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return W0(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Dt.fromDate(s);return{timestampValue:Sh(o.serializer,u)}}if(s instanceof Dt){const u=new Dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Sh(o.serializer,u)}}if(s instanceof Pp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ro)return{bytesValue:lT(o.serializer,s._byteString)};if(s instanceof wn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:vp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Vp)return function(f,m){return{mapValue:{fields:{[V0]:{stringValue:j0},[vh]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw m.Wu("VectorValues must only contain numeric values.");return pp(m.serializer,_)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Mp(s)}`)}(r,e)}function KT(r,e){const n={};return N0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ss(r,(s,o)=>{const u=wu(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function QT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Dt||r instanceof Pp||r instanceof Ro||r instanceof wn||r instanceof Tu||r instanceof Vp)}function zp(r,e,n){if(!QT(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Mp(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function Km(r,e,n){if((e=rn(e))instanceof Jh)return e._internalPath;if(typeof e=="string")return Bp(r,e);throw Ch("Field path arguments must be of type string or ",r,!1,void 0,n)}const iN=new RegExp("[~\\*/\\[\\]]");function Bp(r,e,n){if(e.search(iN)>=0)throw Ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Jh(...e.split("."))._internalPath}catch{throw Ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ch(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new me(te.INVALID_ARGUMENT,m+r+p)}function YT(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new rN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(WT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class rN extends XT{data(){return super.data()}}function WT(r,e){return typeof e=="string"?Bp(r,e):e instanceof Jh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new me(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class aN{convertValue(e,n="none"){switch(Es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Ss(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[vh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>gt(f.doubleValue));return new Vp(u)}convertGeoPoint(e){return new Pp(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=zh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(su(e));default:return null}}convertTimestamp(e){const n=ys(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Ke(mT(s));const o=new au(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||pr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class JT extends XT{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(WT("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class uh extends JT{data(e={}){return super.data(e)}}class oN{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Xl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new uh(this._firestore,this._userDataWriter,s.key,s,new Xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new uh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new uh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Xl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return m.type!==0&&(_=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:lN(m.type),doc:p,oldIndex:_,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function lN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ew(r){r=ri(r,wn);const e=ri(r.firestore,pa);return Gx(kp(e),r._key).then(n=>hN(e,r,n))}class tw extends aN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ro(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,n)}}function Hp(r){r=ri(r,Wh);const e=ri(r.firestore,pa),n=kp(e),s=new tw(e);return sN(r._query),$x(n,r._query).then(o=>new oN(e,s,r,o))}function nw(r,e,n){r=ri(r,wn);const s=ri(r.firestore,pa),o=ZT(r.converter,e);return nf(s,[$T(jp(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Xn.none())])}function ko(r,e,n,...s){r=ri(r,wn);const o=ri(r.firestore,pa),u=jp(o);let f;return f=typeof(e=rn(e))=="string"||e instanceof Jh?nN(u,"updateDoc",r._key,e,n,s):tN(u,"updateDoc",r._key,e),nf(o,[f.toMutation(r._key,Xn.exists(!0))])}function uN(r){return nf(ri(r.firestore,pa),[new gp(r._key,Xn.none())])}function cN(r,e){const n=ri(r.firestore,pa),s=Wn(r),o=ZT(r.converter,e);return nf(n,[$T(jp(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Xn.exists(!1))]).then(()=>s)}function nf(r,e){return function(s,o){const u=new hr;return s.asyncQueue.enqueueAndForget(async()=>Mx(await Fx(s),o,u)),u.promise}(kp(r),e)}function hN(r,e,n){const s=n.docs.get(e._key),o=new tw(r);return new JT(r,o,e._key,s,new Xl(n.hasPendingWrites,n.fromCache),e.converter)}function qp(...r){return new Lp("arrayUnion",r)}function Fp(r){return new Up("increment",r)}(function(e,n=!0){(function(o){No=o})(xo),yo(new la("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new pa(new iC(s.getProvider("auth-internal")),new aC(f,s.getProvider("app-check-internal")),function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new me(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new au(_.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),ds(Nv,Dv,e),ds(Nv,Dv,"esm2017")})();function Gp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function iw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const fN=iw,rw=new pu("auth","Firebase",iw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new sp("@firebase/auth");function dN(r,...e){Ih.logLevel<=Me.WARN&&Ih.warn(`Auth (${xo}): ${r}`,...e)}function ch(r,...e){Ih.logLevel<=Me.ERROR&&Ih.error(`Auth (${xo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function si(r,...e){throw $p(r,...e)}function Ci(r,...e){return $p(r,...e)}function sw(r,e,n){const s=Object.assign(Object.assign({},fN()),{[e]:n});return new pu("auth","Firebase",s).create(e,{appName:r.name})}function fr(r){return sw(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function $p(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return rw.create(r,...e)}function Ee(r,e,...n){if(!r)throw $p(e,...n)}function or(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ch(e),new Error(e)}function _r(r,e){r||or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function mN(){return bE()==="http:"||bE()==="https:"}function bE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(mN()||k1()||"connection"in navigator)?navigator.onLine:!0}function gN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n){this.shortDelay=e,this.longDelay=n,_r(n>e,"Short delay should be less than long delay!"),this.isMobile=D1()||P1()}get(){return pN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(r,e){_r(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new Su(3e4,6e4);function As(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Rs(r,e,n,s,o={}){return ow(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=gu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:e,headers:p},u);return M1()||(_.referrerPolicy="no-referrer"),aw.fetch()(lw(r,r.config.apiHost,n,m),_)})}async function ow(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},_N),e);try{const o=new EN(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw eh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,_]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw eh(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw eh(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw sw(r,T,_);si(r,T)}}catch(o){if(o instanceof Er)throw o;si(r,"network-request-failed",{message:String(o)})}}async function bu(r,e,n,s,o={}){const u=await Rs(r,e,n,s,o);return"mfaPendingCredential"in u&&si(r,"multi-factor-auth-required",{_serverResponse:u}),u}function lw(r,e,n,s){const o=`${e}${n}?${s}`;return r.config.emulator?Kp(r.config,o):`${r.config.apiScheme}://${o}`}function vN(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class EN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ci(this.auth,"network-request-failed")),yN.get())})}}function eh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ci(r,e,s);return o.customData._tokenResponse=n,o}function AE(r){return r!==void 0&&r.enterprise!==void 0}class TN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return vN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function wN(r,e){return Rs(r,"GET","/v2/recaptchaConfig",As(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SN(r,e){return Rs(r,"POST","/v1/accounts:delete",e)}async function uw(r,e){return Rs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function bN(r,e=!1){const n=rn(r),s=await n.getIdToken(e),o=Qp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:tu(wm(o.auth_time)),issuedAtTime:tu(wm(o.iat)),expirationTime:tu(wm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function wm(r){return Number(r)*1e3}function Qp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const o=h0(n);return o?JSON.parse(o):(ch("Failed to decode base64 JWT payload"),null)}catch(o){return ch("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function RE(r){const e=Qp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Er&&AN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function AN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tu(this.lastLoginAt),this.creationTime=tu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await cu(r,uw(n,{idToken:s}));Ee(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?cw(u.providerUserInfo):[],m=IN(r.providerData,f),p=r.isAnonymous,_=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),T=p?_:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Ym(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,b)}async function CN(r){const e=rn(r);await xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function IN(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function cw(r){return r.map(e=>{var{providerId:n}=e,s=Gp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xN(r,e){const n=await ow(r,{},async()=>{const s=gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=lw(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",aw.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function NN(r,e){return Rs(r,"POST","/v2/accounts:revokeToken",As(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):RE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=RE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await xN(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new po;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new po,this.toJSON())}_performRefresh(){return or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class lr{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Gp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new RN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Ym(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await cu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return bN(this,e)}reload(){return CN(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new lr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await xh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(fr(this.auth));const e=await this.getIdToken();return await cu(this,SN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,_,T;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,R=(o=n.email)!==null&&o!==void 0?o:void 0,O=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,j=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Q=(m=n.tenantId)!==null&&m!==void 0?m:void 0,q=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,G=(_=n.createdAt)!==null&&_!==void 0?_:void 0,J=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:K,emailVerified:re,isAnonymous:se,providerData:ce,stsTokenManager:k}=n;Ee(K&&k,e,"internal-error");const C=po.fromJSON(this.name,k);Ee(typeof K=="string",e,"internal-error"),rs(b,e.name),rs(R,e.name),Ee(typeof re=="boolean",e,"internal-error"),Ee(typeof se=="boolean",e,"internal-error"),rs(O,e.name),rs(j,e.name),rs(Q,e.name),rs(q,e.name),rs(G,e.name),rs(J,e.name);const A=new lr({uid:K,auth:e,email:R,emailVerified:re,displayName:b,isAnonymous:se,photoURL:j,phoneNumber:O,tenantId:Q,stsTokenManager:C,createdAt:G,lastLoginAt:J});return ce&&Array.isArray(ce)&&(A.providerData=ce.map(D=>Object.assign({},D))),q&&(A._redirectEventId=q),A}static async _fromIdTokenResponse(e,n,s=!1){const o=new po;o.updateFromServerResponse(n);const u=new lr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await xh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?cw(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new po;m.updateFromIdToken(s);const p=new lr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ym(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=new Map;function ur(r){_r(r instanceof Function,"Expected a class definition");let e=CE.get(r);return e?(_r(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,CE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hw.type="NONE";const IE=hw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(r,e,n){return`firebase:${r}:${e}:${n}`}class go{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=hh(this.userKey,o.apiKey,u),this.fullPersistenceKey=hh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?lr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new go(ur(IE),e,s);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||ur(IE);const f=hh(s,e.config.apiKey,e.name);let m=null;for(const _ of n)try{const T=await _._get(f);if(T){const b=lr._fromJSON(e,T);_!==u&&(m=b),u=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new go(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new go(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(pw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(fw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_w(e))return"Blackberry";if(yw(e))return"Webos";if(dw(e))return"Safari";if((e.includes("chrome/")||mw(e))&&!e.includes("edge/"))return"Chrome";if(gw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function fw(r=nn()){return/firefox\//i.test(r)}function dw(r=nn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mw(r=nn()){return/crios\//i.test(r)}function pw(r=nn()){return/iemobile/i.test(r)}function gw(r=nn()){return/android/i.test(r)}function _w(r=nn()){return/blackberry/i.test(r)}function yw(r=nn()){return/webos/i.test(r)}function Yp(r=nn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function DN(r=nn()){var e;return Yp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ON(){return V1()&&document.documentMode===10}function vw(r=nn()){return Yp(r)||gw(r)||yw(r)||_w(r)||/windows phone/i.test(r)||pw(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ew(r,e=[]){let n;switch(r){case"Browser":n=xE(nn());break;case"Worker":n=`${xE(nn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kN(r,e={}){return Rs(r,"GET","/v2/passwordPolicy",As(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=6;class VN{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:PN,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jN{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new NE(this),this.idTokenSubscription=new NE(this),this.beforeStateQueue=new MN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ur(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await go.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await uw(this,{idToken:e}),s=await lr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Yn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=gN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yn(this.app))return Promise.reject(fr(this));const n=e?rn(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yn(this.app)?Promise.reject(fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kN(this),n=new VN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new pu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await NN(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ur(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await go.create(this,[ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ew(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&dN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ga(r){return rn(r)}class NE{constructor(e){this.auth=e,this.observer=null,this.addObserver=F1(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function LN(r){rf=r}function Tw(r){return rf.loadJS(r)}function UN(){return rf.recaptchaEnterpriseScript}function zN(){return rf.gapiScript}function BN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class HN{constructor(){this.enterprise=new qN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class qN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const FN="recaptcha-enterprise",ww="NO_RECAPTCHA";class GN{constructor(e){this.type=FN,this.auth=ga(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{wN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new TN(p);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,f(_.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;AE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(_=>{f(_)}).catch(()=>{f(ww)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HN().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&AE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=UN();p.length!==0&&(p+=m),Tw(p).then(()=>{o(m,u,f)}).catch(_=>{f(_)})}}).catch(m=>{f(m)})})}}async function DE(r,e,n,s=!1,o=!1){const u=new GN(r);let f;if(o)f=ww;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Xm(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await DE(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await DE(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(r,e){const n=op(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(gs(u,e??{}))return o;si(o,"already-initialized")}return n.initialize({options:e})}function KN(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ur);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function QN(r,e,n){const s=ga(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Sw(e),{host:f,port:m}=YN(e),p=m===null?"":`:${m}`,_={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(gs(_,s.config.emulator)&&gs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,XN()}function Sw(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function YN(r){const e=Sw(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:OE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:OE(f)}}}function OE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function XN(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}}async function WN(r,e){return Rs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(r,e){return bu(r,"POST","/v1/accounts:signInWithPassword",As(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(r,e){return bu(r,"POST","/v1/accounts:signInWithEmailLink",As(r,e))}async function eD(r,e){return bu(r,"POST","/v1/accounts:signInWithEmailLink",As(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends Xp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new hu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new hu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xm(e,n,"signInWithPassword",ZN);case"emailLink":return JN(e,{email:this._email,oobCode:this._password});default:si(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xm(e,s,"signUpPassword",WN);case"emailLink":return eD(e,{idToken:n,email:this._email,oobCode:this._password});default:si(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(r,e){return bu(r,"POST","/v1/accounts:signInWithIdp",As(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tD="http://localhost";class ha extends Xp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ha(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):si("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Gp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new ha(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return _o(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,_o(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_o(e,n)}buildRequest(){const e={requestUri:tD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iD(r){const e=Gl($l(r)).link,n=e?Gl($l(e)).deep_link_id:null,s=Gl($l(r)).deep_link_id;return(s?Gl($l(s)).link:null)||s||n||e||r}class Wp{constructor(e){var n,s,o,u,f,m;const p=Gl($l(e)),_=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,b=nD((o=p.mode)!==null&&o!==void 0?o:null);Ee(_&&T&&b,"argument-error"),this.apiKey=_,this.operation=b,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=iD(e);try{return new Wp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.providerId=Po.PROVIDER_ID}static credential(e,n){return hu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Wp.parseLink(n);return Ee(s,"argument-error"),hu._fromEmailAndCode(e,s.code,s.tenantId)}}Po.PROVIDER_ID="password";Po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends bw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Au{constructor(){super("facebook.com")}static credential(e){return ha._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return as.credential(e.oauthAccessToken)}catch{return null}}}as.FACEBOOK_SIGN_IN_METHOD="facebook.com";as.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ha._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return os.credential(n,s)}catch{return null}}}os.GOOGLE_SIGN_IN_METHOD="google.com";os.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Au{constructor(){super("github.com")}static credential(e){return ha._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ls.credential(e.oauthAccessToken)}catch{return null}}}ls.GITHUB_SIGN_IN_METHOD="github.com";ls.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends Au{constructor(){super("twitter.com")}static credential(e,n){return ha._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return us.credential(n,s)}catch{return null}}}us.TWITTER_SIGN_IN_METHOD="twitter.com";us.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(r,e){return bu(r,"POST","/v1/accounts:signUp",As(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await lr._fromIdTokenResponse(e,s,o),f=ME(s);return new fa({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=ME(s);return new fa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function ME(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends Er{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Nh(e,n,s,o)}}function Aw(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(r,u,e,s):u})}async function sD(r,e,n=!1){const s=await cu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return fa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aD(r,e,n=!1){const{auth:s}=r;if(Yn(s.app))return Promise.reject(fr(s));const o="reauthenticate";try{const u=await cu(r,Aw(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const f=Qp(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(r.uid===m,s,"user-mismatch"),fa._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&si(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rw(r,e,n=!1){if(Yn(r.app))return Promise.reject(fr(r));const s="signIn",o=await Aw(r,s,e),u=await fa._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function oD(r,e){return Rw(ga(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cw(r){const e=ga(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function lD(r,e,n){if(Yn(r.app))return Promise.reject(fr(r));const s=ga(r),f=await Xm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",rD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Cw(r),p}),m=await fa._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function uD(r,e,n){return Yn(r.app)?Promise.reject(fr(r)):oD(rn(r),Po.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Cw(r),s})}function cD(r,e,n,s){return rn(r).onIdTokenChanged(e,n,s)}function hD(r,e,n){return rn(r).beforeAuthStateChanged(e,n)}function fD(r){return rn(r).signOut()}const Dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dD=1e3,mD=10;class xw extends Iw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);ON()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,mD):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},dD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}xw.type="LOCAL";const pD=xw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw extends Iw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Nw.type="SESSION";const Dw=Nw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new sf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async _=>_(n.origin,u)),p=await gD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}sf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const _=Zp("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const R=b;if(R.data.eventId===_)switch(R.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(){return window}function yD(r){Ii().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function vD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function ED(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function TD(){return Ow()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mw="firebaseLocalStorageDb",wD=1,Oh="firebaseLocalStorage",kw="fbase_key";class Ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function af(r,e){return r.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function SD(){const r=indexedDB.deleteDatabase(Mw);return new Ru(r).toPromise()}function Wm(){const r=indexedDB.open(Mw,wD);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Oh,{keyPath:kw})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Oh)?e(s):(s.close(),await SD(),e(await Wm()))})})}async function kE(r,e,n){const s=af(r,!0).put({[kw]:e,value:n});return new Ru(s).toPromise()}async function bD(r,e){const n=af(r,!1).get(e),s=await new Ru(n).toPromise();return s===void 0?null:s.value}function PE(r,e){const n=af(r,!0).delete(e);return new Ru(n).toPromise()}const AD=800,RD=3;class Pw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>RD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ow()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sf._getInstance(TD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await vD(),!this.activeServiceWorker)return;this.sender=new _D(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||ED()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wm();return await kE(e,Dh,"1"),await PE(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>kE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>bD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>PE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=af(o,!1).getAll();return new Ru(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),AD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Pw.type="LOCAL";const CD=Pw;new Su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(r,e){return e?ur(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp extends Xp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xD(r){return Rw(r.auth,new Jp(r),r.bypassAuthState)}function ND(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),aD(n,new Jp(r),r.bypassAuthState)}async function DD(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),sD(n,new Jp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xD;case"linkViaPopup":case"linkViaRedirect":return DD;case"reauthViaPopup":case"reauthViaRedirect":return ND;default:si(this.auth,"internal-error")}}resolve(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD=new Su(2e3,1e4);class fo extends Vw{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,fo.currentPopupAction&&fo.currentPopupAction.cancel(),fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){_r(this.filter.length===1,"Popup operations only handle one event");const e=Zp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,OD.get())};e()}}fo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD="pendingRedirect",fh=new Map;class kD extends Vw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=fh.get(this.auth._key());if(!e){try{const s=await PD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}fh.set(this.auth._key(),e)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PD(r,e){const n=LD(e),s=jD(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function VD(r,e){fh.set(r._key(),e)}function jD(r){return ur(r._redirectPersistence)}function LD(r){return hh(MD,r.config.apiKey,r.name)}async function UD(r,e,n=!1){if(Yn(r.app))return Promise.reject(fr(r));const s=ga(r),o=ID(s,e),f=await new kD(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=10*60*1e3;class BD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!HD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!jw(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ci(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zD&&this.cachedEventUids.clear(),this.cachedEventUids.has(VE(e))}saveEventToCache(e){this.cachedEventUids.add(VE(e)),this.lastProcessedEventTime=Date.now()}}function VE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function jw({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function HD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(r,e={}){return Rs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,GD=/^https?/;async function $D(r){if(r.config.emulator)return;const{authorizedDomains:e}=await qD(r);for(const n of e)try{if(KD(n))return}catch{}si(r,"unauthorized-domain")}function KD(r){const e=Qm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!GD.test(n))return!1;if(FD.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=new Su(3e4,6e4);function jE(){const r=Ii().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function YD(r){return new Promise((e,n)=>{var s,o,u;function f(){jE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jE(),n(Ci(r,"network-request-failed"))},timeout:QD.get()})}if(!((o=(s=Ii().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ii().gapi)===null||u===void 0)&&u.load)f();else{const m=BN("iframefcb");return Ii()[m]=()=>{gapi.load?f():n(Ci(r,"network-request-failed"))},Tw(`${zN()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw dh=null,e})}let dh=null;function XD(r){return dh=dh||YD(r),dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new Su(5e3,15e3),ZD="__/auth/iframe",JD="emulator/auth/iframe",e2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},t2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function n2(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Kp(e,JD):`https://${r.config.authDomain}/${ZD}`,s={apiKey:e.apiKey,appName:r.name,v:xo},o=t2.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${gu(s).slice(1)}`}async function i2(r){const e=await XD(r),n=Ii().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:n2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:e2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ci(r,"network-request-failed"),m=Ii().setTimeout(()=>{u(f)},WD.get());function p(){Ii().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},s2=500,a2=600,o2="_blank",l2="http://localhost";class LE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function u2(r,e,n,s=s2,o=a2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},r2),{width:s.toString(),height:o.toString(),top:u,left:f}),_=nn().toLowerCase();n&&(m=mw(_)?o2:n),fw(_)&&(e=e||l2,p.scrollbars="yes");const T=Object.entries(p).reduce((R,[O,j])=>`${R}${O}=${j},`,"");if(DN(_)&&m!=="_self")return c2(e||"",m),new LE(null);const b=window.open(e||"",m,T);Ee(b,r,"popup-blocked");try{b.focus()}catch{}return new LE(b)}function c2(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2="__/auth/handler",f2="emulator/auth/handler",d2=encodeURIComponent("fac");async function UE(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:xo,eventId:o};if(e instanceof bw){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",q1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))f[T]=b}if(e instanceof Au){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),_=p?`#${d2}=${encodeURIComponent(p)}`:"";return`${m2(r)}?${gu(m).slice(1)}${_}`}function m2({config:r}){return r.emulator?Kp(r,f2):`https://${r.authDomain}/${h2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sm="webStorageSupport";class p2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Dw,this._completeRedirectFn=UD,this._overrideRedirectResult=VD}async _openPopup(e,n,s,o){var u;_r((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await UE(e,n,s,Qm(),o);return u2(e,f,Zp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await UE(e,n,s,Qm(),o);return yD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(_r(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await i2(e),s=new BD(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Sm,{type:Sm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Sm];f!==void 0&&n(!!f),si(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$D(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vw()||dw()||Yp()}}const g2=p2;var zE="@firebase/auth",BE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function v2(r){yo(new la("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ew(r)},_=new jN(s,o,u,p);return KN(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),yo(new la("auth-internal",e=>{const n=ga(e.getProvider("auth").getImmediate());return(s=>new _2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ds(zE,BE,y2(r)),ds(zE,BE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E2=5*60,T2=m0("authIdTokenMaxAge")||E2;let HE=null;const w2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>T2)return;const o=n==null?void 0:n.token;HE!==o&&(HE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function S2(r=y0()){const e=op(r,"auth");if(e.isInitialized())return e.getImmediate();const n=$N(r,{popupRedirectResolver:g2,persistence:[CD,pD,Dw]}),s=m0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=w2(u.toString());hD(n,f,()=>f(n.currentUser)),cD(n,m=>f(m))}}const o=f0("auth");return o&&QN(n,`http://${o}`),n}function b2(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}LN({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ci("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",b2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});v2("Browser");var A2="firebase",R2="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ds(A2,R2,"app");const C2={apiKey:"AIzaSyCSjbxL9N2DMxDdY5VYHIgSS8xcEXT54xE",authDomain:"my-first-project-7cbf9.firebaseapp.com",databaseURL:"https://my-first-project-7cbf9-default-rtdb.europe-west1.firebasedatabase.app",projectId:"my-first-project-7cbf9",storageBucket:"my-first-project-7cbf9.firebasestorage.app",messagingSenderId:"424606795900",appId:"1:424606795900:web:61a3a0683433959a3da1f9"},Lw=_0(C2),mn=Yx(Lw),eg=S2(Lw);function I2(){const r=U.useRef(),[e,n]=U.useState([]),[s,o]=U.useState([]),u=U.useRef(!1),f=()=>{const m=r.current.value.trim().toLowerCase();if(r.current.value="",m==="")o(e);else{const p=e.filter(_=>{var T;return(T=_.content)==null?void 0:T.toLowerCase().includes(m)});o(p)}};return U.useEffect(()=>{if(u.current)return;u.current=!0,(async()=>{try{const p=Zh(mn,"posts"),T=(await Hp(p)).docs.map(b=>b.data());n(T),o(T)}catch(p){console.error("Грешка при взимане на постовете:",p)}})()},[]),y.jsxs("div",{className:yn.container,children:[y.jsxs("nav",{className:yn.nav,children:[y.jsx("h1",{children:"At"}),y.jsxs("ul",{children:[y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam/login",children:[y.jsx("i",{className:`fa-solid fa-arrow-right-to-bracket ${yn.i}`}),y.jsx("span",{children:"Sign in"})]})}),y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam/create",children:[y.jsx("i",{className:`fa-regular fa-id-badge ${yn.i}`}),y.jsx("span",{children:"Create account"})]})}),y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam",children:[y.jsx("i",{className:`fa-solid fa-person-through-window ${yn.i}`}),y.jsx("span",{children:"Leave"})]})})]}),y.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Guest"}),y.jsx("p",{children:"Guest"})]}),y.jsxs("main",{className:yn.main,children:[y.jsxs("section",{id:"search",className:yn.search,children:[y.jsx("h3",{children:"What do you need?"}),y.jsx("input",{type:"search",ref:r,name:"search",id:"search",placeholder:"search"}),y.jsx("button",{onClick:f,children:"🔍"})]}),y.jsxs("section",{id:"posts",className:yn.posts,children:[y.jsxs("div",{id:"post",className:yn.post,children:[y.jsxs("div",{id:"meta",className:yn.meta,children:[y.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Profile image"}),y.jsx("h4",{children:"Author"}),y.jsx("p",{children:"Date"})]}),y.jsx("p",{children:"Text content. This is my first post is text content, which is going to become viral!"}),y.jsx("img",{src:"https://images.indianexpress.com/2017/12/2017-viral-photos-main_759_combo.jpg?w=350",alt:"Img or Video"}),y.jsxs("div",{id:"feedback",className:yn.feedback,children:[y.jsxs("p",{children:[y.jsx("i",{className:"fa-regular fa-comment"}),y.jsx("span",{children:"5"})]}),y.jsxs("p",{children:[y.jsx("i",{className:"fa-regular fa-heart"}),y.jsx("span",{children:"12"})]}),y.jsxs("p",{children:[y.jsx("i",{className:"fa-solid fa-magnifying-glass"}),y.jsx("span",{children:"57"})]})]})]}),s.length>0?s.map((m,p)=>{const _=m.meta.date;return y.jsxs("div",{id:"post",className:yn.post,children:[y.jsxs("div",{id:"meta",className:yn.meta,children:[y.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Profile image"}),y.jsx("h4",{children:m.meta.author}),y.jsx("p",{children:_})]}),y.jsx("p",{children:m.content}),y.jsx("img",{src:m.img||"https://example.com/default-image.jpg",alt:"Img or Video"}),y.jsxs("div",{id:"feedback",className:yn.feedback,children:[y.jsxs("p",{children:[y.jsx("i",{className:"fa-regular fa-comment"}),y.jsx("span",{children:m.feedback.comments})]}),y.jsxs("p",{children:[y.jsx("i",{className:"fa-regular fa-heart"}),y.jsx("span",{children:m.feedback.likes})]}),y.jsxs("p",{children:[y.jsx("i",{className:"fa-solid fa-magnifying-glass"}),y.jsx("span",{children:m.feedback.views})]})]})]},p)}):y.jsx("p",{children:"No posts found"})]})]})]})}const x2="_wrapperMajor_12wpi_1",N2="_header_12wpi_11",D2="_logo_12wpi_73",O2="_main_12wpi_83",M2="_mainDiv_12wpi_95",k2="_nav_12wpi_107",P2="_button_12wpi_121",V2="_google_12wpi_141",j2="_awesome_12wpi_175",L2="_separator_12wpi_201",U2="_hr_12wpi_223",z2="_input_12wpi_231",B2="_next_12wpi_245",H2="_lastParagraph_12wpi_263",dt={wrapperMajor:x2,header:N2,logo:D2,main:O2,mainDiv:M2,nav:k2,button:P2,google:V2,awesome:j2,separator:L2,hr:U2,input:z2,next:B2,lastParagraph:H2};function q2(){const r=ai(),{updateForm:e}=U.useContext(vr),n=async s=>{var u;s.preventDefault();const o={email:((u=s.target.elements.email)==null?void 0:u.value)||""};if(!o.email)return alert("You must enter a valid email address");await e(o),r("/react-regular-exam/login/pass")};return y.jsx("form",{onSubmit:n,children:y.jsxs("div",{className:dt.wrapperMajor,children:[y.jsxs("header",{className:dt.header,children:[y.jsx(_e,{className:dt.x,to:"/react-regular-exam",children:y.jsx("i",{className:"fa-solid fa-xmark"})}),y.jsx("h1",{className:dt.logo,children:"At"})]}),y.jsx("main",{className:dt.main,children:y.jsxs("div",{className:dt.mainDiv,children:[y.jsx("h1",{children:"Sign in to At"}),y.jsxs("nav",{className:dt.nav,children:[y.jsxs("button",{type:"button",className:`${dt.button} ${dt.awesome} ${dt.google}`,children:[y.jsx("i",{className:"fa-brands fa-google"}),"Sign in with Google"]}),y.jsxs("button",{type:"button",className:`${dt.button} ${dt.awesome}`,children:[y.jsx("i",{className:"fa-brands fa-apple"}),"Sign in with Apple"]}),y.jsxs("div",{className:dt.separator,children:[y.jsx("hr",{className:dt.hr}),y.jsx("p",{children:"or"}),y.jsx("hr",{className:dt.hr})]}),y.jsx("input",{name:"email",className:dt.input,type:"email",placeholder:"email"}),y.jsx("button",{className:`${dt.button} ${dt.awesome} ${dt.next}`,children:"Next"}),y.jsx("button",{type:"button",className:`${dt.button} ${dt.awesome}`,to:"/react-regular-exam/guest",children:"Forgot password?"}),y.jsxs("p",{className:dt.lastParagraph,children:["Don't have an account?",y.jsx(_e,{to:"/react-regular-exam/create",children:"Sign up"})]})]})]})})]})})}const F2="_wrapperMajor_1qz1e_1",G2="_header_1qz1e_21",$2="_logo_1qz1e_83",K2="_main_1qz1e_93",Q2="_mainDiv_1qz1e_107",Y2="_upperDiv_1qz1e_121",X2="_emailState_1qz1e_131",W2="_password_1qz1e_159",Z2="_arrow_1qz1e_177",J2="_inputWrapper_1qz1e_189",eO="_pass_1qz1e_159",tO="_forgot_1qz1e_219",nO="_login_1qz1e_247",iO="_signup_1qz1e_289",hn={wrapperMajor:F2,header:G2,logo:$2,main:K2,mainDiv:Q2,upperDiv:Y2,emailState:X2,password:W2,arrow:Z2,inputWrapper:J2,pass:eO,forgot:tO,login:nO,signup:iO};function Uw(r,e){localStorage.setItem("user",JSON.stringify(r)),localStorage.setItem("userToken",e)}function rO(r){localStorage.setItem("user",JSON.stringify(r))}function zw(){return localStorage.getItem("userToken")}function _a(){return localStorage.getItem("user")}function sO(){localStorage.removeItem("userToken"),localStorage.removeItem("user")}const aO=async r=>{const{email:e,password:n}=r;try{const o=(await lD(eg,e,n)).user;await nw(Wn(mn,"users",o.uid),{...r,createdAt:new Date,userId:o.uid});const u=await o.getIdToken(),f=await tg(o.uid);return Uw(f,u),f}catch(s){console.error("Error registering user:",s.message)}},oO=async r=>{const{email:e,password:n}=r;try{const o=(await uD(eg,e,n)).user,u=await o.getIdToken(),f=await tg(o.uid);return Uw(f,u),f}catch(s){console.error("Error login user:",s.message)}},lO=async r=>{try{const e=await kh(r.img);e?(r.img=e.url,r.imgId=e.id):(r.img="",r.imgId="");const n=await cN(Zh(mn,"posts"),r),s={...r,id:n.id};await nw(Wn(mn,"posts",n.id),s)}catch(e){console.error("Error adding document:",e)}},uO=async r=>{try{const e=Wn(mn,"posts",r);await uN(e),console.log("Post deleted successfully!")}catch(e){console.error("Error deleting post:",e)}},cO=async(r,e,n,s,o)=>{let u="";e&&(u=await kh(e,"my_unsigned_preset"));const m=Wn(mn,"posts",r);try{await ko(m,{content:n,img:u.url?u.url:s,imgId:u.id?u.id:o})}catch(p){console.error("Error adding comment: ",p)}},hO=async(r,e,n,s)=>{let o="";const u="profile_upload",f="wall_upload";n&&(o=await kh(n,u));let m="";s&&(m=await kh(s,f));const p=Wn(mn,"users",r);try{await ko(p,{...e,updatesHistory:qp(new Date().toLocaleString()),profileImg:o.url?o.url:"",profileImgID:o.id?o.id:"",wallImg:m.url?m.url:"",wallImgId:m.id?m.id:""})}catch(_){console.error("Error adding comment: ",_)}},Bw=async(r,e)=>{const n=Wn(mn,"posts",r);try{await ko(n,{comments:qp({data:e}),"feedback.comments":Fp(1)})}catch(s){console.error("Error adding comment: ",s)}},fO=async r=>{const e=Wn(mn,"posts",r);try{await ko(e,{img:"",imgId:""})}catch(n){console.error("Error adding comment: ",n)}},qE=async(r,e)=>{const n=Wn(mn,"posts",r);try{await ko(n,{"feedback.likes":Fp(1),"feedback.likedPeople":qp(e)})}catch(s){console.error("Error adding like: ",s)}},dO=async r=>{const e=Wn(mn,"posts",r);try{await ko(e,{"feedback.views":Fp(1)})}catch(n){console.error("Error adding like: ",n)}},Mh=async r=>{try{const e=Wn(mn,"posts",r),n=await ew(e);return n.exists()?n.data():(console.log("No such document!"),null)}catch(e){return console.error("Error fetching post:",e),null}},Zm=async()=>{try{const r=Zh(mn,"posts"),n=(await Hp(r)).docs.map(s=>s.data());return n.sort((s,o)=>new Date(o.meta.date)-new Date(s.meta.date)),n}catch(r){console.error("Error loading posts",r)}};async function tg(r){try{const e=Wn(mn,"users",r),n=await ew(e);if(n.exists())return n.data();throw new Error("no such user!")}catch(e){return console.error("Error fetching user:",e.message),null}}const kh=async(r,e)=>{if(!r)return;const n=new FormData;n.append("file",r),n.append("upload_preset",e);try{const o=await(await fetch("https://api.cloudinary.com/v1_1/dsqegonee/image/upload",{method:"POST",body:n})).json();if(o.secure_url)return{url:o.secure_url,id:o.public_id};console.error("Error uploading your media: ",o)}catch(s){console.error("Error uploading your media: ",s)}},mO="_loader_1ojyy_11",pO={loader:mO};function Hw(){return y.jsx("div",{className:pO.loader})}function gO(){const{formData:r,updateForm:e}=U.useContext(vr),n=ai(),[s,o]=U.useState(!1),[u,f]=U.useState(!1),m=async _=>{var b;_.preventDefault(),f(!0);const T={password:(b=_.target.elements.password)==null?void 0:b.value};if(!T)return alert("You need to provide a password");await e(T)};U.useEffect(()=>{if(!r.password)return;(async()=>{try{const T=await oO(r);await e(T),n("/react-regular-exam/welcome"),f(!1)}catch(T){alert(T.message)}})()},[r.password]);const p=()=>{const _=document.getElementById("password");_.type==="password"?_.type="text":_.type="password"};return y.jsx("form",{onSubmit:m,children:y.jsxs("div",{className:hn.wrapperMajor,children:[u&&y.jsx(Hw,{}),y.jsxs("header",{className:hn.header,children:[y.jsx(_e,{className:hn.x,to:"/react-regular-exam",children:y.jsx("i",{className:"fa-solid fa-xmark"})}),y.jsx("h1",{className:hn.logo,children:"At"})]}),y.jsx("main",{className:hn.main,children:y.jsxs("div",{className:hn.mainDiv,children:[y.jsxs("div",{className:hn.upperDiv,children:[y.jsx("h1",{children:"Enter your password"}),y.jsxs("div",{className:hn.emailState,children:[y.jsx("p",{children:"Email"}),y.jsx("p",{children:r.email})]}),y.jsxs("div",{className:hn.password,children:[y.jsxs("div",{className:hn.arrow,children:[y.jsx("p",{children:"Password"}),y.jsx("i",{className:"fa-solid fa-arrow-down"})]}),y.jsxs("div",{className:hn.inputWrapper,children:[y.jsx("input",{className:hn.pass,type:"password",name:"password",id:"password",placeholder:""}),y.jsx("i",{onClick:p,className:"fa-regular fa-eye"})]})]}),y.jsx("p",{className:hn.forgot,children:y.jsx(_e,{children:"Forgot password?"})})]}),y.jsxs("div",{className:hn.login,children:[y.jsx("input",{name:"login",type:"submit",value:"Log in"}),y.jsxs("div",{className:hn.signup,children:[y.jsx("p",{children:"Don't have an account?"}),y.jsx(_e,{to:"/create",children:"Sign up"})]})]})]})})]})})}const _O="_wrapperMajor_1j10v_1",yO="_header_1j10v_21",vO="_logo_1j10v_83",EO="_main_1j10v_93",TO="_mainDiv_1j10v_107",wO="_upperDiv_1j10v_121",SO="_password_1j10v_133",bO="_arrow_1j10v_151",AO="_inputWrapper_1j10v_163",RO="_pass_1j10v_133",CO="_login_1j10v_193",IO="_birth_1j10v_239",xO="_birthday_1j10v_271",NO="_month_1j10v_281",DO="_day_1j10v_307",OO="_year_1j10v_307",Ye={wrapperMajor:_O,header:yO,logo:vO,main:EO,mainDiv:TO,upperDiv:wO,password:SO,arrow:bO,inputWrapper:AO,pass:RO,login:CO,birth:IO,birthday:xO,month:NO,day:DO,year:OO};function MO(){const{updateForm:r}=U.useContext(vr),e=ai(),n=async u=>{var m,p,_,T,b,R,O;u.preventDefault();const f={name:((m=u.target.elements.name)==null?void 0:m.value)||"",email:((p=u.target.elements.email)==null?void 0:p.value)||"",password:((_=u.target.elements.password)==null?void 0:_.value)||"",birthday:{month:((T=u.target.elements.month)==null?void 0:T.value)||"",day:((b=u.target.elements.day)==null?void 0:b.value)||"",year:((R=u.target.elements.year)==null?void 0:R.value)||""}};if(f.name)if(f.email){if(!f.password||f.password.length<6)return alert("You must enter a valid password!");if(f.password!==((O=u.target.elements.repeat)==null?void 0:O.value))return alert("Password Missmatch!");if(f.birthday.month)if(f.birthday.day){if(!f.birthday.year)return alert("You must choose an year!")}else return alert("You must choose a day!");else return alert("You must choose a month!")}else return alert("You must enter a valid email address!");else return alert("You must enter a name!");await r(f),e("/react-regular-exam/create/submit")},s=()=>{const u=document.getElementById("password");u.type==="password"?u.type="text":u.type="password"},o=()=>{const u=document.getElementById("repeat");u.type==="password"?u.type="text":u.type="password"};return y.jsx("form",{onSubmit:n,children:y.jsxs("div",{className:Ye.wrapperMajor,children:[y.jsxs("header",{className:Ye.header,children:[y.jsx(_e,{className:Ye.x,to:"/react-regular-exam",children:y.jsx("i",{className:"fa-solid fa-xmark"})}),y.jsx("h1",{className:Ye.logo,children:"At"})]}),y.jsx("main",{className:Ye.main,children:y.jsxs("div",{className:Ye.mainDiv,children:[y.jsxs("div",{className:Ye.upperDiv,children:[y.jsx("h1",{children:"Create your account"}),y.jsxs("div",{className:Ye.password,children:[y.jsxs("div",{className:Ye.arrow,children:[y.jsx("p",{children:"Name"}),y.jsx("i",{className:"fa-solid fa-arrow-down"})]}),y.jsx("div",{className:Ye.inputWrapper,children:y.jsx("input",{className:Ye.pass,type:"text",name:"name",id:"name",placeholder:""})})]}),y.jsxs("div",{className:Ye.password,children:[y.jsxs("div",{className:Ye.arrow,children:[y.jsx("p",{children:"Email"}),y.jsx("i",{className:"fa-solid fa-arrow-down"})]}),y.jsx("div",{className:Ye.inputWrapper,children:y.jsx("input",{className:Ye.pass,type:"email",name:"email",id:"email",placeholder:""})})]}),y.jsxs("div",{className:Ye.password,children:[y.jsxs("div",{className:Ye.arrow,children:[y.jsx("p",{children:"Password"}),y.jsx("i",{className:"fa-solid fa-arrow-down"})]}),y.jsxs("div",{className:Ye.inputWrapper,children:[y.jsx("input",{className:Ye.pass,type:"password",name:"password",id:"password",placeholder:"At least 6 characters"}),y.jsx("i",{onClick:s,className:"fa-regular fa-eye"})]})]}),y.jsxs("div",{className:Ye.password,children:[y.jsxs("div",{className:Ye.arrow,children:[y.jsx("p",{children:"Repeat password"}),y.jsx("i",{className:"fa-solid fa-arrow-down"})]}),y.jsxs("div",{className:Ye.inputWrapper,children:[y.jsx("input",{className:Ye.pass,type:"password",name:"repeat",id:"repeat",placeholder:""}),y.jsx("i",{onClick:o,className:"fa-regular fa-eye"})]})]}),y.jsxs("div",{className:Ye.birth,children:[y.jsx("p",{children:"Date of Birth"}),y.jsx("p",{children:"This will not be shown publicly. Confirm your own age, even if this account is for a business, a pet, or something else."}),y.jsxs("div",{className:Ye.birthday,children:[y.jsxs("div",{className:Ye.month,children:[y.jsx("p",{children:"month"}),y.jsxs("select",{name:"month",id:"month",children:[y.jsx("option",{value:""}),y.jsx("option",{value:"January",children:"January"}),y.jsx("option",{value:"February",children:"February"}),y.jsx("option",{value:"March",children:"March"}),y.jsx("option",{value:"April",children:"April"}),y.jsx("option",{value:"May",children:"May"}),y.jsx("option",{value:"June",children:"June"}),y.jsx("option",{value:"July",children:"July"}),y.jsx("option",{value:"August",children:"August"}),y.jsx("option",{value:"September",children:"September"}),y.jsx("option",{value:"October",children:"October"}),y.jsx("option",{value:"November",children:"November"}),y.jsx("option",{value:"December",children:"December"})]})]}),y.jsxs("div",{className:Ye.day,children:[y.jsx("p",{children:"Day"}),y.jsxs("select",{name:"day",id:"day",children:[y.jsx("option",{value:""}),Array.from({length:31},(u,f)=>y.jsx("option",{value:f+1,children:f+1},f+1))]})]}),y.jsxs("div",{className:Ye.year,children:[y.jsx("p",{children:"Year"}),y.jsxs("select",{name:"year",id:"year",children:[y.jsx("option",{value:""}),Array.from({length:121},(u,f)=>y.jsx("option",{value:f+1905,children:f+1905},f+1905))]})]})]})]})]}),y.jsx("div",{className:Ye.login,children:y.jsx("button",{children:"Next"})})]})})]})})}const kO="_wrapperMajor_ewi7d_1",PO="_header_ewi7d_33",VO="_logo_ewi7d_95",jO="_main_ewi7d_105",LO="_wrapper_ewi7d_1",UO="_checkBoxWrapper_ewi7d_135",zO="_button_ewi7d_267",ss={wrapperMajor:kO,header:PO,logo:VO,main:jO,wrapper:LO,checkBoxWrapper:UO,button:zO},BO="_button_uw3we_1",HO={button:BO};function qO(r){return y.jsx("button",{onClick:r.onClick,className:HO.button,children:"Abort"})}const FO="_timer_17wgr_1",GO={timer:FO};function $O(r){return y.jsx("p",{className:GO.timer,children:r.onTimer})}function KO(){const r=ai(),{formData:e,updateForm:n,resetFormData:s}=U.useContext(vr),[o,u]=U.useState(!1),[f,m]=U.useState(0),p=async T=>{var R,O,j;T.preventDefault(),u(!0),m(10);const b={checkbox:{getMore:(R=T.target.elements.getMore)!=null&&R.checked?"yes":"no",connectWith:(O=T.target.elements.connectWith)!=null&&O.checked?"yes":"no",peronalizedAds:(j=T.target.elements.peronalizedAds)!=null&&j.checked?"yes":"no"}};try{n(b)}catch(Q){console.error("Error registering user:",Q.message)}};U.useEffect(()=>{if(!o||f===0)return;const T=setTimeout(()=>{m(b=>b-1)},1e3);return()=>{clearTimeout(T)}},[f,o]),U.useEffect(()=>{if(!e.checkbox.getMore)return;const T=new AbortController,b=T.signal,R=setTimeout(()=>{(async()=>{try{await aO(e,{signal:b}),u(!1),r("/react-regular-exam/welcome")}catch(j){alert(j.message)}})()},1e4);return()=>{clearTimeout(R),T.abort()}},[e.checkbox.getMore]);const _=()=>{r("/react-regular-exam")};return y.jsx("form",{onSubmit:p,children:y.jsxs("div",{className:ss.wrapperMajor,children:[o&&y.jsx(Hw,{}),o&&y.jsx($O,{onTimer:f}),o&&y.jsx(qO,{onClick:_}),y.jsxs("header",{className:ss.header,children:[y.jsx(_e,{className:ss.x,to:"/react-regular-exam",children:y.jsx("i",{className:"fa-solid fa-xmark"})}),y.jsx("h1",{className:ss.logo,children:"At"})]}),y.jsxs("main",{className:ss.main,children:[y.jsxs("div",{className:ss.wrapper,children:[y.jsx("h1",{children:"Customize your experience"}),y.jsxs("div",{className:ss.checkBoxWrapper,children:[y.jsxs("div",{children:[y.jsx("h3",{children:"Get more out of At"}),y.jsxs("div",{children:[y.jsx("p",{children:"Receive email about your At activity and recommendations."}),y.jsx("input",{type:"checkbox",name:"getMore"})]})]}),y.jsxs("div",{children:[y.jsx("h3",{children:"Connect with people you know"}),y.jsxs("div",{children:[y.jsx("p",{children:"Let others find your At account by your email address."}),y.jsx("input",{type:"checkbox",name:"connectWith"})]})]}),y.jsxs("div",{children:[y.jsx("h3",{children:"Personalized ads"}),y.jsxs("div",{children:[y.jsx("p",{children:"You will always see ads on At based on your At activity. When this setting is enabled, At may further personalize ads from At advertisers, on and off At, by combining your At activity with other online activity and information from our partners."}),y.jsx("input",{type:"checkbox",name:"peronalizedAds"})]})]})]}),y.jsxs("p",{children:["By signing up, you agree to our ",y.jsx(_e,{children:"Terms"}),", ",y.jsx(_e,{children:"Privacy Policy"}),", and ",y.jsx(_e,{children:"Cookie Use"}),". At may use your contact information, including your email address and phone number for purposes outlined in our Privacy Policy. ",y.jsx(_e,{children:"Learn more"})]})]}),y.jsx("div",{className:ss.button,children:y.jsx("input",{type:"submit",value:"Next"})})]})]})})}const QO="_container_h5fhp_1",YO="_main_h5fhp_19",FE={container:QO,main:YO},XO="_nav_hj1iz_1",WO="_i_hj1iz_11",sa={nav:XO,i:WO};function ZO(){const{formData:r,updateForm:e}=U.useContext(vr),[n,s]=U.useState("Loading..."),o=ai(),u=async f=>{f.preventDefault();try{await fD(eg),e({name:"",email:"",password:"",birthday:{month:"",day:"",year:""},checkbox:{getMore:"",connectWith:"",peronalizedAds:"",noThanks:""}}),sO(),o("/react-regular-exam")}catch(m){console.error("Logout error:",m)}};return U.useEffect(()=>{const f=JSON.parse(_a());f&&f.name?s(f.name):s("Guest")},[]),y.jsxs("nav",{className:sa.nav,children:[y.jsx("h1",{children:"At"}),y.jsxs("ul",{children:[y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam/welcome",children:[y.jsx("i",{className:`fa-solid fa-house-flag ${sa.i}`}),y.jsx("span",{children:"Welcome"})]})}),y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam/about",children:[y.jsx("i",{className:`fa-solid fa-bell ${sa.i}`}),y.jsx("span",{children:"Notification"})]})}),y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam/about",children:[y.jsx("i",{className:`fa-solid fa-envelope ${sa.i}`}),y.jsx("span",{children:"Messages"})]})}),y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam/welcome/profile",children:[y.jsx("i",{className:`fa-solid fa-user ${sa.i}`}),y.jsx("span",{children:"Profile"})]})}),y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam/about",children:[y.jsx("i",{className:`fa-solid fa-suitcase ${sa.i}`}),y.jsx("span",{children:"Jobs"})]})}),y.jsx("li",{children:y.jsxs(_e,{onClick:u,to:"#",children:[y.jsx("i",{className:`fa-solid fa-circle-xmark ${sa.i}`}),y.jsx("span",{children:"Logout"})]})}),y.jsx("li",{children:y.jsx(_e,{to:"/react-regular-exam/welcome/post",children:y.jsx("span",{children:"Post"})})})]}),y.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Guest"}),y.jsx("p",{children:n})]})}function JO(){const r=U.useRef(null);return y.jsxs("div",{className:FE.container,children:[y.jsx(ZO,{}),y.jsx("main",{ref:r,className:FE.main,children:y.jsx(pA,{context:{mainRef:r}})})]})}const eM="_search_1o9ft_1",tM="_meta_1o9ft_39",nM="_post_1o9ft_69",iM="_postWrapper_1o9ft_77",rM="_feedback_1o9ft_123",sM="_imgWrap_1o9ft_151",aM="_modalOverlay_1o9ft_169",oM="_modalContent_1o9ft_195",lM="_commentBox_1o9ft_215",uM="_modalButtons_1o9ft_235",cM="_sendBtn_1o9ft_247",hM="_closeBtn_1o9ft_273",vn={search:eM,meta:tM,post:nM,postWrapper:iM,feedback:rM,imgWrap:sM,modalOverlay:aM,modalContent:oM,commentBox:lM,modalButtons:uM,sendBtn:cM,closeBtn:hM};function fM(r,e){return y.jsx(y.Fragment,{children:y.jsxs("section",{id:"search",className:vn.search,children:[y.jsx("h3",{children:"What do you need?"}),y.jsx("input",{type:"search",ref:e,name:"search",id:"search",placeholder:"search"}),y.jsx("button",{onClick:r.onSearch,children:"🔍"})]})})}const dM=U.forwardRef(fM);function mM(r=6){const[e,n]=U.useState(!1),[s,o]=U.useState(1);return{fetchPosts:async(p,_)=>{try{const T=Zh(mn,"posts"),R=(await Hp(T)).docs.map(O=>O.data());R.sort((O,j)=>new Date(j.meta.date)-new Date(O.meta.date)),p(R),_(R.slice(0,r))}catch(T){console.error("Грешка при взимане на постовете:",T)}},loadMorePosts:(p,_,T)=>{if(e||_.length>=p.length)return;n(!0);const b=s+1,R=p.slice(s*r,b*r);R.length>0&&(T(O=>[...O,...R]),o(b)),n(!1)},loading:e,handleSearch:(p,_,T)=>{const b=p.trim().toLowerCase();if(b==="")o(1),_(T.slice(0,s*r));else{const R=T.filter(O=>{var j;return(j=O.content)==null?void 0:j.toLowerCase().includes(b)});_(R)}}}}function pM(r,e){U.useEffect(()=>{if(!(r!=null&&r.current))return;const n=()=>{const s=r.current;if(!s)return;const o=s.scrollHeight;s.scrollTop+s.clientHeight+5>=o&&e()};return r.current.addEventListener("scroll",n),()=>{r.current&&r.current.removeEventListener("scroll",n)}},[r,e])}function gM(){const r=ai();return{handleDetailsClick:n=>{r(`/react-regular-exam/welcome/${n}/details`,{state:{postId:n}})}}}const Gt=[];for(let r=0;r<256;++r)Gt.push((r+256).toString(16).slice(1));function _M(r,e=0){return(Gt[r[e+0]]+Gt[r[e+1]]+Gt[r[e+2]]+Gt[r[e+3]]+"-"+Gt[r[e+4]]+Gt[r[e+5]]+"-"+Gt[r[e+6]]+Gt[r[e+7]]+"-"+Gt[r[e+8]]+Gt[r[e+9]]+"-"+Gt[r[e+10]]+Gt[r[e+11]]+Gt[r[e+12]]+Gt[r[e+13]]+Gt[r[e+14]]+Gt[r[e+15]]).toLowerCase()}let bm;const yM=new Uint8Array(16);function vM(){if(!bm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");bm=crypto.getRandomValues.bind(crypto)}return bm(yM)}const EM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),GE={randomUUID:EM};function qw(r,e,n){var o;if(GE.randomUUID&&!r)return GE.randomUUID();r=r||{};const s=r.random??((o=r.rng)==null?void 0:o.call(r))??vM();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,_M(s)}function Fw(){return{handleLike:async e=>{try{const s=JSON.parse(_a()).name,u=(await Mh(e)).feedback.likedPeople;if(!u){await qE(e,s);return}if(u.filter(m=>m===s).length>0)return alert("You  can like only once");await qE(e,s)}catch(n){alert("Error adding like: "+n.message)}}}}function TM(){return{handleView:async e=>{try{await dO(e)}catch(n){alert("Error adding like: "+n.message)}}}}function wM(){const[r,e]=U.useState([]),[n,s]=U.useState([]),o=U.useRef(),{fetchPosts:u,loadMorePosts:f,loading:m,handleSearch:p}=mM(),{mainRef:_}=eA(),{handleDetailsClick:T}=gM(),{handleView:b}=TM(),{handleLike:R}=Fw(),O=async K=>{const se=K.target.closest("#closestID").getAttribute("data-key");await b(se),T(se)};U.useEffect(()=>{(async()=>{await u(e,s)})()},[]);const j=()=>{o.current&&p(o.current.value,s,r)};pM(_,()=>f(r,n,s));const Q=K=>{const se=K.target.closest("#closestID").getAttribute("data-key"),ce=document.getElementById(se);ce.style.display="block"},q=K=>{const se=K.target.closest("#closestID").getAttribute("data-key"),ce=document.getElementById(se);ce.style.display="none"},G=async K=>{const re=K.target.closest("#closestID"),se=re.getAttribute("data-key"),ce=JSON.parse(_a()),k={id:qw(),author:ce.name,text:re.querySelector("textarea").value,date:new Date().toLocaleString()};if(re.querySelector("textarea").value="",!k.text)return alert("Your reply is empty!");await Bw(se,k);const C=document.getElementById(se);C.style.display="none";const A=await Zm();A&&s(A)},J=async K=>{const se=K.target.closest("#closestID").getAttribute("data-key");await R(se);const ce=await Zm();ce&&s(ce)};return y.jsxs(y.Fragment,{children:[y.jsx(dM,{ref:o,onSearch:j}),y.jsx("section",{id:"posts",className:vn.posts,children:n.length>0?n.map(K=>y.jsxs("div",{id:"closestID","data-key":K.id,className:vn.postWrapper,children:[y.jsx("div",{onClick:re=>O(re),className:vn.post,children:y.jsxs("div",{className:vn.imgWrap,children:[y.jsxs("div",{className:vn.meta,children:[y.jsx("img",{src:K.meta.img||K.meta.avatar||"https://example.com/default-avatar.jpg",alt:"Profile"}),y.jsx("h4",{children:K.meta.author}),y.jsx("p",{children:K.meta.date})]}),y.jsx("p",{children:K.content}),y.jsx("img",{src:K.img||"https://example.com/default-avatar.jpg",alt:"Img or Video"})]})},K.id),y.jsxs("div",{className:vn.feedback,children:[y.jsxs("p",{onClick:re=>Q(re),children:[y.jsx("i",{className:"fa-regular fa-comment"}),y.jsx("span",{children:K.feedback.comments})]}),y.jsxs("p",{onClick:re=>J(re),children:[y.jsx("i",{className:"fa-regular fa-heart"}),y.jsx("span",{children:K.feedback.likes})]}),y.jsxs("p",{onClick:re=>O(re),children:[y.jsx("i",{className:"fa-solid fa-magnifying-glass"}),y.jsx("span",{children:K.feedback.views})]})]}),y.jsx("div",{"data-key":K.id,id:K.id,style:{display:"none"},className:vn.modalOverlay,children:y.jsxs("div",{className:vn.modalContent,onClick:re=>re.stopPropagation(),children:[y.jsx("textarea",{className:vn.commentBox,placeholder:"Post your reply"}),y.jsxs("div",{className:vn.modalButtons,children:[y.jsx("button",{className:vn.sendBtn,onClick:re=>G(re),children:"Reply"}),y.jsx("button",{className:vn.closeBtn,onClick:re=>q(re),children:"X"})]})]})})]},K.id)):y.jsx("p",{children:"No posts found"})}),m&&y.jsx("p",{className:vn.loading,children:"Loading more posts..."})]})}function SM({children:r}){const e=zw(),n=ai();return U.useEffect(()=>{if(!e)return n("/react-regular-exam")}),y.jsx(y.Fragment,{children:r})}const bM="_postFormContainer_19kdp_3",AM="_postForm_19kdp_3",RM="_avatar_19kdp_43",CM="_formContent_19kdp_57",IM="_textarea_19kdp_71",xM="_mediaPreview_19kdp_93",NM="_footer_19kdp_117",DM="_mediaButton_19kdp_133",OM="_button_19kdp_161",MM="_removeButton_19kdp_191",Si={postFormContainer:bM,postForm:AM,avatar:RM,formContent:CM,textarea:IM,mediaPreview:xM,footer:NM,mediaButton:DM,button:OM,removeButton:MM};function kM(){const[r,e]=U.useState(null),[n,s]=U.useState(null),o=U.useRef(null),u=U.useRef(null),{formData:f}=U.useContext(vr),m=T=>{const b=T.target.files[0];if(b){const R=URL.createObjectURL(b);e(b),s(R)}},p=()=>{e(null),u.current&&(u.current.value="")},_=async T=>{T.preventDefault();const b=o.current.value.trim();if(!b)return;const R={content:b,feedback:{comments:0,likes:0,views:0},img:r,meta:{author:f.name,date:new Date().toLocaleString(),avatar:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg"},comments:[]};await lO(R),o.current.value="",e(null),u.current&&(u.current.value="")};return y.jsx("div",{className:Si.postFormContainer,children:y.jsxs("div",{className:Si.postForm,children:[y.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"User avatar",className:Si.avatar}),y.jsxs("form",{onSubmit:_,className:Si.formContent,children:[y.jsx("textarea",{ref:o,placeholder:"What's happening?",className:Si.textarea}),r&&y.jsx("div",{className:Si.mediaPreview,children:y.jsx("img",{src:n,alt:"Uploaded media preview"})}),y.jsxs("div",{className:Si.footer,children:[y.jsxs("label",{className:Si.mediaButton,children:["📷 Add Media",y.jsx("input",{type:"file",accept:"image/*",onChange:m,hidden:!0,ref:u})]}),r&&y.jsx("button",{type:"button",onClick:p,className:Si.removeButton,children:"❌ Remove"}),y.jsx("button",{type:"submit",className:Si.button,children:"Post"})]})]})]})})}const PM="_container_4dbl9_1",VM="_text_4dbl9_19",jM="_link_4dbl9_31",th={container:PM,text:VM,link:jM},LM=()=>{const[r,e]=U.useState(!1);return U.useEffect(()=>{const n=()=>{zw()};n(),n&&e(!0)},[]),y.jsxs("div",{className:th.container,children:[y.jsx("h1",{className:th.text,children:"Under Construction"}),r?y.jsx(_e,{to:"/react-regular-exam/welcome",className:th.link,children:"Go Back"}):y.jsx(_e,{to:"/react-regular-exam",className:th.link,children:"Go Back"})]})},UM="_post_1z0jj_1",zM="_meta_1z0jj_17",BM="_imgWrap_1z0jj_55",HM="_feedback_1z0jj_93",qM="_actions_1z0jj_119",FM="_editButton_1z0jj_131",GM="_deleteButton_1z0jj_131",$M="_commentSection_1z0jj_165",KM="_commentInput_1z0jj_179",QM="_commentButton_1z0jj_195",YM="_commentsContainer_1z0jj_215",XM="_comment_1z0jj_165",WM="_commentHeader_1z0jj_253",ZM="_commentDate_1z0jj_289",JM="_commentText_1z0jj_299",ek="_noComments_1z0jj_309",Jt={post:UM,meta:zM,imgWrap:BM,feedback:HM,actions:qM,editButton:FM,deleteButton:GM,commentSection:$M,commentInput:KM,commentButton:QM,commentsContainer:YM,comment:XM,commentHeader:WM,commentDate:ZM,commentText:JM,noComments:ek};function tk(){const e=JSON.parse(_a()).name;return{handleComment:async(s,o)=>{const u=s.id,f={id:qw(),author:e,text:o.current.value,date:new Date().toLocaleString()};return o.current.value="",f.text?(await Bw(u,f),f):alert("Your reply is empty!")}}}function nk(){var q;const r=yr(),{handleComment:e}=tk(),n=(q=r.state)==null?void 0:q.postId,s=U.useRef(),[o,u]=U.useState(null),[f,m]=U.useState([]),[p,_]=U.useState(!1),T=ai(),{handleLike:b}=Fw();if(!n)return y.jsx("p",{children:"No post data found"});const R=async()=>{const G=await e(o,s);G&&m(J=>[...J,G])};U.useEffect(()=>{(async()=>{const J=await Mh(n);JSON.parse(_a()).name===J.meta.author&&_(!0),u(J)})()},[f]);const O=async()=>{const G=o.id;uO(G),T("/react-regular-exam/welcome")},j=()=>{o&&T(`/react-regular-exam/welcome/${o.id}/details/edit`,{state:{postData:o}})},Q=async G=>{const K=G.target.closest("#closestId").getAttribute("data-id");await b(K);const re=await Mh(n);re&&u(re)};return y.jsxs(y.Fragment,{children:[o?y.jsxs("div",{id:"closestId","data-id":o.id,"data-imgid":o.imgId,className:Jt.post,children:[y.jsxs("div",{className:Jt.imgWrap,children:[y.jsxs("div",{className:Jt.meta,children:[y.jsx("img",{src:o.meta.img||o.meta.avatar||"https://example.com/default-avatar.jpg",alt:"Profile"}),y.jsx("h4",{children:o.meta.author}),y.jsx("p",{children:o.meta.date})]}),y.jsx("p",{children:o.content}),y.jsx("img",{src:o.img||"https://example.com/default-avatar.jpg",alt:"Img or Video"})]}),y.jsxs("div",{className:Jt.feedback,children:[y.jsxs("p",{children:[y.jsx("i",{className:"fa-regular fa-comment"}),y.jsx("span",{children:o.feedback.comments})]}),y.jsxs("p",{onClick:G=>Q(G),children:[y.jsx("i",{className:"fa-regular fa-heart"}),y.jsx("span",{children:o.feedback.likes})]}),y.jsxs("p",{children:[y.jsx("i",{className:"fa-solid fa-magnifying-glass"}),y.jsx("span",{children:o.feedback.views})]})]}),p&&y.jsxs("div",{className:Jt.actions,children:[y.jsx("button",{className:Jt.editButton,onClick:()=>j(),children:"Edit"}),y.jsx("button",{className:Jt.deleteButton,onClick:()=>O(),children:"Delete"})]}),y.jsxs("div",{className:Jt.commentSection,children:[y.jsx("textarea",{ref:s,placeholder:"Post your reply",className:Jt.commentInput}),y.jsx("button",{className:Jt.commentButton,onClick:()=>R(),children:"Reply"})]})]},o.id):y.jsx("p",{children:"Loading post data..."}),o?y.jsx("div",{className:Jt.commentsContainer,children:o.comments&&o.comments.length>0?o.comments.map(G=>y.jsxs("div",{className:Jt.comment,children:[y.jsxs("div",{className:Jt.commentHeader,children:[y.jsx("h5",{children:G.data.author}),y.jsx("p",{className:Jt.commentDate,children:G.data.date})]}),y.jsx("p",{className:Jt.commentText,children:G.data.text})]},G.data.id)):y.jsx("p",{className:Jt.noComments,children:"No comments yet. Be the first to reply!"})}):y.jsx("p",{children:"Loading post data..."})]})}const ik="_profileContainer_vre1v_1",rk="_header_vre1v_15",sk="_coverPhoto_vre1v_25",ak="_profileInfo_vre1v_51",ok="_avatar_vre1v_61",lk="_details_vre1v_77",uk="_name_vre1v_85",ck="_username_vre1v_95",hk="_bio_vre1v_105",fk="_editProfile_vre1v_115",dk="_content_vre1v_135",mk="_posts_vre1v_143",pk="_post_vre1v_143",Nn={profileContainer:ik,header:rk,coverPhoto:sk,profileInfo:ak,avatar:ok,details:lk,name:uk,username:ck,bio:hk,editProfile:fk,content:dk,posts:mk,post:pk};function gk(){const[r,e]=U.useState([]),n=JSON.parse(_a());return U.useEffect(()=>{(async()=>{const u=(await Zm()).filter(f=>f.meta.author===n.name);e(u)})()},[]),y.jsxs("div",{className:Nn.profileContainer,children:[y.jsxs("div",{className:Nn.header,children:[y.jsx("div",{className:Nn.coverPhoto,children:y.jsx("img",{src:n.wallImg,alt:"wall_img"})}),y.jsxs("div",{className:Nn.profileInfo,children:[y.jsx("img",{src:n.profileImg?n.profileImg:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Profile",className:Nn.avatar}),y.jsxs("div",{className:Nn.details,children:[y.jsx("h2",{className:Nn.name,children:n.name}),y.jsx("p",{className:Nn.username,children:n.email}),y.jsx("p",{className:Nn.bio,children:n.bio})]}),y.jsx(_e,{to:"/react-regular-exam/welcome/profile/edit",className:Nn.editProfile,children:"Edit"})]})]}),y.jsxs("div",{className:Nn.content,children:[y.jsx("h3",{children:"Posts:"}),y.jsx("div",{className:Nn.posts,children:r.map(s=>y.jsxs("div",{className:Nn.post,children:[y.jsx("p",{children:s.content}),y.jsx("img",{src:s.img,alt:"Ni image"})]},s.id))})]})]})}const _k="_editProfileContainer_1yp8s_1",yk="_editProfileTitle_1yp8s_21",vk="_editProfileForm_1yp8s_31",Ek="_editProfileLabel_1yp8s_43",Tk="_editProfileInput_1yp8s_55",wk="_editProfileTextarea_1yp8s_57",Sk="_editProfileSelect_1yp8s_59",bk="_editProfileSaveButton_1yp8s_87",Ak="_imageUploadContainer_1yp8s_123",Rk="_coverPhotoLabel_1yp8s_139",Ck="_profileImageLabel_1yp8s_141",Ik="_coverPhotoPreview_1yp8s_159",xk="_profileImagePreview_1yp8s_175",Nk="_birthdateContainer_1yp8s_195",Dk="_checkboxContainer_1yp8s_219",wt={editProfileContainer:_k,editProfileTitle:yk,editProfileForm:vk,editProfileLabel:Ek,editProfileInput:Tk,editProfileTextarea:wk,editProfileSelect:Sk,editProfileSaveButton:bk,imageUploadContainer:Ak,coverPhotoLabel:Rk,profileImageLabel:Ck,coverPhotoPreview:Ik,profileImagePreview:xk,birthdateContainer:Nk,checkboxContainer:Dk},Ok=()=>{const[r,e]=U.useState(""),[n,s]=U.useState(null),[o,u]=U.useState(null),[f,m]=U.useState(null),[p,_]=U.useState(null),[T,b]=U.useState(""),[R,O]=U.useState(""),[j,Q]=U.useState(""),[q,G]=U.useState({day:"",month:"",year:""}),[J,K]=U.useState({connectWith:"",getMore:"",peronalizedAds:""}),re=ai(),{formData:se,updateForm:ce,resetFormData:k}=U.useContext(vr);U.useEffect(()=>{const x=JSON.parse(_a());e(x.userId),b(x.name),O(x.email),x.wallImg&&m(x.wallImg),x.profileImg&&s(x.profileImg),x.bio&&Q(x.bio),G(V=>({...V,...x.birthday})),K(V=>({...V,...x.checkbox}))},[]);const C=(x,V,N)=>{const tt=x.target.files[0];tt&&(V(tt),N(URL.createObjectURL(tt)))},A=x=>{const{name:V,checked:N}=x.target;K(tt=>({...tt,[V]:N?"yes":"no"}))},D=async x=>{x.preventDefault();const V={name:T,email:R,bio:j,birthDay:q,preferences:J};ce(V),await hO(r,V,n,f);const N=await tg(r);rO(N),re("/react-regular-exam/welcome/profile")};return y.jsxs("div",{className:wt.editProfileContainer,children:[y.jsx("h2",{className:wt.editProfileTitle,children:"Edit Profile"}),y.jsxs("form",{onSubmit:D,className:wt.editProfileForm,children:[y.jsxs("div",{className:wt.imageUploadContainer,children:[y.jsxs("label",{className:wt.coverPhotoLabel,children:["Cover Photo:",y.jsx("input",{type:"file",accept:"image/*",onChange:x=>C(x,m,_)}),f&&y.jsx("img",{src:p||f,alt:"Cover",className:wt.coverPhotoPreview})]}),y.jsxs("label",{className:wt.profileImageLabel,children:["Profile Image:",y.jsx("input",{type:"file",accept:"image/*",onChange:x=>C(x,s,u)}),n&&y.jsx("img",{src:o||n||"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Profile",className:wt.profileImagePreview})]})]}),y.jsxs("label",{className:wt.editProfileLabel,children:["Name:",y.jsx("input",{type:"text",value:T||"",onChange:x=>b(x.target.value),className:wt.editProfileInput})]}),y.jsxs("label",{className:wt.editProfileLabel,children:["Email:",y.jsx("input",{type:"email",value:R||"",onChange:x=>O(x.target.value),className:wt.editProfileInput})]}),y.jsxs("label",{className:wt.editProfileLabel,children:["Bio:",y.jsx("textarea",{value:j||"",onChange:x=>Q(x.target.value),className:wt.editProfileTextarea})]}),y.jsxs("div",{className:wt.birthdateContainer,children:[y.jsxs("select",{value:q.day||"",onChange:x=>G(V=>({...V,day:x.target.value})),className:wt.editProfileSelect,children:[y.jsx("option",{value:""}),Array.from({length:31},(x,V)=>y.jsx("option",{value:V+1||"",children:V+1},V+1))]}),y.jsxs("select",{value:q.month||"",onChange:x=>G(V=>({...V,month:x.target.value})),className:wt.editProfileSelect,children:[y.jsx("option",{value:""}),y.jsx("option",{value:"January",children:"January"}),y.jsx("option",{value:"February",children:"February"}),y.jsx("option",{value:"March",children:"March"}),y.jsx("option",{value:"April",children:"April"}),y.jsx("option",{value:"May",children:"May"}),y.jsx("option",{value:"June",children:"June"}),y.jsx("option",{value:"July",children:"July"}),y.jsx("option",{value:"August",children:"August"}),y.jsx("option",{value:"September",children:"September"}),y.jsx("option",{value:"October",children:"October"}),y.jsx("option",{value:"November",children:"November"}),y.jsx("option",{value:"December",children:"December"})]}),y.jsxs("select",{value:q.year||"",onChange:x=>G(V=>({...V,year:x.target.value})),className:wt.editProfileSelect,children:[y.jsx("option",{value:""}),Array.from({length:121},(x,V)=>y.jsx("option",{value:V+1905||"",children:V+1905},V+1905))]})]}),y.jsxs("div",{className:wt.checkboxContainer,children:[y.jsxs("label",{children:[y.jsx("input",{type:"checkbox",name:"connectWith",checked:J.connectWith==="yes",onChange:x=>A(x)})," Connect"]}),y.jsxs("label",{children:[y.jsx("input",{type:"checkbox",name:"getMore",checked:J.getMore==="yes",onChange:x=>A(x)})," More"]}),y.jsxs("label",{children:[y.jsx("input",{type:"checkbox",name:"peronalizedAds",checked:J.peronalizedAds==="yes",onChange:x=>A(x)})," Ads"]})]}),y.jsx("button",{type:"submit",className:wt.editProfileSaveButton,children:"Save"})]})]})},Mk="_editContainer_juuuu_1",kk="_editTitle_juuuu_19",Pk="_editForm_juuuu_31",Vk="_editLabel_juuuu_41",jk="_editTextarea_juuuu_53",Lk="_imageUploadContainer_juuuu_69",Uk="_existingImage_juuuu_81",zk="_removeOldImageButton_juuuu_89",Bk="_addButton_juuuu_115",Hk="_imagePreviewContainer_juuuu_145",qk="_imagePreview_juuuu_145",Fk="_removeButton_juuuu_175",Gk="_saveButton_juuuu_201",fn={editContainer:Mk,editTitle:kk,editForm:Pk,editLabel:Vk,editTextarea:jk,imageUploadContainer:Lk,existingImage:Uk,removeOldImageButton:zk,addButton:Bk,imagePreviewContainer:Hk,imagePreview:qk,removeButton:Fk,saveButton:Gk},$k=()=>{var re;const[r,e]=U.useState(!1),[n,s]=U.useState(""),[o,u]=U.useState(null),m=(re=yr().state)==null?void 0:re.postData,[p,_]=U.useState(""),[T,b]=U.useState(""),R=ai();U.useEffect(()=>{(async()=>{const ce=await Mh(m.id);b(ce.content),_(ce),ce.img&&e(!0)})()},[r]);const O=se=>{b(se.target.value)},j=U.useRef(null),Q=se=>{const ce=se.target.files[0];if(ce){const k=URL.createObjectURL(ce);s(ce),u(k)}},q=()=>{s("")},G=()=>{fO(p.id),e(!1)},J=async se=>{se.preventDefault(),await cO(p.id,n,T,p.img,p.imgId);const ce=p.id;R(`/react-regular-exam/welcome/${ce}/details`,{state:{postId:ce}})},K=()=>{j.current.click()};return y.jsxs("div",{className:fn.editContainer,children:[y.jsx("h2",{className:fn.editTitle,children:"Edit Post"}),y.jsxs("form",{onSubmit:J,className:fn.editForm,children:[y.jsx("label",{className:fn.editLabel,children:"Content:"}),y.jsx("textarea",{value:T,onChange:O,className:fn.editTextarea}),y.jsx("label",{className:fn.editLabel,children:"Image:"}),y.jsxs("div",{className:fn.imageUploadContainer,children:[p.img&&y.jsxs("div",{className:fn.existingImageContainer,children:[y.jsx("img",{src:p.img,alt:"Existing Post Image",className:fn.existingImage}),y.jsx("button",{type:"button",className:fn.removeOldImageButton,onClick:G,children:"Remove Old Image"})]}),y.jsx("button",{type:"button",className:fn.addButton,onClick:K,children:"Add Image"}),y.jsx("input",{type:"file",accept:"image/*",onChange:Q,ref:j,style:{display:"none"}})]}),n&&y.jsxs("div",{className:fn.imagePreviewContainer,children:[y.jsx("img",{src:o,alt:"Preview",className:fn.imagePreview}),y.jsx("button",{type:"button",className:fn.removeButton,onClick:q,children:"Remove Image"})]}),y.jsx("button",{type:"submit",className:fn.saveButton,children:"Save"})]})]})};function Kk(){return y.jsx(c1,{children:y.jsxs(_A,{children:[y.jsx(dn,{path:"/react-regular-exam/about",element:y.jsx(LM,{})}),y.jsx(dn,{path:"/react-regular-exam",element:y.jsx(h1,{})}),y.jsx(dn,{path:"/react-regular-exam/guest",element:y.jsx(I2,{})}),y.jsx(dn,{path:"/react-regular-exam/login",element:y.jsx(q2,{})}),y.jsx(dn,{path:"/react-regular-exam/login/pass",element:y.jsx(gO,{})}),y.jsx(dn,{path:"/react-regular-exam/create",element:y.jsx(MO,{})}),y.jsx(dn,{path:"/react-regular-exam/create/submit",element:y.jsx(KO,{})}),y.jsxs(dn,{path:"/react-regular-exam/welcome",element:y.jsx(SM,{children:y.jsx(JO,{})}),children:[y.jsx(dn,{index:!0,element:y.jsx(wM,{})}),y.jsx(dn,{path:":postId/details",element:y.jsx(nk,{})}),y.jsx(dn,{path:":postId/details/edit",element:y.jsx($k,{})}),y.jsx(dn,{path:"post",element:y.jsx(kM,{})}),y.jsx(dn,{path:"profile",element:y.jsx(gk,{})}),y.jsx(dn,{path:"profile/edit",element:y.jsx(Ok,{})})]})]})})}bb.createRoot(document.getElementById("root")).render(y.jsx(U.StrictMode,{children:y.jsx(zA,{children:y.jsx(Kk,{})})}));
