(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Bd={exports:{}},xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Iy;function OA(){if(Iy)return xl;Iy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return xl.Fragment=e,xl.jsx=n,xl.jsxs=n,xl}var Dy;function MA(){return Dy||(Dy=1,Bd.exports=OA()),Bd.exports}var E=MA(),Hd={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function VA(){if(xy)return Ce;xy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.iterator;function x(N){return N===null||typeof N!="object"?null:(N=b&&N[b]||N["@@iterator"],typeof N=="function"?N:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,Y={};function q(N,te,he){this.props=N,this.context=te,this.refs=Y,this.updater=he||P}q.prototype.isReactComponent={},q.prototype.setState=function(N,te){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,te,"setState")},q.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Q(){}Q.prototype=q.prototype;function ne(N,te,he){this.props=N,this.context=te,this.refs=Y,this.updater=he||P}var ee=ne.prototype=new Q;ee.constructor=ne,z(ee,q.prototype),ee.isPureReactComponent=!0;var pe=Array.isArray,ue={H:null,A:null,T:null,S:null},be=Object.prototype.hasOwnProperty;function M(N,te,he,se,ae,Ie){return he=Ie.ref,{$$typeof:r,type:N,key:te,ref:he!==void 0?he:null,props:Ie}}function R(N,te){return M(N.type,te,void 0,void 0,void 0,N.props)}function w(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function I(N){var te={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(he){return te[he]})}var V=/\/+/g;function j(N,te){return typeof N=="object"&&N!==null&&N.key!=null?I(""+N.key):te.toString(36)}function D(){}function St(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(D,D):(N.status="pending",N.then(function(te){N.status==="pending"&&(N.status="fulfilled",N.value=te)},function(te){N.status==="pending"&&(N.status="rejected",N.reason=te)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function gt(N,te,he,se,ae){var Ie=typeof N;(Ie==="undefined"||Ie==="boolean")&&(N=null);var Re=!1;if(N===null)Re=!0;else switch(Ie){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(N.$$typeof){case r:case e:Re=!0;break;case T:return Re=N._init,gt(Re(N._payload),te,he,se,ae)}}if(Re)return ae=ae(N),Re=se===""?"."+j(N,0):se,pe(ae)?(he="",Re!=null&&(he=Re.replace(V,"$&/")+"/"),gt(ae,te,he,"",function(ot){return ot})):ae!=null&&(w(ae)&&(ae=R(ae,he+(ae.key==null||N&&N.key===ae.key?"":(""+ae.key).replace(V,"$&/")+"/")+Re)),te.push(ae)),1;Re=0;var _t=se===""?".":se+":";if(pe(N))for(var Be=0;Be<N.length;Be++)se=N[Be],Ie=_t+j(se,Be),Re+=gt(se,te,he,Ie,ae);else if(Be=x(N),typeof Be=="function")for(N=Be.call(N),Be=0;!(se=N.next()).done;)se=se.value,Ie=_t+j(se,Be++),Re+=gt(se,te,he,Ie,ae);else if(Ie==="object"){if(typeof N.then=="function")return gt(St(N),te,he,se,ae);throw te=String(N),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Re}function re(N,te,he){if(N==null)return N;var se=[],ae=0;return gt(N,se,"","",function(Ie){return te.call(he,Ie,ae++)}),se}function ve(N){if(N._status===-1){var te=N._result;te=te(),te.then(function(he){(N._status===0||N._status===-1)&&(N._status=1,N._result=he)},function(he){(N._status===0||N._status===-1)&&(N._status=2,N._result=he)}),N._status===-1&&(N._status=0,N._result=te)}if(N._status===1)return N._result.default;throw N._result}var me=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Ge(){}return Ce.Children={map:re,forEach:function(N,te,he){re(N,function(){te.apply(this,arguments)},he)},count:function(N){var te=0;return re(N,function(){te++}),te},toArray:function(N){return re(N,function(te){return te})||[]},only:function(N){if(!w(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ce.Component=q,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=ne,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Ce.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ce.cache=function(N){return function(){return N.apply(null,arguments)}},Ce.cloneElement=function(N,te,he){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var se=z({},N.props),ae=N.key,Ie=void 0;if(te!=null)for(Re in te.ref!==void 0&&(Ie=void 0),te.key!==void 0&&(ae=""+te.key),te)!be.call(te,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&te.ref===void 0||(se[Re]=te[Re]);var Re=arguments.length-2;if(Re===1)se.children=he;else if(1<Re){for(var _t=Array(Re),Be=0;Be<Re;Be++)_t[Be]=arguments[Be+2];se.children=_t}return M(N.type,ae,void 0,void 0,Ie,se)},Ce.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Ce.createElement=function(N,te,he){var se,ae={},Ie=null;if(te!=null)for(se in te.key!==void 0&&(Ie=""+te.key),te)be.call(te,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ae[se]=te[se]);var Re=arguments.length-2;if(Re===1)ae.children=he;else if(1<Re){for(var _t=Array(Re),Be=0;Be<Re;Be++)_t[Be]=arguments[Be+2];ae.children=_t}if(N&&N.defaultProps)for(se in Re=N.defaultProps,Re)ae[se]===void 0&&(ae[se]=Re[se]);return M(N,Ie,void 0,void 0,null,ae)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(N){return{$$typeof:m,render:N}},Ce.isValidElement=w,Ce.lazy=function(N){return{$$typeof:T,_payload:{_status:-1,_result:N},_init:ve}},Ce.memo=function(N,te){return{$$typeof:_,type:N,compare:te===void 0?null:te}},Ce.startTransition=function(N){var te=ue.T,he={};ue.T=he;try{var se=N(),ae=ue.S;ae!==null&&ae(he,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Ge,me)}catch(Ie){me(Ie)}finally{ue.T=te}},Ce.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Ce.use=function(N){return ue.H.use(N)},Ce.useActionState=function(N,te,he){return ue.H.useActionState(N,te,he)},Ce.useCallback=function(N,te){return ue.H.useCallback(N,te)},Ce.useContext=function(N){return ue.H.useContext(N)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(N,te){return ue.H.useDeferredValue(N,te)},Ce.useEffect=function(N,te){return ue.H.useEffect(N,te)},Ce.useId=function(){return ue.H.useId()},Ce.useImperativeHandle=function(N,te,he){return ue.H.useImperativeHandle(N,te,he)},Ce.useInsertionEffect=function(N,te){return ue.H.useInsertionEffect(N,te)},Ce.useLayoutEffect=function(N,te){return ue.H.useLayoutEffect(N,te)},Ce.useMemo=function(N,te){return ue.H.useMemo(N,te)},Ce.useOptimistic=function(N,te){return ue.H.useOptimistic(N,te)},Ce.useReducer=function(N,te,he){return ue.H.useReducer(N,te,he)},Ce.useRef=function(N){return ue.H.useRef(N)},Ce.useState=function(N){return ue.H.useState(N)},Ce.useSyncExternalStore=function(N,te,he){return ue.H.useSyncExternalStore(N,te,he)},Ce.useTransition=function(){return ue.H.useTransition()},Ce.version="19.0.0",Ce}var Ny;function Om(){return Ny||(Ny=1,Hd.exports=VA()),Hd.exports}var G=Om(),qd={exports:{}},Nl={},Fd={exports:{}},Gd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oy;function kA(){return Oy||(Oy=1,function(r){function e(re,ve){var me=re.length;re.push(ve);e:for(;0<me;){var Ge=me-1>>>1,N=re[Ge];if(0<o(N,ve))re[Ge]=ve,re[me]=N,me=Ge;else break e}}function n(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var ve=re[0],me=re.pop();if(me!==ve){re[0]=me;e:for(var Ge=0,N=re.length,te=N>>>1;Ge<te;){var he=2*(Ge+1)-1,se=re[he],ae=he+1,Ie=re[ae];if(0>o(se,me))ae<N&&0>o(Ie,se)?(re[Ge]=Ie,re[ae]=me,Ge=ae):(re[Ge]=se,re[he]=me,Ge=he);else if(ae<N&&0>o(Ie,me))re[Ge]=Ie,re[ae]=me,Ge=ae;else break e}}return ve}function o(re,ve){var me=re.sortIndex-ve.sortIndex;return me!==0?me:re.id-ve.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],_=[],T=1,b=null,x=3,P=!1,z=!1,Y=!1,q=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function ee(re){for(var ve=n(_);ve!==null;){if(ve.callback===null)s(_);else if(ve.startTime<=re)s(_),ve.sortIndex=ve.expirationTime,e(p,ve);else break;ve=n(_)}}function pe(re){if(Y=!1,ee(re),!z)if(n(p)!==null)z=!0,St();else{var ve=n(_);ve!==null&&gt(pe,ve.startTime-re)}}var ue=!1,be=-1,M=5,R=-1;function w(){return!(r.unstable_now()-R<M)}function I(){if(ue){var re=r.unstable_now();R=re;var ve=!0;try{e:{z=!1,Y&&(Y=!1,Q(be),be=-1),P=!0;var me=x;try{t:{for(ee(re),b=n(p);b!==null&&!(b.expirationTime>re&&w());){var Ge=b.callback;if(typeof Ge=="function"){b.callback=null,x=b.priorityLevel;var N=Ge(b.expirationTime<=re);if(re=r.unstable_now(),typeof N=="function"){b.callback=N,ee(re),ve=!0;break t}b===n(p)&&s(p),ee(re)}else s(p);b=n(p)}if(b!==null)ve=!0;else{var te=n(_);te!==null&&gt(pe,te.startTime-re),ve=!1}}break e}finally{b=null,x=me,P=!1}ve=void 0}}finally{ve?V():ue=!1}}}var V;if(typeof ne=="function")V=function(){ne(I)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,D=j.port2;j.port1.onmessage=I,V=function(){D.postMessage(null)}}else V=function(){q(I,0)};function St(){ue||(ue=!0,V())}function gt(re,ve){be=q(function(){re(r.unstable_now())},ve)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(re){re.callback=null},r.unstable_continueExecution=function(){z||P||(z=!0,St())},r.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<re?Math.floor(1e3/re):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(re){switch(x){case 1:case 2:case 3:var ve=3;break;default:ve=x}var me=x;x=ve;try{return re()}finally{x=me}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(re,ve){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var me=x;x=re;try{return ve()}finally{x=me}},r.unstable_scheduleCallback=function(re,ve,me){var Ge=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ge+me:Ge):me=Ge,re){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=me+N,re={id:T++,callback:ve,priorityLevel:re,startTime:me,expirationTime:N,sortIndex:-1},me>Ge?(re.sortIndex=me,e(_,re),n(p)===null&&re===n(_)&&(Y?(Q(be),be=-1):Y=!0,gt(pe,me-Ge))):(re.sortIndex=N,e(p,re),z||P||(z=!0,St())),re},r.unstable_shouldYield=w,r.unstable_wrapCallback=function(re){var ve=x;return function(){var me=x;x=ve;try{return re.apply(this,arguments)}finally{x=me}}}}(Gd)),Gd}var My;function PA(){return My||(My=1,Fd.exports=kA()),Fd.exports}var Kd={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vy;function LA(){if(Vy)return Yt;Vy=1;var r=Om();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,_,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:_,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(p,_,null,T)},Yt.flushSync=function(p){var _=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=_,s.p=T,s.d.f()}},Yt.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},Yt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Yt.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,b=m(T,_.crossOrigin),x=typeof _.integrity=="string"?_.integrity:void 0,P=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:P}):T==="script"&&s.d.X(p,{crossOrigin:b,integrity:x,fetchPriority:P,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Yt.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=m(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},Yt.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,b=m(T,_.crossOrigin);s.d.L(p,T,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Yt.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=m(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},Yt.requestFormReset=function(p){s.d.r(p)},Yt.unstable_batchedUpdates=function(p,_){return p(_)},Yt.useFormState=function(p,_,T){return f.H.useFormState(p,_,T)},Yt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Yt.version="19.0.0",Yt}var ky;function UA(){if(ky)return Kd.exports;ky=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Kd.exports=LA(),Kd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Py;function jA(){if(Py)return Nl;Py=1;var r=PA(),e=Om(),n=UA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),x=Symbol.for("react.consumer"),P=Symbol.for("react.context"),z=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),Q=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),pe=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function be(t){return t===null||typeof t!="object"?null:(t=ue&&t[ue]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function R(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case T:return"Profiler";case _:return"StrictMode";case Y:return"Suspense";case q:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case P:return(t.displayName||"Context")+".Provider";case x:return(t._context.displayName||"Context")+".Consumer";case z:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Q:return i=t.displayName||null,i!==null?i:R(t.type)||"Memo";case ne:i=t._payload,t=t._init;try{return R(t(i))}catch{}}return null}var w=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,I=Object.assign,V,j;function D(t){if(V===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);V=i&&i[1]||"",j=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+t+j}var St=!1;function gt(t,i){if(!t||St)return"";St=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(K){var H=K}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(K){H=K}t.call(Z.prototype)}}else{try{throw Error()}catch(K){H=K}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(K){if(K&&H&&typeof K.stack=="string")return[K.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],S=d[1];if(v&&S){var C=v.split(`
`),k=S.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===k.length)for(l=C.length-1,h=k.length-1;1<=l&&0<=h&&C[l]!==k[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==k[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==k[h]){var $=`
`+C[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{St=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?D(a):""}function re(t){switch(t.tag){case 26:case 27:case 5:return D(t.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return t=gt(t.type,!1),t;case 11:return t=gt(t.type.render,!1),t;case 1:return t=gt(t.type,!0),t;default:return""}}function ve(t){try{var i="";do i+=re(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function me(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function Ge(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function N(t){if(me(t)!==t)throw Error(s(188))}function te(t){var i=t.alternate;if(!i){if(i=me(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return N(h),t;if(d===l)return N(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,S=h.child;S;){if(S===a){v=!0,a=h,l=d;break}if(S===l){v=!0,l=h,a=d;break}S=S.sibling}if(!v){for(S=d.child;S;){if(S===a){v=!0,a=d,l=h;break}if(S===l){v=!0,l=d,a=h;break}S=S.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function he(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=he(t),i!==null)return i;t=t.sibling}return null}var se=Array.isArray,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},Re=[],_t=-1;function Be(t){return{current:t}}function ot(t){0>_t||(t.current=Re[_t],Re[_t]=null,_t--)}function Qe(t,i){_t++,Re[_t]=t.current,t.current=i}var en=Be(null),Si=Be(null),Sn=Be(null),ur=Be(null);function cr(t,i){switch(Qe(Sn,i),Qe(Si,t),Qe(en,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?iy(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=iy(t),i=ry(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ot(en),Qe(en,i)}function Ai(){ot(en),ot(Si),ot(Sn)}function bo(t){t.memoizedState!==null&&Qe(ur,t);var i=en.current,a=ry(i,t.type);i!==a&&(Qe(Si,t),Qe(en,a))}function la(t){Si.current===t&&(ot(en),ot(Si)),ur.current===t&&(ot(ur),bl._currentValue=Ie)}var ua=Object.prototype.hasOwnProperty,ds=r.unstable_scheduleCallback,ca=r.unstable_cancelCallback,Hh=r.unstable_shouldYield,Ro=r.unstable_requestPaint,ln=r.unstable_now,mu=r.unstable_getCurrentPriorityLevel,At=r.unstable_ImmediatePriority,Ot=r.unstable_UserBlockingPriority,wi=r.unstable_NormalPriority,pu=r.unstable_LowPriority,Co=r.unstable_IdlePriority,qh=r.log,ms=r.unstable_setDisableYieldValue,hr=null,$t=null;function Io(t){if($t&&typeof $t.onCommitFiberRoot=="function")try{$t.onCommitFiberRoot(hr,t,void 0,(t.current.flags&128)===128)}catch{}}function Yn(t){if(typeof qh=="function"&&ms(t),$t&&typeof $t.setStrictMode=="function")try{$t.setStrictMode(hr,t)}catch{}}var tn=Math.clz32?Math.clz32:_u,Do=Math.log,gu=Math.LN2;function _u(t){return t>>>=0,t===0?32:31-(Do(t)/gu|0)|0}var Xn=128,fr=4194304;function Bn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function An(t,i){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var S=a&134217727;return S!==0?(a=S&~h,a!==0?l=Bn(a):(d&=S,d!==0?l=Bn(d):t||(v=S&~v,v!==0&&(l=Bn(v))))):(S=a&~h,S!==0?l=Bn(S):d!==0?l=Bn(d):t||(v=a&~v,v!==0&&(l=Bn(v)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:l}function dr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ha(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xo(){var t=Xn;return Xn<<=1,(Xn&4194176)===0&&(Xn=128),t}function mr(){var t=fr;return fr<<=1,(fr&62914560)===0&&(fr=4194304),t}function fa(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function dt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function yu(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,C=t.expirationTimes,k=t.hiddenUpdates;for(a=v&~a;0<a;){var $=31-tn(a),Z=1<<$;S[$]=0,C[$]=-1;var H=k[$];if(H!==null)for(k[$]=null,$=0;$<H.length;$++){var K=H[$];K!==null&&(K.lane&=-536870913)}a&=~Z}l!==0&&pr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function pr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-tn(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function gr(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-tn(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function vu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Eu(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:Sy(t.type))}function _r(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var Wn=Math.random().toString(36).slice(2),Mt="__reactFiber$"+Wn,wt="__reactProps$"+Wn,bi="__reactContainer$"+Wn,ps="__reactEvents$"+Wn,da="__reactListeners$"+Wn,Zn="__reactHandles$"+Wn,No="__reactResources$"+Wn,yr="__reactMarker$"+Wn;function gs(t){delete t[Mt],delete t[wt],delete t[ps],delete t[da],delete t[Zn]}function Hn(t){var i=t[Mt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[bi]||a[Mt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=oy(t);t!==null;){if(a=t[Mt])return a;t=oy(t)}return i}t=a,a=t.parentNode}return null}function Ri(t){if(t=t[Mt]||t[bi]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function vr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Er(t){var i=t[No];return i||(i=t[No]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function nt(t){t[yr]=!0}var Oo=new Set,ma={};function dn(t,i){un(t,i),un(t+"Capture",i)}function un(t,i){for(ma[t]=i,t=0;t<i.length;t++)Oo.add(i[t])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mo={},Vo={};function Tu(t){return ua.call(Vo,t)?!0:ua.call(Mo,t)?!1:Fh.test(t)?Vo[t]=!0:(Mo[t]=!0,!1)}function Tr(t,i,a){if(Tu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Sr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function wn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Su(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Gh(t){var i=Su(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function _s(t){t._valueTracker||(t._valueTracker=Gh(t))}function ko(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Su(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function pa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ci=/[\n"\\]/g;function lt(t){return t.replace(Ci,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ar(t,i,a,l,h,d,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+nn(i)):t.value!==""+nn(i)&&(t.value=""+nn(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?ga(t,v,nn(i)):a!=null?ga(t,v,nn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+nn(S):t.removeAttribute("name")}function ys(t,i,a,l,h,d,v,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+nn(a):"",i=i!=null?""+nn(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function ga(t,i,a){i==="number"&&pa(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function He(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+nn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function vs(t,i,a){if(i!=null&&(i=""+nn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+nn(a):""}function wr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(se(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=nn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function bn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Kh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Po(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Kh.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Au(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Po(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Po(t,d,i[d])}function Lo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $h=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Qh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jn(t){return Qh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Rn=null;function _a(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ii=null,Di=null;function xi(t){var i=Ri(t);if(i&&(t=i.stateNode)){var a=t[wt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ar(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+lt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[wt]||null;if(!h)throw Error(s(90));Ar(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&ko(l)}break e;case"textarea":vs(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&He(t,!!a.multiple,i,!1)}}}var Uo=!1;function wu(t,i,a){if(Uo)return t(i,a);Uo=!0;try{var l=t(i);return l}finally{if(Uo=!1,(Ii!==null||Di!==null)&&(pc(),Ii&&(i=Ii,t=Di,Di=Ii=null,xi(i),t)))for(i=0;i<t.length;i++)xi(t[i])}}function Es(t,i){var a=t.stateNode;if(a===null)return null;var l=a[wt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Cn=!1;if(mn)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{Cn=!1}var ei=null,br=null,Ni=null;function jo(){if(Ni)return Ni;var t,i=br,a=i.length,l,h="value"in ei?ei.value:ei.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ni=h.slice(t,1<l?1-l:void 0)}function ti(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ni(){return!0}function zo(){return!1}function Vt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ni:zo,this.isPropagationStopped=zo,this}return I(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),i}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ya=Vt(Ke),Ss=I({},Ke,{view:0,detail:0}),bu=Vt(Ss),va,Ea,ii,As=I({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ii&&(ii&&t.type==="mousemove"?(va=t.screenX-ii.screenX,Ea=t.screenY-ii.screenY):Ea=va=0,ii=t),va)},movementY:function(t){return"movementY"in t?t.movementY:Ea}}),In=Vt(As),Ru=I({},As,{dataTransfer:0}),Yh=Vt(Ru),ws=I({},Ss,{relatedTarget:0}),Ta=Vt(ws),Bo=I({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),Sa=Vt(Bo),Cu=I({},Ke,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Aa=Vt(Cu),Xh=I({},Ke,{data:0}),Ho=Vt(Xh),bs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Du={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Du[t])?!!i[t]:!1}function Rs(){return qo}var xu=I({},Ss,{key:function(t){if(t.key){var i=bs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ti(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(t){return t.type==="keypress"?ti(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ti(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wa=Vt(xu),Nu=I({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fo=Vt(Nu),Oi=I({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),Ou=Vt(Oi),Mu=I({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vu=Vt(Mu),ku=I({},As,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ba=Vt(ku),rn=I({},Ke,{newState:0,oldState:0}),Pu=Vt(rn),Lu=[9,13,27,32],ri=mn&&"CompositionEvent"in window,c=null;mn&&"documentMode"in document&&(c=document.documentMode);var g=mn&&"TextEvent"in window&&!c,y=mn&&(!ri||c&&8<c&&11>=c),A=" ",U=!1;function F(t,i){switch(t){case"keyup":return Lu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Le=!1;function bt(t,i){switch(t){case"compositionend":return ie(i);case"keypress":return i.which!==32?null:(U=!0,A);case"textInput":return t=i.data,t===A&&U?null:t;default:return null}}function Ue(t,i){if(Le)return t==="compositionend"||!ri&&F(t,i)?(t=jo(),Ni=br=ei=null,Le=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!kt[t.type]:i==="textarea"}function Mi(t,i,a,l){Ii?Di?Di.push(l):Di=[l]:Ii=l,i=Ec(i,"onChange"),0<i.length&&(a=new ya("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var zt=null,si=null;function Go(t){Z_(t,0)}function Uu(t){var i=vr(t);if(ko(i))return t}function Cp(t,i){if(t==="change")return i}var Ip=!1;if(mn){var Wh;if(mn){var Zh="oninput"in document;if(!Zh){var Dp=document.createElement("div");Dp.setAttribute("oninput","return;"),Zh=typeof Dp.oninput=="function"}Wh=Zh}else Wh=!1;Ip=Wh&&(!document.documentMode||9<document.documentMode)}function xp(){zt&&(zt.detachEvent("onpropertychange",Np),si=zt=null)}function Np(t){if(t.propertyName==="value"&&Uu(si)){var i=[];Mi(i,si,t,_a(t)),wu(Go,i)}}function lS(t,i,a){t==="focusin"?(xp(),zt=i,si=a,zt.attachEvent("onpropertychange",Np)):t==="focusout"&&xp()}function uS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uu(si)}function cS(t,i){if(t==="click")return Uu(i)}function hS(t,i){if(t==="input"||t==="change")return Uu(i)}function fS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var pn=typeof Object.is=="function"?Object.is:fS;function Ko(t,i){if(pn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ua.call(i,h)||!pn(t[h],i[h]))return!1}return!0}function Op(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Mp(t,i){var a=Op(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Op(a)}}function Vp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Vp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function kp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=pa(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=pa(t.document)}return i}function Jh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function dS(t,i){var a=kp(i);i=t.focusedElem;var l=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&Vp(i.ownerDocument.documentElement,i)){if(l!==null&&Jh(i)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=Mp(i,d);var v=Mp(i,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var mS=mn&&"documentMode"in document&&11>=document.documentMode,Ra=null,ef=null,$o=null,tf=!1;function Pp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;tf||Ra==null||Ra!==pa(l)||(l=Ra,"selectionStart"in l&&Jh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),$o&&Ko($o,l)||($o=l,l=Ec(ef,"onSelect"),0<l.length&&(i=new ya("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ra)))}function Cs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ca={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionrun:Cs("Transition","TransitionRun"),transitionstart:Cs("Transition","TransitionStart"),transitioncancel:Cs("Transition","TransitionCancel"),transitionend:Cs("Transition","TransitionEnd")},nf={},Lp={};mn&&(Lp=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Is(t){if(nf[t])return nf[t];if(!Ca[t])return t;var i=Ca[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Lp)return nf[t]=i[a];return t}var Up=Is("animationend"),jp=Is("animationiteration"),zp=Is("animationstart"),pS=Is("transitionrun"),gS=Is("transitionstart"),_S=Is("transitioncancel"),Bp=Is("transitionend"),Hp=new Map,qp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function qn(t,i){Hp.set(t,i),dn(i,[t])}var Dn=[],Ia=0,rf=0;function ju(){for(var t=Ia,i=rf=Ia=0;i<t;){var a=Dn[i];Dn[i++]=null;var l=Dn[i];Dn[i++]=null;var h=Dn[i];Dn[i++]=null;var d=Dn[i];if(Dn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Fp(a,h,d)}}function zu(t,i,a,l){Dn[Ia++]=t,Dn[Ia++]=i,Dn[Ia++]=a,Dn[Ia++]=l,rf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function sf(t,i,a,l){return zu(t,i,a,l),Bu(t)}function Rr(t,i){return zu(t,null,null,i),Bu(t)}function Fp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&i!==null&&t.tag===3&&(d=t.stateNode,h=31-tn(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[i]:t.push(i),i.lane=a|536870912)}function Bu(t){if(50<yl)throw yl=0,hd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Da={},Gp=new WeakMap;function xn(t,i){if(typeof t=="object"&&t!==null){var a=Gp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ve(i)},Gp.set(t,i),i)}return{value:t,source:i,stack:ve(i)}}var xa=[],Na=0,Hu=null,qu=0,Nn=[],On=0,Ds=null,Vi=1,ki="";function xs(t,i){xa[Na++]=qu,xa[Na++]=Hu,Hu=t,qu=i}function Kp(t,i,a){Nn[On++]=Vi,Nn[On++]=ki,Nn[On++]=Ds,Ds=t;var l=Vi;t=ki;var h=32-tn(l)-1;l&=~(1<<h),a+=1;var d=32-tn(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Vi=1<<32-tn(i)+h|a<<h|l,ki=d+t}else Vi=1<<d|a<<h|l,ki=t}function af(t){t.return!==null&&(xs(t,1),Kp(t,1,0))}function of(t){for(;t===Hu;)Hu=xa[--Na],xa[Na]=null,qu=xa[--Na],xa[Na]=null;for(;t===Ds;)Ds=Nn[--On],Nn[On]=null,ki=Nn[--On],Nn[On]=null,Vi=Nn[--On],Nn[On]=null}var sn=null,Bt=null,qe=!1,Fn=null,ai=!1,lf=Error(s(519));function Ns(t){var i=Error(s(418,""));throw Xo(xn(i,t)),lf}function $p(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Mt]=t,i[wt]=l,a){case"dialog":ke("cancel",i),ke("close",i);break;case"iframe":case"object":case"embed":ke("load",i);break;case"video":case"audio":for(a=0;a<El.length;a++)ke(El[a],i);break;case"source":ke("error",i);break;case"img":case"image":case"link":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"input":ke("invalid",i),ys(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),_s(i);break;case"select":ke("invalid",i);break;case"textarea":ke("invalid",i),wr(i,l.value,l.defaultValue,l.children),_s(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||ny(i.textContent,a)?(l.popover!=null&&(ke("beforetoggle",i),ke("toggle",i)),l.onScroll!=null&&ke("scroll",i),l.onScrollEnd!=null&&ke("scrollend",i),l.onClick!=null&&(i.onclick=Tc),i=!0):i=!1,i||Ns(t)}function Qp(t){for(sn=t.return;sn;)switch(sn.tag){case 3:case 27:ai=!0;return;case 5:case 13:ai=!1;return;default:sn=sn.return}}function Qo(t){if(t!==sn)return!1;if(!qe)return Qp(t),qe=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Id(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&Bt&&Ns(t),Qp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Bt=Kn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Bt=null}}else Bt=sn?Kn(t.stateNode.nextSibling):null;return!0}function Yo(){Bt=sn=null,qe=!1}function Xo(t){Fn===null?Fn=[t]:Fn.push(t)}var Wo=Error(s(460)),Yp=Error(s(474)),uf={then:function(){}};function Xp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Fu(){}function Wp(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Fu,Fu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Wo?Error(s(483)):t;default:if(typeof i.status=="string")i.then(Fu,Fu);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Wo?Error(s(483)):t}throw Zo=i,Wo}}var Zo=null;function Zp(){if(Zo===null)throw Error(s(459));var t=Zo;return Zo=null,t}var Oa=null,Jo=0;function Gu(t){var i=Jo;return Jo+=1,Oa===null&&(Oa=[]),Wp(Oa,t,i)}function el(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ku(t,i){throw i.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Jp(t){var i=t._init;return i(t._payload)}function eg(t){function i(L,O){if(t){var B=L.deletions;B===null?(L.deletions=[O],L.flags|=16):B.push(O)}}function a(L,O){if(!t)return null;for(;O!==null;)i(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=Ur(L,O),L.index=0,L.sibling=null,L}function d(L,O,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<O?(L.flags|=33554434,O):B):(L.flags|=33554434,O)):(L.flags|=1048576,O)}function v(L){return t&&L.alternate===null&&(L.flags|=33554434),L}function S(L,O,B,X){return O===null||O.tag!==6?(O=id(B,L.mode,X),O.return=L,O):(O=h(O,B),O.return=L,O)}function C(L,O,B,X){var le=B.type;return le===p?$(L,O,B.props.children,X,B.key):O!==null&&(O.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ne&&Jp(le)===O.type)?(O=h(O,B.props),el(O,B),O.return=L,O):(O=cc(B.type,B.key,B.props,null,L.mode,X),el(O,B),O.return=L,O)}function k(L,O,B,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=rd(B,L.mode,X),O.return=L,O):(O=h(O,B.children||[]),O.return=L,O)}function $(L,O,B,X,le){return O===null||O.tag!==7?(O=Bs(B,L.mode,X,le),O.return=L,O):(O=h(O,B),O.return=L,O)}function Z(L,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=id(""+O,L.mode,B),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case f:return B=cc(O.type,O.key,O.props,null,L.mode,B),el(B,O),B.return=L,B;case m:return O=rd(O,L.mode,B),O.return=L,O;case ne:var X=O._init;return O=X(O._payload),Z(L,O,B)}if(se(O)||be(O))return O=Bs(O,L.mode,B,null),O.return=L,O;if(typeof O.then=="function")return Z(L,Gu(O),B);if(O.$$typeof===P)return Z(L,oc(L,O),B);Ku(L,O)}return null}function H(L,O,B,X){var le=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return le!==null?null:S(L,O,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case f:return B.key===le?C(L,O,B,X):null;case m:return B.key===le?k(L,O,B,X):null;case ne:return le=B._init,B=le(B._payload),H(L,O,B,X)}if(se(B)||be(B))return le!==null?null:$(L,O,B,X,null);if(typeof B.then=="function")return H(L,O,Gu(B),X);if(B.$$typeof===P)return H(L,O,oc(L,B),X);Ku(L,B)}return null}function K(L,O,B,X,le){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(B)||null,S(O,L,""+X,le);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case f:return L=L.get(X.key===null?B:X.key)||null,C(O,L,X,le);case m:return L=L.get(X.key===null?B:X.key)||null,k(O,L,X,le);case ne:var xe=X._init;return X=xe(X._payload),K(L,O,B,X,le)}if(se(X)||be(X))return L=L.get(B)||null,$(O,L,X,le,null);if(typeof X.then=="function")return K(L,O,B,Gu(X),le);if(X.$$typeof===P)return K(L,O,B,oc(O,X),le);Ku(O,X)}return null}function ce(L,O,B,X){for(var le=null,xe=null,fe=O,_e=O=0,Ut=null;fe!==null&&_e<B.length;_e++){fe.index>_e?(Ut=fe,fe=null):Ut=fe.sibling;var Fe=H(L,fe,B[_e],X);if(Fe===null){fe===null&&(fe=Ut);break}t&&fe&&Fe.alternate===null&&i(L,fe),O=d(Fe,O,_e),xe===null?le=Fe:xe.sibling=Fe,xe=Fe,fe=Ut}if(_e===B.length)return a(L,fe),qe&&xs(L,_e),le;if(fe===null){for(;_e<B.length;_e++)fe=Z(L,B[_e],X),fe!==null&&(O=d(fe,O,_e),xe===null?le=fe:xe.sibling=fe,xe=fe);return qe&&xs(L,_e),le}for(fe=l(fe);_e<B.length;_e++)Ut=K(fe,L,_e,B[_e],X),Ut!==null&&(t&&Ut.alternate!==null&&fe.delete(Ut.key===null?_e:Ut.key),O=d(Ut,O,_e),xe===null?le=Ut:xe.sibling=Ut,xe=Ut);return t&&fe.forEach(function(Gr){return i(L,Gr)}),qe&&xs(L,_e),le}function Ae(L,O,B,X){if(B==null)throw Error(s(151));for(var le=null,xe=null,fe=O,_e=O=0,Ut=null,Fe=B.next();fe!==null&&!Fe.done;_e++,Fe=B.next()){fe.index>_e?(Ut=fe,fe=null):Ut=fe.sibling;var Gr=H(L,fe,Fe.value,X);if(Gr===null){fe===null&&(fe=Ut);break}t&&fe&&Gr.alternate===null&&i(L,fe),O=d(Gr,O,_e),xe===null?le=Gr:xe.sibling=Gr,xe=Gr,fe=Ut}if(Fe.done)return a(L,fe),qe&&xs(L,_e),le;if(fe===null){for(;!Fe.done;_e++,Fe=B.next())Fe=Z(L,Fe.value,X),Fe!==null&&(O=d(Fe,O,_e),xe===null?le=Fe:xe.sibling=Fe,xe=Fe);return qe&&xs(L,_e),le}for(fe=l(fe);!Fe.done;_e++,Fe=B.next())Fe=K(fe,L,_e,Fe.value,X),Fe!==null&&(t&&Fe.alternate!==null&&fe.delete(Fe.key===null?_e:Fe.key),O=d(Fe,O,_e),xe===null?le=Fe:xe.sibling=Fe,xe=Fe);return t&&fe.forEach(function(NA){return i(L,NA)}),qe&&xs(L,_e),le}function ht(L,O,B,X){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case f:e:{for(var le=B.key;O!==null;){if(O.key===le){if(le=B.type,le===p){if(O.tag===7){a(L,O.sibling),X=h(O,B.props.children),X.return=L,L=X;break e}}else if(O.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ne&&Jp(le)===O.type){a(L,O.sibling),X=h(O,B.props),el(X,B),X.return=L,L=X;break e}a(L,O);break}else i(L,O);O=O.sibling}B.type===p?(X=Bs(B.props.children,L.mode,X,B.key),X.return=L,L=X):(X=cc(B.type,B.key,B.props,null,L.mode,X),el(X,B),X.return=L,L=X)}return v(L);case m:e:{for(le=B.key;O!==null;){if(O.key===le)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){a(L,O.sibling),X=h(O,B.children||[]),X.return=L,L=X;break e}else{a(L,O);break}else i(L,O);O=O.sibling}X=rd(B,L.mode,X),X.return=L,L=X}return v(L);case ne:return le=B._init,B=le(B._payload),ht(L,O,B,X)}if(se(B))return ce(L,O,B,X);if(be(B)){if(le=be(B),typeof le!="function")throw Error(s(150));return B=le.call(B),Ae(L,O,B,X)}if(typeof B.then=="function")return ht(L,O,Gu(B),X);if(B.$$typeof===P)return ht(L,O,oc(L,B),X);Ku(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(a(L,O.sibling),X=h(O,B),X.return=L,L=X):(a(L,O),X=id(B,L.mode,X),X.return=L,L=X),v(L)):a(L,O)}return function(L,O,B,X){try{Jo=0;var le=ht(L,O,B,X);return Oa=null,le}catch(fe){if(fe===Wo)throw fe;var xe=Pn(29,fe,null,L.mode);return xe.lanes=X,xe.return=L,xe}finally{}}}var Os=eg(!0),tg=eg(!1),Ma=Be(null),$u=Be(0);function ng(t,i){t=Ki,Qe($u,t),Qe(Ma,i),Ki=t|i.baseLanes}function cf(){Qe($u,Ki),Qe(Ma,Ma.current)}function hf(){Ki=$u.current,ot(Ma),ot($u)}var Mn=Be(null),oi=null;function Cr(t){var i=t.alternate;Qe(Ct,Ct.current&1),Qe(Mn,t),oi===null&&(i===null||Ma.current!==null||i.memoizedState!==null)&&(oi=t)}function ig(t){if(t.tag===22){if(Qe(Ct,Ct.current),Qe(Mn,t),oi===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(oi=t)}}else Ir()}function Ir(){Qe(Ct,Ct.current),Qe(Mn,Mn.current)}function Pi(t){ot(Mn),oi===t&&(oi=null),ot(Ct)}var Ct=Be(0);function Qu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var yS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},vS=r.unstable_scheduleCallback,ES=r.unstable_NormalPriority,It={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ff(){return{controller:new yS,data:new Map,refCount:0}}function tl(t){t.refCount--,t.refCount===0&&vS(ES,function(){t.controller.abort()})}var nl=null,df=0,Va=0,ka=null;function TS(t,i){if(nl===null){var a=nl=[];df=0,Va=vd(),ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return df++,i.then(rg,rg),i}function rg(){if(--df===0&&nl!==null){ka!==null&&(ka.status="fulfilled");var t=nl;nl=null,Va=0,ka=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function SS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var sg=w.S;w.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&TS(t,i),sg!==null&&sg(t,i)};var Ms=Be(null);function mf(){var t=Ms.current;return t!==null?t:Je.pooledCache}function Yu(t,i){i===null?Qe(Ms,Ms.current):Qe(Ms,i.pool)}function ag(){var t=mf();return t===null?null:{parent:It._currentValue,pool:t}}var Dr=0,De=null,Xe=null,yt=null,Xu=!1,Pa=!1,Vs=!1,Wu=0,il=0,La=null,AS=0;function mt(){throw Error(s(321))}function pf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!pn(t[a],i[a]))return!1;return!0}function gf(t,i,a,l,h,d){return Dr=d,De=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,w.H=t===null||t.memoizedState===null?ks:xr,Vs=!1,d=a(l,h),Vs=!1,Pa&&(d=lg(i,a,l,h)),og(t),d}function og(t){w.H=li;var i=Xe!==null&&Xe.next!==null;if(Dr=0,yt=Xe=De=null,Xu=!1,il=0,La=null,i)throw Error(s(300));t===null||Pt||(t=t.dependencies,t!==null&&ac(t)&&(Pt=!0))}function lg(t,i,a,l){De=t;var h=0;do{if(Pa&&(La=null),il=0,Pa=!1,25<=h)throw Error(s(301));if(h+=1,yt=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}w.H=Ps,d=i(a,l)}while(Pa);return d}function wS(){var t=w.H,i=t.useState()[0];return i=typeof i.then=="function"?rl(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(De.flags|=1024),i}function _f(){var t=Wu!==0;return Wu=0,t}function yf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function vf(t){if(Xu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Xu=!1}Dr=0,yt=Xe=De=null,Pa=!1,il=Wu=0,La=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?De.memoizedState=yt=t:yt=yt.next=t,yt}function vt(){if(Xe===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=yt===null?De.memoizedState:yt.next;if(i!==null)yt=i,Xe=t;else{if(t===null)throw De.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},yt===null?De.memoizedState=yt=t:yt=yt.next=t}return yt}var Zu;Zu=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function rl(t){var i=il;return il+=1,La===null&&(La=[]),t=Wp(La,t,i),i=De,(yt===null?i.memoizedState:yt.next)===null&&(i=i.alternate,w.H=i===null||i.memoizedState===null?ks:xr),t}function Ju(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return rl(t);if(t.$$typeof===P)return Qt(t)}throw Error(s(438,String(t)))}function Ef(t){var i=null,a=De.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Zu(),De.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=pe;return i.index++,a}function Li(t,i){return typeof i=="function"?i(t):i}function ec(t){var i=vt();return Tf(i,Xe,t)}function Tf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=v=null,C=null,k=i,$=!1;do{var Z=k.lane&-536870913;if(Z!==k.lane?(je&Z)===Z:(Dr&Z)===Z){var H=k.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),Z===Va&&($=!0);else if((Dr&H)===H){k=k.next,H===Va&&($=!0);continue}else Z={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},C===null?(S=C=Z,v=d):C=C.next=Z,De.lanes|=H,jr|=H;Z=k.action,Vs&&a(d,Z),d=k.hasEagerState?k.eagerState:a(d,Z)}else H={lane:Z,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},C===null?(S=C=H,v=d):C=C.next=H,De.lanes|=Z,jr|=Z;k=k.next}while(k!==null&&k!==i);if(C===null?v=d:C.next=S,!pn(d,t.memoizedState)&&(Pt=!0,$&&(a=ka,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Sf(t){var i=vt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);pn(d,i.memoizedState)||(Pt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function ug(t,i,a){var l=De,h=vt(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!pn((Xe||h).memoizedState,a);if(v&&(h.memoizedState=a,Pt=!0),h=h.queue,bf(fg.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,Ua(9,hg.bind(null,l,h,a,i),{destroy:void 0},null),Je===null)throw Error(s(349));d||(Dr&60)!==0||cg(l,i,a)}return a}function cg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=De.updateQueue,i===null?(i=Zu(),De.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function hg(t,i,a,l){i.value=a,i.getSnapshot=l,dg(i)&&mg(t)}function fg(t,i,a){return a(function(){dg(i)&&mg(t)})}function dg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!pn(t,a)}catch{return!0}}function mg(t){var i=Rr(t,2);i!==null&&an(i,t,2)}function Af(t){var i=cn();if(typeof t=="function"){var a=t;if(t=a(),Vs){Yn(!0);try{a()}finally{Yn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:t},i}function pg(t,i,a,l){return t.baseState=a,Tf(t,Xe,typeof l=="function"?l:Li)}function bS(t,i,a,l,h){if(ic(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};w.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,gg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function gg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=w.T,v={};w.T=v;try{var S=a(h,l),C=w.S;C!==null&&C(v,S),_g(t,i,S)}catch(k){wf(t,i,k)}finally{w.T=d}}else try{d=a(h,l),_g(t,i,d)}catch(k){wf(t,i,k)}}function _g(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){yg(t,i,l)},function(l){return wf(t,i,l)}):yg(t,i,a)}function yg(t,i,a){i.status="fulfilled",i.value=a,vg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,gg(t,a)))}function wf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,vg(i),i=i.next;while(i!==l)}t.action=null}function vg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Eg(t,i){return i}function Tg(t,i){if(qe){var a=Je.formState;if(a!==null){e:{var l=De;if(qe){if(Bt){t:{for(var h=Bt,d=ai;h.nodeType!==8;){if(!d){h=null;break t}if(h=Kn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Bt=Kn(h.nextSibling),l=h.data==="F!";break e}}Ns(l)}l=!1}l&&(i=a[0])}}return a=cn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eg,lastRenderedState:i},a.queue=l,a=jg.bind(null,De,l),l.dispatch=a,l=Af(!1),d=xf.bind(null,De,!1,l.queue),l=cn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=bS.bind(null,De,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Sg(t){var i=vt();return Ag(i,Xe,t)}function Ag(t,i,a){i=Tf(t,i,Eg)[0],t=ec(Li)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?rl(i):i;var l=vt(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(De.flags|=2048,Ua(9,RS.bind(null,h,a),{destroy:void 0},null)),[i,d,t]}function RS(t,i){t.action=i}function wg(t){var i=vt(),a=Xe;if(a!==null)return Ag(i,a,t);vt(),i=i.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ua(t,i,a,l){return t={tag:t,create:i,inst:a,deps:l,next:null},i=De.updateQueue,i===null&&(i=Zu(),De.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function bg(){return vt().memoizedState}function tc(t,i,a,l){var h=cn();De.flags|=t,h.memoizedState=Ua(1|i,a,{destroy:void 0},l===void 0?null:l)}function nc(t,i,a,l){var h=vt();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&pf(l,Xe.memoizedState.deps)?h.memoizedState=Ua(i,a,d,l):(De.flags|=t,h.memoizedState=Ua(1|i,a,d,l))}function Rg(t,i){tc(8390656,8,t,i)}function bf(t,i){nc(2048,8,t,i)}function Cg(t,i){return nc(4,2,t,i)}function Ig(t,i){return nc(4,4,t,i)}function Dg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function xg(t,i,a){a=a!=null?a.concat([t]):null,nc(4,4,Dg.bind(null,i,t),a)}function Rf(){}function Ng(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&pf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Og(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&pf(i,l[1]))return l[0];if(l=t(),Vs){Yn(!0);try{t()}finally{Yn(!1)}}return a.memoizedState=[l,i],l}function Cf(t,i,a){return a===void 0||(Dr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=V_(),De.lanes|=t,jr|=t,a)}function Mg(t,i,a,l){return pn(a,i)?a:Ma.current!==null?(t=Cf(t,a,l),pn(t,i)||(Pt=!0),t):(Dr&42)===0?(Pt=!0,t.memoizedState=a):(t=V_(),De.lanes|=t,jr|=t,i)}function Vg(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=w.T,S={};w.T=S,xf(t,!1,i,a);try{var C=h(),k=w.S;if(k!==null&&k(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var $=SS(C,l);sl(t,i,$,vn(t))}else sl(t,i,l,vn(t))}catch(Z){sl(t,i,{then:function(){},status:"rejected",reason:Z},vn())}finally{ae.p=d,w.T=v}}function CS(){}function If(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=kg(t).queue;Vg(t,h,i,Ie,a===null?CS:function(){return Pg(t),a(l)})}function kg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:Ie},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Li,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Pg(t){var i=kg(t).next.queue;sl(t,i,{},vn())}function Df(){return Qt(bl)}function Lg(){return vt().memoizedState}function Ug(){return vt().memoizedState}function IS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=vn();t=Mr(a);var l=Vr(i,t,a);l!==null&&(an(l,i,a),ll(l,i,a)),i={cache:ff()},t.payload=i;return}i=i.return}}function DS(t,i,a){var l=vn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ic(t)?zg(i,a):(a=sf(t,i,a,l),a!==null&&(an(a,t,l),Bg(a,i,l)))}function jg(t,i,a){var l=vn();sl(t,i,a,l)}function sl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ic(t))zg(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,S=d(v,a);if(h.hasEagerState=!0,h.eagerState=S,pn(S,v))return zu(t,i,h,0),Je===null&&ju(),!1}catch{}finally{}if(a=sf(t,i,h,l),a!==null)return an(a,t,l),Bg(a,i,l),!0}return!1}function xf(t,i,a,l){if(l={lane:2,revertLane:vd(),action:l,hasEagerState:!1,eagerState:null,next:null},ic(t)){if(i)throw Error(s(479))}else i=sf(t,a,l,2),i!==null&&an(i,t,2)}function ic(t){var i=t.alternate;return t===De||i!==null&&i===De}function zg(t,i){Pa=Xu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Bg(t,i,a){if((a&4194176)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,gr(t,a)}}var li={readContext:Qt,use:Ju,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt};li.useCacheRefresh=mt,li.useMemoCache=mt,li.useHostTransitionStatus=mt,li.useFormState=mt,li.useActionState=mt,li.useOptimistic=mt;var ks={readContext:Qt,use:Ju,useCallback:function(t,i){return cn().memoizedState=[t,i===void 0?null:i],t},useContext:Qt,useEffect:Rg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,tc(4194308,4,Dg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return tc(4194308,4,t,i)},useInsertionEffect:function(t,i){tc(4,2,t,i)},useMemo:function(t,i){var a=cn();i=i===void 0?null:i;var l=t();if(Vs){Yn(!0);try{t()}finally{Yn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=cn();if(a!==void 0){var h=a(i);if(Vs){Yn(!0);try{a(i)}finally{Yn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=DS.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var i=cn();return t={current:t},i.memoizedState=t},useState:function(t){t=Af(t);var i=t.queue,a=jg.bind(null,De,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Rf,useDeferredValue:function(t,i){var a=cn();return Cf(a,t,i)},useTransition:function(){var t=Af(!1);return t=Vg.bind(null,De,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=De,h=cn();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Je===null)throw Error(s(349));(je&60)!==0||cg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Rg(fg.bind(null,l,d,t),[t]),l.flags|=2048,Ua(9,hg.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var t=cn(),i=Je.identifierPrefix;if(qe){var a=ki,l=Vi;a=(l&~(1<<32-tn(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=Wu++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=AS++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return cn().memoizedState=IS.bind(null,De)}};ks.useMemoCache=Ef,ks.useHostTransitionStatus=Df,ks.useFormState=Tg,ks.useActionState=Tg,ks.useOptimistic=function(t){var i=cn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=xf.bind(null,De,!0,a),a.dispatch=i,[t,i]};var xr={readContext:Qt,use:Ju,useCallback:Ng,useContext:Qt,useEffect:bf,useImperativeHandle:xg,useInsertionEffect:Cg,useLayoutEffect:Ig,useMemo:Og,useReducer:ec,useRef:bg,useState:function(){return ec(Li)},useDebugValue:Rf,useDeferredValue:function(t,i){var a=vt();return Mg(a,Xe.memoizedState,t,i)},useTransition:function(){var t=ec(Li)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:rl(t),i]},useSyncExternalStore:ug,useId:Lg};xr.useCacheRefresh=Ug,xr.useMemoCache=Ef,xr.useHostTransitionStatus=Df,xr.useFormState=Sg,xr.useActionState=Sg,xr.useOptimistic=function(t,i){var a=vt();return pg(a,Xe,t,i)};var Ps={readContext:Qt,use:Ju,useCallback:Ng,useContext:Qt,useEffect:bf,useImperativeHandle:xg,useInsertionEffect:Cg,useLayoutEffect:Ig,useMemo:Og,useReducer:Sf,useRef:bg,useState:function(){return Sf(Li)},useDebugValue:Rf,useDeferredValue:function(t,i){var a=vt();return Xe===null?Cf(a,t,i):Mg(a,Xe.memoizedState,t,i)},useTransition:function(){var t=Sf(Li)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:rl(t),i]},useSyncExternalStore:ug,useId:Lg};Ps.useCacheRefresh=Ug,Ps.useMemoCache=Ef,Ps.useHostTransitionStatus=Df,Ps.useFormState=wg,Ps.useActionState=wg,Ps.useOptimistic=function(t,i){var a=vt();return Xe!==null?pg(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])};function Nf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:I({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Of={isMounted:function(t){return(t=t._reactInternals)?me(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var l=vn(),h=Mr(l);h.payload=i,a!=null&&(h.callback=a),i=Vr(t,h,l),i!==null&&(an(i,t,l),ll(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=vn(),h=Mr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Vr(t,h,l),i!==null&&(an(i,t,l),ll(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=vn(),l=Mr(a);l.tag=2,i!=null&&(l.callback=i),i=Vr(t,l,a),i!==null&&(an(i,t,a),ll(i,t,a))}};function Hg(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Ko(a,l)||!Ko(h,d):!0}function qg(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Of.enqueueReplaceState(i,i.state,null)}function Ls(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=I({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var rc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Fg(t){rc(t)}function Gg(t){console.error(t)}function Kg(t){rc(t)}function sc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function $g(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(t,i,a){return a=Mr(a),a.tag=3,a.payload={element:null},a.callback=function(){sc(t,i)},a}function Qg(t){return t=Mr(t),t.tag=3,t}function Yg(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){$g(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){$g(i,a,l),typeof h!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function xS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ol(i,a,h,!0),a=Mn.current,a!==null){switch(a.tag){case 13:return oi===null?md():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===uf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),gd(t,l,h)),!1;case 22:return a.flags|=65536,l===uf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),gd(t,l,h)),!1}throw Error(s(435,a.tag))}return gd(t,l,h),md(),!1}if(qe)return i=Mn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==lf&&(t=Error(s(422),{cause:l}),Xo(xn(t,a)))):(l!==lf&&(i=Error(s(423),{cause:l}),Xo(xn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=xn(l,a),h=Mf(t.stateNode,l,h),Qf(t,h),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=xn(d,a),gl===null?gl=[d]:gl.push(d),ct!==4&&(ct=2),i===null)return!0;l=xn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Mf(a.stateNode,l,t),Qf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(zr===null||!zr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Qg(h),Yg(h,t,a,l),Qf(a,h),!1}a=a.return}while(a!==null);return!1}var Xg=Error(s(461)),Pt=!1;function Ht(t,i,a,l){i.child=t===null?tg(i,null,a,l):Os(i,t.child,a,l)}function Wg(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return js(i),l=gf(t,i,a,v,d,h),S=_f(),t!==null&&!Pt?(yf(t,i,h),Ui(t,i,h)):(qe&&S&&af(i),i.flags|=1,Ht(t,i,l,h),i.child)}function Zg(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!nd(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Jg(t,i,d,l,h)):(t=cc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Hf(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ko,a(v,l)&&t.ref===i.ref)return Ui(t,i,h)}return i.flags|=1,t=Ur(d,l),t.ref=i.ref,t.return=i,i.child=t}function Jg(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Ko(d,l)&&t.ref===i.ref)if(Pt=!1,i.pendingProps=l=d,Hf(t,h))(t.flags&131072)!==0&&(Pt=!0);else return i.lanes=t.lanes,Ui(t,i,h)}return Vf(t,i,a,l,h)}function e_(t,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(al(t,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=v!==null?v.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return t_(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Yu(i,v!==null?v.cachePool:null),v!==null?ng(i,v):cf(),ig(i);else return i.lanes=i.childLanes=536870912,t_(t,i,v!==null?v.baseLanes|a:a,a)}else v!==null?(Yu(i,v.cachePool),ng(i,v),Ir(),i.memoizedState=null):(t!==null&&Yu(i,null),cf(),Ir());return Ht(t,i,h,a),i.child}function t_(t,i,a,l){var h=mf();return h=h===null?null:{parent:It._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Yu(i,null),cf(),ig(i),t!==null&&ol(t,i,l,!0),null}function al(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function Vf(t,i,a,l,h){return js(i),a=gf(t,i,a,l,void 0,h),l=_f(),t!==null&&!Pt?(yf(t,i,h),Ui(t,i,h)):(qe&&l&&af(i),i.flags|=1,Ht(t,i,a,h),i.child)}function n_(t,i,a,l,h,d){return js(i),i.updateQueue=null,a=lg(i,l,a,h),og(t),l=_f(),t!==null&&!Pt?(yf(t,i,d),Ui(t,i,d)):(qe&&l&&af(i),i.flags|=1,Ht(t,i,a,d),i.child)}function i_(t,i,a,l,h){if(js(i),i.stateNode===null){var d=Da,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Of,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Kf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qt(v):Da,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Nf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Of.enqueueReplaceState(d,d.state,null),cl(i,l,d,h),ul(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,C=Ls(a,S);d.props=C;var k=d.context,$=a.contextType;v=Da,typeof $=="object"&&$!==null&&(v=Qt($));var Z=a.getDerivedStateFromProps;$=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||k!==v)&&qg(i,d,l,v),Or=!1;var H=i.memoizedState;d.state=H,cl(i,l,d,h),ul(),k=i.memoizedState,S||H!==k||Or?(typeof Z=="function"&&(Nf(i,a,Z,l),k=i.memoizedState),(C=Or||Hg(i,a,C,l,H,k,v))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=k),d.props=l,d.state=k,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,$f(t,i),v=i.memoizedProps,$=Ls(a,v),d.props=$,Z=i.pendingProps,H=d.context,k=a.contextType,C=Da,typeof k=="object"&&k!==null&&(C=Qt(k)),S=a.getDerivedStateFromProps,(k=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||H!==C)&&qg(i,d,l,C),Or=!1,H=i.memoizedState,d.state=H,cl(i,l,d,h),ul();var K=i.memoizedState;v!==Z||H!==K||Or||t!==null&&t.dependencies!==null&&ac(t.dependencies)?(typeof S=="function"&&(Nf(i,a,S,l),K=i.memoizedState),($=Or||Hg(i,a,$,l,H,K,C)||t!==null&&t.dependencies!==null&&ac(t.dependencies))?(k||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=C,l=$):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,al(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Os(i,t.child,null,h),i.child=Os(i,null,a,h)):Ht(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Ui(t,i,h),t}function r_(t,i,a,l){return Yo(),i.flags|=256,Ht(t,i,a,l),i.child}var kf={dehydrated:null,treeContext:null,retryLane:0};function Pf(t){return{baseLanes:t,cachePool:ag()}}function Lf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Ln),t}function s_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(qe){if(h?Cr(i):Ir(),qe){var S=Bt,C;if(C=S){e:{for(C=S,S=ai;C.nodeType!==8;){if(!S){S=null;break e}if(C=Kn(C.nextSibling),C===null){S=null;break e}}S=C}S!==null?(i.memoizedState={dehydrated:S,treeContext:Ds!==null?{id:Vi,overflow:ki}:null,retryLane:536870912},C=Pn(18,null,null,0),C.stateNode=S,C.return=i,i.child=C,sn=i,Bt=null,C=!0):C=!1}C||Ns(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return S.data==="$!"?i.lanes=16:i.lanes=536870912,null;Pi(i)}return S=l.children,l=l.fallback,h?(Ir(),h=i.mode,S=jf({mode:"hidden",children:S},h),l=Bs(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,h=i.child,h.memoizedState=Pf(a),h.childLanes=Lf(t,v,a),i.memoizedState=kf,l):(Cr(i),Uf(i,S))}if(C=t.memoizedState,C!==null&&(S=C.dehydrated,S!==null)){if(d)i.flags&256?(Cr(i),i.flags&=-257,i=zf(t,i,a)):i.memoizedState!==null?(Ir(),i.child=t.child,i.flags|=128,i=null):(Ir(),h=l.fallback,S=i.mode,l=jf({mode:"visible",children:l.children},S),h=Bs(h,S,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Os(i,t.child,null,a),l=i.child,l.memoizedState=Pf(a),l.childLanes=Lf(t,v,a),i.memoizedState=kf,i=h);else if(Cr(i),S.data==="$!"){if(v=S.nextSibling&&S.nextSibling.dataset,v)var k=v.dgst;v=k,l=Error(s(419)),l.stack="",l.digest=v,Xo({value:l,source:null,stack:null}),i=zf(t,i,a)}else if(Pt||ol(t,i,a,!1),v=(a&t.childLanes)!==0,Pt||v){if(v=Je,v!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane)throw C.retryLane=l,Rr(t,l),an(v,t,l),Xg}S.data==="$?"||md(),i=zf(t,i,a)}else S.data==="$?"?(i.flags|=128,i.child=t.child,i=GS.bind(null,t),S._reactRetry=i,i=null):(t=C.treeContext,Bt=Kn(S.nextSibling),sn=i,qe=!0,Fn=null,ai=!1,t!==null&&(Nn[On++]=Vi,Nn[On++]=ki,Nn[On++]=Ds,Vi=t.id,ki=t.overflow,Ds=i),i=Uf(i,l.children),i.flags|=4096);return i}return h?(Ir(),h=l.fallback,S=i.mode,C=t.child,k=C.sibling,l=Ur(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&31457280,k!==null?h=Ur(k,h):(h=Bs(h,S,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,S=t.child.memoizedState,S===null?S=Pf(a):(C=S.cachePool,C!==null?(k=It._currentValue,C=C.parent!==k?{parent:k,pool:k}:C):C=ag(),S={baseLanes:S.baseLanes|a,cachePool:C}),h.memoizedState=S,h.childLanes=Lf(t,v,a),i.memoizedState=kf,l):(Cr(i),a=t.child,t=a.sibling,a=Ur(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Uf(t,i){return i=jf({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function jf(t,i){return N_(t,i,0,null)}function zf(t,i,a){return Os(i,t.child,null,a),t=Uf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function a_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Ff(t.return,i,a)}function Bf(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function o_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ht(t,i,l.children,a),l=Ct.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&a_(t,a,i);else if(t.tag===19)a_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Qe(Ct,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Qu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Bf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Qu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Bf(i,!0,a,null,d);break;case"together":Bf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ui(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),jr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(ol(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ur(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ur(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Hf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ac(t)))}function NS(t,i,a){switch(i.tag){case 3:cr(i,i.stateNode.containerInfo),Nr(i,It,t.memoizedState.cache),Yo();break;case 27:case 5:bo(i);break;case 4:cr(i,i.stateNode.containerInfo);break;case 10:Nr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Cr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?s_(t,i,a):(Cr(i),t=Ui(t,i,a),t!==null?t.sibling:null);Cr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ol(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return o_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Qe(Ct,Ct.current),l)break;return null;case 22:case 23:return i.lanes=0,e_(t,i,a);case 24:Nr(i,It,t.memoizedState.cache)}return Ui(t,i,a)}function l_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Pt=!0;else{if(!Hf(t,a)&&(i.flags&128)===0)return Pt=!1,NS(t,i,a);Pt=(t.flags&131072)!==0}else Pt=!1,qe&&(i.flags&1048576)!==0&&Kp(i,qu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")nd(l)?(t=Ls(l,t),i.tag=1,i=i_(null,i,l,t,a)):(i.tag=0,i=Vf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===z){i.tag=11,i=Wg(null,i,l,t,a);break e}else if(h===Q){i.tag=14,i=Zg(null,i,l,t,a);break e}}throw i=R(l)||l,Error(s(306,i,""))}}return i;case 0:return Vf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ls(l,i.pendingProps),i_(t,i,l,h,a);case 3:e:{if(cr(i,i.stateNode.containerInfo),t===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,$f(t,i),cl(i,d,null,a);var v=i.memoizedState;if(d=v.cache,Nr(i,It,d),d!==h.cache&&Gf(i,[It],a,!0),ul(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=r_(t,i,d,a);break e}else if(d!==l){l=xn(Error(s(424)),i),Xo(l),i=r_(t,i,d,a);break e}else for(Bt=Kn(i.stateNode.containerInfo.firstChild),sn=i,qe=!0,Fn=null,ai=!0,a=tg(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Yo(),d===l){i=Ui(t,i,a);break e}Ht(t,i,d,a)}i=i.child}return i;case 26:return al(t,i),t===null?(a=hy(i.type,null,i.pendingProps,null))?i.memoizedState=a:qe||(a=i.type,t=i.pendingProps,l=Sc(Sn.current).createElement(a),l[Mt]=i,l[wt]=t,qt(l,a,t),nt(l),i.stateNode=l):i.memoizedState=hy(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return bo(i),t===null&&qe&&(l=i.stateNode=ly(i.type,i.pendingProps,Sn.current),sn=i,ai=!0,Bt=Kn(l.firstChild)),l=i.pendingProps.children,t!==null||qe?Ht(t,i,l,a):i.child=Os(i,null,l,a),al(t,i),i.child;case 5:return t===null&&qe&&((h=l=Bt)&&(l=oA(l,i.type,i.pendingProps,ai),l!==null?(i.stateNode=l,sn=i,Bt=Kn(l.firstChild),ai=!1,h=!0):h=!1),h||Ns(i)),bo(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Id(h,d)?l=null:v!==null&&Id(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=gf(t,i,wS,null,null,a),bl._currentValue=h),al(t,i),Ht(t,i,l,a),i.child;case 6:return t===null&&qe&&((t=a=Bt)&&(a=lA(a,i.pendingProps,ai),a!==null?(i.stateNode=a,sn=i,Bt=null,t=!0):t=!1),t||Ns(i)),null;case 13:return s_(t,i,a);case 4:return cr(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Os(i,null,l,a):Ht(t,i,l,a),i.child;case 11:return Wg(t,i,i.type,i.pendingProps,a);case 7:return Ht(t,i,i.pendingProps,a),i.child;case 8:return Ht(t,i,i.pendingProps.children,a),i.child;case 12:return Ht(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Nr(i,i.type,l.value),Ht(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,js(i),h=Qt(h),l=l(h),i.flags|=1,Ht(t,i,l,a),i.child;case 14:return Zg(t,i,i.type,i.pendingProps,a);case 15:return Jg(t,i,i.type,i.pendingProps,a);case 19:return o_(t,i,a);case 22:return e_(t,i,a);case 24:return js(i),l=Qt(It),t===null?(h=mf(),h===null&&(h=Je,d=ff(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Kf(i),Nr(i,It,h)):((t.lanes&a)!==0&&($f(t,i),cl(i,null,null,a),ul()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Nr(i,It,l)):(l=d.cache,Nr(i,It,l),l!==h.cache&&Gf(i,[It],a,!0))),Ht(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var qf=Be(null),Us=null,ji=null;function Nr(t,i,a){Qe(qf,i._currentValue),i._currentValue=a}function zi(t){t._currentValue=qf.current,ot(qf)}function Ff(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Gf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var C=0;C<i.length;C++)if(S.context===i[C]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Ff(d.return,a,t),l||(v=null);break e}d=S.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Ff(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ol(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var S=h.type;pn(h.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(h===ur.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(bl):t=[bl])}h=h.return}t!==null&&Gf(i,t,a,l),i.flags|=262144}function ac(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function js(t){Us=t,ji=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return u_(Us,t)}function oc(t,i){return Us===null&&js(t),u_(t,i)}function u_(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},ji===null){if(t===null)throw Error(s(308));ji=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else ji=ji.next=i;return a}var Or=!1;function Kf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $f(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Mr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(rt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Bu(t),Fp(t,null,a),i}return zu(t,l,i,a),Bu(t)}function ll(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,gr(t,a)}}function Qf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Yf=!1;function ul(){if(Yf){var t=ka;if(t!==null)throw t}}function cl(t,i,a,l){Yf=!1;var h=t.updateQueue;Or=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var C=S,k=C.next;C.next=null,v===null?d=k:v.next=k,v=C;var $=t.alternate;$!==null&&($=$.updateQueue,S=$.lastBaseUpdate,S!==v&&(S===null?$.firstBaseUpdate=k:S.next=k,$.lastBaseUpdate=C))}if(d!==null){var Z=h.baseState;v=0,$=k=C=null,S=d;do{var H=S.lane&-536870913,K=H!==S.lane;if(K?(je&H)===H:(l&H)===H){H!==0&&H===Va&&(Yf=!0),$!==null&&($=$.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ce=t,Ae=S;H=i;var ht=a;switch(Ae.tag){case 1:if(ce=Ae.payload,typeof ce=="function"){Z=ce.call(ht,Z,H);break e}Z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=Ae.payload,H=typeof ce=="function"?ce.call(ht,Z,H):ce,H==null)break e;Z=I({},Z,H);break e;case 2:Or=!0}}H=S.callback,H!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[H]:K.push(H))}else K={lane:H,tag:S.tag,payload:S.payload,callback:S.callback,next:null},$===null?(k=$=K,C=Z):$=$.next=K,v|=H;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;K=S,S=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);$===null&&(C=Z),h.baseState=C,h.firstBaseUpdate=k,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),jr|=v,t.lanes=v,t.memoizedState=Z}}function c_(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function h_(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)c_(a[t],i)}function hl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(S){Ze(i,i.return,S)}}function kr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,h=i;var C=a;try{S()}catch(k){Ze(h,C,k)}}}l=l.next}while(l!==d)}}catch(k){Ze(i,i.return,k)}}function f_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{h_(i,a)}catch(l){Ze(t,t.return,l)}}}function d_(t,i,a){a.props=Ls(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,i,l)}}function zs(t,i){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){Ze(t,i,d)}}function gn(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,i,h)}else a.current=null}function m_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function p_(t,i,a){try{var l=t.stateNode;nA(l,t.type,a,i),l[wt]=i}catch(h){Ze(t,t.return,h)}}function g_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Xf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||g_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Wf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Tc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Wf(t,i,a),t=t.sibling;t!==null;)Wf(t,i,a),t=t.sibling}function lc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(lc(t,i,a),t=t.sibling;t!==null;)lc(t,i,a),t=t.sibling}var Bi=!1,ut=!1,Zf=!1,__=typeof WeakSet=="function"?WeakSet:Set,Lt=null,y_=!1;function OS(t,i){if(t=t.containerInfo,Rd=Ic,t=kp(t),Jh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,S=-1,C=-1,k=0,$=0,Z=t,H=null;t:for(;;){for(var K;Z!==a||h!==0&&Z.nodeType!==3||(S=v+h),Z!==d||l!==0&&Z.nodeType!==3||(C=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(K=Z.firstChild)!==null;)H=Z,Z=K;for(;;){if(Z===t)break t;if(H===a&&++k===h&&(S=v),H===d&&++$===l&&(C=v),(K=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=K}a=S===-1||C===-1?null:{start:S,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Cd={focusedElem:t,selectionRange:a},Ic=!1,Lt=i;Lt!==null;)if(i=Lt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Lt=t;else for(;Lt!==null;){switch(i=Lt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=Ls(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){Ze(a,a.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Nd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Nd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Lt=t;break}Lt=i.return}return ce=y_,y_=!1,ce}function v_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:qi(t,a),l&4&&hl(5,a);break;case 1:if(qi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(S){Ze(a,a.return,S)}else{var h=Ls(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(S){Ze(a,a.return,S)}}l&64&&f_(a),l&512&&zs(a,a.return);break;case 3:if(qi(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{h_(l,t)}catch(S){Ze(a,a.return,S)}}break;case 26:qi(t,a),l&512&&zs(a,a.return);break;case 27:case 5:qi(t,a),i===null&&l&4&&m_(a),l&512&&zs(a,a.return);break;case 12:qi(t,a);break;case 13:qi(t,a),l&4&&S_(t,a);break;case 22:if(h=a.memoizedState!==null||Bi,!h){i=i!==null&&i.memoizedState!==null||ut;var d=Bi,v=ut;Bi=h,(ut=i)&&!v?Pr(t,a,(a.subtreeFlags&8772)!==0):qi(t,a),Bi=d,ut=v}l&512&&(a.memoizedProps.mode==="manual"?zs(a,a.return):gn(a,a.return));break;default:qi(t,a)}}function E_(t){var i=t.alternate;i!==null&&(t.alternate=null,E_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&gs(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Et=null,_n=!1;function Hi(t,i,a){for(a=a.child;a!==null;)T_(t,i,a),a=a.sibling}function T_(t,i,a){if($t&&typeof $t.onCommitFiberUnmount=="function")try{$t.onCommitFiberUnmount(hr,a)}catch{}switch(a.tag){case 26:ut||gn(a,i),Hi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ut||gn(a,i);var l=Et,h=_n;for(Et=a.stateNode,Hi(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);gs(a),Et=l,_n=h;break;case 5:ut||gn(a,i);case 6:h=Et;var d=_n;if(Et=null,Hi(t,i,a),Et=h,_n=d,Et!==null)if(_n)try{t=Et,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(v){Ze(a,i,v)}else try{Et.removeChild(a.stateNode)}catch(v){Ze(a,i,v)}break;case 18:Et!==null&&(_n?(i=Et,a=a.stateNode,i.nodeType===8?xd(i.parentNode,a):i.nodeType===1&&xd(i,a),Dl(i)):xd(Et,a.stateNode));break;case 4:l=Et,h=_n,Et=a.stateNode.containerInfo,_n=!0,Hi(t,i,a),Et=l,_n=h;break;case 0:case 11:case 14:case 15:ut||kr(2,a,i),ut||kr(4,a,i),Hi(t,i,a);break;case 1:ut||(gn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&d_(a,i,l)),Hi(t,i,a);break;case 21:Hi(t,i,a);break;case 22:ut||gn(a,i),ut=(l=ut)||a.memoizedState!==null,Hi(t,i,a),ut=l;break;default:Hi(t,i,a)}}function S_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Dl(t)}catch(a){Ze(i,i.return,a)}}function MS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new __),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new __),i;default:throw Error(s(435,t.tag))}}function Jf(t,i){var a=MS(t);i.forEach(function(l){var h=KS.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Vn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,S=v;e:for(;S!==null;){switch(S.tag){case 27:case 5:Et=S.stateNode,_n=!1;break e;case 3:Et=S.stateNode.containerInfo,_n=!0;break e;case 4:Et=S.stateNode.containerInfo,_n=!0;break e}S=S.return}if(Et===null)throw Error(s(160));T_(d,v,h),Et=null,_n=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)A_(i,t),i=i.sibling}var Gn=null;function A_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Vn(i,t),kn(t),l&4&&(kr(3,t,t.return),hl(3,t),kr(5,t,t.return));break;case 1:Vn(i,t),kn(t),l&512&&(ut||a===null||gn(a,a.return)),l&64&&Bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Gn;if(Vn(i,t),kn(t),l&512&&(ut||a===null||gn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[yr]||d[Mt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),qt(d,l,a),d[Mt]=t,nt(d),l=d;break e;case"link":var v=my("link","href",h).get(l+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(d=v[S],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=my("meta","content",h).get(l+(a.content||""))){for(S=0;S<v.length;S++)if(d=v[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Mt]=t,nt(d),l=d}t.stateNode=l}else py(h,t.type,t.stateNode);else t.stateNode=dy(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?py(h,t.type,t.stateNode):dy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&p_(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var C=h.firstChild;C;){var k=C.nextSibling,$=C.nodeName;C[yr]||$==="HEAD"||$==="BODY"||$==="SCRIPT"||$==="STYLE"||$==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=k}for(var Z=t.type,H=h.attributes;H.length;)h.removeAttributeNode(H[0]);qt(h,Z,d),h[Mt]=t,h[wt]=d}catch(ce){Ze(t,t.return,ce)}}case 5:if(Vn(i,t),kn(t),l&512&&(ut||a===null||gn(a,a.return)),t.flags&32){h=t.stateNode;try{bn(h,"")}catch(ce){Ze(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,p_(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Zf=!0);break;case 6:if(Vn(i,t),kn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Ze(t,t.return,ce)}}break;case 3:if(bc=null,h=Gn,Gn=Ac(i.containerInfo),Vn(i,t),Gn=h,kn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Dl(i.containerInfo)}catch(ce){Ze(t,t.return,ce)}Zf&&(Zf=!1,w_(t));break;case 4:l=Gn,Gn=Ac(t.stateNode.containerInfo),Vn(i,t),kn(t),Gn=l;break;case 12:Vn(i,t),kn(t);break;case 13:Vn(i,t),kn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ld=ln()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Jf(t,l)));break;case 22:if(l&512&&(ut||a===null||gn(a,a.return)),C=t.memoizedState!==null,k=a!==null&&a.memoizedState!==null,$=Bi,Z=ut,Bi=$||C,ut=Z||k,Vn(i,t),ut=Z,Bi=$,kn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=C?i._visibility&-2:i._visibility|1,C&&(i=Bi||ut,a===null||k||i||ja(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){k=a=i;try{if(h=k.stateNode,C)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=k.stateNode,S=k.memoizedProps.style;var K=S!=null&&S.hasOwnProperty("display")?S.display:null;v.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ce){Ze(k,k.return,ce)}}}else if(i.tag===6){if(a===null){k=i;try{k.stateNode.nodeValue=C?"":k.memoizedProps}catch(ce){Ze(k,k.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Jf(t,a))));break;case 19:Vn(i,t),kn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Jf(t,l)));break;case 21:break;default:Vn(i,t),kn(t)}}function kn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(g_(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=Xf(t);lc(t,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(bn(v,""),l.flags&=-33);var S=Xf(t);lc(t,S,v);break;case 3:case 4:var C=l.stateNode.containerInfo,k=Xf(t);Wf(t,k,C);break;default:throw Error(s(161))}}}catch($){Ze(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function w_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;w_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function qi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)v_(t,i.alternate,i),i=i.sibling}function ja(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:kr(4,i,i.return),ja(i);break;case 1:gn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&d_(i,i.return,a),ja(i);break;case 26:case 27:case 5:gn(i,i.return),ja(i);break;case 22:gn(i,i.return),i.memoizedState===null&&ja(i);break;default:ja(i)}t=t.sibling}}function Pr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Pr(h,d,a),hl(4,d);break;case 1:if(Pr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Ze(l,l.return,k)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)c_(C[h],S)}catch(k){Ze(l,l.return,k)}}a&&v&64&&f_(d),zs(d,d.return);break;case 26:case 27:case 5:Pr(h,d,a),a&&l===null&&v&4&&m_(d),zs(d,d.return);break;case 12:Pr(h,d,a);break;case 13:Pr(h,d,a),a&&v&4&&S_(h,d);break;case 22:d.memoizedState===null&&Pr(h,d,a),zs(d,d.return);break;default:Pr(h,d,a)}i=i.sibling}}function ed(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&tl(a))}function td(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&tl(t))}function Lr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)b_(t,i,a,l),i=i.sibling}function b_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Lr(t,i,a,l),h&2048&&hl(9,i);break;case 3:Lr(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&tl(t)));break;case 12:if(h&2048){Lr(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,S=d.onPostCommit;typeof S=="function"&&S(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ze(i,i.return,C)}}else Lr(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Lr(t,i,a,l):fl(t,i):d._visibility&4?Lr(t,i,a,l):(d._visibility|=4,za(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&ed(i.alternate,i);break;case 24:Lr(t,i,a,l),h&2048&&td(i.alternate,i);break;default:Lr(t,i,a,l)}}function za(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,S=a,C=l,k=v.flags;switch(v.tag){case 0:case 11:case 15:za(d,v,S,C,h),hl(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&4?za(d,v,S,C,h):fl(d,v):($._visibility|=4,za(d,v,S,C,h)),h&&k&2048&&ed(v.alternate,v);break;case 24:za(d,v,S,C,h),h&&k&2048&&td(v.alternate,v);break;default:za(d,v,S,C,h)}i=i.sibling}}function fl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:fl(a,l),h&2048&&ed(l.alternate,l);break;case 24:fl(a,l),h&2048&&td(l.alternate,l);break;default:fl(a,l)}i=i.sibling}}var dl=8192;function Ba(t){if(t.subtreeFlags&dl)for(t=t.child;t!==null;)R_(t),t=t.sibling}function R_(t){switch(t.tag){case 26:Ba(t),t.flags&dl&&t.memoizedState!==null&&TA(Gn,t.memoizedState,t.memoizedProps);break;case 5:Ba(t);break;case 3:case 4:var i=Gn;Gn=Ac(t.stateNode.containerInfo),Ba(t),Gn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=dl,dl=16777216,Ba(t),dl=i):Ba(t));break;default:Ba(t)}}function C_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ml(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,D_(l,t)}C_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)I_(t),t=t.sibling}function I_(t){switch(t.tag){case 0:case 11:case 15:ml(t),t.flags&2048&&kr(9,t,t.return);break;case 3:ml(t);break;case 12:ml(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,uc(t)):ml(t);break;default:ml(t)}}function uc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,D_(l,t)}C_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:kr(8,i,i.return),uc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,uc(i));break;default:uc(i)}t=t.sibling}}function D_(t,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:kr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:tl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=t;Lt!==null;){l=Lt;var h=l.sibling,d=l.return;if(E_(l),l===a){Lt=null;break e}if(h!==null){h.return=d,Lt=h;break e}Lt=d}}}function VS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,i,a,l){return new VS(t,i,a,l)}function nd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ur(t,i){var a=t.alternate;return a===null?(a=Pn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function x_(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function cc(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")nd(t)&&(v=1);else if(typeof t=="string")v=vA(t,a,en.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Bs(a.children,h,d,i);case _:v=8,h|=24;break;case T:return t=Pn(12,a,i,h|2),t.elementType=T,t.lanes=d,t;case Y:return t=Pn(13,a,i,h),t.elementType=Y,t.lanes=d,t;case q:return t=Pn(19,a,i,h),t.elementType=q,t.lanes=d,t;case ee:return N_(a,h,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b:case P:v=10;break e;case x:v=9;break e;case z:v=11;break e;case Q:v=14;break e;case ne:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Pn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Bs(t,i,a,l){return t=Pn(7,t,l,i),t.lanes=a,t}function N_(t,i,a,l){t=Pn(22,t,l,i),t.elementType=ee,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var v=Rr(d,2);v!==null&&(h._pendingVisibility|=2,an(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var v=Rr(d,2);v!==null&&(h._pendingVisibility&=-3,an(v,d,2))}}};return t.stateNode=h,t}function id(t,i,a){return t=Pn(6,t,null,i),t.lanes=a,t}function rd(t,i,a){return i=Pn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Fi(t){t.flags|=4}function O_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!gy(i)){if(i=Mn.current,i!==null&&((je&4194176)===je?oi!==null:(je&62914560)!==je&&(je&536870912)===0||i!==oi))throw Zo=uf,Yp;t.flags|=8192}}function hc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?mr():536870912,t.lanes|=i,qa|=i)}function pl(t,i){if(!qe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function kS(t,i,a){var l=i.pendingProps;switch(of(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),zi(It),Ai(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Qo(i)?Fi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Fn!==null&&(fd(Fn),Fn=null))),it(i),null;case 26:return a=i.memoizedState,t===null?(Fi(i),a!==null?(it(i),O_(i,a)):(it(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Fi(i),it(i),O_(i,a)):(it(i),i.flags&=-16777217):(t.memoizedProps!==l&&Fi(i),it(i),i.flags&=-16777217),null;case 27:la(i),a=Sn.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Fi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}t=en.current,Qo(i)?$p(i):(t=ly(h,l,a),i.stateNode=t,Fi(i))}return it(i),null;case 5:if(la(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Fi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(t=en.current,Qo(i))$p(i);else{switch(h=Sc(Sn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Mt]=i,t[wt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(qt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Fi(i)}}return it(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Fi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Sn.current,Qo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=sn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Mt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||ny(t.nodeValue,a)),t||Ns(i)}else t=Sc(t).createTextNode(l),t[Mt]=i,i.stateNode=t}return it(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Qo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Mt]=i}else Yo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else Fn!==null&&(fd(Fn),Fn=null),h=!0;if(!h)return i.flags&256?(Pi(i),i):(Pi(i),null)}if(Pi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),hc(i,i.updateQueue),it(i),null;case 4:return Ai(),t===null&&Ad(i.stateNode.containerInfo),it(i),null;case 10:return zi(i.type),it(i),null;case 19:if(ot(Ct),h=i.memoizedState,h===null)return it(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)pl(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Qu(t),d!==null){for(i.flags|=128,pl(h,!1),t=d.updateQueue,i.updateQueue=t,hc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)x_(a,t),a=a.sibling;return Qe(Ct,Ct.current&1|2),i.child}t=t.sibling}h.tail!==null&&ln()>fc&&(i.flags|=128,l=!0,pl(h,!1),i.lanes=4194304)}else{if(!l)if(t=Qu(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,hc(i,t),pl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return it(i),null}else 2*ln()-h.renderingStartTime>fc&&a!==536870912&&(i.flags|=128,l=!0,pl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=ln(),i.sibling=null,t=Ct.current,Qe(Ct,l?t&1|2:t&1),i):(it(i),null);case 22:case 23:return Pi(i),hf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&hc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ot(Ms),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),zi(It),it(i),null;case 25:return null}throw Error(s(156,i.tag))}function PS(t,i){switch(of(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return zi(It),Ai(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return la(i),null;case 13:if(Pi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Yo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ot(Ct),null;case 4:return Ai(),null;case 10:return zi(i.type),null;case 22:case 23:return Pi(i),hf(),t!==null&&ot(Ms),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return zi(It),null;case 25:return null;default:return null}}function M_(t,i){switch(of(i),i.tag){case 3:zi(It),Ai();break;case 26:case 27:case 5:la(i);break;case 4:Ai();break;case 13:Pi(i);break;case 19:ot(Ct);break;case 10:zi(i.type);break;case 22:case 23:Pi(i),hf(),t!==null&&ot(Ms);break;case 24:zi(It)}}var LS={getCacheForType:function(t){var i=Qt(It),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},US=typeof WeakMap=="function"?WeakMap:Map,rt=0,Je=null,Ne=null,je=0,et=0,yn=null,Gi=!1,Ha=!1,sd=!1,Ki=0,ct=0,jr=0,Hs=0,ad=0,Ln=0,qa=0,gl=null,ui=null,od=!1,ld=0,fc=1/0,dc=null,zr=null,mc=!1,qs=null,_l=0,ud=0,cd=null,yl=0,hd=null;function vn(){if((rt&2)!==0&&je!==0)return je&-je;if(w.T!==null){var t=Va;return t!==0?t:vd()}return Eu()}function V_(){Ln===0&&(Ln=(je&536870912)===0||qe?xo():536870912);var t=Mn.current;return t!==null&&(t.flags|=32),Ln}function an(t,i,a){(t===Je&&et===2||t.cancelPendingCommit!==null)&&(Fa(t,0),$i(t,je,Ln,!1)),dt(t,a),((rt&2)===0||t!==Je)&&(t===Je&&((rt&2)===0&&(Hs|=a),ct===4&&$i(t,je,Ln,!1)),ci(t))}function k_(t,i,a){if((rt&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&t.expiredLanes)===0||dr(t,i),h=l?BS(t,i):pd(t,i,!0),d=l;do{if(h===0){Ha&&!l&&$i(t,i,0,!1);break}else if(h===6)$i(t,i,0,!Gi);else{if(a=t.current.alternate,d&&!jS(a)){h=pd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var S=t;h=gl;var C=S.current.memoizedState.isDehydrated;if(C&&(Fa(S,v).flags|=256),v=pd(S,v,!1),v!==2){if(sd&&!C){S.errorRecoveryDisabledLanes|=d,Hs|=d,h=4;break e}d=ui,ui=h,d!==null&&fd(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Fa(t,0),$i(t,i,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){$i(l,i,Ln,!Gi);break e}break;case 2:ui=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=ld+300-ln(),10<d)){if($i(l,i,Ln,!Gi),An(l,0)!==0)break e;l.timeoutHandle=sy(P_.bind(null,l,a,ui,dc,od,i,Ln,Hs,qa,Gi,2,-0,0),d);break e}P_(l,a,ui,dc,od,i,Ln,Hs,qa,Gi,0,-0,0)}}break}while(!0);ci(t)}function fd(t){ui===null?ui=t:ui.push.apply(ui,t)}function P_(t,i,a,l,h,d,v,S,C,k,$,Z,H){var K=i.subtreeFlags;if((K&8192||(K&16785408)===16785408)&&(wl={stylesheets:null,count:0,unsuspend:EA},R_(i),i=SA(),i!==null)){t.cancelPendingCommit=i(q_.bind(null,t,a,l,h,v,S,C,1,Z,H)),$i(t,d,v,!k);return}q_(t,a,l,h,v,S,C,$,Z,H)}function jS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function $i(t,i,a,l){i&=~ad,i&=~Hs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-tn(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&pr(t,a,i)}function pc(){return(rt&6)===0?(vl(0),!1):!0}function dd(){if(Ne!==null){if(et===0)var t=Ne.return;else t=Ne,ji=Us=null,vf(t),Oa=null,Jo=0,t=Ne;for(;t!==null;)M_(t.alternate,t),t=t.return;Ne=null}}function Fa(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,rA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),dd(),Je=t,Ne=a=Ur(t.current,null),je=i,et=0,yn=null,Gi=!1,Ha=dr(t,i),sd=!1,qa=Ln=ad=Hs=jr=ct=0,ui=gl=null,od=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-tn(l),d=1<<h;i|=t[h],l&=~d}return Ki=i,ju(),a}function L_(t,i){De=null,w.H=li,i===Wo?(i=Zp(),et=3):i===Yp?(i=Zp(),et=4):et=i===Xg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yn=i,Ne===null&&(ct=1,sc(t,xn(i,t.current)))}function U_(){var t=w.H;return w.H=li,t===null?li:t}function j_(){var t=w.A;return w.A=LS,t}function md(){ct=4,Gi||(je&4194176)!==je&&Mn.current!==null||(Ha=!0),(jr&134217727)===0&&(Hs&134217727)===0||Je===null||$i(Je,je,Ln,!1)}function pd(t,i,a){var l=rt;rt|=2;var h=U_(),d=j_();(Je!==t||je!==i)&&(dc=null,Fa(t,i)),i=!1;var v=ct;e:do try{if(et!==0&&Ne!==null){var S=Ne,C=yn;switch(et){case 8:dd(),v=6;break e;case 3:case 2:case 6:Mn.current===null&&(i=!0);var k=et;if(et=0,yn=null,Ga(t,S,C,k),a&&Ha){v=0;break e}break;default:k=et,et=0,yn=null,Ga(t,S,C,k)}}zS(),v=ct;break}catch($){L_(t,$)}while(!0);return i&&t.shellSuspendCounter++,ji=Us=null,rt=l,w.H=h,w.A=d,Ne===null&&(Je=null,je=0,ju()),v}function zS(){for(;Ne!==null;)z_(Ne)}function BS(t,i){var a=rt;rt|=2;var l=U_(),h=j_();Je!==t||je!==i?(dc=null,fc=ln()+500,Fa(t,i)):Ha=dr(t,i);e:do try{if(et!==0&&Ne!==null){i=Ne;var d=yn;t:switch(et){case 1:et=0,yn=null,Ga(t,i,d,1);break;case 2:if(Xp(d)){et=0,yn=null,B_(i);break}i=function(){et===2&&Je===t&&(et=7),ci(t)},d.then(i,i);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Xp(d)?(et=0,yn=null,B_(i)):(et=0,yn=null,Ga(t,i,d,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var S=Ne;if(!v||gy(v)){et=0,yn=null;var C=S.sibling;if(C!==null)Ne=C;else{var k=S.return;k!==null?(Ne=k,gc(k)):Ne=null}break t}}et=0,yn=null,Ga(t,i,d,5);break;case 6:et=0,yn=null,Ga(t,i,d,6);break;case 8:dd(),ct=6;break e;default:throw Error(s(462))}}HS();break}catch($){L_(t,$)}while(!0);return ji=Us=null,w.H=l,w.A=h,rt=a,Ne!==null?0:(Je=null,je=0,ju(),ct)}function HS(){for(;Ne!==null&&!Hh();)z_(Ne)}function z_(t){var i=l_(t.alternate,t,Ki);t.memoizedProps=t.pendingProps,i===null?gc(t):Ne=i}function B_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=n_(a,i,i.pendingProps,i.type,void 0,je);break;case 11:i=n_(a,i,i.pendingProps,i.type.render,i.ref,je);break;case 5:vf(i);default:M_(a,i),i=Ne=x_(i,Ki),i=l_(a,i,Ki)}t.memoizedProps=t.pendingProps,i===null?gc(t):Ne=i}function Ga(t,i,a,l){ji=Us=null,vf(i),Oa=null,Jo=0;var h=i.return;try{if(xS(t,h,i,a,je)){ct=1,sc(t,xn(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ct=1,sc(t,xn(a,t.current)),Ne=null;return}i.flags&32768?(qe||l===1?t=!0:Ha||(je&536870912)!==0?t=!1:(Gi=t=!0,(l===2||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),H_(i,t)):gc(i)}function gc(t){var i=t;do{if((i.flags&32768)!==0){H_(i,Gi);return}t=i.return;var a=kS(i.alternate,i,Ki);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ct===0&&(ct=5)}function H_(t,i){do{var a=PS(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ct=6,Ne=null}function q_(t,i,a,l,h,d,v,S,C,k){var $=w.T,Z=ae.p;try{ae.p=2,w.T=null,qS(t,i,a,l,Z,h,d,v,S,C,k)}finally{w.T=$,ae.p=Z}}function qS(t,i,a,l,h,d,v,S){do Ka();while(qs!==null);if((rt&6)!==0)throw Error(s(327));var C=t.finishedWork;if(l=t.finishedLanes,C===null)return null;if(t.finishedWork=null,t.finishedLanes=0,C===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var k=C.lanes|C.childLanes;if(k|=rf,yu(t,l,k,d,v,S),t===Je&&(Ne=Je=null,je=0),(C.subtreeFlags&10256)===0&&(C.flags&10256)===0||mc||(mc=!0,ud=k,cd=a,$S(wi,function(){return Ka(),null})),a=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||a?(a=w.T,w.T=null,d=ae.p,ae.p=2,v=rt,rt|=4,OS(t,C),A_(C,t),dS(Cd,t.containerInfo),Ic=!!Rd,Cd=Rd=null,t.current=C,v_(t,C.alternate,C),Ro(),rt=v,ae.p=d,w.T=a):t.current=C,mc?(mc=!1,qs=t,_l=l):F_(t,k),k=t.pendingLanes,k===0&&(zr=null),Io(C.stateNode),ci(t),i!==null)for(h=t.onRecoverableError,C=0;C<i.length;C++)k=i[C],h(k.value,{componentStack:k.stack});return(_l&3)!==0&&Ka(),k=t.pendingLanes,(l&4194218)!==0&&(k&42)!==0?t===hd?yl++:(yl=0,hd=t):yl=0,vl(0),null}function F_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,tl(i)))}function Ka(){if(qs!==null){var t=qs,i=ud;ud=0;var a=vu(_l),l=w.T,h=ae.p;try{if(ae.p=32>a?32:a,w.T=null,qs===null)var d=!1;else{a=cd,cd=null;var v=qs,S=_l;if(qs=null,_l=0,(rt&6)!==0)throw Error(s(331));var C=rt;if(rt|=4,I_(v.current),b_(v,v.current,S,a),rt=C,vl(0,!1),$t&&typeof $t.onPostCommitFiberRoot=="function")try{$t.onPostCommitFiberRoot(hr,v)}catch{}d=!0}return d}finally{ae.p=h,w.T=l,F_(t,i)}}return!1}function G_(t,i,a){i=xn(a,i),i=Mf(t.stateNode,i,2),t=Vr(t,i,2),t!==null&&(dt(t,2),ci(t))}function Ze(t,i,a){if(t.tag===3)G_(t,t,a);else for(;i!==null;){if(i.tag===3){G_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zr===null||!zr.has(l))){t=xn(a,t),a=Qg(2),l=Vr(i,a,2),l!==null&&(Yg(a,l,i,t),dt(l,2),ci(l));break}}i=i.return}}function gd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new US;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(sd=!0,h.add(a),t=FS.bind(null,t,i,a),i.then(t,t))}function FS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(je&a)===a&&(ct===4||ct===3&&(je&62914560)===je&&300>ln()-ld?(rt&2)===0&&Fa(t,0):ad|=a,qa===je&&(qa=0)),ci(t)}function K_(t,i){i===0&&(i=mr()),t=Rr(t,i),t!==null&&(dt(t,i),ci(t))}function GS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),K_(t,a)}function KS(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),K_(t,a)}function $S(t,i){return ds(t,i)}var _c=null,$a=null,_d=!1,yc=!1,yd=!1,Fs=0;function ci(t){t!==$a&&t.next===null&&($a===null?_c=$a=t:$a=$a.next=t),yc=!0,_d||(_d=!0,YS(QS))}function vl(t,i){if(!yd&&yc){yd=!0;do for(var a=!1,l=_c;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-tn(42|t)+1)-1,d&=h&~(v&~S),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,Y_(l,d))}else d=je,d=An(l,l===Je?d:0),(d&3)===0||dr(l,d)||(a=!0,Y_(l,d));l=l.next}while(a);yd=!1}}function QS(){yc=_d=!1;var t=0;Fs!==0&&(iA()&&(t=Fs),Fs=0);for(var i=ln(),a=null,l=_c;l!==null;){var h=l.next,d=$_(l,i);d===0?(l.next=null,a===null?_c=h:a.next=h,h===null&&($a=a)):(a=l,(t!==0||(d&3)!==0)&&(yc=!0)),l=h}vl(t)}function $_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-tn(d),S=1<<v,C=h[v];C===-1?((S&a)===0||(S&l)!==0)&&(h[v]=ha(S,i)):C<=i&&(t.expiredLanes|=S),d&=~S}if(i=Je,a=je,a=An(t,t===i?a:0),l=t.callbackNode,a===0||t===i&&et===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ca(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||dr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ca(l),vu(a)){case 2:case 8:a=Ot;break;case 32:a=wi;break;case 268435456:a=Co;break;default:a=wi}return l=Q_.bind(null,t),a=ds(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ca(l),t.callbackPriority=2,t.callbackNode=null,2}function Q_(t,i){var a=t.callbackNode;if(Ka()&&t.callbackNode!==a)return null;var l=je;return l=An(t,t===Je?l:0),l===0?null:(k_(t,l,i),$_(t,ln()),t.callbackNode!=null&&t.callbackNode===a?Q_.bind(null,t):null)}function Y_(t,i){if(Ka())return null;k_(t,i,!0)}function YS(t){sA(function(){(rt&6)!==0?ds(At,t):t()})}function vd(){return Fs===0&&(Fs=xo()),Fs}function X_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Jn(""+t)}function W_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function XS(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=X_((h[wt]||null).action),v=l.submitter;v&&(i=(i=v[wt]||null)?X_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var S=new ya("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fs!==0){var C=v?W_(h,v):new FormData(h);If(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(S.preventDefault(),C=v?W_(h,v):new FormData(h),If(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Ed=0;Ed<qp.length;Ed++){var Td=qp[Ed],WS=Td.toLowerCase(),ZS=Td[0].toUpperCase()+Td.slice(1);qn(WS,"on"+ZS)}qn(Up,"onAnimationEnd"),qn(jp,"onAnimationIteration"),qn(zp,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(pS,"onTransitionRun"),qn(gS,"onTransitionStart"),qn(_S,"onTransitionCancel"),qn(Bp,"onTransitionEnd"),un("onMouseEnter",["mouseout","mouseover"]),un("onMouseLeave",["mouseout","mouseover"]),un("onPointerEnter",["pointerout","pointerover"]),un("onPointerLeave",["pointerout","pointerover"]),dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),JS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function Z_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var S=l[v],C=S.instance,k=S.currentTarget;if(S=S.listener,C!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=k;try{d(h)}catch($){rc($)}h.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(S=l[v],C=S.instance,k=S.currentTarget,S=S.listener,C!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=k;try{d(h)}catch($){rc($)}h.currentTarget=null,d=C}}}}function ke(t,i){var a=i[ps];a===void 0&&(a=i[ps]=new Set);var l=t+"__bubble";a.has(l)||(J_(i,t,2,!1),a.add(l))}function Sd(t,i,a){var l=0;i&&(l|=4),J_(a,t,l,i)}var vc="_reactListening"+Math.random().toString(36).slice(2);function Ad(t){if(!t[vc]){t[vc]=!0,Oo.forEach(function(a){a!=="selectionchange"&&(JS.has(a)||Sd(a,!1,t),Sd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[vc]||(i[vc]=!0,Sd("selectionchange",!1,i))}}function J_(t,i,a,l){switch(Sy(i)){case 2:var h=bA;break;case 8:h=RA;break;default:h=Pd}a=h.bind(null,i,a,t),h=void 0,!Cn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function wd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===h||S.nodeType===8&&S.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&(C=v.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;v=v.return}for(;S!==null;){if(v=Hn(S),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue e}S=S.parentNode}}l=l.return}wu(function(){var k=d,$=_a(a),Z=[];e:{var H=Hp.get(t);if(H!==void 0){var K=ya,ce=t;switch(t){case"keypress":if(ti(a)===0)break e;case"keydown":case"keyup":K=wa;break;case"focusin":ce="focus",K=Ta;break;case"focusout":ce="blur",K=Ta;break;case"beforeblur":case"afterblur":K=Ta;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=In;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=Yh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=Ou;break;case Up:case jp:case zp:K=Sa;break;case Bp:K=Vu;break;case"scroll":case"scrollend":K=bu;break;case"wheel":K=ba;break;case"copy":case"cut":case"paste":K=Aa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Fo;break;case"toggle":case"beforetoggle":K=Pu}var Ae=(i&4)!==0,ht=!Ae&&(t==="scroll"||t==="scrollend"),L=Ae?H!==null?H+"Capture":null:H;Ae=[];for(var O=k,B;O!==null;){var X=O;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||L===null||(X=Es(O,L),X!=null&&Ae.push(Tl(O,X,B))),ht)break;O=O.return}0<Ae.length&&(H=new K(H,ce,null,a,$),Z.push({event:H,listeners:Ae}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",H&&a!==Rn&&(ce=a.relatedTarget||a.fromElement)&&(Hn(ce)||ce[bi]))break e;if((K||H)&&(H=$.window===$?$:(H=$.ownerDocument)?H.defaultView||H.parentWindow:window,K?(ce=a.relatedTarget||a.toElement,K=k,ce=ce?Hn(ce):null,ce!==null&&(ht=me(ce),Ae=ce.tag,ce!==ht||Ae!==5&&Ae!==27&&Ae!==6)&&(ce=null)):(K=null,ce=k),K!==ce)){if(Ae=In,X="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=Fo,X="onPointerLeave",L="onPointerEnter",O="pointer"),ht=K==null?H:vr(K),B=ce==null?H:vr(ce),H=new Ae(X,O+"leave",K,a,$),H.target=ht,H.relatedTarget=B,X=null,Hn($)===k&&(Ae=new Ae(L,O+"enter",ce,a,$),Ae.target=B,Ae.relatedTarget=ht,X=Ae),ht=X,K&&ce)t:{for(Ae=K,L=ce,O=0,B=Ae;B;B=Qa(B))O++;for(B=0,X=L;X;X=Qa(X))B++;for(;0<O-B;)Ae=Qa(Ae),O--;for(;0<B-O;)L=Qa(L),B--;for(;O--;){if(Ae===L||L!==null&&Ae===L.alternate)break t;Ae=Qa(Ae),L=Qa(L)}Ae=null}else Ae=null;K!==null&&ey(Z,H,K,Ae,!1),ce!==null&&ht!==null&&ey(Z,ht,ce,Ae,!0)}}e:{if(H=k?vr(k):window,K=H.nodeName&&H.nodeName.toLowerCase(),K==="select"||K==="input"&&H.type==="file")var le=Cp;else if(Rt(H))if(Ip)le=hS;else{le=uS;var xe=lS}else K=H.nodeName,!K||K.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?k&&Lo(k.elementType)&&(le=Cp):le=cS;if(le&&(le=le(t,k))){Mi(Z,le,a,$);break e}xe&&xe(t,H,k),t==="focusout"&&k&&H.type==="number"&&k.memoizedProps.value!=null&&ga(H,"number",H.value)}switch(xe=k?vr(k):window,t){case"focusin":(Rt(xe)||xe.contentEditable==="true")&&(Ra=xe,ef=k,$o=null);break;case"focusout":$o=ef=Ra=null;break;case"mousedown":tf=!0;break;case"contextmenu":case"mouseup":case"dragend":tf=!1,Pp(Z,a,$);break;case"selectionchange":if(mS)break;case"keydown":case"keyup":Pp(Z,a,$)}var fe;if(ri)e:{switch(t){case"compositionstart":var _e="onCompositionStart";break e;case"compositionend":_e="onCompositionEnd";break e;case"compositionupdate":_e="onCompositionUpdate";break e}_e=void 0}else Le?F(t,a)&&(_e="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(_e="onCompositionStart");_e&&(y&&a.locale!=="ko"&&(Le||_e!=="onCompositionStart"?_e==="onCompositionEnd"&&Le&&(fe=jo()):(ei=$,br="value"in ei?ei.value:ei.textContent,Le=!0)),xe=Ec(k,_e),0<xe.length&&(_e=new Ho(_e,t,null,a,$),Z.push({event:_e,listeners:xe}),fe?_e.data=fe:(fe=ie(a),fe!==null&&(_e.data=fe)))),(fe=g?bt(t,a):Ue(t,a))&&(_e=Ec(k,"onBeforeInput"),0<_e.length&&(xe=new Ho("onBeforeInput","beforeinput",null,a,$),Z.push({event:xe,listeners:_e}),xe.data=fe)),XS(Z,t,k,a,$)}Z_(Z,i)})}function Tl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ec(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Es(t,a),h!=null&&l.unshift(Tl(t,h,d)),h=Es(t,i),h!=null&&l.push(Tl(t,h,d))),t=t.return}return l}function Qa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ey(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var S=a,C=S.alternate,k=S.stateNode;if(S=S.tag,C!==null&&C===l)break;S!==5&&S!==26&&S!==27||k===null||(C=k,h?(k=Es(a,d),k!=null&&v.unshift(Tl(a,k,C))):h||(k=Es(a,d),k!=null&&v.push(Tl(a,k,C)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var eA=/\r\n?/g,tA=/\u0000|\uFFFD/g;function ty(t){return(typeof t=="string"?t:""+t).replace(eA,`
`).replace(tA,"")}function ny(t,i){return i=ty(i),ty(t)===i}function Tc(){}function We(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||bn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&bn(t,""+l);break;case"className":Sr(t,"class",l);break;case"tabIndex":Sr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sr(t,a,l);break;case"style":Au(t,l,d);break;case"data":if(i!=="object"){Sr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Jn(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Jn(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Tc);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Jn(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),Tr(t,"popover",l);break;case"xlinkActuate":wn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Tr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=$h.get(a)||a,Tr(t,a,l))}}function bd(t,i,a,l,h,d){switch(a){case"style":Au(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?bn(t,l):(typeof l=="number"||typeof l=="bigint")&&bn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Tc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ma.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[wt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Tr(t,a,l)}}}function qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,d,v,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":ke("invalid",t);var S=d=v=h=null,C=null,k=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":v=$;break;case"checked":C=$;break;case"defaultChecked":k=$;break;case"value":d=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:We(t,i,l,$,a,null)}}ys(t,d,S,C,k,v,h,!1),_s(t);return;case"select":ke("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:We(t,i,h,S,a,null)}i=d,a=v,t.multiple=!!l,i!=null?He(t,!!l,i,!1):a!=null&&He(t,!!l,a,!0);return;case"textarea":ke("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:We(t,i,v,S,a,null)}wr(t,l,h,d),_s(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,i,C,l,a,null)}return;case"dialog":ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<El.length;l++)ke(El[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,k,l,a,null)}return;default:if(Lo(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&bd(t,i,$,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&We(t,i,S,l,a,null))}function nA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,S=null,C=null,k=null,$=null;for(K in a){var Z=a[K];if(a.hasOwnProperty(K)&&Z!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty(K)||We(t,i,K,null,l,Z)}}for(var H in l){var K=l[H];if(Z=a[H],l.hasOwnProperty(H)&&(K!=null||Z!=null))switch(H){case"type":d=K;break;case"name":h=K;break;case"checked":k=K;break;case"defaultChecked":$=K;break;case"value":v=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==Z&&We(t,i,H,K,l,Z)}}Ar(t,v,S,C,k,$,d,h);return;case"select":K=v=S=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":K=C;default:l.hasOwnProperty(d)||We(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":H=d;break;case"defaultValue":S=d;break;case"multiple":v=d;default:d!==C&&We(t,i,h,d,l,C)}i=S,a=v,l=K,H!=null?He(t,!!a,H,!1):!!l!=!!a&&(i!=null?He(t,!!a,i,!0):He(t,!!a,a?[]:"",!1));return;case"textarea":K=H=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:We(t,i,S,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,i,v,h,l,d)}vs(t,H,K);return;case"option":for(var ce in a)if(H=a[ce],a.hasOwnProperty(ce)&&H!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:We(t,i,ce,null,l,H)}for(C in l)if(H=l[C],K=a[C],l.hasOwnProperty(C)&&H!==K&&(H!=null||K!=null))switch(C){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:We(t,i,C,H,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)H=a[Ae],a.hasOwnProperty(Ae)&&H!=null&&!l.hasOwnProperty(Ae)&&We(t,i,Ae,null,l,H);for(k in l)if(H=l[k],K=a[k],l.hasOwnProperty(k)&&H!==K&&(H!=null||K!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:We(t,i,k,H,l,K)}return;default:if(Lo(i)){for(var ht in a)H=a[ht],a.hasOwnProperty(ht)&&H!==void 0&&!l.hasOwnProperty(ht)&&bd(t,i,ht,void 0,l,H);for($ in l)H=l[$],K=a[$],!l.hasOwnProperty($)||H===K||H===void 0&&K===void 0||bd(t,i,$,H,l,K);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&We(t,i,L,null,l,H);for(Z in l)H=l[Z],K=a[Z],!l.hasOwnProperty(Z)||H===K||H==null&&K==null||We(t,i,Z,H,l,K)}var Rd=null,Cd=null;function Sc(t){return t.nodeType===9?t:t.ownerDocument}function iy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ry(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Id(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Dd=null;function iA(){var t=window.event;return t&&t.type==="popstate"?t===Dd?!1:(Dd=t,!0):(Dd=null,!1)}var sy=typeof setTimeout=="function"?setTimeout:void 0,rA=typeof clearTimeout=="function"?clearTimeout:void 0,ay=typeof Promise=="function"?Promise:void 0,sA=typeof queueMicrotask=="function"?queueMicrotask:typeof ay<"u"?function(t){return ay.resolve(null).then(t).catch(aA)}:sy;function aA(t){setTimeout(function(){throw t})}function xd(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),Dl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Dl(i)}function Nd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Nd(a),gs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function oA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[yr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Kn(t.nextSibling),t===null)break}return null}function lA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Kn(t.nextSibling),t===null))return null;return t}function Kn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function oy(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function ly(t,i,a){switch(i=Sc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Un=new Map,uy=new Set;function Ac(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Qi=ae.d;ae.d={f:uA,r:cA,D:hA,C:fA,L:dA,m:mA,X:gA,S:pA,M:_A};function uA(){var t=Qi.f(),i=pc();return t||i}function cA(t){var i=Ri(t);i!==null&&i.tag===5&&i.type==="form"?Pg(i):Qi.r(t)}var Ya=typeof document>"u"?null:document;function cy(t,i,a){var l=Ya;if(l&&typeof i=="string"&&i){var h=lt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),uy.has(h)||(uy.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),qt(i,"link",t),nt(i),l.head.appendChild(i)))}}function hA(t){Qi.D(t),cy("dns-prefetch",t,null)}function fA(t,i){Qi.C(t,i),cy("preconnect",t,i)}function dA(t,i,a){Qi.L(t,i,a);var l=Ya;if(l&&t&&i){var h='link[rel="preload"][as="'+lt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+lt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+lt(a.imageSizes)+'"]')):h+='[href="'+lt(t)+'"]';var d=h;switch(i){case"style":d=Xa(t);break;case"script":d=Wa(t)}Un.has(d)||(t=I({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Un.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Sl(d))||i==="script"&&l.querySelector(Al(d))||(i=l.createElement("link"),qt(i,"link",t),nt(i),l.head.appendChild(i)))}}function mA(t,i){Qi.m(t,i);var a=Ya;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+lt(l)+'"][href="'+lt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Wa(t)}if(!Un.has(d)&&(t=I({rel:"modulepreload",href:t},i),Un.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Al(d)))return}l=a.createElement("link"),qt(l,"link",t),nt(l),a.head.appendChild(l)}}}function pA(t,i,a){Qi.S(t,i,a);var l=Ya;if(l&&t){var h=Er(l).hoistableStyles,d=Xa(t);i=i||"default";var v=h.get(d);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(Sl(d)))S.loading=5;else{t=I({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Un.get(d))&&Od(t,a);var C=v=l.createElement("link");nt(C),qt(C,"link",t),C._p=new Promise(function(k,$){C.onload=k,C.onerror=$}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,wc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:S},h.set(d,v)}}}function gA(t,i){Qi.X(t,i);var a=Ya;if(a&&t){var l=Er(a).hoistableScripts,h=Wa(t),d=l.get(h);d||(d=a.querySelector(Al(h)),d||(t=I({src:t,async:!0},i),(i=Un.get(h))&&Md(t,i),d=a.createElement("script"),nt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function _A(t,i){Qi.M(t,i);var a=Ya;if(a&&t){var l=Er(a).hoistableScripts,h=Wa(t),d=l.get(h);d||(d=a.querySelector(Al(h)),d||(t=I({src:t,async:!0,type:"module"},i),(i=Un.get(h))&&Md(t,i),d=a.createElement("script"),nt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function hy(t,i,a,l){var h=(h=Sn.current)?Ac(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Xa(a.href),a=Er(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Xa(a.href);var d=Er(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Sl(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Un.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(t,a),d||yA(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Wa(a),a=Er(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Xa(t){return'href="'+lt(t)+'"'}function Sl(t){return'link[rel="stylesheet"]['+t+"]"}function fy(t){return I({},t,{"data-precedence":t.precedence,precedence:null})}function yA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),qt(i,"link",a),nt(i),t.head.appendChild(i))}function Wa(t){return'[src="'+lt(t)+'"]'}function Al(t){return"script[async]"+t}function dy(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+lt(a.href)+'"]');if(l)return i.instance=l,nt(l),l;var h=I({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),nt(l),qt(l,"style",h),wc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Xa(a.href);var d=t.querySelector(Sl(h));if(d)return i.state.loading|=4,i.instance=d,nt(d),d;l=fy(a),(h=Un.get(h))&&Od(l,h),d=(t.ownerDocument||t).createElement("link"),nt(d);var v=d;return v._p=new Promise(function(S,C){v.onload=S,v.onerror=C}),qt(d,"link",l),i.state.loading|=4,wc(d,a.precedence,t),i.instance=d;case"script":return d=Wa(a.src),(h=t.querySelector(Al(d)))?(i.instance=h,nt(h),h):(l=a,(h=Un.get(d))&&(l=I({},a),Md(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),nt(h),qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,wc(l,a.precedence,t));return i.instance}function wc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Od(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Md(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var bc=null;function my(t,i,a){if(bc===null){var l=new Map,h=bc=new Map;h.set(a,l)}else h=bc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[yr]||d[Mt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var S=l.get(v);S?S.push(d):l.set(v,[d])}}return l}function py(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function vA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function gy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var wl=null;function EA(){}function TA(t,i,a){if(wl===null)throw Error(s(475));var l=wl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Xa(a.href),d=t.querySelector(Sl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Rc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,nt(d);return}d=t.ownerDocument||t,a=fy(a),(h=Un.get(h))&&Od(a,h),d=d.createElement("link"),nt(d);var v=d;v._p=new Promise(function(S,C){v.onload=S,v.onerror=C}),qt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Rc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function SA(){if(wl===null)throw Error(s(475));var t=wl;return t.stylesheets&&t.count===0&&Vd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Vd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Rc(){if(this.count--,this.count===0){if(this.stylesheets)Vd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Cc=null;function Vd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Cc=new Map,i.forEach(AA,t),Cc=null,Rc.call(t))}function AA(t,i){if(!(i.state.loading&4)){var a=Cc.get(t);if(a)var l=a.get(null);else{a=new Map,Cc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Rc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var bl={$$typeof:P,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function wA(t,i,a,l,h,d,v,S){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fa(0),this.hiddenUpdates=fa(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function _y(t,i,a,l,h,d,v,S,C,k,$,Z){return t=new wA(t,i,a,v,S,C,k,Z),i=1,d===!0&&(i|=24),d=Pn(3,null,null,i),t.current=d,d.stateNode=t,i=ff(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Kf(d),t}function yy(t){return t?(t=Da,t):Da}function vy(t,i,a,l,h,d){h=yy(h),l.context===null?l.context=h:l.pendingContext=h,l=Mr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Vr(t,l,i),a!==null&&(an(a,t,i),ll(a,t,i))}function Ey(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function kd(t,i){Ey(t,i),(t=t.alternate)&&Ey(t,i)}function Ty(t){if(t.tag===13){var i=Rr(t,67108864);i!==null&&an(i,t,67108864),kd(t,67108864)}}var Ic=!0;function bA(t,i,a,l){var h=w.T;w.T=null;var d=ae.p;try{ae.p=2,Pd(t,i,a,l)}finally{ae.p=d,w.T=h}}function RA(t,i,a,l){var h=w.T;w.T=null;var d=ae.p;try{ae.p=8,Pd(t,i,a,l)}finally{ae.p=d,w.T=h}}function Pd(t,i,a,l){if(Ic){var h=Ld(l);if(h===null)wd(t,i,l,Dc,a),Ay(t,l);else if(IA(h,t,i,a,l))l.stopPropagation();else if(Ay(t,l),i&4&&-1<CA.indexOf(t)){for(;h!==null;){var d=Ri(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Bn(d.pendingLanes);if(v!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var C=1<<31-tn(v);S.entanglements[1]|=C,v&=~C}ci(d),(rt&6)===0&&(fc=ln()+500,vl(0))}}break;case 13:S=Rr(d,2),S!==null&&an(S,d,2),pc(),kd(d,2)}if(d=Ld(l),d===null&&wd(t,i,l,Dc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else wd(t,i,l,null,a)}}function Ld(t){return t=_a(t),Ud(t)}var Dc=null;function Ud(t){if(Dc=null,t=Hn(t),t!==null){var i=me(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=Ge(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Dc=t,null}function Sy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mu()){case At:return 2;case Ot:return 8;case wi:case pu:return 32;case Co:return 268435456;default:return 32}default:return 32}}var jd=!1,Br=null,Hr=null,qr=null,Rl=new Map,Cl=new Map,Fr=[],CA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ay(t,i){switch(t){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":Rl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(i.pointerId)}}function Il(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Ri(i),i!==null&&Ty(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function IA(t,i,a,l,h){switch(i){case"focusin":return Br=Il(Br,t,i,a,l,h),!0;case"dragenter":return Hr=Il(Hr,t,i,a,l,h),!0;case"mouseover":return qr=Il(qr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Rl.set(d,Il(Rl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Cl.set(d,Il(Cl.get(d)||null,t,i,a,l,h)),!0}return!1}function wy(t){var i=Hn(t.target);if(i!==null){var a=me(i);if(a!==null){if(i=a.tag,i===13){if(i=Ge(a),i!==null){t.blockedOn=i,_r(t.priority,function(){if(a.tag===13){var l=vn(),h=Rr(a,l);h!==null&&an(h,a,l),kd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function xc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Ld(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Rn=l,a.target.dispatchEvent(l),Rn=null}else return i=Ri(a),i!==null&&Ty(i),t.blockedOn=a,!1;i.shift()}return!0}function by(t,i,a){xc(t)&&a.delete(i)}function DA(){jd=!1,Br!==null&&xc(Br)&&(Br=null),Hr!==null&&xc(Hr)&&(Hr=null),qr!==null&&xc(qr)&&(qr=null),Rl.forEach(by),Cl.forEach(by)}function Nc(t,i){t.blockedOn===i&&(t.blockedOn=null,jd||(jd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,DA)))}var Oc=null;function Ry(t){Oc!==t&&(Oc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Oc===t&&(Oc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Ud(l||a)===null)continue;break}var d=Ri(a);d!==null&&(t.splice(i,3),i-=3,If(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Dl(t){function i(C){return Nc(C,t)}Br!==null&&Nc(Br,t),Hr!==null&&Nc(Hr,t),qr!==null&&Nc(qr,t),Rl.forEach(i),Cl.forEach(i);for(var a=0;a<Fr.length;a++){var l=Fr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Fr.length&&(a=Fr[0],a.blockedOn===null);)wy(a),a.blockedOn===null&&Fr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[wt]||null;if(typeof d=="function")v||Ry(a);else if(v){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[wt]||null)S=v.formAction;else if(Ud(h)!==null)continue}else S=v.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),Ry(a)}}}function zd(t){this._internalRoot=t}Mc.prototype.render=zd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=vn();vy(a,l,t,i,null,null)},Mc.prototype.unmount=zd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&Ka(),vy(t.current,2,null,t,null,null),pc(),i[bi]=null}};function Mc(t){this._internalRoot=t}Mc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Eu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Fr.length&&i!==0&&i<Fr[a].priority;a++);Fr.splice(a,0,t),a===0&&wy(t)}};var Cy=e.version;if(Cy!=="19.0.0")throw Error(s(527,Cy,"19.0.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=te(i),t=t!==null?he(t):null,t=t===null?null:t.stateNode,t};var xA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:w,findFiberByHostInstance:Hn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{hr=Vc.inject(xA),$t=Vc}catch{}}return Nl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Fg,d=Gg,v=Kg,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=_y(t,1,!1,null,null,a,l,h,d,v,S,null),t[bi]=i.current,Ad(t.nodeType===8?t.parentNode:t),new zd(i)},Nl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Fg,v=Gg,S=Kg,C=null,k=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(k=a.formState)),i=_y(t,1,!0,i,a??null,l,h,d,v,S,C,k),i.context=yy(null),a=i.current,l=vn(),h=Mr(l),h.callback=null,Vr(a,h,l),i.current.lanes=l,dt(i,l),ci(i),t[bi]=i.current,Ad(t),new Mc(i)},Nl.version="19.0.0",Nl}var Ly;function zA(){if(Ly)return qd.exports;Ly=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),qd.exports=jA(),qd.exports}var BA=zA(),Ol={},Uy;function HA(){if(Uy)return Ol;Uy=1,Object.defineProperty(Ol,"__esModule",{value:!0}),Ol.parse=f,Ol.serialize=_;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const x=function(){};return x.prototype=Object.create(null),x})();function f(x,P){const z=new u,Y=x.length;if(Y<2)return z;const q=(P==null?void 0:P.decode)||T;let Q=0;do{const ne=x.indexOf("=",Q);if(ne===-1)break;const ee=x.indexOf(";",Q),pe=ee===-1?Y:ee;if(ne>pe){Q=x.lastIndexOf(";",ne-1)+1;continue}const ue=m(x,Q,ne),be=p(x,ne,ue),M=x.slice(ue,be);if(z[M]===void 0){let R=m(x,ne+1,pe),w=p(x,pe,R);const I=q(x.slice(R,w));z[M]=I}Q=pe+1}while(Q<Y);return z}function m(x,P,z){do{const Y=x.charCodeAt(P);if(Y!==32&&Y!==9)return P}while(++P<z);return z}function p(x,P,z){for(;P>z;){const Y=x.charCodeAt(--P);if(Y!==32&&Y!==9)return P+1}return z}function _(x,P,z){const Y=(z==null?void 0:z.encode)||encodeURIComponent;if(!r.test(x))throw new TypeError(`argument name is invalid: ${x}`);const q=Y(P);if(!e.test(q))throw new TypeError(`argument val is invalid: ${P}`);let Q=x+"="+q;if(!z)return Q;if(z.maxAge!==void 0){if(!Number.isInteger(z.maxAge))throw new TypeError(`option maxAge is invalid: ${z.maxAge}`);Q+="; Max-Age="+z.maxAge}if(z.domain){if(!n.test(z.domain))throw new TypeError(`option domain is invalid: ${z.domain}`);Q+="; Domain="+z.domain}if(z.path){if(!s.test(z.path))throw new TypeError(`option path is invalid: ${z.path}`);Q+="; Path="+z.path}if(z.expires){if(!b(z.expires)||!Number.isFinite(z.expires.valueOf()))throw new TypeError(`option expires is invalid: ${z.expires}`);Q+="; Expires="+z.expires.toUTCString()}if(z.httpOnly&&(Q+="; HttpOnly"),z.secure&&(Q+="; Secure"),z.partitioned&&(Q+="; Partitioned"),z.priority)switch(typeof z.priority=="string"?z.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${z.priority}`)}if(z.sameSite)switch(typeof z.sameSite=="string"?z.sameSite.toLowerCase():z.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${z.sameSite}`)}return Q}function T(x){if(x.indexOf("%")===-1)return x;try{return decodeURIComponent(x)}catch{return x}}function b(x){return o.call(x)==="[object Date]"}return Ol}HA();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var jy="popstate";function qA(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return am("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Gl(o)}return GA(e,n,null,r)}function st(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function _i(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FA(){return Math.random().toString(36).substring(2,10)}function zy(r,e){return{usr:r.state,key:r.key,idx:e}}function am(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?go(e):e,state:n,key:e&&e.key||s||FA()}}function Gl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function go(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function GA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,_=T();_==null&&(_=0,f.replaceState({...f.state,idx:_},""));function T(){return(f.state||{idx:null}).idx}function b(){m="POP";let q=T(),Q=q==null?null:q-_;_=q,p&&p({action:m,location:Y.location,delta:Q})}function x(q,Q){m="PUSH";let ne=am(Y.location,q,Q);_=T()+1;let ee=zy(ne,_),pe=Y.createHref(ne);try{f.pushState(ee,"",pe)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(pe)}u&&p&&p({action:m,location:Y.location,delta:1})}function P(q,Q){m="REPLACE";let ne=am(Y.location,q,Q);_=T();let ee=zy(ne,_),pe=Y.createHref(ne);f.replaceState(ee,"",pe),u&&p&&p({action:m,location:Y.location,delta:0})}function z(q){let Q=o.location.origin!=="null"?o.location.origin:o.location.href,ne=typeof q=="string"?q:Gl(q);return ne=ne.replace(/ $/,"%20"),st(Q,`No window.location.(origin|href) available to create URL for href: ${ne}`),new URL(ne,Q)}let Y={get action(){return m},get location(){return r(o,f)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(jy,b),p=q,()=>{o.removeEventListener(jy,b),p=null}},createHref(q){return e(o,q)},createURL:z,encodeLocation(q){let Q=z(q);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:x,replace:P,go(q){return f.go(q)}};return Y}function pE(r,e,n="/"){return KA(r,e,n,!1)}function KA(r,e,n,s){let o=typeof e=="string"?go(e):e,u=ir(o.pathname||"/",n);if(u==null)return null;let f=gE(r);$A(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let _=rw(u);m=nw(f[p],_,s)}return m}function gE(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(st(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let _=Ji([s,p.relativePath]),T=n.concat(p);u.children&&u.children.length>0&&(st(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),gE(u.children,e,T,_)),!(u.path==null&&!u.index)&&e.push({path:_,score:ew(_,u.index),routesMeta:T})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of _E(u.path))o(u,f,p)}),e}function _E(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=_E(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function $A(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:tw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var QA=/^:[\w-]+$/,YA=3,XA=2,WA=1,ZA=10,JA=-2,By=r=>r==="*";function ew(r,e){let n=r.split("/"),s=n.length;return n.some(By)&&(s+=JA),e&&(s+=XA),n.filter(o=>!By(o)).reduce((o,u)=>o+(QA.test(u)?YA:u===""?WA:ZA),s)}function tw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function nw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],_=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",b=eh({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},T),x=p.route;if(!b&&_&&n&&!s[s.length-1].route.index&&(b=eh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:Ji([u,b.pathname]),pathnameBase:lw(Ji([u,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(u=Ji([u,b.pathnameBase]))}return f}function eh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=iw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((_,{paramName:T,isOptional:b},x)=>{if(T==="*"){let z=m[x]||"";f=u.slice(0,u.length-z.length).replace(/(.)\/+$/,"$1")}const P=m[x];return b&&!P?_[T]=void 0:_[T]=(P||"").replace(/%2F/g,"/"),_},{}),pathname:u,pathnameBase:f,pattern:r}}function iw(r,e=!1,n=!0){_i(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function rw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _i(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ir(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function sw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?go(r):r;return{pathname:n?n.startsWith("/")?n:aw(n,e):e,search:uw(s),hash:cw(o)}}function aw(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function $d(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ow(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yE(r){let e=ow(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function vE(r,e,n,s=!1){let o;typeof r=="string"?o=go(r):(o={...r},st(!o.pathname||!o.pathname.includes("?"),$d("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),$d("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),$d("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),b-=1;o.pathname=x.join("/")}m=b>=0?e[b]:"/"}let p=sw(o,m),_=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(_||T)&&(p.pathname+="/"),p}var Ji=r=>r.join("/").replace(/\/\/+/g,"/"),lw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),uw=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,cw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function hw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var EE=["POST","PUT","PATCH","DELETE"];new Set(EE);var fw=["GET",...EE];new Set(fw);var _o=G.createContext(null);_o.displayName="DataRouter";var Eh=G.createContext(null);Eh.displayName="DataRouterState";var TE=G.createContext({isTransitioning:!1});TE.displayName="ViewTransition";var dw=G.createContext(new Map);dw.displayName="Fetchers";var mw=G.createContext(null);mw.displayName="Await";var Ei=G.createContext(null);Ei.displayName="Navigation";var tu=G.createContext(null);tu.displayName="Location";var Ti=G.createContext({outlet:null,matches:[],isDataRoute:!1});Ti.displayName="Route";var Mm=G.createContext(null);Mm.displayName="RouteError";function pw(r,{relative:e}={}){st(nu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=G.useContext(Ei),{hash:o,pathname:u,search:f}=iu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:Ji([n,u])),s.createHref({pathname:m,search:f,hash:o})}function nu(){return G.useContext(tu)!=null}function ta(){return st(nu(),"useLocation() may be used only in the context of a <Router> component."),G.useContext(tu).location}var SE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function AE(r){G.useContext(Ei).static||G.useLayoutEffect(r)}function na(){let{isDataRoute:r}=G.useContext(Ti);return r?xw():gw()}function gw(){st(nu(),"useNavigate() may be used only in the context of a <Router> component.");let r=G.useContext(_o),{basename:e,navigator:n}=G.useContext(Ei),{matches:s}=G.useContext(Ti),{pathname:o}=ta(),u=JSON.stringify(yE(s)),f=G.useRef(!1);return AE(()=>{f.current=!0}),G.useCallback((p,_={})=>{if(_i(f.current,SE),!f.current)return;if(typeof p=="number"){n.go(p);return}let T=vE(p,JSON.parse(u),o,_.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Ji([e,T.pathname])),(_.replace?n.replace:n.push)(T,_.state,_)},[e,n,u,o,r])}var _w=G.createContext(null);function yw(r){let e=G.useContext(Ti).outlet;return e&&G.createElement(_w.Provider,{value:r},e)}function iu(r,{relative:e}={}){let{matches:n}=G.useContext(Ti),{pathname:s}=ta(),o=JSON.stringify(yE(n));return G.useMemo(()=>vE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function vw(r,e){return wE(r,e)}function wE(r,e,n,s){var ne;st(nu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=G.useContext(Ei),{matches:f}=G.useContext(Ti),m=f[f.length-1],p=m?m.params:{},_=m?m.pathname:"/",T=m?m.pathnameBase:"/",b=m&&m.route;{let ee=b&&b.path||"";bE(_,!b||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let x=ta(),P;if(e){let ee=typeof e=="string"?go(e):e;st(T==="/"||((ne=ee.pathname)==null?void 0:ne.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),P=ee}else P=x;let z=P.pathname||"/",Y=z;if(T!=="/"){let ee=T.replace(/^\//,"").split("/");Y="/"+z.replace(/^\//,"").split("/").slice(ee.length).join("/")}let q=!u&&n&&n.matches&&n.matches.length>0?n.matches:pE(r,{pathname:Y});_i(b||q!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),_i(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Q=ww(q&&q.map(ee=>Object.assign({},ee,{params:Object.assign({},p,ee.params),pathname:Ji([T,o.encodeLocation?o.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?T:Ji([T,o.encodeLocation?o.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),f,n,s);return e&&Q?G.createElement(tu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},Q):Q}function Ew(){let r=Dw(),e=hw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=G.createElement(G.Fragment,null,G.createElement("p",null," Hey developer "),G.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",G.createElement("code",{style:u},"ErrorBoundary")," or"," ",G.createElement("code",{style:u},"errorElement")," prop on your route.")),G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),n?G.createElement("pre",{style:o},n):null,f)}var Tw=G.createElement(Ew,null),Sw=class extends G.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?G.createElement(Ti.Provider,{value:this.props.routeContext},G.createElement(Mm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Aw({routeContext:r,match:e,children:n}){let s=G.useContext(_o);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),G.createElement(Ti.Provider,{value:r},n)}function ww(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);st(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let _=o[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=p),_.route.id){let{loaderData:T,errors:b}=n,x=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!b||b[_.route.id]===void 0);if(_.route.lazy||x){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,_,T)=>{let b,x=!1,P=null,z=null;n&&(b=u&&_.route.id?u[_.route.id]:void 0,P=_.route.errorElement||Tw,f&&(m<0&&T===0?(bE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),x=!0,z=null):m===T&&(x=!0,z=_.route.hydrateFallbackElement||null)));let Y=e.concat(o.slice(0,T+1)),q=()=>{let Q;return b?Q=P:x?Q=z:_.route.Component?Q=G.createElement(_.route.Component,null):_.route.element?Q=_.route.element:Q=p,G.createElement(Aw,{match:_,routeContext:{outlet:p,matches:Y,isDataRoute:n!=null},children:Q})};return n&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?G.createElement(Sw,{location:n.location,revalidation:n.revalidation,component:P,error:b,children:q(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):q()},null)}function Vm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function bw(r){let e=G.useContext(_o);return st(e,Vm(r)),e}function Rw(r){let e=G.useContext(Eh);return st(e,Vm(r)),e}function Cw(r){let e=G.useContext(Ti);return st(e,Vm(r)),e}function km(r){let e=Cw(r),n=e.matches[e.matches.length-1];return st(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Iw(){return km("useRouteId")}function Dw(){var s;let r=G.useContext(Mm),e=Rw("useRouteError"),n=km("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function xw(){let{router:r}=bw("useNavigate"),e=km("useNavigate"),n=G.useRef(!1);return AE(()=>{n.current=!0}),G.useCallback(async(o,u={})=>{_i(n.current,SE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Hy={};function bE(r,e,n){!e&&!Hy[r]&&(Hy[r]=!0,_i(!1,n))}G.memo(Nw);function Nw({routes:r,future:e,state:n}){return wE(r,void 0,n,e)}function Ow(r){return yw(r.context)}function hi(r){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Mw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){st(!nu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=G.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=go(n));let{pathname:p="/",search:_="",hash:T="",state:b=null,key:x="default"}=n,P=G.useMemo(()=>{let z=ir(p,f);return z==null?null:{location:{pathname:z,search:_,hash:T,state:b,key:x},navigationType:s}},[f,p,_,T,b,x,s]);return _i(P!=null,`<Router basename="${f}"> is not able to match the URL "${p}${_}${T}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:G.createElement(Ei.Provider,{value:m},G.createElement(tu.Provider,{children:e,value:P}))}function Vw({children:r,location:e}){return vw(om(r),e)}function om(r,e=[]){let n=[];return G.Children.forEach(r,(s,o)=>{if(!G.isValidElement(s))return;let u=[...e,o];if(s.type===G.Fragment){n.push.apply(n,om(s.props.children,u));return}st(s.type===hi,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=om(s.props.children,u)),n.push(f)}),n}var Hc="get",qc="application/x-www-form-urlencoded";function Th(r){return r!=null&&typeof r.tagName=="string"}function kw(r){return Th(r)&&r.tagName.toLowerCase()==="button"}function Pw(r){return Th(r)&&r.tagName.toLowerCase()==="form"}function Lw(r){return Th(r)&&r.tagName.toLowerCase()==="input"}function Uw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function jw(r,e){return r.button===0&&(!e||e==="_self")&&!Uw(r)}var kc=null;function zw(){if(kc===null)try{new FormData(document.createElement("form"),0),kc=!1}catch{kc=!0}return kc}var Bw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Qd(r){return r!=null&&!Bw.has(r)?(_i(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${qc}"`),null):r}function Hw(r,e){let n,s,o,u,f;if(Pw(r)){let m=r.getAttribute("action");s=m?ir(m,e):null,n=r.getAttribute("method")||Hc,o=Qd(r.getAttribute("enctype"))||qc,u=new FormData(r)}else if(kw(r)||Lw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?ir(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Hc,o=Qd(r.getAttribute("formenctype"))||Qd(m.getAttribute("enctype"))||qc,u=new FormData(m,r),!zw()){let{name:_,type:T,value:b}=r;if(T==="image"){let x=_?`${_}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else _&&u.append(_,b)}}else{if(Th(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Hc,s=null,o=qc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Pm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function qw(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Fw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Gw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await qw(u,n);return f.links?f.links():[]}return[]}));return Yw(s.flat(1).filter(Fw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function qy(r,e,n,s,o,u){let f=(p,_)=>n[_]?p.route.id!==n[_].route.id:!0,m=(p,_)=>{var T;return n[_].pathname!==p.pathname||((T=n[_].route.path)==null?void 0:T.endsWith("*"))&&n[_].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,_)=>f(p,_)||m(p,_)):u==="data"?e.filter((p,_)=>{var b;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,_)||m(p,_))return!0;if(p.route.shouldRevalidate){let x=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function Kw(r,e,{includeHydrateFallback:n}={}){return $w(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function $w(r){return[...new Set(r)]}function Qw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Yw(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(Qw(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function Xw(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&ir(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function RE(){let r=G.useContext(_o);return Pm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Ww(){let r=G.useContext(Eh);return Pm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Lm=G.createContext(void 0);Lm.displayName="FrameworkContext";function CE(){let r=G.useContext(Lm);return Pm(r,"You must render this element inside a <HydratedRouter> element"),r}function Zw(r,e){let n=G.useContext(Lm),[s,o]=G.useState(!1),[u,f]=G.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:_,onMouseLeave:T,onTouchStart:b}=e,x=G.useRef(null);G.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Y=Q=>{Q.forEach(ne=>{f(ne.isIntersecting)})},q=new IntersectionObserver(Y,{threshold:.5});return x.current&&q.observe(x.current),()=>{q.disconnect()}}},[r]),G.useEffect(()=>{if(s){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let P=()=>{o(!0)},z=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,x,{}]:[u,x,{onFocus:Ml(m,P),onBlur:Ml(p,z),onMouseEnter:Ml(_,P),onMouseLeave:Ml(T,z),onTouchStart:Ml(b,P)}]:[!1,x,{}]}function Ml(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Jw({page:r,...e}){let{router:n}=RE(),s=G.useMemo(()=>pE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?G.createElement(tb,{page:r,matches:s,...e}):null}function eb(r){let{manifest:e,routeModules:n}=CE(),[s,o]=G.useState([]);return G.useEffect(()=>{let u=!1;return Gw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function tb({page:r,matches:e,...n}){let s=ta(),{manifest:o,routeModules:u}=CE(),{basename:f}=RE(),{loaderData:m,matches:p}=Ww(),_=G.useMemo(()=>qy(r,e,p,o,s,"data"),[r,e,p,o,s]),T=G.useMemo(()=>qy(r,e,p,o,s,"assets"),[r,e,p,o,s]),b=G.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let z=new Set,Y=!1;if(e.forEach(Q=>{var ee;let ne=o.routes[Q.route.id];!ne||!ne.hasLoader||(!_.some(pe=>pe.route.id===Q.route.id)&&Q.route.id in m&&((ee=u[Q.route.id])!=null&&ee.shouldRevalidate)||ne.hasClientLoader?Y=!0:z.add(Q.route.id))}),z.size===0)return[];let q=Xw(r,f);return Y&&z.size>0&&q.searchParams.set("_routes",e.filter(Q=>z.has(Q.route.id)).map(Q=>Q.route.id).join(",")),[q.pathname+q.search]},[f,m,s,o,_,e,r,u]),x=G.useMemo(()=>Kw(T,o),[T,o]),P=eb(T);return G.createElement(G.Fragment,null,b.map(z=>G.createElement("link",{key:z,rel:"prefetch",as:"fetch",href:z,...n})),x.map(z=>G.createElement("link",{key:z,rel:"modulepreload",href:z,...n})),P.map(({key:z,link:Y})=>G.createElement("link",{key:z,...Y})))}function nb(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var IE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{IE&&(window.__reactRouterVersion="7.3.0")}catch{}function ib({basename:r,children:e,window:n}){let s=G.useRef();s.current==null&&(s.current=qA({window:n,v5Compat:!0}));let o=s.current,[u,f]=G.useState({action:o.action,location:o.location}),m=G.useCallback(p=>{G.startTransition(()=>f(p))},[f]);return G.useLayoutEffect(()=>o.listen(m),[o,m]),G.createElement(Mw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var DE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=G.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:_,preventScrollReset:T,viewTransition:b,...x},P){let{basename:z}=G.useContext(Ei),Y=typeof _=="string"&&DE.test(_),q,Q=!1;if(typeof _=="string"&&Y&&(q=_,IE))try{let w=new URL(window.location.href),I=_.startsWith("//")?new URL(w.protocol+_):new URL(_),V=ir(I.pathname,z);I.origin===w.origin&&V!=null?_=V+I.search+I.hash:Q=!0}catch{_i(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=pw(_,{relative:o}),[ee,pe,ue]=Zw(s,x),be=ob(_,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:b});function M(w){e&&e(w),w.defaultPrevented||be(w)}let R=G.createElement("a",{...x,...ue,href:q||ne,onClick:Q||u?e:M,ref:nb(P,pe),target:p,"data-discover":!Y&&n==="render"?"true":void 0});return ee&&!Y?G.createElement(G.Fragment,null,R,G.createElement(Jw,{page:ne})):R});Te.displayName="Link";var rb=G.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,..._},T){let b=iu(f,{relative:_.relative}),x=ta(),P=G.useContext(Eh),{navigator:z,basename:Y}=G.useContext(Ei),q=P!=null&&fb(b)&&m===!0,Q=z.encodeLocation?z.encodeLocation(b).pathname:b.pathname,ne=x.pathname,ee=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),ee=ee?ee.toLowerCase():null,Q=Q.toLowerCase()),ee&&Y&&(ee=ir(ee,Y)||ee);const pe=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let ue=ne===Q||!o&&ne.startsWith(Q)&&ne.charAt(pe)==="/",be=ee!=null&&(ee===Q||!o&&ee.startsWith(Q)&&ee.charAt(Q.length)==="/"),M={isActive:ue,isPending:be,isTransitioning:q},R=ue?e:void 0,w;typeof s=="function"?w=s(M):w=[s,ue?"active":null,be?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let I=typeof u=="function"?u(M):u;return G.createElement(Te,{..._,"aria-current":R,className:w,ref:T,style:I,to:f,viewTransition:m},typeof p=="function"?p(M):p)});rb.displayName="NavLink";var sb=G.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Hc,action:m,onSubmit:p,relative:_,preventScrollReset:T,viewTransition:b,...x},P)=>{let z=cb(),Y=hb(m,{relative:_}),q=f.toLowerCase()==="get"?"get":"post",Q=typeof m=="string"&&DE.test(m),ne=ee=>{if(p&&p(ee),ee.defaultPrevented)return;ee.preventDefault();let pe=ee.nativeEvent.submitter,ue=(pe==null?void 0:pe.getAttribute("formmethod"))||f;z(pe||ee.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:o,state:u,relative:_,preventScrollReset:T,viewTransition:b})};return G.createElement("form",{ref:P,method:q,action:Y,onSubmit:s?p:ne,...x,"data-discover":!Q&&r==="render"?"true":void 0})});sb.displayName="Form";function ab(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function xE(r){let e=G.useContext(_o);return st(e,ab(r)),e}function ob(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=na(),p=ta(),_=iu(r,{relative:u});return G.useCallback(T=>{if(jw(T,e)){T.preventDefault();let b=n!==void 0?n:Gl(p)===Gl(_);m(r,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,_,n,s,e,r,o,u,f])}var lb=0,ub=()=>`__${String(++lb)}__`;function cb(){let{router:r}=xE("useSubmit"),{basename:e}=G.useContext(Ei),n=Iw();return G.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:_}=Hw(s,e);if(o.navigate===!1){let T=o.fetcherKey||ub();await r.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function hb(r,{relative:e}={}){let{basename:n}=G.useContext(Ei),s=G.useContext(Ti);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...iu(r||".",{relative:e})},f=ta();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:Ji([n,u.pathname])),Gl(u)}function fb(r,e={}){let n=G.useContext(TE);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=xE("useViewTransitionState"),o=iu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=ir(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ir(n.nextLocation.pathname,s)||n.nextLocation.pathname;return eh(o.pathname,f)!=null||eh(o.pathname,u)!=null}new TextEncoder;const db="_container_pir9d_11",mb="_main_pir9d_29",pb="_logo_pir9d_43",gb="_h2_pir9d_51",_b="_happening_pir9d_61",yb="_nav_pir9d_73",vb="_button_pir9d_87",Eb="_awesome_pir9d_123",Tb="_separator_pir9d_229",Sb="_hr_pir9d_251",Ab="_terms_pir9d_259",wb="_ul_pir9d_277",bb="_li_pir9d_303",Rb="_flexli_pir9d_311",Oe={container:db,main:mb,logo:pb,h2:gb,happening:_b,nav:yb,button:vb,awesome:Eb,separator:Tb,hr:Sb,terms:Ab,ul:wb,li:bb,flexli:Rb};function Cb(){return E.jsxs("div",{className:Oe.container,children:[E.jsxs("main",{className:Oe.main,children:[E.jsx("h1",{className:Oe.logo,children:"At"}),E.jsxs("div",{children:[E.jsx("h1",{className:Oe.happening,children:"Happening now"}),E.jsx("h2",{className:Oe.h2,children:"Join Today."}),E.jsxs("nav",{className:Oe.nav,children:[E.jsxs(Te,{className:`${Oe.button} ${Oe.awesome}`,children:[E.jsx("i",{className:"fa-brands fa-google"}),"Sign up with Google"]}),E.jsxs(Te,{className:`${Oe.button} ${Oe.awesome}`,children:[E.jsx("i",{className:"fa-brands fa-apple"}),"Sign up with Apple"]}),E.jsxs("div",{className:Oe.separator,children:[E.jsx("hr",{className:Oe.hr}),E.jsx("p",{children:"or"}),E.jsx("hr",{className:Oe.hr})]}),E.jsx(Te,{to:"/react-regular-exam/create",className:Oe.button,children:"Create account"}),E.jsxs("p",{className:Oe.terms,children:["By signing up, you agree of the ",E.jsx("a",{href:"#",children:"Term of Service"}),"and ",E.jsx("a",{href:"#",children:"Privacy Policy"}),", incliding ",E.jsx("a",{href:"#",children:"Cookie Use."})]}),E.jsx("p",{id:"account",children:"Already have an account?"}),E.jsx(Te,{to:"/react-regular-exam/login",className:Oe.button,children:"Sign in"}),E.jsx("p",{children:"Take a look:"}),E.jsx(Te,{to:"/react-regular-exam/guest",className:Oe.button,children:"Guest"})]})]})]}),E.jsx("footer",{children:E.jsxs("ul",{className:Oe.ul,children:[E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"About"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"Download the At app"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"Help Center"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"Terms of Service"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"Privacy Policy"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"Cookie Policy"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"Accessibillity"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"Ads Info"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"Blog"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"Careers"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"Brand Resources"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"Advertising"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"Marketing"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"At for Business"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"Developers"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"Directory"})}),E.jsx("li",{className:Oe.li,children:E.jsx(Te,{to:"#",children:"Settings"})}),E.jsx("li",{className:Oe.li,children:E.jsxs(Te,{to:"#",className:Oe.flexli,href:"#",children:[E.jsx("i",{className:"fa-regular fa-copyright"}),"2025 X Corp"]})})]})})]})}const Ib="_container_t0tol_1",Db="_nav_t0tol_15",xb="_i_t0tol_25",Nb="_main_t0tol_125",Ob="_search_t0tol_143",Mb="_meta_t0tol_181",Vb="_post_t0tol_211",kb="_feedback_t0tol_245",hn={container:Ib,nav:Db,i:xb,main:Nb,search:Ob,meta:Mb,post:Vb,feedback:kb},Pb=()=>{};var Fy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Lb=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},OE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,_=p?r[o+2]:0,T=u>>2,b=(u&3)<<4|m>>4;let x=(m&15)<<2|_>>6,P=_&63;p||(P=64,f||(x=64)),s.push(n[T],n[b],n[x],n[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(NE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Lb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const _=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||_==null||b==null)throw new Ub;const x=u<<2|m>>4;if(s.push(x),_!==64){const P=m<<4&240|_>>2;if(s.push(P),b!==64){const z=_<<6&192|b;s.push(z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Ub extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jb=function(r){const e=NE(r);return OE.encodeByteArray(e,!0)},th=function(r){return jb(r).replace(/\./g,"")},ME=function(r){try{return OE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bb=()=>zb().__FIREBASE_DEFAULTS__,Hb=()=>{if(typeof process>"u"||typeof Fy>"u")return;const r=Fy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},qb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&ME(r[1]);return e&&JSON.parse(e)},Sh=()=>{try{return Pb()||Bb()||Hb()||qb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},VE=r=>{var e,n;return(n=(e=Sh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},Fb=r=>{const e=VE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},kE=()=>{var r;return(r=Sh())===null||r===void 0?void 0:r.config},PE=r=>{var e;return(e=Sh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[th(JSON.stringify(n)),th(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function $b(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function Qb(){var r;const e=(r=Sh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Yb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Xb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Wb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Zb(){const r=Jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Jb(){return!Qb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eR(){try{return typeof indexedDB=="object"}catch{return!1}}function tR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR="FirebaseError";class lr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=nR,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ru.prototype.create)}}class ru{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?iR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new lr(o,m,s)}}function iR(r,e){return r.replace(rR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const rR=/\{\$([^}]+)}/g;function sR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Qs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Gy(u)&&Gy(f)){if(!Qs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Gy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function su(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Vl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function kl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function aR(r,e){const n=new oR(r,e);return n.subscribe.bind(n)}class oR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");lR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Yd),o.error===void 0&&(o.error=Yd),o.complete===void 0&&(o.complete=Yd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Yd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(r){return r&&r._delegate?r._delegate:r}class Ys{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ks="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Gb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hR(e))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ks){return this.instances.has(e)}getOptions(e=Ks){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:cR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Ks){return this.component?this.component.multipleInstances?e:Ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cR(r){return r===Ks?void 0:r}function hR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const dR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},mR=Me.INFO,pR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},gR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=pR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Um{constructor(e){this.name=e,this._logLevel=mR,this._logHandler=gR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const _R=(r,e)=>e.some(n=>r instanceof n);let Ky,$y;function yR(){return Ky||(Ky=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vR(){return $y||($y=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LE=new WeakMap,lm=new WeakMap,UE=new WeakMap,Xd=new WeakMap,jm=new WeakMap;function ER(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(es(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&LE.set(n,r)}).catch(()=>{}),jm.set(e,r),e}function TR(r){if(lm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});lm.set(r,e)}let um={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return lm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||UE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function SR(r){um=r(um)}function AR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Wd(this),e,...n);return UE.set(s,e.sort?e.sort():[e]),es(s)}:vR().includes(r)?function(...e){return r.apply(Wd(this),e),es(LE.get(this))}:function(...e){return es(r.apply(Wd(this),e))}}function wR(r){return typeof r=="function"?AR(r):(r instanceof IDBTransaction&&TR(r),_R(r,yR())?new Proxy(r,um):r)}function es(r){if(r instanceof IDBRequest)return ER(r);if(Xd.has(r))return Xd.get(r);const e=wR(r);return e!==r&&(Xd.set(r,e),jm.set(e,r)),e}const Wd=r=>jm.get(r);function bR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=es(f);return s&&f.addEventListener("upgradeneeded",p=>{s(es(f.result),p.oldVersion,p.newVersion,es(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const RR=["get","getKey","getAll","getAllKeys","count"],CR=["put","add","delete","clear"],Zd=new Map;function Qy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Zd.get(e))return Zd.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=CR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||RR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),o&&p.done]))[0]};return Zd.set(e,u),u}SR(r=>({...r,get:(e,n,s)=>Qy(e,n)||r.get(e,n,s),has:(e,n)=>!!Qy(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(DR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function DR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cm="@firebase/app",Yy="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new Um("@firebase/app"),xR="@firebase/app-compat",NR="@firebase/analytics-compat",OR="@firebase/analytics",MR="@firebase/app-check-compat",VR="@firebase/app-check",kR="@firebase/auth",PR="@firebase/auth-compat",LR="@firebase/database",UR="@firebase/data-connect",jR="@firebase/database-compat",zR="@firebase/functions",BR="@firebase/functions-compat",HR="@firebase/installations",qR="@firebase/installations-compat",FR="@firebase/messaging",GR="@firebase/messaging-compat",KR="@firebase/performance",$R="@firebase/performance-compat",QR="@firebase/remote-config",YR="@firebase/remote-config-compat",XR="@firebase/storage",WR="@firebase/storage-compat",ZR="@firebase/firestore",JR="@firebase/vertexai",e1="@firebase/firestore-compat",t1="firebase",n1="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="[DEFAULT]",i1={[cm]:"fire-core",[xR]:"fire-core-compat",[OR]:"fire-analytics",[NR]:"fire-analytics-compat",[VR]:"fire-app-check",[MR]:"fire-app-check-compat",[kR]:"fire-auth",[PR]:"fire-auth-compat",[LR]:"fire-rtdb",[UR]:"fire-data-connect",[jR]:"fire-rtdb-compat",[zR]:"fire-fn",[BR]:"fire-fn-compat",[HR]:"fire-iid",[qR]:"fire-iid-compat",[FR]:"fire-fcm",[GR]:"fire-fcm-compat",[KR]:"fire-perf",[$R]:"fire-perf-compat",[QR]:"fire-rc",[YR]:"fire-rc-compat",[XR]:"fire-gcs",[WR]:"fire-gcs-compat",[ZR]:"fire-fst",[e1]:"fire-fst-compat",[JR]:"fire-vertex","fire-js":"fire-js",[t1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nh=new Map,r1=new Map,fm=new Map;function Xy(r,e){try{r.container.addComponent(e)}catch(n){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function oo(r){const e=r.name;if(fm.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;fm.set(e,r);for(const n of nh.values())Xy(n,r);for(const n of r1.values())Xy(n,r);return!0}function zm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function jn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new ru("app","Firebase",s1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=n1;function jE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:hm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ts.create("bad-app-name",{appName:String(o)});if(n||(n=kE()),!n)throw ts.create("no-options");const u=nh.get(o);if(u){if(Qs(n,u.options)&&Qs(s,u.config))return u;throw ts.create("duplicate-app",{appName:o})}const f=new fR(o);for(const p of fm.values())f.addComponent(p);const m=new a1(n,s,f);return nh.set(o,m),m}function zE(r=hm){const e=nh.get(r);if(!e&&r===hm&&kE())return jE();if(!e)throw ts.create("no-app",{appName:r});return e}function ns(r,e,n){var s;let o=(s=i1[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(m.join(" "));return}oo(new Ys(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1="firebase-heartbeat-database",l1=1,Kl="firebase-heartbeat-store";let Jd=null;function BE(){return Jd||(Jd=bR(o1,l1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(r=>{throw ts.create("idb-open",{originalErrorMessage:r.message})})),Jd}async function u1(r){try{const n=(await BE()).transaction(Kl),s=await n.objectStore(Kl).get(HE(r));return await n.done,s}catch(e){if(e instanceof lr)rr.warn(e.message);else{const n=ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rr.warn(n.message)}}}async function Wy(r,e){try{const s=(await BE()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(e,HE(r)),await s.done}catch(n){if(n instanceof lr)rr.warn(n.message);else{const s=ts.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rr.warn(s.message)}}}function HE(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=1024,h1=30;class f1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new m1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Zy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>h1){const f=p1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){rr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Zy(),{heartbeatsToSend:s,unsentEntries:o}=d1(this._heartbeatsCache.heartbeats),u=th(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return rr.warn(n),""}}}function Zy(){return new Date().toISOString().substring(0,10)}function d1(r,e=c1){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Jy(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Jy(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class m1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eR()?tR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await u1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Wy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Wy(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Jy(r){return th(JSON.stringify({version:2,heartbeats:r})).length}function p1(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(r){oo(new Ys("platform-logger",e=>new IR(e),"PRIVATE")),oo(new Ys("heartbeat",e=>new f1(e),"PRIVATE")),ns(cm,Yy,r),ns(cm,Yy,"esm2017"),ns("fire-js","")}g1("");var ev=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var is,qE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function w(){}w.prototype=R.prototype,M.D=R.prototype,M.prototype=new w,M.prototype.constructor=M,M.C=function(I,V,j){for(var D=Array(arguments.length-2),St=2;St<arguments.length;St++)D[St-2]=arguments[St];return R.prototype[V].apply(I,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,R,w){w||(w=0);var I=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)I[V]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(V=0;16>V;++V)I[V]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=M.g[0],w=M.g[1],V=M.g[2];var j=M.g[3],D=R+(j^w&(V^j))+I[0]+3614090360&4294967295;R=w+(D<<7&4294967295|D>>>25),D=j+(V^R&(w^V))+I[1]+3905402710&4294967295,j=R+(D<<12&4294967295|D>>>20),D=V+(w^j&(R^w))+I[2]+606105819&4294967295,V=j+(D<<17&4294967295|D>>>15),D=w+(R^V&(j^R))+I[3]+3250441966&4294967295,w=V+(D<<22&4294967295|D>>>10),D=R+(j^w&(V^j))+I[4]+4118548399&4294967295,R=w+(D<<7&4294967295|D>>>25),D=j+(V^R&(w^V))+I[5]+1200080426&4294967295,j=R+(D<<12&4294967295|D>>>20),D=V+(w^j&(R^w))+I[6]+2821735955&4294967295,V=j+(D<<17&4294967295|D>>>15),D=w+(R^V&(j^R))+I[7]+4249261313&4294967295,w=V+(D<<22&4294967295|D>>>10),D=R+(j^w&(V^j))+I[8]+1770035416&4294967295,R=w+(D<<7&4294967295|D>>>25),D=j+(V^R&(w^V))+I[9]+2336552879&4294967295,j=R+(D<<12&4294967295|D>>>20),D=V+(w^j&(R^w))+I[10]+4294925233&4294967295,V=j+(D<<17&4294967295|D>>>15),D=w+(R^V&(j^R))+I[11]+2304563134&4294967295,w=V+(D<<22&4294967295|D>>>10),D=R+(j^w&(V^j))+I[12]+1804603682&4294967295,R=w+(D<<7&4294967295|D>>>25),D=j+(V^R&(w^V))+I[13]+4254626195&4294967295,j=R+(D<<12&4294967295|D>>>20),D=V+(w^j&(R^w))+I[14]+2792965006&4294967295,V=j+(D<<17&4294967295|D>>>15),D=w+(R^V&(j^R))+I[15]+1236535329&4294967295,w=V+(D<<22&4294967295|D>>>10),D=R+(V^j&(w^V))+I[1]+4129170786&4294967295,R=w+(D<<5&4294967295|D>>>27),D=j+(w^V&(R^w))+I[6]+3225465664&4294967295,j=R+(D<<9&4294967295|D>>>23),D=V+(R^w&(j^R))+I[11]+643717713&4294967295,V=j+(D<<14&4294967295|D>>>18),D=w+(j^R&(V^j))+I[0]+3921069994&4294967295,w=V+(D<<20&4294967295|D>>>12),D=R+(V^j&(w^V))+I[5]+3593408605&4294967295,R=w+(D<<5&4294967295|D>>>27),D=j+(w^V&(R^w))+I[10]+38016083&4294967295,j=R+(D<<9&4294967295|D>>>23),D=V+(R^w&(j^R))+I[15]+3634488961&4294967295,V=j+(D<<14&4294967295|D>>>18),D=w+(j^R&(V^j))+I[4]+3889429448&4294967295,w=V+(D<<20&4294967295|D>>>12),D=R+(V^j&(w^V))+I[9]+568446438&4294967295,R=w+(D<<5&4294967295|D>>>27),D=j+(w^V&(R^w))+I[14]+3275163606&4294967295,j=R+(D<<9&4294967295|D>>>23),D=V+(R^w&(j^R))+I[3]+4107603335&4294967295,V=j+(D<<14&4294967295|D>>>18),D=w+(j^R&(V^j))+I[8]+1163531501&4294967295,w=V+(D<<20&4294967295|D>>>12),D=R+(V^j&(w^V))+I[13]+2850285829&4294967295,R=w+(D<<5&4294967295|D>>>27),D=j+(w^V&(R^w))+I[2]+4243563512&4294967295,j=R+(D<<9&4294967295|D>>>23),D=V+(R^w&(j^R))+I[7]+1735328473&4294967295,V=j+(D<<14&4294967295|D>>>18),D=w+(j^R&(V^j))+I[12]+2368359562&4294967295,w=V+(D<<20&4294967295|D>>>12),D=R+(w^V^j)+I[5]+4294588738&4294967295,R=w+(D<<4&4294967295|D>>>28),D=j+(R^w^V)+I[8]+2272392833&4294967295,j=R+(D<<11&4294967295|D>>>21),D=V+(j^R^w)+I[11]+1839030562&4294967295,V=j+(D<<16&4294967295|D>>>16),D=w+(V^j^R)+I[14]+4259657740&4294967295,w=V+(D<<23&4294967295|D>>>9),D=R+(w^V^j)+I[1]+2763975236&4294967295,R=w+(D<<4&4294967295|D>>>28),D=j+(R^w^V)+I[4]+1272893353&4294967295,j=R+(D<<11&4294967295|D>>>21),D=V+(j^R^w)+I[7]+4139469664&4294967295,V=j+(D<<16&4294967295|D>>>16),D=w+(V^j^R)+I[10]+3200236656&4294967295,w=V+(D<<23&4294967295|D>>>9),D=R+(w^V^j)+I[13]+681279174&4294967295,R=w+(D<<4&4294967295|D>>>28),D=j+(R^w^V)+I[0]+3936430074&4294967295,j=R+(D<<11&4294967295|D>>>21),D=V+(j^R^w)+I[3]+3572445317&4294967295,V=j+(D<<16&4294967295|D>>>16),D=w+(V^j^R)+I[6]+76029189&4294967295,w=V+(D<<23&4294967295|D>>>9),D=R+(w^V^j)+I[9]+3654602809&4294967295,R=w+(D<<4&4294967295|D>>>28),D=j+(R^w^V)+I[12]+3873151461&4294967295,j=R+(D<<11&4294967295|D>>>21),D=V+(j^R^w)+I[15]+530742520&4294967295,V=j+(D<<16&4294967295|D>>>16),D=w+(V^j^R)+I[2]+3299628645&4294967295,w=V+(D<<23&4294967295|D>>>9),D=R+(V^(w|~j))+I[0]+4096336452&4294967295,R=w+(D<<6&4294967295|D>>>26),D=j+(w^(R|~V))+I[7]+1126891415&4294967295,j=R+(D<<10&4294967295|D>>>22),D=V+(R^(j|~w))+I[14]+2878612391&4294967295,V=j+(D<<15&4294967295|D>>>17),D=w+(j^(V|~R))+I[5]+4237533241&4294967295,w=V+(D<<21&4294967295|D>>>11),D=R+(V^(w|~j))+I[12]+1700485571&4294967295,R=w+(D<<6&4294967295|D>>>26),D=j+(w^(R|~V))+I[3]+2399980690&4294967295,j=R+(D<<10&4294967295|D>>>22),D=V+(R^(j|~w))+I[10]+4293915773&4294967295,V=j+(D<<15&4294967295|D>>>17),D=w+(j^(V|~R))+I[1]+2240044497&4294967295,w=V+(D<<21&4294967295|D>>>11),D=R+(V^(w|~j))+I[8]+1873313359&4294967295,R=w+(D<<6&4294967295|D>>>26),D=j+(w^(R|~V))+I[15]+4264355552&4294967295,j=R+(D<<10&4294967295|D>>>22),D=V+(R^(j|~w))+I[6]+2734768916&4294967295,V=j+(D<<15&4294967295|D>>>17),D=w+(j^(V|~R))+I[13]+1309151649&4294967295,w=V+(D<<21&4294967295|D>>>11),D=R+(V^(w|~j))+I[4]+4149444226&4294967295,R=w+(D<<6&4294967295|D>>>26),D=j+(w^(R|~V))+I[11]+3174756917&4294967295,j=R+(D<<10&4294967295|D>>>22),D=V+(R^(j|~w))+I[2]+718787259&4294967295,V=j+(D<<15&4294967295|D>>>17),D=w+(j^(V|~R))+I[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+j&4294967295}s.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var w=R-this.blockSize,I=this.B,V=this.h,j=0;j<R;){if(V==0)for(;j<=w;)o(this,M,j),j+=this.blockSize;if(typeof M=="string"){for(;j<R;)if(I[V++]=M.charCodeAt(j++),V==this.blockSize){o(this,I),V=0;break}}else for(;j<R;)if(I[V++]=M[j++],V==this.blockSize){o(this,I),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var w=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=w&255,w/=256;for(this.u(M),M=Array(16),R=w=0;4>R;++R)for(var I=0;32>I;I+=8)M[w++]=this.g[R]>>>I&255;return M};function u(M,R){var w=m;return Object.prototype.hasOwnProperty.call(w,M)?w[M]:w[M]=R(M)}function f(M,R){this.h=R;for(var w=[],I=!0,V=M.length-1;0<=V;V--){var j=M[V]|0;I&&j==R||(w[V]=j,I=!1)}this.g=w}var m={};function p(M){return-128<=M&&128>M?u(M,function(R){return new f([R|0],0>R?-1:0)}):new f([M|0],0>M?-1:0)}function _(M){if(isNaN(M)||!isFinite(M))return b;if(0>M)return q(_(-M));for(var R=[],w=1,I=0;M>=w;I++)R[I]=M/w|0,w*=4294967296;return new f(R,0)}function T(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return q(T(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(R,8)),I=b,V=0;V<M.length;V+=8){var j=Math.min(8,M.length-V),D=parseInt(M.substring(V,V+j),R);8>j?(j=_(Math.pow(R,j)),I=I.j(j).add(_(D))):(I=I.j(w),I=I.add(_(D)))}return I}var b=p(0),x=p(1),P=p(16777216);r=f.prototype,r.m=function(){if(Y(this))return-q(this).m();for(var M=0,R=1,w=0;w<this.g.length;w++){var I=this.i(w);M+=(0<=I?I:4294967296+I)*R,R*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(z(this))return"0";if(Y(this))return"-"+q(this).toString(M);for(var R=_(Math.pow(M,6)),w=this,I="";;){var V=pe(w,R).g;w=Q(w,V.j(R));var j=((0<w.g.length?w.g[0]:w.h)>>>0).toString(M);if(w=V,z(w))return j+I;for(;6>j.length;)j="0"+j;I=j+I}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function z(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function Y(M){return M.h==-1}r.l=function(M){return M=Q(this,M),Y(M)?-1:z(M)?0:1};function q(M){for(var R=M.g.length,w=[],I=0;I<R;I++)w[I]=~M.g[I];return new f(w,~M.h).add(x)}r.abs=function(){return Y(this)?q(this):this},r.add=function(M){for(var R=Math.max(this.g.length,M.g.length),w=[],I=0,V=0;V<=R;V++){var j=I+(this.i(V)&65535)+(M.i(V)&65535),D=(j>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);I=D>>>16,j&=65535,D&=65535,w[V]=D<<16|j}return new f(w,w[w.length-1]&-2147483648?-1:0)};function Q(M,R){return M.add(q(R))}r.j=function(M){if(z(this)||z(M))return b;if(Y(this))return Y(M)?q(this).j(q(M)):q(q(this).j(M));if(Y(M))return q(this.j(q(M)));if(0>this.l(P)&&0>M.l(P))return _(this.m()*M.m());for(var R=this.g.length+M.g.length,w=[],I=0;I<2*R;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(var V=0;V<M.g.length;V++){var j=this.i(I)>>>16,D=this.i(I)&65535,St=M.i(V)>>>16,gt=M.i(V)&65535;w[2*I+2*V]+=D*gt,ne(w,2*I+2*V),w[2*I+2*V+1]+=j*gt,ne(w,2*I+2*V+1),w[2*I+2*V+1]+=D*St,ne(w,2*I+2*V+1),w[2*I+2*V+2]+=j*St,ne(w,2*I+2*V+2)}for(I=0;I<R;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=R;I<2*R;I++)w[I]=0;return new f(w,0)};function ne(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function ee(M,R){this.g=M,this.h=R}function pe(M,R){if(z(R))throw Error("division by zero");if(z(M))return new ee(b,b);if(Y(M))return R=pe(q(M),R),new ee(q(R.g),q(R.h));if(Y(R))return R=pe(M,q(R)),new ee(q(R.g),R.h);if(30<M.g.length){if(Y(M)||Y(R))throw Error("slowDivide_ only works with positive integers.");for(var w=x,I=R;0>=I.l(M);)w=ue(w),I=ue(I);var V=be(w,1),j=be(I,1);for(I=be(I,2),w=be(w,2);!z(I);){var D=j.add(I);0>=D.l(M)&&(V=V.add(w),j=D),I=be(I,1),w=be(w,1)}return R=Q(M,V.j(R)),new ee(V,R)}for(V=b;0<=M.l(R);){for(w=Math.max(1,Math.floor(M.m()/R.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),j=_(w),D=j.j(R);Y(D)||0<D.l(M);)w-=I,j=_(w),D=j.j(R);z(j)&&(j=x),V=V.add(j),M=Q(M,D)}return new ee(V,M)}r.A=function(M){return pe(this,M).h},r.and=function(M){for(var R=Math.max(this.g.length,M.g.length),w=[],I=0;I<R;I++)w[I]=this.i(I)&M.i(I);return new f(w,this.h&M.h)},r.or=function(M){for(var R=Math.max(this.g.length,M.g.length),w=[],I=0;I<R;I++)w[I]=this.i(I)|M.i(I);return new f(w,this.h|M.h)},r.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),w=[],I=0;I<R;I++)w[I]=this.i(I)^M.i(I);return new f(w,this.h^M.h)};function ue(M){for(var R=M.g.length+1,w=[],I=0;I<R;I++)w[I]=M.i(I)<<1|M.i(I-1)>>>31;return new f(w,M.h)}function be(M,R){var w=R>>5;R%=32;for(var I=M.g.length-w,V=[],j=0;j<I;j++)V[j]=0<R?M.i(j+w)>>>R|M.i(j+w+1)<<32-R:M.i(j+w);return new f(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,qE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=T,is=f}).apply(typeof ev<"u"?ev:typeof self<"u"?self:typeof window<"u"?window:{});var Pc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var FE,Pl,GE,Fc,dm,KE,$E,QE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,y){return c==Array.prototype||c==Object.prototype||(c[g]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pc=="object"&&Pc];for(var g=0;g<c.length;++g){var y=c[g];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var y=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var U=c[A];if(!(U in y))break e;y=y[U]}c=c[c.length-1],A=y[c],g=g(A),g!=A&&g!=null&&e(y,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var y=0,A=!1,U={next:function(){if(!A&&y<c.length){var F=y++;return{value:g(F,c[F]),done:!1}}return A=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function _(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function T(c,g,y){return c.call.apply(c.bind,arguments)}function b(c,g,y){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,A),c.apply(g,U)}}return function(){return c.apply(g,arguments)}}function x(c,g,y){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:b,x.apply(null,arguments)}function P(c,g){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function z(c,g){function y(){}y.prototype=g.prototype,c.aa=g.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(A,U,F){for(var ie=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ie[Le-2]=arguments[Le];return g.prototype[U].apply(A,ie)}}function Y(c){const g=c.length;if(0<g){const y=Array(g);for(let A=0;A<g;A++)y[A]=c[A];return y}return[]}function q(c,g){for(let y=1;y<arguments.length;y++){const A=arguments[y];if(p(A)){const U=c.length||0,F=A.length||0;c.length=U+F;for(let ie=0;ie<F;ie++)c[U+ie]=A[ie]}else c.push(A)}}class Q{constructor(g,y){this.i=g,this.j=y,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function ne(c){return/^[\s\xa0]*$/.test(c)}function ee(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function pe(c){return pe[" "](c),c}pe[" "]=function(){};var ue=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function be(c,g,y){for(const A in c)g.call(y,c[A],A,c)}function M(c,g){for(const y in c)g.call(void 0,c[y],y,c)}function R(c){const g={};for(const y in c)g[y]=c[y];return g}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(c,g){let y,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(y in A)c[y]=A[y];for(let F=0;F<w.length;F++)y=w[F],Object.prototype.hasOwnProperty.call(A,y)&&(c[y]=A[y])}}function V(c){var g=1;c=c.split(":");const y=[];for(;0<g&&c.length;)y.push(c.shift()),g--;return c.length&&y.push(c.join(":")),y}function j(c){m.setTimeout(()=>{throw c},0)}function D(){var c=Ge;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class St{constructor(){this.h=this.g=null}add(g,y){const A=gt.get();A.set(g,y),this.h?this.h.next=A:this.g=A,this.h=A}}var gt=new Q(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(g,y){this.h=g,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ve,me=!1,Ge=new St,N=()=>{const c=m.Promise.resolve(void 0);ve=()=>{c.then(te)}};var te=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(y){j(y)}var g=gt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}me=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};m.addEventListener("test",y,g),m.removeEventListener("test",y,g)}catch{}return c}();function Ie(c,g){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ue){e:{try{pe(g.nodeName);var U=!0;break e}catch{}U=!1}U||(g=null)}}else y=="mouseover"?g=c.fromElement:y=="mouseout"&&(g=c.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Re[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}z(Ie,se);var Re={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var _t="closure_listenable_"+(1e6*Math.random()|0),Be=0;function ot(c,g,y,A,U){this.listener=c,this.proxy=null,this.src=g,this.type=y,this.capture=!!A,this.ha=U,this.key=++Be,this.da=this.fa=!1}function Qe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function en(c){this.src=c,this.g={},this.h=0}en.prototype.add=function(c,g,y,A,U){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var ie=Sn(c,g,A,U);return-1<ie?(g=c[ie],y||(g.fa=!1)):(g=new ot(g,this.src,F,!!A,U),g.fa=y,c.push(g)),g};function Si(c,g){var y=g.type;if(y in c.g){var A=c.g[y],U=Array.prototype.indexOf.call(A,g,void 0),F;(F=0<=U)&&Array.prototype.splice.call(A,U,1),F&&(Qe(g),c.g[y].length==0&&(delete c.g[y],c.h--))}}function Sn(c,g,y,A){for(var U=0;U<c.length;++U){var F=c[U];if(!F.da&&F.listener==g&&F.capture==!!y&&F.ha==A)return U}return-1}var ur="closure_lm_"+(1e6*Math.random()|0),cr={};function Ai(c,g,y,A,U){if(Array.isArray(g)){for(var F=0;F<g.length;F++)Ai(c,g[F],y,A,U);return null}return y=mu(y),c&&c[_t]?c.K(g,y,_(A)?!!A.capture:!1,U):bo(c,g,y,!1,A,U)}function bo(c,g,y,A,U,F){if(!g)throw Error("Invalid event type");var ie=_(U)?!!U.capture:!!U,Le=Ro(c);if(Le||(c[ur]=Le=new en(c)),y=Le.add(g,y,A,ie,F),y.proxy)return y;if(A=la(),y.proxy=A,A.src=c,A.listener=y,c.addEventListener)ae||(U=ie),U===void 0&&(U=!1),c.addEventListener(g.toString(),A,U);else if(c.attachEvent)c.attachEvent(ca(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function la(){function c(y){return g.call(c.src,c.listener,y)}const g=Hh;return c}function ua(c,g,y,A,U){if(Array.isArray(g))for(var F=0;F<g.length;F++)ua(c,g[F],y,A,U);else A=_(A)?!!A.capture:!!A,y=mu(y),c&&c[_t]?(c=c.i,g=String(g).toString(),g in c.g&&(F=c.g[g],y=Sn(F,y,A,U),-1<y&&(Qe(F[y]),Array.prototype.splice.call(F,y,1),F.length==0&&(delete c.g[g],c.h--)))):c&&(c=Ro(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Sn(g,y,A,U)),(y=-1<c?g[c]:null)&&ds(y))}function ds(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[_t])Si(g.i,c);else{var y=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(y,A,c.capture):g.detachEvent?g.detachEvent(ca(y),A):g.addListener&&g.removeListener&&g.removeListener(A),(y=Ro(g))?(Si(y,c),y.h==0&&(y.src=null,g[ur]=null)):Qe(c)}}}function ca(c){return c in cr?cr[c]:cr[c]="on"+c}function Hh(c,g){if(c.da)c=!0;else{g=new Ie(g,this);var y=c.listener,A=c.ha||c.src;c.fa&&ds(c),c=y.call(A,g)}return c}function Ro(c){return c=c[ur],c instanceof en?c:null}var ln="__closure_events_fn_"+(1e9*Math.random()>>>0);function mu(c){return typeof c=="function"?c:(c[ln]||(c[ln]=function(g){return c.handleEvent(g)}),c[ln])}function At(){he.call(this),this.i=new en(this),this.M=this,this.F=null}z(At,he),At.prototype[_t]=!0,At.prototype.removeEventListener=function(c,g,y,A){ua(this,c,g,y,A)};function Ot(c,g){var y,A=c.F;if(A)for(y=[];A;A=A.F)y.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new se(g,c);else if(g instanceof se)g.target=g.target||c;else{var U=g;g=new se(A,c),I(g,U)}if(U=!0,y)for(var F=y.length-1;0<=F;F--){var ie=g.g=y[F];U=wi(ie,A,!0,g)&&U}if(ie=g.g=c,U=wi(ie,A,!0,g)&&U,U=wi(ie,A,!1,g)&&U,y)for(F=0;F<y.length;F++)ie=g.g=y[F],U=wi(ie,A,!1,g)&&U}At.prototype.N=function(){if(At.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var y=c.g[g],A=0;A<y.length;A++)Qe(y[A]);delete c.g[g],c.h--}}this.F=null},At.prototype.K=function(c,g,y,A){return this.i.add(String(c),g,!1,y,A)},At.prototype.L=function(c,g,y,A){return this.i.add(String(c),g,!0,y,A)};function wi(c,g,y,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,F=0;F<g.length;++F){var ie=g[F];if(ie&&!ie.da&&ie.capture==y){var Le=ie.listener,bt=ie.ha||ie.src;ie.fa&&Si(c.i,ie),U=Le.call(bt,A)!==!1&&U}}return U&&!A.defaultPrevented}function pu(c,g,y){if(typeof c=="function")y&&(c=x(c,y));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function Co(c){c.g=pu(()=>{c.g=null,c.i&&(c.i=!1,Co(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class qh extends he{constructor(g,y){super(),this.m=g,this.l=y,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Co(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(c){he.call(this),this.h=c,this.g={}}z(ms,he);var hr=[];function $t(c){be(c.g,function(g,y){this.g.hasOwnProperty(y)&&ds(g)},c),c.g={}}ms.prototype.N=function(){ms.aa.N.call(this),$t(this)},ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Io=m.JSON.stringify,Yn=m.JSON.parse,tn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Do(){}Do.prototype.h=null;function gu(c){return c.h||(c.h=c.i())}function _u(){}var Xn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fr(){se.call(this,"d")}z(fr,se);function Bn(){se.call(this,"c")}z(Bn,se);var An={},dr=null;function ha(){return dr=dr||new At}An.La="serverreachability";function xo(c){se.call(this,An.La,c)}z(xo,se);function mr(c){const g=ha();Ot(g,new xo(g))}An.STAT_EVENT="statevent";function fa(c,g){se.call(this,An.STAT_EVENT,c),this.stat=g}z(fa,se);function dt(c){const g=ha();Ot(g,new fa(g,c))}An.Ma="timingevent";function yu(c,g){se.call(this,An.Ma,c),this.size=g}z(yu,se);function pr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function gr(){this.g=!0}gr.prototype.xa=function(){this.g=!1};function vu(c,g,y,A,U,F){c.info(function(){if(c.g)if(F)for(var ie="",Le=F.split("&"),bt=0;bt<Le.length;bt++){var Ue=Le[bt].split("=");if(1<Ue.length){var kt=Ue[0];Ue=Ue[1];var Rt=kt.split("_");ie=2<=Rt.length&&Rt[1]=="type"?ie+(kt+"="+Ue+"&"):ie+(kt+"=redacted&")}}else ie=null;else ie=F;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+g+`
`+y+`
`+ie})}function Eu(c,g,y,A,U,F,ie){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+g+`
`+y+`
`+F+" "+ie})}function _r(c,g,y,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Mt(c,y)+(A?" "+A:"")})}function Wn(c,g){c.info(function(){return"TIMEOUT: "+g})}gr.prototype.info=function(){};function Mt(c,g){if(!c.g)return g;if(!g)return null;try{var y=JSON.parse(g);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var A=y[c];if(!(2>A.length)){var U=A[1];if(Array.isArray(U)&&!(1>U.length)){var F=U[0];if(F!="noop"&&F!="stop"&&F!="close")for(var ie=1;ie<U.length;ie++)U[ie]=""}}}}return Io(y)}catch{return g}}var wt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ps;function da(){}z(da,Do),da.prototype.g=function(){return new XMLHttpRequest},da.prototype.i=function(){return{}},ps=new da;function Zn(c,g,y,A){this.j=c,this.i=g,this.l=y,this.R=A||1,this.U=new ms(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new No}function No(){this.i=null,this.g="",this.h=!1}var yr={},gs={};function Hn(c,g,y){c.L=1,c.v=vs(lt(g)),c.m=y,c.P=!0,Ri(c,null)}function Ri(c,g){c.F=Date.now(),nt(c),c.A=lt(c.v);var y=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Di(y.i,"t",A),c.C=0,y=c.j.J,c.h=new No,c.g=Vu(c.j,y?g:null,!c.m),0<c.O&&(c.M=new qh(x(c.Y,c,c.g),c.O)),g=c.U,y=c.g,A=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(hr[0]=U.toString()),U=hr);for(var F=0;F<U.length;F++){var ie=Ai(y,U[F],A||g.handleEvent,!1,g.h||g);if(!ie)break;g.g[ie.key]=ie}g=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),mr(),vu(c.i,c.u,c.A,c.l,c.R,c.m)}Zn.prototype.ca=function(c){c=c.target;const g=this.M;g&&In(c)==3?g.j():this.Y(c)},Zn.prototype.Y=function(c){try{if(c==this.g)e:{const Rt=In(this.g);var g=this.g.Ba();const Mi=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||Ru(this.g)))){this.J||Rt!=4||g==7||(g==8||0>=Mi?mr(3):mr(2)),ma(this);var y=this.g.Z();this.X=y;t:if(vr(this)){var A=Ru(this.g);c="";var U=A.length,F=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){un(this),dn(this);var ie="";break t}this.h.i=new m.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,c+=this.h.i.decode(A[g],{stream:!(F&&g==U-1)});A.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=y==200,Eu(this.i,this.u,this.A,this.l,this.R,Rt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,bt=this.g;if((Le=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(Le)){var Ue=Le;break t}}Ue=null}if(y=Ue)_r(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mn(this,y);else{this.o=!1,this.s=3,dt(12),un(this),dn(this);break e}}if(this.P){y=!0;let zt;for(;!this.J&&this.C<ie.length;)if(zt=Er(this,ie),zt==gs){Rt==4&&(this.s=4,dt(14),y=!1),_r(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==yr){this.s=4,dt(15),_r(this.i,this.l,ie,"[Invalid Chunk]"),y=!1;break}else _r(this.i,this.l,zt,null),mn(this,zt);if(vr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||ie.length!=0||this.h.h||(this.s=1,dt(16),y=!1),this.o=this.o&&y,!y)_r(this.i,this.l,ie,"[Invalid Chunked Response]"),un(this),dn(this);else if(0<ie.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Rs(kt),kt.M=!0,dt(11))}}else _r(this.i,this.l,ie,null),mn(this,ie);Rt==4&&un(this),this.o&&!this.J&&(Rt==4?Nu(this.j,this):(this.o=!1,nt(this)))}else Yh(this.g),y==400&&0<ie.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),un(this),dn(this)}}}catch{}finally{}};function vr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Er(c,g){var y=c.C,A=g.indexOf(`
`,y);return A==-1?gs:(y=Number(g.substring(y,A)),isNaN(y)?yr:(A+=1,A+y>g.length?gs:(g=g.slice(A,A+y),c.C=A+y,g)))}Zn.prototype.cancel=function(){this.J=!0,un(this)};function nt(c){c.S=Date.now()+c.I,Oo(c,c.I)}function Oo(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pr(x(c.ba,c),g)}function ma(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Zn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Wn(this.i,this.A),this.L!=2&&(mr(),dt(17)),un(this),this.s=2,dn(this)):Oo(this,this.S-c)};function dn(c){c.j.G==0||c.J||Nu(c.j,c)}function un(c){ma(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,$t(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function mn(c,g){try{var y=c.j;if(y.G!=0&&(y.g==c||Tr(y.h,c))){if(!c.K&&Tr(y.h,c)&&y.G==3){try{var A=y.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)wa(y),Sa(y);else break e;qo(y),dt(18)}}else y.za=U[1],0<y.za-y.T&&37500>U[2]&&y.F&&y.v==0&&!y.C&&(y.C=pr(x(y.Za,y),6e3));if(1>=Tu(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Oi(y,11)}else if((c.K||y.g==c)&&wa(y),!ne(g))for(U=y.Da.g.parse(g),g=0;g<U.length;g++){let Ue=U[g];if(y.T=Ue[0],Ue=Ue[1],y.G==2)if(Ue[0]=="c"){y.K=Ue[1],y.ia=Ue[2];const kt=Ue[3];kt!=null&&(y.la=kt,y.j.info("VER="+y.la));const Rt=Ue[4];Rt!=null&&(y.Aa=Rt,y.j.info("SVER="+y.Aa));const Mi=Ue[5];Mi!=null&&typeof Mi=="number"&&0<Mi&&(A=1.5*Mi,y.L=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const zt=c.g;if(zt){const si=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(si){var F=A.h;F.g||si.indexOf("spdy")==-1&&si.indexOf("quic")==-1&&si.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Sr(F,F.h),F.h=null))}if(A.D){const Go=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Go&&(A.ya=Go,He(A.I,A.D,Go))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),A=y;var ie=c;if(A.qa=Mu(A,A.J?A.ia:null,A.W),ie.K){wn(A.h,ie);var Le=ie,bt=A.L;bt&&(Le.I=bt),Le.B&&(ma(Le),nt(Le)),A.g=ie}else Du(A);0<y.i.length&&Aa(y)}else Ue[0]!="stop"&&Ue[0]!="close"||Oi(y,7);else y.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Oi(y,7):Bo(y):Ue[0]!="noop"&&y.l&&y.l.ta(Ue),y.v=0)}}mr(4)}catch{}}var Fh=class{constructor(c,g){this.g=c,this.map=g}};function Mo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Vo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Tu(c){return c.h?1:c.g?c.g.size:0}function Tr(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Sr(c,g){c.g?c.g.add(g):c.h=g}function wn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Mo.prototype.cancel=function(){if(this.i=nn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function nn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const y of c.g.values())g=g.concat(y.D);return g}return Y(c.i)}function Su(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],y=c.length,A=0;A<y;A++)g.push(c[A]);return g}g=[],y=0;for(A in c)g[y++]=c[A];return g}function Gh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var y=0;y<c;y++)g.push(y);return g}g=[],y=0;for(const A in c)g[y++]=A;return g}}}function _s(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var y=Gh(c),A=Su(c),U=A.length,F=0;F<U;F++)g.call(void 0,A[F],y&&y[F],c)}var ko=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pa(c,g){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var A=c[y].indexOf("="),U=null;if(0<=A){var F=c[y].substring(0,A);U=c[y].substring(A+1)}else F=c[y];g(F,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Ci(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ci){this.h=c.h,Ar(this,c.j),this.o=c.o,this.g=c.g,ys(this,c.s),this.l=c.l;var g=c.i,y=new Jn;y.i=g.i,g.g&&(y.g=new Map(g.g),y.h=g.h),ga(this,y),this.m=c.m}else c&&(g=String(c).match(ko))?(this.h=!1,Ar(this,g[1]||"",!0),this.o=wr(g[2]||""),this.g=wr(g[3]||"",!0),ys(this,g[4]),this.l=wr(g[5]||"",!0),ga(this,g[6]||"",!0),this.m=wr(g[7]||"")):(this.h=!1,this.i=new Jn(null,this.h))}Ci.prototype.toString=function(){var c=[],g=this.j;g&&c.push(bn(g,Po,!0),":");var y=this.g;return(y||g=="file")&&(c.push("//"),(g=this.o)&&c.push(bn(g,Po,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(bn(y,y.charAt(0)=="/"?Lo:Au,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",bn(y,Qh)),c.join("")};function lt(c){return new Ci(c)}function Ar(c,g,y){c.j=y?wr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ys(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function ga(c,g,y){g instanceof Jn?(c.i=g,Uo(c.i,c.h)):(y||(g=bn(g,$h)),c.i=new Jn(g,c.h))}function He(c,g,y){c.i.set(g,y)}function vs(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function wr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function bn(c,g,y){return typeof c=="string"?(c=encodeURI(c).replace(g,Kh),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Kh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Po=/[#\/\?@]/g,Au=/[#\?:]/g,Lo=/[#\?]/g,$h=/[#\?@]/g,Qh=/#/g;function Jn(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Rn(c){c.g||(c.g=new Map,c.h=0,c.i&&pa(c.i,function(g,y){c.add(decodeURIComponent(g.replace(/\+/g," ")),y)}))}r=Jn.prototype,r.add=function(c,g){Rn(this),this.i=null,c=xi(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(g),this.h+=1,this};function _a(c,g){Rn(c),g=xi(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Ii(c,g){return Rn(c),g=xi(c,g),c.g.has(g)}r.forEach=function(c,g){Rn(this),this.g.forEach(function(y,A){y.forEach(function(U){c.call(g,U,A,this)},this)},this)},r.na=function(){Rn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),y=[];for(let A=0;A<g.length;A++){const U=c[A];for(let F=0;F<U.length;F++)y.push(g[A])}return y},r.V=function(c){Rn(this);let g=[];if(typeof c=="string")Ii(this,c)&&(g=g.concat(this.g.get(xi(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)g=g.concat(c[y])}return g},r.set=function(c,g){return Rn(this),this.i=null,c=xi(this,c),Ii(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Di(c,g,y){_a(c,g),0<y.length&&(c.i=null,c.g.set(xi(c,g),Y(y)),c.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var y=0;y<g.length;y++){var A=g[y];const F=encodeURIComponent(String(A)),ie=this.V(A);for(A=0;A<ie.length;A++){var U=F;ie[A]!==""&&(U+="="+encodeURIComponent(String(ie[A]))),c.push(U)}}return this.i=c.join("&")};function xi(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Uo(c,g){g&&!c.j&&(Rn(c),c.i=null,c.g.forEach(function(y,A){var U=A.toLowerCase();A!=U&&(_a(this,A),Di(this,U,y))},c)),c.j=g}function wu(c,g){const y=new gr;if(m.Image){const A=new Image;A.onload=P(Cn,y,"TestLoadImage: loaded",!0,g,A),A.onerror=P(Cn,y,"TestLoadImage: error",!1,g,A),A.onabort=P(Cn,y,"TestLoadImage: abort",!1,g,A),A.ontimeout=P(Cn,y,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function Es(c,g){const y=new gr,A=new AbortController,U=setTimeout(()=>{A.abort(),Cn(y,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(F=>{clearTimeout(U),F.ok?Cn(y,"TestPingServer: ok",!0,g):Cn(y,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),Cn(y,"TestPingServer: error",!1,g)})}function Cn(c,g,y,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(y)}catch{}}function Ts(){this.g=new tn}function ei(c,g,y){const A=y||"";try{_s(c,function(U,F){let ie=U;_(U)&&(ie=Io(U)),g.push(A+F+"="+encodeURIComponent(ie))})}catch(U){throw g.push(A+"type="+encodeURIComponent("_badmap")),U}}function br(c){this.l=c.Ub||null,this.j=c.eb||!1}z(br,Do),br.prototype.g=function(){return new Ni(this.l,this.j)},br.prototype.i=function(c){return function(){return c}}({});function Ni(c,g){At.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(Ni,At),r=Ni.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,ni(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ti(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;jo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function jo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?ti(this):ni(this),this.readyState==3&&jo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ti(this))},r.Qa=function(c){this.g&&(this.response=c,ti(this))},r.ga=function(){this.g&&ti(this)};function ti(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ni(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var y=g.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=g.next();return c.join(`\r
`)};function ni(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ni.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function zo(c){let g="";return be(c,function(y,A){g+=A,g+=":",g+=y,g+=`\r
`}),g}function Vt(c,g,y){e:{for(A in y){var A=!1;break e}A=!0}A||(y=zo(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):He(c,g,y))}function Ke(c){At.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(Ke,At);var ya=/^https?$/i,Ss=["POST","PUT"];r=Ke.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ps.g(),this.v=this.o?gu(this.o):gu(ps),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(F){bu(this,F);return}if(c=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)y.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())y.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(F=>F.toLowerCase()=="content-type"),U=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ss,g,void 0))||A||U||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,ie]of y)this.g.setRequestHeader(F,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{As(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){bu(this,F)}};function bu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,va(c),ii(c)}function va(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ot(this,"complete"),Ot(this,"abort"),ii(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ii(this,!0)),Ke.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ea(this):this.bb())},r.bb=function(){Ea(this)};function Ea(c){if(c.h&&typeof f<"u"&&(!c.v[1]||In(c)!=4||c.Z()!=2)){if(c.u&&In(c)==4)pu(c.Ea,0,c);else if(Ot(c,"readystatechange"),In(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var y;if(!(y=g)){var A;if(A=ie===0){var U=String(c.D).match(ko)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),A=!ya.test(U?U.toLowerCase():"")}y=A}if(y)Ot(c,"complete"),Ot(c,"success");else{c.m=6;try{var F=2<In(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",va(c)}}finally{ii(c)}}}}function ii(c,g){if(c.g){As(c);const y=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ot(c,"ready");try{y.onreadystatechange=A}catch{}}}function As(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function In(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Yn(g)}};function Ru(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Yh(c){const g={};c=(c.g&&2<=In(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ne(c[A]))continue;var y=V(c[A]);const U=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const F=g[U]||[];g[U]=F,F.push(y)}M(g,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ws(c,g,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||g}function Ta(c){this.Aa=0,this.i=[],this.j=new gr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ws("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ws("baseRetryDelayMs",5e3,c),this.cb=ws("retryDelaySeedMs",1e4,c),this.Wa=ws("forwardChannelMaxRetries",2,c),this.wa=ws("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Mo(c&&c.concurrentRequestLimit),this.Da=new Ts,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ta.prototype,r.la=8,r.G=1,r.connect=function(c,g,y,A){dt(0),this.W=c,this.H=g||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.I=Mu(this,null,this.W),Aa(this)};function Bo(c){if(Cu(c),c.G==3){var g=c.U++,y=lt(c.I);if(He(y,"SID",c.K),He(y,"RID",g),He(y,"TYPE","terminate"),bs(c,y),g=new Zn(c,c.j,g),g.L=2,g.v=vs(lt(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=g.v,y=!0),y||(g.g=Vu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),nt(g)}Ou(c)}function Sa(c){c.g&&(Rs(c),c.g.cancel(),c.g=null)}function Cu(c){Sa(c),c.u&&(m.clearTimeout(c.u),c.u=null),wa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Aa(c){if(!Vo(c.h)&&!c.s){c.s=!0;var g=c.Ga;ve||N(),me||(ve(),me=!0),Ge.add(g,c),c.B=0}}function Xh(c,g){return Tu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pr(x(c.Ga,c,g),Fo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new Zn(this,this.j,c);let F=this.o;if(this.S&&(F?(F=R(F),I(F,this.S)):F=this.S),this.m!==null||this.O||(U.H=F,F=null),this.P)e:{for(var g=0,y=0;y<this.i.length;y++){t:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=y;break e}if(g===4096||y===this.i.length-1){g=y+1;break e}}g=1e3}else g=1e3;g=Iu(this,U,g),y=lt(this.I),He(y,"RID",c),He(y,"CVER",22),this.D&&He(y,"X-HTTP-Session-Id",this.D),bs(this,y),F&&(this.O?g="headers="+encodeURIComponent(String(zo(F)))+"&"+g:this.m&&Vt(y,this.m,F)),Sr(this.h,U),this.Ua&&He(y,"TYPE","init"),this.P?(He(y,"$req",g),He(y,"SID","null"),U.T=!0,Hn(U,y,null)):Hn(U,y,g),this.G=2}}else this.G==3&&(c?Ho(this,c):this.i.length==0||Vo(this.h)||Ho(this))};function Ho(c,g){var y;g?y=g.l:y=c.U++;const A=lt(c.I);He(A,"SID",c.K),He(A,"RID",y),He(A,"AID",c.T),bs(c,A),c.m&&c.o&&Vt(A,c.m,c.o),y=new Zn(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Iu(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Sr(c.h,y),Hn(y,A,g)}function bs(c,g){c.H&&be(c.H,function(y,A){He(g,A,y)}),c.l&&_s({},function(y,A){He(g,A,y)})}function Iu(c,g,y){y=Math.min(c.i.length,y);var A=c.l?x(c.l.Na,c.l,c):null;e:{var U=c.i;let F=-1;for(;;){const ie=["count="+y];F==-1?0<y?(F=U[0].g,ie.push("ofs="+F)):F=0:ie.push("ofs="+F);let Le=!0;for(let bt=0;bt<y;bt++){let Ue=U[bt].g;const kt=U[bt].map;if(Ue-=F,0>Ue)F=Math.max(0,U[bt].g-100),Le=!1;else try{ei(kt,ie,"req"+Ue+"_")}catch{A&&A(kt)}}if(Le){A=ie.join("&");break e}}}return c=c.i.splice(0,y),g.D=c,A}function Du(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;ve||N(),me||(ve(),me=!0),Ge.add(g,c),c.v=0}}function qo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pr(x(c.Fa,c),Fo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,xu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pr(x(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Sa(this),xu(this))};function Rs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function xu(c){c.g=new Zn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=lt(c.qa);He(g,"RID","rpc"),He(g,"SID",c.K),He(g,"AID",c.T),He(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(g,"TO",c.ja),He(g,"TYPE","xmlhttp"),bs(c,g),c.m&&c.o&&Vt(g,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=vs(lt(g)),y.m=null,y.P=!0,Ri(y,c)}r.Za=function(){this.C!=null&&(this.C=null,Sa(this),qo(this),dt(19))};function wa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Nu(c,g){var y=null;if(c.g==g){wa(c),Rs(c),c.g=null;var A=2}else if(Tr(c.h,g))y=g.D,wn(c.h,g),A=1;else return;if(c.G!=0){if(g.o)if(A==1){y=g.m?g.m.length:0,g=Date.now()-g.F;var U=c.B;A=ha(),Ot(A,new yu(A,y)),Aa(c)}else Du(c);else if(U=g.s,U==3||U==0&&0<g.X||!(A==1&&Xh(c,g)||A==2&&qo(c)))switch(y&&0<y.length&&(g=c.h,g.i=g.i.concat(y)),U){case 1:Oi(c,5);break;case 4:Oi(c,10);break;case 3:Oi(c,6);break;default:Oi(c,2)}}}function Fo(c,g){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*g}function Oi(c,g){if(c.j.info("Error code "+g),g==2){var y=x(c.fb,c),A=c.Xa;const U=!A;A=new Ci(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ar(A,"https"),vs(A),U?wu(A.toString(),y):Es(A.toString(),y)}else dt(2);c.G=0,c.l&&c.l.sa(g),Ou(c),Cu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Ou(c){if(c.G=0,c.ka=[],c.l){const g=nn(c.h);(g.length!=0||c.i.length!=0)&&(q(c.ka,g),q(c.ka,c.i),c.h.i.length=0,Y(c.i),c.i.length=0),c.l.ra()}}function Mu(c,g,y){var A=y instanceof Ci?lt(y):new Ci(y);if(A.g!="")g&&(A.g=g+"."+A.g),ys(A,A.s);else{var U=m.location;A=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var F=new Ci(null);A&&Ar(F,A),g&&(F.g=g),U&&ys(F,U),y&&(F.l=y),A=F}return y=c.D,g=c.ya,y&&g&&He(A,y,g),He(A,"VER",c.la),bs(c,A),A}function Vu(c,g,y){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ke(new br({eb:y})):new Ke(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ku(){}r=ku.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ba(){}ba.prototype.g=function(c,g){return new rn(c,g)};function rn(c,g){At.call(this),this.g=new Ta(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!ne(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!ne(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ri(this)}z(rn,At),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Bo(this.g)},rn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=Io(c),c=y);g.i.push(new Fh(g.Ya++,c)),g.G==3&&Aa(g)},rn.prototype.N=function(){this.g.l=null,delete this.j,Bo(this.g),delete this.g,rn.aa.N.call(this)};function Pu(c){fr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const y in g){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}z(Pu,fr);function Lu(){Bn.call(this),this.status=1}z(Lu,Bn);function ri(c){this.g=c}z(ri,ku),ri.prototype.ua=function(){Ot(this.g,"a")},ri.prototype.ta=function(c){Ot(this.g,new Pu(c))},ri.prototype.sa=function(c){Ot(this.g,new Lu)},ri.prototype.ra=function(){Ot(this.g,"b")},ba.prototype.createWebChannel=ba.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,QE=function(){return new ba},$E=function(){return ha()},KE=An,dm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wt.NO_ERROR=0,wt.TIMEOUT=8,wt.HTTP_ERROR=6,Fc=wt,bi.COMPLETE="complete",GE=bi,_u.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",At.prototype.listen=At.prototype.K,Pl=_u,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,FE=Ke}).apply(typeof Pc<"u"?Pc:typeof self<"u"?self:typeof window<"u"?window:{});const tv="@firebase/firestore",nv="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vo="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs=new Um("@firebase/firestore");function Za(){return Xs.logLevel}function oe(r,...e){if(Xs.logLevel<=Me.DEBUG){const n=e.map(Bm);Xs.debug(`Firestore (${vo}): ${r}`,...n)}}function sr(r,...e){if(Xs.logLevel<=Me.ERROR){const n=e.map(Bm);Xs.error(`Firestore (${vo}): ${r}`,...n)}}function lo(r,...e){if(Xs.logLevel<=Me.WARN){const n=e.map(Bm);Xs.warn(`Firestore (${vo}): ${r}`,...n)}}function Bm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(r="Unexpected state"){const e=`FIRESTORE (${vo}) INTERNAL ASSERTION FAILED: `+r;throw sr(e),new Error(e)}function $e(r,e){r||Ee()}function we(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wt.UNAUTHENTICATED))}shutdown(){}}class y1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class v1{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new er;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new er,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new er)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string"),new YE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string"),new Wt(e)}}class E1{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class T1{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new E1(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S1{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,jn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0);const s=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new iv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?($e(typeof n.token=="string"),this.R=n.token,new iv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=A1(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Pe(r,e){return r<e?-1:r>e?1:0}function uo(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rv=-62135596800,sv=1e6;class xt{static now(){return xt.fromMillis(Date.now())}static fromDate(e){return xt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*sv);return new xt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<rv)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/sv}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-rv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new xt(0,0))}static max(){return new Se(new xt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const av="__name__";class fi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Ee(),s===void 0?s=e.length-n:s>e.length-n&&Ee(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return fi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof fi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=fi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=fi.isNumericId(e),o=fi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?fi.extractNumericId(e).compare(fi.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return is.fromString(e.substring(4,e.length-2))}}class tt extends fi{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const w1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends fi{construct(e,n,s){return new Gt(e,n,s)}static isValidIdentifier(e){return w1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===av}static keyField(){return new Gt([av])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new de(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(tt.fromString(e))}static fromName(e){return new ge(tt.fromString(e).popFirst(5))}static empty(){return new ge(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l=-1;function b1(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new xt(n+1,0):new xt(n,s));return new ss(o,ge.empty(),e)}function R1(r){return new ss(r.readTime,r.key,$l)}class ss{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ss(Se.min(),ge.empty(),$l)}static max(){return new ss(Se.max(),ge.empty(),$l)}}function C1(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Pe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class D1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==I1)throw r;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,s)=>{n(e)})}static reject(e){return new W((n,s)=>{s(e)})}static waitFor(e){return new W((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next(o=>o?W.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new W((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const _=p;n(e[_]).next(T=>{f[_]=T,++m,m===u&&s(f)},T=>o(T))}})}static doWhile(e,n){return new W((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function x1(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function To(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Ah.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm=-1;function wh(r){return r==null}function ih(r){return r===0&&1/r==-1/0}function N1(r){return typeof r=="number"&&Number.isInteger(r)&&!ih(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE="";function O1(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=ov(e)),e=M1(r.get(n),e);return ov(e)}function M1(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case WE:n+="";break;default:n+=u}}return n}function ov(r){return r+WE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ia(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function ZE(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Lc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Lc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Lc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Lc(this.root,e,this.comparator,!0)}}class Lc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ft.RED,this.left=o??Ft.EMPTY,this.right=u??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ft(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ee();const e=this.left.check();if(e!==this.right.check())throw Ee();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee()}get value(){throw Ee()}get color(){throw Ee()}get left(){throw Ee()}get right(){throw Ee()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new uv(this.data.getIterator())}getIteratorFrom(e){return new uv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class uv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $n{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new $n([])}unionWith(e){let n=new Nt(Gt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new $n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return uo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new JE("Invalid base64 string: "+u):u}}(e);return new Kt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const V1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function as(r){if($e(!!r),typeof r=="string"){let e=0;const n=V1.exec(r);if($e(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(r.seconds),nanos:pt(r.nanos)}}function pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function os(r){return typeof r=="string"?Kt.fromBase64String(r):Kt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eT="server_timestamp",tT="__type__",nT="__previous_value__",iT="__local_write_time__";function qm(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[tT])===null||n===void 0?void 0:n.stringValue)===eT}function bh(r){const e=r.mapValue.fields[nT];return qm(e)?bh(e):e}function Ql(r){const e=as(r.mapValue.fields[iT].timestampValue);return new xt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(e,n,s,o,u,f,m,p,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=_}}const rh="(default)";class Yl{constructor(e,n){this.projectId=e,this.database=n||rh}static empty(){return new Yl("","")}get isDefaultDatabase(){return this.database===rh}isEqual(e){return e instanceof Yl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="__type__",P1="__max__",Uc={mapValue:{}},sT="__vector__",sh="value";function ls(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?qm(r)?4:U1(r)?9007199254740991:L1(r)?10:11:Ee()}function yi(r,e){if(r===e)return!0;const n=ls(r);if(n!==ls(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Ql(r).isEqual(Ql(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=as(o.timestampValue),m=as(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return os(o.bytesValue).isEqual(os(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return pt(o.geoPointValue.latitude)===pt(u.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pt(o.integerValue)===pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pt(o.doubleValue),m=pt(u.doubleValue);return f===m?ih(f)===ih(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return uo(r.arrayValue.values||[],e.arrayValue.values||[],yi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(lv(f)!==lv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!yi(f[p],m[p])))return!1;return!0}(r,e);default:return Ee()}}function Xl(r,e){return(r.values||[]).find(n=>yi(n,e))!==void 0}function co(r,e){if(r===e)return 0;const n=ls(r),s=ls(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=pt(u.integerValue||u.doubleValue),p=pt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return cv(r.timestampValue,e.timestampValue);case 4:return cv(Ql(r),Ql(e));case 5:return Pe(r.stringValue,e.stringValue);case 6:return function(u,f){const m=os(u),p=os(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let _=0;_<m.length&&_<p.length;_++){const T=Pe(m[_],p[_]);if(T!==0)return T}return Pe(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Pe(pt(u.latitude),pt(f.latitude));return m!==0?m:Pe(pt(u.longitude),pt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return hv(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,_,T;const b=u.fields||{},x=f.fields||{},P=(m=b[sh])===null||m===void 0?void 0:m.arrayValue,z=(p=x[sh])===null||p===void 0?void 0:p.arrayValue,Y=Pe(((_=P==null?void 0:P.values)===null||_===void 0?void 0:_.length)||0,((T=z==null?void 0:z.values)===null||T===void 0?void 0:T.length)||0);return Y!==0?Y:hv(P,z)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Uc.mapValue&&f===Uc.mapValue)return 0;if(u===Uc.mapValue)return 1;if(f===Uc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),_=f.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let b=0;b<p.length&&b<T.length;++b){const x=Pe(p[b],T[b]);if(x!==0)return x;const P=co(m[p[b]],_[T[b]]);if(P!==0)return P}return Pe(p.length,T.length)}(r.mapValue,e.mapValue);default:throw Ee()}}function cv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const n=as(r),s=as(e),o=Pe(n.seconds,s.seconds);return o!==0?o:Pe(n.nanos,s.nanos)}function hv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=co(n[o],s[o]);if(u)return u}return Pe(n.length,s.length)}function ho(r){return mm(r)}function mm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=as(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return os(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ge.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=mm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${mm(n.fields[f])}`;return o+"}"}(r.mapValue):Ee()}function Gc(r){switch(ls(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=bh(r);return e?16+Gc(e):16;case 5:return 2*r.stringValue.length;case 6:return os(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Gc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ia(s.fields,(u,f)=>{o+=u.length+Gc(f)}),o}(r.mapValue);default:throw Ee()}}function pm(r){return!!r&&"integerValue"in r}function Fm(r){return!!r&&"arrayValue"in r}function fv(r){return!!r&&"nullValue"in r}function dv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Kc(r){return!!r&&"mapValue"in r}function L1(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[rT])===null||n===void 0?void 0:n.stringValue)===sT}function zl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ia(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=zl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=zl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function U1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===P1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Kc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(n)}setAll(e){let n=Gt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=zl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Kc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Kc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ia(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new zn(zl(this.value))}}function aT(r){const e=[];return ia(r.fields,(n,s)=>{const o=new Gt([n]);if(Kc(s)){const u=aT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new $n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Se.min(),Se.min(),Se.min(),zn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Se.min(),Se.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Se.min(),Se.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,n){this.position=e,this.inclusive=n}}function mv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=co(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function pv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!yi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e,n="asc"){this.field=e,this.dir=n}}function j1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{}class Dt extends oT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new B1(e,n,s):n==="array-contains"?new F1(e,s):n==="in"?new G1(e,s):n==="not-in"?new K1(e,s):n==="array-contains-any"?new $1(e,s):new Dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new H1(e,s):new q1(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(co(n,this.value)):n!==null&&ls(this.value)===ls(n)&&this.matchesComparison(co(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class vi extends oT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new vi(e,n)}matches(e){return lT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function lT(r){return r.op==="and"}function uT(r){return z1(r)&&lT(r)}function z1(r){for(const e of r.filters)if(e instanceof vi)return!1;return!0}function gm(r){if(r instanceof Dt)return r.field.canonicalString()+r.op.toString()+ho(r.value);if(uT(r))return r.filters.map(e=>gm(e)).join(",");{const e=r.filters.map(n=>gm(n)).join(",");return`${r.op}(${e})`}}function cT(r,e){return r instanceof Dt?function(s,o){return o instanceof Dt&&s.op===o.op&&s.field.isEqual(o.field)&&yi(s.value,o.value)}(r,e):r instanceof vi?function(s,o){return o instanceof vi&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&cT(f,o.filters[m]),!0):!1}(r,e):void Ee()}function hT(r){return r instanceof Dt?function(n){return`${n.field.canonicalString()} ${n.op} ${ho(n.value)}`}(r):r instanceof vi?function(n){return n.op.toString()+" {"+n.getFilters().map(hT).join(" ,")+"}"}(r):"Filter"}class B1 extends Dt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class H1 extends Dt{constructor(e,n){super(e,"in",n),this.keys=fT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class q1 extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=fT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function fT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class F1 extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fm(n)&&Xl(n.arrayValue,this.value)}}class G1 extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Xl(this.value.arrayValue,n)}}class K1 extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Xl(this.value.arrayValue,n)}}class $1 extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Xl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function gv(r,e=null,n=[],s=[],o=null,u=null,f=null){return new Q1(r,e,n,s,o,u,f)}function Gm(r){const e=we(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>gm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),wh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>ho(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>ho(s)).join(",")),e.le=n}return e.le}function Km(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!j1(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!cT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!pv(r.startAt,e.startAt)&&pv(r.endAt,e.endAt)}function _m(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Y1(r,e,n,s,o,u,f,m){return new Rh(r,e,n,s,o,u,f,m)}function $m(r){return new Rh(r)}function _v(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function X1(r){return r.collectionGroup!==null}function Bl(r){const e=we(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Nt(Gt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new oh(u,s))}),n.has(Gt.keyField().canonicalString())||e.he.push(new oh(Gt.keyField(),s))}return e.he}function di(r){const e=we(r);return e.Pe||(e.Pe=W1(e,Bl(r))),e.Pe}function W1(r,e){if(r.limitType==="F")return gv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new oh(o.field,u)});const n=r.endAt?new ah(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ah(r.startAt.position,r.startAt.inclusive):null;return gv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function ym(r,e,n){return new Rh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Ch(r,e){return Km(di(r),di(e))&&r.limitType===e.limitType}function dT(r){return`${Gm(di(r))}|lt:${r.limitType}`}function Ja(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>hT(o)).join(", ")}]`),wh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>ho(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>ho(o)).join(",")),`Target(${s})`}(di(r))}; limitType=${r.limitType})`}function Ih(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Bl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const _=mv(f,m,p);return f.inclusive?_<=0:_<0}(s.startAt,Bl(s),o)||s.endAt&&!function(f,m,p){const _=mv(f,m,p);return f.inclusive?_>=0:_>0}(s.endAt,Bl(s),o))}(r,e)}function Z1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function mT(r){return(e,n)=>{let s=!1;for(const o of Bl(r)){const u=J1(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function J1(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),_=m.data.field(u);return p!==null&&_!==null?co(p,_):Ee()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Ee()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ia(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return ZE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=new at(ge.comparator);function ar(){return eC}const pT=new at(ge.comparator);function Ll(...r){let e=pT;for(const n of r)e=e.insert(n.key,n);return e}function gT(r){let e=pT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function $s(){return Hl()}function _T(){return Hl()}function Hl(){return new ra(r=>r.toString(),(r,e)=>r.isEqual(e))}const tC=new at(ge.comparator),nC=new Nt(ge.comparator);function Ve(...r){let e=nC;for(const n of r)e=e.add(n);return e}const iC=new Nt(Pe);function rC(){return iC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ih(e)?"-0":e}}function yT(r){return{integerValue:""+r}}function sC(r,e){return N1(e)?yT(e):Qm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{constructor(){this._=void 0}}function aC(r,e,n){return r instanceof lh?function(o,u){const f={fields:{[tT]:{stringValue:eT},[iT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&qm(u)&&(u=bh(u)),u&&(f.fields[nT]=u),{mapValue:f}}(n,e):r instanceof Wl?ET(r,e):r instanceof Zl?TT(r,e):function(o,u){const f=vT(o,u),m=yv(f)+yv(o.Ie);return pm(f)&&pm(o.Ie)?yT(m):Qm(o.serializer,m)}(r,e)}function oC(r,e,n){return r instanceof Wl?ET(r,e):r instanceof Zl?TT(r,e):n}function vT(r,e){return r instanceof uh?function(s){return pm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class lh extends Dh{}class Wl extends Dh{constructor(e){super(),this.elements=e}}function ET(r,e){const n=ST(e);for(const s of r.elements)n.some(o=>yi(o,s))||n.push(s);return{arrayValue:{values:n}}}class Zl extends Dh{constructor(e){super(),this.elements=e}}function TT(r,e){let n=ST(e);for(const s of r.elements)n=n.filter(o=>!yi(o,s));return{arrayValue:{values:n}}}class uh extends Dh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function yv(r){return pt(r.integerValue||r.doubleValue)}function ST(r){return Fm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function lC(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Wl&&o instanceof Wl||s instanceof Zl&&o instanceof Zl?uo(s.elements,o.elements,yi):s instanceof uh&&o instanceof uh?yi(s.Ie,o.Ie):s instanceof lh&&o instanceof lh}(r.transform,e.transform)}class uC{constructor(e,n){this.version=e,this.transformResults=n}}class tr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new tr}static exists(e){return new tr(void 0,e)}static updateTime(e){return new tr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $c(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class xh{}function AT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new bT(r.key,tr.none()):new au(r.key,r.data,tr.none());{const n=r.data,s=zn.empty();let o=new Nt(Gt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new sa(r.key,s,new $n(o.toArray()),tr.none())}}function cC(r,e,n){r instanceof au?function(o,u,f){const m=o.value.clone(),p=Ev(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof sa?function(o,u,f){if(!$c(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Ev(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(wT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function ql(r,e,n,s){return r instanceof au?function(u,f,m,p){if(!$c(u.precondition,f))return m;const _=u.value.clone(),T=Tv(u.fieldTransforms,p,f);return _.setAll(T),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(r,e,n,s):r instanceof sa?function(u,f,m,p){if(!$c(u.precondition,f))return m;const _=Tv(u.fieldTransforms,p,f),T=f.data;return T.setAll(wT(u)),T.setAll(_),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,e,n,s):function(u,f,m){return $c(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function hC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=vT(s.transform,o||null);u!=null&&(n===null&&(n=zn.empty()),n.set(s.field,u))}return n||null}function vv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&uo(s,o,(u,f)=>lC(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class au extends xh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class sa extends xh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function wT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function Ev(r,e,n){const s=new Map;$e(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,oC(f,m,n[o]))}return s}function Tv(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,aC(u,f,e))}return s}class bT extends xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fC extends xh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&cC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ql(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ql(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=_T();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=AT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&uo(this.mutations,e.mutations,(n,s)=>vv(n,s))&&uo(this.baseMutations,e.baseMutations,(n,s)=>vv(n,s))}}class Ym{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){$e(e.mutations.length===s.length);let o=function(){return tC}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Ym(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,ze;function gC(r){switch(r){case J.OK:return Ee();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ee()}}function RT(r){if(r===void 0)return sr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Tt.OK:return J.OK;case Tt.CANCELLED:return J.CANCELLED;case Tt.UNKNOWN:return J.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return J.INTERNAL;case Tt.UNAVAILABLE:return J.UNAVAILABLE;case Tt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Tt.NOT_FOUND:return J.NOT_FOUND;case Tt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Tt.ABORTED:return J.ABORTED;case Tt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Tt.DATA_LOSS:return J.DATA_LOSS;default:return Ee()}}(ze=Tt||(Tt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _C(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC=new is([4294967295,4294967295],0);function Sv(r){const e=_C().encode(r),n=new qE;return n.update(e),new Uint8Array(n.digest())}function Av(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new is([n,s],0),new is([o,u],0)]}class Xm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ul(`Invalid padding: ${n}`);if(s<0)throw new Ul(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ul(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ul(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=is.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(is.fromNumber(s)));return o.compare(yC)===1&&(o=new is([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Sv(e),[s,o]=Av(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Xm(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=Sv(e),[s,o]=Av(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ul extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Nh(Se.min(),o,new at(Pe),ar(),Ve())}}class ou{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new ou(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class CT{constructor(e,n){this.targetId=e,this.ge=n}}class IT{constructor(e,n,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class wv{constructor(){this.pe=0,this.ye=bv(),this.we=Kt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ve(),n=Ve(),s=Ve();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Ee()}}),new ou(this.we,this.be,e,n,s)}Me(){this.Se=!1,this.ye=bv()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,$e(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class vC{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ar(),this.$e=jc(),this.Ke=jc(),this.Ue=new at(Pe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(_m(u))if(s===0){const f=new ge(u.path);this.ze(n,f,Zt.newNoDocument(f,Se.min()))}else $e(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,_)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=os(s).toUint8Array()}catch(p){if(p instanceof JE)return lo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Xm(f,o,u)}catch(p){return lo(p instanceof Ul?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&_m(m.target)){const p=new ge(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Zt.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Ve();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const _=this.Xe(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Nh(e,n,this.Ue,this.Qe,s);return this.Qe=ar(),this.$e=jc(),this.Ke=jc(),this.Ue=new at(Pe),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new wv,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Nt(Pe),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Nt(Pe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new wv),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function jc(){return new at(ge.comparator)}function bv(){return new at(ge.comparator)}const EC={asc:"ASCENDING",desc:"DESCENDING"},TC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SC={and:"AND",or:"OR"};class AC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function vm(r,e){return r.useProto3Json||wh(e)?e:{value:e}}function ch(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function wC(r,e){return ch(r,e.toTimestamp())}function mi(r){return $e(!!r),Se.fromTimestamp(function(n){const s=as(n);return new xt(s.seconds,s.nanos)}(r))}function Wm(r,e){return Em(r,e).canonicalString()}function Em(r,e){const n=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function xT(r){const e=tt.fromString(r);return $e(kT(e)),e}function Tm(r,e){return Wm(r.databaseId,e.path)}function em(r,e){const n=xT(e);if(n.get(1)!==r.databaseId.projectId)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(OT(n))}function NT(r,e){return Wm(r.databaseId,e)}function bC(r){const e=xT(r);return e.length===4?tt.emptyPath():OT(e)}function Sm(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function OT(r){return $e(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Rv(r,e,n){return{name:Tm(r,e),fields:n.value.mapValue.fields}}function RC(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(_,T){return _.useProto3Json?($e(T===void 0||typeof T=="string"),Kt.fromBase64String(T||"")):($e(T===void 0||T instanceof Buffer||T instanceof Uint8Array),Kt.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(_){const T=_.code===void 0?J.UNKNOWN:RT(_.code);return new de(T,_.message||"")}(f);n=new IT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=em(r,s.document.name),u=mi(s.document.updateTime),f=s.document.createTime?mi(s.document.createTime):Se.min(),m=new zn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,f,m),_=s.targetIds||[],T=s.removedTargetIds||[];n=new Qc(_,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=em(r,s.document),u=s.readTime?mi(s.readTime):Se.min(),f=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Qc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=em(r,s.document),u=s.removedTargetIds||[];n=new Qc([],u,o,null)}else{if(!("filter"in e))return Ee();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new pC(o,u),m=s.targetId;n=new CT(m,f)}}return n}function CC(r,e){let n;if(e instanceof au)n={update:Rv(r,e.key,e.value)};else if(e instanceof bT)n={delete:Tm(r,e.key)};else if(e instanceof sa)n={update:Rv(r,e.key,e.data),updateMask:PC(e.fieldMask)};else{if(!(e instanceof fC))return Ee();n={verify:Tm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof lh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Wl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Zl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof uh)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Ee()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:wC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ee()}(r,e.precondition)),n}function IC(r,e){return r&&r.length>0?($e(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?mi(o.updateTime):mi(u);return f.isEqual(Se.min())&&(f=mi(u)),new uC(f,o.transformResults||[])}(n,e))):[]}function DC(r,e){return{documents:[NT(r,e.path)]}}function xC(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=NT(r,o);const u=function(_){if(_.length!==0)return VT(vi.create(_,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(_){if(_.length!==0)return _.map(T=>function(x){return{field:eo(x.field),direction:MC(x.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=vm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ht:n,parent:o}}function NC(r){let e=bC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){$e(s===1);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=function(b){const x=MT(b);return x instanceof vi&&uT(x)?x.getFilters():[x]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(x=>function(z){return new oh(to(z.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction))}(x))}(n.orderBy));let m=null;n.limit&&(m=function(b){let x;return x=typeof b=="object"?b.value:b,wh(x)?null:x}(n.limit));let p=null;n.startAt&&(p=function(b){const x=!!b.before,P=b.values||[];return new ah(P,x)}(n.startAt));let _=null;return n.endAt&&(_=function(b){const x=!b.before,P=b.values||[];return new ah(P,x)}(n.endAt)),Y1(e,o,f,u,m,"F",p,_)}function OC(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function MT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=to(n.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=to(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=to(n.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=to(n.unaryFilter.field);return Dt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Ee()}}(r):r.fieldFilter!==void 0?function(n){return Dt.create(to(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return vi.create(n.compositeFilter.filters.map(s=>MT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ee()}}(n.compositeFilter.op))}(r):Ee()}function MC(r){return EC[r]}function VC(r){return TC[r]}function kC(r){return SC[r]}function eo(r){return{fieldPath:r.canonicalString()}}function to(r){return Gt.fromServerFormat(r.fieldPath)}function VT(r){return r instanceof Dt?function(n){if(n.op==="=="){if(dv(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NAN"}};if(fv(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(dv(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NAN"}};if(fv(n.value))return{unaryFilter:{field:eo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:eo(n.field),op:VC(n.op),value:n.value}}}(r):r instanceof vi?function(n){const s=n.getFilters().map(o=>VT(o));return s.length===1?s[0]:{compositeFilter:{op:kC(n.op),filters:s}}}(r):Ee()}function PC(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function kT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,n,s,o,u=Se.min(),f=Se.min(),m=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Jr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.Tt=e}}function UC(r){const e=NC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ym(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(){this.Tn=new zC}addToCollectionParentIndex(e,n){return this.Tn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(ss.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(ss.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class zC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Nt(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Nt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},PT=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(PT,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new fo(0)}static Un(){return new fo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="LruGarbageCollector",BC=1048576;function Dv([r,e],[n,s]){const o=Pe(r,n);return o===0?Pe(e,s):o}class HC{constructor(e){this.Hn=e,this.buffer=new Nt(Dv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Dv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class qC{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){oe(Iv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){To(n)?oe(Iv,"Ignoring IndexedDB error during garbage collection: ",n):await Eo(n)}await this.er(3e5)})}}class FC{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Ah.ae);const s=new HC(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(Cv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cv):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(_=Date.now(),Za()<=Me.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function GC(r,e){return new FC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(){this.changes=new ra(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&ql(s.mutation,o,$n.empty(),xt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ve()){const o=$s();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Ll();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=$s();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ve()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=ar();const f=Hl(),m=function(){return Hl()}();return n.forEach((p,_)=>{const T=s.get(_.key);o.has(_.key)&&(T===void 0||T.mutation instanceof sa)?u=u.insert(_.key,_):T!==void 0?(f.set(_.key,T.mutation.getFieldMask()),ql(T.mutation,_,T.mutation.getFieldMask(),xt.now())):f.set(_.key,$n.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((_,T)=>f.set(_,T)),n.forEach((_,T)=>{var b;return m.set(_,new $C(T,(b=f.get(_))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Hl();let o=new at((f,m)=>f-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let T=s.get(p)||$n.empty();T=m.applyToLocalView(_,T),s.set(p,T);const b=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),_=p.key,T=p.value,b=_T();T.forEach(x=>{if(!u.has(x)){const P=AT(n.get(x),s.get(x));P!==null&&b.set(x,P),u=u.add(x)}}),f.push(this.documentOverlayCache.saveOverlays(e,_,b))}return W.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):X1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):W.resolve($s());let m=$l,p=u;return f.next(_=>W.forEach(_,(T,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(T)?W.resolve():this.remoteDocumentCache.getEntry(e,T).next(x=>{p=p.insert(T,x)}))).next(()=>this.populateOverlays(e,_,u)).next(()=>this.computeViews(e,p,_,Ve())).next(T=>({batchId:m,changes:gT(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let o=Ll();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ll();return this.indexManager.getCollectionParents(e,u).next(m=>W.forEach(m,p=>{const _=function(b,x){return new Rh(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next(T=>{T.forEach((b,x)=>{f=f.insert(b,x)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,_)=>{const T=_.getKey();f.get(T)===null&&(f=f.insert(T,Zt.newInvalidDocument(T)))});let m=Ll();return f.forEach((p,_)=>{const T=u.get(p);T!==void 0&&ql(T.mutation,_,$n.empty(),xt.now()),Ih(n,_)&&(m=m.insert(p,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return W.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:mi(o.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:UC(o.bundledQuery),readTime:mi(o.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(){this.overlays=new at(ge.comparator),this.Rr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=$s();return W.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),W.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const o=$s(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new at((_,T)=>_-T);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let T=u.get(_.largestBatchId);T===null&&(T=$s(),u=u.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const m=$s(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,T)=>m.set(_,T)),!(m.size()>=o)););return W.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new mC(n,s));let u=this.Rr.get(n);u===void 0&&(u=Ve(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(){this.Vr=new Nt(jt.mr),this.gr=new Nt(jt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new jt(e,n))}br(e,n){e.forEach(s=>this.removeReference(s,n))}Sr(e){const n=new ge(new tt([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ge(new tt([])),s=new jt(n,e),o=new jt(n,e+1);let u=Ve();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new jt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ge.comparator(e.key,n.key)||Pe(e.Cr,n.Cr)}static pr(e,n){return Pe(e.Cr,n.Cr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Nt(jt.mr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new dC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,n){return W.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Hm:this.Fr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Nt(Pe);return n.forEach(o=>{const u=new jt(o,0),f=new jt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),W.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new jt(new ge(u),0);let m=new Nt(Pe);return this.Mr.forEachWhile(p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(m=m.add(p.Cr)),!0)},f),W.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){$e(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return W.forEach(n.mutations,o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new jt(n,0),o=this.Mr.firstAfterOrEqual(s);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(e){this.kr=e,this.docs=function(){return new at(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=ar();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))}),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ar();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||C1(R1(T),s)<=0||(o.has(T.key)||Ih(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Ee()}qr(e,n){return W.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new eI(this)}getSize(e){return W.resolve(this.size)}}class eI extends KC{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),W.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e){this.persistence=e,this.Qr=new ra(n=>Gm(n),Km),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Zm,this.targetCount=0,this.Ur=fo.Kn()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),W.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new fo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.zn(n),W.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),W.waitFor(u).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this.Kr.yr(n,s),W.resolve()}removeMatchingKeys(e,n,s){this.Kr.br(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Kr.vr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Ah(0),this.zr=!1,this.zr=!0,this.jr=new WC,this.referenceDelegate=e(this),this.Hr=new tI(this),this.indexManager=new jC,this.remoteDocumentCache=function(o){return new JC(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new LC(n),this.Yr=new YC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new XC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new ZC(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const o=new nI(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return W.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class nI extends D1{constructor(e){super(),this.currentSequenceNumber=e}}class Jm{constructor(e){this.persistence=e,this.ti=new Zm,this.ni=null}static ri(e){return new Jm(e)}get ii(){if(this.ni)return this.ni;throw Ee()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),W.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ii,s=>{const o=ge.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Se.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return W.or([()=>W.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class hh{constructor(e,n){this.persistence=e,this.oi=new ra(s=>O1(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=GC(this,n)}static ri(e,n){return new hh(e,n)}Zr(){}Xr(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return W.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?W.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),W.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Gc(e.data.value)),n}ar(e,n,s){return W.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ep(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Jb()?8:x1(Jt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new iI;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(Za()<=Me.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",Ja(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),W.resolve()):(Za()<=Me.DEBUG&&oe("QueryEngine","Query:",Ja(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Za()<=Me.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",Ja(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,di(n))):W.resolve())}rs(e,n){if(_v(n))return W.resolve(null);let s=di(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=ym(n,null,"F"),s=di(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ve(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const _=this.cs(n,m);return this.ls(n,_,f,p.readTime)?this.rs(e,ym(n,null,"F")):this.hs(e,_,n,p)}))})))}ss(e,n,s,o){return _v(n)||o.isEqual(Se.min())?W.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?W.resolve(null):(Za()<=Me.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ja(n)),this.hs(e,f,n,b1(o,$l)).next(m=>m))})}cs(e,n){let s=new Nt(mT(e));return n.forEach((o,u)=>{Ih(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return Za()<=Me.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",Ja(n)),this.ns.getDocumentsMatchingQuery(e,n,ss.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tp="LocalStore",sI=3e8;class aI{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new at(Pe),this.Is=new ra(u=>Gm(u),Km),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new QC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function oI(r,e,n,s){return new aI(r,e,n,s)}async function UT(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ve();for(const _ of o){f.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of u){m.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(_=>({Rs:_,removedBatchIds:f,addedBatchIds:m}))})})}function lI(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,_,T){const b=_.batch,x=b.keys();let P=W.resolve();return x.forEach(z=>{P=P.next(()=>T.getEntry(p,z)).next(Y=>{const q=_.docVersions.get(z);$e(q!==null),Y.version.compareTo(q)<0&&(b.applyToRemoteDocument(Y,_),Y.isValidDocument()&&(Y.setReadTime(_.commitVersion),T.addEntry(Y)))})}),P.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ve();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(p=p.add(m.batch.mutations[_].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function jT(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function uI(r,e){const n=we(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((T,b)=>{const x=o.get(b);if(!x)return;m.push(n.Hr.removeMatchingKeys(u,T.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(u,T.addedDocuments,b)));let P=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?P=P.withResumeToken(Kt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):T.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(T.resumeToken,s)),o=o.insert(b,P),function(Y,q,Q){return Y.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=sI?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(x,P,T)&&m.push(n.Hr.updateTargetData(u,P))});let p=ar(),_=Ve();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(cI(u,f,e.documentUpdates).next(T=>{p=T.Vs,_=T.fs})),!s.isEqual(Se.min())){const T=n.Hr.getLastRemoteSnapshotVersion(u).next(b=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return W.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,_)).next(()=>p)}).then(u=>(n.Ts=o,u))}function cI(r,e,n){let s=Ve(),o=Ve();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=ar();return n.forEach((m,p)=>{const _=u.get(m);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):oe(tp,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function hI(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Hm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function fI(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,W.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Jr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Am(r,e,n){const s=we(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!To(f))throw f;oe(tp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function xv(r,e,n){const s=we(r);let o=Se.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,_,T){const b=we(p),x=b.Is.get(T);return x!==void 0?W.resolve(b.Ts.get(x)):b.Hr.getTargetData(_,T)}(s,f,di(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:Ve())).next(m=>(dI(s,Z1(e),m),{documents:m,gs:u})))}function dI(r,e,n){let s=r.Es.get(e)||Se.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class Nv{constructor(){this.activeTargetIds=rC()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class mI{constructor(){this.ho=new Nv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Nv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="ConnectivityMonitor";class Mv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){oe(Ov,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){oe(Ov,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zc=null;function wm(){return zc===null?zc=function(){return 268435456+Math.round(2147483648*Math.random())}():zc++,"0x"+zc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="RestConnection",gI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _I{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===rh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,n,s,o,u){const f=wm(),m=this.So(e,n.toUriEncodedString());oe(tm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(_=>(oe(tm,`Received RPC '${e}' ${f}: `,_),_),_=>{throw lo(tm,`RPC '${e}' ${f} failed with error: `,_,"url: ",m,"request:",s),_})}Co(e,n,s,o,u,f){return this.bo(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}So(e,n){const s=gI[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class vI extends _I{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=wm();return new Promise((f,m)=>{const p=new FE;p.setWithCredentials(!0),p.listenOnce(GE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Fc.NO_ERROR:const T=p.getResponseJson();oe(Xt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),f(T);break;case Fc.TIMEOUT:oe(Xt,`RPC '${e}' ${u} timed out`),m(new de(J.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const b=p.getStatus();if(oe(Xt,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let x=p.getResponseJson();Array.isArray(x)&&(x=x[0]);const P=x==null?void 0:x.error;if(P&&P.status&&P.message){const z=function(q){const Q=q.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Q)>=0?Q:J.UNKNOWN}(P.status);m(new de(z,P.message))}else m(new de(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new de(J.UNAVAILABLE,"Connection failed."));break;default:Ee()}}finally{oe(Xt,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(o);oe(Xt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",_,s,15)})}Wo(e,n,s){const o=wm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=QE(),m=$E(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");oe(Xt,`Creating RPC '${e}' stream ${o}: ${T}`,p);const b=f.createWebChannel(T,p);let x=!1,P=!1;const z=new yI({Fo:q=>{P?oe(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(x||(oe(Xt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),x=!0),oe(Xt,`RPC '${e}' stream ${o} sending:`,q),b.send(q))},Mo:()=>b.close()}),Y=(q,Q,ne)=>{q.listen(Q,ee=>{try{ne(ee)}catch(pe){setTimeout(()=>{throw pe},0)}})};return Y(b,Pl.EventType.OPEN,()=>{P||(oe(Xt,`RPC '${e}' stream ${o} transport opened.`),z.Qo())}),Y(b,Pl.EventType.CLOSE,()=>{P||(P=!0,oe(Xt,`RPC '${e}' stream ${o} transport closed`),z.Ko())}),Y(b,Pl.EventType.ERROR,q=>{P||(P=!0,lo(Xt,`RPC '${e}' stream ${o} transport errored:`,q),z.Ko(new de(J.UNAVAILABLE,"The operation could not be completed")))}),Y(b,Pl.EventType.MESSAGE,q=>{var Q;if(!P){const ne=q.data[0];$e(!!ne);const ee=ne,pe=(ee==null?void 0:ee.error)||((Q=ee[0])===null||Q===void 0?void 0:Q.error);if(pe){oe(Xt,`RPC '${e}' stream ${o} received error:`,pe);const ue=pe.status;let be=function(w){const I=Tt[w];if(I!==void 0)return RT(I)}(ue),M=pe.message;be===void 0&&(be=J.INTERNAL,M="Unknown error status: "+ue+" with message "+pe.message),P=!0,z.Ko(new de(be,M)),b.close()}else oe(Xt,`RPC '${e}' stream ${o} received:`,ne),z.Uo(ne)}}),Y(m,KE.STAT_EVENT,q=>{q.stat===dm.PROXY?oe(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===dm.NOPROXY&&oe(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{z.$o()},0),z}}function nm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(r){return new AC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv="PersistentStream";class BT{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new zT(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(sr(n.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new de(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return oe(Vv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(oe(Vv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class EI extends BT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=RC(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?mi(f.readTime):Se.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Sm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=_m(p)?{documents:DC(u,p)}:{query:xC(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=DT(u,f.resumeToken);const _=vm(u,f.expectedCount);_!==null&&(m.expectedCount=_)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=ch(u,f.snapshotVersion.toTimestamp());const _=vm(u,f.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const s=OC(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Sm(this.serializer),n.removeTarget=e,this.I_(n)}}class TI extends BT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return $e(!!e.streamToken),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){$e(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=IC(e.writeResults,e.commitTime),s=mi(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Sm(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>CC(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{}class AI extends SI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(e,Em(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(J.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Em(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new de(J.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class wI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(sr(n),this.N_=!1):oe("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws="RemoteStore";class bI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{aa(this)&&(oe(Ws,"Restarting streams for network reachability change."),await async function(p){const _=we(p);_.W_.add(4),await lu(_),_.j_.set("Unknown"),_.W_.delete(4),await Mh(_)}(this))})}),this.j_=new wI(s,o)}}async function Mh(r){if(aa(r))for(const e of r.G_)await e(!0)}async function lu(r){for(const e of r.G_)await e(!1)}function HT(r,e){const n=we(r);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),sp(n)?rp(n):So(n).c_()&&ip(n,e))}function np(r,e){const n=we(r),s=So(n);n.U_.delete(e),s.c_()&&qT(n,e),n.U_.size===0&&(s.c_()?s.P_():aa(n)&&n.j_.set("Unknown"))}function ip(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}So(r).y_(e)}function qT(r,e){r.H_.Ne(e),So(r).w_(e)}function rp(r){r.H_=new vC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),So(r).start(),r.j_.B_()}function sp(r){return aa(r)&&!So(r).u_()&&r.U_.size>0}function aa(r){return we(r).W_.size===0}function FT(r){r.H_=void 0}async function RI(r){r.j_.set("Online")}async function CI(r){r.U_.forEach((e,n)=>{ip(r,e)})}async function II(r,e){FT(r),sp(r)?(r.j_.q_(e),rp(r)):r.j_.set("Unknown")}async function DI(r,e,n){if(r.j_.set("Online"),e instanceof IT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){oe(Ws,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await fh(r,s)}else if(e instanceof Qc?r.H_.We(e):e instanceof CT?r.H_.Ze(e):r.H_.je(e),!n.isEqual(Se.min()))try{const s=await jT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.U_.get(_);T&&u.U_.set(_,T.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,_)=>{const T=u.U_.get(p);if(!T)return;u.U_.set(p,T.withResumeToken(Kt.EMPTY_BYTE_STRING,T.snapshotVersion)),qT(u,p);const b=new Jr(T.target,p,_,T.sequenceNumber);ip(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){oe(Ws,"Failed to raise snapshot:",s),await fh(r,s)}}async function fh(r,e,n){if(!To(e))throw e;r.W_.add(1),await lu(r),r.j_.set("Offline"),n||(n=()=>jT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{oe(Ws,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Mh(r)})}function GT(r,e){return e().catch(n=>fh(r,n,e))}async function Vh(r){const e=we(r),n=us(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:Hm;for(;xI(e);)try{const o=await hI(e.localStore,s);if(o===null){e.K_.length===0&&n.P_();break}s=o.batchId,NI(e,o)}catch(o){await fh(e,o)}KT(e)&&$T(e)}function xI(r){return aa(r)&&r.K_.length<10}function NI(r,e){r.K_.push(e);const n=us(r);n.c_()&&n.b_&&n.S_(e.mutations)}function KT(r){return aa(r)&&!us(r).u_()&&r.K_.length>0}function $T(r){us(r).start()}async function OI(r){us(r).C_()}async function MI(r){const e=us(r);for(const n of r.K_)e.S_(n.mutations)}async function VI(r,e,n){const s=r.K_.shift(),o=Ym.from(s,e,n);await GT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Vh(r)}async function kI(r,e){e&&us(r).b_&&await async function(s,o){if(function(f){return gC(f)&&f!==J.ABORTED}(o.code)){const u=s.K_.shift();us(s).h_(),await GT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Vh(s)}}(r,e),KT(r)&&$T(r)}async function kv(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),oe(Ws,"RemoteStore received new credentials");const s=aa(n);n.W_.add(3),await lu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Mh(n)}async function PI(r,e){const n=we(r);e?(n.W_.delete(2),await Mh(n)):e||(n.W_.add(2),await lu(n),n.j_.set("Unknown"))}function So(r){return r.J_||(r.J_=function(n,s,o){const u=we(n);return u.M_(),new EI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:RI.bind(null,r),No:CI.bind(null,r),Lo:II.bind(null,r),p_:DI.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),sp(r)?rp(r):r.j_.set("Unknown")):(await r.J_.stop(),FT(r))})),r.J_}function us(r){return r.Y_||(r.Y_=function(n,s,o){const u=we(n);return u.M_(),new TI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:OI.bind(null,r),Lo:kI.bind(null,r),D_:MI.bind(null,r),v_:VI.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Vh(r)):(await r.Y_.stop(),r.K_.length>0&&(oe(Ws,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new ap(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function op(r,e){if(sr("AsyncQueue",`${e}: ${r}`),To(r))return new de(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{static emptySet(e){return new io(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Ll(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof io)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new io;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{constructor(){this.Z_=new at(ge.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Ee():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class mo{constructor(e,n,s,o,u,f,m,p,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new mo(e,n,io.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ch(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class UI{constructor(){this.queries=Lv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=Lv(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new de(J.ABORTED,"Firestore shutting down"))}}function Lv(){return new ra(r=>dT(r),Ch)}async function QT(r,e){const n=we(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new LI,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=op(f,`Initialization of query '${Ja(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&lp(n)}async function YT(r,e){const n=we(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function jI(r,e){const n=we(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&lp(n)}function zI(r,e,n){const s=we(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function lp(r){r.ia.forEach(e=>{e.next()})}var bm,Uv;(Uv=bm||(bm={}))._a="default",Uv.Cache="cache";class XT{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new mo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=mo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==bm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e){this.key=e}}class ZT{constructor(e){this.key=e}}class BI{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=mT(e),this.wa=new io(this.ya)}get ba(){return this.fa}Sa(e,n){const s=n?n.Da:new Pv,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,b)=>{const x=o.get(T),P=Ih(this.query,b)?b:null,z=!!x&&this.mutatedKeys.has(x.key),Y=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let q=!1;x&&P?x.data.isEqual(P.data)?z!==Y&&(s.track({type:3,doc:P}),q=!0):this.va(x,P)||(s.track({type:2,doc:P}),q=!0,(p&&this.ya(P,p)>0||_&&this.ya(P,_)<0)&&(m=!0)):!x&&P?(s.track({type:0,doc:P}),q=!0):x&&!P&&(s.track({type:1,doc:x}),q=!0,(p||_)&&(m=!0)),q&&(P?(f=f.add(P),u=Y?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((T,b)=>function(P,z){const Y=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee()}};return Y(P)-Y(z)}(T.type,b.type)||this.ya(T.doc,b.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,_=p!==this.ga;return this.ga=p,f.length!==0||_?{snapshot:new mo(this.query,e.wa,u,f,e.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Pv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new ZT(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new WT(s))}),n}Oa(e){this.fa=e.gs,this.pa=Ve();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return mo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const up="SyncEngine";class HI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class qI{constructor(e){this.key=e,this.Ba=!1}}class FI{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new ra(m=>dT(m),Ch),this.qa=new Map,this.Qa=new Set,this.$a=new at(ge.comparator),this.Ka=new Map,this.Ua=new Zm,this.Wa={},this.Ga=new Map,this.za=fo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function GI(r,e,n=!0){const s=r0(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await JT(s,e,n,!0),o}async function KI(r,e){const n=r0(r);await JT(n,e,!0,!1)}async function JT(r,e,n,s){const o=await fI(r.localStore,di(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await $I(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&HT(r.remoteStore,o),m}async function $I(r,e,n,s,o){r.Ha=(b,x,P)=>async function(Y,q,Q,ne){let ee=q.view.Sa(Q);ee.ls&&(ee=await xv(Y.localStore,q.query,!1).then(({documents:M})=>q.view.Sa(M,ee)));const pe=ne&&ne.targetChanges.get(q.targetId),ue=ne&&ne.targetMismatches.get(q.targetId)!=null,be=q.view.applyChanges(ee,Y.isPrimaryClient,pe,ue);return zv(Y,q.targetId,be.Ma),be.snapshot}(r,b,x,P);const u=await xv(r.localStore,e,!0),f=new BI(e,u.gs),m=f.Sa(u.documents),p=ou.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),_=f.applyChanges(m,r.isPrimaryClient,p);zv(r,n,_.Ma);const T=new HI(e,n,f);return r.ka.set(e,T),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),_.snapshot}async function QI(r,e,n){const s=we(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Ch(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Am(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&np(s.remoteStore,o.targetId),Rm(s,o.targetId)}).catch(Eo)):(Rm(s,o.targetId),await Am(s.localStore,o.targetId,!0))}async function YI(r,e){const n=we(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),np(n.remoteStore,s.targetId))}async function XI(r,e,n){const s=iD(r);try{const o=await function(f,m){const p=we(f),_=xt.now(),T=m.reduce((P,z)=>P.add(z.key),Ve());let b,x;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let z=ar(),Y=Ve();return p.ds.getEntries(P,T).next(q=>{z=q,z.forEach((Q,ne)=>{ne.isValidDocument()||(Y=Y.add(Q))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,z)).next(q=>{b=q;const Q=[];for(const ne of m){const ee=hC(ne,b.get(ne.key).overlayedDocument);ee!=null&&Q.push(new sa(ne.key,ee,aT(ee.value.mapValue),tr.exists(!0)))}return p.mutationQueue.addMutationBatch(P,_,Q,m)}).next(q=>{x=q;const Q=q.applyToLocalDocumentSet(b,Y);return p.documentOverlayCache.saveOverlays(P,q.batchId,Q)})}).then(()=>({batchId:x.batchId,changes:gT(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let _=f.Wa[f.currentUser.toKey()];_||(_=new at(Pe)),_=_.insert(m,p),f.Wa[f.currentUser.toKey()]=_}(s,o.batchId,n),await uu(s,o.changes),await Vh(s.remoteStore)}catch(o){const u=op(o,"Failed to persist write");n.reject(u)}}async function e0(r,e){const n=we(r);try{const s=await uI(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?$e(f.Ba):o.removedDocuments.size>0&&($e(f.Ba),f.Ba=!1))}),await uu(n,s,e)}catch(s){await Eo(s)}}function jv(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=we(f);p.onlineState=m;let _=!1;p.queries.forEach((T,b)=>{for(const x of b.ta)x.sa(m)&&(_=!0)}),_&&lp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function WI(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ka.get(e),u=o&&o.key;if(u){let f=new at(ge.comparator);f=f.insert(u,Zt.newNoDocument(u,Se.min()));const m=Ve().add(u),p=new Nh(Se.min(),new Map,new at(Pe),f,m);await e0(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),cp(s)}else await Am(s.localStore,e,!1).then(()=>Rm(s,e,n)).catch(Eo)}async function ZI(r,e){const n=we(r),s=e.batch.batchId;try{const o=await lI(n.localStore,e);n0(n,s,null),t0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await uu(n,o)}catch(o){await Eo(o)}}async function JI(r,e,n){const s=we(r);try{const o=await function(f,m){const p=we(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let T;return p.mutationQueue.lookupMutationBatch(_,m).next(b=>($e(b!==null),T=b.keys(),p.mutationQueue.removeMutationBatch(_,b))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T)).next(()=>p.localDocuments.getDocuments(_,T))})}(s.localStore,e);n0(s,e,n),t0(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await uu(s,o)}catch(o){await Eo(o)}}function t0(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function n0(r,e,n){const s=we(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Rm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ua.Sr(e).forEach(s=>{r.Ua.containsKey(s)||i0(r,s)})}function i0(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(np(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ka.delete(n),cp(r))}function zv(r,e,n){for(const s of n)s instanceof WT?(r.Ua.addReference(s.key,e),eD(r,s)):s instanceof ZT?(oe(up,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||i0(r,s.key)):Ee()}function eD(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(oe(up,"New document in limbo: "+n),r.Qa.add(s),cp(r))}function cp(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new ge(tt.fromString(e)),s=r.za.next();r.Ka.set(s,new qI(n)),r.$a=r.$a.insert(n,s),HT(r.remoteStore,new Jr(di($m(n.path)),s,"TargetPurposeLimboResolution",Ah.ae))}}async function uu(r,e,n){const s=we(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(_=>{var T;if((_||n)&&s.isPrimaryClient){const b=_?!_.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(_){o.push(_);const b=ep.Yi(p.targetId,_);u.push(b)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,_){const T=we(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>W.forEach(_,x=>W.forEach(x.Hi,P=>T.persistence.referenceDelegate.addReference(b,x.targetId,P)).next(()=>W.forEach(x.Ji,P=>T.persistence.referenceDelegate.removeReference(b,x.targetId,P)))))}catch(b){if(!To(b))throw b;oe(tp,"Failed to update sequence numbers: "+b)}for(const b of _){const x=b.targetId;if(!b.fromCache){const P=T.Ts.get(x),z=P.snapshotVersion,Y=P.withLastLimboFreeSnapshotVersion(z);T.Ts=T.Ts.insert(x,Y)}}}(s.localStore,u))}async function tD(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){oe(up,"User change. New user:",e.toKey());const s=await UT(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new de(J.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await uu(n,s.Rs)}}function nD(r,e){const n=we(r),s=n.Ka.get(e);if(s&&s.Ba)return Ve().add(s.key);{let o=Ve();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.ba)}return o}}function r0(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=e0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=nD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=WI.bind(null,e),e.La.p_=jI.bind(null,e.eventManager),e.La.Ja=zI.bind(null,e.eventManager),e}function iD(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ZI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=JI.bind(null,e),e}class dh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Oh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return oI(this.persistence,new rI,e.initialUser,this.serializer)}Xa(e){return new LT(Jm.ri,this.serializer)}Za(e){return new mI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}dh.provider={build:()=>new dh};class rD extends dh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){$e(this.persistence.referenceDelegate instanceof hh);const s=this.persistence.referenceDelegate.garbageCollector;return new qC(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new LT(s=>hh.ri(s,n),this.serializer)}}class Cm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>jv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=tD.bind(null,this.syncEngine),await PI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new UI}()}createDatastore(e){const n=Oh(e.databaseInfo.databaseId),s=function(u){return new vI(u)}(e.databaseInfo);return function(u,f,m,p){return new AI(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new bI(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>jv(this.syncEngine,n,0),function(){return Mv.D()?new Mv:new pI}())}createSyncEngine(e,n){return function(o,u,f,m,p,_,T){const b=new FI(o,u,f,m,p,_);return T&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=we(o);oe(Ws,"RemoteStore shutting down."),u.W_.add(5),await lu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Cm.provider={build:()=>new Cm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cs="FirestoreClient";class sD{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=XE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{oe(cs,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(oe(cs,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=op(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function im(r,e){r.asyncQueue.verifyOperationInProgress(),oe(cs,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await UT(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Bv(r,e){r.asyncQueue.verifyOperationInProgress();const n=await aD(r);oe(cs,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>kv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>kv(e.remoteStore,o)),r._onlineComponents=e}async function aD(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(cs,"Using user provided OfflineComponentProvider");try{await im(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;lo("Error using user provided cache. Falling back to memory cache: "+n),await im(r,new dh)}}else oe(cs,"Using default OfflineComponentProvider"),await im(r,new rD(void 0));return r._offlineComponents}async function a0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(cs,"Using user provided OnlineComponentProvider"),await Bv(r,r._uninitializedComponentsProvider._online)):(oe(cs,"Using default OnlineComponentProvider"),await Bv(r,new Cm))),r._onlineComponents}function oD(r){return a0(r).then(e=>e.syncEngine)}async function o0(r){const e=await a0(r),n=e.eventManager;return n.onListen=GI.bind(null,e.syncEngine),n.onUnlisten=QI.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=KI.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=YI.bind(null,e.syncEngine),n}function lD(r,e,n={}){const s=new er;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,_){const T=new s0({next:x=>{T.su(),f.enqueueAndForget(()=>YT(u,b));const P=x.docs.has(m);!P&&x.fromCache?_.reject(new de(J.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&x.fromCache&&p&&p.source==="server"?_.reject(new de(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(x)},error:x=>_.reject(x)}),b=new XT($m(m.path),T,{includeMetadataChanges:!0,Ta:!0});return QT(u,b)}(await o0(r),r.asyncQueue,e,n,s)),s.promise}function uD(r,e,n={}){const s=new er;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,_){const T=new s0({next:x=>{T.su(),f.enqueueAndForget(()=>YT(u,b)),x.fromCache&&p.source==="server"?_.reject(new de(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(x)},error:x=>_.reject(x)}),b=new XT(m,T,{includeMetadataChanges:!0,Ta:!0});return QT(u,b)}(await o0(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u0(r,e,n){if(!n)throw new de(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function cD(r,e,n,s){if(e===!0&&s===!0)throw new de(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function qv(r){if(!ge.isDocumentKey(r))throw new de(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Fv(r){if(ge.isDocumentKey(r))throw new de(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function hp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ee()}function Zs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new de(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hp(r);throw new de(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c0="firestore.googleapis.com",Gv=!0;class Kv{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=c0,this.ssl=Gv}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Gv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=PT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<BC)throw new de(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}cD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=l0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class kh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Kv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Kv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new _1;switch(s.type){case"firstParty":return new T1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Hv.get(n);s&&(oe("ComponentProvider","Removing Datastore"),Hv.delete(n),s.terminate())}(this),Promise.resolve()}}function hD(r,e,n,s={}){var o;const u=(r=Zs(r,kh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==c0&&u.host!==m&&lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Qs(p,f)&&(r._setSettings(p),s.mockUserToken)){let _,T;if(typeof s.mockUserToken=="string")_=s.mockUserToken,T=Wt.MOCK_USER;else{_=Kb(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new de(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Wt(b)}r._authCredentials=new y1(new YE(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ph(this.firestore,e,this._query)}}class En{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}}class rs extends Ph{constructor(e,n,s){super(e,n,$m(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new ge(e))}withConverter(e){return new rs(this.firestore,e,this._path)}}function h0(r,e,...n){if(r=Tn(r),u0("collection","path",e),r instanceof kh){const s=tt.fromString(e,...n);return Fv(s),new rs(r,null,s)}{if(!(r instanceof En||r instanceof rs))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return Fv(s),new rs(r.firestore,null,s)}}function f0(r,e,...n){if(r=Tn(r),arguments.length===1&&(e=XE.newId()),u0("doc","path",e),r instanceof kh){const s=tt.fromString(e,...n);return qv(s),new En(r,null,new ge(s))}{if(!(r instanceof En||r instanceof rs))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return qv(s),new En(r.firestore,r instanceof rs?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="AsyncQueue";class Qv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new zT(this,"async_queue_retry"),this.bu=()=>{const s=nm();s&&oe($v,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const n=nm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=nm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new er;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!To(e))throw e;oe($v,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw sr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=ap.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ee()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Lh extends kh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Qv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Qv(e),this._firestoreClient=void 0,await e}}}function fD(r,e){const n=typeof r=="object"?r:zE(),s=typeof r=="string"?r:rh,o=zm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Fb("firestore");u&&hD(o,...u)}return o}function fp(r){if(r._terminated)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||dD(r),r._firestoreClient}function dD(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,_,T){return new k1(m,p,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,l0(T.experimentalLongPollingOptions),T.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new sD(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this._byteString=e}static fromBase64String(e){try{return new po(Kt.fromBase64String(e))}catch(n){throw new de(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new po(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD=/^__.*__$/;class pD{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new sa(e,this.data,this.fieldMask,n,this.fieldTransforms):new au(e,this.data,n,this.fieldTransforms)}}function m0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee()}}class gp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new gp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return mh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(m0(this.Lu)&&mD.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class gD{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Oh(e)}ju(e,n,s,o=!1){return new gp({Lu:e,methodName:n,zu:s,path:Gt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _D(r){const e=r._freezeSettings(),n=Oh(r._databaseId);return new gD(r._databaseId,!!e.ignoreUndefinedProperties,n)}function yD(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);y0("Data must be an object, but it was:",f,s);const m=g0(s,f);let p,_;if(u.merge)p=new $n(f.fieldMask),_=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const x=vD(e,b,n);if(!f.contains(x))throw new de(J.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);TD(T,x)||T.push(x)}p=new $n(T),_=f.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,_=f.fieldTransforms;return new pD(new zn(m),p,_)}function p0(r,e){if(_0(r=Tn(r)))return y0("Unsupported field value:",e,r),g0(r,e);if(r instanceof d0)return function(s,o){if(!m0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=p0(m,o.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Tn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return sC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=xt.fromDate(s);return{timestampValue:ch(o.serializer,u)}}if(s instanceof xt){const u=new xt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:ch(o.serializer,u)}}if(s instanceof mp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof po)return{bytesValue:DT(o.serializer,s._byteString)};if(s instanceof En){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Wm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof pp)return function(f,m){return{mapValue:{fields:{[rT]:{stringValue:sT},[sh]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw m.Wu("VectorValues must only contain numeric values.");return Qm(m.serializer,_)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${hp(s)}`)}(r,e)}function g0(r,e){const n={};return ZE(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ia(r,(s,o)=>{const u=p0(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function _0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof xt||r instanceof mp||r instanceof po||r instanceof En||r instanceof d0||r instanceof pp)}function y0(r,e,n){if(!_0(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=hp(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function vD(r,e,n){if((e=Tn(e))instanceof dp)return e._internalPath;if(typeof e=="string")return v0(r,e);throw mh("Field path arguments must be of type string or ",r,!1,void 0,n)}const ED=new RegExp("[~\\*/\\[\\]]");function v0(r,e,n){if(e.search(ED)>=0)throw mh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new dp(...e.split("."))._internalPath}catch{throw mh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function mh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new de(J.INVALID_ARGUMENT,m+r+p)}function TD(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E0{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new SD(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(T0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class SD extends E0{data(){return super.data()}}function T0(r,e){return typeof e=="string"?v0(r,e):e instanceof dp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AD(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new de(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wD{convertValue(e,n="none"){switch(ls(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(os(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ia(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[sh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>pt(f.doubleValue));return new pp(u)}convertGeoPoint(e){return new mp(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=bh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ql(e));default:return null}}convertTimestamp(e){const n=as(e);return new xt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);$e(kT(s));const o=new Yl(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||sr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class S0 extends E0{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(T0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Yc extends S0{data(e={}){return super.data(e)}}class RD{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new jl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Yc(this._firestore,this._userDataWriter,s.key,s,new jl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new Yc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Yc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return m.type!==0&&(_=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:CD(m.type),doc:p,oldIndex:_,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function CD(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ID(r){r=Zs(r,En);const e=Zs(r.firestore,Lh);return lD(fp(e),r._key).then(n=>ND(e,r,n))}class A0 extends wD{constructor(e){super(),this.firestore=e}convertBytes(e){return new po(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,n)}}function w0(r){r=Zs(r,Ph);const e=Zs(r.firestore,Lh),n=fp(e),s=new A0(e);return AD(r._query),uD(n,r._query).then(o=>new RD(e,s,r,o))}function DD(r,e,n){r=Zs(r,En);const s=Zs(r.firestore,Lh),o=bD(r.converter,e);return xD(s,[yD(_D(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,tr.none())])}function xD(r,e){return function(s,o){const u=new er;return s.asyncQueue.enqueueAndForget(async()=>XI(await oD(s),o,u)),u.promise}(fp(r),e)}function ND(r,e,n){const s=n.docs.get(e._key),o=new A0(r);return new S0(r,o,e._key,s,new jl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){vo=o})(yo),oo(new Ys("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Lh(new v1(s.getProvider("auth-internal")),new S1(f,s.getProvider("app-check-internal")),function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new de(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Yl(_.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),ns(tv,nv,e),ns(tv,nv,"esm2017")})();function _p(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function b0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const OD=b0,R0=new ru("auth","Firebase",b0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ph=new Um("@firebase/auth");function MD(r,...e){ph.logLevel<=Me.WARN&&ph.warn(`Auth (${yo}): ${r}`,...e)}function Xc(r,...e){ph.logLevel<=Me.ERROR&&ph.error(`Auth (${yo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qn(r,...e){throw yp(r,...e)}function pi(r,...e){return yp(r,...e)}function C0(r,e,n){const s=Object.assign(Object.assign({},OD()),{[e]:n});return new ru("auth","Firebase",s).create(e,{appName:r.name})}function nr(r){return C0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return R0.create(r,...e)}function ye(r,e,...n){if(!r)throw yp(e,...n)}function Xi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Xc(e),new Error(e)}function or(r,e){r||Xi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function VD(){return Yv()==="http:"||Yv()==="https:"}function Yv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(VD()||Xb()||"connection"in navigator)?navigator.onLine:!0}function PD(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,n){this.shortDelay=e,this.longDelay=n,or(n>e,"Short delay should be less than long delay!"),this.isMobile=$b()||Wb()}get(){return kD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(r,e){or(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Xi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Xi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Xi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=new cu(3e4,6e4);function hs(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function fs(r,e,n,s,o={}){return D0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=su(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:e,headers:p},u);return Yb()||(_.referrerPolicy="no-referrer"),I0.fetch()(x0(r,r.config.apiHost,n,m),_)})}async function D0(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},LD),e);try{const o=new zD(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Bc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,_]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Bc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Bc(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw C0(r,T,_);Qn(r,T)}}catch(o){if(o instanceof lr)throw o;Qn(r,"network-request-failed",{message:String(o)})}}async function hu(r,e,n,s,o={}){const u=await fs(r,e,n,s,o);return"mfaPendingCredential"in u&&Qn(r,"multi-factor-auth-required",{_serverResponse:u}),u}function x0(r,e,n,s){const o=`${e}${n}?${s}`;return r.config.emulator?vp(r.config,o):`${r.config.apiScheme}://${o}`}function jD(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class zD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(pi(this.auth,"network-request-failed")),UD.get())})}}function Bc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=pi(r,e,s);return o.customData._tokenResponse=n,o}function Xv(r){return r!==void 0&&r.enterprise!==void 0}class BD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return jD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function HD(r,e){return fs(r,"GET","/v2/recaptchaConfig",hs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qD(r,e){return fs(r,"POST","/v1/accounts:delete",e)}async function N0(r,e){return fs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function FD(r,e=!1){const n=Tn(r),s=await n.getIdToken(e),o=Ep(s);ye(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Fl(rm(o.auth_time)),issuedAtTime:Fl(rm(o.iat)),expirationTime:Fl(rm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function rm(r){return Number(r)*1e3}function Ep(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=ME(n);return o?JSON.parse(o):(Xc("Failed to decode base64 JWT payload"),null)}catch(o){return Xc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Wv(r){const e=Ep(r);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jl(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof lr&&GD(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function GD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Fl(this.lastLoginAt),this.creationTime=Fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await Jl(r,N0(n,{idToken:s}));ye(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?O0(u.providerUserInfo):[],m=QD(r.providerData,f),p=r.isAnonymous,_=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),T=p?_:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Dm(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,b)}async function $D(r){const e=Tn(r);await gh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function QD(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function O0(r){return r.map(e=>{var{providerId:n}=e,s=_p(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(r,e){const n=await D0(r,{},async()=>{const s=su({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=x0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",I0.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function XD(r,e){return fs(r,"POST","/v2/accounts:revokeToken",hs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Wv(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=Wv(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await YD(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ro;return s&&(ye(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ye(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ye(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return Xi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(r,e){ye(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Wi{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=_p(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new KD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Dm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Jl(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return FD(this,e)}reload(){return $D(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await gh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(nr(this.auth));const e=await this.getIdToken();return await Jl(this,qD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,_,T;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,x=(o=n.email)!==null&&o!==void 0?o:void 0,P=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,z=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Y=(m=n.tenantId)!==null&&m!==void 0?m:void 0,q=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Q=(_=n.createdAt)!==null&&_!==void 0?_:void 0,ne=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:ee,emailVerified:pe,isAnonymous:ue,providerData:be,stsTokenManager:M}=n;ye(ee&&M,e,"internal-error");const R=ro.fromJSON(this.name,M);ye(typeof ee=="string",e,"internal-error"),Kr(b,e.name),Kr(x,e.name),ye(typeof pe=="boolean",e,"internal-error"),ye(typeof ue=="boolean",e,"internal-error"),Kr(P,e.name),Kr(z,e.name),Kr(Y,e.name),Kr(q,e.name),Kr(Q,e.name),Kr(ne,e.name);const w=new Wi({uid:ee,auth:e,email:x,emailVerified:pe,displayName:b,isAnonymous:ue,photoURL:z,phoneNumber:P,tenantId:Y,stsTokenManager:R,createdAt:Q,lastLoginAt:ne});return be&&Array.isArray(be)&&(w.providerData=be.map(I=>Object.assign({},I))),q&&(w._redirectEventId=q),w}static async _fromIdTokenResponse(e,n,s=!1){const o=new ro;o.updateFromServerResponse(n);const u=new Wi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await gh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ye(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?O0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new ro;m.updateFromIdToken(s);const p=new Wi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Dm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=new Map;function Zi(r){or(r instanceof Function,"Expected a class definition");let e=Zv.get(r);return e?(or(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Zv.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}M0.type="NONE";const Jv=M0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(r,e,n){return`firebase:${r}:${e}:${n}`}class so{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Wc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Wc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Wi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new so(Zi(Jv),e,s);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||Zi(Jv);const f=Wc(s,e.config.apiKey,e.name);let m=null;for(const _ of n)try{const T=await _._get(f);if(T){const b=Wi._fromJSON(e,T);_!==u&&(m=b),u=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new so(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new so(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(L0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(V0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(j0(e))return"Blackberry";if(z0(e))return"Webos";if(k0(e))return"Safari";if((e.includes("chrome/")||P0(e))&&!e.includes("edge/"))return"Chrome";if(U0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function V0(r=Jt()){return/firefox\//i.test(r)}function k0(r=Jt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function P0(r=Jt()){return/crios\//i.test(r)}function L0(r=Jt()){return/iemobile/i.test(r)}function U0(r=Jt()){return/android/i.test(r)}function j0(r=Jt()){return/blackberry/i.test(r)}function z0(r=Jt()){return/webos/i.test(r)}function Tp(r=Jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function WD(r=Jt()){var e;return Tp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function ZD(){return Zb()&&document.documentMode===10}function B0(r=Jt()){return Tp(r)||U0(r)||z0(r)||j0(r)||/windows phone/i.test(r)||L0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(r,e=[]){let n;switch(r){case"Browser":n=eE(Jt());break;case"Worker":n=`${eE(Jt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ex(r,e={}){return fs(r,"GET","/v2/passwordPolicy",hs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx=6;class nx{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:tx,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tE(this),this.idTokenSubscription=new tE(this),this.beforeStateQueue=new JD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Zi(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await so.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await N0(this,{idToken:e}),s=await Wi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(jn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await gh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(nr(this));const n=e?Tn(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await ex(this),n=new nx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ru("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await XD(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Zi(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[Zi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=H0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&MD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function oa(r){return Tn(r)}class tE{constructor(e){this.auth=e,this.observer=null,this.addObserver=aR(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function rx(r){Uh=r}function q0(r){return Uh.loadJS(r)}function sx(){return Uh.recaptchaEnterpriseScript}function ax(){return Uh.gapiScript}function ox(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class lx{constructor(){this.enterprise=new ux}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class ux{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const cx="recaptcha-enterprise",F0="NO_RECAPTCHA";class hx{constructor(e){this.type=cx,this.auth=oa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{HD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new BD(p);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,f(_.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Xv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(_=>{f(_)}).catch(()=>{f(F0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new lx().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Xv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=sx();p.length!==0&&(p+=m),q0(p).then(()=>{o(m,u,f)}).catch(_=>{f(_)})}}).catch(m=>{f(m)})})}}async function nE(r,e,n,s=!1,o=!1){const u=new hx(r);let f;if(o)f=F0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function xm(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await nE(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await nE(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fx(r,e){const n=zm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Qs(u,e??{}))return o;Qn(o,"already-initialized")}return n.initialize({options:e})}function dx(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Zi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function mx(r,e,n){const s=oa(r);ye(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=G0(e),{host:f,port:m}=px(e),p=m===null?"":`:${m}`,_={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ye(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ye(Qs(_,s.config.emulator)&&Qs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,gx()}function G0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function px(r){const e=G0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:iE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:iE(f)}}}function iE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function gx(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Xi("not implemented")}_getIdTokenResponse(e){return Xi("not implemented")}_linkToIdToken(e,n){return Xi("not implemented")}_getReauthenticationResolver(e){return Xi("not implemented")}}async function _x(r,e){return fs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yx(r,e){return hu(r,"POST","/v1/accounts:signInWithPassword",hs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vx(r,e){return hu(r,"POST","/v1/accounts:signInWithEmailLink",hs(r,e))}async function Ex(r,e){return hu(r,"POST","/v1/accounts:signInWithEmailLink",hs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu extends Sp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new eu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new eu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xm(e,n,"signInWithPassword",yx);case"emailLink":return vx(e,{email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return xm(e,s,"signUpPassword",_x);case"emailLink":return Ex(e,{idToken:n,email:this._email,oobCode:this._password});default:Qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ao(r,e){return hu(r,"POST","/v1/accounts:signInWithIdp",hs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx="http://localhost";class Js extends Sp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Qn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=_p(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Js(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ao(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ao(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ao(e,n)}buildRequest(){const e={requestUri:Tx,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=su(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sx(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Ax(r){const e=Vl(kl(r)).link,n=e?Vl(kl(e)).deep_link_id:null,s=Vl(kl(r)).deep_link_id;return(s?Vl(kl(s)).link:null)||s||n||e||r}class Ap{constructor(e){var n,s,o,u,f,m;const p=Vl(kl(e)),_=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,b=Sx((o=p.mode)!==null&&o!==void 0?o:null);ye(_&&T&&b,"argument-error"),this.apiKey=_,this.operation=b,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=Ax(e);try{return new Ap(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(){this.providerId=Ao.PROVIDER_ID}static credential(e,n){return eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Ap.parseLink(n);return ye(s,"argument-error"),eu._fromEmailAndCode(e,s.code,s.tenantId)}}Ao.PROVIDER_ID="password";Ao.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ao.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends K0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends fu{constructor(){super("facebook.com")}static credential(e){return Js._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Yr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends fu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Js._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Xr.credential(n,s)}catch{return null}}}Xr.GOOGLE_SIGN_IN_METHOD="google.com";Xr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends fu{constructor(){super("github.com")}static credential(e){return Js._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.GITHUB_SIGN_IN_METHOD="github.com";Wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends fu{constructor(){super("twitter.com")}static credential(e,n){return Js._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Zr.credential(n,s)}catch{return null}}}Zr.TWITTER_SIGN_IN_METHOD="twitter.com";Zr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wx(r,e){return hu(r,"POST","/v1/accounts:signUp",hs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Wi._fromIdTokenResponse(e,s,o),f=rE(s);return new ea({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=rE(s);return new ea({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function rE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends lr{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,_h.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new _h(e,n,s,o)}}function $0(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?_h._fromErrorAndOperation(r,u,e,s):u})}async function bx(r,e,n=!1){const s=await Jl(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ea._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rx(r,e,n=!1){const{auth:s}=r;if(jn(s.app))return Promise.reject(nr(s));const o="reauthenticate";try{const u=await Jl(r,$0(s,o,e,r),n);ye(u.idToken,s,"internal-error");const f=Ep(u.idToken);ye(f,s,"internal-error");const{sub:m}=f;return ye(r.uid===m,s,"user-mismatch"),ea._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Qn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q0(r,e,n=!1){if(jn(r.app))return Promise.reject(nr(r));const s="signIn",o=await $0(r,s,e),u=await ea._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function Cx(r,e){return Q0(oa(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y0(r){const e=oa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Ix(r,e,n){if(jn(r.app))return Promise.reject(nr(r));const s=oa(r),f=await xm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",wx).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Y0(r),p}),m=await ea._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function Dx(r,e,n){return jn(r.app)?Promise.reject(nr(r)):Cx(Tn(r),Ao.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Y0(r),s})}function xx(r,e,n,s){return Tn(r).onIdTokenChanged(e,n,s)}function Nx(r,e,n){return Tn(r).beforeAuthStateChanged(e,n)}function Ox(r){return Tn(r).signOut()}const yh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx=1e3,Vx=10;class W0 extends X0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=B0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);ZD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,Vx):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},Mx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}W0.type="LOCAL";const kx=W0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z0 extends X0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Z0.type="SESSION";const J0=Z0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new jh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async _=>_(n.origin,u)),p=await Px(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const _=wp("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const x=b;if(x.data.eventId===_)switch(x.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(x.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(){return window}function Ux(r){gi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(){return typeof gi().WorkerGlobalScope<"u"&&typeof gi().importScripts=="function"}async function jx(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function zx(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function Bx(){return eS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="firebaseLocalStorageDb",Hx=1,vh="firebaseLocalStorage",nS="fbase_key";class du{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function zh(r,e){return r.transaction([vh],e?"readwrite":"readonly").objectStore(vh)}function qx(){const r=indexedDB.deleteDatabase(tS);return new du(r).toPromise()}function Nm(){const r=indexedDB.open(tS,Hx);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(vh,{keyPath:nS})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(vh)?e(s):(s.close(),await qx(),e(await Nm()))})})}async function sE(r,e,n){const s=zh(r,!0).put({[nS]:e,value:n});return new du(s).toPromise()}async function Fx(r,e){const n=zh(r,!1).get(e),s=await new du(n).toPromise();return s===void 0?null:s.value}function aE(r,e){const n=zh(r,!0).delete(e);return new du(n).toPromise()}const Gx=800,Kx=3;class iS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Nm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>Kx)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jh._getInstance(Bx()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await jx(),!this.activeServiceWorker)return;this.sender=new Lx(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||zx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Nm();return await sE(e,yh,"1"),await aE(e,yh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>sE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>Fx(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>aE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=zh(o,!1).getAll();return new du(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Gx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iS.type="LOCAL";const $x=iS;new cu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qx(r,e){return e?Zi(e):(ye(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp extends Sp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ao(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ao(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ao(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Yx(r){return Q0(r.auth,new bp(r),r.bypassAuthState)}function Xx(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),Rx(n,new bp(r),r.bypassAuthState)}async function Wx(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),bx(n,new bp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Yx;case"linkViaPopup":case"linkViaRedirect":return Wx;case"reauthViaPopup":case"reauthViaRedirect":return Xx;default:Qn(this.auth,"internal-error")}}resolve(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zx=new cu(2e3,1e4);class no extends rS{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,no.currentPopupAction&&no.currentPopupAction.cancel(),no.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){or(this.filter.length===1,"Popup operations only handle one event");const e=wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,no.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Zx.get())};e()}}no.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jx="pendingRedirect",Zc=new Map;class eN extends rS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Zc.get(this.auth._key());if(!e){try{const s=await tN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Zc.set(this.auth._key(),e)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tN(r,e){const n=rN(e),s=iN(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function nN(r,e){Zc.set(r._key(),e)}function iN(r){return Zi(r._redirectPersistence)}function rN(r){return Wc(Jx,r.config.apiKey,r.name)}async function sN(r,e,n=!1){if(jn(r.app))return Promise.reject(nr(r));const s=oa(r),o=Qx(s,e),f=await new eN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=10*60*1e3;class oN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!lN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!sS(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(pi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=aN&&this.cachedEventUids.clear(),this.cachedEventUids.has(oE(e))}saveEventToCache(e){this.cachedEventUids.add(oE(e)),this.lastProcessedEventTime=Date.now()}}function oE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function sS({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function lN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sS(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uN(r,e={}){return fs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,hN=/^https?/;async function fN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await uN(r);for(const n of e)try{if(dN(n))return}catch{}Qn(r,"unauthorized-domain")}function dN(r){const e=Im(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!hN.test(n))return!1;if(cN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new cu(3e4,6e4);function lE(){const r=gi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function pN(r){return new Promise((e,n)=>{var s,o,u;function f(){lE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{lE(),n(pi(r,"network-request-failed"))},timeout:mN.get()})}if(!((o=(s=gi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=gi().gapi)===null||u===void 0)&&u.load)f();else{const m=ox("iframefcb");return gi()[m]=()=>{gapi.load?f():n(pi(r,"network-request-failed"))},q0(`${ax()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw Jc=null,e})}let Jc=null;function gN(r){return Jc=Jc||pN(r),Jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=new cu(5e3,15e3),yN="__/auth/iframe",vN="emulator/auth/iframe",EN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},TN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SN(r){const e=r.config;ye(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?vp(e,vN):`https://${r.config.authDomain}/${yN}`,s={apiKey:e.apiKey,appName:r.name,v:yo},o=TN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${su(s).slice(1)}`}async function AN(r){const e=await gN(r),n=gi().gapi;return ye(n,r,"internal-error"),e.open({where:document.body,url:SN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:EN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=pi(r,"network-request-failed"),m=gi().setTimeout(()=>{u(f)},_N.get());function p(){gi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},bN=500,RN=600,CN="_blank",IN="http://localhost";class uE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DN(r,e,n,s=bN,o=RN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},wN),{width:s.toString(),height:o.toString(),top:u,left:f}),_=Jt().toLowerCase();n&&(m=P0(_)?CN:n),V0(_)&&(e=e||IN,p.scrollbars="yes");const T=Object.entries(p).reduce((x,[P,z])=>`${x}${P}=${z},`,"");if(WD(_)&&m!=="_self")return xN(e||"",m),new uE(null);const b=window.open(e||"",m,T);ye(b,r,"popup-blocked");try{b.focus()}catch{}return new uE(b)}function xN(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN="__/auth/handler",ON="emulator/auth/handler",MN=encodeURIComponent("fac");async function cE(r,e,n,s,o,u){ye(r.config.authDomain,r,"auth-domain-config-required"),ye(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:yo,eventId:o};if(e instanceof K0){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",sR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))f[T]=b}if(e instanceof fu){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),_=p?`#${MN}=${encodeURIComponent(p)}`:"";return`${VN(r)}?${su(m).slice(1)}${_}`}function VN({config:r}){return r.emulator?vp(r,ON):`https://${r.authDomain}/${NN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm="webStorageSupport";class kN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=J0,this._completeRedirectFn=sN,this._overrideRedirectResult=nN}async _openPopup(e,n,s,o){var u;or((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await cE(e,n,s,Im(),o);return DN(e,f,wp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await cE(e,n,s,Im(),o);return Ux(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(or(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await AN(e),s=new oN(e);return n.register("authEvent",o=>(ye(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(sm,{type:sm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[sm];f!==void 0&&n(!!f),Qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=fN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return B0()||k0()||Tp()}}const PN=kN;var hE="@firebase/auth",fE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function jN(r){oo(new Ys("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ye(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:H0(r)},_=new ix(s,o,u,p);return dx(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),oo(new Ys("auth-internal",e=>{const n=oa(e.getProvider("auth").getImmediate());return(s=>new LN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ns(hE,fE,UN(r)),ns(hE,fE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=5*60,BN=PE("authIdTokenMaxAge")||zN;let dE=null;const HN=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>BN)return;const o=n==null?void 0:n.token;dE!==o&&(dE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function qN(r=zE()){const e=zm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=fx(r,{popupRedirectResolver:PN,persistence:[$x,kx,J0]}),s=PE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=HN(u.toString());Nx(n,f,()=>f(n.currentUser)),xx(n,m=>f(m))}}const o=VE("auth");return o&&mx(n,`http://${o}`),n}function FN(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}rx({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=pi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",FN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});jN("Browser");var GN="firebase",KN="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ns(GN,KN,"app");const $N={apiKey:"AIzaSyCSjbxL9N2DMxDdY5VYHIgSS8xcEXT54xE",authDomain:"my-first-project-7cbf9.firebaseapp.com",databaseURL:"https://my-first-project-7cbf9-default-rtdb.europe-west1.firebasedatabase.app",projectId:"my-first-project-7cbf9",storageBucket:"my-first-project-7cbf9.firebasestorage.app",messagingSenderId:"424606795900",appId:"1:424606795900:web:61a3a0683433959a3da1f9"},aS=jE($N),Bh=fD(aS),Rp=qN(aS);function QN(){const r=G.useRef(),[e,n]=G.useState([]),[s,o]=G.useState([]),u=G.useRef(!1),f=()=>{const m=r.current.value.trim().toLowerCase();if(r.current.value="",m==="")o(e);else{const p=e.filter(_=>{var T;return(T=_.content)==null?void 0:T.toLowerCase().includes(m)});o(p)}};return G.useEffect(()=>{if(u.current)return;u.current=!0,(async()=>{try{const p=h0(Bh,"posts"),T=(await w0(p)).docs.map(b=>b.data());n(T),o(T)}catch(p){console.error("    :",p)}})()},[]),E.jsxs("div",{className:hn.container,children:[E.jsxs("nav",{className:hn.nav,children:[E.jsx("h1",{children:"At"}),E.jsxs("ul",{children:[E.jsx("li",{children:E.jsxs(Te,{to:"/react-regular-exam/login",children:[E.jsx("i",{className:`fa-solid fa-arrow-right-to-bracket ${hn.i}`}),E.jsx("span",{children:"Sign in"})]})}),E.jsx("li",{children:E.jsxs(Te,{to:"/react-regular-exam/create",children:[E.jsx("i",{className:`fa-regular fa-id-badge ${hn.i}`}),E.jsx("span",{children:"Create account"})]})}),E.jsx("li",{children:E.jsxs(Te,{to:"/react-regular-exam",children:[E.jsx("i",{className:`fa-solid fa-person-through-window ${hn.i}`}),E.jsx("span",{children:"Leave"})]})})]}),E.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Guest"}),E.jsx("p",{children:"Guest"})]}),E.jsxs("main",{className:hn.main,children:[E.jsxs("section",{id:"search",className:hn.search,children:[E.jsx("h3",{children:"What do you need?"}),E.jsx("input",{type:"search",ref:r,name:"search",id:"search",placeholder:"search"}),E.jsx("button",{onClick:f,children:""})]}),E.jsxs("section",{id:"posts",className:hn.posts,children:[E.jsxs("div",{id:"post",className:hn.post,children:[E.jsxs("div",{id:"meta",className:hn.meta,children:[E.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Profile image"}),E.jsx("h4",{children:"Author"}),E.jsx("p",{children:"Date"})]}),E.jsx("p",{children:"Text content. This is my first post is text content, which is going to become viral!"}),E.jsx("img",{src:"https://images.indianexpress.com/2017/12/2017-viral-photos-main_759_combo.jpg?w=350",alt:"Img or Video"}),E.jsxs("div",{id:"feedback",className:hn.feedback,children:[E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-comment"}),E.jsx("span",{children:"5"})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-heart"}),E.jsx("span",{children:"12"})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-solid fa-magnifying-glass"}),E.jsx("span",{children:"57"})]})]})]}),s.length>0?s.map((m,p)=>{const _=m.meta.date.toDate();return E.jsxs("div",{id:"post",className:hn.post,children:[E.jsxs("div",{id:"meta",className:hn.meta,children:[E.jsx("img",{src:m.meta.img,alt:"Profile image"}),E.jsx("h4",{children:m.meta.author}),E.jsx("p",{children:_.toLocaleDateString()})]}),E.jsx("p",{children:m.content}),E.jsx("img",{src:m.img,alt:"Img or Video"}),E.jsxs("div",{id:"feedback",className:hn.feedback,children:[E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-comment"}),E.jsx("span",{children:m.feedback.comments})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-heart"}),E.jsx("span",{children:m.feedback.likes})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-solid fa-magnifying-glass"}),E.jsx("span",{children:m.feedback.views})]})]})]},p)}):E.jsx("p",{children:"No posts found"})]})]})]})}const YN="_wrapperMajor_12wpi_1",XN="_header_12wpi_11",WN="_logo_12wpi_73",ZN="_main_12wpi_83",JN="_mainDiv_12wpi_95",e2="_nav_12wpi_107",t2="_button_12wpi_121",n2="_google_12wpi_141",i2="_awesome_12wpi_175",r2="_separator_12wpi_201",s2="_hr_12wpi_223",a2="_input_12wpi_231",o2="_next_12wpi_245",l2="_lastParagraph_12wpi_263",ft={wrapperMajor:YN,header:XN,logo:WN,main:ZN,mainDiv:JN,nav:e2,button:t2,google:n2,awesome:i2,separator:r2,hr:s2,input:a2,next:o2,lastParagraph:l2},wo=G.createContext();function u2({children:r}){const[e,n]=G.useState({name:"",email:"",password:"",birthday:{month:"",day:"",year:""},checkbox:{getMore:"",connectWith:"",peronalizedAds:"",noThanks:""}}),s=o=>{n(u=>({...u,...o}))};return E.jsx(wo.Provider,{value:{formData:e,updateForm:s},children:r})}function c2(){const r=na(),{updateForm:e}=G.useContext(wo),n=async s=>{var u;s.preventDefault();const o={email:((u=s.target.elements.email)==null?void 0:u.value)||""};if(!o.email)return alert("You must enter a valid email address");await e(o),r("/react-regular-exam/login/pass")};return E.jsx("form",{onSubmit:n,children:E.jsxs("div",{className:ft.wrapperMajor,children:[E.jsxs("header",{className:ft.header,children:[E.jsx(Te,{className:ft.x,to:"/react-regular-exam",children:E.jsx("i",{className:"fa-solid fa-xmark"})}),E.jsx("h1",{className:ft.logo,children:"At"})]}),E.jsx("main",{className:ft.main,children:E.jsxs("div",{className:ft.mainDiv,children:[E.jsx("h1",{children:"Sign in to At"}),E.jsxs("nav",{className:ft.nav,children:[E.jsxs("button",{type:"button",className:`${ft.button} ${ft.awesome} ${ft.google}`,children:[E.jsx("i",{className:"fa-brands fa-google"}),"Sign in with Google"]}),E.jsxs("button",{type:"button",className:`${ft.button} ${ft.awesome}`,children:[E.jsx("i",{className:"fa-brands fa-apple"}),"Sign in with Apple"]}),E.jsxs("div",{className:ft.separator,children:[E.jsx("hr",{className:ft.hr}),E.jsx("p",{children:"or"}),E.jsx("hr",{className:ft.hr})]}),E.jsx("input",{name:"email",className:ft.input,type:"email",placeholder:"email"}),E.jsx("button",{className:`${ft.button} ${ft.awesome} ${ft.next}`,children:"Next"}),E.jsx("button",{type:"button",className:`${ft.button} ${ft.awesome}`,to:"/react-regular-exam/guest",children:"Forgot password?"}),E.jsxs("p",{className:ft.lastParagraph,children:["Don't have an account?",E.jsx(Te,{to:"/react-regular-exam/create",children:"Sign up"})]})]})]})})]})})}const h2="_wrapperMajor_ljgmt_1",f2="_header_ljgmt_21",d2="_logo_ljgmt_83",m2="_main_ljgmt_93",p2="_mainDiv_ljgmt_107",g2="_upperDiv_ljgmt_121",_2="_emailState_ljgmt_131",y2="_password_ljgmt_159",v2="_arrow_ljgmt_177",E2="_inputWrapper_ljgmt_189",T2="_pass_ljgmt_159",S2="_forgot_ljgmt_219",A2="_login_ljgmt_247",w2="_signup_ljgmt_281",on={wrapperMajor:h2,header:f2,logo:d2,main:m2,mainDiv:p2,upperDiv:g2,emailState:_2,password:y2,arrow:v2,inputWrapper:E2,pass:T2,forgot:S2,login:A2,signup:w2};function b2(r,e){localStorage.setItem("user",JSON.stringify(r)),localStorage.setItem("userToken",e)}function R2(){return localStorage.getItem("userToken")}function C2(){return localStorage.getItem("user")}function I2(){localStorage.removeItem("userToken"),localStorage.removeItem("user")}const D2=async r=>{const{email:e,password:n}=r;try{const o=(await Ix(Rp,e,n)).user;await DD(f0(Bh,"users",o.uid),{...r,createdAt:new Date})}catch(s){console.error("Error registering user:",s.message)}},x2=async r=>{const{email:e,password:n}=r;try{const o=(await Dx(Rp,e,n)).user,u=await o.getIdToken(),f=await N2(o.uid);return b2(f,u),f}catch(s){console.error("Error login user:",s.message)}};async function N2(r){try{const e=f0(Bh,"users",r),n=await ID(e);if(n.exists())return n.data();throw new Error("no such user!")}catch(e){return console.error("Error fetching user:",e.message),null}}const O2="_loader_1ojyy_11",M2={loader:O2};function oS(){return E.jsx("div",{className:M2.loader})}function V2(){const{formData:r,updateForm:e}=G.useContext(wo),n=na(),[s,o]=G.useState(!1),[u,f]=G.useState(!1),m=async p=>{var T;p.preventDefault(),f(!0);const _={password:(T=p.target.elements.password)==null?void 0:T.value};if(!_)return alert("You need to provide a password");await e(_)};return G.useEffect(()=>{if(!r.password)return;(async()=>{try{const _=await x2(r);await e(_),n("/react-regular-exam/welcome"),f(!1)}catch(_){alert(_.message)}})()},[r.password]),E.jsx("form",{onSubmit:m,children:E.jsxs("div",{className:on.wrapperMajor,children:[u&&E.jsx(oS,{}),E.jsxs("header",{className:on.header,children:[E.jsx(Te,{className:on.x,to:"/react-regular-exam",children:E.jsx("i",{className:"fa-solid fa-xmark"})}),E.jsx("h1",{className:on.logo,children:"At"})]}),E.jsx("main",{className:on.main,children:E.jsxs("div",{className:on.mainDiv,children:[E.jsxs("div",{className:on.upperDiv,children:[E.jsx("h1",{children:"Enter your password"}),E.jsxs("div",{className:on.emailState,children:[E.jsx("p",{children:"Email"}),E.jsx("p",{children:r.email})]}),E.jsxs("div",{className:on.password,children:[E.jsxs("div",{className:on.arrow,children:[E.jsx("p",{children:"Password"}),E.jsx("i",{className:"fa-solid fa-arrow-down"})]}),E.jsxs("div",{className:on.inputWrapper,children:[E.jsx("input",{className:on.pass,type:"password",name:"password",id:"",placeholder:""}),E.jsx("i",{className:"fa-regular fa-eye"})]})]}),E.jsx("p",{className:on.forgot,children:E.jsx(Te,{children:"Forgot password?"})})]}),E.jsxs("div",{className:on.login,children:[E.jsx("input",{name:"login",type:"submit",value:"Log in"}),E.jsxs("div",{className:on.signup,children:[E.jsx("p",{children:"Don't have an account?"}),E.jsx(Te,{to:"/create",children:"Sign up"})]})]})]})})]})})}const k2="_wrapperMajor_1bczb_1",P2="_header_1bczb_21",L2="_logo_1bczb_83",U2="_main_1bczb_93",j2="_mainDiv_1bczb_107",z2="_upperDiv_1bczb_121",B2="_password_1bczb_133",H2="_arrow_1bczb_151",q2="_inputWrapper_1bczb_163",F2="_pass_1bczb_133",G2="_login_1bczb_185",K2="_birth_1bczb_223",$2="_birthday_1bczb_255",Q2="_month_1bczb_265",Y2="_day_1bczb_291",X2="_year_1bczb_291",Ye={wrapperMajor:k2,header:P2,logo:L2,main:U2,mainDiv:j2,upperDiv:z2,password:B2,arrow:H2,inputWrapper:q2,pass:F2,login:G2,birth:K2,birthday:$2,month:Q2,day:Y2,year:X2};function W2(){const{updateForm:r}=G.useContext(wo),e=na(),n=async s=>{var u,f,m,p,_,T,b;s.preventDefault();const o={name:((u=s.target.elements.name)==null?void 0:u.value)||"",email:((f=s.target.elements.email)==null?void 0:f.value)||"",password:((m=s.target.elements.password)==null?void 0:m.value)||"",birthday:{month:((p=s.target.elements.month)==null?void 0:p.value)||"",day:((_=s.target.elements.day)==null?void 0:_.value)||"",year:((T=s.target.elements.year)==null?void 0:T.value)||""}};if(o.name)if(o.email){if(!o.password||o.password.length<6)return alert("You must enter a valid password!");if(o.password!==((b=s.target.elements.repeat)==null?void 0:b.value))return alert("Password Missmatch!");if(o.birthday.month)if(o.birthday.day){if(!o.birthday.year)return alert("You must choose an year!")}else return alert("You must choose a day!");else return alert("You must choose a month!")}else return alert("You must enter a valid email address!");else return alert("You must enter a name!");await r(o),e("/react-regular-exam/create/submit")};return E.jsx("form",{onSubmit:n,children:E.jsxs("div",{className:Ye.wrapperMajor,children:[E.jsxs("header",{className:Ye.header,children:[E.jsx(Te,{className:Ye.x,to:"/react-regular-exam",children:E.jsx("i",{className:"fa-solid fa-xmark"})}),E.jsx("h1",{className:Ye.logo,children:"At"})]}),E.jsx("main",{className:Ye.main,children:E.jsxs("div",{className:Ye.mainDiv,children:[E.jsxs("div",{className:Ye.upperDiv,children:[E.jsx("h1",{children:"Create your account"}),E.jsxs("div",{className:Ye.password,children:[E.jsxs("div",{className:Ye.arrow,children:[E.jsx("p",{children:"Name"}),E.jsx("i",{className:"fa-solid fa-arrow-down"})]}),E.jsx("div",{className:Ye.inputWrapper,children:E.jsx("input",{className:Ye.pass,type:"text",name:"name",id:"",placeholder:""})})]}),E.jsxs("div",{className:Ye.password,children:[E.jsxs("div",{className:Ye.arrow,children:[E.jsx("p",{children:"Email"}),E.jsx("i",{className:"fa-solid fa-arrow-down"})]}),E.jsx("div",{className:Ye.inputWrapper,children:E.jsx("input",{className:Ye.pass,type:"email",name:"email",id:"",placeholder:""})})]}),E.jsxs("div",{className:Ye.password,children:[E.jsxs("div",{className:Ye.arrow,children:[E.jsx("p",{children:"Password"}),E.jsx("i",{className:"fa-solid fa-arrow-down"})]}),E.jsx("div",{className:Ye.inputWrapper,children:E.jsx("input",{className:Ye.pass,type:"password",name:"password",id:"",placeholder:"At least 6 characters"})})]}),E.jsxs("div",{className:Ye.password,children:[E.jsxs("div",{className:Ye.arrow,children:[E.jsx("p",{children:"Repeat password"}),E.jsx("i",{className:"fa-solid fa-arrow-down"})]}),E.jsx("div",{className:Ye.inputWrapper,children:E.jsx("input",{className:Ye.pass,type:"password",name:"repeat",id:"",placeholder:""})})]}),E.jsxs("div",{className:Ye.birth,children:[E.jsx("p",{children:"Date of Birth"}),E.jsx("p",{children:"This will not be shown publicly. Confirm your own age, even if this account is for a business, a pet, or something else."}),E.jsxs("div",{className:Ye.birthday,children:[E.jsxs("div",{className:Ye.month,children:[E.jsx("p",{children:"month"}),E.jsxs("select",{name:"month",id:"month",children:[E.jsx("option",{value:""}),E.jsx("option",{value:"January",children:"January"}),E.jsx("option",{value:"February",children:"February"}),E.jsx("option",{value:"March",children:"March"}),E.jsx("option",{value:"April",children:"April"}),E.jsx("option",{value:"May",children:"May"}),E.jsx("option",{value:"June",children:"June"}),E.jsx("option",{value:"July",children:"July"}),E.jsx("option",{value:"August",children:"August"}),E.jsx("option",{value:"September",children:"September"}),E.jsx("option",{value:"October",children:"October"}),E.jsx("option",{value:"November",children:"November"}),E.jsx("option",{value:"December",children:"December"})]})]}),E.jsxs("div",{className:Ye.day,children:[E.jsx("p",{children:"Day"}),E.jsxs("select",{name:"day",id:"day",children:[E.jsx("option",{value:""}),Array.from({length:31},(s,o)=>E.jsx("option",{value:o+1,children:o+1},o+1))]})]}),E.jsxs("div",{className:Ye.year,children:[E.jsx("p",{children:"Year"}),E.jsxs("select",{name:"year",id:"year",children:[E.jsx("option",{value:""}),Array.from({length:121},(s,o)=>E.jsx("option",{value:o+1905,children:o+1905},o+1905))]})]})]})]})]}),E.jsx("div",{className:Ye.login,children:E.jsx("button",{children:"Next"})})]})})]})})}const Z2="_wrapperMajor_ewi7d_1",J2="_header_ewi7d_33",eO="_logo_ewi7d_95",tO="_main_ewi7d_105",nO="_wrapper_ewi7d_1",iO="_checkBoxWrapper_ewi7d_135",rO="_button_ewi7d_267",$r={wrapperMajor:Z2,header:J2,logo:eO,main:tO,wrapper:nO,checkBoxWrapper:iO,button:rO};function sO(){const r=na(),{formData:e,updateForm:n}=G.useContext(wo),[s,o]=G.useState(!1),u=async f=>{var p,_,T;f.preventDefault(),o(!0);const m={checkbox:{getMore:(p=f.target.elements.getMore)!=null&&p.checked?"yes":"no",connectWith:(_=f.target.elements.connectWith)!=null&&_.checked?"yes":"no",peronalizedAds:(T=f.target.elements.peronalizedAds)!=null&&T.checked?"yes":"no"}};try{n(m)}catch(b){console.error("Error registering user:",b.message)}};return G.useEffect(()=>{if(!e.checkbox.getMore)return;(async()=>{try{await D2(e),o(!1),r("/react-regular-exam/guest")}catch(m){alert(m.message)}})()},[e.checkbox.getMore]),E.jsx("form",{onSubmit:u,children:E.jsxs("div",{className:$r.wrapperMajor,children:[s&&E.jsx(oS,{}),E.jsxs("header",{className:$r.header,children:[E.jsx(Te,{className:$r.x,to:"/react-regular-exam",children:E.jsx("i",{className:"fa-solid fa-xmark"})}),E.jsx("h1",{className:$r.logo,children:"At"})]}),E.jsxs("main",{className:$r.main,children:[E.jsxs("div",{className:$r.wrapper,children:[E.jsx("h1",{children:"Customize your experience"}),E.jsxs("div",{className:$r.checkBoxWrapper,children:[E.jsxs("div",{children:[E.jsx("h3",{children:"Get more out of At"}),E.jsxs("div",{children:[E.jsx("p",{children:"Receive email about your At activity and recommendations."}),E.jsx("input",{type:"checkbox",name:"getMore"})]})]}),E.jsxs("div",{children:[E.jsx("h3",{children:"Connect with people you know"}),E.jsxs("div",{children:[E.jsx("p",{children:"Let others find your At account by your email address."}),E.jsx("input",{type:"checkbox",name:"connectWith"})]})]}),E.jsxs("div",{children:[E.jsx("h3",{children:"Personalized ads"}),E.jsxs("div",{children:[E.jsx("p",{children:"You will always see ads on At based on your At activity. When this setting is enabled, At may further personalize ads from At advertisers, on and off At, by combining your At activity with other online activity and information from our partners."}),E.jsx("input",{type:"checkbox",name:"peronalizedAds"})]})]})]}),E.jsxs("p",{children:["By signing up, you agree to our ",E.jsx(Te,{children:"Terms"}),", ",E.jsx(Te,{children:"Privacy Policy"}),", and ",E.jsx(Te,{children:"Cookie Use"}),". At may use your contact information, including your email address and phone number for purposes outlined in our Privacy Policy. ",E.jsx(Te,{children:"Learn more"})]})]}),E.jsx("div",{className:$r.button,children:E.jsx("input",{type:"submit",value:"Next"})})]})]})})}const aO="_container_1491b_1",oO="_main_1491b_159",mE={container:aO,main:oO},lO="_nav_tg84o_1",uO="_i_tg84o_11",Gs={nav:lO,i:uO};function cO(){const{formData:r,updateForm:e}=G.useContext(wo),[n,s]=G.useState("Loading..."),o=na(),u=async f=>{f.preventDefault();try{await Ox(Rp),e({name:"",email:"",password:"",birthday:{month:"",day:"",year:""},checkbox:{getMore:"",connectWith:"",peronalizedAds:"",noThanks:""}}),I2(),o("/react-regular-exam")}catch(m){console.error("Logout error:",m)}};return G.useEffect(()=>{const f=JSON.parse(C2());f&&f.name?s(f.name):s("Guest")},[]),E.jsxs("nav",{className:Gs.nav,children:[E.jsx("h1",{children:"At"}),E.jsxs("ul",{children:[E.jsx("li",{children:E.jsxs(Te,{to:"/react-regular-exam/welcome",children:[E.jsx("i",{className:`fa-solid fa-house-flag ${Gs.i}`}),E.jsx("span",{children:"Welcome"})]})}),E.jsx("li",{children:E.jsxs(Te,{to:"/react-regular-exam/welcome/notification",children:[E.jsx("i",{className:`fa-solid fa-bell ${Gs.i}`}),E.jsx("span",{children:"Notification"})]})}),E.jsx("li",{children:E.jsxs(Te,{to:"/react-regular-exam/welcome/messages",children:[E.jsx("i",{className:`fa-solid fa-envelope ${Gs.i}`}),E.jsx("span",{children:"Messages"})]})}),E.jsx("li",{children:E.jsxs(Te,{to:"/react-regular-exam/welcome/profile",children:[E.jsx("i",{className:`fa-solid fa-user ${Gs.i}`}),E.jsx("span",{children:"Profile"})]})}),E.jsx("li",{children:E.jsxs(Te,{to:"/react-regular-exam/welcome/jobs",children:[E.jsx("i",{className:`fa-solid fa-suitcase ${Gs.i}`}),E.jsx("span",{children:"Jobs"})]})}),E.jsx("li",{children:E.jsxs(Te,{onClick:u,to:"#",children:[E.jsx("i",{className:`fa-solid fa-circle-xmark ${Gs.i}`}),E.jsx("span",{children:"Logout"})]})}),E.jsx("li",{children:E.jsx(Te,{to:"/react-regular-exam/welcome/post",children:E.jsx("span",{children:"Post"})})})]}),E.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Guest"}),E.jsx("p",{children:n})]})}function hO({children:r}){return E.jsxs("div",{className:mE.container,children:[E.jsx(cO,{}),E.jsx("main",{className:mE.main,children:E.jsx(Ow,{})})]})}const fO="_search_pc9pq_1",dO="_meta_pc9pq_39",mO="_post_pc9pq_69",pO="_feedback_pc9pq_103",Qr={search:fO,meta:dO,post:mO,feedback:pO};function gO(){const r=G.useRef(),e=G.useRef(!1),[n,s]=G.useState([]),[o,u]=G.useState([]),f=()=>{const m=r.current.value.trim().toLowerCase();if(r.current.value="",m==="")u(n);else{const p=n.filter(_=>{var T;return(T=_.content)==null?void 0:T.toLowerCase().includes(m)});u(p)}};return G.useEffect(()=>{if(e.current)return;e.current=!0,(async()=>{try{const p=h0(Bh,"posts"),T=(await w0(p)).docs.map(b=>b.data());s(T),u(T)}catch(p){console.error("    :",p)}})()},[]),E.jsxs(E.Fragment,{children:[E.jsxs("section",{id:"search",className:Qr.search,children:[E.jsx("h3",{children:"What do you need?"}),E.jsx("input",{type:"search",ref:r,name:"search",id:"search",placeholder:"search"}),E.jsx("button",{onClick:f,children:""})]}),E.jsxs("section",{id:"posts",className:Qr.posts,children:[E.jsxs("div",{id:"post",className:Qr.post,children:[E.jsxs("div",{id:"meta",className:Qr.meta,children:[E.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Profile image"}),E.jsx("h4",{children:"Author"}),E.jsx("p",{children:"Date"})]}),E.jsx("p",{children:"Text content. This is my first post is text content, which is going to become viral!"}),E.jsx("img",{src:"https://images.indianexpress.com/2017/12/2017-viral-photos-main_759_combo.jpg?w=350",alt:"Img or Video"}),E.jsxs("div",{id:"feedback",className:Qr.feedback,children:[E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-comment"}),E.jsx("span",{children:"5"})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-heart"}),E.jsx("span",{children:"12"})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-solid fa-magnifying-glass"}),E.jsx("span",{children:"57"})]})]})]}),o.length>0?o.map((m,p)=>{const _=m.meta.date.toDate();return E.jsxs("div",{id:"post",className:Qr.post,children:[E.jsxs("div",{id:"meta",className:Qr.meta,children:[E.jsx("img",{src:m.meta.img,alt:"Profile image"}),E.jsx("h4",{children:m.meta.author}),E.jsx("p",{children:_.toLocaleDateString()})]}),E.jsx("p",{children:m.content}),E.jsx("img",{src:m.img,alt:"Img or Video"}),E.jsxs("div",{id:"feedback",className:Qr.feedback,children:[E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-comment"}),E.jsx("span",{children:m.feedback.comments})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-heart"}),E.jsx("span",{children:m.feedback.likes})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-solid fa-magnifying-glass"}),E.jsx("span",{children:m.feedback.views})]})]})]},p)}):E.jsx("p",{children:"No posts found"})]})]})}function _O({children:r}){const e=R2(),n=na();return G.useEffect(()=>{if(!e)return n("/react-regular-exam")}),E.jsx(E.Fragment,{children:r})}const yO="_postFormContainer_1r2td_3",vO="_postForm_1r2td_3",EO="_avatar_1r2td_43",TO="_formContent_1r2td_57",SO="_textarea_1r2td_71",AO="_mediaPreview_1r2td_93",wO="_footer_1r2td_117",bO="_mediaButton_1r2td_133",RO="_button_1r2td_161",Yi={postFormContainer:yO,postForm:vO,avatar:EO,formContent:TO,textarea:SO,mediaPreview:AO,footer:wO,mediaButton:bO,button:RO};function CO(){const[r,e]=G.useState(null),n=G.useRef(null),s=u=>{const f=u.target.files[0];if(f){const m=URL.createObjectURL(f);e(m)}},o=u=>{u.preventDefault();const f=n.current.value.trim();if(!f&&!r)return;const m={content:f,media:r,author:"Kristian Vigenin",date:new Date().toLocaleString(),avatar:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg"};console.log("Post submitted:",m),n.current.value="",e(null)};return E.jsx("div",{className:Yi.postFormContainer,children:E.jsxs("div",{className:Yi.postForm,children:[E.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"User avatar",className:Yi.avatar}),E.jsxs("form",{onSubmit:o,className:Yi.formContent,children:[E.jsx("textarea",{ref:n,placeholder:"Whats happening?",className:Yi.textarea}),r&&E.jsx("div",{className:Yi.mediaPreview,children:E.jsx("img",{src:r,alt:"Uploaded media preview"})}),E.jsxs("div",{className:Yi.footer,children:[E.jsxs("label",{className:Yi.mediaButton,children:[" Add Media",E.jsx("input",{type:"file",accept:"image/*",onChange:s,hidden:!0})]}),E.jsx("button",{type:"submit",className:Yi.button,children:"Post"})]})]})]})})}function IO(){return E.jsx(u2,{children:E.jsxs(Vw,{children:[E.jsx(hi,{path:"/react-regular-exam",element:E.jsx(Cb,{})}),E.jsx(hi,{path:"/react-regular-exam/guest",element:E.jsx(QN,{})}),E.jsx(hi,{path:"/react-regular-exam/login",element:E.jsx(c2,{})}),E.jsx(hi,{path:"/react-regular-exam/login/pass",element:E.jsx(V2,{})}),E.jsx(hi,{path:"/react-regular-exam/create",element:E.jsx(W2,{})}),E.jsx(hi,{path:"/react-regular-exam/create/submit",element:E.jsx(sO,{})}),E.jsxs(hi,{path:"/react-regular-exam/welcome",element:E.jsx(_O,{children:E.jsx(hO,{})}),children:[E.jsx(hi,{index:!0,element:E.jsx(gO,{})}),E.jsx(hi,{path:"post",element:E.jsx(CO,{})})]})]})})}BA.createRoot(document.getElementById("root")).render(E.jsx(G.StrictMode,{children:E.jsx(ib,{children:E.jsx(IO,{})})}));
