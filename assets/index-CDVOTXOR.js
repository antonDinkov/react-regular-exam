(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var em={exports:{}},Ll={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xy;function cb(){if(Xy)return Ll;Xy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ll.Fragment=e,Ll.jsx=n,Ll.jsxs=n,Ll}var Wy;function hb(){return Wy||(Wy=1,em.exports=cb()),em.exports}var y=hb(),tm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function fb(){if(Zy)return Ce;Zy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.iterator;function R(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,X={};function F(O,te,fe){this.props=O,this.context=te,this.refs=X,this.updater=fe||P}F.prototype.isReactComponent={},F.prototype.setState=function(O,te){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,te,"setState")},F.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Y(){}Y.prototype=F.prototype;function ne(O,te,fe){this.props=O,this.context=te,this.refs=X,this.updater=fe||P}var K=ne.prototype=new Y;K.constructor=ne,L(K,F.prototype),K.isPureReactComponent=!0;var re=Array.isArray,ae={H:null,A:null,T:null,S:null},pe=Object.prototype.hasOwnProperty;function M(O,te,fe,oe,le,Ie){return fe=Ie.ref,{$$typeof:r,type:O,key:te,ref:fe!==void 0?fe:null,props:Ie}}function C(O,te){return M(O.type,te,void 0,void 0,void 0,O.props)}function A(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function N(O){var te={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(fe){return te[fe]})}var V=/\/+/g;function D(O,te){return typeof O=="object"&&O!==null&&O.key!=null?N(""+O.key):te.toString(36)}function x(){}function lt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(x,x):(O.status="pending",O.then(function(te){O.status==="pending"&&(O.status="fulfilled",O.value=te)},function(te){O.status==="pending"&&(O.status="rejected",O.reason=te)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function yt(O,te,fe,oe,le){var Ie=typeof O;(Ie==="undefined"||Ie==="boolean")&&(O=null);var Re=!1;if(O===null)Re=!0;else switch(Ie){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(O.$$typeof){case r:case e:Re=!0;break;case T:return Re=O._init,yt(Re(O._payload),te,fe,oe,le)}}if(Re)return le=le(O),Re=oe===""?"."+D(O,0):oe,re(le)?(fe="",Re!=null&&(fe=Re.replace(V,"$&/")+"/"),yt(le,te,fe,"",function(ut){return ut})):le!=null&&(A(le)&&(le=C(le,fe+(le.key==null||O&&O.key===le.key?"":(""+le.key).replace(V,"$&/")+"/")+Re)),te.push(le)),1;Re=0;var vt=oe===""?".":oe+":";if(re(O))for(var Be=0;Be<O.length;Be++)oe=O[Be],Ie=vt+D(oe,Be),Re+=yt(oe,te,fe,Ie,le);else if(Be=R(O),typeof Be=="function")for(O=Be.call(O),Be=0;!(oe=O.next()).done;)oe=oe.value,Ie=vt+D(oe,Be++),Re+=yt(oe,te,fe,Ie,le);else if(Ie==="object"){if(typeof O.then=="function")return yt(lt(O),te,fe,oe,le);throw te=String(O),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Re}function se(O,te,fe){if(O==null)return O;var oe=[],le=0;return yt(O,oe,"","",function(Ie){return te.call(fe,Ie,le++)}),oe}function Te(O){if(O._status===-1){var te=O._result;te=te(),te.then(function(fe){(O._status===0||O._status===-1)&&(O._status=1,O._result=fe)},function(fe){(O._status===0||O._status===-1)&&(O._status=2,O._result=fe)}),O._status===-1&&(O._status=0,O._result=te)}if(O._status===1)return O._result.default;throw O._result}var ge=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Ge(){}return Ce.Children={map:se,forEach:function(O,te,fe){se(O,function(){te.apply(this,arguments)},fe)},count:function(O){var te=0;return se(O,function(){te++}),te},toArray:function(O){return se(O,function(te){return te})||[]},only:function(O){if(!A(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ce.Component=F,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=ne,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ae,Ce.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ce.cache=function(O){return function(){return O.apply(null,arguments)}},Ce.cloneElement=function(O,te,fe){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var oe=L({},O.props),le=O.key,Ie=void 0;if(te!=null)for(Re in te.ref!==void 0&&(Ie=void 0),te.key!==void 0&&(le=""+te.key),te)!pe.call(te,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&te.ref===void 0||(oe[Re]=te[Re]);var Re=arguments.length-2;if(Re===1)oe.children=fe;else if(1<Re){for(var vt=Array(Re),Be=0;Be<Re;Be++)vt[Be]=arguments[Be+2];oe.children=vt}return M(O.type,le,void 0,void 0,Ie,oe)},Ce.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Ce.createElement=function(O,te,fe){var oe,le={},Ie=null;if(te!=null)for(oe in te.key!==void 0&&(Ie=""+te.key),te)pe.call(te,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(le[oe]=te[oe]);var Re=arguments.length-2;if(Re===1)le.children=fe;else if(1<Re){for(var vt=Array(Re),Be=0;Be<Re;Be++)vt[Be]=arguments[Be+2];le.children=vt}if(O&&O.defaultProps)for(oe in Re=O.defaultProps,Re)le[oe]===void 0&&(le[oe]=Re[oe]);return M(O,Ie,void 0,void 0,null,le)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(O){return{$$typeof:m,render:O}},Ce.isValidElement=A,Ce.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:Te}},Ce.memo=function(O,te){return{$$typeof:_,type:O,compare:te===void 0?null:te}},Ce.startTransition=function(O){var te=ae.T,fe={};ae.T=fe;try{var oe=O(),le=ae.S;le!==null&&le(fe,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Ge,ge)}catch(Ie){ge(Ie)}finally{ae.T=te}},Ce.unstable_useCacheRefresh=function(){return ae.H.useCacheRefresh()},Ce.use=function(O){return ae.H.use(O)},Ce.useActionState=function(O,te,fe){return ae.H.useActionState(O,te,fe)},Ce.useCallback=function(O,te){return ae.H.useCallback(O,te)},Ce.useContext=function(O){return ae.H.useContext(O)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(O,te){return ae.H.useDeferredValue(O,te)},Ce.useEffect=function(O,te){return ae.H.useEffect(O,te)},Ce.useId=function(){return ae.H.useId()},Ce.useImperativeHandle=function(O,te,fe){return ae.H.useImperativeHandle(O,te,fe)},Ce.useInsertionEffect=function(O,te){return ae.H.useInsertionEffect(O,te)},Ce.useLayoutEffect=function(O,te){return ae.H.useLayoutEffect(O,te)},Ce.useMemo=function(O,te){return ae.H.useMemo(O,te)},Ce.useOptimistic=function(O,te){return ae.H.useOptimistic(O,te)},Ce.useReducer=function(O,te,fe){return ae.H.useReducer(O,te,fe)},Ce.useRef=function(O){return ae.H.useRef(O)},Ce.useState=function(O){return ae.H.useState(O)},Ce.useSyncExternalStore=function(O,te,fe){return ae.H.useSyncExternalStore(O,te,fe)},Ce.useTransition=function(){return ae.H.useTransition()},Ce.version="19.0.0",Ce}var Jy;function Km(){return Jy||(Jy=1,tm.exports=fb()),tm.exports}var B=Km(),nm={exports:{}},Ul={},im={exports:{}},rm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function db(){return ev||(ev=1,function(r){function e(se,Te){var ge=se.length;se.push(Te);e:for(;0<ge;){var Ge=ge-1>>>1,O=se[Ge];if(0<o(O,Te))se[Ge]=Te,se[ge]=O,ge=Ge;else break e}}function n(se){return se.length===0?null:se[0]}function s(se){if(se.length===0)return null;var Te=se[0],ge=se.pop();if(ge!==Te){se[0]=ge;e:for(var Ge=0,O=se.length,te=O>>>1;Ge<te;){var fe=2*(Ge+1)-1,oe=se[fe],le=fe+1,Ie=se[le];if(0>o(oe,ge))le<O&&0>o(Ie,oe)?(se[Ge]=Ie,se[le]=ge,Ge=le):(se[Ge]=oe,se[fe]=ge,Ge=fe);else if(le<O&&0>o(Ie,ge))se[Ge]=Ie,se[le]=ge,Ge=le;else break e}}return Te}function o(se,Te){var ge=se.sortIndex-Te.sortIndex;return ge!==0?ge:se.id-Te.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],_=[],T=1,b=null,R=3,P=!1,L=!1,X=!1,F=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function K(se){for(var Te=n(_);Te!==null;){if(Te.callback===null)s(_);else if(Te.startTime<=se)s(_),Te.sortIndex=Te.expirationTime,e(p,Te);else break;Te=n(_)}}function re(se){if(X=!1,K(se),!L)if(n(p)!==null)L=!0,lt();else{var Te=n(_);Te!==null&&yt(re,Te.startTime-se)}}var ae=!1,pe=-1,M=5,C=-1;function A(){return!(r.unstable_now()-C<M)}function N(){if(ae){var se=r.unstable_now();C=se;var Te=!0;try{e:{L=!1,X&&(X=!1,Y(pe),pe=-1),P=!0;var ge=R;try{t:{for(K(se),b=n(p);b!==null&&!(b.expirationTime>se&&A());){var Ge=b.callback;if(typeof Ge=="function"){b.callback=null,R=b.priorityLevel;var O=Ge(b.expirationTime<=se);if(se=r.unstable_now(),typeof O=="function"){b.callback=O,K(se),Te=!0;break t}b===n(p)&&s(p),K(se)}else s(p);b=n(p)}if(b!==null)Te=!0;else{var te=n(_);te!==null&&yt(re,te.startTime-se),Te=!1}}break e}finally{b=null,R=ge,P=!1}Te=void 0}}finally{Te?V():ae=!1}}}var V;if(typeof ne=="function")V=function(){ne(N)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,x=D.port2;D.port1.onmessage=N,V=function(){x.postMessage(null)}}else V=function(){F(N,0)};function lt(){ae||(ae=!0,V())}function yt(se,Te){pe=F(function(){se(r.unstable_now())},Te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(se){se.callback=null},r.unstable_continueExecution=function(){L||P||(L=!0,lt())},r.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<se?Math.floor(1e3/se):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(se){switch(R){case 1:case 2:case 3:var Te=3;break;default:Te=R}var ge=R;R=Te;try{return se()}finally{R=ge}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(se,Te){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ge=R;R=se;try{return Te()}finally{R=ge}},r.unstable_scheduleCallback=function(se,Te,ge){var Ge=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ge+ge:Ge):ge=Ge,se){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ge+O,se={id:T++,callback:Te,priorityLevel:se,startTime:ge,expirationTime:O,sortIndex:-1},ge>Ge?(se.sortIndex=ge,e(_,se),n(p)===null&&se===n(_)&&(X?(Y(pe),pe=-1):X=!0,yt(re,ge-Ge))):(se.sortIndex=O,e(p,se),L||P||(L=!0,lt())),se},r.unstable_shouldYield=A,r.unstable_wrapCallback=function(se){var Te=R;return function(){var ge=R;R=Te;try{return se.apply(this,arguments)}finally{R=ge}}}}(rm)),rm}var tv;function mb(){return tv||(tv=1,im.exports=db()),im.exports}var sm={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function pb(){if(nv)return Wt;nv=1;var r=Km();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,_,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:_,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(p,_,null,T)},Wt.flushSync=function(p){var _=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=_,s.p=T,s.d.f()}},Wt.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,b=m(T,_.crossOrigin),R=typeof _.integrity=="string"?_.integrity:void 0,P=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:R,fetchPriority:P}):T==="script"&&s.d.X(p,{crossOrigin:b,integrity:R,fetchPriority:P,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Wt.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=m(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},Wt.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,b=m(T,_.crossOrigin);s.d.L(p,T,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Wt.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=m(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,_){return p(_)},Wt.useFormState=function(p,_,T){return f.H.useFormState(p,_,T)},Wt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Wt.version="19.0.0",Wt}var iv;function gb(){if(iv)return sm.exports;iv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),sm.exports=pb(),sm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function _b(){if(rv)return Ul;rv=1;var r=mb(),e=Km(),n=gb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),P=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),re=Symbol.for("react.memo_cache_sentinel"),ae=Symbol.iterator;function pe(t){return t===null||typeof t!="object"?null:(t=ae&&t[ae]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function C(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case T:return"Profiler";case _:return"StrictMode";case X:return"Suspense";case F:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case P:return(t.displayName||"Context")+".Provider";case R:return(t._context.displayName||"Context")+".Consumer";case L:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return i=t.displayName||null,i!==null?i:C(t.type)||"Memo";case ne:i=t._payload,t=t._init;try{return C(t(i))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign,V,D;function x(t){if(V===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);V=i&&i[1]||"",D=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+t+D}var lt=!1;function yt(t,i){if(!t||lt)return"";lt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch($){var q=$}Reflect.construct(t,[],J)}else{try{J.call()}catch($){q=$}t.call(J.prototype)}}else{try{throw Error()}catch($){q=$}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch($){if($&&q&&typeof $.stack=="string")return[$.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],w=d[1];if(E&&w){var I=E.split(`
`),j=w.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===j.length)for(l=I.length-1,h=j.length-1;1<=l&&0<=h&&I[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==j[h]){var Q=`
`+I[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{lt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?x(a):""}function se(t){switch(t.tag){case 26:case 27:case 5:return x(t.type);case 16:return x("Lazy");case 13:return x("Suspense");case 19:return x("SuspenseList");case 0:case 15:return t=yt(t.type,!1),t;case 11:return t=yt(t.type.render,!1),t;case 1:return t=yt(t.type,!0),t;default:return""}}function Te(t){try{var i="";do i+=se(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ge(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function Ge(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function O(t){if(ge(t)!==t)throw Error(s(188))}function te(t){var i=t.alternate;if(!i){if(i=ge(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return O(h),t;if(d===l)return O(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,w=h.child;w;){if(w===a){E=!0,a=h,l=d;break}if(w===l){E=!0,l=h,a=d;break}w=w.sibling}if(!E){for(w=d.child;w;){if(w===a){E=!0,a=d,l=h;break}if(w===l){E=!0,l=d,a=h;break}w=w.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function fe(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=fe(t),i!==null)return i;t=t.sibling}return null}var oe=Array.isArray,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},Re=[],vt=-1;function Be(t){return{current:t}}function ut(t){0>vt||(t.current=Re[vt],Re[vt]=null,vt--)}function Qe(t,i){vt++,Re[vt]=t.current,t.current=i}var sn=Be(null),Di=Be(null),Nn=Be(null),gr=Be(null);function _r(t,i){switch(Qe(Nn,i),Qe(Di,t),Qe(sn,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Ay(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=Ay(t),i=Ry(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ut(sn),Qe(sn,i)}function Oi(){ut(sn),ut(Di),ut(Nn)}function Mo(t){t.memoizedState!==null&&Qe(gr,t);var i=sn.current,a=Ry(i,t.type);i!==a&&(Qe(Di,t),Qe(sn,a))}function pa(t){Di.current===t&&(ut(sn),ut(Di)),gr.current===t&&(ut(gr),Ml._currentValue=Ie)}var ga=Object.prototype.hasOwnProperty,As=r.unstable_scheduleCallback,_a=r.unstable_cancelCallback,tf=r.unstable_shouldYield,Po=r.unstable_requestPaint,fn=r.unstable_now,bu=r.unstable_getCurrentPriorityLevel,bt=r.unstable_ImmediatePriority,Mt=r.unstable_UserBlockingPriority,Mi=r.unstable_NormalPriority,Au=r.unstable_LowPriority,ko=r.unstable_IdlePriority,nf=r.log,Rs=r.unstable_setDisableYieldValue,yr=null,Yt=null;function Vo(t){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(yr,t,void 0,(t.current.flags&128)===128)}catch{}}function ii(t){if(typeof nf=="function"&&Rs(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(yr,t)}catch{}}var an=Math.clz32?Math.clz32:Cu,jo=Math.log,Ru=Math.LN2;function Cu(t){return t>>>=0,t===0?32:31-(jo(t)/Ru|0)|0}var ri=128,vr=4194304;function Qn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Dn(t,i){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,E=t.warmLanes;t=t.finishedLanes!==0;var w=a&134217727;return w!==0?(a=w&~h,a!==0?l=Qn(a):(d&=w,d!==0?l=Qn(d):t||(E=w&~E,E!==0&&(l=Qn(E))))):(w=a&~h,w!==0?l=Qn(w):d!==0?l=Qn(d):t||(E=a&~E,E!==0&&(l=Qn(E)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,E=i&-i,h>=E||h===32&&(E&4194176)!==0)?i:l}function Er(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function ya(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lo(){var t=ri;return ri<<=1,(ri&4194176)===0&&(ri=128),t}function Tr(){var t=vr;return vr<<=1,(vr&62914560)===0&&(vr=4194304),t}function va(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function pt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Iu(t,i,a,l,h,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,I=t.expirationTimes,j=t.hiddenUpdates;for(a=E&~a;0<a;){var Q=31-an(a),J=1<<Q;w[Q]=0,I[Q]=-1;var q=j[Q];if(q!==null)for(j[Q]=null,Q=0;Q<q.length;Q++){var $=q[Q];$!==null&&($.lane&=-536870913)}a&=~J}l!==0&&wr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~i))}function wr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-an(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function Sr(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-an(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function xu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Nu(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:Fy(t.type))}function br(t,i){var a=le.p;try{return le.p=t,i()}finally{le.p=a}}var si=Math.random().toString(36).slice(2),Pt="__reactFiber$"+si,At="__reactProps$"+si,Pi="__reactContainer$"+si,Cs="__reactEvents$"+si,Ea="__reactListeners$"+si,ai="__reactHandles$"+si,Uo="__reactResources$"+si,Ar="__reactMarker$"+si;function Is(t){delete t[Pt],delete t[At],delete t[Cs],delete t[Ea],delete t[ai]}function Yn(t){var i=t[Pt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Pi]||a[Pt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=xy(t);t!==null;){if(a=t[Pt])return a;t=xy(t)}return i}t=a,a=t.parentNode}return null}function ki(t){if(t=t[Pt]||t[Pi]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Rr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Cr(t){var i=t[Uo];return i||(i=t[Uo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function it(t){t[Ar]=!0}var zo=new Set,Ta={};function wn(t,i){dn(t,i),dn(t+"Capture",i)}function dn(t,i){for(Ta[t]=i,t=0;t<i.length;t++)zo.add(i[t])}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bo={},Ho={};function Du(t){return ga.call(Ho,t)?!0:ga.call(Bo,t)?!1:rf.test(t)?Ho[t]=!0:(Bo[t]=!0,!1)}function Ir(t,i,a){if(Du(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function xr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function On(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function on(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ou(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function sf(t){var i=Ou(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function xs(t){t._valueTracker||(t._valueTracker=sf(t))}function qo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Ou(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function wa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Vi=/[\n"\\]/g;function ct(t){return t.replace(Vi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Nr(t,i,a,l,h,d,E,w){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+on(i)):t.value!==""+on(i)&&(t.value=""+on(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?Sa(t,E,on(i)):a!=null?Sa(t,E,on(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+on(w):t.removeAttribute("name")}function Ns(t,i,a,l,h,d,E,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+on(a):"",i=i!=null?""+on(i):a,w||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function Sa(t,i,a){i==="number"&&wa(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function He(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+on(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ds(t,i,a){if(i!=null&&(i=""+on(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+on(a):""}function Dr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=on(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Mn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var af=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||af.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Mu(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Fo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Fo(t,d,i[d])}function Go(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var of=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oi(t){return lf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Pn=null;function ba(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ji=null,Li=null;function Ui(t){var i=ki(t);if(i&&(t=i.stateNode)){var a=t[At]||null;e:switch(t=i.stateNode,i.type){case"input":if(Nr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ct(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[At]||null;if(!h)throw Error(s(90));Nr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&qo(l)}break e;case"textarea":Ds(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&He(t,!!a.multiple,i,!1)}}}var $o=!1;function Pu(t,i,a){if($o)return t(i,a);$o=!0;try{var l=t(i);return l}finally{if($o=!1,(ji!==null||Li!==null)&&(Ac(),ji&&(i=ji,t=Li,Li=ji=null,Ui(i),t)))for(i=0;i<t.length;i++)Ui(t[i])}}function Os(t,i){var a=t.stateNode;if(a===null)return null;var l=a[At]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var kn=!1;if(Sn)try{var Ms={};Object.defineProperty(Ms,"passive",{get:function(){kn=!0}}),window.addEventListener("test",Ms,Ms),window.removeEventListener("test",Ms,Ms)}catch{kn=!1}var li=null,Or=null,zi=null;function Ko(){if(zi)return zi;var t,i=Or,a=i.length,l,h="value"in li?li.value:li.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var E=a-t;for(l=1;l<=E&&i[a-l]===h[d-l];l++);return zi=h.slice(t,1<l?1-l:void 0)}function ui(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ci(){return!0}function Qo(){return!1}function kt(t){function i(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ci:Qo,this.isPropagationStopped=Qo,this}return N(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),i}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Aa=kt($e),Ps=N({},$e,{view:0,detail:0}),ku=kt(Ps),Ra,Ca,hi,ks=N({},Ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ls,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hi&&(hi&&t.type==="mousemove"?(Ra=t.screenX-hi.screenX,Ca=t.screenY-hi.screenY):Ca=Ra=0,hi=t),Ra)},movementY:function(t){return"movementY"in t?t.movementY:Ca}}),Vn=kt(ks),Vu=N({},ks,{dataTransfer:0}),uf=kt(Vu),Vs=N({},Ps,{relatedTarget:0}),Ia=kt(Vs),Yo=N({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),xa=kt(Yo),ju=N({},$e,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Na=kt(ju),cf=N({},$e,{data:0}),Xo=kt(cf),js={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Uu[t])?!!i[t]:!1}function Ls(){return Wo}var zu=N({},Ps,{key:function(t){if(t.key){var i=js[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ui(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ls,charCode:function(t){return t.type==="keypress"?ui(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ui(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Da=kt(zu),Bu=N({},ks,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zo=kt(Bu),Bi=N({},Ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ls}),Hu=kt(Bi),qu=N({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fu=kt(qu),Gu=N({},ks,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Oa=kt(Gu),ln=N({},$e,{newState:0,oldState:0}),$u=kt(ln),Ku=[9,13,27,32],fi=Sn&&"CompositionEvent"in window,c=null;Sn&&"documentMode"in document&&(c=document.documentMode);var g=Sn&&"TextEvent"in window&&!c,v=Sn&&(!fi||c&&8<c&&11>=c),S=" ",z=!1;function G(t,i){switch(t){case"keyup":return Ku.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var je=!1;function Rt(t,i){switch(t){case"compositionend":return ie(i);case"keypress":return i.which!==32?null:(z=!0,S);case"textInput":return t=i.data,t===S&&z?null:t;default:return null}}function Le(t,i){if(je)return t==="compositionend"||!fi&&G(t,i)?(t=Ko(),zi=Or=li=null,je=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ct(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Vt[t.type]:i==="textarea"}function Hi(t,i,a,l){ji?Li?Li.push(l):Li=[l]:ji=l,i=Nc(i,"onChange"),0<i.length&&(a=new Aa("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Bt=null,di=null;function Jo(t){Ey(t,0)}function Qu(t){var i=Rr(t);if(qo(i))return t}function Yp(t,i){if(t==="change")return i}var Xp=!1;if(Sn){var hf;if(Sn){var ff="oninput"in document;if(!ff){var Wp=document.createElement("div");Wp.setAttribute("oninput","return;"),ff=typeof Wp.oninput=="function"}hf=ff}else hf=!1;Xp=hf&&(!document.documentMode||9<document.documentMode)}function Zp(){Bt&&(Bt.detachEvent("onpropertychange",Jp),di=Bt=null)}function Jp(t){if(t.propertyName==="value"&&Qu(di)){var i=[];Hi(i,di,t,ba(t)),Pu(Jo,i)}}function zw(t,i,a){t==="focusin"?(Zp(),Bt=i,di=a,Bt.attachEvent("onpropertychange",Jp)):t==="focusout"&&Zp()}function Bw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qu(di)}function Hw(t,i){if(t==="click")return Qu(i)}function qw(t,i){if(t==="input"||t==="change")return Qu(i)}function Fw(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var bn=typeof Object.is=="function"?Object.is:Fw;function el(t,i){if(bn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ga.call(i,h)||!bn(t[h],i[h]))return!1}return!0}function eg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function tg(t,i){var a=eg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=eg(a)}}function ng(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?ng(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function ig(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=wa(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=wa(t.document)}return i}function df(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function Gw(t,i){var a=ig(i);i=t.focusedElem;var l=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&ng(i.ownerDocument.documentElement,i)){if(l!==null&&df(i)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=tg(i,d);var E=tg(i,l);h&&E&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==E.node||a.focusOffset!==E.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(E.node,E.offset)):(t.setEnd(E.node,E.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var $w=Sn&&"documentMode"in document&&11>=document.documentMode,Ma=null,mf=null,tl=null,pf=!1;function rg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;pf||Ma==null||Ma!==wa(l)||(l=Ma,"selectionStart"in l&&df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),tl&&el(tl,l)||(tl=l,l=Nc(mf,"onSelect"),0<l.length&&(i=new Aa("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ma)))}function Us(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Pa={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionrun:Us("Transition","TransitionRun"),transitionstart:Us("Transition","TransitionStart"),transitioncancel:Us("Transition","TransitionCancel"),transitionend:Us("Transition","TransitionEnd")},gf={},sg={};Sn&&(sg=document.createElement("div").style,"AnimationEvent"in window||(delete Pa.animationend.animation,delete Pa.animationiteration.animation,delete Pa.animationstart.animation),"TransitionEvent"in window||delete Pa.transitionend.transition);function zs(t){if(gf[t])return gf[t];if(!Pa[t])return t;var i=Pa[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in sg)return gf[t]=i[a];return t}var ag=zs("animationend"),og=zs("animationiteration"),lg=zs("animationstart"),Kw=zs("transitionrun"),Qw=zs("transitionstart"),Yw=zs("transitioncancel"),ug=zs("transitionend"),cg=new Map,hg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Xn(t,i){cg.set(t,i),wn(i,[t])}var jn=[],ka=0,_f=0;function Yu(){for(var t=ka,i=_f=ka=0;i<t;){var a=jn[i];jn[i++]=null;var l=jn[i];jn[i++]=null;var h=jn[i];jn[i++]=null;var d=jn[i];if(jn[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&fg(a,h,d)}}function Xu(t,i,a,l){jn[ka++]=t,jn[ka++]=i,jn[ka++]=a,jn[ka++]=l,_f|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function yf(t,i,a,l){return Xu(t,i,a,l),Wu(t)}function Mr(t,i){return Xu(t,null,null,i),Wu(t)}function fg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&i!==null&&t.tag===3&&(d=t.stateNode,h=31-an(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[i]:t.push(i),i.lane=a|536870912)}function Wu(t){if(50<Rl)throw Rl=0,bd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Va={},dg=new WeakMap;function Ln(t,i){if(typeof t=="object"&&t!==null){var a=dg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Te(i)},dg.set(t,i),i)}return{value:t,source:i,stack:Te(i)}}var ja=[],La=0,Zu=null,Ju=0,Un=[],zn=0,Bs=null,qi=1,Fi="";function Hs(t,i){ja[La++]=Ju,ja[La++]=Zu,Zu=t,Ju=i}function mg(t,i,a){Un[zn++]=qi,Un[zn++]=Fi,Un[zn++]=Bs,Bs=t;var l=qi;t=Fi;var h=32-an(l)-1;l&=~(1<<h),a+=1;var d=32-an(i)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,qi=1<<32-an(i)+h|a<<h|l,Fi=d+t}else qi=1<<d|a<<h|l,Fi=t}function vf(t){t.return!==null&&(Hs(t,1),mg(t,1,0))}function Ef(t){for(;t===Zu;)Zu=ja[--La],ja[La]=null,Ju=ja[--La],ja[La]=null;for(;t===Bs;)Bs=Un[--zn],Un[zn]=null,Fi=Un[--zn],Un[zn]=null,qi=Un[--zn],Un[zn]=null}var un=null,Ht=null,qe=!1,Wn=null,mi=!1,Tf=Error(s(519));function qs(t){var i=Error(s(418,""));throw rl(Ln(i,t)),Tf}function pg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Pt]=t,i[At]=l,a){case"dialog":ke("cancel",i),ke("close",i);break;case"iframe":case"object":case"embed":ke("load",i);break;case"video":case"audio":for(a=0;a<Il.length;a++)ke(Il[a],i);break;case"source":ke("error",i);break;case"img":case"image":case"link":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"input":ke("invalid",i),Ns(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),xs(i);break;case"select":ke("invalid",i);break;case"textarea":ke("invalid",i),Dr(i,l.value,l.defaultValue,l.children),xs(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||by(i.textContent,a)?(l.popover!=null&&(ke("beforetoggle",i),ke("toggle",i)),l.onScroll!=null&&ke("scroll",i),l.onScrollEnd!=null&&ke("scrollend",i),l.onClick!=null&&(i.onclick=Dc),i=!0):i=!1,i||qs(t)}function gg(t){for(un=t.return;un;)switch(un.tag){case 3:case 27:mi=!0;return;case 5:case 13:mi=!1;return;default:un=un.return}}function nl(t){if(t!==un)return!1;if(!qe)return gg(t),qe=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Bd(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&Ht&&qs(t),gg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Ht=Jn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Ht=null}}else Ht=un?Jn(t.stateNode.nextSibling):null;return!0}function il(){Ht=un=null,qe=!1}function rl(t){Wn===null?Wn=[t]:Wn.push(t)}var sl=Error(s(460)),_g=Error(s(474)),wf={then:function(){}};function yg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ec(){}function vg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ec,ec),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===sl?Error(s(483)):t;default:if(typeof i.status=="string")i.then(ec,ec);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===sl?Error(s(483)):t}throw al=i,sl}}var al=null;function Eg(){if(al===null)throw Error(s(459));var t=al;return al=null,t}var Ua=null,ol=0;function tc(t){var i=ol;return ol+=1,Ua===null&&(Ua=[]),vg(Ua,t,i)}function ll(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function nc(t,i){throw i.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Tg(t){var i=t._init;return i(t._payload)}function wg(t){function i(U,k){if(t){var H=U.deletions;H===null?(U.deletions=[k],U.flags|=16):H.push(k)}}function a(U,k){if(!t)return null;for(;k!==null;)i(U,k),k=k.sibling;return null}function l(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function h(U,k){return U=Gr(U,k),U.index=0,U.sibling=null,U}function d(U,k,H){return U.index=H,t?(H=U.alternate,H!==null?(H=H.index,H<k?(U.flags|=33554434,k):H):(U.flags|=33554434,k)):(U.flags|=1048576,k)}function E(U){return t&&U.alternate===null&&(U.flags|=33554434),U}function w(U,k,H,W){return k===null||k.tag!==6?(k=gd(H,U.mode,W),k.return=U,k):(k=h(k,H),k.return=U,k)}function I(U,k,H,W){var ce=H.type;return ce===p?Q(U,k,H.props.children,W,H.key):k!==null&&(k.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===ne&&Tg(ce)===k.type)?(k=h(k,H.props),ll(k,H),k.return=U,k):(k=Ec(H.type,H.key,H.props,null,U.mode,W),ll(k,H),k.return=U,k)}function j(U,k,H,W){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=_d(H,U.mode,W),k.return=U,k):(k=h(k,H.children||[]),k.return=U,k)}function Q(U,k,H,W,ce){return k===null||k.tag!==7?(k=Js(H,U.mode,W,ce),k.return=U,k):(k=h(k,H),k.return=U,k)}function J(U,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=gd(""+k,U.mode,H),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case f:return H=Ec(k.type,k.key,k.props,null,U.mode,H),ll(H,k),H.return=U,H;case m:return k=_d(k,U.mode,H),k.return=U,k;case ne:var W=k._init;return k=W(k._payload),J(U,k,H)}if(oe(k)||pe(k))return k=Js(k,U.mode,H,null),k.return=U,k;if(typeof k.then=="function")return J(U,tc(k),H);if(k.$$typeof===P)return J(U,_c(U,k),H);nc(U,k)}return null}function q(U,k,H,W){var ce=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ce!==null?null:w(U,k,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case f:return H.key===ce?I(U,k,H,W):null;case m:return H.key===ce?j(U,k,H,W):null;case ne:return ce=H._init,H=ce(H._payload),q(U,k,H,W)}if(oe(H)||pe(H))return ce!==null?null:Q(U,k,H,W,null);if(typeof H.then=="function")return q(U,k,tc(H),W);if(H.$$typeof===P)return q(U,k,_c(U,H),W);nc(U,H)}return null}function $(U,k,H,W,ce){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(H)||null,w(k,U,""+W,ce);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case f:return U=U.get(W.key===null?H:W.key)||null,I(k,U,W,ce);case m:return U=U.get(W.key===null?H:W.key)||null,j(k,U,W,ce);case ne:var Ne=W._init;return W=Ne(W._payload),$(U,k,H,W,ce)}if(oe(W)||pe(W))return U=U.get(H)||null,Q(k,U,W,ce,null);if(typeof W.then=="function")return $(U,k,H,tc(W),ce);if(W.$$typeof===P)return $(U,k,H,_c(k,W),ce);nc(k,W)}return null}function he(U,k,H,W){for(var ce=null,Ne=null,me=k,ve=k=0,Ut=null;me!==null&&ve<H.length;ve++){me.index>ve?(Ut=me,me=null):Ut=me.sibling;var Fe=q(U,me,H[ve],W);if(Fe===null){me===null&&(me=Ut);break}t&&me&&Fe.alternate===null&&i(U,me),k=d(Fe,k,ve),Ne===null?ce=Fe:Ne.sibling=Fe,Ne=Fe,me=Ut}if(ve===H.length)return a(U,me),qe&&Hs(U,ve),ce;if(me===null){for(;ve<H.length;ve++)me=J(U,H[ve],W),me!==null&&(k=d(me,k,ve),Ne===null?ce=me:Ne.sibling=me,Ne=me);return qe&&Hs(U,ve),ce}for(me=l(me);ve<H.length;ve++)Ut=$(me,U,ve,H[ve],W),Ut!==null&&(t&&Ut.alternate!==null&&me.delete(Ut.key===null?ve:Ut.key),k=d(Ut,k,ve),Ne===null?ce=Ut:Ne.sibling=Ut,Ne=Ut);return t&&me.forEach(function(Zr){return i(U,Zr)}),qe&&Hs(U,ve),ce}function be(U,k,H,W){if(H==null)throw Error(s(151));for(var ce=null,Ne=null,me=k,ve=k=0,Ut=null,Fe=H.next();me!==null&&!Fe.done;ve++,Fe=H.next()){me.index>ve?(Ut=me,me=null):Ut=me.sibling;var Zr=q(U,me,Fe.value,W);if(Zr===null){me===null&&(me=Ut);break}t&&me&&Zr.alternate===null&&i(U,me),k=d(Zr,k,ve),Ne===null?ce=Zr:Ne.sibling=Zr,Ne=Zr,me=Ut}if(Fe.done)return a(U,me),qe&&Hs(U,ve),ce;if(me===null){for(;!Fe.done;ve++,Fe=H.next())Fe=J(U,Fe.value,W),Fe!==null&&(k=d(Fe,k,ve),Ne===null?ce=Fe:Ne.sibling=Fe,Ne=Fe);return qe&&Hs(U,ve),ce}for(me=l(me);!Fe.done;ve++,Fe=H.next())Fe=$(me,U,ve,Fe.value,W),Fe!==null&&(t&&Fe.alternate!==null&&me.delete(Fe.key===null?ve:Fe.key),k=d(Fe,k,ve),Ne===null?ce=Fe:Ne.sibling=Fe,Ne=Fe);return t&&me.forEach(function(ub){return i(U,ub)}),qe&&Hs(U,ve),ce}function dt(U,k,H,W){if(typeof H=="object"&&H!==null&&H.type===p&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case f:e:{for(var ce=H.key;k!==null;){if(k.key===ce){if(ce=H.type,ce===p){if(k.tag===7){a(U,k.sibling),W=h(k,H.props.children),W.return=U,U=W;break e}}else if(k.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===ne&&Tg(ce)===k.type){a(U,k.sibling),W=h(k,H.props),ll(W,H),W.return=U,U=W;break e}a(U,k);break}else i(U,k);k=k.sibling}H.type===p?(W=Js(H.props.children,U.mode,W,H.key),W.return=U,U=W):(W=Ec(H.type,H.key,H.props,null,U.mode,W),ll(W,H),W.return=U,U=W)}return E(U);case m:e:{for(ce=H.key;k!==null;){if(k.key===ce)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){a(U,k.sibling),W=h(k,H.children||[]),W.return=U,U=W;break e}else{a(U,k);break}else i(U,k);k=k.sibling}W=_d(H,U.mode,W),W.return=U,U=W}return E(U);case ne:return ce=H._init,H=ce(H._payload),dt(U,k,H,W)}if(oe(H))return he(U,k,H,W);if(pe(H)){if(ce=pe(H),typeof ce!="function")throw Error(s(150));return H=ce.call(H),be(U,k,H,W)}if(typeof H.then=="function")return dt(U,k,tc(H),W);if(H.$$typeof===P)return dt(U,k,_c(U,H),W);nc(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(a(U,k.sibling),W=h(k,H),W.return=U,U=W):(a(U,k),W=gd(H,U.mode,W),W.return=U,U=W),E(U)):a(U,k)}return function(U,k,H,W){try{ol=0;var ce=dt(U,k,H,W);return Ua=null,ce}catch(me){if(me===sl)throw me;var Ne=Fn(29,me,null,U.mode);return Ne.lanes=W,Ne.return=U,Ne}finally{}}}var Fs=wg(!0),Sg=wg(!1),za=Be(null),ic=Be(0);function bg(t,i){t=tr,Qe(ic,t),Qe(za,i),tr=t|i.baseLanes}function Sf(){Qe(ic,tr),Qe(za,za.current)}function bf(){tr=ic.current,ut(za),ut(ic)}var Bn=Be(null),pi=null;function Pr(t){var i=t.alternate;Qe(It,It.current&1),Qe(Bn,t),pi===null&&(i===null||za.current!==null||i.memoizedState!==null)&&(pi=t)}function Ag(t){if(t.tag===22){if(Qe(It,It.current),Qe(Bn,t),pi===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(pi=t)}}else kr()}function kr(){Qe(It,It.current),Qe(Bn,Bn.current)}function Gi(t){ut(Bn),pi===t&&(pi=null),ut(It)}var It=Be(0);function rc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Xw=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Ww=r.unstable_scheduleCallback,Zw=r.unstable_NormalPriority,xt={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Af(){return{controller:new Xw,data:new Map,refCount:0}}function ul(t){t.refCount--,t.refCount===0&&Ww(Zw,function(){t.controller.abort()})}var cl=null,Rf=0,Ba=0,Ha=null;function Jw(t,i){if(cl===null){var a=cl=[];Rf=0,Ba=Od(),Ha={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Rf++,i.then(Rg,Rg),i}function Rg(){if(--Rf===0&&cl!==null){Ha!==null&&(Ha.status="fulfilled");var t=cl;cl=null,Ba=0,Ha=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function eS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Cg=A.S;A.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Jw(t,i),Cg!==null&&Cg(t,i)};var Gs=Be(null);function Cf(){var t=Gs.current;return t!==null?t:Je.pooledCache}function sc(t,i){i===null?Qe(Gs,Gs.current):Qe(Gs,i.pool)}function Ig(){var t=Cf();return t===null?null:{parent:xt._currentValue,pool:t}}var Vr=0,xe=null,Xe=null,Et=null,ac=!1,qa=!1,$s=!1,oc=0,hl=0,Fa=null,tS=0;function gt(){throw Error(s(321))}function If(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!bn(t[a],i[a]))return!1;return!0}function xf(t,i,a,l,h,d){return Vr=d,xe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,A.H=t===null||t.memoizedState===null?Ks:jr,$s=!1,d=a(l,h),$s=!1,qa&&(d=Ng(i,a,l,h)),xg(t),d}function xg(t){A.H=gi;var i=Xe!==null&&Xe.next!==null;if(Vr=0,Et=Xe=xe=null,ac=!1,hl=0,Fa=null,i)throw Error(s(300));t===null||jt||(t=t.dependencies,t!==null&&gc(t)&&(jt=!0))}function Ng(t,i,a,l){xe=t;var h=0;do{if(qa&&(Fa=null),hl=0,qa=!1,25<=h)throw Error(s(301));if(h+=1,Et=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}A.H=Qs,d=i(a,l)}while(qa);return d}function nS(){var t=A.H,i=t.useState()[0];return i=typeof i.then=="function"?fl(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(xe.flags|=1024),i}function Nf(){var t=oc!==0;return oc=0,t}function Df(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Of(t){if(ac){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ac=!1}Vr=0,Et=Xe=xe=null,qa=!1,hl=oc=0,Fa=null}function mn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?xe.memoizedState=Et=t:Et=Et.next=t,Et}function Tt(){if(Xe===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=Et===null?xe.memoizedState:Et.next;if(i!==null)Et=i,Xe=t;else{if(t===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Et===null?xe.memoizedState=Et=t:Et=Et.next=t}return Et}var lc;lc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function fl(t){var i=hl;return hl+=1,Fa===null&&(Fa=[]),t=vg(Fa,t,i),i=xe,(Et===null?i.memoizedState:Et.next)===null&&(i=i.alternate,A.H=i===null||i.memoizedState===null?Ks:jr),t}function uc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fl(t);if(t.$$typeof===P)return Xt(t)}throw Error(s(438,String(t)))}function Mf(t){var i=null,a=xe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=lc(),xe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=re;return i.index++,a}function $i(t,i){return typeof i=="function"?i(t):i}function cc(t){var i=Tt();return Pf(i,Xe,t)}function Pf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var w=E=null,I=null,j=i,Q=!1;do{var J=j.lane&-536870913;if(J!==j.lane?(Ue&J)===J:(Vr&J)===J){var q=j.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),J===Ba&&(Q=!0);else if((Vr&q)===q){j=j.next,q===Ba&&(Q=!0);continue}else J={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(w=I=J,E=d):I=I.next=J,xe.lanes|=q,$r|=q;J=j.action,$s&&a(d,J),d=j.hasEagerState?j.eagerState:a(d,J)}else q={lane:J,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(w=I=q,E=d):I=I.next=q,xe.lanes|=J,$r|=J;j=j.next}while(j!==null&&j!==i);if(I===null?E=d:I.next=w,!bn(d,t.memoizedState)&&(jt=!0,Q&&(a=Ha,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function kf(t){var i=Tt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=t(d,E.action),E=E.next;while(E!==h);bn(d,i.memoizedState)||(jt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Dg(t,i,a){var l=xe,h=Tt(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!bn((Xe||h).memoizedState,a);if(E&&(h.memoizedState=a,jt=!0),h=h.queue,Lf(Pg.bind(null,l,h,t),[t]),h.getSnapshot!==i||E||Et!==null&&Et.memoizedState.tag&1){if(l.flags|=2048,Ga(9,Mg.bind(null,l,h,a,i),{destroy:void 0},null),Je===null)throw Error(s(349));d||(Vr&60)!==0||Og(l,i,a)}return a}function Og(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=xe.updateQueue,i===null?(i=lc(),xe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Mg(t,i,a,l){i.value=a,i.getSnapshot=l,kg(i)&&Vg(t)}function Pg(t,i,a){return a(function(){kg(i)&&Vg(t)})}function kg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!bn(t,a)}catch{return!0}}function Vg(t){var i=Mr(t,2);i!==null&&cn(i,t,2)}function Vf(t){var i=mn();if(typeof t=="function"){var a=t;if(t=a(),$s){ii(!0);try{a()}finally{ii(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:t},i}function jg(t,i,a,l){return t.baseState=a,Pf(t,Xe,typeof l=="function"?l:$i)}function iS(t,i,a,l,h){if(dc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};A.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Lg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Lg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=A.T,E={};A.T=E;try{var w=a(h,l),I=A.S;I!==null&&I(E,w),Ug(t,i,w)}catch(j){jf(t,i,j)}finally{A.T=d}}else try{d=a(h,l),Ug(t,i,d)}catch(j){jf(t,i,j)}}function Ug(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){zg(t,i,l)},function(l){return jf(t,i,l)}):zg(t,i,a)}function zg(t,i,a){i.status="fulfilled",i.value=a,Bg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Lg(t,a)))}function jf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Bg(i),i=i.next;while(i!==l)}t.action=null}function Bg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Hg(t,i){return i}function qg(t,i){if(qe){var a=Je.formState;if(a!==null){e:{var l=xe;if(qe){if(Ht){t:{for(var h=Ht,d=mi;h.nodeType!==8;){if(!d){h=null;break t}if(h=Jn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Ht=Jn(h.nextSibling),l=h.data==="F!";break e}}qs(l)}l=!1}l&&(i=a[0])}}return a=mn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hg,lastRenderedState:i},a.queue=l,a=o_.bind(null,xe,l),l.dispatch=a,l=Vf(!1),d=qf.bind(null,xe,!1,l.queue),l=mn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=iS.bind(null,xe,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Fg(t){var i=Tt();return Gg(i,Xe,t)}function Gg(t,i,a){i=Pf(t,i,Hg)[0],t=cc($i)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?fl(i):i;var l=Tt(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(xe.flags|=2048,Ga(9,rS.bind(null,h,a),{destroy:void 0},null)),[i,d,t]}function rS(t,i){t.action=i}function $g(t){var i=Tt(),a=Xe;if(a!==null)return Gg(i,a,t);Tt(),i=i.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ga(t,i,a,l){return t={tag:t,create:i,inst:a,deps:l,next:null},i=xe.updateQueue,i===null&&(i=lc(),xe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Kg(){return Tt().memoizedState}function hc(t,i,a,l){var h=mn();xe.flags|=t,h.memoizedState=Ga(1|i,a,{destroy:void 0},l===void 0?null:l)}function fc(t,i,a,l){var h=Tt();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&If(l,Xe.memoizedState.deps)?h.memoizedState=Ga(i,a,d,l):(xe.flags|=t,h.memoizedState=Ga(1|i,a,d,l))}function Qg(t,i){hc(8390656,8,t,i)}function Lf(t,i){fc(2048,8,t,i)}function Yg(t,i){return fc(4,2,t,i)}function Xg(t,i){return fc(4,4,t,i)}function Wg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Zg(t,i,a){a=a!=null?a.concat([t]):null,fc(4,4,Wg.bind(null,i,t),a)}function Uf(){}function Jg(t,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&If(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function e_(t,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&If(i,l[1]))return l[0];if(l=t(),$s){ii(!0);try{t()}finally{ii(!1)}}return a.memoizedState=[l,i],l}function zf(t,i,a){return a===void 0||(Vr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=ny(),xe.lanes|=t,$r|=t,a)}function t_(t,i,a,l){return bn(a,i)?a:za.current!==null?(t=zf(t,a,l),bn(t,i)||(jt=!0),t):(Vr&42)===0?(jt=!0,t.memoizedState=a):(t=ny(),xe.lanes|=t,$r|=t,i)}function n_(t,i,a,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var E=A.T,w={};A.T=w,qf(t,!1,i,a);try{var I=h(),j=A.S;if(j!==null&&j(w,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=eS(I,l);dl(t,i,Q,In(t))}else dl(t,i,l,In(t))}catch(J){dl(t,i,{then:function(){},status:"rejected",reason:J},In())}finally{le.p=d,A.T=E}}function sS(){}function Bf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=i_(t).queue;n_(t,h,i,Ie,a===null?sS:function(){return r_(t),a(l)})}function i_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:Ie},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function r_(t){var i=i_(t).next.queue;dl(t,i,{},In())}function Hf(){return Xt(Ml)}function s_(){return Tt().memoizedState}function a_(){return Tt().memoizedState}function aS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=In();t=zr(a);var l=Br(i,t,a);l!==null&&(cn(l,i,a),gl(l,i,a)),i={cache:Af()},t.payload=i;return}i=i.return}}function oS(t,i,a){var l=In();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},dc(t)?l_(i,a):(a=yf(t,i,a,l),a!==null&&(cn(a,t,l),u_(a,i,l)))}function o_(t,i,a){var l=In();dl(t,i,a,l)}function dl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(dc(t))l_(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,w=d(E,a);if(h.hasEagerState=!0,h.eagerState=w,bn(w,E))return Xu(t,i,h,0),Je===null&&Yu(),!1}catch{}finally{}if(a=yf(t,i,h,l),a!==null)return cn(a,t,l),u_(a,i,l),!0}return!1}function qf(t,i,a,l){if(l={lane:2,revertLane:Od(),action:l,hasEagerState:!1,eagerState:null,next:null},dc(t)){if(i)throw Error(s(479))}else i=yf(t,a,l,2),i!==null&&cn(i,t,2)}function dc(t){var i=t.alternate;return t===xe||i!==null&&i===xe}function l_(t,i){qa=ac=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function u_(t,i,a){if((a&4194176)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Sr(t,a)}}var gi={readContext:Xt,use:uc,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt};gi.useCacheRefresh=gt,gi.useMemoCache=gt,gi.useHostTransitionStatus=gt,gi.useFormState=gt,gi.useActionState=gt,gi.useOptimistic=gt;var Ks={readContext:Xt,use:uc,useCallback:function(t,i){return mn().memoizedState=[t,i===void 0?null:i],t},useContext:Xt,useEffect:Qg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,hc(4194308,4,Wg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return hc(4194308,4,t,i)},useInsertionEffect:function(t,i){hc(4,2,t,i)},useMemo:function(t,i){var a=mn();i=i===void 0?null:i;var l=t();if($s){ii(!0);try{t()}finally{ii(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=mn();if(a!==void 0){var h=a(i);if($s){ii(!0);try{a(i)}finally{ii(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=oS.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var i=mn();return t={current:t},i.memoizedState=t},useState:function(t){t=Vf(t);var i=t.queue,a=o_.bind(null,xe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Uf,useDeferredValue:function(t,i){var a=mn();return zf(a,t,i)},useTransition:function(){var t=Vf(!1);return t=n_.bind(null,xe,t.queue,!0,!1),mn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=xe,h=mn();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Je===null)throw Error(s(349));(Ue&60)!==0||Og(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Qg(Pg.bind(null,l,d,t),[t]),l.flags|=2048,Ga(9,Mg.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var t=mn(),i=Je.identifierPrefix;if(qe){var a=Fi,l=qi;a=(l&~(1<<32-an(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=oc++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=tS++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return mn().memoizedState=aS.bind(null,xe)}};Ks.useMemoCache=Mf,Ks.useHostTransitionStatus=Hf,Ks.useFormState=qg,Ks.useActionState=qg,Ks.useOptimistic=function(t){var i=mn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=qf.bind(null,xe,!0,a),a.dispatch=i,[t,i]};var jr={readContext:Xt,use:uc,useCallback:Jg,useContext:Xt,useEffect:Lf,useImperativeHandle:Zg,useInsertionEffect:Yg,useLayoutEffect:Xg,useMemo:e_,useReducer:cc,useRef:Kg,useState:function(){return cc($i)},useDebugValue:Uf,useDeferredValue:function(t,i){var a=Tt();return t_(a,Xe.memoizedState,t,i)},useTransition:function(){var t=cc($i)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:fl(t),i]},useSyncExternalStore:Dg,useId:s_};jr.useCacheRefresh=a_,jr.useMemoCache=Mf,jr.useHostTransitionStatus=Hf,jr.useFormState=Fg,jr.useActionState=Fg,jr.useOptimistic=function(t,i){var a=Tt();return jg(a,Xe,t,i)};var Qs={readContext:Xt,use:uc,useCallback:Jg,useContext:Xt,useEffect:Lf,useImperativeHandle:Zg,useInsertionEffect:Yg,useLayoutEffect:Xg,useMemo:e_,useReducer:kf,useRef:Kg,useState:function(){return kf($i)},useDebugValue:Uf,useDeferredValue:function(t,i){var a=Tt();return Xe===null?zf(a,t,i):t_(a,Xe.memoizedState,t,i)},useTransition:function(){var t=kf($i)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:fl(t),i]},useSyncExternalStore:Dg,useId:s_};Qs.useCacheRefresh=a_,Qs.useMemoCache=Mf,Qs.useHostTransitionStatus=Hf,Qs.useFormState=$g,Qs.useActionState=$g,Qs.useOptimistic=function(t,i){var a=Tt();return Xe!==null?jg(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])};function Ff(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:N({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Gf={isMounted:function(t){return(t=t._reactInternals)?ge(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var l=In(),h=zr(l);h.payload=i,a!=null&&(h.callback=a),i=Br(t,h,l),i!==null&&(cn(i,t,l),gl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=In(),h=zr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Br(t,h,l),i!==null&&(cn(i,t,l),gl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=In(),l=zr(a);l.tag=2,i!=null&&(l.callback=i),i=Br(t,l,a),i!==null&&(cn(i,t,a),gl(i,t,a))}};function c_(t,i,a,l,h,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!el(a,l)||!el(h,d):!0}function h_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Gf.enqueueReplaceState(i,i.state,null)}function Ys(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=N({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var mc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function f_(t){mc(t)}function d_(t){console.error(t)}function m_(t){mc(t)}function pc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function p_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function $f(t,i,a){return a=zr(a),a.tag=3,a.payload={element:null},a.callback=function(){pc(t,i)},a}function g_(t){return t=zr(t),t.tag=3,t}function __(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){p_(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){p_(i,a,l),typeof h!="function"&&(Kr===null?Kr=new Set([this]):Kr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function lS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&pl(i,a,h,!0),a=Bn.current,a!==null){switch(a.tag){case 13:return pi===null?Cd():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===wf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),xd(t,l,h)),!1;case 22:return a.flags|=65536,l===wf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),xd(t,l,h)),!1}throw Error(s(435,a.tag))}return xd(t,l,h),Cd(),!1}if(qe)return i=Bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Tf&&(t=Error(s(422),{cause:l}),rl(Ln(t,a)))):(l!==Tf&&(i=Error(s(423),{cause:l}),rl(Ln(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Ln(l,a),h=$f(t.stateNode,l,h),od(t,h),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=Ln(d,a),bl===null?bl=[d]:bl.push(d),ft!==4&&(ft=2),i===null)return!0;l=Ln(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=$f(a.stateNode,l,t),od(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Kr===null||!Kr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=g_(h),__(h,t,a,l),od(a,h),!1}a=a.return}while(a!==null);return!1}var y_=Error(s(461)),jt=!1;function qt(t,i,a,l){i.child=t===null?Sg(i,null,a,l):Fs(i,t.child,a,l)}function v_(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var E={};for(var w in l)w!=="ref"&&(E[w]=l[w])}else E=l;return Ws(i),l=xf(t,i,a,E,d,h),w=Nf(),t!==null&&!jt?(Df(t,i,h),Ki(t,i,h)):(qe&&w&&vf(i),i.flags|=1,qt(t,i,l,h),i.child)}function E_(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!pd(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,T_(t,i,d,l,h)):(t=Ec(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!td(t,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:el,a(E,l)&&t.ref===i.ref)return Ki(t,i,h)}return i.flags|=1,t=Gr(d,l),t.ref=i.ref,t.return=i,i.child=t}function T_(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(el(d,l)&&t.ref===i.ref)if(jt=!1,i.pendingProps=l=d,td(t,h))(t.flags&131072)!==0&&(jt=!0);else return i.lanes=t.lanes,Ki(t,i,h)}return Kf(t,i,a,l,h)}function w_(t,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,E=t!==null?t.memoizedState:null;if(ml(t,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=E!==null?E.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return S_(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&sc(i,E!==null?E.cachePool:null),E!==null?bg(i,E):Sf(),Ag(i);else return i.lanes=i.childLanes=536870912,S_(t,i,E!==null?E.baseLanes|a:a,a)}else E!==null?(sc(i,E.cachePool),bg(i,E),kr(),i.memoizedState=null):(t!==null&&sc(i,null),Sf(),kr());return qt(t,i,h,a),i.child}function S_(t,i,a,l){var h=Cf();return h=h===null?null:{parent:xt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&sc(i,null),Sf(),Ag(i),t!==null&&pl(t,i,l,!0),null}function ml(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function Kf(t,i,a,l,h){return Ws(i),a=xf(t,i,a,l,void 0,h),l=Nf(),t!==null&&!jt?(Df(t,i,h),Ki(t,i,h)):(qe&&l&&vf(i),i.flags|=1,qt(t,i,a,h),i.child)}function b_(t,i,a,l,h,d){return Ws(i),i.updateQueue=null,a=Ng(i,l,a,h),xg(t),l=Nf(),t!==null&&!jt?(Df(t,i,d),Ki(t,i,d)):(qe&&l&&vf(i),i.flags|=1,qt(t,i,a,d),i.child)}function A_(t,i,a,l,h){if(Ws(i),i.stateNode===null){var d=Va,E=a.contextType;typeof E=="object"&&E!==null&&(d=Xt(E)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Gf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},sd(i),E=a.contextType,d.context=typeof E=="object"&&E!==null?Xt(E):Va,d.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Ff(i,a,E,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Gf.enqueueReplaceState(d,d.state,null),yl(i,l,d,h),_l(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var w=i.memoizedProps,I=Ys(a,w);d.props=I;var j=d.context,Q=a.contextType;E=Va,typeof Q=="object"&&Q!==null&&(E=Xt(Q));var J=a.getDerivedStateFromProps;Q=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||j!==E)&&h_(i,d,l,E),Ur=!1;var q=i.memoizedState;d.state=q,yl(i,l,d,h),_l(),j=i.memoizedState,w||q!==j||Ur?(typeof J=="function"&&(Ff(i,a,J,l),j=i.memoizedState),(I=Ur||c_(i,a,I,l,q,j,E))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=E,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,ad(t,i),E=i.memoizedProps,Q=Ys(a,E),d.props=Q,J=i.pendingProps,q=d.context,j=a.contextType,I=Va,typeof j=="object"&&j!==null&&(I=Xt(j)),w=a.getDerivedStateFromProps,(j=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==J||q!==I)&&h_(i,d,l,I),Ur=!1,q=i.memoizedState,d.state=q,yl(i,l,d,h),_l();var $=i.memoizedState;E!==J||q!==$||Ur||t!==null&&t.dependencies!==null&&gc(t.dependencies)?(typeof w=="function"&&(Ff(i,a,w,l),$=i.memoizedState),(Q=Ur||c_(i,a,Q,l,q,$,I)||t!==null&&t.dependencies!==null&&gc(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),d.props=l,d.state=$,d.context=I,l=Q):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,ml(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Fs(i,t.child,null,h),i.child=Fs(i,null,a,h)):qt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Ki(t,i,h),t}function R_(t,i,a,l){return il(),i.flags|=256,qt(t,i,a,l),i.child}var Qf={dehydrated:null,treeContext:null,retryLane:0};function Yf(t){return{baseLanes:t,cachePool:Ig()}}function Xf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Gn),t}function C_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(qe){if(h?Pr(i):kr(),qe){var w=Ht,I;if(I=w){e:{for(I=w,w=mi;I.nodeType!==8;){if(!w){w=null;break e}if(I=Jn(I.nextSibling),I===null){w=null;break e}}w=I}w!==null?(i.memoizedState={dehydrated:w,treeContext:Bs!==null?{id:qi,overflow:Fi}:null,retryLane:536870912},I=Fn(18,null,null,0),I.stateNode=w,I.return=i,i.child=I,un=i,Ht=null,I=!0):I=!1}I||qs(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return w.data==="$!"?i.lanes=16:i.lanes=536870912,null;Gi(i)}return w=l.children,l=l.fallback,h?(kr(),h=i.mode,w=Zf({mode:"hidden",children:w},h),l=Js(l,h,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,h=i.child,h.memoizedState=Yf(a),h.childLanes=Xf(t,E,a),i.memoizedState=Qf,l):(Pr(i),Wf(i,w))}if(I=t.memoizedState,I!==null&&(w=I.dehydrated,w!==null)){if(d)i.flags&256?(Pr(i),i.flags&=-257,i=Jf(t,i,a)):i.memoizedState!==null?(kr(),i.child=t.child,i.flags|=128,i=null):(kr(),h=l.fallback,w=i.mode,l=Zf({mode:"visible",children:l.children},w),h=Js(h,w,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Fs(i,t.child,null,a),l=i.child,l.memoizedState=Yf(a),l.childLanes=Xf(t,E,a),i.memoizedState=Qf,i=h);else if(Pr(i),w.data==="$!"){if(E=w.nextSibling&&w.nextSibling.dataset,E)var j=E.dgst;E=j,l=Error(s(419)),l.stack="",l.digest=E,rl({value:l,source:null,stack:null}),i=Jf(t,i,a)}else if(jt||pl(t,i,a,!1),E=(a&t.childLanes)!==0,jt||E){if(E=Je,E!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane)throw I.retryLane=l,Mr(t,l),cn(E,t,l),y_}w.data==="$?"||Cd(),i=Jf(t,i,a)}else w.data==="$?"?(i.flags|=128,i.child=t.child,i=SS.bind(null,t),w._reactRetry=i,i=null):(t=I.treeContext,Ht=Jn(w.nextSibling),un=i,qe=!0,Wn=null,mi=!1,t!==null&&(Un[zn++]=qi,Un[zn++]=Fi,Un[zn++]=Bs,qi=t.id,Fi=t.overflow,Bs=i),i=Wf(i,l.children),i.flags|=4096);return i}return h?(kr(),h=l.fallback,w=i.mode,I=t.child,j=I.sibling,l=Gr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&31457280,j!==null?h=Gr(j,h):(h=Js(h,w,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,w=t.child.memoizedState,w===null?w=Yf(a):(I=w.cachePool,I!==null?(j=xt._currentValue,I=I.parent!==j?{parent:j,pool:j}:I):I=Ig(),w={baseLanes:w.baseLanes|a,cachePool:I}),h.memoizedState=w,h.childLanes=Xf(t,E,a),i.memoizedState=Qf,l):(Pr(i),a=t.child,t=a.sibling,a=Gr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=a,i.memoizedState=null,a)}function Wf(t,i){return i=Zf({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Zf(t,i){return J_(t,i,0,null)}function Jf(t,i,a){return Fs(i,t.child,null,a),t=Wf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function I_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),id(t.return,i,a)}function ed(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function x_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(qt(t,i,l.children,a),l=It.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&I_(t,a,i);else if(t.tag===19)I_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Qe(It,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&rc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),ed(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&rc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}ed(i,!0,a,null,d);break;case"together":ed(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Ki(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),$r|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(pl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Gr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Gr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function td(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&gc(t)))}function uS(t,i,a){switch(i.tag){case 3:_r(i,i.stateNode.containerInfo),Lr(i,xt,t.memoizedState.cache),il();break;case 27:case 5:Mo(i);break;case 4:_r(i,i.stateNode.containerInfo);break;case 10:Lr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Pr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?C_(t,i,a):(Pr(i),t=Ki(t,i,a),t!==null?t.sibling:null);Pr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(pl(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return x_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Qe(It,It.current),l)break;return null;case 22:case 23:return i.lanes=0,w_(t,i,a);case 24:Lr(i,xt,t.memoizedState.cache)}return Ki(t,i,a)}function N_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)jt=!0;else{if(!td(t,a)&&(i.flags&128)===0)return jt=!1,uS(t,i,a);jt=(t.flags&131072)!==0}else jt=!1,qe&&(i.flags&1048576)!==0&&mg(i,Ju,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")pd(l)?(t=Ys(l,t),i.tag=1,i=A_(null,i,l,t,a)):(i.tag=0,i=Kf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===L){i.tag=11,i=v_(null,i,l,t,a);break e}else if(h===Y){i.tag=14,i=E_(null,i,l,t,a);break e}}throw i=C(l)||l,Error(s(306,i,""))}}return i;case 0:return Kf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ys(l,i.pendingProps),A_(t,i,l,h,a);case 3:e:{if(_r(i,i.stateNode.containerInfo),t===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,ad(t,i),yl(i,d,null,a);var E=i.memoizedState;if(d=E.cache,Lr(i,xt,d),d!==h.cache&&rd(i,[xt],a,!0),_l(),d=E.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=R_(t,i,d,a);break e}else if(d!==l){l=Ln(Error(s(424)),i),rl(l),i=R_(t,i,d,a);break e}else for(Ht=Jn(i.stateNode.containerInfo.firstChild),un=i,qe=!0,Wn=null,mi=!0,a=Sg(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(il(),d===l){i=Ki(t,i,a);break e}qt(t,i,d,a)}i=i.child}return i;case 26:return ml(t,i),t===null?(a=My(i.type,null,i.pendingProps,null))?i.memoizedState=a:qe||(a=i.type,t=i.pendingProps,l=Oc(Nn.current).createElement(a),l[Pt]=i,l[At]=t,Ft(l,a,t),it(l),i.stateNode=l):i.memoizedState=My(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Mo(i),t===null&&qe&&(l=i.stateNode=Ny(i.type,i.pendingProps,Nn.current),un=i,mi=!0,Ht=Jn(l.firstChild)),l=i.pendingProps.children,t!==null||qe?qt(t,i,l,a):i.child=Fs(i,null,l,a),ml(t,i),i.child;case 5:return t===null&&qe&&((h=l=Ht)&&(l=US(l,i.type,i.pendingProps,mi),l!==null?(i.stateNode=l,un=i,Ht=Jn(l.firstChild),mi=!1,h=!0):h=!1),h||qs(i)),Mo(i),h=i.type,d=i.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,Bd(h,d)?l=null:E!==null&&Bd(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=xf(t,i,nS,null,null,a),Ml._currentValue=h),ml(t,i),qt(t,i,l,a),i.child;case 6:return t===null&&qe&&((t=a=Ht)&&(a=zS(a,i.pendingProps,mi),a!==null?(i.stateNode=a,un=i,Ht=null,t=!0):t=!1),t||qs(i)),null;case 13:return C_(t,i,a);case 4:return _r(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Fs(i,null,l,a):qt(t,i,l,a),i.child;case 11:return v_(t,i,i.type,i.pendingProps,a);case 7:return qt(t,i,i.pendingProps,a),i.child;case 8:return qt(t,i,i.pendingProps.children,a),i.child;case 12:return qt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Lr(i,i.type,l.value),qt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Ws(i),h=Xt(h),l=l(h),i.flags|=1,qt(t,i,l,a),i.child;case 14:return E_(t,i,i.type,i.pendingProps,a);case 15:return T_(t,i,i.type,i.pendingProps,a);case 19:return x_(t,i,a);case 22:return w_(t,i,a);case 24:return Ws(i),l=Xt(xt),t===null?(h=Cf(),h===null&&(h=Je,d=Af(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},sd(i),Lr(i,xt,h)):((t.lanes&a)!==0&&(ad(t,i),yl(i,null,null,a),_l()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Lr(i,xt,l)):(l=d.cache,Lr(i,xt,l),l!==h.cache&&rd(i,[xt],a,!0))),qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var nd=Be(null),Xs=null,Qi=null;function Lr(t,i,a){Qe(nd,i._currentValue),i._currentValue=a}function Yi(t){t._currentValue=nd.current,ut(nd)}function id(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function rd(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=h;for(var I=0;I<i.length;I++)if(w.context===i[I]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),id(d.return,a,t),l||(E=null);break e}d=w.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),id(E,a,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function pl(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var w=h.type;bn(h.pendingProps.value,E.value)||(t!==null?t.push(w):t=[w])}}else if(h===gr.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ml):t=[Ml])}h=h.return}t!==null&&rd(i,t,a,l),i.flags|=262144}function gc(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ws(t){Xs=t,Qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return D_(Xs,t)}function _c(t,i){return Xs===null&&Ws(t),D_(t,i)}function D_(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Qi===null){if(t===null)throw Error(s(308));Qi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Qi=Qi.next=i;return a}var Ur=!1;function sd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ad(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function zr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Br(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(st&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Wu(t),fg(t,null,a),i}return Xu(t,l,i,a),Wu(t)}function gl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Sr(t,a)}}function od(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var ld=!1;function _l(){if(ld){var t=Ha;if(t!==null)throw t}}function yl(t,i,a,l){ld=!1;var h=t.updateQueue;Ur=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var I=w,j=I.next;I.next=null,E===null?d=j:E.next=j,E=I;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,w=Q.lastBaseUpdate,w!==E&&(w===null?Q.firstBaseUpdate=j:w.next=j,Q.lastBaseUpdate=I))}if(d!==null){var J=h.baseState;E=0,Q=j=I=null,w=d;do{var q=w.lane&-536870913,$=q!==w.lane;if($?(Ue&q)===q:(l&q)===q){q!==0&&q===Ba&&(ld=!0),Q!==null&&(Q=Q.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var he=t,be=w;q=i;var dt=a;switch(be.tag){case 1:if(he=be.payload,typeof he=="function"){J=he.call(dt,J,q);break e}J=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=be.payload,q=typeof he=="function"?he.call(dt,J,q):he,q==null)break e;J=N({},J,q);break e;case 2:Ur=!0}}q=w.callback,q!==null&&(t.flags|=64,$&&(t.flags|=8192),$=h.callbacks,$===null?h.callbacks=[q]:$.push(q))}else $={lane:q,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Q===null?(j=Q=$,I=J):Q=Q.next=$,E|=q;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;$=w,w=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);Q===null&&(I=J),h.baseState=I,h.firstBaseUpdate=j,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),$r|=E,t.lanes=E,t.memoizedState=J}}function O_(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function M_(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)O_(a[t],i)}function vl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(w){Ze(i,i.return,w)}}function Hr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var E=l.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,h=i;var I=a;try{w()}catch(j){Ze(h,I,j)}}}l=l.next}while(l!==d)}}catch(j){Ze(i,i.return,j)}}function P_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{M_(i,a)}catch(l){Ze(t,t.return,l)}}}function k_(t,i,a){a.props=Ys(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,i,l)}}function Zs(t,i){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){Ze(t,i,d)}}function An(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,i,h)}else a.current=null}function V_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function j_(t,i,a){try{var l=t.stateNode;PS(l,t.type,a,i),l[At]=i}catch(h){Ze(t,t.return,h)}}function L_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function ud(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||L_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Dc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(cd(t,i,a),t=t.sibling;t!==null;)cd(t,i,a),t=t.sibling}function yc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(yc(t,i,a),t=t.sibling;t!==null;)yc(t,i,a),t=t.sibling}var Xi=!1,ht=!1,hd=!1,U_=typeof WeakSet=="function"?WeakSet:Set,Lt=null,z_=!1;function cS(t,i){if(t=t.containerInfo,Ud=Lc,t=ig(t),df(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,w=-1,I=-1,j=0,Q=0,J=t,q=null;t:for(;;){for(var $;J!==a||h!==0&&J.nodeType!==3||(w=E+h),J!==d||l!==0&&J.nodeType!==3||(I=E+l),J.nodeType===3&&(E+=J.nodeValue.length),($=J.firstChild)!==null;)q=J,J=$;for(;;){if(J===t)break t;if(q===a&&++j===h&&(w=E),q===d&&++Q===l&&(I=E),($=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=$}a=w===-1||I===-1?null:{start:w,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(zd={focusedElem:t,selectionRange:a},Lc=!1,Lt=i;Lt!==null;)if(i=Lt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Lt=t;else for(;Lt!==null;){switch(i=Lt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=Ys(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){Ze(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Fd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Fd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Lt=t;break}Lt=i.return}return he=z_,z_=!1,he}function B_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Zi(t,a),l&4&&vl(5,a);break;case 1:if(Zi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(w){Ze(a,a.return,w)}else{var h=Ys(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(w){Ze(a,a.return,w)}}l&64&&P_(a),l&512&&Zs(a,a.return);break;case 3:if(Zi(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{M_(l,t)}catch(w){Ze(a,a.return,w)}}break;case 26:Zi(t,a),l&512&&Zs(a,a.return);break;case 27:case 5:Zi(t,a),i===null&&l&4&&V_(a),l&512&&Zs(a,a.return);break;case 12:Zi(t,a);break;case 13:Zi(t,a),l&4&&F_(t,a);break;case 22:if(h=a.memoizedState!==null||Xi,!h){i=i!==null&&i.memoizedState!==null||ht;var d=Xi,E=ht;Xi=h,(ht=i)&&!E?qr(t,a,(a.subtreeFlags&8772)!==0):Zi(t,a),Xi=d,ht=E}l&512&&(a.memoizedProps.mode==="manual"?Zs(a,a.return):An(a,a.return));break;default:Zi(t,a)}}function H_(t){var i=t.alternate;i!==null&&(t.alternate=null,H_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Is(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var wt=null,Rn=!1;function Wi(t,i,a){for(a=a.child;a!==null;)q_(t,i,a),a=a.sibling}function q_(t,i,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(yr,a)}catch{}switch(a.tag){case 26:ht||An(a,i),Wi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ht||An(a,i);var l=wt,h=Rn;for(wt=a.stateNode,Wi(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Is(a),wt=l,Rn=h;break;case 5:ht||An(a,i);case 6:h=wt;var d=Rn;if(wt=null,Wi(t,i,a),wt=h,Rn=d,wt!==null)if(Rn)try{t=wt,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(E){Ze(a,i,E)}else try{wt.removeChild(a.stateNode)}catch(E){Ze(a,i,E)}break;case 18:wt!==null&&(Rn?(i=wt,a=a.stateNode,i.nodeType===8?qd(i.parentNode,a):i.nodeType===1&&qd(i,a),jl(i)):qd(wt,a.stateNode));break;case 4:l=wt,h=Rn,wt=a.stateNode.containerInfo,Rn=!0,Wi(t,i,a),wt=l,Rn=h;break;case 0:case 11:case 14:case 15:ht||Hr(2,a,i),ht||Hr(4,a,i),Wi(t,i,a);break;case 1:ht||(An(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&k_(a,i,l)),Wi(t,i,a);break;case 21:Wi(t,i,a);break;case 22:ht||An(a,i),ht=(l=ht)||a.memoizedState!==null,Wi(t,i,a),ht=l;break;default:Wi(t,i,a)}}function F_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jl(t)}catch(a){Ze(i,i.return,a)}}function hS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new U_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new U_),i;default:throw Error(s(435,t.tag))}}function fd(t,i){var a=hS(t);i.forEach(function(l){var h=bS.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Hn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,E=i,w=E;e:for(;w!==null;){switch(w.tag){case 27:case 5:wt=w.stateNode,Rn=!1;break e;case 3:wt=w.stateNode.containerInfo,Rn=!0;break e;case 4:wt=w.stateNode.containerInfo,Rn=!0;break e}w=w.return}if(wt===null)throw Error(s(160));q_(d,E,h),wt=null,Rn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)G_(i,t),i=i.sibling}var Zn=null;function G_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Hn(i,t),qn(t),l&4&&(Hr(3,t,t.return),vl(3,t),Hr(5,t,t.return));break;case 1:Hn(i,t),qn(t),l&512&&(ht||a===null||An(a,a.return)),l&64&&Xi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Zn;if(Hn(i,t),qn(t),l&512&&(ht||a===null||An(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Ar]||d[Pt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ft(d,l,a),d[Pt]=t,it(d),l=d;break e;case"link":var E=Vy("link","href",h).get(l+(a.href||""));if(E){for(var w=0;w<E.length;w++)if(d=E[w],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(w,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;case"meta":if(E=Vy("meta","content",h).get(l+(a.content||""))){for(w=0;w<E.length;w++)if(d=E[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(w,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Pt]=t,it(d),l=d}t.stateNode=l}else jy(h,t.type,t.stateNode);else t.stateNode=ky(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?jy(h,t.type,t.stateNode):ky(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&j_(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var I=h.firstChild;I;){var j=I.nextSibling,Q=I.nodeName;I[Ar]||Q==="HEAD"||Q==="BODY"||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&I.rel.toLowerCase()==="stylesheet"||h.removeChild(I),I=j}for(var J=t.type,q=h.attributes;q.length;)h.removeAttributeNode(q[0]);Ft(h,J,d),h[Pt]=t,h[At]=d}catch(he){Ze(t,t.return,he)}}case 5:if(Hn(i,t),qn(t),l&512&&(ht||a===null||An(a,a.return)),t.flags&32){h=t.stateNode;try{Mn(h,"")}catch(he){Ze(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,j_(t,h,a!==null?a.memoizedProps:h)),l&1024&&(hd=!0);break;case 6:if(Hn(i,t),qn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Ze(t,t.return,he)}}break;case 3:if(kc=null,h=Zn,Zn=Mc(i.containerInfo),Hn(i,t),Zn=h,qn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{jl(i.containerInfo)}catch(he){Ze(t,t.return,he)}hd&&(hd=!1,$_(t));break;case 4:l=Zn,Zn=Mc(t.stateNode.containerInfo),Hn(i,t),qn(t),Zn=l;break;case 12:Hn(i,t),qn(t);break;case 13:Hn(i,t),qn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Td=fn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fd(t,l)));break;case 22:if(l&512&&(ht||a===null||An(a,a.return)),I=t.memoizedState!==null,j=a!==null&&a.memoizedState!==null,Q=Xi,J=ht,Xi=Q||I,ht=J||j,Hn(i,t),ht=J,Xi=Q,qn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=I?i._visibility&-2:i._visibility|1,I&&(i=Xi||ht,a===null||j||i||$a(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){j=a=i;try{if(h=j.stateNode,I)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{E=j.stateNode,w=j.memoizedProps.style;var $=w!=null&&w.hasOwnProperty("display")?w.display:null;E.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(he){Ze(j,j.return,he)}}}else if(i.tag===6){if(a===null){j=i;try{j.stateNode.nodeValue=I?"":j.memoizedProps}catch(he){Ze(j,j.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,fd(t,a))));break;case 19:Hn(i,t),qn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,fd(t,l)));break;case 21:break;default:Hn(i,t),qn(t)}}function qn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(L_(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=ud(t);yc(t,d,h);break;case 5:var E=l.stateNode;l.flags&32&&(Mn(E,""),l.flags&=-33);var w=ud(t);yc(t,w,E);break;case 3:case 4:var I=l.stateNode.containerInfo,j=ud(t);cd(t,j,I);break;default:throw Error(s(161))}}}catch(Q){Ze(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function $_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;$_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Zi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)B_(t,i.alternate,i),i=i.sibling}function $a(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Hr(4,i,i.return),$a(i);break;case 1:An(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&k_(i,i.return,a),$a(i);break;case 26:case 27:case 5:An(i,i.return),$a(i);break;case 22:An(i,i.return),i.memoizedState===null&&$a(i);break;default:$a(i)}t=t.sibling}}function qr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:qr(h,d,a),vl(4,d);break;case 1:if(qr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Ze(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var w=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)O_(I[h],w)}catch(j){Ze(l,l.return,j)}}a&&E&64&&P_(d),Zs(d,d.return);break;case 26:case 27:case 5:qr(h,d,a),a&&l===null&&E&4&&V_(d),Zs(d,d.return);break;case 12:qr(h,d,a);break;case 13:qr(h,d,a),a&&E&4&&F_(h,d);break;case 22:d.memoizedState===null&&qr(h,d,a),Zs(d,d.return);break;default:qr(h,d,a)}i=i.sibling}}function dd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ul(a))}function md(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ul(t))}function Fr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)K_(t,i,a,l),i=i.sibling}function K_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Fr(t,i,a,l),h&2048&&vl(9,i);break;case 3:Fr(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ul(t)));break;case 12:if(h&2048){Fr(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,E=d.id,w=d.onPostCommit;typeof w=="function"&&w(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ze(i,i.return,I)}}else Fr(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Fr(t,i,a,l):El(t,i):d._visibility&4?Fr(t,i,a,l):(d._visibility|=4,Ka(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&dd(i.alternate,i);break;case 24:Fr(t,i,a,l),h&2048&&md(i.alternate,i);break;default:Fr(t,i,a,l)}}function Ka(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,E=i,w=a,I=l,j=E.flags;switch(E.tag){case 0:case 11:case 15:Ka(d,E,w,I,h),vl(8,E);break;case 23:break;case 22:var Q=E.stateNode;E.memoizedState!==null?Q._visibility&4?Ka(d,E,w,I,h):El(d,E):(Q._visibility|=4,Ka(d,E,w,I,h)),h&&j&2048&&dd(E.alternate,E);break;case 24:Ka(d,E,w,I,h),h&&j&2048&&md(E.alternate,E);break;default:Ka(d,E,w,I,h)}i=i.sibling}}function El(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:El(a,l),h&2048&&dd(l.alternate,l);break;case 24:El(a,l),h&2048&&md(l.alternate,l);break;default:El(a,l)}i=i.sibling}}var Tl=8192;function Qa(t){if(t.subtreeFlags&Tl)for(t=t.child;t!==null;)Q_(t),t=t.sibling}function Q_(t){switch(t.tag){case 26:Qa(t),t.flags&Tl&&t.memoizedState!==null&&JS(Zn,t.memoizedState,t.memoizedProps);break;case 5:Qa(t);break;case 3:case 4:var i=Zn;Zn=Mc(t.stateNode.containerInfo),Qa(t),Zn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Tl,Tl=16777216,Qa(t),Tl=i):Qa(t));break;default:Qa(t)}}function Y_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function wl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,W_(l,t)}Y_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)X_(t),t=t.sibling}function X_(t){switch(t.tag){case 0:case 11:case 15:wl(t),t.flags&2048&&Hr(9,t,t.return);break;case 3:wl(t);break;case 12:wl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,vc(t)):wl(t);break;default:wl(t)}}function vc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,W_(l,t)}Y_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Hr(8,i,i.return),vc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,vc(i));break;default:vc(i)}t=t.sibling}}function W_(t,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:Hr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ul(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=t;Lt!==null;){l=Lt;var h=l.sibling,d=l.return;if(H_(l),l===a){Lt=null;break e}if(h!==null){h.return=d,Lt=h;break e}Lt=d}}}function fS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(t,i,a,l){return new fS(t,i,a,l)}function pd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Gr(t,i){var a=t.alternate;return a===null?(a=Fn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Z_(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ec(t,i,a,l,h,d){var E=0;if(l=t,typeof t=="function")pd(t)&&(E=1);else if(typeof t=="string")E=WS(t,a,sn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Js(a.children,h,d,i);case _:E=8,h|=24;break;case T:return t=Fn(12,a,i,h|2),t.elementType=T,t.lanes=d,t;case X:return t=Fn(13,a,i,h),t.elementType=X,t.lanes=d,t;case F:return t=Fn(19,a,i,h),t.elementType=F,t.lanes=d,t;case K:return J_(a,h,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b:case P:E=10;break e;case R:E=9;break e;case L:E=11;break e;case Y:E=14;break e;case ne:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Fn(E,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Js(t,i,a,l){return t=Fn(7,t,l,i),t.lanes=a,t}function J_(t,i,a,l){t=Fn(22,t,l,i),t.elementType=K,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var E=Mr(d,2);E!==null&&(h._pendingVisibility|=2,cn(E,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var E=Mr(d,2);E!==null&&(h._pendingVisibility&=-3,cn(E,d,2))}}};return t.stateNode=h,t}function gd(t,i,a){return t=Fn(6,t,null,i),t.lanes=a,t}function _d(t,i,a){return i=Fn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Ji(t){t.flags|=4}function ey(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Ly(i)){if(i=Bn.current,i!==null&&((Ue&4194176)===Ue?pi!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||i!==pi))throw al=wf,_g;t.flags|=8192}}function Tc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Tr():536870912,t.lanes|=i,Xa|=i)}function Sl(t,i){if(!qe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function dS(t,i,a){var l=i.pendingProps;switch(Ef(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Yi(xt),Oi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(nl(i)?Ji(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Wn!==null&&(Ad(Wn),Wn=null))),rt(i),null;case 26:return a=i.memoizedState,t===null?(Ji(i),a!==null?(rt(i),ey(i,a)):(rt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Ji(i),rt(i),ey(i,a)):(rt(i),i.flags&=-16777217):(t.memoizedProps!==l&&Ji(i),rt(i),i.flags&=-16777217),null;case 27:pa(i),a=Nn.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}t=sn.current,nl(i)?pg(i):(t=Ny(h,l,a),i.stateNode=t,Ji(i))}return rt(i),null;case 5:if(pa(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(t=sn.current,nl(i))pg(i);else{switch(h=Oc(Nn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Pt]=i,t[At]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Ft(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ji(i)}}return rt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Nn.current,nl(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=un,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Pt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||by(t.nodeValue,a)),t||qs(i)}else t=Oc(t).createTextNode(l),t[Pt]=i,i.stateNode=t}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=nl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Pt]=i}else il(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else Wn!==null&&(Ad(Wn),Wn=null),h=!0;if(!h)return i.flags&256?(Gi(i),i):(Gi(i),null)}if(Gi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Tc(i,i.updateQueue),rt(i),null;case 4:return Oi(),t===null&&Vd(i.stateNode.containerInfo),rt(i),null;case 10:return Yi(i.type),rt(i),null;case 19:if(ut(It),h=i.memoizedState,h===null)return rt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Sl(h,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=rc(t),d!==null){for(i.flags|=128,Sl(h,!1),t=d.updateQueue,i.updateQueue=t,Tc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Z_(a,t),a=a.sibling;return Qe(It,It.current&1|2),i.child}t=t.sibling}h.tail!==null&&fn()>wc&&(i.flags|=128,l=!0,Sl(h,!1),i.lanes=4194304)}else{if(!l)if(t=rc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Tc(i,t),Sl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return rt(i),null}else 2*fn()-h.renderingStartTime>wc&&a!==536870912&&(i.flags|=128,l=!0,Sl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=fn(),i.sibling=null,t=It.current,Qe(It,l?t&1|2:t&1),i):(rt(i),null);case 22:case 23:return Gi(i),bf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&Tc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ut(Gs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Yi(xt),rt(i),null;case 25:return null}throw Error(s(156,i.tag))}function mS(t,i){switch(Ef(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Yi(xt),Oi(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return pa(i),null;case 13:if(Gi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));il()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ut(It),null;case 4:return Oi(),null;case 10:return Yi(i.type),null;case 22:case 23:return Gi(i),bf(),t!==null&&ut(Gs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Yi(xt),null;case 25:return null;default:return null}}function ty(t,i){switch(Ef(i),i.tag){case 3:Yi(xt),Oi();break;case 26:case 27:case 5:pa(i);break;case 4:Oi();break;case 13:Gi(i);break;case 19:ut(It);break;case 10:Yi(i.type);break;case 22:case 23:Gi(i),bf(),t!==null&&ut(Gs);break;case 24:Yi(xt)}}var pS={getCacheForType:function(t){var i=Xt(xt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},gS=typeof WeakMap=="function"?WeakMap:Map,st=0,Je=null,De=null,Ue=0,et=0,Cn=null,er=!1,Ya=!1,yd=!1,tr=0,ft=0,$r=0,ea=0,vd=0,Gn=0,Xa=0,bl=null,_i=null,Ed=!1,Td=0,wc=1/0,Sc=null,Kr=null,bc=!1,ta=null,Al=0,wd=0,Sd=null,Rl=0,bd=null;function In(){if((st&2)!==0&&Ue!==0)return Ue&-Ue;if(A.T!==null){var t=Ba;return t!==0?t:Od()}return Nu()}function ny(){Gn===0&&(Gn=(Ue&536870912)===0||qe?Lo():536870912);var t=Bn.current;return t!==null&&(t.flags|=32),Gn}function cn(t,i,a){(t===Je&&et===2||t.cancelPendingCommit!==null)&&(Wa(t,0),nr(t,Ue,Gn,!1)),pt(t,a),((st&2)===0||t!==Je)&&(t===Je&&((st&2)===0&&(ea|=a),ft===4&&nr(t,Ue,Gn,!1)),yi(t))}function iy(t,i,a){if((st&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&t.expiredLanes)===0||Er(t,i),h=l?vS(t,i):Id(t,i,!0),d=l;do{if(h===0){Ya&&!l&&nr(t,i,0,!1);break}else if(h===6)nr(t,i,0,!er);else{if(a=t.current.alternate,d&&!_S(a)){h=Id(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var w=t;h=bl;var I=w.current.memoizedState.isDehydrated;if(I&&(Wa(w,E).flags|=256),E=Id(w,E,!1),E!==2){if(yd&&!I){w.errorRecoveryDisabledLanes|=d,ea|=d,h=4;break e}d=_i,_i=h,d!==null&&Ad(d)}h=E}if(d=!1,h!==2)continue}}if(h===1){Wa(t,0),nr(t,i,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){nr(l,i,Gn,!er);break e}break;case 2:_i=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=Td+300-fn(),10<d)){if(nr(l,i,Gn,!er),Dn(l,0)!==0)break e;l.timeoutHandle=Cy(ry.bind(null,l,a,_i,Sc,Ed,i,Gn,ea,Xa,er,2,-0,0),d);break e}ry(l,a,_i,Sc,Ed,i,Gn,ea,Xa,er,0,-0,0)}}break}while(!0);yi(t)}function Ad(t){_i===null?_i=t:_i.push.apply(_i,t)}function ry(t,i,a,l,h,d,E,w,I,j,Q,J,q){var $=i.subtreeFlags;if(($&8192||($&16785408)===16785408)&&(Ol={stylesheets:null,count:0,unsuspend:ZS},Q_(i),i=eb(),i!==null)){t.cancelPendingCommit=i(hy.bind(null,t,a,l,h,E,w,I,1,J,q)),nr(t,d,E,!j);return}hy(t,a,l,h,E,w,I,Q,J,q)}function _S(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!bn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function nr(t,i,a,l){i&=~vd,i&=~ea,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-an(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&wr(t,a,i)}function Ac(){return(st&6)===0?(Cl(0),!1):!0}function Rd(){if(De!==null){if(et===0)var t=De.return;else t=De,Qi=Xs=null,Of(t),Ua=null,ol=0,t=De;for(;t!==null;)ty(t.alternate,t),t=t.return;De=null}}function Wa(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,VS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Rd(),Je=t,De=a=Gr(t.current,null),Ue=i,et=0,Cn=null,er=!1,Ya=Er(t,i),yd=!1,Xa=Gn=vd=ea=$r=ft=0,_i=bl=null,Ed=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-an(l),d=1<<h;i|=t[h],l&=~d}return tr=i,Yu(),a}function sy(t,i){xe=null,A.H=gi,i===sl?(i=Eg(),et=3):i===_g?(i=Eg(),et=4):et=i===y_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Cn=i,De===null&&(ft=1,pc(t,Ln(i,t.current)))}function ay(){var t=A.H;return A.H=gi,t===null?gi:t}function oy(){var t=A.A;return A.A=pS,t}function Cd(){ft=4,er||(Ue&4194176)!==Ue&&Bn.current!==null||(Ya=!0),($r&134217727)===0&&(ea&134217727)===0||Je===null||nr(Je,Ue,Gn,!1)}function Id(t,i,a){var l=st;st|=2;var h=ay(),d=oy();(Je!==t||Ue!==i)&&(Sc=null,Wa(t,i)),i=!1;var E=ft;e:do try{if(et!==0&&De!==null){var w=De,I=Cn;switch(et){case 8:Rd(),E=6;break e;case 3:case 2:case 6:Bn.current===null&&(i=!0);var j=et;if(et=0,Cn=null,Za(t,w,I,j),a&&Ya){E=0;break e}break;default:j=et,et=0,Cn=null,Za(t,w,I,j)}}yS(),E=ft;break}catch(Q){sy(t,Q)}while(!0);return i&&t.shellSuspendCounter++,Qi=Xs=null,st=l,A.H=h,A.A=d,De===null&&(Je=null,Ue=0,Yu()),E}function yS(){for(;De!==null;)ly(De)}function vS(t,i){var a=st;st|=2;var l=ay(),h=oy();Je!==t||Ue!==i?(Sc=null,wc=fn()+500,Wa(t,i)):Ya=Er(t,i);e:do try{if(et!==0&&De!==null){i=De;var d=Cn;t:switch(et){case 1:et=0,Cn=null,Za(t,i,d,1);break;case 2:if(yg(d)){et=0,Cn=null,uy(i);break}i=function(){et===2&&Je===t&&(et=7),yi(t)},d.then(i,i);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:yg(d)?(et=0,Cn=null,uy(i)):(et=0,Cn=null,Za(t,i,d,7));break;case 5:var E=null;switch(De.tag){case 26:E=De.memoizedState;case 5:case 27:var w=De;if(!E||Ly(E)){et=0,Cn=null;var I=w.sibling;if(I!==null)De=I;else{var j=w.return;j!==null?(De=j,Rc(j)):De=null}break t}}et=0,Cn=null,Za(t,i,d,5);break;case 6:et=0,Cn=null,Za(t,i,d,6);break;case 8:Rd(),ft=6;break e;default:throw Error(s(462))}}ES();break}catch(Q){sy(t,Q)}while(!0);return Qi=Xs=null,A.H=l,A.A=h,st=a,De!==null?0:(Je=null,Ue=0,Yu(),ft)}function ES(){for(;De!==null&&!tf();)ly(De)}function ly(t){var i=N_(t.alternate,t,tr);t.memoizedProps=t.pendingProps,i===null?Rc(t):De=i}function uy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=b_(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=b_(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:Of(i);default:ty(a,i),i=De=Z_(i,tr),i=N_(a,i,tr)}t.memoizedProps=t.pendingProps,i===null?Rc(t):De=i}function Za(t,i,a,l){Qi=Xs=null,Of(i),Ua=null,ol=0;var h=i.return;try{if(lS(t,h,i,a,Ue)){ft=1,pc(t,Ln(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ft=1,pc(t,Ln(a,t.current)),De=null;return}i.flags&32768?(qe||l===1?t=!0:Ya||(Ue&536870912)!==0?t=!1:(er=t=!0,(l===2||l===3||l===6)&&(l=Bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),cy(i,t)):Rc(i)}function Rc(t){var i=t;do{if((i.flags&32768)!==0){cy(i,er);return}t=i.return;var a=dS(i.alternate,i,tr);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ft===0&&(ft=5)}function cy(t,i){do{var a=mS(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ft=6,De=null}function hy(t,i,a,l,h,d,E,w,I,j){var Q=A.T,J=le.p;try{le.p=2,A.T=null,TS(t,i,a,l,J,h,d,E,w,I,j)}finally{A.T=Q,le.p=J}}function TS(t,i,a,l,h,d,E,w){do Ja();while(ta!==null);if((st&6)!==0)throw Error(s(327));var I=t.finishedWork;if(l=t.finishedLanes,I===null)return null;if(t.finishedWork=null,t.finishedLanes=0,I===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var j=I.lanes|I.childLanes;if(j|=_f,Iu(t,l,j,d,E,w),t===Je&&(De=Je=null,Ue=0),(I.subtreeFlags&10256)===0&&(I.flags&10256)===0||bc||(bc=!0,wd=j,Sd=a,AS(Mi,function(){return Ja(),null})),a=(I.flags&15990)!==0,(I.subtreeFlags&15990)!==0||a?(a=A.T,A.T=null,d=le.p,le.p=2,E=st,st|=4,cS(t,I),G_(I,t),Gw(zd,t.containerInfo),Lc=!!Ud,zd=Ud=null,t.current=I,B_(t,I.alternate,I),Po(),st=E,le.p=d,A.T=a):t.current=I,bc?(bc=!1,ta=t,Al=l):fy(t,j),j=t.pendingLanes,j===0&&(Kr=null),Vo(I.stateNode),yi(t),i!==null)for(h=t.onRecoverableError,I=0;I<i.length;I++)j=i[I],h(j.value,{componentStack:j.stack});return(Al&3)!==0&&Ja(),j=t.pendingLanes,(l&4194218)!==0&&(j&42)!==0?t===bd?Rl++:(Rl=0,bd=t):Rl=0,Cl(0),null}function fy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ul(i)))}function Ja(){if(ta!==null){var t=ta,i=wd;wd=0;var a=xu(Al),l=A.T,h=le.p;try{if(le.p=32>a?32:a,A.T=null,ta===null)var d=!1;else{a=Sd,Sd=null;var E=ta,w=Al;if(ta=null,Al=0,(st&6)!==0)throw Error(s(331));var I=st;if(st|=4,X_(E.current),K_(E,E.current,w,a),st=I,Cl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(yr,E)}catch{}d=!0}return d}finally{le.p=h,A.T=l,fy(t,i)}}return!1}function dy(t,i,a){i=Ln(a,i),i=$f(t.stateNode,i,2),t=Br(t,i,2),t!==null&&(pt(t,2),yi(t))}function Ze(t,i,a){if(t.tag===3)dy(t,t,a);else for(;i!==null;){if(i.tag===3){dy(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Kr===null||!Kr.has(l))){t=Ln(a,t),a=g_(2),l=Br(i,a,2),l!==null&&(__(a,l,i,t),pt(l,2),yi(l));break}}i=i.return}}function xd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new gS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(yd=!0,h.add(a),t=wS.bind(null,t,i,a),i.then(t,t))}function wS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(Ue&a)===a&&(ft===4||ft===3&&(Ue&62914560)===Ue&&300>fn()-Td?(st&2)===0&&Wa(t,0):vd|=a,Xa===Ue&&(Xa=0)),yi(t)}function my(t,i){i===0&&(i=Tr()),t=Mr(t,i),t!==null&&(pt(t,i),yi(t))}function SS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),my(t,a)}function bS(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),my(t,a)}function AS(t,i){return As(t,i)}var Cc=null,eo=null,Nd=!1,Ic=!1,Dd=!1,na=0;function yi(t){t!==eo&&t.next===null&&(eo===null?Cc=eo=t:eo=eo.next=t),Ic=!0,Nd||(Nd=!0,CS(RS))}function Cl(t,i){if(!Dd&&Ic){Dd=!0;do for(var a=!1,l=Cc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-an(42|t)+1)-1,d&=h&~(E&~w),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,_y(l,d))}else d=Ue,d=Dn(l,l===Je?d:0),(d&3)===0||Er(l,d)||(a=!0,_y(l,d));l=l.next}while(a);Dd=!1}}function RS(){Ic=Nd=!1;var t=0;na!==0&&(kS()&&(t=na),na=0);for(var i=fn(),a=null,l=Cc;l!==null;){var h=l.next,d=py(l,i);d===0?(l.next=null,a===null?Cc=h:a.next=h,h===null&&(eo=a)):(a=l,(t!==0||(d&3)!==0)&&(Ic=!0)),l=h}Cl(t)}function py(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-an(d),w=1<<E,I=h[E];I===-1?((w&a)===0||(w&l)!==0)&&(h[E]=ya(w,i)):I<=i&&(t.expiredLanes|=w),d&=~w}if(i=Je,a=Ue,a=Dn(t,t===i?a:0),l=t.callbackNode,a===0||t===i&&et===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_a(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Er(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&_a(l),xu(a)){case 2:case 8:a=Mt;break;case 32:a=Mi;break;case 268435456:a=ko;break;default:a=Mi}return l=gy.bind(null,t),a=As(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&_a(l),t.callbackPriority=2,t.callbackNode=null,2}function gy(t,i){var a=t.callbackNode;if(Ja()&&t.callbackNode!==a)return null;var l=Ue;return l=Dn(t,t===Je?l:0),l===0?null:(iy(t,l,i),py(t,fn()),t.callbackNode!=null&&t.callbackNode===a?gy.bind(null,t):null)}function _y(t,i){if(Ja())return null;iy(t,i,!0)}function CS(t){jS(function(){(st&6)!==0?As(bt,t):t()})}function Od(){return na===0&&(na=Lo()),na}function yy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:oi(""+t)}function vy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function IS(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=yy((h[At]||null).action),E=l.submitter;E&&(i=(i=E[At]||null)?yy(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var w=new Aa("action","action",null,l,h);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(na!==0){var I=E?vy(h,E):new FormData(h);Bf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(w.preventDefault(),I=E?vy(h,E):new FormData(h),Bf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Md=0;Md<hg.length;Md++){var Pd=hg[Md],xS=Pd.toLowerCase(),NS=Pd[0].toUpperCase()+Pd.slice(1);Xn(xS,"on"+NS)}Xn(ag,"onAnimationEnd"),Xn(og,"onAnimationIteration"),Xn(lg,"onAnimationStart"),Xn("dblclick","onDoubleClick"),Xn("focusin","onFocus"),Xn("focusout","onBlur"),Xn(Kw,"onTransitionRun"),Xn(Qw,"onTransitionStart"),Xn(Yw,"onTransitionCancel"),Xn(ug,"onTransitionEnd"),dn("onMouseEnter",["mouseout","mouseover"]),dn("onMouseLeave",["mouseout","mouseover"]),dn("onPointerEnter",["pointerout","pointerover"]),dn("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),DS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Il));function Ey(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var w=l[E],I=w.instance,j=w.currentTarget;if(w=w.listener,I!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=j;try{d(h)}catch(Q){mc(Q)}h.currentTarget=null,d=I}else for(E=0;E<l.length;E++){if(w=l[E],I=w.instance,j=w.currentTarget,w=w.listener,I!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=j;try{d(h)}catch(Q){mc(Q)}h.currentTarget=null,d=I}}}}function ke(t,i){var a=i[Cs];a===void 0&&(a=i[Cs]=new Set);var l=t+"__bubble";a.has(l)||(Ty(i,t,2,!1),a.add(l))}function kd(t,i,a){var l=0;i&&(l|=4),Ty(a,t,l,i)}var xc="_reactListening"+Math.random().toString(36).slice(2);function Vd(t){if(!t[xc]){t[xc]=!0,zo.forEach(function(a){a!=="selectionchange"&&(DS.has(a)||kd(a,!1,t),kd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[xc]||(i[xc]=!0,kd("selectionchange",!1,i))}}function Ty(t,i,a,l){switch(Fy(i)){case 2:var h=ib;break;case 8:h=rb;break;default:h=Yd}a=h.bind(null,i,a,t),h=void 0,!kn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function jd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var w=l.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(E===4)for(E=l.return;E!==null;){var I=E.tag;if((I===3||I===4)&&(I=E.stateNode.containerInfo,I===h||I.nodeType===8&&I.parentNode===h))return;E=E.return}for(;w!==null;){if(E=Yn(w),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){l=d=E;continue e}w=w.parentNode}}l=l.return}Pu(function(){var j=d,Q=ba(a),J=[];e:{var q=cg.get(t);if(q!==void 0){var $=Aa,he=t;switch(t){case"keypress":if(ui(a)===0)break e;case"keydown":case"keyup":$=Da;break;case"focusin":he="focus",$=Ia;break;case"focusout":he="blur",$=Ia;break;case"beforeblur":case"afterblur":$=Ia;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=uf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Hu;break;case ag:case og:case lg:$=xa;break;case ug:$=Fu;break;case"scroll":case"scrollend":$=ku;break;case"wheel":$=Oa;break;case"copy":case"cut":case"paste":$=Na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Zo;break;case"toggle":case"beforetoggle":$=$u}var be=(i&4)!==0,dt=!be&&(t==="scroll"||t==="scrollend"),U=be?q!==null?q+"Capture":null:q;be=[];for(var k=j,H;k!==null;){var W=k;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||U===null||(W=Os(k,U),W!=null&&be.push(xl(k,W,H))),dt)break;k=k.return}0<be.length&&(q=new $(q,he,null,a,Q),J.push({event:q,listeners:be}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",q&&a!==Pn&&(he=a.relatedTarget||a.fromElement)&&(Yn(he)||he[Pi]))break e;if(($||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,$?(he=a.relatedTarget||a.toElement,$=j,he=he?Yn(he):null,he!==null&&(dt=ge(he),be=he.tag,he!==dt||be!==5&&be!==27&&be!==6)&&(he=null)):($=null,he=j),$!==he)){if(be=Vn,W="onMouseLeave",U="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(be=Zo,W="onPointerLeave",U="onPointerEnter",k="pointer"),dt=$==null?q:Rr($),H=he==null?q:Rr(he),q=new be(W,k+"leave",$,a,Q),q.target=dt,q.relatedTarget=H,W=null,Yn(Q)===j&&(be=new be(U,k+"enter",he,a,Q),be.target=H,be.relatedTarget=dt,W=be),dt=W,$&&he)t:{for(be=$,U=he,k=0,H=be;H;H=to(H))k++;for(H=0,W=U;W;W=to(W))H++;for(;0<k-H;)be=to(be),k--;for(;0<H-k;)U=to(U),H--;for(;k--;){if(be===U||U!==null&&be===U.alternate)break t;be=to(be),U=to(U)}be=null}else be=null;$!==null&&wy(J,q,$,be,!1),he!==null&&dt!==null&&wy(J,dt,he,be,!0)}}e:{if(q=j?Rr(j):window,$=q.nodeName&&q.nodeName.toLowerCase(),$==="select"||$==="input"&&q.type==="file")var ce=Yp;else if(Ct(q))if(Xp)ce=qw;else{ce=Bw;var Ne=zw}else $=q.nodeName,!$||$.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?j&&Go(j.elementType)&&(ce=Yp):ce=Hw;if(ce&&(ce=ce(t,j))){Hi(J,ce,a,Q);break e}Ne&&Ne(t,q,j),t==="focusout"&&j&&q.type==="number"&&j.memoizedProps.value!=null&&Sa(q,"number",q.value)}switch(Ne=j?Rr(j):window,t){case"focusin":(Ct(Ne)||Ne.contentEditable==="true")&&(Ma=Ne,mf=j,tl=null);break;case"focusout":tl=mf=Ma=null;break;case"mousedown":pf=!0;break;case"contextmenu":case"mouseup":case"dragend":pf=!1,rg(J,a,Q);break;case"selectionchange":if($w)break;case"keydown":case"keyup":rg(J,a,Q)}var me;if(fi)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else je?G(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(v&&a.locale!=="ko"&&(je||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&je&&(me=Ko()):(li=Q,Or="value"in li?li.value:li.textContent,je=!0)),Ne=Nc(j,ve),0<Ne.length&&(ve=new Xo(ve,t,null,a,Q),J.push({event:ve,listeners:Ne}),me?ve.data=me:(me=ie(a),me!==null&&(ve.data=me)))),(me=g?Rt(t,a):Le(t,a))&&(ve=Nc(j,"onBeforeInput"),0<ve.length&&(Ne=new Xo("onBeforeInput","beforeinput",null,a,Q),J.push({event:Ne,listeners:ve}),Ne.data=me)),IS(J,t,j,a,Q)}Ey(J,i)})}function xl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Nc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Os(t,a),h!=null&&l.unshift(xl(t,h,d)),h=Os(t,i),h!=null&&l.push(xl(t,h,d))),t=t.return}return l}function to(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function wy(t,i,a,l,h){for(var d=i._reactName,E=[];a!==null&&a!==l;){var w=a,I=w.alternate,j=w.stateNode;if(w=w.tag,I!==null&&I===l)break;w!==5&&w!==26&&w!==27||j===null||(I=j,h?(j=Os(a,d),j!=null&&E.unshift(xl(a,j,I))):h||(j=Os(a,d),j!=null&&E.push(xl(a,j,I)))),a=a.return}E.length!==0&&t.push({event:i,listeners:E})}var OS=/\r\n?/g,MS=/\u0000|\uFFFD/g;function Sy(t){return(typeof t=="string"?t:""+t).replace(OS,`
`).replace(MS,"")}function by(t,i){return i=Sy(i),Sy(t)===i}function Dc(){}function We(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Mn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Mn(t,""+l);break;case"className":xr(t,"class",l);break;case"tabIndex":xr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":xr(t,a,l);break;case"style":Mu(t,l,d);break;case"data":if(i!=="object"){xr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=oi(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=oi(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Dc);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=oi(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),Ir(t,"popover",l);break;case"xlinkActuate":On(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":On(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":On(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":On(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":On(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":On(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":On(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":On(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":On(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Ir(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=of.get(a)||a,Ir(t,a,l))}}function Ld(t,i,a,l,h,d){switch(a){case"style":Mu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Mn(t,l):(typeof l=="number"||typeof l=="bigint")&&Mn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Dc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ta.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[At]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Ir(t,a,l)}}}function Ft(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,d,E,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":ke("invalid",t);var w=d=E=h=null,I=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":E=Q;break;case"checked":I=Q;break;case"defaultChecked":j=Q;break;case"value":d=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:We(t,i,l,Q,a,null)}}Ns(t,d,w,I,j,E,h,!1),xs(t);return;case"select":ke("invalid",t),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":d=w;break;case"defaultValue":E=w;break;case"multiple":l=w;default:We(t,i,h,w,a,null)}i=d,a=E,t.multiple=!!l,i!=null?He(t,!!l,i,!1):a!=null&&He(t,!!l,a,!0);return;case"textarea":ke("invalid",t),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(w=a[E],w!=null))switch(E){case"value":l=w;break;case"defaultValue":h=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:We(t,i,E,w,a,null)}Dr(t,l,h,d),xs(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,i,I,l,a,null)}return;case"dialog":ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<Il.length;l++)ke(Il[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,j,l,a,null)}return;default:if(Go(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Ld(t,i,Q,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&We(t,i,w,l,a,null))}function PS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,w=null,I=null,j=null,Q=null;for($ in a){var J=a[$];if(a.hasOwnProperty($)&&J!=null)switch($){case"checked":break;case"value":break;case"defaultValue":I=J;default:l.hasOwnProperty($)||We(t,i,$,null,l,J)}}for(var q in l){var $=l[q];if(J=a[q],l.hasOwnProperty(q)&&($!=null||J!=null))switch(q){case"type":d=$;break;case"name":h=$;break;case"checked":j=$;break;case"defaultChecked":Q=$;break;case"value":E=$;break;case"defaultValue":w=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:$!==J&&We(t,i,q,$,l,J)}}Nr(t,E,w,I,j,Q,d,h);return;case"select":$=E=w=q=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":$=I;default:l.hasOwnProperty(d)||We(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":q=d;break;case"defaultValue":w=d;break;case"multiple":E=d;default:d!==I&&We(t,i,h,d,l,I)}i=w,a=E,l=$,q!=null?He(t,!!a,q,!1):!!l!=!!a&&(i!=null?He(t,!!a,i,!0):He(t,!!a,a?[]:"",!1));return;case"textarea":$=q=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:We(t,i,w,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":q=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,i,E,h,l,d)}Ds(t,q,$);return;case"option":for(var he in a)if(q=a[he],a.hasOwnProperty(he)&&q!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:We(t,i,he,null,l,q)}for(I in l)if(q=l[I],$=a[I],l.hasOwnProperty(I)&&q!==$&&(q!=null||$!=null))switch(I){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:We(t,i,I,q,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)q=a[be],a.hasOwnProperty(be)&&q!=null&&!l.hasOwnProperty(be)&&We(t,i,be,null,l,q);for(j in l)if(q=l[j],$=a[j],l.hasOwnProperty(j)&&q!==$&&(q!=null||$!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:We(t,i,j,q,l,$)}return;default:if(Go(i)){for(var dt in a)q=a[dt],a.hasOwnProperty(dt)&&q!==void 0&&!l.hasOwnProperty(dt)&&Ld(t,i,dt,void 0,l,q);for(Q in l)q=l[Q],$=a[Q],!l.hasOwnProperty(Q)||q===$||q===void 0&&$===void 0||Ld(t,i,Q,q,l,$);return}}for(var U in a)q=a[U],a.hasOwnProperty(U)&&q!=null&&!l.hasOwnProperty(U)&&We(t,i,U,null,l,q);for(J in l)q=l[J],$=a[J],!l.hasOwnProperty(J)||q===$||q==null&&$==null||We(t,i,J,q,l,$)}var Ud=null,zd=null;function Oc(t){return t.nodeType===9?t:t.ownerDocument}function Ay(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ry(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Bd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Hd=null;function kS(){var t=window.event;return t&&t.type==="popstate"?t===Hd?!1:(Hd=t,!0):(Hd=null,!1)}var Cy=typeof setTimeout=="function"?setTimeout:void 0,VS=typeof clearTimeout=="function"?clearTimeout:void 0,Iy=typeof Promise=="function"?Promise:void 0,jS=typeof queueMicrotask=="function"?queueMicrotask:typeof Iy<"u"?function(t){return Iy.resolve(null).then(t).catch(LS)}:Cy;function LS(t){setTimeout(function(){throw t})}function qd(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),jl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);jl(i)}function Fd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Fd(a),Is(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function US(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Ar])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Jn(t.nextSibling),t===null)break}return null}function zS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Jn(t.nextSibling),t===null))return null;return t}function Jn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function xy(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Ny(t,i,a){switch(i=Oc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var $n=new Map,Dy=new Set;function Mc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var ir=le.d;le.d={f:BS,r:HS,D:qS,C:FS,L:GS,m:$S,X:QS,S:KS,M:YS};function BS(){var t=ir.f(),i=Ac();return t||i}function HS(t){var i=ki(t);i!==null&&i.tag===5&&i.type==="form"?r_(i):ir.r(t)}var no=typeof document>"u"?null:document;function Oy(t,i,a){var l=no;if(l&&typeof i=="string"&&i){var h=ct(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Dy.has(h)||(Dy.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ft(i,"link",t),it(i),l.head.appendChild(i)))}}function qS(t){ir.D(t),Oy("dns-prefetch",t,null)}function FS(t,i){ir.C(t,i),Oy("preconnect",t,i)}function GS(t,i,a){ir.L(t,i,a);var l=no;if(l&&t&&i){var h='link[rel="preload"][as="'+ct(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ct(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ct(a.imageSizes)+'"]')):h+='[href="'+ct(t)+'"]';var d=h;switch(i){case"style":d=io(t);break;case"script":d=ro(t)}$n.has(d)||(t=N({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),$n.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Nl(d))||i==="script"&&l.querySelector(Dl(d))||(i=l.createElement("link"),Ft(i,"link",t),it(i),l.head.appendChild(i)))}}function $S(t,i){ir.m(t,i);var a=no;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ct(l)+'"][href="'+ct(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ro(t)}if(!$n.has(d)&&(t=N({rel:"modulepreload",href:t},i),$n.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Dl(d)))return}l=a.createElement("link"),Ft(l,"link",t),it(l),a.head.appendChild(l)}}}function KS(t,i,a){ir.S(t,i,a);var l=no;if(l&&t){var h=Cr(l).hoistableStyles,d=io(t);i=i||"default";var E=h.get(d);if(!E){var w={loading:0,preload:null};if(E=l.querySelector(Nl(d)))w.loading=5;else{t=N({rel:"stylesheet",href:t,"data-precedence":i},a),(a=$n.get(d))&&Gd(t,a);var I=E=l.createElement("link");it(I),Ft(I,"link",t),I._p=new Promise(function(j,Q){I.onload=j,I.onerror=Q}),I.addEventListener("load",function(){w.loading|=1}),I.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Pc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:w},h.set(d,E)}}}function QS(t,i){ir.X(t,i);var a=no;if(a&&t){var l=Cr(a).hoistableScripts,h=ro(t),d=l.get(h);d||(d=a.querySelector(Dl(h)),d||(t=N({src:t,async:!0},i),(i=$n.get(h))&&$d(t,i),d=a.createElement("script"),it(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function YS(t,i){ir.M(t,i);var a=no;if(a&&t){var l=Cr(a).hoistableScripts,h=ro(t),d=l.get(h);d||(d=a.querySelector(Dl(h)),d||(t=N({src:t,async:!0,type:"module"},i),(i=$n.get(h))&&$d(t,i),d=a.createElement("script"),it(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function My(t,i,a,l){var h=(h=Nn.current)?Mc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=io(a.href),a=Cr(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=io(a.href);var d=Cr(h).hoistableStyles,E=d.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=h.querySelector(Nl(t)))&&!d._p&&(E.instance=d,E.state.loading=5),$n.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},$n.set(t,a),d||XS(h,t,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ro(a),a=Cr(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function io(t){return'href="'+ct(t)+'"'}function Nl(t){return'link[rel="stylesheet"]['+t+"]"}function Py(t){return N({},t,{"data-precedence":t.precedence,precedence:null})}function XS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ft(i,"link",a),it(i),t.head.appendChild(i))}function ro(t){return'[src="'+ct(t)+'"]'}function Dl(t){return"script[async]"+t}function ky(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+ct(a.href)+'"]');if(l)return i.instance=l,it(l),l;var h=N({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),it(l),Ft(l,"style",h),Pc(l,a.precedence,t),i.instance=l;case"stylesheet":h=io(a.href);var d=t.querySelector(Nl(h));if(d)return i.state.loading|=4,i.instance=d,it(d),d;l=Py(a),(h=$n.get(h))&&Gd(l,h),d=(t.ownerDocument||t).createElement("link"),it(d);var E=d;return E._p=new Promise(function(w,I){E.onload=w,E.onerror=I}),Ft(d,"link",l),i.state.loading|=4,Pc(d,a.precedence,t),i.instance=d;case"script":return d=ro(a.src),(h=t.querySelector(Dl(d)))?(i.instance=h,it(h),h):(l=a,(h=$n.get(d))&&(l=N({},a),$d(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),it(h),Ft(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Pc(l,a.precedence,t));return i.instance}function Pc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var w=l[E];if(w.dataset.precedence===i)d=w;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Gd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function $d(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var kc=null;function Vy(t,i,a){if(kc===null){var l=new Map,h=kc=new Map;h.set(a,l)}else h=kc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Ar]||d[Pt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=t+E;var w=l.get(E);w?w.push(d):l.set(E,[d])}}return l}function jy(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function WS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Ly(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ol=null;function ZS(){}function JS(t,i,a){if(Ol===null)throw Error(s(475));var l=Ol;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=io(a.href),d=t.querySelector(Nl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Vc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,it(d);return}d=t.ownerDocument||t,a=Py(a),(h=$n.get(h))&&Gd(a,h),d=d.createElement("link"),it(d);var E=d;E._p=new Promise(function(w,I){E.onload=w,E.onerror=I}),Ft(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Vc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function eb(){if(Ol===null)throw Error(s(475));var t=Ol;return t.stylesheets&&t.count===0&&Kd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Kd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Vc(){if(this.count--,this.count===0){if(this.stylesheets)Kd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var jc=null;function Kd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,jc=new Map,i.forEach(tb,t),jc=null,Vc.call(t))}function tb(t,i){if(!(i.state.loading&4)){var a=jc.get(t);if(a)var l=a.get(null);else{a=new Map,jc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=Vc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Ml={$$typeof:P,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function nb(t,i,a,l,h,d,E,w){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=va(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=va(0),this.hiddenUpdates=va(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Uy(t,i,a,l,h,d,E,w,I,j,Q,J){return t=new nb(t,i,a,E,w,I,j,J),i=1,d===!0&&(i|=24),d=Fn(3,null,null,i),t.current=d,d.stateNode=t,i=Af(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},sd(d),t}function zy(t){return t?(t=Va,t):Va}function By(t,i,a,l,h,d){h=zy(h),l.context===null?l.context=h:l.pendingContext=h,l=zr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Br(t,l,i),a!==null&&(cn(a,t,i),gl(a,t,i))}function Hy(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Qd(t,i){Hy(t,i),(t=t.alternate)&&Hy(t,i)}function qy(t){if(t.tag===13){var i=Mr(t,67108864);i!==null&&cn(i,t,67108864),Qd(t,67108864)}}var Lc=!0;function ib(t,i,a,l){var h=A.T;A.T=null;var d=le.p;try{le.p=2,Yd(t,i,a,l)}finally{le.p=d,A.T=h}}function rb(t,i,a,l){var h=A.T;A.T=null;var d=le.p;try{le.p=8,Yd(t,i,a,l)}finally{le.p=d,A.T=h}}function Yd(t,i,a,l){if(Lc){var h=Xd(l);if(h===null)jd(t,i,l,Uc,a),Gy(t,l);else if(ab(h,t,i,a,l))l.stopPropagation();else if(Gy(t,l),i&4&&-1<sb.indexOf(t)){for(;h!==null;){var d=ki(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Qn(d.pendingLanes);if(E!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var I=1<<31-an(E);w.entanglements[1]|=I,E&=~I}yi(d),(st&6)===0&&(wc=fn()+500,Cl(0))}}break;case 13:w=Mr(d,2),w!==null&&cn(w,d,2),Ac(),Qd(d,2)}if(d=Xd(l),d===null&&jd(t,i,l,Uc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else jd(t,i,l,null,a)}}function Xd(t){return t=ba(t),Wd(t)}var Uc=null;function Wd(t){if(Uc=null,t=Yn(t),t!==null){var i=ge(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=Ge(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Uc=t,null}function Fy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bu()){case bt:return 2;case Mt:return 8;case Mi:case Au:return 32;case ko:return 268435456;default:return 32}default:return 32}}var Zd=!1,Qr=null,Yr=null,Xr=null,Pl=new Map,kl=new Map,Wr=[],sb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Gy(t,i){switch(t){case"focusin":case"focusout":Qr=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Xr=null;break;case"pointerover":case"pointerout":Pl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":kl.delete(i.pointerId)}}function Vl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=ki(i),i!==null&&qy(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function ab(t,i,a,l,h){switch(i){case"focusin":return Qr=Vl(Qr,t,i,a,l,h),!0;case"dragenter":return Yr=Vl(Yr,t,i,a,l,h),!0;case"mouseover":return Xr=Vl(Xr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Pl.set(d,Vl(Pl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,kl.set(d,Vl(kl.get(d)||null,t,i,a,l,h)),!0}return!1}function $y(t){var i=Yn(t.target);if(i!==null){var a=ge(i);if(a!==null){if(i=a.tag,i===13){if(i=Ge(a),i!==null){t.blockedOn=i,br(t.priority,function(){if(a.tag===13){var l=In(),h=Mr(a,l);h!==null&&cn(h,a,l),Qd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Xd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Pn=l,a.target.dispatchEvent(l),Pn=null}else return i=ki(a),i!==null&&qy(i),t.blockedOn=a,!1;i.shift()}return!0}function Ky(t,i,a){zc(t)&&a.delete(i)}function ob(){Zd=!1,Qr!==null&&zc(Qr)&&(Qr=null),Yr!==null&&zc(Yr)&&(Yr=null),Xr!==null&&zc(Xr)&&(Xr=null),Pl.forEach(Ky),kl.forEach(Ky)}function Bc(t,i){t.blockedOn===i&&(t.blockedOn=null,Zd||(Zd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ob)))}var Hc=null;function Qy(t){Hc!==t&&(Hc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Hc===t&&(Hc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Wd(l||a)===null)continue;break}var d=ki(a);d!==null&&(t.splice(i,3),i-=3,Bf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function jl(t){function i(I){return Bc(I,t)}Qr!==null&&Bc(Qr,t),Yr!==null&&Bc(Yr,t),Xr!==null&&Bc(Xr,t),Pl.forEach(i),kl.forEach(i);for(var a=0;a<Wr.length;a++){var l=Wr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Wr.length&&(a=Wr[0],a.blockedOn===null);)$y(a),a.blockedOn===null&&Wr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[At]||null;if(typeof d=="function")E||Qy(a);else if(E){var w=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[At]||null)w=E.formAction;else if(Wd(h)!==null)continue}else w=E.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),Qy(a)}}}function Jd(t){this._internalRoot=t}qc.prototype.render=Jd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=In();By(a,l,t,i,null,null)},qc.prototype.unmount=Jd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&Ja(),By(t.current,2,null,t,null,null),Ac(),i[Pi]=null}};function qc(t){this._internalRoot=t}qc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Nu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Wr.length&&i!==0&&i<Wr[a].priority;a++);Wr.splice(a,0,t),a===0&&$y(t)}};var Yy=e.version;if(Yy!=="19.0.0")throw Error(s(527,Yy,"19.0.0"));le.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=te(i),t=t!==null?fe(t):null,t=t===null?null:t.stateNode,t};var lb={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Yn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{yr=Fc.inject(lb),Yt=Fc}catch{}}return Ul.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=f_,d=d_,E=m_,w=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=Uy(t,1,!1,null,null,a,l,h,d,E,w,null),t[Pi]=i.current,Vd(t.nodeType===8?t.parentNode:t),new Jd(i)},Ul.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=f_,E=d_,w=m_,I=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),i=Uy(t,1,!0,i,a??null,l,h,d,E,w,I,j),i.context=zy(null),a=i.current,l=In(),h=zr(l),h.callback=null,Br(a,h,l),i.current.lanes=l,pt(i,l),yi(i),t[Pi]=i.current,Vd(t),new qc(i)},Ul.version="19.0.0",Ul}var sv;function yb(){if(sv)return nm.exports;sv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),nm.exports=_b(),nm.exports}var vb=yb(),zl={},av;function Eb(){if(av)return zl;av=1,Object.defineProperty(zl,"__esModule",{value:!0}),zl.parse=f,zl.serialize=_;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function f(R,P){const L=new u,X=R.length;if(X<2)return L;const F=(P==null?void 0:P.decode)||T;let Y=0;do{const ne=R.indexOf("=",Y);if(ne===-1)break;const K=R.indexOf(";",Y),re=K===-1?X:K;if(ne>re){Y=R.lastIndexOf(";",ne-1)+1;continue}const ae=m(R,Y,ne),pe=p(R,ne,ae),M=R.slice(ae,pe);if(L[M]===void 0){let C=m(R,ne+1,re),A=p(R,re,C);const N=F(R.slice(C,A));L[M]=N}Y=re+1}while(Y<X);return L}function m(R,P,L){do{const X=R.charCodeAt(P);if(X!==32&&X!==9)return P}while(++P<L);return L}function p(R,P,L){for(;P>L;){const X=R.charCodeAt(--P);if(X!==32&&X!==9)return P+1}return L}function _(R,P,L){const X=(L==null?void 0:L.encode)||encodeURIComponent;if(!r.test(R))throw new TypeError(`argument name is invalid: ${R}`);const F=X(P);if(!e.test(F))throw new TypeError(`argument val is invalid: ${P}`);let Y=R+"="+F;if(!L)return Y;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);Y+="; Max-Age="+L.maxAge}if(L.domain){if(!n.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);Y+="; Domain="+L.domain}if(L.path){if(!s.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);Y+="; Path="+L.path}if(L.expires){if(!b(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);Y+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(Y+="; HttpOnly"),L.secure&&(Y+="; Secure"),L.partitioned&&(Y+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return Y}function T(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function b(R){return o.call(R)==="[object Date]"}return zl}Eb();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ov="popstate";function Tb(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Em("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Jl(o)}return Sb(e,n,null,r)}function at(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ai(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wb(){return Math.random().toString(36).substring(2,10)}function lv(r,e){return{usr:r.state,key:r.key,idx:e}}function Em(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?bo(e):e,state:n,key:e&&e.key||s||wb()}}function Jl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function bo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Sb(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,_=T();_==null&&(_=0,f.replaceState({...f.state,idx:_},""));function T(){return(f.state||{idx:null}).idx}function b(){m="POP";let F=T(),Y=F==null?null:F-_;_=F,p&&p({action:m,location:X.location,delta:Y})}function R(F,Y){m="PUSH";let ne=Em(X.location,F,Y);_=T()+1;let K=lv(ne,_),re=X.createHref(ne);try{f.pushState(K,"",re)}catch(ae){if(ae instanceof DOMException&&ae.name==="DataCloneError")throw ae;o.location.assign(re)}u&&p&&p({action:m,location:X.location,delta:1})}function P(F,Y){m="REPLACE";let ne=Em(X.location,F,Y);_=T();let K=lv(ne,_),re=X.createHref(ne);f.replaceState(K,"",re),u&&p&&p({action:m,location:X.location,delta:0})}function L(F){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,ne=typeof F=="string"?F:Jl(F);return ne=ne.replace(/ $/,"%20"),at(Y,`No window.location.(origin|href) available to create URL for href: ${ne}`),new URL(ne,Y)}let X={get action(){return m},get location(){return r(o,f)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(ov,b),p=F,()=>{o.removeEventListener(ov,b),p=null}},createHref(F){return e(o,F)},createURL:L,encodeLocation(F){let Y=L(F);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:R,replace:P,go(F){return f.go(F)}};return X}function zE(r,e,n="/"){return bb(r,e,n,!1)}function bb(r,e,n,s){let o=typeof e=="string"?bo(e):e,u=cr(o.pathname||"/",n);if(u==null)return null;let f=BE(r);Ab(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let _=Vb(u);m=Pb(f[p],_,s)}return m}function BE(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(at(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let _=or([s,p.relativePath]),T=n.concat(p);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),BE(u.children,e,T,_)),!(u.path==null&&!u.index)&&e.push({path:_,score:Ob(_,u.index),routesMeta:T})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of HE(u.path))o(u,f,p)}),e}function HE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=HE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Ab(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Mb(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Rb=/^:[\w-]+$/,Cb=3,Ib=2,xb=1,Nb=10,Db=-2,uv=r=>r==="*";function Ob(r,e){let n=r.split("/"),s=n.length;return n.some(uv)&&(s+=Db),e&&(s+=Ib),n.filter(o=>!uv(o)).reduce((o,u)=>o+(Rb.test(u)?Cb:u===""?xb:Nb),s)}function Mb(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Pb(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],_=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",b=hh({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},T),R=p.route;if(!b&&_&&n&&!s[s.length-1].route.index&&(b=hh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:or([u,b.pathname]),pathnameBase:zb(or([u,b.pathnameBase])),route:R}),b.pathnameBase!=="/"&&(u=or([u,b.pathnameBase]))}return f}function hh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=kb(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((_,{paramName:T,isOptional:b},R)=>{if(T==="*"){let L=m[R]||"";f=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const P=m[R];return b&&!P?_[T]=void 0:_[T]=(P||"").replace(/%2F/g,"/"),_},{}),pathname:u,pathnameBase:f,pattern:r}}function kb(r,e=!1,n=!0){Ai(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Vb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ai(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function cr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function jb(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?bo(r):r;return{pathname:n?n.startsWith("/")?n:Lb(n,e):e,search:Bb(s),hash:Hb(o)}}function Lb(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function am(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Ub(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function qE(r){let e=Ub(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function FE(r,e,n,s=!1){let o;typeof r=="string"?o=bo(r):(o={...r},at(!o.pathname||!o.pathname.includes("?"),am("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),am("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),am("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),b-=1;o.pathname=R.join("/")}m=b>=0?e[b]:"/"}let p=jb(o,m),_=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(_||T)&&(p.pathname+="/"),p}var or=r=>r.join("/").replace(/\/\/+/g,"/"),zb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Bb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Hb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function qb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var GE=["POST","PUT","PATCH","DELETE"];new Set(GE);var Fb=["GET",...GE];new Set(Fb);var Ao=B.createContext(null);Ao.displayName="DataRouter";var Nh=B.createContext(null);Nh.displayName="DataRouterState";var $E=B.createContext({isTransitioning:!1});$E.displayName="ViewTransition";var Gb=B.createContext(new Map);Gb.displayName="Fetchers";var $b=B.createContext(null);$b.displayName="Await";var xi=B.createContext(null);xi.displayName="Navigation";var uu=B.createContext(null);uu.displayName="Location";var Ni=B.createContext({outlet:null,matches:[],isDataRoute:!1});Ni.displayName="Route";var Qm=B.createContext(null);Qm.displayName="RouteError";function Kb(r,{relative:e}={}){at(cu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=B.useContext(xi),{hash:o,pathname:u,search:f}=hu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:or([n,u])),s.createHref({pathname:m,search:f,hash:o})}function cu(){return B.useContext(uu)!=null}function ys(){return at(cu(),"useLocation() may be used only in the context of a <Router> component."),B.useContext(uu).location}var KE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function QE(r){B.useContext(xi).static||B.useLayoutEffect(r)}function vs(){let{isDataRoute:r}=B.useContext(Ni);return r?lA():Qb()}function Qb(){at(cu(),"useNavigate() may be used only in the context of a <Router> component.");let r=B.useContext(Ao),{basename:e,navigator:n}=B.useContext(xi),{matches:s}=B.useContext(Ni),{pathname:o}=ys(),u=JSON.stringify(qE(s)),f=B.useRef(!1);return QE(()=>{f.current=!0}),B.useCallback((p,_={})=>{if(Ai(f.current,KE),!f.current)return;if(typeof p=="number"){n.go(p);return}let T=FE(p,JSON.parse(u),o,_.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:or([e,T.pathname])),(_.replace?n.replace:n.push)(T,_.state,_)},[e,n,u,o,r])}var YE=B.createContext(null);function Yb(){return B.useContext(YE)}function Xb(r){let e=B.useContext(Ni).outlet;return e&&B.createElement(YE.Provider,{value:r},e)}function hu(r,{relative:e}={}){let{matches:n}=B.useContext(Ni),{pathname:s}=ys(),o=JSON.stringify(qE(n));return B.useMemo(()=>FE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Wb(r,e){return XE(r,e)}function XE(r,e,n,s){var ne;at(cu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=B.useContext(xi),{matches:f}=B.useContext(Ni),m=f[f.length-1],p=m?m.params:{},_=m?m.pathname:"/",T=m?m.pathnameBase:"/",b=m&&m.route;{let K=b&&b.path||"";WE(_,!b||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let R=ys(),P;if(e){let K=typeof e=="string"?bo(e):e;at(T==="/"||((ne=K.pathname)==null?void 0:ne.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${K.pathname}" was given in the \`location\` prop.`),P=K}else P=R;let L=P.pathname||"/",X=L;if(T!=="/"){let K=T.replace(/^\//,"").split("/");X="/"+L.replace(/^\//,"").split("/").slice(K.length).join("/")}let F=!u&&n&&n.matches&&n.matches.length>0?n.matches:zE(r,{pathname:X});Ai(b||F!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),Ai(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=nA(F&&F.map(K=>Object.assign({},K,{params:Object.assign({},p,K.params),pathname:or([T,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?T:or([T,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),f,n,s);return e&&Y?B.createElement(uu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},Y):Y}function Zb(){let r=oA(),e=qb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=B.createElement(B.Fragment,null,B.createElement("p",null,"💿 Hey developer 👋"),B.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",B.createElement("code",{style:u},"ErrorBoundary")," or"," ",B.createElement("code",{style:u},"errorElement")," prop on your route.")),B.createElement(B.Fragment,null,B.createElement("h2",null,"Unexpected Application Error!"),B.createElement("h3",{style:{fontStyle:"italic"}},e),n?B.createElement("pre",{style:o},n):null,f)}var Jb=B.createElement(Zb,null),eA=class extends B.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?B.createElement(Ni.Provider,{value:this.props.routeContext},B.createElement(Qm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function tA({routeContext:r,match:e,children:n}){let s=B.useContext(Ao);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),B.createElement(Ni.Provider,{value:r},n)}function nA(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let _=o[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=p),_.route.id){let{loaderData:T,errors:b}=n,R=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!b||b[_.route.id]===void 0);if(_.route.lazy||R){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,_,T)=>{let b,R=!1,P=null,L=null;n&&(b=u&&_.route.id?u[_.route.id]:void 0,P=_.route.errorElement||Jb,f&&(m<0&&T===0?(WE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,L=null):m===T&&(R=!0,L=_.route.hydrateFallbackElement||null)));let X=e.concat(o.slice(0,T+1)),F=()=>{let Y;return b?Y=P:R?Y=L:_.route.Component?Y=B.createElement(_.route.Component,null):_.route.element?Y=_.route.element:Y=p,B.createElement(tA,{match:_,routeContext:{outlet:p,matches:X,isDataRoute:n!=null},children:Y})};return n&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?B.createElement(eA,{location:n.location,revalidation:n.revalidation,component:P,error:b,children:F(),routeContext:{outlet:null,matches:X,isDataRoute:!0}}):F()},null)}function Ym(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function iA(r){let e=B.useContext(Ao);return at(e,Ym(r)),e}function rA(r){let e=B.useContext(Nh);return at(e,Ym(r)),e}function sA(r){let e=B.useContext(Ni);return at(e,Ym(r)),e}function Xm(r){let e=sA(r),n=e.matches[e.matches.length-1];return at(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function aA(){return Xm("useRouteId")}function oA(){var s;let r=B.useContext(Qm),e=rA("useRouteError"),n=Xm("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function lA(){let{router:r}=iA("useNavigate"),e=Xm("useNavigate"),n=B.useRef(!1);return QE(()=>{n.current=!0}),B.useCallback(async(o,u={})=>{Ai(n.current,KE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var cv={};function WE(r,e,n){!e&&!cv[r]&&(cv[r]=!0,Ai(!1,n))}B.memo(uA);function uA({routes:r,future:e,state:n}){return XE(r,void 0,n,e)}function cA(r){return Xb(r.context)}function _n(r){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){at(!cu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=B.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=bo(n));let{pathname:p="/",search:_="",hash:T="",state:b=null,key:R="default"}=n,P=B.useMemo(()=>{let L=cr(p,f);return L==null?null:{location:{pathname:L,search:_,hash:T,state:b,key:R},navigationType:s}},[f,p,_,T,b,R,s]);return Ai(P!=null,`<Router basename="${f}"> is not able to match the URL "${p}${_}${T}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:B.createElement(xi.Provider,{value:m},B.createElement(uu.Provider,{children:e,value:P}))}function fA({children:r,location:e}){return Wb(Tm(r),e)}function Tm(r,e=[]){let n=[];return B.Children.forEach(r,(s,o)=>{if(!B.isValidElement(s))return;let u=[...e,o];if(s.type===B.Fragment){n.push.apply(n,Tm(s.props.children,u));return}at(s.type===_n,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Tm(s.props.children,u)),n.push(f)}),n}var Jc="get",eh="application/x-www-form-urlencoded";function Dh(r){return r!=null&&typeof r.tagName=="string"}function dA(r){return Dh(r)&&r.tagName.toLowerCase()==="button"}function mA(r){return Dh(r)&&r.tagName.toLowerCase()==="form"}function pA(r){return Dh(r)&&r.tagName.toLowerCase()==="input"}function gA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function _A(r,e){return r.button===0&&(!e||e==="_self")&&!gA(r)}var Gc=null;function yA(){if(Gc===null)try{new FormData(document.createElement("form"),0),Gc=!1}catch{Gc=!0}return Gc}var vA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function om(r){return r!=null&&!vA.has(r)?(Ai(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eh}"`),null):r}function EA(r,e){let n,s,o,u,f;if(mA(r)){let m=r.getAttribute("action");s=m?cr(m,e):null,n=r.getAttribute("method")||Jc,o=om(r.getAttribute("enctype"))||eh,u=new FormData(r)}else if(dA(r)||pA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?cr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Jc,o=om(r.getAttribute("formenctype"))||om(m.getAttribute("enctype"))||eh,u=new FormData(m,r),!yA()){let{name:_,type:T,value:b}=r;if(T==="image"){let R=_?`${_}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else _&&u.append(_,b)}}else{if(Dh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Jc,s=null,o=eh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Wm(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function TA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function SA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await TA(u,n);return f.links?f.links():[]}return[]}));return CA(s.flat(1).filter(wA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function hv(r,e,n,s,o,u){let f=(p,_)=>n[_]?p.route.id!==n[_].route.id:!0,m=(p,_)=>{var T;return n[_].pathname!==p.pathname||((T=n[_].route.path)==null?void 0:T.endsWith("*"))&&n[_].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,_)=>f(p,_)||m(p,_)):u==="data"?e.filter((p,_)=>{var b;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,_)||m(p,_))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function bA(r,e,{includeHydrateFallback:n}={}){return AA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function AA(r){return[...new Set(r)]}function RA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function CA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(RA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function IA(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&cr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function ZE(){let r=B.useContext(Ao);return Wm(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function xA(){let r=B.useContext(Nh);return Wm(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Zm=B.createContext(void 0);Zm.displayName="FrameworkContext";function JE(){let r=B.useContext(Zm);return Wm(r,"You must render this element inside a <HydratedRouter> element"),r}function NA(r,e){let n=B.useContext(Zm),[s,o]=B.useState(!1),[u,f]=B.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:_,onMouseLeave:T,onTouchStart:b}=e,R=B.useRef(null);B.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let X=Y=>{Y.forEach(ne=>{f(ne.isIntersecting)})},F=new IntersectionObserver(X,{threshold:.5});return R.current&&F.observe(R.current),()=>{F.disconnect()}}},[r]),B.useEffect(()=>{if(s){let X=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(X)}}},[s]);let P=()=>{o(!0)},L=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:Bl(m,P),onBlur:Bl(p,L),onMouseEnter:Bl(_,P),onMouseLeave:Bl(T,L),onTouchStart:Bl(b,P)}]:[!1,R,{}]}function Bl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function DA({page:r,...e}){let{router:n}=ZE(),s=B.useMemo(()=>zE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?B.createElement(MA,{page:r,matches:s,...e}):null}function OA(r){let{manifest:e,routeModules:n}=JE(),[s,o]=B.useState([]);return B.useEffect(()=>{let u=!1;return SA(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function MA({page:r,matches:e,...n}){let s=ys(),{manifest:o,routeModules:u}=JE(),{basename:f}=ZE(),{loaderData:m,matches:p}=xA(),_=B.useMemo(()=>hv(r,e,p,o,s,"data"),[r,e,p,o,s]),T=B.useMemo(()=>hv(r,e,p,o,s,"assets"),[r,e,p,o,s]),b=B.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let L=new Set,X=!1;if(e.forEach(Y=>{var K;let ne=o.routes[Y.route.id];!ne||!ne.hasLoader||(!_.some(re=>re.route.id===Y.route.id)&&Y.route.id in m&&((K=u[Y.route.id])!=null&&K.shouldRevalidate)||ne.hasClientLoader?X=!0:L.add(Y.route.id))}),L.size===0)return[];let F=IA(r,f);return X&&L.size>0&&F.searchParams.set("_routes",e.filter(Y=>L.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[F.pathname+F.search]},[f,m,s,o,_,e,r,u]),R=B.useMemo(()=>bA(T,o),[T,o]),P=OA(T);return B.createElement(B.Fragment,null,b.map(L=>B.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),R.map(L=>B.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),P.map(({key:L,link:X})=>B.createElement("link",{key:L,...X})))}function PA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var eT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eT&&(window.__reactRouterVersion="7.3.0")}catch{}function kA({basename:r,children:e,window:n}){let s=B.useRef();s.current==null&&(s.current=Tb({window:n,v5Compat:!0}));let o=s.current,[u,f]=B.useState({action:o.action,location:o.location}),m=B.useCallback(p=>{B.startTransition(()=>f(p))},[f]);return B.useLayoutEffect(()=>o.listen(m),[o,m]),B.createElement(hA,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var tT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=B.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:_,preventScrollReset:T,viewTransition:b,...R},P){let{basename:L}=B.useContext(xi),X=typeof _=="string"&&tT.test(_),F,Y=!1;if(typeof _=="string"&&X&&(F=_,eT))try{let A=new URL(window.location.href),N=_.startsWith("//")?new URL(A.protocol+_):new URL(_),V=cr(N.pathname,L);N.origin===A.origin&&V!=null?_=V+N.search+N.hash:Y=!0}catch{Ai(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=Kb(_,{relative:o}),[K,re,ae]=NA(s,R),pe=UA(_,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:b});function M(A){e&&e(A),A.defaultPrevented||pe(A)}let C=B.createElement("a",{...R,...ae,href:F||ne,onClick:Y||u?e:M,ref:PA(P,re),target:p,"data-discover":!X&&n==="render"?"true":void 0});return K&&!X?B.createElement(B.Fragment,null,C,B.createElement(DA,{page:ne})):C});_e.displayName="Link";var VA=B.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,..._},T){let b=hu(f,{relative:_.relative}),R=ys(),P=B.useContext(Nh),{navigator:L,basename:X}=B.useContext(xi),F=P!=null&&FA(b)&&m===!0,Y=L.encodeLocation?L.encodeLocation(b).pathname:b.pathname,ne=R.pathname,K=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),K=K?K.toLowerCase():null,Y=Y.toLowerCase()),K&&X&&(K=cr(K,X)||K);const re=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ae=ne===Y||!o&&ne.startsWith(Y)&&ne.charAt(re)==="/",pe=K!=null&&(K===Y||!o&&K.startsWith(Y)&&K.charAt(Y.length)==="/"),M={isActive:ae,isPending:pe,isTransitioning:F},C=ae?e:void 0,A;typeof s=="function"?A=s(M):A=[s,ae?"active":null,pe?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(M):u;return B.createElement(_e,{..._,"aria-current":C,className:A,ref:T,style:N,to:f,viewTransition:m},typeof p=="function"?p(M):p)});VA.displayName="NavLink";var jA=B.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Jc,action:m,onSubmit:p,relative:_,preventScrollReset:T,viewTransition:b,...R},P)=>{let L=HA(),X=qA(m,{relative:_}),F=f.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&tT.test(m),ne=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let re=K.nativeEvent.submitter,ae=(re==null?void 0:re.getAttribute("formmethod"))||f;L(re||K.currentTarget,{fetcherKey:e,method:ae,navigate:n,replace:o,state:u,relative:_,preventScrollReset:T,viewTransition:b})};return B.createElement("form",{ref:P,method:F,action:X,onSubmit:s?p:ne,...R,"data-discover":!Y&&r==="render"?"true":void 0})});jA.displayName="Form";function LA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nT(r){let e=B.useContext(Ao);return at(e,LA(r)),e}function UA(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=vs(),p=ys(),_=hu(r,{relative:u});return B.useCallback(T=>{if(_A(T,e)){T.preventDefault();let b=n!==void 0?n:Jl(p)===Jl(_);m(r,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,_,n,s,e,r,o,u,f])}var zA=0,BA=()=>`__${String(++zA)}__`;function HA(){let{router:r}=nT("useSubmit"),{basename:e}=B.useContext(xi),n=aA();return B.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:_}=EA(s,e);if(o.navigate===!1){let T=o.fetcherKey||BA();await r.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function qA(r,{relative:e}={}){let{basename:n}=B.useContext(xi),s=B.useContext(Ni);at(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...hu(r||".",{relative:e})},f=ys();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:or([n,u.pathname])),Jl(u)}function FA(r,e={}){let n=B.useContext($E);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=nT("useViewTransitionState"),o=hu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=cr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=cr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return hh(o.pathname,f)!=null||hh(o.pathname,u)!=null}new TextEncoder;const GA="_container_pir9d_11",$A="_main_pir9d_29",KA="_logo_pir9d_43",QA="_h2_pir9d_51",YA="_happening_pir9d_61",XA="_nav_pir9d_73",WA="_button_pir9d_87",ZA="_awesome_pir9d_123",JA="_separator_pir9d_229",eR="_hr_pir9d_251",tR="_terms_pir9d_259",nR="_ul_pir9d_277",iR="_li_pir9d_303",rR="_flexli_pir9d_311",Oe={container:GA,main:$A,logo:KA,h2:QA,happening:YA,nav:XA,button:WA,awesome:ZA,separator:JA,hr:eR,terms:tR,ul:nR,li:iR,flexli:rR};function sR(){return y.jsxs("div",{className:Oe.container,children:[y.jsxs("main",{className:Oe.main,children:[y.jsx("h1",{className:Oe.logo,children:"At"}),y.jsxs("div",{children:[y.jsx("h1",{className:Oe.happening,children:"Happening now"}),y.jsx("h2",{className:Oe.h2,children:"Join Today."}),y.jsxs("nav",{className:Oe.nav,children:[y.jsxs(_e,{to:"/react-regular-exam/about",className:`${Oe.button} ${Oe.awesome}`,children:[y.jsx("i",{className:"fa-brands fa-google"}),"Sign up with Google"]}),y.jsxs(_e,{to:"/react-regular-exam/about",className:`${Oe.button} ${Oe.awesome}`,children:[y.jsx("i",{className:"fa-brands fa-apple"}),"Sign up with Apple"]}),y.jsxs("div",{className:Oe.separator,children:[y.jsx("hr",{className:Oe.hr}),y.jsx("p",{children:"or"}),y.jsx("hr",{className:Oe.hr})]}),y.jsx(_e,{to:"/react-regular-exam/create",className:Oe.button,children:"Create account"}),y.jsxs("p",{className:Oe.terms,children:["By signing up, you agree of the ",y.jsx(_e,{to:"/react-regular-exam/about",children:"Term of Service"}),"and ",y.jsx(_e,{to:"/react-regular-exam/about",children:"Privacy Policy"}),", incliding ",y.jsx(_e,{to:"/react-regular-exam/about",children:"Cookie Use."})]}),y.jsx("p",{id:"account",children:"Already have an account?"}),y.jsx(_e,{to:"/react-regular-exam/login",className:Oe.button,children:"Sign in"}),y.jsx("p",{children:"Take a look:"}),y.jsx(_e,{to:"/react-regular-exam/guest",className:Oe.button,children:"Guest"})]})]})]}),y.jsx("footer",{children:y.jsxs("ul",{className:Oe.ul,children:[y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"About"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Download the At app"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Help Center"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Terms of Service"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Privacy Policy"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Cookie Policy"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Accessibillity"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Ads Info"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Blog"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Careers"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Brand Resources"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Advertising"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Marketing"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"At for Business"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Developers"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Directory"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Settings"})}),y.jsx("li",{className:Oe.li,children:y.jsxs(_e,{to:"/react-regular-exam/about",className:Oe.flexli,href:"#",children:[y.jsx("i",{className:"fa-regular fa-copyright"}),"2025 X Corp"]})})]})})]})}const aR="_container_t0tol_1",oR="_nav_t0tol_15",lR="_i_t0tol_25",uR="_main_t0tol_125",cR="_search_t0tol_143",hR="_meta_t0tol_181",fR="_post_t0tol_211",dR="_feedback_t0tol_245",pn={container:aR,nav:oR,i:lR,main:uR,search:cR,meta:hR,post:fR,feedback:dR},mR=()=>{};var fv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},pR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},rT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,_=p?r[o+2]:0,T=u>>2,b=(u&3)<<4|m>>4;let R=(m&15)<<2|_>>6,P=_&63;p||(P=64,f||(R=64)),s.push(n[T],n[b],n[R],n[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(iT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):pR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const _=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||_==null||b==null)throw new gR;const R=u<<2|m>>4;if(s.push(R),_!==64){const P=m<<4&240|_>>2;if(s.push(P),b!==64){const L=_<<6&192|b;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class gR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _R=function(r){const e=iT(r);return rT.encodeByteArray(e,!0)},fh=function(r){return _R(r).replace(/\./g,"")},sT=function(r){try{return rT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=()=>yR().__FIREBASE_DEFAULTS__,ER=()=>{if(typeof process>"u"||typeof fv>"u")return;const r=fv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},TR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&sT(r[1]);return e&&JSON.parse(e)},Oh=()=>{try{return mR()||vR()||ER()||TR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},aT=r=>{var e,n;return(n=(e=Oh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},wR=r=>{const e=aT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},oT=()=>{var r;return(r=Oh())===null||r===void 0?void 0:r.config},lT=r=>{var e;return(e=Oh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[fh(JSON.stringify(n)),fh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function AR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function RR(){var r;const e=(r=Oh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function IR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function xR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function NR(){const r=nn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function DR(){return!RR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function OR(){try{return typeof indexedDB=="object"}catch{return!1}}function MR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PR="FirebaseError";class pr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=PR,Object.setPrototypeOf(this,pr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fu.prototype.create)}}class fu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?kR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new pr(o,m,s)}}function kR(r,e){return r.replace(VR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const VR=/\{\$([^}]+)}/g;function jR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function hs(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(dv(u)&&dv(f)){if(!hs(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function dv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Hl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function ql(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function LR(r,e){const n=new UR(r,e);return n.subscribe.bind(n)}class UR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");zR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=lm),o.error===void 0&&(o.error=lm),o.complete===void 0&&(o.complete=lm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function lm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(r){return r&&r._delegate?r._delegate:r}class aa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new SR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(qR(e))try{this.getOrInitializeService({instanceIdentifier:ra})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ra){return this.instances.has(e)}getOptions(e=ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:HR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ra){return this.component?this.component.multipleInstances?e:ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function HR(r){return r===ra?void 0:r}function qR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new BR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const GR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},$R=Me.INFO,KR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},QR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=KR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Jm{constructor(e){this.name=e,this._logLevel=$R,this._logHandler=QR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?GR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const YR=(r,e)=>e.some(n=>r instanceof n);let mv,pv;function XR(){return mv||(mv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function WR(){return pv||(pv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const uT=new WeakMap,wm=new WeakMap,cT=new WeakMap,um=new WeakMap,ep=new WeakMap;function ZR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(as(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&uT.set(n,r)}).catch(()=>{}),ep.set(e,r),e}function JR(r){if(wm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});wm.set(r,e)}let Sm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return wm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||cT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function e1(r){Sm=r(Sm)}function t1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(cm(this),e,...n);return cT.set(s,e.sort?e.sort():[e]),as(s)}:WR().includes(r)?function(...e){return r.apply(cm(this),e),as(uT.get(this))}:function(...e){return as(r.apply(cm(this),e))}}function n1(r){return typeof r=="function"?t1(r):(r instanceof IDBTransaction&&JR(r),YR(r,XR())?new Proxy(r,Sm):r)}function as(r){if(r instanceof IDBRequest)return ZR(r);if(um.has(r))return um.get(r);const e=n1(r);return e!==r&&(um.set(r,e),ep.set(e,r)),e}const cm=r=>ep.get(r);function i1(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=as(f);return s&&f.addEventListener("upgradeneeded",p=>{s(as(f.result),p.oldVersion,p.newVersion,as(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const r1=["get","getKey","getAll","getAllKeys","count"],s1=["put","add","delete","clear"],hm=new Map;function gv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(hm.get(e))return hm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=s1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||r1.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),o&&p.done]))[0]};return hm.set(e,u),u}e1(r=>({...r,get:(e,n,s)=>gv(e,n)||r.get(e,n,s),has:(e,n)=>!!gv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(o1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function o1(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bm="@firebase/app",_v="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new Jm("@firebase/app"),l1="@firebase/app-compat",u1="@firebase/analytics-compat",c1="@firebase/analytics",h1="@firebase/app-check-compat",f1="@firebase/app-check",d1="@firebase/auth",m1="@firebase/auth-compat",p1="@firebase/database",g1="@firebase/data-connect",_1="@firebase/database-compat",y1="@firebase/functions",v1="@firebase/functions-compat",E1="@firebase/installations",T1="@firebase/installations-compat",w1="@firebase/messaging",S1="@firebase/messaging-compat",b1="@firebase/performance",A1="@firebase/performance-compat",R1="@firebase/remote-config",C1="@firebase/remote-config-compat",I1="@firebase/storage",x1="@firebase/storage-compat",N1="@firebase/firestore",D1="@firebase/vertexai",O1="@firebase/firestore-compat",M1="firebase",P1="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Am="[DEFAULT]",k1={[bm]:"fire-core",[l1]:"fire-core-compat",[c1]:"fire-analytics",[u1]:"fire-analytics-compat",[f1]:"fire-app-check",[h1]:"fire-app-check-compat",[d1]:"fire-auth",[m1]:"fire-auth-compat",[p1]:"fire-rtdb",[g1]:"fire-data-connect",[_1]:"fire-rtdb-compat",[y1]:"fire-fn",[v1]:"fire-fn-compat",[E1]:"fire-iid",[T1]:"fire-iid-compat",[w1]:"fire-fcm",[S1]:"fire-fcm-compat",[b1]:"fire-perf",[A1]:"fire-perf-compat",[R1]:"fire-rc",[C1]:"fire-rc-compat",[I1]:"fire-gcs",[x1]:"fire-gcs-compat",[N1]:"fire-fst",[O1]:"fire-fst-compat",[D1]:"fire-vertex","fire-js":"fire-js",[M1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dh=new Map,V1=new Map,Rm=new Map;function yv(r,e){try{r.container.addComponent(e)}catch(n){hr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function po(r){const e=r.name;if(Rm.has(e))return hr.debug(`There were multiple attempts to register component ${e}.`),!1;Rm.set(e,r);for(const n of dh.values())yv(n,r);for(const n of V1.values())yv(n,r);return!0}function tp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Kn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new fu("app","Firebase",j1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ro=P1;function hT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Am,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw os.create("bad-app-name",{appName:String(o)});if(n||(n=oT()),!n)throw os.create("no-options");const u=dh.get(o);if(u){if(hs(n,u.options)&&hs(s,u.config))return u;throw os.create("duplicate-app",{appName:o})}const f=new FR(o);for(const p of Rm.values())f.addComponent(p);const m=new L1(n,s,f);return dh.set(o,m),m}function fT(r=Am){const e=dh.get(r);if(!e&&r===Am&&oT())return hT();if(!e)throw os.create("no-app",{appName:r});return e}function ls(r,e,n){var s;let o=(s=k1[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hr.warn(m.join(" "));return}po(new aa(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1="firebase-heartbeat-database",z1=1,eu="firebase-heartbeat-store";let fm=null;function dT(){return fm||(fm=i1(U1,z1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(eu)}catch(n){console.warn(n)}}}}).catch(r=>{throw os.create("idb-open",{originalErrorMessage:r.message})})),fm}async function B1(r){try{const n=(await dT()).transaction(eu),s=await n.objectStore(eu).get(mT(r));return await n.done,s}catch(e){if(e instanceof pr)hr.warn(e.message);else{const n=os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hr.warn(n.message)}}}async function vv(r,e){try{const s=(await dT()).transaction(eu,"readwrite");await s.objectStore(eu).put(e,mT(r)),await s.done}catch(n){if(n instanceof pr)hr.warn(n.message);else{const s=os.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hr.warn(s.message)}}}function mT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=1024,q1=30;class F1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new $1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Ev();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>q1){const f=K1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){hr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ev(),{heartbeatsToSend:s,unsentEntries:o}=G1(this._heartbeatsCache.heartbeats),u=fh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return hr.warn(n),""}}}function Ev(){return new Date().toISOString().substring(0,10)}function G1(r,e=H1){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Tv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Tv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class $1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return OR()?MR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await B1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return vv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return vv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Tv(r){return fh(JSON.stringify({version:2,heartbeats:r})).length}function K1(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(r){po(new aa("platform-logger",e=>new a1(e),"PRIVATE")),po(new aa("heartbeat",e=>new F1(e),"PRIVATE")),ls(bm,_v,r),ls(bm,_v,"esm2017"),ls("fire-js","")}Q1("");var wv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var us,pT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,C){function A(){}A.prototype=C.prototype,M.D=C.prototype,M.prototype=new A,M.prototype.constructor=M,M.C=function(N,V,D){for(var x=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)x[lt-2]=arguments[lt];return C.prototype[V].apply(N,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,C,A){A||(A=0);var N=Array(16);if(typeof C=="string")for(var V=0;16>V;++V)N[V]=C.charCodeAt(A++)|C.charCodeAt(A++)<<8|C.charCodeAt(A++)<<16|C.charCodeAt(A++)<<24;else for(V=0;16>V;++V)N[V]=C[A++]|C[A++]<<8|C[A++]<<16|C[A++]<<24;C=M.g[0],A=M.g[1],V=M.g[2];var D=M.g[3],x=C+(D^A&(V^D))+N[0]+3614090360&4294967295;C=A+(x<<7&4294967295|x>>>25),x=D+(V^C&(A^V))+N[1]+3905402710&4294967295,D=C+(x<<12&4294967295|x>>>20),x=V+(A^D&(C^A))+N[2]+606105819&4294967295,V=D+(x<<17&4294967295|x>>>15),x=A+(C^V&(D^C))+N[3]+3250441966&4294967295,A=V+(x<<22&4294967295|x>>>10),x=C+(D^A&(V^D))+N[4]+4118548399&4294967295,C=A+(x<<7&4294967295|x>>>25),x=D+(V^C&(A^V))+N[5]+1200080426&4294967295,D=C+(x<<12&4294967295|x>>>20),x=V+(A^D&(C^A))+N[6]+2821735955&4294967295,V=D+(x<<17&4294967295|x>>>15),x=A+(C^V&(D^C))+N[7]+4249261313&4294967295,A=V+(x<<22&4294967295|x>>>10),x=C+(D^A&(V^D))+N[8]+1770035416&4294967295,C=A+(x<<7&4294967295|x>>>25),x=D+(V^C&(A^V))+N[9]+2336552879&4294967295,D=C+(x<<12&4294967295|x>>>20),x=V+(A^D&(C^A))+N[10]+4294925233&4294967295,V=D+(x<<17&4294967295|x>>>15),x=A+(C^V&(D^C))+N[11]+2304563134&4294967295,A=V+(x<<22&4294967295|x>>>10),x=C+(D^A&(V^D))+N[12]+1804603682&4294967295,C=A+(x<<7&4294967295|x>>>25),x=D+(V^C&(A^V))+N[13]+4254626195&4294967295,D=C+(x<<12&4294967295|x>>>20),x=V+(A^D&(C^A))+N[14]+2792965006&4294967295,V=D+(x<<17&4294967295|x>>>15),x=A+(C^V&(D^C))+N[15]+1236535329&4294967295,A=V+(x<<22&4294967295|x>>>10),x=C+(V^D&(A^V))+N[1]+4129170786&4294967295,C=A+(x<<5&4294967295|x>>>27),x=D+(A^V&(C^A))+N[6]+3225465664&4294967295,D=C+(x<<9&4294967295|x>>>23),x=V+(C^A&(D^C))+N[11]+643717713&4294967295,V=D+(x<<14&4294967295|x>>>18),x=A+(D^C&(V^D))+N[0]+3921069994&4294967295,A=V+(x<<20&4294967295|x>>>12),x=C+(V^D&(A^V))+N[5]+3593408605&4294967295,C=A+(x<<5&4294967295|x>>>27),x=D+(A^V&(C^A))+N[10]+38016083&4294967295,D=C+(x<<9&4294967295|x>>>23),x=V+(C^A&(D^C))+N[15]+3634488961&4294967295,V=D+(x<<14&4294967295|x>>>18),x=A+(D^C&(V^D))+N[4]+3889429448&4294967295,A=V+(x<<20&4294967295|x>>>12),x=C+(V^D&(A^V))+N[9]+568446438&4294967295,C=A+(x<<5&4294967295|x>>>27),x=D+(A^V&(C^A))+N[14]+3275163606&4294967295,D=C+(x<<9&4294967295|x>>>23),x=V+(C^A&(D^C))+N[3]+4107603335&4294967295,V=D+(x<<14&4294967295|x>>>18),x=A+(D^C&(V^D))+N[8]+1163531501&4294967295,A=V+(x<<20&4294967295|x>>>12),x=C+(V^D&(A^V))+N[13]+2850285829&4294967295,C=A+(x<<5&4294967295|x>>>27),x=D+(A^V&(C^A))+N[2]+4243563512&4294967295,D=C+(x<<9&4294967295|x>>>23),x=V+(C^A&(D^C))+N[7]+1735328473&4294967295,V=D+(x<<14&4294967295|x>>>18),x=A+(D^C&(V^D))+N[12]+2368359562&4294967295,A=V+(x<<20&4294967295|x>>>12),x=C+(A^V^D)+N[5]+4294588738&4294967295,C=A+(x<<4&4294967295|x>>>28),x=D+(C^A^V)+N[8]+2272392833&4294967295,D=C+(x<<11&4294967295|x>>>21),x=V+(D^C^A)+N[11]+1839030562&4294967295,V=D+(x<<16&4294967295|x>>>16),x=A+(V^D^C)+N[14]+4259657740&4294967295,A=V+(x<<23&4294967295|x>>>9),x=C+(A^V^D)+N[1]+2763975236&4294967295,C=A+(x<<4&4294967295|x>>>28),x=D+(C^A^V)+N[4]+1272893353&4294967295,D=C+(x<<11&4294967295|x>>>21),x=V+(D^C^A)+N[7]+4139469664&4294967295,V=D+(x<<16&4294967295|x>>>16),x=A+(V^D^C)+N[10]+3200236656&4294967295,A=V+(x<<23&4294967295|x>>>9),x=C+(A^V^D)+N[13]+681279174&4294967295,C=A+(x<<4&4294967295|x>>>28),x=D+(C^A^V)+N[0]+3936430074&4294967295,D=C+(x<<11&4294967295|x>>>21),x=V+(D^C^A)+N[3]+3572445317&4294967295,V=D+(x<<16&4294967295|x>>>16),x=A+(V^D^C)+N[6]+76029189&4294967295,A=V+(x<<23&4294967295|x>>>9),x=C+(A^V^D)+N[9]+3654602809&4294967295,C=A+(x<<4&4294967295|x>>>28),x=D+(C^A^V)+N[12]+3873151461&4294967295,D=C+(x<<11&4294967295|x>>>21),x=V+(D^C^A)+N[15]+530742520&4294967295,V=D+(x<<16&4294967295|x>>>16),x=A+(V^D^C)+N[2]+3299628645&4294967295,A=V+(x<<23&4294967295|x>>>9),x=C+(V^(A|~D))+N[0]+4096336452&4294967295,C=A+(x<<6&4294967295|x>>>26),x=D+(A^(C|~V))+N[7]+1126891415&4294967295,D=C+(x<<10&4294967295|x>>>22),x=V+(C^(D|~A))+N[14]+2878612391&4294967295,V=D+(x<<15&4294967295|x>>>17),x=A+(D^(V|~C))+N[5]+4237533241&4294967295,A=V+(x<<21&4294967295|x>>>11),x=C+(V^(A|~D))+N[12]+1700485571&4294967295,C=A+(x<<6&4294967295|x>>>26),x=D+(A^(C|~V))+N[3]+2399980690&4294967295,D=C+(x<<10&4294967295|x>>>22),x=V+(C^(D|~A))+N[10]+4293915773&4294967295,V=D+(x<<15&4294967295|x>>>17),x=A+(D^(V|~C))+N[1]+2240044497&4294967295,A=V+(x<<21&4294967295|x>>>11),x=C+(V^(A|~D))+N[8]+1873313359&4294967295,C=A+(x<<6&4294967295|x>>>26),x=D+(A^(C|~V))+N[15]+4264355552&4294967295,D=C+(x<<10&4294967295|x>>>22),x=V+(C^(D|~A))+N[6]+2734768916&4294967295,V=D+(x<<15&4294967295|x>>>17),x=A+(D^(V|~C))+N[13]+1309151649&4294967295,A=V+(x<<21&4294967295|x>>>11),x=C+(V^(A|~D))+N[4]+4149444226&4294967295,C=A+(x<<6&4294967295|x>>>26),x=D+(A^(C|~V))+N[11]+3174756917&4294967295,D=C+(x<<10&4294967295|x>>>22),x=V+(C^(D|~A))+N[2]+718787259&4294967295,V=D+(x<<15&4294967295|x>>>17),x=A+(D^(V|~C))+N[9]+3951481745&4294967295,M.g[0]=M.g[0]+C&4294967295,M.g[1]=M.g[1]+(V+(x<<21&4294967295|x>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+D&4294967295}s.prototype.u=function(M,C){C===void 0&&(C=M.length);for(var A=C-this.blockSize,N=this.B,V=this.h,D=0;D<C;){if(V==0)for(;D<=A;)o(this,M,D),D+=this.blockSize;if(typeof M=="string"){for(;D<C;)if(N[V++]=M.charCodeAt(D++),V==this.blockSize){o(this,N),V=0;break}}else for(;D<C;)if(N[V++]=M[D++],V==this.blockSize){o(this,N),V=0;break}}this.h=V,this.o+=C},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var C=1;C<M.length-8;++C)M[C]=0;var A=8*this.o;for(C=M.length-8;C<M.length;++C)M[C]=A&255,A/=256;for(this.u(M),M=Array(16),C=A=0;4>C;++C)for(var N=0;32>N;N+=8)M[A++]=this.g[C]>>>N&255;return M};function u(M,C){var A=m;return Object.prototype.hasOwnProperty.call(A,M)?A[M]:A[M]=C(M)}function f(M,C){this.h=C;for(var A=[],N=!0,V=M.length-1;0<=V;V--){var D=M[V]|0;N&&D==C||(A[V]=D,N=!1)}this.g=A}var m={};function p(M){return-128<=M&&128>M?u(M,function(C){return new f([C|0],0>C?-1:0)}):new f([M|0],0>M?-1:0)}function _(M){if(isNaN(M)||!isFinite(M))return b;if(0>M)return F(_(-M));for(var C=[],A=1,N=0;M>=A;N++)C[N]=M/A|0,A*=4294967296;return new f(C,0)}function T(M,C){if(M.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M.charAt(0)=="-")return F(T(M.substring(1),C));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=_(Math.pow(C,8)),N=b,V=0;V<M.length;V+=8){var D=Math.min(8,M.length-V),x=parseInt(M.substring(V,V+D),C);8>D?(D=_(Math.pow(C,D)),N=N.j(D).add(_(x))):(N=N.j(A),N=N.add(_(x)))}return N}var b=p(0),R=p(1),P=p(16777216);r=f.prototype,r.m=function(){if(X(this))return-F(this).m();for(var M=0,C=1,A=0;A<this.g.length;A++){var N=this.i(A);M+=(0<=N?N:4294967296+N)*C,C*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(L(this))return"0";if(X(this))return"-"+F(this).toString(M);for(var C=_(Math.pow(M,6)),A=this,N="";;){var V=re(A,C).g;A=Y(A,V.j(C));var D=((0<A.g.length?A.g[0]:A.h)>>>0).toString(M);if(A=V,L(A))return D+N;for(;6>D.length;)D="0"+D;N=D+N}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function L(M){if(M.h!=0)return!1;for(var C=0;C<M.g.length;C++)if(M.g[C]!=0)return!1;return!0}function X(M){return M.h==-1}r.l=function(M){return M=Y(this,M),X(M)?-1:L(M)?0:1};function F(M){for(var C=M.g.length,A=[],N=0;N<C;N++)A[N]=~M.g[N];return new f(A,~M.h).add(R)}r.abs=function(){return X(this)?F(this):this},r.add=function(M){for(var C=Math.max(this.g.length,M.g.length),A=[],N=0,V=0;V<=C;V++){var D=N+(this.i(V)&65535)+(M.i(V)&65535),x=(D>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);N=x>>>16,D&=65535,x&=65535,A[V]=x<<16|D}return new f(A,A[A.length-1]&-2147483648?-1:0)};function Y(M,C){return M.add(F(C))}r.j=function(M){if(L(this)||L(M))return b;if(X(this))return X(M)?F(this).j(F(M)):F(F(this).j(M));if(X(M))return F(this.j(F(M)));if(0>this.l(P)&&0>M.l(P))return _(this.m()*M.m());for(var C=this.g.length+M.g.length,A=[],N=0;N<2*C;N++)A[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<M.g.length;V++){var D=this.i(N)>>>16,x=this.i(N)&65535,lt=M.i(V)>>>16,yt=M.i(V)&65535;A[2*N+2*V]+=x*yt,ne(A,2*N+2*V),A[2*N+2*V+1]+=D*yt,ne(A,2*N+2*V+1),A[2*N+2*V+1]+=x*lt,ne(A,2*N+2*V+1),A[2*N+2*V+2]+=D*lt,ne(A,2*N+2*V+2)}for(N=0;N<C;N++)A[N]=A[2*N+1]<<16|A[2*N];for(N=C;N<2*C;N++)A[N]=0;return new f(A,0)};function ne(M,C){for(;(M[C]&65535)!=M[C];)M[C+1]+=M[C]>>>16,M[C]&=65535,C++}function K(M,C){this.g=M,this.h=C}function re(M,C){if(L(C))throw Error("division by zero");if(L(M))return new K(b,b);if(X(M))return C=re(F(M),C),new K(F(C.g),F(C.h));if(X(C))return C=re(M,F(C)),new K(F(C.g),C.h);if(30<M.g.length){if(X(M)||X(C))throw Error("slowDivide_ only works with positive integers.");for(var A=R,N=C;0>=N.l(M);)A=ae(A),N=ae(N);var V=pe(A,1),D=pe(N,1);for(N=pe(N,2),A=pe(A,2);!L(N);){var x=D.add(N);0>=x.l(M)&&(V=V.add(A),D=x),N=pe(N,1),A=pe(A,1)}return C=Y(M,V.j(C)),new K(V,C)}for(V=b;0<=M.l(C);){for(A=Math.max(1,Math.floor(M.m()/C.m())),N=Math.ceil(Math.log(A)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),D=_(A),x=D.j(C);X(x)||0<x.l(M);)A-=N,D=_(A),x=D.j(C);L(D)&&(D=R),V=V.add(D),M=Y(M,x)}return new K(V,M)}r.A=function(M){return re(this,M).h},r.and=function(M){for(var C=Math.max(this.g.length,M.g.length),A=[],N=0;N<C;N++)A[N]=this.i(N)&M.i(N);return new f(A,this.h&M.h)},r.or=function(M){for(var C=Math.max(this.g.length,M.g.length),A=[],N=0;N<C;N++)A[N]=this.i(N)|M.i(N);return new f(A,this.h|M.h)},r.xor=function(M){for(var C=Math.max(this.g.length,M.g.length),A=[],N=0;N<C;N++)A[N]=this.i(N)^M.i(N);return new f(A,this.h^M.h)};function ae(M){for(var C=M.g.length+1,A=[],N=0;N<C;N++)A[N]=M.i(N)<<1|M.i(N-1)>>>31;return new f(A,M.h)}function pe(M,C){var A=C>>5;C%=32;for(var N=M.g.length-A,V=[],D=0;D<N;D++)V[D]=0<C?M.i(D+A)>>>C|M.i(D+A+1)<<32-C:M.i(D+A);return new f(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,pT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=T,us=f}).apply(typeof wv<"u"?wv:typeof self<"u"?self:typeof window<"u"?window:{});var $c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gT,Fl,_T,th,Cm,yT,vT,ET;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof $c=="object"&&$c];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var z=c[S];if(!(z in v))break e;v=v[z]}c=c[c.length-1],S=v[c],g=g(S),g!=S&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var v=0,S=!1,z={next:function(){if(!S&&v<c.length){var G=v++;return{value:g(G,c[G]),done:!1}}return S=!0,{done:!0,value:void 0}}};return z[Symbol.iterator]=function(){return z},z}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function _(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function T(c,g,v){return c.call.apply(c.bind,arguments)}function b(c,g,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var z=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(z,S),c.apply(g,z)}}return function(){return c.apply(g,arguments)}}function R(c,g,v){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:b,R.apply(null,arguments)}function P(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function L(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,z,G){for(var ie=Array(arguments.length-2),je=2;je<arguments.length;je++)ie[je-2]=arguments[je];return g.prototype[z].apply(S,ie)}}function X(c){const g=c.length;if(0<g){const v=Array(g);for(let S=0;S<g;S++)v[S]=c[S];return v}return[]}function F(c,g){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const z=c.length||0,G=S.length||0;c.length=z+G;for(let ie=0;ie<G;ie++)c[z+ie]=S[ie]}else c.push(S)}}class Y{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function ne(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function re(c){return re[" "](c),c}re[" "]=function(){};var ae=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function pe(c,g,v){for(const S in c)g.call(v,c[S],S,c)}function M(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function C(c){const g={};for(const v in c)g[v]=c[v];return g}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,g){let v,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(v in S)c[v]=S[v];for(let G=0;G<A.length;G++)v=A[G],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function V(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function D(c){m.setTimeout(()=>{throw c},0)}function x(){var c=Ge;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class lt{constructor(){this.h=this.g=null}add(g,v){const S=yt.get();S.set(g,v),this.h?this.h.next=S:this.g=S,this.h=S}}var yt=new Y(()=>new se,c=>c.reset());class se{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,ge=!1,Ge=new lt,O=()=>{const c=m.Promise.resolve(void 0);Te=()=>{c.then(te)}};var te=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(v){D(v)}var g=yt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ge=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return c}();function Ie(c,g){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ae){e:{try{re(g.nodeName);var z=!0;break e}catch{}z=!1}z||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Re[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}L(Ie,oe);var Re={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),Be=0;function ut(c,g,v,S,z){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!S,this.ha=z,this.key=++Be,this.da=this.fa=!1}function Qe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function sn(c){this.src=c,this.g={},this.h=0}sn.prototype.add=function(c,g,v,S,z){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var ie=Nn(c,g,S,z);return-1<ie?(g=c[ie],v||(g.fa=!1)):(g=new ut(g,this.src,G,!!S,z),g.fa=v,c.push(g)),g};function Di(c,g){var v=g.type;if(v in c.g){var S=c.g[v],z=Array.prototype.indexOf.call(S,g,void 0),G;(G=0<=z)&&Array.prototype.splice.call(S,z,1),G&&(Qe(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Nn(c,g,v,S){for(var z=0;z<c.length;++z){var G=c[z];if(!G.da&&G.listener==g&&G.capture==!!v&&G.ha==S)return z}return-1}var gr="closure_lm_"+(1e6*Math.random()|0),_r={};function Oi(c,g,v,S,z){if(Array.isArray(g)){for(var G=0;G<g.length;G++)Oi(c,g[G],v,S,z);return null}return v=bu(v),c&&c[vt]?c.K(g,v,_(S)?!!S.capture:!1,z):Mo(c,g,v,!1,S,z)}function Mo(c,g,v,S,z,G){if(!g)throw Error("Invalid event type");var ie=_(z)?!!z.capture:!!z,je=Po(c);if(je||(c[gr]=je=new sn(c)),v=je.add(g,v,S,ie,G),v.proxy)return v;if(S=pa(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)le||(z=ie),z===void 0&&(z=!1),c.addEventListener(g.toString(),S,z);else if(c.attachEvent)c.attachEvent(_a(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function pa(){function c(v){return g.call(c.src,c.listener,v)}const g=tf;return c}function ga(c,g,v,S,z){if(Array.isArray(g))for(var G=0;G<g.length;G++)ga(c,g[G],v,S,z);else S=_(S)?!!S.capture:!!S,v=bu(v),c&&c[vt]?(c=c.i,g=String(g).toString(),g in c.g&&(G=c.g[g],v=Nn(G,v,S,z),-1<v&&(Qe(G[v]),Array.prototype.splice.call(G,v,1),G.length==0&&(delete c.g[g],c.h--)))):c&&(c=Po(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Nn(g,v,S,z)),(v=-1<c?g[c]:null)&&As(v))}function As(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[vt])Di(g.i,c);else{var v=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(v,S,c.capture):g.detachEvent?g.detachEvent(_a(v),S):g.addListener&&g.removeListener&&g.removeListener(S),(v=Po(g))?(Di(v,c),v.h==0&&(v.src=null,g[gr]=null)):Qe(c)}}}function _a(c){return c in _r?_r[c]:_r[c]="on"+c}function tf(c,g){if(c.da)c=!0;else{g=new Ie(g,this);var v=c.listener,S=c.ha||c.src;c.fa&&As(c),c=v.call(S,g)}return c}function Po(c){return c=c[gr],c instanceof sn?c:null}var fn="__closure_events_fn_"+(1e9*Math.random()>>>0);function bu(c){return typeof c=="function"?c:(c[fn]||(c[fn]=function(g){return c.handleEvent(g)}),c[fn])}function bt(){fe.call(this),this.i=new sn(this),this.M=this,this.F=null}L(bt,fe),bt.prototype[vt]=!0,bt.prototype.removeEventListener=function(c,g,v,S){ga(this,c,g,v,S)};function Mt(c,g){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new oe(g,c);else if(g instanceof oe)g.target=g.target||c;else{var z=g;g=new oe(S,c),N(g,z)}if(z=!0,v)for(var G=v.length-1;0<=G;G--){var ie=g.g=v[G];z=Mi(ie,S,!0,g)&&z}if(ie=g.g=c,z=Mi(ie,S,!0,g)&&z,z=Mi(ie,S,!1,g)&&z,v)for(G=0;G<v.length;G++)ie=g.g=v[G],z=Mi(ie,S,!1,g)&&z}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],S=0;S<v.length;S++)Qe(v[S]);delete c.g[g],c.h--}}this.F=null},bt.prototype.K=function(c,g,v,S){return this.i.add(String(c),g,!1,v,S)},bt.prototype.L=function(c,g,v,S){return this.i.add(String(c),g,!0,v,S)};function Mi(c,g,v,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var z=!0,G=0;G<g.length;++G){var ie=g[G];if(ie&&!ie.da&&ie.capture==v){var je=ie.listener,Rt=ie.ha||ie.src;ie.fa&&Di(c.i,ie),z=je.call(Rt,S)!==!1&&z}}return z&&!S.defaultPrevented}function Au(c,g,v){if(typeof c=="function")v&&(c=R(c,v));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function ko(c){c.g=Au(()=>{c.g=null,c.i&&(c.i=!1,ko(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class nf extends fe{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:ko(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rs(c){fe.call(this),this.h=c,this.g={}}L(Rs,fe);var yr=[];function Yt(c){pe(c.g,function(g,v){this.g.hasOwnProperty(v)&&As(g)},c),c.g={}}Rs.prototype.N=function(){Rs.aa.N.call(this),Yt(this)},Rs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vo=m.JSON.stringify,ii=m.JSON.parse,an=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function jo(){}jo.prototype.h=null;function Ru(c){return c.h||(c.h=c.i())}function Cu(){}var ri={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function vr(){oe.call(this,"d")}L(vr,oe);function Qn(){oe.call(this,"c")}L(Qn,oe);var Dn={},Er=null;function ya(){return Er=Er||new bt}Dn.La="serverreachability";function Lo(c){oe.call(this,Dn.La,c)}L(Lo,oe);function Tr(c){const g=ya();Mt(g,new Lo(g))}Dn.STAT_EVENT="statevent";function va(c,g){oe.call(this,Dn.STAT_EVENT,c),this.stat=g}L(va,oe);function pt(c){const g=ya();Mt(g,new va(g,c))}Dn.Ma="timingevent";function Iu(c,g){oe.call(this,Dn.Ma,c),this.size=g}L(Iu,oe);function wr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function Sr(){this.g=!0}Sr.prototype.xa=function(){this.g=!1};function xu(c,g,v,S,z,G){c.info(function(){if(c.g)if(G)for(var ie="",je=G.split("&"),Rt=0;Rt<je.length;Rt++){var Le=je[Rt].split("=");if(1<Le.length){var Vt=Le[0];Le=Le[1];var Ct=Vt.split("_");ie=2<=Ct.length&&Ct[1]=="type"?ie+(Vt+"="+Le+"&"):ie+(Vt+"=redacted&")}}else ie=null;else ie=G;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+g+`
`+v+`
`+ie})}function Nu(c,g,v,S,z,G,ie){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+g+`
`+v+`
`+G+" "+ie})}function br(c,g,v,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Pt(c,v)+(S?" "+S:"")})}function si(c,g){c.info(function(){return"TIMEOUT: "+g})}Sr.prototype.info=function(){};function Pt(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var z=S[1];if(Array.isArray(z)&&!(1>z.length)){var G=z[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ie=1;ie<z.length;ie++)z[ie]=""}}}}return Vo(v)}catch{return g}}var At={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Pi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cs;function Ea(){}L(Ea,jo),Ea.prototype.g=function(){return new XMLHttpRequest},Ea.prototype.i=function(){return{}},Cs=new Ea;function ai(c,g,v,S){this.j=c,this.i=g,this.l=v,this.R=S||1,this.U=new Rs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Uo}function Uo(){this.i=null,this.g="",this.h=!1}var Ar={},Is={};function Yn(c,g,v){c.L=1,c.v=Ds(ct(g)),c.m=v,c.P=!0,ki(c,null)}function ki(c,g){c.F=Date.now(),it(c),c.A=ct(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Li(v.i,"t",S),c.C=0,v=c.j.J,c.h=new Uo,c.g=Fu(c.j,v?g:null,!c.m),0<c.O&&(c.M=new nf(R(c.Y,c,c.g),c.O)),g=c.U,v=c.g,S=c.ca;var z="readystatechange";Array.isArray(z)||(z&&(yr[0]=z.toString()),z=yr);for(var G=0;G<z.length;G++){var ie=Oi(v,z[G],S||g.handleEvent,!1,g.h||g);if(!ie)break;g.g[ie.key]=ie}g=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Tr(),xu(c.i,c.u,c.A,c.l,c.R,c.m)}ai.prototype.ca=function(c){c=c.target;const g=this.M;g&&Vn(c)==3?g.j():this.Y(c)},ai.prototype.Y=function(c){try{if(c==this.g)e:{const Ct=Vn(this.g);var g=this.g.Ba();const Hi=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||Vu(this.g)))){this.J||Ct!=4||g==7||(g==8||0>=Hi?Tr(3):Tr(2)),Ta(this);var v=this.g.Z();this.X=v;t:if(Rr(this)){var S=Vu(this.g);c="";var z=S.length,G=Vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){dn(this),wn(this);var ie="";break t}this.h.i=new m.TextDecoder}for(g=0;g<z;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(G&&g==z-1)});S.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=v==200,Nu(this.i,this.u,this.A,this.l,this.R,Ct,v),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Rt=this.g;if((je=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(je)){var Le=je;break t}}Le=null}if(v=Le)br(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sn(this,v);else{this.o=!1,this.s=3,pt(12),dn(this),wn(this);break e}}if(this.P){v=!0;let Bt;for(;!this.J&&this.C<ie.length;)if(Bt=Cr(this,ie),Bt==Is){Ct==4&&(this.s=4,pt(14),v=!1),br(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==Ar){this.s=4,pt(15),br(this.i,this.l,ie,"[Invalid Chunk]"),v=!1;break}else br(this.i,this.l,Bt,null),Sn(this,Bt);if(Rr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||ie.length!=0||this.h.h||(this.s=1,pt(16),v=!1),this.o=this.o&&v,!v)br(this.i,this.l,ie,"[Invalid Chunked Response]"),dn(this),wn(this);else if(0<ie.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Ls(Vt),Vt.M=!0,pt(11))}}else br(this.i,this.l,ie,null),Sn(this,ie);Ct==4&&dn(this),this.o&&!this.J&&(Ct==4?Bu(this.j,this):(this.o=!1,it(this)))}else uf(this.g),v==400&&0<ie.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),dn(this),wn(this)}}}catch{}finally{}};function Rr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Cr(c,g){var v=c.C,S=g.indexOf(`
`,v);return S==-1?Is:(v=Number(g.substring(v,S)),isNaN(v)?Ar:(S+=1,S+v>g.length?Is:(g=g.slice(S,S+v),c.C=S+v,g)))}ai.prototype.cancel=function(){this.J=!0,dn(this)};function it(c){c.S=Date.now()+c.I,zo(c,c.I)}function zo(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=wr(R(c.ba,c),g)}function Ta(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ai.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(si(this.i,this.A),this.L!=2&&(Tr(),pt(17)),dn(this),this.s=2,wn(this)):zo(this,this.S-c)};function wn(c){c.j.G==0||c.J||Bu(c.j,c)}function dn(c){Ta(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Yt(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Sn(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||Ir(v.h,c))){if(!c.K&&Ir(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Da(v),xa(v);else break e;Wo(v),pt(18)}}else v.za=z[1],0<v.za-v.T&&37500>z[2]&&v.F&&v.v==0&&!v.C&&(v.C=wr(R(v.Za,v),6e3));if(1>=Du(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Bi(v,11)}else if((c.K||v.g==c)&&Da(v),!ne(g))for(z=v.Da.g.parse(g),g=0;g<z.length;g++){let Le=z[g];if(v.T=Le[0],Le=Le[1],v.G==2)if(Le[0]=="c"){v.K=Le[1],v.ia=Le[2];const Vt=Le[3];Vt!=null&&(v.la=Vt,v.j.info("VER="+v.la));const Ct=Le[4];Ct!=null&&(v.Aa=Ct,v.j.info("SVER="+v.Aa));const Hi=Le[5];Hi!=null&&typeof Hi=="number"&&0<Hi&&(S=1.5*Hi,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Bt=c.g;if(Bt){const di=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(di){var G=S.h;G.g||di.indexOf("spdy")==-1&&di.indexOf("quic")==-1&&di.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(xr(G,G.h),G.h=null))}if(S.D){const Jo=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;Jo&&(S.ya=Jo,He(S.I,S.D,Jo))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ie=c;if(S.qa=qu(S,S.J?S.ia:null,S.W),ie.K){On(S.h,ie);var je=ie,Rt=S.L;Rt&&(je.I=Rt),je.B&&(Ta(je),it(je)),S.g=ie}else Uu(S);0<v.i.length&&Na(v)}else Le[0]!="stop"&&Le[0]!="close"||Bi(v,7);else v.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Bi(v,7):Yo(v):Le[0]!="noop"&&v.l&&v.l.ta(Le),v.v=0)}}Tr(4)}catch{}}var rf=class{constructor(c,g){this.g=c,this.map=g}};function Bo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ho(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Du(c){return c.h?1:c.g?c.g.size:0}function Ir(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function xr(c,g){c.g?c.g.add(g):c.h=g}function On(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Bo.prototype.cancel=function(){if(this.i=on(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function on(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return X(c.i)}function Ou(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],v=c.length,S=0;S<v;S++)g.push(c[S]);return g}g=[],v=0;for(S in c)g[v++]=c[S];return g}function sf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const S in c)g[v++]=S;return g}}}function xs(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=sf(c),S=Ou(c),z=S.length,G=0;G<z;G++)g.call(void 0,S[G],v&&v[G],c)}var qo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wa(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),z=null;if(0<=S){var G=c[v].substring(0,S);z=c[v].substring(S+1)}else G=c[v];g(G,z?decodeURIComponent(z.replace(/\+/g," ")):"")}}}function Vi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Vi){this.h=c.h,Nr(this,c.j),this.o=c.o,this.g=c.g,Ns(this,c.s),this.l=c.l;var g=c.i,v=new oi;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),Sa(this,v),this.m=c.m}else c&&(g=String(c).match(qo))?(this.h=!1,Nr(this,g[1]||"",!0),this.o=Dr(g[2]||""),this.g=Dr(g[3]||"",!0),Ns(this,g[4]),this.l=Dr(g[5]||"",!0),Sa(this,g[6]||"",!0),this.m=Dr(g[7]||"")):(this.h=!1,this.i=new oi(null,this.h))}Vi.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Mn(g,Fo,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Mn(g,Fo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(Mn(v,v.charAt(0)=="/"?Go:Mu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",Mn(v,lf)),c.join("")};function ct(c){return new Vi(c)}function Nr(c,g,v){c.j=v?Dr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Ns(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Sa(c,g,v){g instanceof oi?(c.i=g,$o(c.i,c.h)):(v||(g=Mn(g,of)),c.i=new oi(g,c.h))}function He(c,g,v){c.i.set(g,v)}function Ds(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Dr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Mn(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,af),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function af(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Fo=/[#\/\?@]/g,Mu=/[#\?:]/g,Go=/[#\?]/g,of=/[#\?@]/g,lf=/#/g;function oi(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Pn(c){c.g||(c.g=new Map,c.h=0,c.i&&wa(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=oi.prototype,r.add=function(c,g){Pn(this),this.i=null,c=Ui(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function ba(c,g){Pn(c),g=Ui(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function ji(c,g){return Pn(c),g=Ui(c,g),c.g.has(g)}r.forEach=function(c,g){Pn(this),this.g.forEach(function(v,S){v.forEach(function(z){c.call(g,z,S,this)},this)},this)},r.na=function(){Pn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let S=0;S<g.length;S++){const z=c[S];for(let G=0;G<z.length;G++)v.push(g[S])}return v},r.V=function(c){Pn(this);let g=[];if(typeof c=="string")ji(this,c)&&(g=g.concat(this.g.get(Ui(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},r.set=function(c,g){return Pn(this),this.i=null,c=Ui(this,c),ji(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Li(c,g,v){ba(c,g),0<v.length&&(c.i=null,c.g.set(Ui(c,g),X(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var S=g[v];const G=encodeURIComponent(String(S)),ie=this.V(S);for(S=0;S<ie.length;S++){var z=G;ie[S]!==""&&(z+="="+encodeURIComponent(String(ie[S]))),c.push(z)}}return this.i=c.join("&")};function Ui(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function $o(c,g){g&&!c.j&&(Pn(c),c.i=null,c.g.forEach(function(v,S){var z=S.toLowerCase();S!=z&&(ba(this,S),Li(this,z,v))},c)),c.j=g}function Pu(c,g){const v=new Sr;if(m.Image){const S=new Image;S.onload=P(kn,v,"TestLoadImage: loaded",!0,g,S),S.onerror=P(kn,v,"TestLoadImage: error",!1,g,S),S.onabort=P(kn,v,"TestLoadImage: abort",!1,g,S),S.ontimeout=P(kn,v,"TestLoadImage: timeout",!1,g,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function Os(c,g){const v=new Sr,S=new AbortController,z=setTimeout(()=>{S.abort(),kn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(z),G.ok?kn(v,"TestPingServer: ok",!0,g):kn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(z),kn(v,"TestPingServer: error",!1,g)})}function kn(c,g,v,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(v)}catch{}}function Ms(){this.g=new an}function li(c,g,v){const S=v||"";try{xs(c,function(z,G){let ie=z;_(z)&&(ie=Vo(z)),g.push(S+G+"="+encodeURIComponent(ie))})}catch(z){throw g.push(S+"type="+encodeURIComponent("_badmap")),z}}function Or(c){this.l=c.Ub||null,this.j=c.eb||!1}L(Or,jo),Or.prototype.g=function(){return new zi(this.l,this.j)},Or.prototype.i=function(c){return function(){return c}}({});function zi(c,g){bt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(zi,bt),r=zi.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,ci(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ui(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ko(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ko(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?ui(this):ci(this),this.readyState==3&&Ko(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ui(this))},r.Qa=function(c){this.g&&(this.response=c,ui(this))},r.ga=function(){this.g&&ui(this)};function ui(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ci(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function ci(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(zi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Qo(c){let g="";return pe(c,function(v,S){g+=S,g+=":",g+=v,g+=`\r
`}),g}function kt(c,g,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Qo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):He(c,g,v))}function $e(c){bt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L($e,bt);var Aa=/^https?$/i,Ps=["POST","PUT"];r=$e.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cs.g(),this.v=this.o?Ru(this.o):Ru(Cs),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){ku(this,G);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)v.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())v.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),z=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ps,g,void 0))||S||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ie]of v)this.g.setRequestHeader(G,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ks(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){ku(this,G)}};function ku(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Ra(c),hi(c)}function Ra(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Mt(this,"complete"),Mt(this,"abort"),hi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hi(this,!0)),$e.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ca(this):this.bb())},r.bb=function(){Ca(this)};function Ca(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Vn(c)!=4||c.Z()!=2)){if(c.u&&Vn(c)==4)Au(c.Ea,0,c);else if(Mt(c,"readystatechange"),Vn(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var S;if(S=ie===0){var z=String(c.D).match(qo)[1]||null;!z&&m.self&&m.self.location&&(z=m.self.location.protocol.slice(0,-1)),S=!Aa.test(z?z.toLowerCase():"")}v=S}if(v)Mt(c,"complete"),Mt(c,"success");else{c.m=6;try{var G=2<Vn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",Ra(c)}}finally{hi(c)}}}}function hi(c,g){if(c.g){ks(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Mt(c,"ready");try{v.onreadystatechange=S}catch{}}}function ks(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Vn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Vn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ii(g)}};function Vu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function uf(c){const g={};c=(c.g&&2<=Vn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(ne(c[S]))continue;var v=V(c[S]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=g[z]||[];g[z]=G,G.push(v)}M(g,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vs(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Ia(c){this.Aa=0,this.i=[],this.j=new Sr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vs("baseRetryDelayMs",5e3,c),this.cb=Vs("retryDelaySeedMs",1e4,c),this.Wa=Vs("forwardChannelMaxRetries",2,c),this.wa=Vs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Bo(c&&c.concurrentRequestLimit),this.Da=new Ms,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ia.prototype,r.la=8,r.G=1,r.connect=function(c,g,v,S){pt(0),this.W=c,this.H=g||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=qu(this,null,this.W),Na(this)};function Yo(c){if(ju(c),c.G==3){var g=c.U++,v=ct(c.I);if(He(v,"SID",c.K),He(v,"RID",g),He(v,"TYPE","terminate"),js(c,v),g=new ai(c,c.j,g),g.L=2,g.v=Ds(ct(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=Fu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),it(g)}Hu(c)}function xa(c){c.g&&(Ls(c),c.g.cancel(),c.g=null)}function ju(c){xa(c),c.u&&(m.clearTimeout(c.u),c.u=null),Da(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Na(c){if(!Ho(c.h)&&!c.s){c.s=!0;var g=c.Ga;Te||O(),ge||(Te(),ge=!0),Ge.add(g,c),c.B=0}}function cf(c,g){return Du(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=wr(R(c.Ga,c,g),Zo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const z=new ai(this,this.j,c);let G=this.o;if(this.S&&(G?(G=C(G),N(G,this.S)):G=this.S),this.m!==null||this.O||(z.H=G,G=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Lu(this,z,g),v=ct(this.I),He(v,"RID",c),He(v,"CVER",22),this.D&&He(v,"X-HTTP-Session-Id",this.D),js(this,v),G&&(this.O?g="headers="+encodeURIComponent(String(Qo(G)))+"&"+g:this.m&&kt(v,this.m,G)),xr(this.h,z),this.Ua&&He(v,"TYPE","init"),this.P?(He(v,"$req",g),He(v,"SID","null"),z.T=!0,Yn(z,v,null)):Yn(z,v,g),this.G=2}}else this.G==3&&(c?Xo(this,c):this.i.length==0||Ho(this.h)||Xo(this))};function Xo(c,g){var v;g?v=g.l:v=c.U++;const S=ct(c.I);He(S,"SID",c.K),He(S,"RID",v),He(S,"AID",c.T),js(c,S),c.m&&c.o&&kt(S,c.m,c.o),v=new ai(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Lu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),xr(c.h,v),Yn(v,S,g)}function js(c,g){c.H&&pe(c.H,function(v,S){He(g,S,v)}),c.l&&xs({},function(v,S){He(g,S,v)})}function Lu(c,g,v){v=Math.min(c.i.length,v);var S=c.l?R(c.l.Na,c.l,c):null;e:{var z=c.i;let G=-1;for(;;){const ie=["count="+v];G==-1?0<v?(G=z[0].g,ie.push("ofs="+G)):G=0:ie.push("ofs="+G);let je=!0;for(let Rt=0;Rt<v;Rt++){let Le=z[Rt].g;const Vt=z[Rt].map;if(Le-=G,0>Le)G=Math.max(0,z[Rt].g-100),je=!1;else try{li(Vt,ie,"req"+Le+"_")}catch{S&&S(Vt)}}if(je){S=ie.join("&");break e}}}return c=c.i.splice(0,v),g.D=c,S}function Uu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Te||O(),ge||(Te(),ge=!0),Ge.add(g,c),c.v=0}}function Wo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=wr(R(c.Fa,c),Zo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,zu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=wr(R(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),xa(this),zu(this))};function Ls(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function zu(c){c.g=new ai(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=ct(c.qa);He(g,"RID","rpc"),He(g,"SID",c.K),He(g,"AID",c.T),He(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(g,"TO",c.ja),He(g,"TYPE","xmlhttp"),js(c,g),c.m&&c.o&&kt(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Ds(ct(g)),v.m=null,v.P=!0,ki(v,c)}r.Za=function(){this.C!=null&&(this.C=null,xa(this),Wo(this),pt(19))};function Da(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Bu(c,g){var v=null;if(c.g==g){Da(c),Ls(c),c.g=null;var S=2}else if(Ir(c.h,g))v=g.D,On(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var z=c.B;S=ya(),Mt(S,new Iu(S,v)),Na(c)}else Uu(c);else if(z=g.s,z==3||z==0&&0<g.X||!(S==1&&cf(c,g)||S==2&&Wo(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),z){case 1:Bi(c,5);break;case 4:Bi(c,10);break;case 3:Bi(c,6);break;default:Bi(c,2)}}}function Zo(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function Bi(c,g){if(c.j.info("Error code "+g),g==2){var v=R(c.fb,c),S=c.Xa;const z=!S;S=new Vi(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Nr(S,"https"),Ds(S),z?Pu(S.toString(),v):Os(S.toString(),v)}else pt(2);c.G=0,c.l&&c.l.sa(g),Hu(c),ju(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Hu(c){if(c.G=0,c.ka=[],c.l){const g=on(c.h);(g.length!=0||c.i.length!=0)&&(F(c.ka,g),F(c.ka,c.i),c.h.i.length=0,X(c.i),c.i.length=0),c.l.ra()}}function qu(c,g,v){var S=v instanceof Vi?ct(v):new Vi(v);if(S.g!="")g&&(S.g=g+"."+S.g),Ns(S,S.s);else{var z=m.location;S=z.protocol,g=g?g+"."+z.hostname:z.hostname,z=+z.port;var G=new Vi(null);S&&Nr(G,S),g&&(G.g=g),z&&Ns(G,z),v&&(G.l=v),S=G}return v=c.D,g=c.ya,v&&g&&He(S,v,g),He(S,"VER",c.la),js(c,S),S}function Fu(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new $e(new Or({eb:v})):new $e(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gu(){}r=Gu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Oa(){}Oa.prototype.g=function(c,g){return new ln(c,g)};function ln(c,g){bt.call(this),this.g=new Ia(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!ne(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!ne(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new fi(this)}L(ln,bt),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Yo(this.g)},ln.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Vo(c),c=v);g.i.push(new rf(g.Ya++,c)),g.G==3&&Na(g)},ln.prototype.N=function(){this.g.l=null,delete this.j,Yo(this.g),delete this.g,ln.aa.N.call(this)};function $u(c){vr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}L($u,vr);function Ku(){Qn.call(this),this.status=1}L(Ku,Qn);function fi(c){this.g=c}L(fi,Gu),fi.prototype.ua=function(){Mt(this.g,"a")},fi.prototype.ta=function(c){Mt(this.g,new $u(c))},fi.prototype.sa=function(c){Mt(this.g,new Ku)},fi.prototype.ra=function(){Mt(this.g,"b")},Oa.prototype.createWebChannel=Oa.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,ET=function(){return new Oa},vT=function(){return ya()},yT=Dn,Cm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},At.NO_ERROR=0,At.TIMEOUT=8,At.HTTP_ERROR=6,th=At,Pi.COMPLETE="complete",_T=Pi,Cu.EventType=ri,ri.OPEN="a",ri.CLOSE="b",ri.ERROR="c",ri.MESSAGE="d",bt.prototype.listen=bt.prototype.K,Fl=Cu,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,gT=$e}).apply(typeof $c<"u"?$c:typeof self<"u"?self:typeof window<"u"?window:{});const Sv="@firebase/firestore",bv="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new Jm("@firebase/firestore");function so(){return oa.logLevel}function ue(r,...e){if(oa.logLevel<=Me.DEBUG){const n=e.map(np);oa.debug(`Firestore (${Co}): ${r}`,...n)}}function fr(r,...e){if(oa.logLevel<=Me.ERROR){const n=e.map(np);oa.error(`Firestore (${Co}): ${r}`,...n)}}function go(r,...e){if(oa.logLevel<=Me.WARN){const n=e.map(np);oa.warn(`Firestore (${Co}): ${r}`,...n)}}function np(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r="Unexpected state"){const e=`FIRESTORE (${Co}) INTERNAL ASSERTION FAILED: `+r;throw fr(e),new Error(e)}function Ke(r,e){r||we()}function Ae(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends pr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Y1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}class X1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class W1{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new lr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new lr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string"),new TT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new en(e)}}class Z1{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class J1{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new Z1(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Av{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class eC{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Kn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Av(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new Av(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=tC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function _o(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rv=-62135596800,Cv=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Cv);return new Dt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Rv)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Cv}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Rv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Dt(0,0))}static max(){return new Se(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iv="__name__";class Ei{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(),s===void 0?s=e.length-n:s>e.length-n&&we(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ei.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ei?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ei.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=Ei.isNumericId(e),o=Ei.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ei.extractNumericId(e).compare(Ei.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return us.fromString(e.substring(4,e.length-2))}}class nt extends Ei{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const nC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ei{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return nC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Iv}static keyField(){return new Kt([Iv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new de(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new de(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(nt.fromString(e))}static fromName(e){return new ye(nt.fromString(e).popFirst(5))}static empty(){return new ye(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=-1;function iC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new Dt(n+1,0):new Dt(n,s));return new fs(o,ye.empty(),e)}function rC(r){return new fs(r.readTime,r.key,tu)}class fs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new fs(Se.min(),ye.empty(),tu)}static max(){return new fs(Se.max(),ye.empty(),tu)}}function sC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Io(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==aC)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,s)=>{n(e)})}static reject(e){return new Z((n,s)=>{s(e)})}static waitFor(e){return new Z((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=Z.resolve(!1);for(const s of e)n=n.next(o=>o?Z.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new Z((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const _=p;n(e[_]).next(T=>{f[_]=T,++m,m===u&&s(f)},T=>o(T))}})}static doWhile(e,n){return new Z((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function lC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function xo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Mh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip=-1;function Ph(r){return r==null}function mh(r){return r===0&&1/r==-1/0}function uC(r){return typeof r=="number"&&Number.isInteger(r)&&!mh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST="";function cC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=xv(e)),e=hC(r.get(n),e);return xv(e)}function hC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case ST:n+="";break;default:n+=u}}return n}function xv(r){return r+ST+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Es(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function bT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kc(this.root,e,this.comparator,!0)}}class Kc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??$t.RED,this.left=o??$t.EMPTY,this.right=u??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new $t(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,n,s,o,u){return this}insert(e,n,s){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Dv(this.data.getIterator())}getIteratorFrom(e){return new Dv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class Dv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new xn([])}unionWith(e){let n=new Ot(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new xn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new AT("Invalid base64 string: "+u):u}}(e);return new Qt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const fC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ds(r){if(Ke(!!r),typeof r=="string"){let e=0;const n=fC.exec(r);if(Ke(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ms(r){return typeof r=="string"?Qt.fromBase64String(r):Qt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="server_timestamp",CT="__type__",IT="__previous_value__",xT="__local_write_time__";function rp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[CT])===null||n===void 0?void 0:n.stringValue)===RT}function kh(r){const e=r.mapValue.fields[IT];return rp(e)?kh(e):e}function nu(r){const e=ds(r.mapValue.fields[xT].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e,n,s,o,u,f,m,p,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=_}}const ph="(default)";class iu{constructor(e,n){this.projectId=e,this.database=n||ph}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===ph}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT="__type__",mC="__max__",Qc={mapValue:{}},DT="__vector__",gh="value";function ps(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?rp(r)?4:gC(r)?9007199254740991:pC(r)?10:11:we()}function Ri(r,e){if(r===e)return!0;const n=ps(r);if(n!==ps(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return nu(r).isEqual(nu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ds(o.timestampValue),m=ds(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ms(o.bytesValue).isEqual(ms(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_t(o.doubleValue),m=_t(u.doubleValue);return f===m?mh(f)===mh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return _o(r.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Nv(f)!==Nv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ri(f[p],m[p])))return!1;return!0}(r,e);default:return we()}}function ru(r,e){return(r.values||[]).find(n=>Ri(n,e))!==void 0}function yo(r,e){if(r===e)return 0;const n=ps(r),s=ps(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=_t(u.integerValue||u.doubleValue),p=_t(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return Ov(r.timestampValue,e.timestampValue);case 4:return Ov(nu(r),nu(e));case 5:return Ve(r.stringValue,e.stringValue);case 6:return function(u,f){const m=ms(u),p=ms(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let _=0;_<m.length&&_<p.length;_++){const T=Ve(m[_],p[_]);if(T!==0)return T}return Ve(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ve(_t(u.latitude),_t(f.latitude));return m!==0?m:Ve(_t(u.longitude),_t(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Mv(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,_,T;const b=u.fields||{},R=f.fields||{},P=(m=b[gh])===null||m===void 0?void 0:m.arrayValue,L=(p=R[gh])===null||p===void 0?void 0:p.arrayValue,X=Ve(((_=P==null?void 0:P.values)===null||_===void 0?void 0:_.length)||0,((T=L==null?void 0:L.values)===null||T===void 0?void 0:T.length)||0);return X!==0?X:Mv(P,L)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Qc.mapValue&&f===Qc.mapValue)return 0;if(u===Qc.mapValue)return 1;if(f===Qc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),_=f.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let b=0;b<p.length&&b<T.length;++b){const R=Ve(p[b],T[b]);if(R!==0)return R;const P=yo(m[p[b]],_[T[b]]);if(P!==0)return P}return Ve(p.length,T.length)}(r.mapValue,e.mapValue);default:throw we()}}function Ov(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=ds(r),s=ds(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function Mv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=yo(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function vo(r){return Im(r)}function Im(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=ds(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return ms(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ye.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Im(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Im(n.fields[f])}`;return o+"}"}(r.mapValue):we()}function nh(r){switch(ps(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kh(r);return e?16+nh(e):16;case 5:return 2*r.stringValue.length;case 6:return ms(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+nh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Es(s.fields,(u,f)=>{o+=u.length+nh(f)}),o}(r.mapValue);default:throw we()}}function xm(r){return!!r&&"integerValue"in r}function sp(r){return!!r&&"arrayValue"in r}function Pv(r){return!!r&&"nullValue"in r}function kv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ih(r){return!!r&&"mapValue"in r}function pC(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[NT])===null||n===void 0?void 0:n.stringValue)===DT}function Ql(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Es(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ql(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ql(r.arrayValue.values[n]);return e}return Object.assign({},r)}function gC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===mC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ih(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ql(n)}setAll(e){let n=Kt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Ql(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ih(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ih(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Es(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new En(Ql(this.value))}}function OT(r){const e=[];return Es(r.fields,(n,s)=>{const o=new Kt([n]);if(ih(s)){const u=OT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new xn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new tn(e,0,Se.min(),Se.min(),Se.min(),En.empty(),0)}static newFoundDocument(e,n,s,o){return new tn(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new tn(e,2,n,Se.min(),Se.min(),En.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,Se.min(),Se.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h{constructor(e,n){this.position=e,this.inclusive=n}}function Vv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=yo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function jv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ri(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,n="asc"){this.field=e,this.dir=n}}function _C(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{}class Nt extends MT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new vC(e,n,s):n==="array-contains"?new wC(e,s):n==="in"?new SC(e,s):n==="not-in"?new bC(e,s):n==="array-contains-any"?new AC(e,s):new Nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new EC(e,s):new TC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(yo(n,this.value)):n!==null&&ps(this.value)===ps(n)&&this.matchesComparison(yo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends MT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Ci(e,n)}matches(e){return PT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function PT(r){return r.op==="and"}function kT(r){return yC(r)&&PT(r)}function yC(r){for(const e of r.filters)if(e instanceof Ci)return!1;return!0}function Nm(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+vo(r.value);if(kT(r))return r.filters.map(e=>Nm(e)).join(",");{const e=r.filters.map(n=>Nm(n)).join(",");return`${r.op}(${e})`}}function VT(r,e){return r instanceof Nt?function(s,o){return o instanceof Nt&&s.op===o.op&&s.field.isEqual(o.field)&&Ri(s.value,o.value)}(r,e):r instanceof Ci?function(s,o){return o instanceof Ci&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&VT(f,o.filters[m]),!0):!1}(r,e):void we()}function jT(r){return r instanceof Nt?function(n){return`${n.field.canonicalString()} ${n.op} ${vo(n.value)}`}(r):r instanceof Ci?function(n){return n.op.toString()+" {"+n.getFilters().map(jT).join(" ,")+"}"}(r):"Filter"}class vC extends Nt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class EC extends Nt{constructor(e,n){super(e,"in",n),this.keys=LT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class TC extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=LT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function LT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class wC extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return sp(n)&&ru(n.arrayValue,this.value)}}class SC extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class bC extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ru(this.value.arrayValue,n)}}class AC extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!sp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ru(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function Lv(r,e=null,n=[],s=[],o=null,u=null,f=null){return new RC(r,e,n,s,o,u,f)}function ap(r){const e=Ae(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Nm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Ph(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>vo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>vo(s)).join(",")),e.le=n}return e.le}function op(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!_C(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!VT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!jv(r.startAt,e.startAt)&&jv(r.endAt,e.endAt)}function Dm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function CC(r,e,n,s,o,u,f,m){return new Vh(r,e,n,s,o,u,f,m)}function lp(r){return new Vh(r)}function Uv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function IC(r){return r.collectionGroup!==null}function Yl(r){const e=Ae(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ot(Kt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new yh(u,s))}),n.has(Kt.keyField().canonicalString())||e.he.push(new yh(Kt.keyField(),s))}return e.he}function Ti(r){const e=Ae(r);return e.Pe||(e.Pe=xC(e,Yl(r))),e.Pe}function xC(r,e){if(r.limitType==="F")return Lv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new yh(o.field,u)});const n=r.endAt?new _h(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new _h(r.startAt.position,r.startAt.inclusive):null;return Lv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Om(r,e,n){return new Vh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function jh(r,e){return op(Ti(r),Ti(e))&&r.limitType===e.limitType}function UT(r){return`${ap(Ti(r))}|lt:${r.limitType}`}function ao(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>jT(o)).join(", ")}]`),Ph(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>vo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>vo(o)).join(",")),`Target(${s})`}(Ti(r))}; limitType=${r.limitType})`}function Lh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Yl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const _=Vv(f,m,p);return f.inclusive?_<=0:_<0}(s.startAt,Yl(s),o)||s.endAt&&!function(f,m,p){const _=Vv(f,m,p);return f.inclusive?_>=0:_>0}(s.endAt,Yl(s),o))}(r,e)}function NC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function zT(r){return(e,n)=>{let s=!1;for(const o of Yl(r)){const u=DC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function DC(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),_=m.data.field(u);return p!==null&&_!==null?yo(p,_):we()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Es(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return bT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OC=new ot(ye.comparator);function dr(){return OC}const BT=new ot(ye.comparator);function Gl(...r){let e=BT;for(const n of r)e=e.insert(n.key,n);return e}function HT(r){let e=BT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function sa(){return Xl()}function qT(){return Xl()}function Xl(){return new ha(r=>r.toString(),(r,e)=>r.isEqual(e))}const MC=new ot(ye.comparator),PC=new Ot(ye.comparator);function Pe(...r){let e=PC;for(const n of r)e=e.add(n);return e}const kC=new Ot(Ve);function VC(){return kC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function up(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mh(e)?"-0":e}}function FT(r){return{integerValue:""+r}}function GT(r,e){return uC(e)?FT(e):up(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(){this._=void 0}}function jC(r,e,n){return r instanceof vh?function(o,u){const f={fields:{[CT]:{stringValue:RT},[xT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&rp(u)&&(u=kh(u)),u&&(f.fields[IT]=u),{mapValue:f}}(n,e):r instanceof Eo?KT(r,e):r instanceof su?QT(r,e):function(o,u){const f=$T(o,u),m=zv(f)+zv(o.Ie);return xm(f)&&xm(o.Ie)?FT(m):up(o.serializer,m)}(r,e)}function LC(r,e,n){return r instanceof Eo?KT(r,e):r instanceof su?QT(r,e):n}function $T(r,e){return r instanceof au?function(s){return xm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class vh extends Uh{}class Eo extends Uh{constructor(e){super(),this.elements=e}}function KT(r,e){const n=YT(e);for(const s of r.elements)n.some(o=>Ri(o,s))||n.push(s);return{arrayValue:{values:n}}}class su extends Uh{constructor(e){super(),this.elements=e}}function QT(r,e){let n=YT(e);for(const s of r.elements)n=n.filter(o=>!Ri(o,s));return{arrayValue:{values:n}}}class au extends Uh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function zv(r){return _t(r.integerValue||r.doubleValue)}function YT(r){return sp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,n){this.field=e,this.transform=n}}function UC(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Eo&&o instanceof Eo||s instanceof su&&o instanceof su?_o(s.elements,o.elements,Ri):s instanceof au&&o instanceof au?Ri(s.Ie,o.Ie):s instanceof vh&&o instanceof vh}(r.transform,e.transform)}class zC{constructor(e,n){this.version=e,this.transformResults=n}}class ei{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ei}static exists(e){return new ei(void 0,e)}static updateTime(e){return new ei(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class zh{}function WT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new JT(r.key,ei.none()):new mu(r.key,r.data,ei.none());{const n=r.data,s=En.empty();let o=new Ot(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ts(r.key,s,new xn(o.toArray()),ei.none())}}function BC(r,e,n){r instanceof mu?function(o,u,f){const m=o.value.clone(),p=Hv(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof Ts?function(o,u,f){if(!rh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Hv(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(ZT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Wl(r,e,n,s){return r instanceof mu?function(u,f,m,p){if(!rh(u.precondition,f))return m;const _=u.value.clone(),T=qv(u.fieldTransforms,p,f);return _.setAll(T),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(r,e,n,s):r instanceof Ts?function(u,f,m,p){if(!rh(u.precondition,f))return m;const _=qv(u.fieldTransforms,p,f),T=f.data;return T.setAll(ZT(u)),T.setAll(_),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,e,n,s):function(u,f,m){return rh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function HC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=$T(s.transform,o||null);u!=null&&(n===null&&(n=En.empty()),n.set(s.field,u))}return n||null}function Bv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&_o(s,o,(u,f)=>UC(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class mu extends zh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ts extends zh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function ZT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function Hv(r,e,n){const s=new Map;Ke(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,LC(f,m,n[o]))}return s}function qv(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,jC(u,f,e))}return s}class JT extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class qC extends zh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&BC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Wl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Wl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=qT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=WT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,(n,s)=>Bv(n,s))&&_o(this.baseMutations,e.baseMutations,(n,s)=>Bv(n,s))}}class cp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length);let o=function(){return MC}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new cp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,ze;function KC(r){switch(r){case ee.OK:return we();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return we()}}function e0(r){if(r===void 0)return fr("GRPC error has no .code"),ee.UNKNOWN;switch(r){case St.OK:return ee.OK;case St.CANCELLED:return ee.CANCELLED;case St.UNKNOWN:return ee.UNKNOWN;case St.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case St.INTERNAL:return ee.INTERNAL;case St.UNAVAILABLE:return ee.UNAVAILABLE;case St.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case St.NOT_FOUND:return ee.NOT_FOUND;case St.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case St.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case St.ABORTED:return ee.ABORTED;case St.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case St.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case St.DATA_LOSS:return ee.DATA_LOSS;default:return we()}}(ze=St||(St={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YC=new us([4294967295,4294967295],0);function Fv(r){const e=QC().encode(r),n=new pT;return n.update(e),new Uint8Array(n.digest())}function Gv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new us([n,s],0),new us([o,u],0)]}class hp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new $l(`Invalid padding: ${n}`);if(s<0)throw new $l(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new $l(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new $l(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=us.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(us.fromNumber(s)));return o.compare(YC)===1&&(o=new us([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Fv(e),[s,o]=Gv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new hp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=Fv(e),[s,o]=Gv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class $l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,pu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Bh(Se.min(),o,new ot(Ve),dr(),Pe())}}class pu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new pu(s,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class t0{constructor(e,n){this.targetId=e,this.ge=n}}class n0{constructor(e,n,s=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class $v{constructor(){this.pe=0,this.ye=Kv(),this.we=Qt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Pe(),n=Pe(),s=Pe();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:we()}}),new pu(this.we,this.be,e,n,s)}Me(){this.Se=!1,this.ye=Kv()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ke(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class XC{constructor(e){this.ke=e,this.qe=new Map,this.Qe=dr(),this.$e=Yc(),this.Ke=Yc(),this.Ue=new ot(Ve)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:we()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Dm(u))if(s===0){const f=new ye(u.path);this.ze(n,f,tn.newNoDocument(f,Se.min()))}else Ke(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,_)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ms(s).toUint8Array()}catch(p){if(p instanceof AT)return go("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new hp(f,o,u)}catch(p){return go(p instanceof $l?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Dm(m.target)){const p=new ye(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,tn.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Pe();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const _=this.Xe(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Bh(e,n,this.Ue,this.Qe,s);return this.Qe=dr(),this.$e=Yc(),this.Ke=Yc(),this.Ue=new ot(Ve),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new $v,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Ot(Ve),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Ot(Ve),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new $v),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Yc(){return new ot(ye.comparator)}function Kv(){return new ot(ye.comparator)}const WC={asc:"ASCENDING",desc:"DESCENDING"},ZC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},JC={and:"AND",or:"OR"};class eI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Mm(r,e){return r.useProto3Json||Ph(e)?e:{value:e}}function Eh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function i0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function tI(r,e){return Eh(r,e.toTimestamp())}function wi(r){return Ke(!!r),Se.fromTimestamp(function(n){const s=ds(n);return new Dt(s.seconds,s.nanos)}(r))}function fp(r,e){return Pm(r,e).canonicalString()}function Pm(r,e){const n=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function r0(r){const e=nt.fromString(r);return Ke(u0(e)),e}function km(r,e){return fp(r.databaseId,e.path)}function dm(r,e){const n=r0(e);if(n.get(1)!==r.databaseId.projectId)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new de(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(a0(n))}function s0(r,e){return fp(r.databaseId,e)}function nI(r){const e=r0(r);return e.length===4?nt.emptyPath():a0(e)}function Vm(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function a0(r){return Ke(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Qv(r,e,n){return{name:km(r,e),fields:n.value.mapValue.fields}}function iI(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(_,T){return _.useProto3Json?(Ke(T===void 0||typeof T=="string"),Qt.fromBase64String(T||"")):(Ke(T===void 0||T instanceof Buffer||T instanceof Uint8Array),Qt.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(_){const T=_.code===void 0?ee.UNKNOWN:e0(_.code);return new de(T,_.message||"")}(f);n=new n0(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=dm(r,s.document.name),u=wi(s.document.updateTime),f=s.document.createTime?wi(s.document.createTime):Se.min(),m=new En({mapValue:{fields:s.document.fields}}),p=tn.newFoundDocument(o,u,f,m),_=s.targetIds||[],T=s.removedTargetIds||[];n=new sh(_,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=dm(r,s.document),u=s.readTime?wi(s.readTime):Se.min(),f=tn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new sh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=dm(r,s.document),u=s.removedTargetIds||[];n=new sh([],u,o,null)}else{if(!("filter"in e))return we();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new $C(o,u),m=s.targetId;n=new t0(m,f)}}return n}function rI(r,e){let n;if(e instanceof mu)n={update:Qv(r,e.key,e.value)};else if(e instanceof JT)n={delete:km(r,e.key)};else if(e instanceof Ts)n={update:Qv(r,e.key,e.data),updateMask:dI(e.fieldMask)};else{if(!(e instanceof qC))return we();n={verify:km(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof vh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Eo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof su)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof au)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw we()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:tI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we()}(r,e.precondition)),n}function sI(r,e){return r&&r.length>0?(Ke(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?wi(o.updateTime):wi(u);return f.isEqual(Se.min())&&(f=wi(u)),new zC(f,o.transformResults||[])}(n,e))):[]}function aI(r,e){return{documents:[s0(r,e.path)]}}function oI(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=s0(r,o);const u=function(_){if(_.length!==0)return l0(Ci.create(_,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(_){if(_.length!==0)return _.map(T=>function(R){return{field:oo(R.field),direction:cI(R.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Mm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ht:n,parent:o}}function lI(r){let e=nI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=function(b){const R=o0(b);return R instanceof Ci&&kT(R)?R.getFilters():[R]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(R=>function(L){return new yh(lo(L.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(R))}(n.orderBy));let m=null;n.limit&&(m=function(b){let R;return R=typeof b=="object"?b.value:b,Ph(R)?null:R}(n.limit));let p=null;n.startAt&&(p=function(b){const R=!!b.before,P=b.values||[];return new _h(P,R)}(n.startAt));let _=null;return n.endAt&&(_=function(b){const R=!b.before,P=b.values||[];return new _h(P,R)}(n.endAt)),CC(e,o,f,u,m,"F",p,_)}function uI(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function o0(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=lo(n.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=lo(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=lo(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=lo(n.unaryFilter.field);return Nt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(r):r.fieldFilter!==void 0?function(n){return Nt.create(lo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Ci.create(n.compositeFilter.filters.map(s=>o0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we()}}(n.compositeFilter.op))}(r):we()}function cI(r){return WC[r]}function hI(r){return ZC[r]}function fI(r){return JC[r]}function oo(r){return{fieldPath:r.canonicalString()}}function lo(r){return Kt.fromServerFormat(r.fieldPath)}function l0(r){return r instanceof Nt?function(n){if(n.op==="=="){if(kv(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NAN"}};if(Pv(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(kv(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NAN"}};if(Pv(n.value))return{unaryFilter:{field:oo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oo(n.field),op:hI(n.op),value:n.value}}}(r):r instanceof Ci?function(n){const s=n.getFilters().map(o=>l0(o));return s.length===1?s[0]:{compositeFilter:{op:fI(n.op),filters:s}}}(r):we()}function dI(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function u0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n,s,o,u=Se.min(),f=Se.min(),m=Qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e){this.Tt=e}}function pI(r){const e=lI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Om(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.Tn=new _I}addToCollectionParentIndex(e,n){return this.Tn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(fs.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(fs.min())}updateCollectionGroup(e,n,s){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class _I{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ot(nt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ot(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},c0=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(c0,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new To(0)}static Un(){return new To(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="LruGarbageCollector",yI=1048576;function Wv([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class vI{constructor(e){this.Hn=e,this.buffer=new Ot(Wv),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Wv(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class EI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ue(Xv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){xo(n)?ue(Xv,"Ignoring IndexedDB error during garbage collection: ",n):await Io(n)}await this.er(3e5)})}}class TI{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(Mh.ae);const s=new vI(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Yv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yv):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(_=Date.now(),so()<=Me.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function wI(r,e){return new TI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.changes=new ha(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Wl(s.mutation,o,xn.empty(),Dt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Pe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Pe()){const o=sa();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Gl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=sa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Pe()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=dr();const f=Xl(),m=function(){return Xl()}();return n.forEach((p,_)=>{const T=s.get(_.key);o.has(_.key)&&(T===void 0||T.mutation instanceof Ts)?u=u.insert(_.key,_):T!==void 0?(f.set(_.key,T.mutation.getFieldMask()),Wl(T.mutation,_,T.mutation.getFieldMask(),Dt.now())):f.set(_.key,xn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((_,T)=>f.set(_,T)),n.forEach((_,T)=>{var b;return m.set(_,new bI(T,(b=f.get(_))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Xl();let o=new ot((f,m)=>f-m),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let T=s.get(p)||xn.empty();T=m.applyToLocalView(_,T),s.set(p,T);const b=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),_=p.key,T=p.value,b=qT();T.forEach(R=>{if(!u.has(R)){const P=WT(n.get(R),s.get(R));P!==null&&b.set(R,P),u=u.add(R)}}),f.push(this.documentOverlayCache.saveOverlays(e,_,b))}return Z.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):IC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):Z.resolve(sa());let m=tu,p=u;return f.next(_=>Z.forEach(_,(T,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(e,T).next(R=>{p=p.insert(T,R)}))).next(()=>this.populateOverlays(e,_,u)).next(()=>this.computeViews(e,p,_,Pe())).next(T=>({batchId:m,changes:HT(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let o=Gl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Gl();return this.indexManager.getCollectionParents(e,u).next(m=>Z.forEach(m,p=>{const _=function(b,R){return new Vh(R,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next(T=>{T.forEach((b,R)=>{f=f.insert(b,R)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,_)=>{const T=_.getKey();f.get(T)===null&&(f=f.insert(T,tn.newInvalidDocument(T)))});let m=Gl();return f.forEach((p,_)=>{const T=u.get(p);T!==void 0&&Wl(T.mutation,_,xn.empty(),Dt.now()),Lh(n,_)&&(m=m.insert(p,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return Z.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:wi(o.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:pI(o.bundledQuery),readTime:wi(o.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(){this.overlays=new ot(ye.comparator),this.Rr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const s=sa();return Z.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),Z.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),Z.resolve()}getOverlaysForCollection(e,n,s){const o=sa(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ot((_,T)=>_-T);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let T=u.get(_.largestBatchId);T===null&&(T=sa(),u=u.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const m=sa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,T)=>m.set(_,T)),!(m.size()>=o)););return Z.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new GC(n,s));let u=this.Rr.get(n);u===void 0&&(u=Pe(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(){this.Vr=new Ot(zt.mr),this.gr=new Ot(zt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new zt(e,n))}br(e,n){e.forEach(s=>this.removeReference(s,n))}Sr(e){const n=new ye(new nt([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ye(new nt([])),s=new zt(n,e),o=new zt(n,e+1);let u=Pe();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new zt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ye.comparator(e.key,n.key)||Ve(e.Cr,n.Cr)}static pr(e,n){return Ve(e.Cr,n.Cr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ot(zt.mr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new FC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(e,n){return Z.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?ip:this.Fr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ot(Ve);return n.forEach(o=>{const u=new zt(o,0),f=new zt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),Z.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new zt(new ye(u),0);let m=new Ot(Ve);return this.Mr.forEachWhile(p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(m=m.add(p.Cr)),!0)},f),Z.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ke(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Z.forEach(n.mutations,o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new zt(n,0),o=this.Mr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.kr=e,this.docs=function(){return new ot(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let s=dr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=dr();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||sC(rC(T),s)<=0||(o.has(T.key)||Lh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,n,s,o){we()}qr(e,n){return Z.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new DI(this)}getSize(e){return Z.resolve(this.size)}}class DI extends SI{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),Z.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this.persistence=e,this.Qr=new ha(n=>ap(n),op),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.$r=0,this.Kr=new dp,this.targetCount=0,this.Ur=To.Kn()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),Z.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new To(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.zn(n),Z.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Z.waitFor(u).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return Z.resolve(s)}addMatchingKeys(e,n,s){return this.Kr.yr(n,s),Z.resolve()}removeMatchingKeys(e,n,s){this.Kr.br(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),Z.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Kr.vr(n);return Z.resolve(s)}containsKey(e,n){return Z.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h0{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Mh(0),this.zr=!1,this.zr=!0,this.jr=new II,this.referenceDelegate=e(this),this.Hr=new OI(this),this.indexManager=new gI,this.remoteDocumentCache=function(o){return new NI(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new mI(n),this.Yr=new RI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new xI(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new MI(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return Z.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class MI extends oC{constructor(e){super(),this.currentSequenceNumber=e}}class mp{constructor(e){this.persistence=e,this.ti=new dp,this.ni=null}static ri(e){return new mp(e)}get ii(){if(this.ni)return this.ni;throw we()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),Z.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),Z.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,s=>{const o=ye.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Se.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return Z.or([()=>Z.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Th{constructor(e,n){this.persistence=e,this.oi=new ha(s=>cC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=wI(this,n)}static ri(e,n){return new Th(e,n)}Zr(){}Xr(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return Z.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?Z.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),Z.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=nh(e.data.value)),n}ar(e,n,s){return Z.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new pp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return DR()?8:lC(nn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new PI;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(so()<=Me.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",ao(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(so()<=Me.DEBUG&&ue("QueryEngine","Query:",ao(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(so()<=Me.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",ao(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ti(n))):Z.resolve())}rs(e,n){if(Uv(n))return Z.resolve(null);let s=Ti(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Om(n,null,"F"),s=Ti(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Pe(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const _=this.cs(n,m);return this.ls(n,_,f,p.readTime)?this.rs(e,Om(n,null,"F")):this.hs(e,_,n,p)}))})))}ss(e,n,s,o){return Uv(n)||o.isEqual(Se.min())?Z.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?Z.resolve(null):(so()<=Me.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ao(n)),this.hs(e,f,n,iC(o,tu)).next(m=>m))})}cs(e,n){let s=new Ot(zT(e));return n.forEach((o,u)=>{Lh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return so()<=Me.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",ao(n)),this.ns.getDocumentsMatchingQuery(e,n,fs.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="LocalStore",VI=3e8;class jI{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new ot(Ve),this.Is=new ha(u=>ap(u),op),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new AI(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function LI(r,e,n,s){return new jI(r,e,n,s)}async function f0(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Pe();for(const _ of o){f.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of u){m.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(_=>({Rs:_,removedBatchIds:f,addedBatchIds:m}))})})}function UI(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,_,T){const b=_.batch,R=b.keys();let P=Z.resolve();return R.forEach(L=>{P=P.next(()=>T.getEntry(p,L)).next(X=>{const F=_.docVersions.get(L);Ke(F!==null),X.version.compareTo(F)<0&&(b.applyToRemoteDocument(X,_),X.isValidDocument()&&(X.setReadTime(_.commitVersion),T.addEntry(X)))})}),P.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Pe();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(p=p.add(m.batch.mutations[_].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function d0(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function zI(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((T,b)=>{const R=o.get(b);if(!R)return;m.push(n.Hr.removeMatchingKeys(u,T.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(u,T.addedDocuments,b)));let P=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?P=P.withResumeToken(Qt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):T.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(T.resumeToken,s)),o=o.insert(b,P),function(X,F,Y){return X.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=VI?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(R,P,T)&&m.push(n.Hr.updateTargetData(u,P))});let p=dr(),_=Pe();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(BI(u,f,e.documentUpdates).next(T=>{p=T.Vs,_=T.fs})),!s.isEqual(Se.min())){const T=n.Hr.getLastRemoteSnapshotVersion(u).next(b=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return Z.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,_)).next(()=>p)}).then(u=>(n.Ts=o,u))}function BI(r,e,n){let s=Pe(),o=Pe();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=dr();return n.forEach((m,p)=>{const _=u.get(m);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ue(gp,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function HI(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=ip),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function qI(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,Z.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new ss(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function jm(r,e,n){const s=Ae(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!xo(f))throw f;ue(gp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function Zv(r,e,n){const s=Ae(r);let o=Se.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,_,T){const b=Ae(p),R=b.Is.get(T);return R!==void 0?Z.resolve(b.Ts.get(R)):b.Hr.getTargetData(_,T)}(s,f,Ti(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:Pe())).next(m=>(FI(s,NC(e),m),{documents:m,gs:u})))}function FI(r,e,n){let s=r.Es.get(e)||Se.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class Jv{constructor(){this.activeTargetIds=VC()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class GI{constructor(){this.ho=new Jv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Jv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="ConnectivityMonitor";class tE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ue(eE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ue(eE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc=null;function Lm(){return Xc===null?Xc=function(){return 268435456+Math.round(2147483648*Math.random())}():Xc++,"0x"+Xc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="RestConnection",KI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class QI{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===ph?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,n,s,o,u){const f=Lm(),m=this.So(e,n.toUriEncodedString());ue(mm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(_=>(ue(mm,`Received RPC '${e}' ${f}: `,_),_),_=>{throw go(mm,`RPC '${e}' ${f} failed with error: `,_,"url: ",m,"request:",s),_})}Co(e,n,s,o,u,f){return this.bo(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Co}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}So(e,n){const s=KI[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class XI extends QI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=Lm();return new Promise((f,m)=>{const p=new gT;p.setWithCredentials(!0),p.listenOnce(_T.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case th.NO_ERROR:const T=p.getResponseJson();ue(Zt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),f(T);break;case th.TIMEOUT:ue(Zt,`RPC '${e}' ${u} timed out`),m(new de(ee.DEADLINE_EXCEEDED,"Request time out"));break;case th.HTTP_ERROR:const b=p.getStatus();if(ue(Zt,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const P=R==null?void 0:R.error;if(P&&P.status&&P.message){const L=function(F){const Y=F.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(Y)>=0?Y:ee.UNKNOWN}(P.status);m(new de(L,P.message))}else m(new de(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new de(ee.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{ue(Zt,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(o);ue(Zt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",_,s,15)})}Wo(e,n,s){const o=Lm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=ET(),m=vT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");ue(Zt,`Creating RPC '${e}' stream ${o}: ${T}`,p);const b=f.createWebChannel(T,p);let R=!1,P=!1;const L=new YI({Fo:F=>{P?ue(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(R||(ue(Zt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),R=!0),ue(Zt,`RPC '${e}' stream ${o} sending:`,F),b.send(F))},Mo:()=>b.close()}),X=(F,Y,ne)=>{F.listen(Y,K=>{try{ne(K)}catch(re){setTimeout(()=>{throw re},0)}})};return X(b,Fl.EventType.OPEN,()=>{P||(ue(Zt,`RPC '${e}' stream ${o} transport opened.`),L.Qo())}),X(b,Fl.EventType.CLOSE,()=>{P||(P=!0,ue(Zt,`RPC '${e}' stream ${o} transport closed`),L.Ko())}),X(b,Fl.EventType.ERROR,F=>{P||(P=!0,go(Zt,`RPC '${e}' stream ${o} transport errored:`,F),L.Ko(new de(ee.UNAVAILABLE,"The operation could not be completed")))}),X(b,Fl.EventType.MESSAGE,F=>{var Y;if(!P){const ne=F.data[0];Ke(!!ne);const K=ne,re=(K==null?void 0:K.error)||((Y=K[0])===null||Y===void 0?void 0:Y.error);if(re){ue(Zt,`RPC '${e}' stream ${o} received error:`,re);const ae=re.status;let pe=function(A){const N=St[A];if(N!==void 0)return e0(N)}(ae),M=re.message;pe===void 0&&(pe=ee.INTERNAL,M="Unknown error status: "+ae+" with message "+re.message),P=!0,L.Ko(new de(pe,M)),b.close()}else ue(Zt,`RPC '${e}' stream ${o} received:`,ne),L.Uo(ne)}}),X(m,yT.STAT_EVENT,F=>{F.stat===Cm.PROXY?ue(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===Cm.NOPROXY&&ue(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.$o()},0),L}}function pm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(r){return new eI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="PersistentStream";class p0{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new m0(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new de(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ue(nE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ue(nE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WI extends p0{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=iI(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?wi(f.readTime):Se.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Vm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Dm(p)?{documents:aI(u,p)}:{query:oI(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=i0(u,f.resumeToken);const _=Mm(u,f.expectedCount);_!==null&&(m.expectedCount=_)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=Eh(u,f.snapshotVersion.toTimestamp());const _=Mm(u,f.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const s=uI(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Vm(this.serializer),n.removeTarget=e,this.I_(n)}}class ZI extends p0{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=sI(e.writeResults,e.commitTime),s=wi(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Vm(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>rI(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{}class ex extends JI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(e,Pm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ee.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Pm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new de(ee.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class tx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(fr(n),this.N_=!1):ue("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la="RemoteStore";class nx{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{fa(this)&&(ue(la,"Restarting streams for network reachability change."),await async function(p){const _=Ae(p);_.W_.add(4),await gu(_),_.j_.set("Unknown"),_.W_.delete(4),await qh(_)}(this))})}),this.j_=new tx(s,o)}}async function qh(r){if(fa(r))for(const e of r.G_)await e(!0)}async function gu(r){for(const e of r.G_)await e(!1)}function g0(r,e){const n=Ae(r);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Ep(n)?vp(n):No(n).c_()&&yp(n,e))}function _p(r,e){const n=Ae(r),s=No(n);n.U_.delete(e),s.c_()&&_0(n,e),n.U_.size===0&&(s.c_()?s.P_():fa(n)&&n.j_.set("Unknown"))}function yp(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}No(r).y_(e)}function _0(r,e){r.H_.Ne(e),No(r).w_(e)}function vp(r){r.H_=new XC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),No(r).start(),r.j_.B_()}function Ep(r){return fa(r)&&!No(r).u_()&&r.U_.size>0}function fa(r){return Ae(r).W_.size===0}function y0(r){r.H_=void 0}async function ix(r){r.j_.set("Online")}async function rx(r){r.U_.forEach((e,n)=>{yp(r,e)})}async function sx(r,e){y0(r),Ep(r)?(r.j_.q_(e),vp(r)):r.j_.set("Unknown")}async function ax(r,e,n){if(r.j_.set("Online"),e instanceof n0&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){ue(la,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await wh(r,s)}else if(e instanceof sh?r.H_.We(e):e instanceof t0?r.H_.Ze(e):r.H_.je(e),!n.isEqual(Se.min()))try{const s=await d0(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.U_.get(_);T&&u.U_.set(_,T.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,_)=>{const T=u.U_.get(p);if(!T)return;u.U_.set(p,T.withResumeToken(Qt.EMPTY_BYTE_STRING,T.snapshotVersion)),_0(u,p);const b=new ss(T.target,p,_,T.sequenceNumber);yp(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ue(la,"Failed to raise snapshot:",s),await wh(r,s)}}async function wh(r,e,n){if(!xo(e))throw e;r.W_.add(1),await gu(r),r.j_.set("Offline"),n||(n=()=>d0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ue(la,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await qh(r)})}function v0(r,e){return e().catch(n=>wh(r,n,e))}async function Fh(r){const e=Ae(r),n=gs(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:ip;for(;ox(e);)try{const o=await HI(e.localStore,s);if(o===null){e.K_.length===0&&n.P_();break}s=o.batchId,lx(e,o)}catch(o){await wh(e,o)}E0(e)&&T0(e)}function ox(r){return fa(r)&&r.K_.length<10}function lx(r,e){r.K_.push(e);const n=gs(r);n.c_()&&n.b_&&n.S_(e.mutations)}function E0(r){return fa(r)&&!gs(r).u_()&&r.K_.length>0}function T0(r){gs(r).start()}async function ux(r){gs(r).C_()}async function cx(r){const e=gs(r);for(const n of r.K_)e.S_(n.mutations)}async function hx(r,e,n){const s=r.K_.shift(),o=cp.from(s,e,n);await v0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Fh(r)}async function fx(r,e){e&&gs(r).b_&&await async function(s,o){if(function(f){return KC(f)&&f!==ee.ABORTED}(o.code)){const u=s.K_.shift();gs(s).h_(),await v0(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Fh(s)}}(r,e),E0(r)&&T0(r)}async function iE(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),ue(la,"RemoteStore received new credentials");const s=fa(n);n.W_.add(3),await gu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await qh(n)}async function dx(r,e){const n=Ae(r);e?(n.W_.delete(2),await qh(n)):e||(n.W_.add(2),await gu(n),n.j_.set("Unknown"))}function No(r){return r.J_||(r.J_=function(n,s,o){const u=Ae(n);return u.M_(),new WI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:ix.bind(null,r),No:rx.bind(null,r),Lo:sx.bind(null,r),p_:ax.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Ep(r)?vp(r):r.j_.set("Unknown")):(await r.J_.stop(),y0(r))})),r.J_}function gs(r){return r.Y_||(r.Y_=function(n,s,o){const u=Ae(n);return u.M_(),new ZI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:ux.bind(null,r),Lo:fx.bind(null,r),D_:cx.bind(null,r),v_:hx.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Fh(r)):(await r.Y_.stop(),r.K_.length>0&&(ue(la,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Tp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wp(r,e){if(fr("AsyncQueue",`${e}: ${r}`),xo(r))return new de(ee.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{static emptySet(e){return new co(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Gl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof co)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new co;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.Z_=new ot(ye.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):we():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class wo{constructor(e,n,s,o,u,f,m,p,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new wo(e,n,co.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&jh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class px{constructor(){this.queries=sE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=sE(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new de(ee.ABORTED,"Firestore shutting down"))}}function sE(){return new ha(r=>UT(r),jh)}async function w0(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new mx,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=wp(f,`Initialization of query '${ao(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Sp(n)}async function S0(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function gx(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Sp(n)}function _x(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Sp(r){r.ia.forEach(e=>{e.next()})}var Um,aE;(aE=Um||(Um={}))._a="default",aE.Cache="cache";class b0{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new wo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(e){this.key=e}}class R0{constructor(e){this.key=e}}class yx{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Pe(),this.mutatedKeys=Pe(),this.ya=zT(e),this.wa=new co(this.ya)}get ba(){return this.fa}Sa(e,n){const s=n?n.Da:new rE,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,b)=>{const R=o.get(T),P=Lh(this.query,b)?b:null,L=!!R&&this.mutatedKeys.has(R.key),X=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let F=!1;R&&P?R.data.isEqual(P.data)?L!==X&&(s.track({type:3,doc:P}),F=!0):this.va(R,P)||(s.track({type:2,doc:P}),F=!0,(p&&this.ya(P,p)>0||_&&this.ya(P,_)<0)&&(m=!0)):!R&&P?(s.track({type:0,doc:P}),F=!0):R&&!P&&(s.track({type:1,doc:R}),F=!0,(p||_)&&(m=!0)),F&&(P?(f=f.add(P),u=X?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((T,b)=>function(P,L){const X=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return X(P)-X(L)}(T.type,b.type)||this.ya(T.doc,b.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,_=p!==this.ga;return this.ga=p,f.length!==0||_?{snapshot:new wo(this.query,e.wa,u,f,e.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new rE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Pe(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new R0(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new A0(s))}),n}Oa(e){this.fa=e.gs,this.pa=Pe();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return wo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const bp="SyncEngine";class vx{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Ex{constructor(e){this.key=e,this.Ba=!1}}class Tx{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new ha(m=>UT(m),jh),this.qa=new Map,this.Qa=new Set,this.$a=new ot(ye.comparator),this.Ka=new Map,this.Ua=new dp,this.Wa={},this.Ga=new Map,this.za=To.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function wx(r,e,n=!0){const s=O0(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await C0(s,e,n,!0),o}async function Sx(r,e){const n=O0(r);await C0(n,e,!0,!1)}async function C0(r,e,n,s){const o=await qI(r.localStore,Ti(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await bx(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&g0(r.remoteStore,o),m}async function bx(r,e,n,s,o){r.Ha=(b,R,P)=>async function(X,F,Y,ne){let K=F.view.Sa(Y);K.ls&&(K=await Zv(X.localStore,F.query,!1).then(({documents:M})=>F.view.Sa(M,K)));const re=ne&&ne.targetChanges.get(F.targetId),ae=ne&&ne.targetMismatches.get(F.targetId)!=null,pe=F.view.applyChanges(K,X.isPrimaryClient,re,ae);return lE(X,F.targetId,pe.Ma),pe.snapshot}(r,b,R,P);const u=await Zv(r.localStore,e,!0),f=new yx(e,u.gs),m=f.Sa(u.documents),p=pu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),_=f.applyChanges(m,r.isPrimaryClient,p);lE(r,n,_.Ma);const T=new vx(e,n,f);return r.ka.set(e,T),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),_.snapshot}async function Ax(r,e,n){const s=Ae(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!jh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await jm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&_p(s.remoteStore,o.targetId),zm(s,o.targetId)}).catch(Io)):(zm(s,o.targetId),await jm(s.localStore,o.targetId,!0))}async function Rx(r,e){const n=Ae(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),_p(n.remoteStore,s.targetId))}async function Cx(r,e,n){const s=Px(r);try{const o=await function(f,m){const p=Ae(f),_=Dt.now(),T=m.reduce((P,L)=>P.add(L.key),Pe());let b,R;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let L=dr(),X=Pe();return p.ds.getEntries(P,T).next(F=>{L=F,L.forEach((Y,ne)=>{ne.isValidDocument()||(X=X.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,L)).next(F=>{b=F;const Y=[];for(const ne of m){const K=HC(ne,b.get(ne.key).overlayedDocument);K!=null&&Y.push(new Ts(ne.key,K,OT(K.value.mapValue),ei.exists(!0)))}return p.mutationQueue.addMutationBatch(P,_,Y,m)}).next(F=>{R=F;const Y=F.applyToLocalDocumentSet(b,X);return p.documentOverlayCache.saveOverlays(P,F.batchId,Y)})}).then(()=>({batchId:R.batchId,changes:HT(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let _=f.Wa[f.currentUser.toKey()];_||(_=new ot(Ve)),_=_.insert(m,p),f.Wa[f.currentUser.toKey()]=_}(s,o.batchId,n),await _u(s,o.changes),await Fh(s.remoteStore)}catch(o){const u=wp(o,"Failed to persist write");n.reject(u)}}async function I0(r,e){const n=Ae(r);try{const s=await zI(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Ke(f.Ba):o.removedDocuments.size>0&&(Ke(f.Ba),f.Ba=!1))}),await _u(n,s,e)}catch(s){await Io(s)}}function oE(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ae(f);p.onlineState=m;let _=!1;p.queries.forEach((T,b)=>{for(const R of b.ta)R.sa(m)&&(_=!0)}),_&&Sp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Ix(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ka.get(e),u=o&&o.key;if(u){let f=new ot(ye.comparator);f=f.insert(u,tn.newNoDocument(u,Se.min()));const m=Pe().add(u),p=new Bh(Se.min(),new Map,new ot(Ve),f,m);await I0(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),Ap(s)}else await jm(s.localStore,e,!1).then(()=>zm(s,e,n)).catch(Io)}async function xx(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await UI(n.localStore,e);N0(n,s,null),x0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await _u(n,o)}catch(o){await Io(o)}}async function Nx(r,e,n){const s=Ae(r);try{const o=await function(f,m){const p=Ae(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let T;return p.mutationQueue.lookupMutationBatch(_,m).next(b=>(Ke(b!==null),T=b.keys(),p.mutationQueue.removeMutationBatch(_,b))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T)).next(()=>p.localDocuments.getDocuments(_,T))})}(s.localStore,e);N0(s,e,n),x0(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await _u(s,o)}catch(o){await Io(o)}}function x0(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function N0(r,e,n){const s=Ae(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function zm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ua.Sr(e).forEach(s=>{r.Ua.containsKey(s)||D0(r,s)})}function D0(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(_p(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ka.delete(n),Ap(r))}function lE(r,e,n){for(const s of n)s instanceof A0?(r.Ua.addReference(s.key,e),Dx(r,s)):s instanceof R0?(ue(bp,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||D0(r,s.key)):we()}function Dx(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(ue(bp,"New document in limbo: "+n),r.Qa.add(s),Ap(r))}function Ap(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new ye(nt.fromString(e)),s=r.za.next();r.Ka.set(s,new Ex(n)),r.$a=r.$a.insert(n,s),g0(r.remoteStore,new ss(Ti(lp(n.path)),s,"TargetPurposeLimboResolution",Mh.ae))}}async function _u(r,e,n){const s=Ae(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(_=>{var T;if((_||n)&&s.isPrimaryClient){const b=_?!_.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(_){o.push(_);const b=pp.Yi(p.targetId,_);u.push(b)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,_){const T=Ae(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>Z.forEach(_,R=>Z.forEach(R.Hi,P=>T.persistence.referenceDelegate.addReference(b,R.targetId,P)).next(()=>Z.forEach(R.Ji,P=>T.persistence.referenceDelegate.removeReference(b,R.targetId,P)))))}catch(b){if(!xo(b))throw b;ue(gp,"Failed to update sequence numbers: "+b)}for(const b of _){const R=b.targetId;if(!b.fromCache){const P=T.Ts.get(R),L=P.snapshotVersion,X=P.withLastLimboFreeSnapshotVersion(L);T.Ts=T.Ts.insert(R,X)}}}(s.localStore,u))}async function Ox(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){ue(bp,"User change. New user:",e.toKey());const s=await f0(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new de(ee.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await _u(n,s.Rs)}}function Mx(r,e){const n=Ae(r),s=n.Ka.get(e);if(s&&s.Ba)return Pe().add(s.key);{let o=Pe();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.ba)}return o}}function O0(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=I0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ix.bind(null,e),e.La.p_=gx.bind(null,e.eventManager),e.La.Ja=_x.bind(null,e.eventManager),e}function Px(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=xx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nx.bind(null,e),e}class Sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return LI(this.persistence,new kI,e.initialUser,this.serializer)}Xa(e){return new h0(mp.ri,this.serializer)}Za(e){return new GI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sh.provider={build:()=>new Sh};class kx extends Sh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ke(this.persistence.referenceDelegate instanceof Th);const s=this.persistence.referenceDelegate.garbageCollector;return new EI(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new h0(s=>Th.ri(s,n),this.serializer)}}class Bm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>oE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ox.bind(null,this.syncEngine),await dx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new px}()}createDatastore(e){const n=Hh(e.databaseInfo.databaseId),s=function(u){return new XI(u)}(e.databaseInfo);return function(u,f,m,p){return new ex(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new nx(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>oE(this.syncEngine,n,0),function(){return tE.D()?new tE:new $I}())}createSyncEngine(e,n){return function(o,u,f,m,p,_,T){const b=new Tx(o,u,f,m,p,_);return T&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ae(o);ue(la,"RemoteStore shutting down."),u.W_.add(5),await gu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Bm.provider={build:()=>new Bm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _s="FirestoreClient";class Vx{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=wT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ue(_s,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ue(_s,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=wp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function gm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(_s,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await f0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function uE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await jx(r);ue(_s,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>iE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>iE(e.remoteStore,o)),r._onlineComponents=e}async function jx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(_s,"Using user provided OfflineComponentProvider");try{await gm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;go("Error using user provided cache. Falling back to memory cache: "+n),await gm(r,new Sh)}}else ue(_s,"Using default OfflineComponentProvider"),await gm(r,new kx(void 0));return r._offlineComponents}async function P0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(_s,"Using user provided OnlineComponentProvider"),await uE(r,r._uninitializedComponentsProvider._online)):(ue(_s,"Using default OnlineComponentProvider"),await uE(r,new Bm))),r._onlineComponents}function Lx(r){return P0(r).then(e=>e.syncEngine)}async function k0(r){const e=await P0(r),n=e.eventManager;return n.onListen=wx.bind(null,e.syncEngine),n.onUnlisten=Ax.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Sx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Rx.bind(null,e.syncEngine),n}function Ux(r,e,n={}){const s=new lr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,_){const T=new M0({next:R=>{T.su(),f.enqueueAndForget(()=>S0(u,b));const P=R.docs.has(m);!P&&R.fromCache?_.reject(new de(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&R.fromCache&&p&&p.source==="server"?_.reject(new de(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(R)},error:R=>_.reject(R)}),b=new b0(lp(m.path),T,{includeMetadataChanges:!0,Ta:!0});return w0(u,b)}(await k0(r),r.asyncQueue,e,n,s)),s.promise}function zx(r,e,n={}){const s=new lr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,_){const T=new M0({next:R=>{T.su(),f.enqueueAndForget(()=>S0(u,b)),R.fromCache&&p.source==="server"?_.reject(new de(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(R)},error:R=>_.reject(R)}),b=new b0(m,T,{includeMetadataChanges:!0,Ta:!0});return w0(u,b)}(await k0(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(r,e,n){if(!n)throw new de(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Bx(r,e,n,s){if(e===!0&&s===!0)throw new de(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function hE(r){if(!ye.isDocumentKey(r))throw new de(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function fE(r){if(ye.isDocumentKey(r))throw new de(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Rp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we()}function Ii(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new de(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rp(r);throw new de(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0="firestore.googleapis.com",dE=!0;class mE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=L0,this.ssl=dE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:dE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=c0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yI)throw new de(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Bx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=V0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new de(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Gh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Y1;switch(s.type){case"firstParty":return new J1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=cE.get(n);s&&(ue("ComponentProvider","Removing Datastore"),cE.delete(n),s.terminate())}(this),Promise.resolve()}}function Hx(r,e,n,s={}){var o;const u=(r=Ii(r,Gh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==L0&&u.host!==m&&go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!hs(p,f)&&(r._setSettings(p),s.mockUserToken)){let _,T;if(typeof s.mockUserToken=="string")_=s.mockUserToken,T=en.MOCK_USER;else{_=bR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new de(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new en(b)}r._authCredentials=new X1(new TT(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new $h(this.firestore,e,this._query)}}class Tn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new cs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class cs extends $h{constructor(e,n,s){super(e,n,lp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new ye(e))}withConverter(e){return new cs(this.firestore,e,this._path)}}function Kh(r,e,...n){if(r=rn(r),j0("collection","path",e),r instanceof Gh){const s=nt.fromString(e,...n);return fE(s),new cs(r,null,s)}{if(!(r instanceof Tn||r instanceof cs))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return fE(s),new cs(r.firestore,null,s)}}function ws(r,e,...n){if(r=rn(r),arguments.length===1&&(e=wT.newId()),j0("doc","path",e),r instanceof Gh){const s=nt.fromString(e,...n);return hE(s),new Tn(r,null,new ye(s))}{if(!(r instanceof Tn||r instanceof cs))throw new de(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return hE(s),new Tn(r.firestore,r instanceof cs?r.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE="AsyncQueue";class gE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new m0(this,"async_queue_retry"),this.bu=()=>{const s=pm();s&&ue(pE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const n=pm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=pm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new lr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!xo(e))throw e;ue(pE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw fr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Tp.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&we()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class Do extends Gh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new gE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gE(e),this._firestoreClient=void 0,await e}}}function qx(r,e){const n=typeof r=="object"?r:fT(),s=typeof r=="string"?r:ph,o=tp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=wR("firestore");u&&Hx(o,...u)}return o}function Cp(r){if(r._terminated)throw new de(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Fx(r),r._firestoreClient}function Fx(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,_,T){return new dC(m,p,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,V0(T.experimentalLongPollingOptions),T.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new Vx(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this._byteString=e}static fromBase64String(e){try{return new So(Qt.fromBase64String(e))}catch(n){throw new de(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new So(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=/^__.*__$/;class $x{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ts(e,this.data,this.fieldMask,n,this.fieldTransforms):new mu(e,this.data,n,this.fieldTransforms)}}class U0{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ts(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function z0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class Yh{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Yh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return bh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(z0(this.Lu)&&Gx.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Kx{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Hh(e)}ju(e,n,s,o=!1){return new Yh({Lu:e,methodName:n,zu:s,path:Kt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Np(r){const e=r._freezeSettings(),n=Hh(r._databaseId);return new Kx(r._databaseId,!!e.ignoreUndefinedProperties,n)}function B0(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);Mp("Data must be an object, but it was:",f,s);const m=H0(s,f);let p,_;if(u.merge)p=new xn(f.fieldMask),_=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const R=Hm(e,b,n);if(!f.contains(R))throw new de(ee.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);F0(T,R)||T.push(R)}p=new xn(T),_=f.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,_=f.fieldTransforms;return new $x(new En(m),p,_)}class Xh extends yu{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xh}}function Qx(r,e,n){return new Yh({Lu:3,zu:e.settings.zu,methodName:r._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Dp extends yu{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=Qx(this,e,!0),s=this.Hu.map(u=>vu(u,n)),o=new Eo(s);return new XT(e.path,o)}isEqual(e){return e instanceof Dp&&hs(this.Hu,e.Hu)}}class Op extends yu{constructor(e,n){super(e),this.Ju=n}_toFieldTransform(e){const n=new au(e.serializer,GT(e.serializer,this.Ju));return new XT(e.path,n)}isEqual(e){return e instanceof Op&&this.Ju===e.Ju}}function Yx(r,e,n,s){const o=r.ju(1,e,n);Mp("Data must be an object, but it was:",o,s);const u=[],f=En.empty();Es(s,(p,_)=>{const T=Pp(e,p,n);_=rn(_);const b=o.Ku(T);if(_ instanceof Xh)u.push(T);else{const R=vu(_,b);R!=null&&(u.push(T),f.set(T,R))}});const m=new xn(u);return new U0(f,m,o.fieldTransforms)}function Xx(r,e,n,s,o,u){const f=r.ju(1,e,n),m=[Hm(e,s,n)],p=[o];if(u.length%2!=0)throw new de(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(Hm(e,u[R])),p.push(u[R+1]);const _=[],T=En.empty();for(let R=m.length-1;R>=0;--R)if(!F0(_,m[R])){const P=m[R];let L=p[R];L=rn(L);const X=f.Ku(P);if(L instanceof Xh)_.push(P);else{const F=vu(L,X);F!=null&&(_.push(P),T.set(P,F))}}const b=new xn(_);return new U0(T,b,f.fieldTransforms)}function vu(r,e){if(q0(r=rn(r)))return Mp("Unsupported field value:",e,r),H0(r,e);if(r instanceof yu)return function(s,o){if(!z0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=vu(m,o.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=rn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return GT(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Dt.fromDate(s);return{timestampValue:Eh(o.serializer,u)}}if(s instanceof Dt){const u=new Dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Eh(o.serializer,u)}}if(s instanceof Ip)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof So)return{bytesValue:i0(o.serializer,s._byteString)};if(s instanceof Tn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:fp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof xp)return function(f,m){return{mapValue:{fields:{[NT]:{stringValue:DT},[gh]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw m.Wu("VectorValues must only contain numeric values.");return up(m.serializer,_)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Rp(s)}`)}(r,e)}function H0(r,e){const n={};return bT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Es(r,(s,o)=>{const u=vu(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function q0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Dt||r instanceof Ip||r instanceof So||r instanceof Tn||r instanceof yu||r instanceof xp)}function Mp(r,e,n){if(!q0(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Rp(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function Hm(r,e,n){if((e=rn(e))instanceof Qh)return e._internalPath;if(typeof e=="string")return Pp(r,e);throw bh("Field path arguments must be of type string or ",r,!1,void 0,n)}const Wx=new RegExp("[~\\*/\\[\\]]");function Pp(r,e,n){if(e.search(Wx)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Qh(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function bh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new de(ee.INVALID_ARGUMENT,m+r+p)}function F0(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Zx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Zx extends G0{data(){return super.data()}}function $0(r,e){return typeof e=="string"?Pp(r,e):e instanceof Qh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new de(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class eN{convertValue(e,n="none"){switch(ps(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ms(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Es(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[gh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>_t(f.doubleValue));return new xp(u)}convertGeoPoint(e){return new Ip(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=kh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=ds(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Ke(u0(s));const o=new iu(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||fr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Q0 extends G0{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ah(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field($0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class ah extends Q0{data(e={}){return super.data(e)}}class tN{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Kl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new ah(this._firestore,this._userDataWriter,s.key,s,new Kl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new ah(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Kl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return m.type!==0&&(_=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:nN(m.type),doc:p,oldIndex:_,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function nN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(r){r=Ii(r,Tn);const e=Ii(r.firestore,Do);return Ux(Cp(e),r._key).then(n=>rN(e,r,n))}class X0 extends eN{constructor(e){super(),this.firestore=e}convertBytes(e){return new So(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,n)}}function kp(r){r=Ii(r,$h);const e=Ii(r.firestore,Do),n=Cp(e),s=new X0(e);return Jx(r._query),zx(n,r._query).then(o=>new tN(e,s,r,o))}function W0(r,e,n){r=Ii(r,Tn);const s=Ii(r.firestore,Do),o=K0(r.converter,e);return jp(s,[B0(Np(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,ei.none())])}function Vp(r,e,n,...s){r=Ii(r,Tn);const o=Ii(r.firestore,Do),u=Np(o);let f;return f=typeof(e=rn(e))=="string"||e instanceof Qh?Xx(u,"updateDoc",r._key,e,n,s):Yx(u,"updateDoc",r._key,e),jp(o,[f.toMutation(r._key,ei.exists(!0))])}function iN(r,e){const n=Ii(r.firestore,Do),s=ws(r),o=K0(r.converter,e);return jp(n,[B0(Np(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,ei.exists(!1))]).then(()=>s)}function jp(r,e){return function(s,o){const u=new lr;return s.asyncQueue.enqueueAndForget(async()=>Cx(await Lx(s),o,u)),u.promise}(Cp(r),e)}function rN(r,e,n){const s=n.docs.get(e._key),o=new X0(r);return new Q0(r,o,e._key,s,new Kl(n.hasPendingWrites,n.fromCache),e.converter)}function Z0(...r){return new Dp("arrayUnion",r)}function Lp(r){return new Op("increment",r)}(function(e,n=!0){(function(o){Co=o})(Ro),po(new aa("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new Do(new W1(s.getProvider("auth-internal")),new eC(f,s.getProvider("app-check-internal")),function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new de(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(_.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),ls(Sv,bv,e),ls(Sv,bv,"esm2017")})();function Up(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function J0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const sN=J0,ew=new fu("auth","Firebase",J0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Jm("@firebase/auth");function aN(r,...e){Ah.logLevel<=Me.WARN&&Ah.warn(`Auth (${Ro}): ${r}`,...e)}function oh(r,...e){Ah.logLevel<=Me.ERROR&&Ah.error(`Auth (${Ro}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(r,...e){throw zp(r,...e)}function Si(r,...e){return zp(r,...e)}function tw(r,e,n){const s=Object.assign(Object.assign({},sN()),{[e]:n});return new fu("auth","Firebase",s).create(e,{appName:r.name})}function ur(r){return tw(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return ew.create(r,...e)}function Ee(r,e,...n){if(!r)throw zp(e,...n)}function rr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw oh(e),new Error(e)}function mr(r,e){r||rr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function oN(){return _E()==="http:"||_E()==="https:"}function _E(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(oN()||IR()||"connection"in navigator)?navigator.onLine:!0}function uN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,mr(n>e,"Short delay should be less than long delay!"),this.isMobile=AR()||xR()}get(){return lN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(r,e){mr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nw{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;rr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;rr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;rr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=new Eu(3e4,6e4);function Ss(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function bs(r,e,n,s,o={}){return iw(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=du(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:e,headers:p},u);return CR()||(_.referrerPolicy="no-referrer"),nw.fetch()(rw(r,r.config.apiHost,n,m),_)})}async function iw(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},cN),e);try{const o=new dN(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Wc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,_]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Wc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Wc(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw tw(r,T,_);ti(r,T)}}catch(o){if(o instanceof pr)throw o;ti(r,"network-request-failed",{message:String(o)})}}async function Tu(r,e,n,s,o={}){const u=await bs(r,e,n,s,o);return"mfaPendingCredential"in u&&ti(r,"multi-factor-auth-required",{_serverResponse:u}),u}function rw(r,e,n,s){const o=`${e}${n}?${s}`;return r.config.emulator?Bp(r.config,o):`${r.config.apiScheme}://${o}`}function fN(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Si(this.auth,"network-request-failed")),hN.get())})}}function Wc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Si(r,e,s);return o.customData._tokenResponse=n,o}function yE(r){return r!==void 0&&r.enterprise!==void 0}class mN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return fN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pN(r,e){return bs(r,"GET","/v2/recaptchaConfig",Ss(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gN(r,e){return bs(r,"POST","/v1/accounts:delete",e)}async function sw(r,e){return bs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function _N(r,e=!1){const n=rn(r),s=await n.getIdToken(e),o=Hp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Zl(_m(o.auth_time)),issuedAtTime:Zl(_m(o.iat)),expirationTime:Zl(_m(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function _m(r){return Number(r)*1e3}function Hp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const o=sT(n);return o?JSON.parse(o):(oh("Failed to decode base64 JWT payload"),null)}catch(o){return oh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function vE(r){const e=Hp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof pr&&yN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function yN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zl(this.lastLoginAt),this.creationTime=Zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await ou(r,sw(n,{idToken:s}));Ee(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?aw(u.providerUserInfo):[],m=TN(r.providerData,f),p=r.isAnonymous,_=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),T=p?_:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Fm(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,b)}async function EN(r){const e=rn(r);await Rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function TN(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function aw(r){return r.map(e=>{var{providerId:n}=e,s=Up(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(r,e){const n=await iw(r,{},async()=>{const s=du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=rw(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",nw.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function SN(r,e){return bs(r,"POST","/v2/accounts:revokeToken",Ss(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=vE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await wN(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new ho;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ho,this.toJSON())}_performRefresh(){return rr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jr(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class sr{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Up(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new vN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Fm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await ou(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return _N(this,e)}reload(){return EN(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new sr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Rh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(ur(this.auth));const e=await this.getIdToken();return await ou(this,gN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,_,T;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,R=(o=n.email)!==null&&o!==void 0?o:void 0,P=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,L=(f=n.photoURL)!==null&&f!==void 0?f:void 0,X=(m=n.tenantId)!==null&&m!==void 0?m:void 0,F=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(_=n.createdAt)!==null&&_!==void 0?_:void 0,ne=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:K,emailVerified:re,isAnonymous:ae,providerData:pe,stsTokenManager:M}=n;Ee(K&&M,e,"internal-error");const C=ho.fromJSON(this.name,M);Ee(typeof K=="string",e,"internal-error"),Jr(b,e.name),Jr(R,e.name),Ee(typeof re=="boolean",e,"internal-error"),Ee(typeof ae=="boolean",e,"internal-error"),Jr(P,e.name),Jr(L,e.name),Jr(X,e.name),Jr(F,e.name),Jr(Y,e.name),Jr(ne,e.name);const A=new sr({uid:K,auth:e,email:R,emailVerified:re,displayName:b,isAnonymous:ae,photoURL:L,phoneNumber:P,tenantId:X,stsTokenManager:C,createdAt:Y,lastLoginAt:ne});return pe&&Array.isArray(pe)&&(A.providerData=pe.map(N=>Object.assign({},N))),F&&(A._redirectEventId=F),A}static async _fromIdTokenResponse(e,n,s=!1){const o=new ho;o.updateFromServerResponse(n);const u=new sr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Rh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?aw(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new ho;m.updateFromIdToken(s);const p=new sr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Fm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;function ar(r){mr(r instanceof Function,"Expected a class definition");let e=EE.get(r);return e?(mr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,EE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}ow.type="NONE";const TE=ow;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(r,e,n){return`firebase:${r}:${e}:${n}`}class fo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=lh(this.userKey,o.apiKey,u),this.fullPersistenceKey=lh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?sr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new fo(ar(TE),e,s);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||ar(TE);const f=lh(s,e.config.apiKey,e.name);let m=null;for(const _ of n)try{const T=await _._get(f);if(T){const b=sr._fromJSON(e,T);_!==u&&(m=b),u=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new fo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new fo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(hw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dw(e))return"Blackberry";if(mw(e))return"Webos";if(uw(e))return"Safari";if((e.includes("chrome/")||cw(e))&&!e.includes("edge/"))return"Chrome";if(fw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function lw(r=nn()){return/firefox\//i.test(r)}function uw(r=nn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function cw(r=nn()){return/crios\//i.test(r)}function hw(r=nn()){return/iemobile/i.test(r)}function fw(r=nn()){return/android/i.test(r)}function dw(r=nn()){return/blackberry/i.test(r)}function mw(r=nn()){return/webos/i.test(r)}function qp(r=nn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function bN(r=nn()){var e;return qp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AN(){return NR()&&document.documentMode===10}function pw(r=nn()){return qp(r)||fw(r)||mw(r)||dw(r)||/windows phone/i.test(r)||hw(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(r,e=[]){let n;switch(r){case"Browser":n=wE(nn());break;case"Worker":n=`${wE(nn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ro}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CN(r,e={}){return bs(r,"GET","/v2/passwordPolicy",Ss(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN=6;class xN{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:IN,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new SE(this),this.idTokenSubscription=new SE(this),this.beforeStateQueue=new RN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ew,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await fo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await sw(this,{idToken:e}),s=await sr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Kn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=uN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(ur(this));const n=e?rn(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await CN(this),n=new xN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await SN(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ar(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await fo.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&aN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function da(r){return rn(r)}class SE{constructor(e){this.auth=e,this.observer=null,this.addObserver=LR(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function DN(r){Wh=r}function _w(r){return Wh.loadJS(r)}function ON(){return Wh.recaptchaEnterpriseScript}function MN(){return Wh.gapiScript}function PN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class kN{constructor(){this.enterprise=new VN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class VN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const jN="recaptcha-enterprise",yw="NO_RECAPTCHA";class LN{constructor(e){this.type=jN,this.auth=da(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{pN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new mN(p);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,f(_.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;yE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(_=>{f(_)}).catch(()=>{f(yw)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new kN().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&yE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=ON();p.length!==0&&(p+=m),_w(p).then(()=>{o(m,u,f)}).catch(_=>{f(_)})}}).catch(m=>{f(m)})})}}async function bE(r,e,n,s=!1,o=!1){const u=new LN(r);let f;if(o)f=yw;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Gm(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await bE(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await bE(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(r,e){const n=tp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(hs(u,e??{}))return o;ti(o,"already-initialized")}return n.initialize({options:e})}function zN(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ar);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function BN(r,e,n){const s=da(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=vw(e),{host:f,port:m}=HN(e),p=m===null?"":`:${m}`,_={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(hs(_,s.config.emulator)&&hs(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,qN()}function vw(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function HN(r){const e=vw(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:AE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:AE(f)}}}function AE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function qN(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return rr("not implemented")}_getIdTokenResponse(e){return rr("not implemented")}_linkToIdToken(e,n){return rr("not implemented")}_getReauthenticationResolver(e){return rr("not implemented")}}async function FN(r,e){return bs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GN(r,e){return Tu(r,"POST","/v1/accounts:signInWithPassword",Ss(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $N(r,e){return Tu(r,"POST","/v1/accounts:signInWithEmailLink",Ss(r,e))}async function KN(r,e){return Tu(r,"POST","/v1/accounts:signInWithEmailLink",Ss(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends Fp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new lu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new lu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gm(e,n,"signInWithPassword",GN);case"emailLink":return $N(e,{email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Gm(e,s,"signUpPassword",FN);case"emailLink":return KN(e,{idToken:n,email:this._email,oobCode:this._password});default:ti(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mo(r,e){return Tu(r,"POST","/v1/accounts:signInWithIdp",Ss(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QN="http://localhost";class ua extends Fp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Up(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new ua(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return mo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,mo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,mo(e,n)}buildRequest(){const e={requestUri:QN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=du(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function XN(r){const e=Hl(ql(r)).link,n=e?Hl(ql(e)).deep_link_id:null,s=Hl(ql(r)).deep_link_id;return(s?Hl(ql(s)).link:null)||s||n||e||r}class Gp{constructor(e){var n,s,o,u,f,m;const p=Hl(ql(e)),_=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,b=YN((o=p.mode)!==null&&o!==void 0?o:null);Ee(_&&T&&b,"argument-error"),this.apiKey=_,this.operation=b,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=XN(e);try{return new Gp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.providerId=Oo.PROVIDER_ID}static credential(e,n){return lu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Gp.parseLink(n);return Ee(s,"argument-error"),lu._fromEmailAndCode(e,s.code,s.tenantId)}}Oo.PROVIDER_ID="password";Oo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends Ew{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends wu{constructor(){super("facebook.com")}static credential(e){return ua._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ua._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ns.credential(n,s)}catch{return null}}}ns.GOOGLE_SIGN_IN_METHOD="google.com";ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends wu{constructor(){super("github.com")}static credential(e){return ua._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends wu{constructor(){super("twitter.com")}static credential(e,n){return ua._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return rs.credential(n,s)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(r,e){return Tu(r,"POST","/v1/accounts:signUp",Ss(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ca{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await sr._fromIdTokenResponse(e,s,o),f=RE(s);return new ca({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=RE(s);return new ca({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function RE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch extends pr{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ch.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ch(e,n,s,o)}}function Tw(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ch._fromErrorAndOperation(r,u,e,s):u})}async function ZN(r,e,n=!1){const s=await ou(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ca._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(r,e,n=!1){const{auth:s}=r;if(Kn(s.app))return Promise.reject(ur(s));const o="reauthenticate";try{const u=await ou(r,Tw(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const f=Hp(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(r.uid===m,s,"user-mismatch"),ca._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ti(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ww(r,e,n=!1){if(Kn(r.app))return Promise.reject(ur(r));const s="signIn",o=await Tw(r,s,e),u=await ca._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function eD(r,e){return ww(da(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sw(r){const e=da(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function tD(r,e,n){if(Kn(r.app))return Promise.reject(ur(r));const s=da(r),f=await Gm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WN).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Sw(r),p}),m=await ca._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function nD(r,e,n){return Kn(r.app)?Promise.reject(ur(r)):eD(rn(r),Oo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Sw(r),s})}function iD(r,e,n,s){return rn(r).onIdTokenChanged(e,n,s)}function rD(r,e,n){return rn(r).beforeAuthStateChanged(e,n)}function sD(r){return rn(r).signOut()}const Ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ih,"1"),this.storage.removeItem(Ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD=1e3,oD=10;class Aw extends bw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);AN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,oD):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},aD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Aw.type="LOCAL";const lD=Aw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw extends bw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Rw.type="SESSION";const Cw=Rw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Zh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async _=>_(n.origin,u)),p=await uD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Zh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const _=$p("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const R=b;if(R.data.eventId===_)switch(R.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(){return window}function hD(r){bi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(){return typeof bi().WorkerGlobalScope<"u"&&typeof bi().importScripts=="function"}async function fD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function dD(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function mD(){return Iw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw="firebaseLocalStorageDb",pD=1,xh="firebaseLocalStorage",Nw="fbase_key";class Su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jh(r,e){return r.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function gD(){const r=indexedDB.deleteDatabase(xw);return new Su(r).toPromise()}function $m(){const r=indexedDB.open(xw,pD);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(xh,{keyPath:Nw})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(xh)?e(s):(s.close(),await gD(),e(await $m()))})})}async function CE(r,e,n){const s=Jh(r,!0).put({[Nw]:e,value:n});return new Su(s).toPromise()}async function _D(r,e){const n=Jh(r,!1).get(e),s=await new Su(n).toPromise();return s===void 0?null:s.value}function IE(r,e){const n=Jh(r,!0).delete(e);return new Su(n).toPromise()}const yD=800,vD=3;class Dw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await $m(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>vD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Iw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Zh._getInstance(mD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await fD(),!this.activeServiceWorker)return;this.sender=new cD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||dD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await $m();return await CE(e,Ih,"1"),await IE(e,Ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>CE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>_D(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>IE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Jh(o,!1).getAll();return new Su(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Dw.type="LOCAL";const ED=Dw;new Eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(r,e){return e?ar(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp extends Fp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return mo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return mo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function wD(r){return ww(r.auth,new Kp(r),r.bypassAuthState)}function SD(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),JN(n,new Kp(r),r.bypassAuthState)}async function bD(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),ZN(n,new Kp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wD;case"linkViaPopup":case"linkViaRedirect":return bD;case"reauthViaPopup":case"reauthViaRedirect":return SD;default:ti(this.auth,"internal-error")}}resolve(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=new Eu(2e3,1e4);class uo extends Ow{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,uo.currentPopupAction&&uo.currentPopupAction.cancel(),uo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){mr(this.filter.length===1,"Popup operations only handle one event");const e=$p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Si(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Si(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,uo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Si(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,AD.get())};e()}}uo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RD="pendingRedirect",uh=new Map;class CD extends Ow{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=uh.get(this.auth._key());if(!e){try{const s=await ID(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}uh.set(this.auth._key(),e)}return this.bypassAuthState||uh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ID(r,e){const n=DD(e),s=ND(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function xD(r,e){uh.set(r._key(),e)}function ND(r){return ar(r._redirectPersistence)}function DD(r){return lh(RD,r.config.apiKey,r.name)}async function OD(r,e,n=!1){if(Kn(r.app))return Promise.reject(ur(r));const s=da(r),o=TD(s,e),f=await new CD(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MD=10*60*1e3;class PD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!kD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Mw(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Si(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=MD&&this.cachedEventUids.clear(),this.cachedEventUids.has(xE(e))}saveEventToCache(e){this.cachedEventUids.add(xE(e)),this.lastProcessedEventTime=Date.now()}}function xE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Mw({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function kD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Mw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VD(r,e={}){return bs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LD=/^https?/;async function UD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await VD(r);for(const n of e)try{if(zD(n))return}catch{}ti(r,"unauthorized-domain")}function zD(r){const e=qm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!LD.test(n))return!1;if(jD.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BD=new Eu(3e4,6e4);function NE(){const r=bi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function HD(r){return new Promise((e,n)=>{var s,o,u;function f(){NE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{NE(),n(Si(r,"network-request-failed"))},timeout:BD.get()})}if(!((o=(s=bi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=bi().gapi)===null||u===void 0)&&u.load)f();else{const m=PN("iframefcb");return bi()[m]=()=>{gapi.load?f():n(Si(r,"network-request-failed"))},_w(`${MN()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw ch=null,e})}let ch=null;function qD(r){return ch=ch||HD(r),ch}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=new Eu(5e3,15e3),GD="__/auth/iframe",$D="emulator/auth/iframe",KD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},QD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YD(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Bp(e,$D):`https://${r.config.authDomain}/${GD}`,s={apiKey:e.apiKey,appName:r.name,v:Ro},o=QD.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${du(s).slice(1)}`}async function XD(r){const e=await qD(r),n=bi().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:YD(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Si(r,"network-request-failed"),m=bi().setTimeout(()=>{u(f)},FD.get());function p(){bi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ZD=500,JD=600,e2="_blank",t2="http://localhost";class DE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function n2(r,e,n,s=ZD,o=JD){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},WD),{width:s.toString(),height:o.toString(),top:u,left:f}),_=nn().toLowerCase();n&&(m=cw(_)?e2:n),lw(_)&&(e=e||t2,p.scrollbars="yes");const T=Object.entries(p).reduce((R,[P,L])=>`${R}${P}=${L},`,"");if(bN(_)&&m!=="_self")return i2(e||"",m),new DE(null);const b=window.open(e||"",m,T);Ee(b,r,"popup-blocked");try{b.focus()}catch{}return new DE(b)}function i2(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2="__/auth/handler",s2="emulator/auth/handler",a2=encodeURIComponent("fac");async function OE(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Ro,eventId:o};if(e instanceof Ew){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",jR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))f[T]=b}if(e instanceof wu){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),_=p?`#${a2}=${encodeURIComponent(p)}`:"";return`${o2(r)}?${du(m).slice(1)}${_}`}function o2({config:r}){return r.emulator?Bp(r,s2):`https://${r.authDomain}/${r2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="webStorageSupport";class l2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Cw,this._completeRedirectFn=OD,this._overrideRedirectResult=xD}async _openPopup(e,n,s,o){var u;mr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await OE(e,n,s,qm(),o);return n2(e,f,$p())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await OE(e,n,s,qm(),o);return hD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(mr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await XD(e),s=new PD(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ym,{type:ym},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[ym];f!==void 0&&n(!!f),ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=UD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pw()||uw()||qp()}}const u2=l2;var ME="@firebase/auth",PE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function f2(r){po(new aa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gw(r)},_=new NN(s,o,u,p);return zN(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),po(new aa("auth-internal",e=>{const n=da(e.getProvider("auth").getImmediate());return(s=>new c2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ls(ME,PE,h2(r)),ls(ME,PE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=5*60,m2=lT("authIdTokenMaxAge")||d2;let kE=null;const p2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>m2)return;const o=n==null?void 0:n.token;kE!==o&&(kE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function g2(r=fT()){const e=tp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=UN(r,{popupRedirectResolver:u2,persistence:[ED,lD,Cw]}),s=lT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=p2(u.toString());rD(n,f,()=>f(n.currentUser)),iD(n,m=>f(m))}}const o=aT("auth");return o&&BN(n,`http://${o}`),n}function _2(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}DN({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Si("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",_2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});f2("Browser");var y2="firebase",v2="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ls(y2,v2,"app");const E2={apiKey:"AIzaSyCSjbxL9N2DMxDdY5VYHIgSS8xcEXT54xE",authDomain:"my-first-project-7cbf9.firebaseapp.com",databaseURL:"https://my-first-project-7cbf9-default-rtdb.europe-west1.firebasedatabase.app",projectId:"my-first-project-7cbf9",storageBucket:"my-first-project-7cbf9.firebasestorage.app",messagingSenderId:"424606795900",appId:"1:424606795900:web:61a3a0683433959a3da1f9"},Pw=hT(E2),ni=qx(Pw),Qp=g2(Pw);function T2(){const r=B.useRef(),[e,n]=B.useState([]),[s,o]=B.useState([]),u=B.useRef(!1),f=()=>{const m=r.current.value.trim().toLowerCase();if(r.current.value="",m==="")o(e);else{const p=e.filter(_=>{var T;return(T=_.content)==null?void 0:T.toLowerCase().includes(m)});o(p)}};return B.useEffect(()=>{if(u.current)return;u.current=!0,(async()=>{try{const p=Kh(ni,"posts"),T=(await kp(p)).docs.map(b=>b.data());n(T),o(T)}catch(p){console.error("Грешка при взимане на постовете:",p)}})()},[]),y.jsxs("div",{className:pn.container,children:[y.jsxs("nav",{className:pn.nav,children:[y.jsx("h1",{children:"At"}),y.jsxs("ul",{children:[y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam/login",children:[y.jsx("i",{className:`fa-solid fa-arrow-right-to-bracket ${pn.i}`}),y.jsx("span",{children:"Sign in"})]})}),y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam/create",children:[y.jsx("i",{className:`fa-regular fa-id-badge ${pn.i}`}),y.jsx("span",{children:"Create account"})]})}),y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam",children:[y.jsx("i",{className:`fa-solid fa-person-through-window ${pn.i}`}),y.jsx("span",{children:"Leave"})]})})]}),y.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Guest"}),y.jsx("p",{children:"Guest"})]}),y.jsxs("main",{className:pn.main,children:[y.jsxs("section",{id:"search",className:pn.search,children:[y.jsx("h3",{children:"What do you need?"}),y.jsx("input",{type:"search",ref:r,name:"search",id:"search",placeholder:"search"}),y.jsx("button",{onClick:f,children:"🔍"})]}),y.jsxs("section",{id:"posts",className:pn.posts,children:[y.jsxs("div",{id:"post",className:pn.post,children:[y.jsxs("div",{id:"meta",className:pn.meta,children:[y.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Profile image"}),y.jsx("h4",{children:"Author"}),y.jsx("p",{children:"Date"})]}),y.jsx("p",{children:"Text content. This is my first post is text content, which is going to become viral!"}),y.jsx("img",{src:"https://images.indianexpress.com/2017/12/2017-viral-photos-main_759_combo.jpg?w=350",alt:"Img or Video"}),y.jsxs("div",{id:"feedback",className:pn.feedback,children:[y.jsxs("p",{children:[y.jsx("i",{className:"fa-regular fa-comment"}),y.jsx("span",{children:"5"})]}),y.jsxs("p",{children:[y.jsx("i",{className:"fa-regular fa-heart"}),y.jsx("span",{children:"12"})]}),y.jsxs("p",{children:[y.jsx("i",{className:"fa-solid fa-magnifying-glass"}),y.jsx("span",{children:"57"})]})]})]}),s.length>0?s.map((m,p)=>{const _=m.meta.date;return y.jsxs("div",{id:"post",className:pn.post,children:[y.jsxs("div",{id:"meta",className:pn.meta,children:[y.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Profile image"}),y.jsx("h4",{children:m.meta.author}),y.jsx("p",{children:_})]}),y.jsx("p",{children:m.content}),y.jsx("img",{src:m.img||"https://example.com/default-image.jpg",alt:"Img or Video"}),y.jsxs("div",{id:"feedback",className:pn.feedback,children:[y.jsxs("p",{children:[y.jsx("i",{className:"fa-regular fa-comment"}),y.jsx("span",{children:m.feedback.comments})]}),y.jsxs("p",{children:[y.jsx("i",{className:"fa-regular fa-heart"}),y.jsx("span",{children:m.feedback.likes})]}),y.jsxs("p",{children:[y.jsx("i",{className:"fa-solid fa-magnifying-glass"}),y.jsx("span",{children:m.feedback.views})]})]})]},p)}):y.jsx("p",{children:"No posts found"})]})]})]})}const w2="_wrapperMajor_12wpi_1",S2="_header_12wpi_11",b2="_logo_12wpi_73",A2="_main_12wpi_83",R2="_mainDiv_12wpi_95",C2="_nav_12wpi_107",I2="_button_12wpi_121",x2="_google_12wpi_141",N2="_awesome_12wpi_175",D2="_separator_12wpi_201",O2="_hr_12wpi_223",M2="_input_12wpi_231",P2="_next_12wpi_245",k2="_lastParagraph_12wpi_263",mt={wrapperMajor:w2,header:S2,logo:b2,main:A2,mainDiv:R2,nav:C2,button:I2,google:x2,awesome:N2,separator:D2,hr:O2,input:M2,next:P2,lastParagraph:k2},ma=B.createContext();function V2({children:r}){const[e,n]=B.useState({name:"",email:"",password:"",birthday:{month:"",day:"",year:""},checkbox:{getMore:"",connectWith:"",peronalizedAds:"",noThanks:""}}),s=o=>{n(u=>({...u,...o}))};return y.jsx(ma.Provider,{value:{formData:e,updateForm:s},children:r})}function j2(){const r=vs(),{updateForm:e}=B.useContext(ma),n=async s=>{var u;s.preventDefault();const o={email:((u=s.target.elements.email)==null?void 0:u.value)||""};if(!o.email)return alert("You must enter a valid email address");await e(o),r("/react-regular-exam/login/pass")};return y.jsx("form",{onSubmit:n,children:y.jsxs("div",{className:mt.wrapperMajor,children:[y.jsxs("header",{className:mt.header,children:[y.jsx(_e,{className:mt.x,to:"/react-regular-exam",children:y.jsx("i",{className:"fa-solid fa-xmark"})}),y.jsx("h1",{className:mt.logo,children:"At"})]}),y.jsx("main",{className:mt.main,children:y.jsxs("div",{className:mt.mainDiv,children:[y.jsx("h1",{children:"Sign in to At"}),y.jsxs("nav",{className:mt.nav,children:[y.jsxs("button",{type:"button",className:`${mt.button} ${mt.awesome} ${mt.google}`,children:[y.jsx("i",{className:"fa-brands fa-google"}),"Sign in with Google"]}),y.jsxs("button",{type:"button",className:`${mt.button} ${mt.awesome}`,children:[y.jsx("i",{className:"fa-brands fa-apple"}),"Sign in with Apple"]}),y.jsxs("div",{className:mt.separator,children:[y.jsx("hr",{className:mt.hr}),y.jsx("p",{children:"or"}),y.jsx("hr",{className:mt.hr})]}),y.jsx("input",{name:"email",className:mt.input,type:"email",placeholder:"email"}),y.jsx("button",{className:`${mt.button} ${mt.awesome} ${mt.next}`,children:"Next"}),y.jsx("button",{type:"button",className:`${mt.button} ${mt.awesome}`,to:"/react-regular-exam/guest",children:"Forgot password?"}),y.jsxs("p",{className:mt.lastParagraph,children:["Don't have an account?",y.jsx(_e,{to:"/react-regular-exam/create",children:"Sign up"})]})]})]})})]})})}const L2="_wrapperMajor_1qz1e_1",U2="_header_1qz1e_21",z2="_logo_1qz1e_83",B2="_main_1qz1e_93",H2="_mainDiv_1qz1e_107",q2="_upperDiv_1qz1e_121",F2="_emailState_1qz1e_131",G2="_password_1qz1e_159",$2="_arrow_1qz1e_177",K2="_inputWrapper_1qz1e_189",Q2="_pass_1qz1e_159",Y2="_forgot_1qz1e_219",X2="_login_1qz1e_247",W2="_signup_1qz1e_289",hn={wrapperMajor:L2,header:U2,logo:z2,main:B2,mainDiv:H2,upperDiv:q2,emailState:F2,password:G2,arrow:$2,inputWrapper:K2,pass:Q2,forgot:Y2,login:X2,signup:W2};function Z2(r,e){localStorage.setItem("user",JSON.stringify(r)),localStorage.setItem("userToken",e)}function kw(){return localStorage.getItem("userToken")}function ef(){return localStorage.getItem("user")}function J2(){localStorage.removeItem("userToken"),localStorage.removeItem("user")}const eO=async r=>{const{email:e,password:n}=r;try{const o=(await tD(Qp,e,n)).user;await W0(ws(ni,"users",o.uid),{...r,createdAt:new Date,userId:o.uid})}catch(s){console.error("Error registering user:",s.message)}},tO=async r=>{const{email:e,password:n}=r;try{const o=(await nD(Qp,e,n)).user,u=await o.getIdToken(),f=await rO(o.uid);return Z2(f,u),f}catch(s){console.error("Error login user:",s.message)}},nO=async r=>{try{const e=await sO(r.img);e?r.img=e:r.img="";const n=await iN(Kh(ni,"posts"),r),s={...r,id:n.id};await W0(ws(ni,"posts",n.id),s)}catch(e){console.error("Error adding document:",e)}},Vw=async(r,e)=>{const n=ws(ni,"posts",r);try{await Vp(n,{comments:Z0({data:e}),"feedback.comments":Lp(1)})}catch(s){console.error("Error adding comment: ",s)}},VE=async(r,e)=>{const n=ws(ni,"posts",r);try{await Vp(n,{"feedback.likes":Lp(1),"feedback.likedPeople":Z0(e)})}catch(s){console.error("Error adding like: ",s)}},iO=async r=>{const e=ws(ni,"posts",r);try{await Vp(e,{"feedback.views":Lp(1)})}catch(n){console.error("Error adding like: ",n)}},jw=async r=>{try{const e=ws(ni,"posts",r),n=await Y0(e);return n.exists()?n.data():(console.log("No such document!"),null)}catch(e){return console.error("Error fetching post:",e),null}},jE=async()=>{try{const r=Kh(ni,"posts"),n=(await kp(r)).docs.map(s=>s.data());return n.sort((s,o)=>new Date(o.meta.date)-new Date(s.meta.date)),n}catch(r){console.error("Грешка при взимане на постовете:",r)}};async function rO(r){try{const e=ws(ni,"users",r),n=await Y0(e);if(n.exists())return n.data();throw new Error("no such user!")}catch(e){return console.error("Error fetching user:",e.message),null}}const sO=async r=>{if(!r)return;const e=new FormData;e.append("file",r),e.append("upload_preset","my_unsigned_preset");try{const s=await(await fetch("https://api.cloudinary.com/v1_1/dsqegonee/image/upload",{method:"POST",body:e})).json();if(s.secure_url)return console.log("Изображението е качено успешно:",s.secure_url),s.secure_url;console.error("Грешка при качването на изображението",s)}catch(n){console.error("Грешка при качването на изображението:",n)}},aO="_loader_1ojyy_11",oO={loader:aO};function Lw(){return y.jsx("div",{className:oO.loader})}function lO(){const{formData:r,updateForm:e}=B.useContext(ma),n=vs(),[s,o]=B.useState(!1),[u,f]=B.useState(!1),m=async _=>{var b;_.preventDefault(),f(!0);const T={password:(b=_.target.elements.password)==null?void 0:b.value};if(!T)return alert("You need to provide a password");await e(T)};B.useEffect(()=>{if(!r.password)return;(async()=>{try{const T=await tO(r);await e(T),n("/react-regular-exam/welcome"),f(!1)}catch(T){alert(T.message)}})()},[r.password]);const p=()=>{const _=document.getElementById("password");_.type==="password"?_.type="text":_.type="password"};return y.jsx("form",{onSubmit:m,children:y.jsxs("div",{className:hn.wrapperMajor,children:[u&&y.jsx(Lw,{}),y.jsxs("header",{className:hn.header,children:[y.jsx(_e,{className:hn.x,to:"/react-regular-exam",children:y.jsx("i",{className:"fa-solid fa-xmark"})}),y.jsx("h1",{className:hn.logo,children:"At"})]}),y.jsx("main",{className:hn.main,children:y.jsxs("div",{className:hn.mainDiv,children:[y.jsxs("div",{className:hn.upperDiv,children:[y.jsx("h1",{children:"Enter your password"}),y.jsxs("div",{className:hn.emailState,children:[y.jsx("p",{children:"Email"}),y.jsx("p",{children:r.email})]}),y.jsxs("div",{className:hn.password,children:[y.jsxs("div",{className:hn.arrow,children:[y.jsx("p",{children:"Password"}),y.jsx("i",{className:"fa-solid fa-arrow-down"})]}),y.jsxs("div",{className:hn.inputWrapper,children:[y.jsx("input",{className:hn.pass,type:"password",name:"password",id:"password",placeholder:""}),y.jsx("i",{onClick:p,className:"fa-regular fa-eye"})]})]}),y.jsx("p",{className:hn.forgot,children:y.jsx(_e,{children:"Forgot password?"})})]}),y.jsxs("div",{className:hn.login,children:[y.jsx("input",{name:"login",type:"submit",value:"Log in"}),y.jsxs("div",{className:hn.signup,children:[y.jsx("p",{children:"Don't have an account?"}),y.jsx(_e,{to:"/create",children:"Sign up"})]})]})]})})]})})}const uO="_wrapperMajor_1pvgq_1",cO="_header_1pvgq_21",hO="_logo_1pvgq_83",fO="_main_1pvgq_93",dO="_mainDiv_1pvgq_107",mO="_upperDiv_1pvgq_121",pO="_password_1pvgq_133",gO="_arrow_1pvgq_151",_O="_inputWrapper_1pvgq_163",yO="_pass_1pvgq_133",vO="_login_1pvgq_193",EO="_birth_1pvgq_231",TO="_birthday_1pvgq_263",wO="_month_1pvgq_273",SO="_day_1pvgq_299",bO="_year_1pvgq_299",Ye={wrapperMajor:uO,header:cO,logo:hO,main:fO,mainDiv:dO,upperDiv:mO,password:pO,arrow:gO,inputWrapper:_O,pass:yO,login:vO,birth:EO,birthday:TO,month:wO,day:SO,year:bO};function AO(){const{updateForm:r}=B.useContext(ma),e=vs(),n=async u=>{var m,p,_,T,b,R,P;u.preventDefault();const f={name:((m=u.target.elements.name)==null?void 0:m.value)||"",email:((p=u.target.elements.email)==null?void 0:p.value)||"",password:((_=u.target.elements.password)==null?void 0:_.value)||"",birthday:{month:((T=u.target.elements.month)==null?void 0:T.value)||"",day:((b=u.target.elements.day)==null?void 0:b.value)||"",year:((R=u.target.elements.year)==null?void 0:R.value)||""}};if(f.name)if(f.email){if(!f.password||f.password.length<6)return alert("You must enter a valid password!");if(f.password!==((P=u.target.elements.repeat)==null?void 0:P.value))return alert("Password Missmatch!");if(f.birthday.month)if(f.birthday.day){if(!f.birthday.year)return alert("You must choose an year!")}else return alert("You must choose a day!");else return alert("You must choose a month!")}else return alert("You must enter a valid email address!");else return alert("You must enter a name!");await r(f),e("/react-regular-exam/create/submit")},s=()=>{const u=document.getElementById("password");u.type==="password"?u.type="text":u.type="password"},o=()=>{const u=document.getElementById("repeat");u.type==="password"?u.type="text":u.type="password"};return y.jsx("form",{onSubmit:n,children:y.jsxs("div",{className:Ye.wrapperMajor,children:[y.jsxs("header",{className:Ye.header,children:[y.jsx(_e,{className:Ye.x,to:"/react-regular-exam",children:y.jsx("i",{className:"fa-solid fa-xmark"})}),y.jsx("h1",{className:Ye.logo,children:"At"})]}),y.jsx("main",{className:Ye.main,children:y.jsxs("div",{className:Ye.mainDiv,children:[y.jsxs("div",{className:Ye.upperDiv,children:[y.jsx("h1",{children:"Create your account"}),y.jsxs("div",{className:Ye.password,children:[y.jsxs("div",{className:Ye.arrow,children:[y.jsx("p",{children:"Name"}),y.jsx("i",{className:"fa-solid fa-arrow-down"})]}),y.jsx("div",{className:Ye.inputWrapper,children:y.jsx("input",{className:Ye.pass,type:"text",name:"name",id:"name",placeholder:""})})]}),y.jsxs("div",{className:Ye.password,children:[y.jsxs("div",{className:Ye.arrow,children:[y.jsx("p",{children:"Email"}),y.jsx("i",{className:"fa-solid fa-arrow-down"})]}),y.jsx("div",{className:Ye.inputWrapper,children:y.jsx("input",{className:Ye.pass,type:"email",name:"email",id:"email",placeholder:""})})]}),y.jsxs("div",{className:Ye.password,children:[y.jsxs("div",{className:Ye.arrow,children:[y.jsx("p",{children:"Password"}),y.jsx("i",{className:"fa-solid fa-arrow-down"})]}),y.jsxs("div",{className:Ye.inputWrapper,children:[y.jsx("input",{className:Ye.pass,type:"password",name:"password",id:"password",placeholder:"At least 6 characters"}),y.jsx("i",{onClick:s,className:"fa-regular fa-eye"})]})]}),y.jsxs("div",{className:Ye.password,children:[y.jsxs("div",{className:Ye.arrow,children:[y.jsx("p",{children:"Repeat password"}),y.jsx("i",{className:"fa-solid fa-arrow-down"})]}),y.jsxs("div",{className:Ye.inputWrapper,children:[y.jsx("input",{className:Ye.pass,type:"password",name:"repeat",id:"repeat",placeholder:""}),y.jsx("i",{onClick:o,className:"fa-regular fa-eye"})]})]}),y.jsxs("div",{className:Ye.birth,children:[y.jsx("p",{children:"Date of Birth"}),y.jsx("p",{children:"This will not be shown publicly. Confirm your own age, even if this account is for a business, a pet, or something else."}),y.jsxs("div",{className:Ye.birthday,children:[y.jsxs("div",{className:Ye.month,children:[y.jsx("p",{children:"month"}),y.jsxs("select",{name:"month",id:"month",children:[y.jsx("option",{value:""}),y.jsx("option",{value:"January",children:"January"}),y.jsx("option",{value:"February",children:"February"}),y.jsx("option",{value:"March",children:"March"}),y.jsx("option",{value:"April",children:"April"}),y.jsx("option",{value:"May",children:"May"}),y.jsx("option",{value:"June",children:"June"}),y.jsx("option",{value:"July",children:"July"}),y.jsx("option",{value:"August",children:"August"}),y.jsx("option",{value:"September",children:"September"}),y.jsx("option",{value:"October",children:"October"}),y.jsx("option",{value:"November",children:"November"}),y.jsx("option",{value:"December",children:"December"})]})]}),y.jsxs("div",{className:Ye.day,children:[y.jsx("p",{children:"Day"}),y.jsxs("select",{name:"day",id:"day",children:[y.jsx("option",{value:""}),Array.from({length:31},(u,f)=>y.jsx("option",{value:f+1,children:f+1},f+1))]})]}),y.jsxs("div",{className:Ye.year,children:[y.jsx("p",{children:"Year"}),y.jsxs("select",{name:"year",id:"year",children:[y.jsx("option",{value:""}),Array.from({length:121},(u,f)=>y.jsx("option",{value:f+1905,children:f+1905},f+1905))]})]})]})]})]}),y.jsx("div",{className:Ye.login,children:y.jsx("button",{children:"Next"})})]})})]})})}const RO="_wrapperMajor_ewi7d_1",CO="_header_ewi7d_33",IO="_logo_ewi7d_95",xO="_main_ewi7d_105",NO="_wrapper_ewi7d_1",DO="_checkBoxWrapper_ewi7d_135",OO="_button_ewi7d_267",es={wrapperMajor:RO,header:CO,logo:IO,main:xO,wrapper:NO,checkBoxWrapper:DO,button:OO};function MO(){const r=vs(),{formData:e,updateForm:n}=B.useContext(ma),[s,o]=B.useState(!1),u=async f=>{var p,_,T;f.preventDefault(),o(!0);const m={checkbox:{getMore:(p=f.target.elements.getMore)!=null&&p.checked?"yes":"no",connectWith:(_=f.target.elements.connectWith)!=null&&_.checked?"yes":"no",peronalizedAds:(T=f.target.elements.peronalizedAds)!=null&&T.checked?"yes":"no"}};try{n(m)}catch(b){console.error("Error registering user:",b.message)}};return B.useEffect(()=>{if(!e.checkbox.getMore)return;(async()=>{try{await eO(e),o(!1),r("/react-regular-exam/guest")}catch(m){alert(m.message)}})()},[e.checkbox.getMore]),y.jsx("form",{onSubmit:u,children:y.jsxs("div",{className:es.wrapperMajor,children:[s&&y.jsx(Lw,{}),y.jsxs("header",{className:es.header,children:[y.jsx(_e,{className:es.x,to:"/react-regular-exam",children:y.jsx("i",{className:"fa-solid fa-xmark"})}),y.jsx("h1",{className:es.logo,children:"At"})]}),y.jsxs("main",{className:es.main,children:[y.jsxs("div",{className:es.wrapper,children:[y.jsx("h1",{children:"Customize your experience"}),y.jsxs("div",{className:es.checkBoxWrapper,children:[y.jsxs("div",{children:[y.jsx("h3",{children:"Get more out of At"}),y.jsxs("div",{children:[y.jsx("p",{children:"Receive email about your At activity and recommendations."}),y.jsx("input",{type:"checkbox",name:"getMore"})]})]}),y.jsxs("div",{children:[y.jsx("h3",{children:"Connect with people you know"}),y.jsxs("div",{children:[y.jsx("p",{children:"Let others find your At account by your email address."}),y.jsx("input",{type:"checkbox",name:"connectWith"})]})]}),y.jsxs("div",{children:[y.jsx("h3",{children:"Personalized ads"}),y.jsxs("div",{children:[y.jsx("p",{children:"You will always see ads on At based on your At activity. When this setting is enabled, At may further personalize ads from At advertisers, on and off At, by combining your At activity with other online activity and information from our partners."}),y.jsx("input",{type:"checkbox",name:"peronalizedAds"})]})]})]}),y.jsxs("p",{children:["By signing up, you agree to our ",y.jsx(_e,{children:"Terms"}),", ",y.jsx(_e,{children:"Privacy Policy"}),", and ",y.jsx(_e,{children:"Cookie Use"}),". At may use your contact information, including your email address and phone number for purposes outlined in our Privacy Policy. ",y.jsx(_e,{children:"Learn more"})]})]}),y.jsx("div",{className:es.button,children:y.jsx("input",{type:"submit",value:"Next"})})]})]})})}const PO="_container_h5fhp_1",kO="_main_h5fhp_19",LE={container:PO,main:kO},VO="_nav_17f17_1",jO="_i_17f17_11",ia={nav:VO,i:jO};function LO(){const{formData:r,updateForm:e}=B.useContext(ma),[n,s]=B.useState("Loading..."),o=vs(),u=async f=>{f.preventDefault();try{await sD(Qp),e({name:"",email:"",password:"",birthday:{month:"",day:"",year:""},checkbox:{getMore:"",connectWith:"",peronalizedAds:"",noThanks:""}}),J2(),o("/react-regular-exam")}catch(m){console.error("Logout error:",m)}};return B.useEffect(()=>{const f=JSON.parse(ef());f&&f.name?s(f.name):s("Guest")},[]),y.jsxs("nav",{className:ia.nav,children:[y.jsx("h1",{children:"At"}),y.jsxs("ul",{children:[y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam/welcome",children:[y.jsx("i",{className:`fa-solid fa-house-flag ${ia.i}`}),y.jsx("span",{children:"Welcome"})]})}),y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam/about",children:[y.jsx("i",{className:`fa-solid fa-bell ${ia.i}`}),y.jsx("span",{children:"Notification"})]})}),y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam/about",children:[y.jsx("i",{className:`fa-solid fa-envelope ${ia.i}`}),y.jsx("span",{children:"Messages"})]})}),y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam/welcome/profile",children:[y.jsx("i",{className:`fa-solid fa-user ${ia.i}`}),y.jsx("span",{children:"Profile"})]})}),y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam/about",children:[y.jsx("i",{className:`fa-solid fa-suitcase ${ia.i}`}),y.jsx("span",{children:"Jobs"})]})}),y.jsx("li",{children:y.jsxs(_e,{onClick:u,to:"#",children:[y.jsx("i",{className:`fa-solid fa-circle-xmark ${ia.i}`}),y.jsx("span",{children:"Logout"})]})}),y.jsx("li",{children:y.jsx(_e,{to:"/react-regular-exam/welcome/post",children:y.jsx("span",{children:"Post"})})})]}),y.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Guest"}),y.jsx("p",{children:n})]})}function UO(){const r=B.useRef(null);return y.jsxs("div",{className:LE.container,children:[y.jsx(LO,{}),y.jsx("main",{ref:r,className:LE.main,children:y.jsx(cA,{context:{mainRef:r}})})]})}const zO="_search_gocoj_1",BO="_meta_gocoj_39",HO="_post_gocoj_69",qO="_postWrapper_gocoj_77",FO="_feedback_gocoj_123",GO="_imgWrap_gocoj_151",$O="_modalOverlay_gocoj_169",KO="_modalContent_gocoj_195",QO="_commentBox_gocoj_215",YO="_modalButtons_gocoj_235",XO="_sendBtn_gocoj_245",WO="_closeBtn_gocoj_267",yn={search:zO,meta:BO,post:HO,postWrapper:qO,feedback:FO,imgWrap:GO,modalOverlay:$O,modalContent:KO,commentBox:QO,modalButtons:YO,sendBtn:XO,closeBtn:WO};function ZO(r,e){return y.jsx(y.Fragment,{children:y.jsxs("section",{id:"search",className:yn.search,children:[y.jsx("h3",{children:"What do you need?"}),y.jsx("input",{type:"search",ref:e,name:"search",id:"search",placeholder:"search"}),y.jsx("button",{onClick:r.onSearch,children:"🔍"})]})})}const JO=B.forwardRef(ZO);function eM(r=6){const[e,n]=B.useState(!1),[s,o]=B.useState(1);return{fetchPosts:async(p,_)=>{try{const T=Kh(ni,"posts"),R=(await kp(T)).docs.map(P=>P.data());R.sort((P,L)=>new Date(L.meta.date)-new Date(P.meta.date)),p(R),_(R.slice(0,r))}catch(T){console.error("Грешка при взимане на постовете:",T)}},loadMorePosts:(p,_,T)=>{if(e||_.length>=p.length)return;n(!0);const b=s+1,R=p.slice(s*r,b*r);R.length>0&&(T(P=>[...P,...R]),o(b)),n(!1)},loading:e,handleSearch:(p,_)=>{const T=p.trim().toLowerCase();if(T==="")o(1),_(posts.slice(0,s*r));else{const b=posts.filter(R=>{var P;return(P=R.content)==null?void 0:P.toLowerCase().includes(T)});_(b)}}}}function tM(r,e){B.useEffect(()=>{if(!(r!=null&&r.current))return;const n=()=>{const s=r.current;if(!s)return;const o=s.scrollHeight;s.scrollTop+s.clientHeight+5>=o&&e()};return r.current.addEventListener("scroll",n),()=>{r.current&&r.current.removeEventListener("scroll",n)}},[r,e])}function nM(){const r=vs();return{handleDetailsClick:n=>{r(`/react-regular-exam/welcome/${n}/details`,{state:{postId:n}})}}}const Gt=[];for(let r=0;r<256;++r)Gt.push((r+256).toString(16).slice(1));function iM(r,e=0){return(Gt[r[e+0]]+Gt[r[e+1]]+Gt[r[e+2]]+Gt[r[e+3]]+"-"+Gt[r[e+4]]+Gt[r[e+5]]+"-"+Gt[r[e+6]]+Gt[r[e+7]]+"-"+Gt[r[e+8]]+Gt[r[e+9]]+"-"+Gt[r[e+10]]+Gt[r[e+11]]+Gt[r[e+12]]+Gt[r[e+13]]+Gt[r[e+14]]+Gt[r[e+15]]).toLowerCase()}let vm;const rM=new Uint8Array(16);function sM(){if(!vm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");vm=crypto.getRandomValues.bind(crypto)}return vm(rM)}const aM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),UE={randomUUID:aM};function Uw(r,e,n){var o;if(UE.randomUUID&&!r)return UE.randomUUID();r=r||{};const s=r.random??((o=r.rng)==null?void 0:o.call(r))??sM();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,iM(s)}function oM(){return{handleLike:async e=>{try{const s=JSON.parse(ef()).name,u=(await jw(e)).feedback.likedPeople;if(!u){await VE(e,s);return}if(u.filter(m=>m===s).length>0)return alert("You  can like only once");await VE(e,s)}catch(n){alert("Error adding like: "+n.message)}}}}function lM(){return{handleView:async e=>{try{await iO(e)}catch(n){alert("Error adding like: "+n.message)}}}}function uM(){const[r,e]=B.useState([]),[n,s]=B.useState([]),o=B.useRef(),{fetchPosts:u,loadMorePosts:f,loading:m,handleSearch:p}=eM(),{mainRef:_}=Yb(),{handleDetailsClick:T}=nM(),{handleView:b}=lM(),{handleLike:R}=oM(),P=async K=>{const ae=K.target.closest("#closestID").getAttribute("data-key");await b(ae),T(ae)};B.useEffect(()=>{(async()=>{await u(e,s)})()},[]);const L=()=>{o.current&&p(o.current.value)};tM(_,()=>f(r,n,s));const X=K=>{const ae=K.target.closest("#closestID").getAttribute("data-key"),pe=document.getElementById(ae);pe.style.display="block"},F=K=>{const ae=K.target.closest("#closestID").getAttribute("data-key"),pe=document.getElementById(ae);pe.style.display="none"},Y=async K=>{const re=K.target.closest("#closestID"),ae=re.getAttribute("data-key"),pe=JSON.parse(ef()),M={id:Uw(),author:pe.name,text:re.querySelector("textarea").value,date:new Date().toLocaleString()};if(re.querySelector("textarea").value="",!M.text)return alert("Your reply is empty!");await Vw(ae,M);const C=document.getElementById(ae);C.style.display="none";const A=await jE();A&&s(A)},ne=async K=>{const ae=K.target.closest("#closestID").getAttribute("data-key");await R(ae);const pe=await jE();pe&&s(pe)};return y.jsxs(y.Fragment,{children:[y.jsx(JO,{ref:o,onSearch:L}),y.jsx("section",{id:"posts",className:yn.posts,children:n.length>0?n.map(K=>y.jsxs("div",{id:"closestID","data-key":K.id,className:yn.postWrapper,children:[y.jsx("div",{onClick:re=>P(re),className:yn.post,children:y.jsxs("div",{className:yn.imgWrap,children:[y.jsxs("div",{className:yn.meta,children:[y.jsx("img",{src:K.meta.img||K.meta.avatar||"https://example.com/default-avatar.jpg",alt:"Profile"}),y.jsx("h4",{children:K.meta.author}),y.jsx("p",{children:K.meta.date})]}),y.jsx("p",{children:K.content}),y.jsx("img",{src:K.img||"https://example.com/default-avatar.jpg",alt:"Img or Video"})]})},K.id),y.jsxs("div",{className:yn.feedback,children:[y.jsxs("p",{onClick:re=>X(re),children:[y.jsx("i",{className:"fa-regular fa-comment"}),y.jsx("span",{children:K.feedback.comments})]}),y.jsxs("p",{onClick:re=>ne(re),children:[y.jsx("i",{className:"fa-regular fa-heart"}),y.jsx("span",{children:K.feedback.likes})]}),y.jsxs("p",{onClick:re=>P(re),children:[y.jsx("i",{className:"fa-solid fa-magnifying-glass"}),y.jsx("span",{children:K.feedback.views})]})]}),y.jsx("div",{"data-key":K.id,id:K.id,style:{display:"none"},className:yn.modalOverlay,children:y.jsxs("div",{className:yn.modalContent,onClick:re=>re.stopPropagation(),children:[y.jsx("textarea",{className:yn.commentBox,placeholder:"Post your reply"}),y.jsxs("div",{className:yn.modalButtons,children:[y.jsx("button",{className:yn.sendBtn,onClick:re=>Y(re),children:"Reply"}),y.jsx("button",{className:yn.closeBtn,onClick:re=>F(re),children:"X"})]})]})})]},K.id)):y.jsx("p",{children:"No posts found"})}),m&&y.jsx("p",{className:yn.loading,children:"Loading more posts..."})]})}function cM({children:r}){const e=kw(),n=vs();return B.useEffect(()=>{if(!e)return n("/react-regular-exam")}),y.jsx(y.Fragment,{children:r})}const hM="_postFormContainer_19kdp_3",fM="_postForm_19kdp_3",dM="_avatar_19kdp_43",mM="_formContent_19kdp_57",pM="_textarea_19kdp_71",gM="_mediaPreview_19kdp_93",_M="_footer_19kdp_117",yM="_mediaButton_19kdp_133",vM="_button_19kdp_161",EM="_removeButton_19kdp_191",vi={postFormContainer:hM,postForm:fM,avatar:dM,formContent:mM,textarea:pM,mediaPreview:gM,footer:_M,mediaButton:yM,button:vM,removeButton:EM};function TM(){const[r,e]=B.useState(null),[n,s]=B.useState(null),o=B.useRef(null),u=B.useRef(null),{formData:f}=B.useContext(ma),m=T=>{const b=T.target.files[0];if(b){const R=URL.createObjectURL(b);e(b),s(R)}},p=()=>{e(null),u.current&&(u.current.value="")},_=async T=>{T.preventDefault();const b=o.current.value.trim();if(!b)return;const R={content:b,feedback:{comments:0,likes:0,views:0},img:r,meta:{author:f.name,date:new Date().toLocaleString(),avatar:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg"},comments:[]};await nO(R),o.current.value="",e(null),u.current&&(u.current.value="")};return y.jsx("div",{className:vi.postFormContainer,children:y.jsxs("div",{className:vi.postForm,children:[y.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"User avatar",className:vi.avatar}),y.jsxs("form",{onSubmit:_,className:vi.formContent,children:[y.jsx("textarea",{ref:o,placeholder:"What's happening?",className:vi.textarea}),r&&y.jsx("div",{className:vi.mediaPreview,children:y.jsx("img",{src:n,alt:"Uploaded media preview"})}),y.jsxs("div",{className:vi.footer,children:[y.jsxs("label",{className:vi.mediaButton,children:["📷 Add Media",y.jsx("input",{type:"file",accept:"image/*",onChange:m,hidden:!0,ref:u})]}),r&&y.jsx("button",{type:"button",onClick:p,className:vi.removeButton,children:"❌ Remove"}),y.jsx("button",{type:"submit",className:vi.button,children:"Post"})]})]})]})})}const wM="_container_4dbl9_1",SM="_text_4dbl9_19",bM="_link_4dbl9_31",Zc={container:wM,text:SM,link:bM},AM=()=>{const[r,e]=B.useState(!1);return B.useEffect(()=>{const n=()=>{kw()};n(),n&&e(!0)},[]),y.jsxs("div",{className:Zc.container,children:[y.jsx("h1",{className:Zc.text,children:"Under Construction"}),r?y.jsx(_e,{to:"/react-regular-exam/welcome",className:Zc.link,children:"Go Back"}):y.jsx(_e,{to:"/react-regular-exam",className:Zc.link,children:"Go Back"})]})},RM="_post_9dogl_1",CM="_meta_9dogl_17",IM="_imgWrap_9dogl_55",xM="_feedback_9dogl_91",NM="_actions_9dogl_117",DM="_editButton_9dogl_129",OM="_deleteButton_9dogl_129",MM="_commentSection_9dogl_161",PM="_commentInput_9dogl_175",kM="_commentButton_9dogl_191",VM="_commentsContainer_9dogl_211",jM="_comment_9dogl_161",LM="_commentHeader_9dogl_249",UM="_commentDate_9dogl_285",zM="_commentText_9dogl_295",BM="_noComments_9dogl_305",Jt={post:RM,meta:CM,imgWrap:IM,feedback:xM,actions:NM,editButton:DM,deleteButton:OM,commentSection:MM,commentInput:PM,commentButton:kM,commentsContainer:VM,comment:jM,commentHeader:LM,commentDate:UM,commentText:zM,noComments:BM};function HM(){const e=JSON.parse(ef()).name;return{handleComment:async(s,o)=>{const u=s.id,f={id:Uw(),author:e,text:o.current.value,date:new Date().toLocaleString()};return o.current.value="",f.text?(await Vw(u,f),f):alert("Your reply is empty!")}}}function qM(){var _;const r=ys(),{handleComment:e}=HM(),n=(_=r.state)==null?void 0:_.postId,s=B.useRef(),[o,u]=B.useState(null),[f,m]=B.useState([]);if(!n)return y.jsx("p",{children:"No post data found"});const p=async()=>{const T=await e(o,s);T&&m(b=>[...b,T])};return B.useEffect(()=>{(async()=>{const b=await jw(n);u(b)})()},[f]),y.jsxs(y.Fragment,{children:[o?y.jsxs("div",{className:Jt.post,children:[y.jsxs("div",{className:Jt.imgWrap,children:[y.jsxs("div",{className:Jt.meta,children:[y.jsx("img",{src:o.meta.img||o.meta.avatar||"https://example.com/default-avatar.jpg",alt:"Profile"}),y.jsx("h4",{children:o.meta.author}),y.jsx("p",{children:o.meta.date})]}),y.jsx("p",{children:o.content}),y.jsx("img",{src:o.img||"https://example.com/default-avatar.jpg",alt:"Img or Video"})]}),y.jsxs("div",{className:Jt.feedback,children:[y.jsxs("p",{children:[y.jsx("i",{className:"fa-regular fa-comment"}),y.jsx("span",{children:o.feedback.comments})]}),y.jsxs("p",{children:[y.jsx("i",{className:"fa-regular fa-heart"}),y.jsx("span",{children:o.feedback.likes})]}),y.jsxs("p",{children:[y.jsx("i",{className:"fa-solid fa-magnifying-glass"}),y.jsx("span",{children:o.feedback.views})]})]}),y.jsxs("div",{className:Jt.actions,children:[y.jsx("button",{className:Jt.editButton,onClick:()=>handleEdit(n.id),children:"Edit"}),y.jsx("button",{className:Jt.deleteButton,onClick:()=>handleDelete(n.id),children:"Delete"})]}),y.jsxs("div",{className:Jt.commentSection,children:[y.jsx("textarea",{ref:s,placeholder:"Post your reply",className:Jt.commentInput}),y.jsx("button",{className:Jt.commentButton,onClick:()=>p(),children:"Reply"})]})]},o.id):y.jsx("p",{children:"Loading post data..."}),o?y.jsx("div",{className:Jt.commentsContainer,children:o.comments&&o.comments.length>0?o.comments.map(T=>y.jsxs("div",{className:Jt.comment,children:[y.jsxs("div",{className:Jt.commentHeader,children:[y.jsx("h5",{children:T.data.author}),y.jsx("p",{className:Jt.commentDate,children:T.data.date})]}),y.jsx("p",{className:Jt.commentText,children:T.data.text})]},T.data.id)):y.jsx("p",{className:Jt.noComments,children:"No comments yet. Be the first to reply!"})}):y.jsx("p",{children:"Loading post data..."})]})}const FM="_profileContainer_12vov_1",GM="_header_12vov_19",$M="_coverPhoto_12vov_27",KM="_profileInfo_12vov_39",QM="_avatar_12vov_51",YM="_details_12vov_67",XM="_name_12vov_75",WM="_username_12vov_87",ZM="_bio_12vov_95",JM="_content_12vov_105",eP="_posts_12vov_113",tP="_post_12vov_113",nP="_editProfile_12vov_139",gn={profileContainer:FM,header:GM,coverPhoto:$M,profileInfo:KM,avatar:QM,details:YM,name:XM,username:WM,bio:ZM,content:JM,posts:eP,post:tP,editProfile:nP};function iP(){return y.jsxs("div",{className:gn.profileContainer,children:[y.jsxs("div",{className:gn.header,children:[y.jsx("div",{className:gn.coverPhoto}),y.jsxs("div",{className:gn.profileInfo,children:[y.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Profile",className:gn.avatar}),y.jsxs("div",{className:gn.details,children:[y.jsx("h2",{className:gn.name,children:"Име на потребителя"}),y.jsx("p",{className:gn.username,children:"@username"}),y.jsx("p",{className:gn.bio,children:"Тук може да бъде вашата биография..."})]}),y.jsx(_e,{to:"/react-regular-exam/welcome/profile/edit",className:gn.editProfile,children:"Edit"})]})]}),y.jsxs("div",{className:gn.content,children:[y.jsx("h3",{children:"Публикации"}),y.jsxs("div",{className:gn.posts,children:[y.jsx("div",{className:gn.post,children:"Това е примерна публикация."}),y.jsx("div",{className:gn.post,children:"Още една публикация..."})]})]})]})}const rP="_editProfileContainer_anoxf_1",sP="_editProfileTitle_anoxf_21",aP="_editProfileForm_anoxf_31",oP="_editProfileLabel_anoxf_43",lP="_editProfileInput_anoxf_55",uP="_editProfileTextarea_anoxf_57",cP="_editProfileSelect_anoxf_59",hP="_editProfileSaveButton_anoxf_87",fP="_imageUploadContainer_anoxf_123",dP="_coverPhotoLabel_anoxf_139",mP="_profileImageLabel_anoxf_141",pP="_coverPhotoPreview_anoxf_159",gP="_profileImagePreview_anoxf_175",_P="_birthdateContainer_anoxf_195",yP="_checkboxContainer_anoxf_219",tt={editProfileContainer:rP,editProfileTitle:sP,editProfileForm:aP,editProfileLabel:oP,editProfileInput:lP,editProfileTextarea:uP,editProfileSelect:cP,editProfileSaveButton:hP,imageUploadContainer:fP,coverPhotoLabel:dP,profileImageLabel:mP,coverPhotoPreview:pP,profileImagePreview:gP,birthdateContainer:_P,checkboxContainer:yP},vP=()=>{const[r,e]=B.useState(""),[n,s]=B.useState(""),[o,u]=B.useState(""),[f,m]=B.useState(""),[p,_]=B.useState(""),[T,b]=B.useState("1"),[R,P]=B.useState("January"),[L,X]=B.useState("2025"),[F,Y]=B.useState(null),[ne,K]=B.useState(null),[re,ae]=B.useState({connect:!1,more:!1,ads:!1}),pe=(D,x)=>{const lt=D.target.files[0];lt&&x(URL.createObjectURL(lt))},M=D=>{ae({...re,[D.target.name]:D.target.checked})},C=D=>{D.preventDefault(),console.log("Saved:",{name:r,email:n,bio:o,password:f,day:T,month:R,year:L,preferences:re,profileImage:F,coverPhoto:ne})},A=Array.from({length:31},(D,x)=>x+1),N=["January","February","March","April","May","June","July","August","September","October","November","December"],V=Array.from({length:121},(D,x)=>2025-x);return y.jsxs("div",{className:tt.editProfileContainer,children:[y.jsx("h2",{className:tt.editProfileTitle,children:"Edit Profile"}),y.jsxs("form",{onSubmit:C,className:tt.editProfileForm,children:[y.jsxs("div",{className:tt.imageUploadContainer,children:[y.jsxs("label",{className:tt.coverPhotoLabel,children:["Cover Photo:",y.jsx("input",{type:"file",accept:"image/*",onChange:D=>pe(D,K)}),ne&&y.jsx("img",{src:ne,alt:"Cover",className:tt.coverPhotoPreview})]}),y.jsxs("label",{className:tt.profileImageLabel,children:["Profile Image:",y.jsx("input",{type:"file",accept:"image/*",onChange:D=>pe(D,Y)}),F&&y.jsx("img",{src:F,alt:"Profile",className:tt.profileImagePreview})]})]}),y.jsxs("label",{className:tt.editProfileLabel,children:["Name:",y.jsx("input",{type:"text",value:r,onChange:D=>e(D.target.value),className:tt.editProfileInput})]}),y.jsxs("label",{className:tt.editProfileLabel,children:["Email:",y.jsx("input",{type:"email",value:n,onChange:D=>s(D.target.value),className:tt.editProfileInput})]}),y.jsxs("label",{className:tt.editProfileLabel,children:["Bio:",y.jsx("textarea",{value:o,onChange:D=>u(D.target.value),className:tt.editProfileTextarea})]}),y.jsxs("label",{className:tt.editProfileLabel,children:["Password:",y.jsx("input",{type:"password",value:f,onChange:D=>m(D.target.value),className:tt.editProfileInput})]}),y.jsxs("label",{className:tt.editProfileLabel,children:["Confirm Password:",y.jsx("input",{type:"password",value:p,onChange:D=>_(D.target.value),className:tt.editProfileInput})]}),y.jsxs("div",{className:tt.birthdateContainer,children:[y.jsx("select",{value:T,onChange:D=>b(D.target.value),className:tt.editProfileSelect,children:A.map(D=>y.jsx("option",{children:D},D))}),y.jsx("select",{value:R,onChange:D=>P(D.target.value),className:tt.editProfileSelect,children:N.map(D=>y.jsx("option",{children:D},D))}),y.jsx("select",{value:L,onChange:D=>X(D.target.value),className:tt.editProfileSelect,children:V.map(D=>y.jsx("option",{children:D},D))})]}),y.jsxs("div",{className:tt.checkboxContainer,children:[y.jsxs("label",{children:[y.jsx("input",{type:"checkbox",name:"connect",checked:re.connect,onChange:M})," Connect"]}),y.jsxs("label",{children:[y.jsx("input",{type:"checkbox",name:"more",checked:re.more,onChange:M})," More"]}),y.jsxs("label",{children:[y.jsx("input",{type:"checkbox",name:"ads",checked:re.ads,onChange:M})," Ads"]})]}),y.jsx("button",{type:"submit",className:tt.editProfileSaveButton,children:"Save"})]})]})};function EP(){return y.jsx(V2,{children:y.jsxs(fA,{children:[y.jsx(_n,{path:"/react-regular-exam/about",element:y.jsx(AM,{})}),y.jsx(_n,{path:"/react-regular-exam",element:y.jsx(sR,{})}),y.jsx(_n,{path:"/react-regular-exam/guest",element:y.jsx(T2,{})}),y.jsx(_n,{path:"/react-regular-exam/login",element:y.jsx(j2,{})}),y.jsx(_n,{path:"/react-regular-exam/login/pass",element:y.jsx(lO,{})}),y.jsx(_n,{path:"/react-regular-exam/create",element:y.jsx(AO,{})}),y.jsx(_n,{path:"/react-regular-exam/create/submit",element:y.jsx(MO,{})}),y.jsxs(_n,{path:"/react-regular-exam/welcome",element:y.jsx(cM,{children:y.jsx(UO,{})}),children:[y.jsx(_n,{index:!0,element:y.jsx(uM,{})}),y.jsx(_n,{path:":postId/details",element:y.jsx(qM,{})}),y.jsx(_n,{path:"post",element:y.jsx(TM,{})}),y.jsx(_n,{path:"profile",element:y.jsx(iP,{})}),y.jsx(_n,{path:"profile/edit",element:y.jsx(vP,{})})]})]})})}vb.createRoot(document.getElementById("root")).render(y.jsx(B.StrictMode,{children:y.jsx(kA,{children:y.jsx(EP,{})})}));
