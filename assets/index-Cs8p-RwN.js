(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var im={exports:{}},Ul={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function fb(){if(Jy)return Ul;Jy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Ul.Fragment=e,Ul.jsx=n,Ul.jsxs=n,Ul}var ev;function db(){return ev||(ev=1,im.exports=fb()),im.exports}var y=db(),rm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tv;function mb(){if(tv)return Ce;tv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.iterator;function R(P){return P===null||typeof P!="object"?null:(P=b&&P[b]||P["@@iterator"],typeof P=="function"?P:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,$={};function q(P,ne,de){this.props=P,this.context=ne,this.refs=$,this.updater=de||M}q.prototype.isReactComponent={},q.prototype.setState=function(P,ne){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,ne,"setState")},q.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function Y(){}Y.prototype=q.prototype;function te(P,ne,de){this.props=P,this.context=ne,this.refs=$,this.updater=de||M}var K=te.prototype=new Y;K.constructor=te,L(K,q.prototype),K.isPureReactComponent=!0;var re=Array.isArray,se={H:null,A:null,T:null,S:null},fe=Object.prototype.hasOwnProperty;function D(P,ne,de,oe,le,Ie){return de=Ie.ref,{$$typeof:r,type:P,key:ne,ref:de!==void 0?de:null,props:Ie}}function C(P,ne){return D(P.type,ne,void 0,void 0,void 0,P.props)}function A(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function N(P){var ne={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(de){return ne[de]})}var V=/\/+/g;function O(P,ne){return typeof P=="object"&&P!==null&&P.key!=null?N(""+P.key):ne.toString(36)}function x(){}function lt(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(x,x):(P.status="pending",P.then(function(ne){P.status==="pending"&&(P.status="fulfilled",P.value=ne)},function(ne){P.status==="pending"&&(P.status="rejected",P.reason=ne)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function yt(P,ne,de,oe,le){var Ie=typeof P;(Ie==="undefined"||Ie==="boolean")&&(P=null);var Re=!1;if(P===null)Re=!0;else switch(Ie){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(P.$$typeof){case r:case e:Re=!0;break;case T:return Re=P._init,yt(Re(P._payload),ne,de,oe,le)}}if(Re)return le=le(P),Re=oe===""?"."+O(P,0):oe,re(le)?(de="",Re!=null&&(de=Re.replace(V,"$&/")+"/"),yt(le,ne,de,"",function(ut){return ut})):le!=null&&(A(le)&&(le=C(le,de+(le.key==null||P&&P.key===le.key?"":(""+le.key).replace(V,"$&/")+"/")+Re)),ne.push(le)),1;Re=0;var vt=oe===""?".":oe+":";if(re(P))for(var Be=0;Be<P.length;Be++)oe=P[Be],Ie=vt+O(oe,Be),Re+=yt(oe,ne,de,Ie,le);else if(Be=R(P),typeof Be=="function")for(P=Be.call(P),Be=0;!(oe=P.next()).done;)oe=oe.value,Ie=vt+O(oe,Be++),Re+=yt(oe,ne,de,Ie,le);else if(Ie==="object"){if(typeof P.then=="function")return yt(lt(P),ne,de,oe,le);throw ne=String(P),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Re}function ae(P,ne,de){if(P==null)return P;var oe=[],le=0;return yt(P,oe,"","",function(Ie){return ne.call(de,Ie,le++)}),oe}function Te(P){if(P._status===-1){var ne=P._result;ne=ne(),ne.then(function(de){(P._status===0||P._status===-1)&&(P._status=1,P._result=de)},function(de){(P._status===0||P._status===-1)&&(P._status=2,P._result=de)}),P._status===-1&&(P._status=0,P._result=ne)}if(P._status===1)return P._result.default;throw P._result}var ge=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function Ge(){}return Ce.Children={map:ae,forEach:function(P,ne,de){ae(P,function(){ne.apply(this,arguments)},de)},count:function(P){var ne=0;return ae(P,function(){ne++}),ne},toArray:function(P){return ae(P,function(ne){return ne})||[]},only:function(P){if(!A(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ce.Component=q,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=te,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,Ce.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ce.cache=function(P){return function(){return P.apply(null,arguments)}},Ce.cloneElement=function(P,ne,de){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var oe=L({},P.props),le=P.key,Ie=void 0;if(ne!=null)for(Re in ne.ref!==void 0&&(Ie=void 0),ne.key!==void 0&&(le=""+ne.key),ne)!fe.call(ne,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ne.ref===void 0||(oe[Re]=ne[Re]);var Re=arguments.length-2;if(Re===1)oe.children=de;else if(1<Re){for(var vt=Array(Re),Be=0;Be<Re;Be++)vt[Be]=arguments[Be+2];oe.children=vt}return D(P.type,le,void 0,void 0,Ie,oe)},Ce.createContext=function(P){return P={$$typeof:f,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Ce.createElement=function(P,ne,de){var oe,le={},Ie=null;if(ne!=null)for(oe in ne.key!==void 0&&(Ie=""+ne.key),ne)fe.call(ne,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(le[oe]=ne[oe]);var Re=arguments.length-2;if(Re===1)le.children=de;else if(1<Re){for(var vt=Array(Re),Be=0;Be<Re;Be++)vt[Be]=arguments[Be+2];le.children=vt}if(P&&P.defaultProps)for(oe in Re=P.defaultProps,Re)le[oe]===void 0&&(le[oe]=Re[oe]);return D(P,Ie,void 0,void 0,null,le)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(P){return{$$typeof:m,render:P}},Ce.isValidElement=A,Ce.lazy=function(P){return{$$typeof:T,_payload:{_status:-1,_result:P},_init:Te}},Ce.memo=function(P,ne){return{$$typeof:_,type:P,compare:ne===void 0?null:ne}},Ce.startTransition=function(P){var ne=se.T,de={};se.T=de;try{var oe=P(),le=se.S;le!==null&&le(de,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Ge,ge)}catch(Ie){ge(Ie)}finally{se.T=ne}},Ce.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},Ce.use=function(P){return se.H.use(P)},Ce.useActionState=function(P,ne,de){return se.H.useActionState(P,ne,de)},Ce.useCallback=function(P,ne){return se.H.useCallback(P,ne)},Ce.useContext=function(P){return se.H.useContext(P)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(P,ne){return se.H.useDeferredValue(P,ne)},Ce.useEffect=function(P,ne){return se.H.useEffect(P,ne)},Ce.useId=function(){return se.H.useId()},Ce.useImperativeHandle=function(P,ne,de){return se.H.useImperativeHandle(P,ne,de)},Ce.useInsertionEffect=function(P,ne){return se.H.useInsertionEffect(P,ne)},Ce.useLayoutEffect=function(P,ne){return se.H.useLayoutEffect(P,ne)},Ce.useMemo=function(P,ne){return se.H.useMemo(P,ne)},Ce.useOptimistic=function(P,ne){return se.H.useOptimistic(P,ne)},Ce.useReducer=function(P,ne,de){return se.H.useReducer(P,ne,de)},Ce.useRef=function(P){return se.H.useRef(P)},Ce.useState=function(P){return se.H.useState(P)},Ce.useSyncExternalStore=function(P,ne,de){return se.H.useSyncExternalStore(P,ne,de)},Ce.useTransition=function(){return se.H.useTransition()},Ce.version="19.0.0",Ce}var nv;function Xm(){return nv||(nv=1,rm.exports=mb()),rm.exports}var z=Xm(),sm={exports:{}},zl={},am={exports:{}},om={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iv;function pb(){return iv||(iv=1,function(r){function e(ae,Te){var ge=ae.length;ae.push(Te);e:for(;0<ge;){var Ge=ge-1>>>1,P=ae[Ge];if(0<o(P,Te))ae[Ge]=Te,ae[ge]=P,ge=Ge;else break e}}function n(ae){return ae.length===0?null:ae[0]}function s(ae){if(ae.length===0)return null;var Te=ae[0],ge=ae.pop();if(ge!==Te){ae[0]=ge;e:for(var Ge=0,P=ae.length,ne=P>>>1;Ge<ne;){var de=2*(Ge+1)-1,oe=ae[de],le=de+1,Ie=ae[le];if(0>o(oe,ge))le<P&&0>o(Ie,oe)?(ae[Ge]=Ie,ae[le]=ge,Ge=le):(ae[Ge]=oe,ae[de]=ge,Ge=de);else if(le<P&&0>o(Ie,ge))ae[Ge]=Ie,ae[le]=ge,Ge=le;else break e}}return Te}function o(ae,Te){var ge=ae.sortIndex-Te.sortIndex;return ge!==0?ge:ae.id-Te.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],_=[],T=1,b=null,R=3,M=!1,L=!1,$=!1,q=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function K(ae){for(var Te=n(_);Te!==null;){if(Te.callback===null)s(_);else if(Te.startTime<=ae)s(_),Te.sortIndex=Te.expirationTime,e(p,Te);else break;Te=n(_)}}function re(ae){if($=!1,K(ae),!L)if(n(p)!==null)L=!0,lt();else{var Te=n(_);Te!==null&&yt(re,Te.startTime-ae)}}var se=!1,fe=-1,D=5,C=-1;function A(){return!(r.unstable_now()-C<D)}function N(){if(se){var ae=r.unstable_now();C=ae;var Te=!0;try{e:{L=!1,$&&($=!1,Y(fe),fe=-1),M=!0;var ge=R;try{t:{for(K(ae),b=n(p);b!==null&&!(b.expirationTime>ae&&A());){var Ge=b.callback;if(typeof Ge=="function"){b.callback=null,R=b.priorityLevel;var P=Ge(b.expirationTime<=ae);if(ae=r.unstable_now(),typeof P=="function"){b.callback=P,K(ae),Te=!0;break t}b===n(p)&&s(p),K(ae)}else s(p);b=n(p)}if(b!==null)Te=!0;else{var ne=n(_);ne!==null&&yt(re,ne.startTime-ae),Te=!1}}break e}finally{b=null,R=ge,M=!1}Te=void 0}}finally{Te?V():se=!1}}}var V;if(typeof te=="function")V=function(){te(N)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,x=O.port2;O.port1.onmessage=N,V=function(){x.postMessage(null)}}else V=function(){q(N,0)};function lt(){se||(se=!0,V())}function yt(ae,Te){fe=q(function(){ae(r.unstable_now())},Te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ae){ae.callback=null},r.unstable_continueExecution=function(){L||M||(L=!0,lt())},r.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<ae?Math.floor(1e3/ae):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(ae){switch(R){case 1:case 2:case 3:var Te=3;break;default:Te=R}var ge=R;R=Te;try{return ae()}finally{R=ge}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ae,Te){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ge=R;R=ae;try{return Te()}finally{R=ge}},r.unstable_scheduleCallback=function(ae,Te,ge){var Ge=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ge+ge:Ge):ge=Ge,ae){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=ge+P,ae={id:T++,callback:Te,priorityLevel:ae,startTime:ge,expirationTime:P,sortIndex:-1},ge>Ge?(ae.sortIndex=ge,e(_,ae),n(p)===null&&ae===n(_)&&($?(Y(fe),fe=-1):$=!0,yt(re,ge-Ge))):(ae.sortIndex=P,e(p,ae),L||M||(L=!0,lt())),ae},r.unstable_shouldYield=A,r.unstable_wrapCallback=function(ae){var Te=R;return function(){var ge=R;R=Te;try{return ae.apply(this,arguments)}finally{R=ge}}}}(om)),om}var rv;function gb(){return rv||(rv=1,am.exports=pb()),am.exports}var lm={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sv;function _b(){if(sv)return Wt;sv=1;var r=Xm();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,_,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:_,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(p,_,null,T)},Wt.flushSync=function(p){var _=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=_,s.p=T,s.d.f()}},Wt.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,b=m(T,_.crossOrigin),R=typeof _.integrity=="string"?_.integrity:void 0,M=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:R,fetchPriority:M}):T==="script"&&s.d.X(p,{crossOrigin:b,integrity:R,fetchPriority:M,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Wt.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=m(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},Wt.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,b=m(T,_.crossOrigin);s.d.L(p,T,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Wt.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=m(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,_){return p(_)},Wt.useFormState=function(p,_,T){return f.H.useFormState(p,_,T)},Wt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Wt.version="19.0.0",Wt}var av;function yb(){if(av)return lm.exports;av=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),lm.exports=_b(),lm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ov;function vb(){if(ov)return zl;ov=1;var r=gb(),e=Xm(),n=yb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),M=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),re=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function fe(t){return t===null||typeof t!="object"?null:(t=se&&t[se]||t["@@iterator"],typeof t=="function"?t:null)}var D=Symbol.for("react.client.reference");function C(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===D?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case T:return"Profiler";case _:return"StrictMode";case $:return"Suspense";case q:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case M:return(t.displayName||"Context")+".Provider";case R:return(t._context.displayName||"Context")+".Consumer";case L:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return i=t.displayName||null,i!==null?i:C(t.type)||"Memo";case te:i=t._payload,t=t._init;try{return C(t(i))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N=Object.assign,V,O;function x(t){if(V===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);V=i&&i[1]||"",O=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+t+O}var lt=!1;function yt(t,i){if(!t||lt)return"";lt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Q){var F=Q}Reflect.construct(t,[],J)}else{try{J.call()}catch(Q){F=Q}t.call(J.prototype)}}else{try{throw Error()}catch(Q){F=Q}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Q){if(Q&&F&&typeof Q.stack=="string")return[Q.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],w=d[1];if(E&&w){var I=E.split(`
`),j=w.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===j.length)for(l=I.length-1,h=j.length-1;1<=l&&0<=h&&I[l]!==j[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==j[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==j[h]){var X=`
`+I[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{lt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?x(a):""}function ae(t){switch(t.tag){case 26:case 27:case 5:return x(t.type);case 16:return x("Lazy");case 13:return x("Suspense");case 19:return x("SuspenseList");case 0:case 15:return t=yt(t.type,!1),t;case 11:return t=yt(t.type.render,!1),t;case 1:return t=yt(t.type,!0),t;default:return""}}function Te(t){try{var i="";do i+=ae(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ge(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function Ge(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function P(t){if(ge(t)!==t)throw Error(s(188))}function ne(t){var i=t.alternate;if(!i){if(i=ge(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return P(h),t;if(d===l)return P(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,w=h.child;w;){if(w===a){E=!0,a=h,l=d;break}if(w===l){E=!0,l=h,a=d;break}w=w.sibling}if(!E){for(w=d.child;w;){if(w===a){E=!0,a=d,l=h;break}if(w===l){E=!0,l=d,a=h;break}w=w.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function de(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=de(t),i!==null)return i;t=t.sibling}return null}var oe=Array.isArray,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},Re=[],vt=-1;function Be(t){return{current:t}}function ut(t){0>vt||(t.current=Re[vt],Re[vt]=null,vt--)}function Qe(t,i){vt++,Re[vt]=t.current,t.current=i}var sn=Be(null),Pi=Be(null),On=Be(null),Er=Be(null);function Tr(t,i){switch(Qe(On,i),Qe(Pi,t),Qe(sn,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Iy(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=Iy(t),i=xy(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ut(sn),Qe(sn,i)}function ki(){ut(sn),ut(Pi),ut(On)}function Po(t){t.memoizedState!==null&&Qe(Er,t);var i=sn.current,a=xy(i,t.type);i!==a&&(Qe(Pi,t),Qe(sn,a))}function _a(t){Pi.current===t&&(ut(sn),ut(Pi)),Er.current===t&&(ut(Er),Pl._currentValue=Ie)}var ya=Object.prototype.hasOwnProperty,Rs=r.unstable_scheduleCallback,va=r.unstable_cancelCallback,sf=r.unstable_shouldYield,ko=r.unstable_requestPaint,mn=r.unstable_now,Cu=r.unstable_getCurrentPriorityLevel,bt=r.unstable_ImmediatePriority,Mt=r.unstable_UserBlockingPriority,Vi=r.unstable_NormalPriority,Iu=r.unstable_LowPriority,Vo=r.unstable_IdlePriority,af=r.log,Cs=r.unstable_setDisableYieldValue,wr=null,Yt=null;function jo(t){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(wr,t,void 0,(t.current.flags&128)===128)}catch{}}function ai(t){if(typeof af=="function"&&Cs(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(wr,t)}catch{}}var an=Math.clz32?Math.clz32:Nu,Lo=Math.log,xu=Math.LN2;function Nu(t){return t>>>=0,t===0?32:31-(Lo(t)/xu|0)|0}var oi=128,Sr=4194304;function Wn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Mn(t,i){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,E=t.warmLanes;t=t.finishedLanes!==0;var w=a&134217727;return w!==0?(a=w&~h,a!==0?l=Wn(a):(d&=w,d!==0?l=Wn(d):t||(E=w&~E,E!==0&&(l=Wn(E))))):(w=a&~h,w!==0?l=Wn(w):d!==0?l=Wn(d):t||(E=a&~E,E!==0&&(l=Wn(E)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,E=i&-i,h>=E||h===32&&(E&4194176)!==0)?i:l}function br(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ea(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Uo(){var t=oi;return oi<<=1,(oi&4194176)===0&&(oi=128),t}function Ar(){var t=Sr;return Sr<<=1,(Sr&62914560)===0&&(Sr=4194304),t}function Ta(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function pt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Du(t,i,a,l,h,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,I=t.expirationTimes,j=t.hiddenUpdates;for(a=E&~a;0<a;){var X=31-an(a),J=1<<X;w[X]=0,I[X]=-1;var F=j[X];if(F!==null)for(j[X]=null,X=0;X<F.length;X++){var Q=F[X];Q!==null&&(Q.lane&=-536870913)}a&=~J}l!==0&&Rr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~i))}function Rr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-an(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function Cr(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-an(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Ou(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Mu(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:Ky(t.type))}function Ir(t,i){var a=le.p;try{return le.p=t,i()}finally{le.p=a}}var li=Math.random().toString(36).slice(2),Pt="__reactFiber$"+li,At="__reactProps$"+li,ji="__reactContainer$"+li,Is="__reactEvents$"+li,wa="__reactListeners$"+li,ui="__reactHandles$"+li,zo="__reactResources$"+li,xr="__reactMarker$"+li;function xs(t){delete t[Pt],delete t[At],delete t[Is],delete t[wa],delete t[ui]}function Zn(t){var i=t[Pt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ji]||a[Pt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Oy(t);t!==null;){if(a=t[Pt])return a;t=Oy(t)}return i}t=a,a=t.parentNode}return null}function Li(t){if(t=t[Pt]||t[ji]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Nr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Dr(t){var i=t[zo];return i||(i=t[zo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function it(t){t[xr]=!0}var Bo=new Set,Sa={};function bn(t,i){pn(t,i),pn(t+"Capture",i)}function pn(t,i){for(Sa[t]=i,t=0;t<i.length;t++)Bo.add(i[t])}var An=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),of=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ho={},qo={};function Pu(t){return ya.call(qo,t)?!0:ya.call(Ho,t)?!1:of.test(t)?qo[t]=!0:(Ho[t]=!0,!1)}function Or(t,i,a){if(Pu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Mr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Pn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function on(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ku(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function lf(t){var i=ku(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ns(t){t._valueTracker||(t._valueTracker=lf(t))}function Fo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=ku(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function ba(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ui=/[\n"\\]/g;function ct(t){return t.replace(Ui,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Pr(t,i,a,l,h,d,E,w){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+on(i)):t.value!==""+on(i)&&(t.value=""+on(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?Aa(t,E,on(i)):a!=null?Aa(t,E,on(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+on(w):t.removeAttribute("name")}function Ds(t,i,a,l,h,d,E,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+on(a):"",i=i!=null?""+on(i):a,w||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function Aa(t,i,a){i==="number"&&ba(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function He(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+on(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Os(t,i,a){if(i!=null&&(i=""+on(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+on(a):""}function kr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=on(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function kn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var uf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Go(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||uf.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Vu(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Go(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Go(t,d,i[d])}function $o(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ci(t){return hf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Vn=null;function Ra(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zi=null,Bi=null;function Hi(t){var i=Li(t);if(i&&(t=i.stateNode)){var a=t[At]||null;e:switch(t=i.stateNode,i.type){case"input":if(Pr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ct(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[At]||null;if(!h)throw Error(s(90));Pr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Fo(l)}break e;case"textarea":Os(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&He(t,!!a.multiple,i,!1)}}}var Ko=!1;function ju(t,i,a){if(Ko)return t(i,a);Ko=!0;try{var l=t(i);return l}finally{if(Ko=!1,(zi!==null||Bi!==null)&&(Ic(),zi&&(i=zi,t=Bi,Bi=zi=null,Hi(i),t)))for(i=0;i<t.length;i++)Hi(t[i])}}function Ms(t,i){var a=t.stateNode;if(a===null)return null;var l=a[At]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var jn=!1;if(An)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){jn=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{jn=!1}var hi=null,Vr=null,qi=null;function Qo(){if(qi)return qi;var t,i=Vr,a=i.length,l,h="value"in hi?hi.value:hi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var E=a-t;for(l=1;l<=E&&i[a-l]===h[d-l];l++);return qi=h.slice(t,1<l?1-l:void 0)}function fi(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function di(){return!0}function Yo(){return!1}function kt(t){function i(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?di:Yo,this.isPropagationStopped=Yo,this}return N(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=di)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=di)},persist:function(){},isPersistent:di}),i}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=kt($e),ks=N({},$e,{view:0,detail:0}),Lu=kt(ks),Ia,xa,mi,Vs=N({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==mi&&(mi&&t.type==="mousemove"?(Ia=t.screenX-mi.screenX,xa=t.screenY-mi.screenY):xa=Ia=0,mi=t),Ia)},movementY:function(t){return"movementY"in t?t.movementY:xa}}),Ln=kt(Vs),Uu=N({},Vs,{dataTransfer:0}),ff=kt(Uu),js=N({},ks,{relatedTarget:0}),Na=kt(js),Xo=N({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),Da=kt(Xo),zu=N({},$e,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Oa=kt(zu),df=N({},$e,{data:0}),Wo=kt(df),Ls={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Hu[t])?!!i[t]:!1}function Us(){return Zo}var qu=N({},ks,{key:function(t){if(t.key){var i=Ls[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=fi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(t){return t.type==="keypress"?fi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?fi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ma=kt(qu),Fu=N({},Vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jo=kt(Fu),Fi=N({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),Gu=kt(Fi),$u=N({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ku=kt($u),Qu=N({},Vs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pa=kt(Qu),ln=N({},$e,{newState:0,oldState:0}),Yu=kt(ln),Xu=[9,13,27,32],pi=An&&"CompositionEvent"in window,c=null;An&&"documentMode"in document&&(c=document.documentMode);var g=An&&"TextEvent"in window&&!c,v=An&&(!pi||c&&8<c&&11>=c),S=" ",B=!1;function G(t,i){switch(t){case"keyup":return Xu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var je=!1;function Rt(t,i){switch(t){case"compositionend":return ie(i);case"keypress":return i.which!==32?null:(B=!0,S);case"textInput":return t=i.data,t===S&&B?null:t;default:return null}}function Le(t,i){if(je)return t==="compositionend"||!pi&&G(t,i)?(t=Qo(),qi=Vr=hi=null,je=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ct(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Vt[t.type]:i==="textarea"}function Gi(t,i,a,l){zi?Bi?Bi.push(l):Bi=[l]:zi=l,i=Mc(i,"onChange"),0<i.length&&(a=new Ca("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Bt=null,gi=null;function el(t){Sy(t,0)}function Wu(t){var i=Nr(t);if(Fo(i))return t}function Zp(t,i){if(t==="change")return i}var Jp=!1;if(An){var mf;if(An){var pf="oninput"in document;if(!pf){var eg=document.createElement("div");eg.setAttribute("oninput","return;"),pf=typeof eg.oninput=="function"}mf=pf}else mf=!1;Jp=mf&&(!document.documentMode||9<document.documentMode)}function tg(){Bt&&(Bt.detachEvent("onpropertychange",ng),gi=Bt=null)}function ng(t){if(t.propertyName==="value"&&Wu(gi)){var i=[];Gi(i,gi,t,Ra(t)),ju(el,i)}}function Hw(t,i,a){t==="focusin"?(tg(),Bt=i,gi=a,Bt.attachEvent("onpropertychange",ng)):t==="focusout"&&tg()}function qw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wu(gi)}function Fw(t,i){if(t==="click")return Wu(i)}function Gw(t,i){if(t==="input"||t==="change")return Wu(i)}function $w(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Rn=typeof Object.is=="function"?Object.is:$w;function tl(t,i){if(Rn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ya.call(i,h)||!Rn(t[h],i[h]))return!1}return!0}function ig(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rg(t,i){var a=ig(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ig(a)}}function sg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?sg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function ag(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ba(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ba(t.document)}return i}function gf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function Kw(t,i){var a=ag(i);i=t.focusedElem;var l=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&sg(i.ownerDocument.documentElement,i)){if(l!==null&&gf(i)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=rg(i,d);var E=rg(i,l);h&&E&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==E.node||a.focusOffset!==E.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(E.node,E.offset)):(t.setEnd(E.node,E.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Qw=An&&"documentMode"in document&&11>=document.documentMode,ka=null,_f=null,nl=null,yf=!1;function og(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;yf||ka==null||ka!==ba(l)||(l=ka,"selectionStart"in l&&gf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),nl&&tl(nl,l)||(nl=l,l=Mc(_f,"onSelect"),0<l.length&&(i=new Ca("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=ka)))}function zs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Va={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},vf={},lg={};An&&(lg=document.createElement("div").style,"AnimationEvent"in window||(delete Va.animationend.animation,delete Va.animationiteration.animation,delete Va.animationstart.animation),"TransitionEvent"in window||delete Va.transitionend.transition);function Bs(t){if(vf[t])return vf[t];if(!Va[t])return t;var i=Va[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in lg)return vf[t]=i[a];return t}var ug=Bs("animationend"),cg=Bs("animationiteration"),hg=Bs("animationstart"),Yw=Bs("transitionrun"),Xw=Bs("transitionstart"),Ww=Bs("transitioncancel"),fg=Bs("transitionend"),dg=new Map,mg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Jn(t,i){dg.set(t,i),bn(i,[t])}var Un=[],ja=0,Ef=0;function Zu(){for(var t=ja,i=Ef=ja=0;i<t;){var a=Un[i];Un[i++]=null;var l=Un[i];Un[i++]=null;var h=Un[i];Un[i++]=null;var d=Un[i];if(Un[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&pg(a,h,d)}}function Ju(t,i,a,l){Un[ja++]=t,Un[ja++]=i,Un[ja++]=a,Un[ja++]=l,Ef|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Tf(t,i,a,l){return Ju(t,i,a,l),ec(t)}function jr(t,i){return Ju(t,null,null,i),ec(t)}function pg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&i!==null&&t.tag===3&&(d=t.stateNode,h=31-an(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[i]:t.push(i),i.lane=a|536870912)}function ec(t){if(50<Cl)throw Cl=0,Cd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var La={},gg=new WeakMap;function zn(t,i){if(typeof t=="object"&&t!==null){var a=gg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Te(i)},gg.set(t,i),i)}return{value:t,source:i,stack:Te(i)}}var Ua=[],za=0,tc=null,nc=0,Bn=[],Hn=0,Hs=null,$i=1,Ki="";function qs(t,i){Ua[za++]=nc,Ua[za++]=tc,tc=t,nc=i}function _g(t,i,a){Bn[Hn++]=$i,Bn[Hn++]=Ki,Bn[Hn++]=Hs,Hs=t;var l=$i;t=Ki;var h=32-an(l)-1;l&=~(1<<h),a+=1;var d=32-an(i)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,$i=1<<32-an(i)+h|a<<h|l,Ki=d+t}else $i=1<<d|a<<h|l,Ki=t}function wf(t){t.return!==null&&(qs(t,1),_g(t,1,0))}function Sf(t){for(;t===tc;)tc=Ua[--za],Ua[za]=null,nc=Ua[--za],Ua[za]=null;for(;t===Hs;)Hs=Bn[--Hn],Bn[Hn]=null,Ki=Bn[--Hn],Bn[Hn]=null,$i=Bn[--Hn],Bn[Hn]=null}var un=null,Ht=null,qe=!1,ei=null,_i=!1,bf=Error(s(519));function Fs(t){var i=Error(s(418,""));throw sl(zn(i,t)),bf}function yg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Pt]=t,i[At]=l,a){case"dialog":ke("cancel",i),ke("close",i);break;case"iframe":case"object":case"embed":ke("load",i);break;case"video":case"audio":for(a=0;a<xl.length;a++)ke(xl[a],i);break;case"source":ke("error",i);break;case"img":case"image":case"link":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"input":ke("invalid",i),Ds(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ns(i);break;case"select":ke("invalid",i);break;case"textarea":ke("invalid",i),kr(i,l.value,l.defaultValue,l.children),Ns(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Cy(i.textContent,a)?(l.popover!=null&&(ke("beforetoggle",i),ke("toggle",i)),l.onScroll!=null&&ke("scroll",i),l.onScrollEnd!=null&&ke("scrollend",i),l.onClick!=null&&(i.onclick=Pc),i=!0):i=!1,i||Fs(t)}function vg(t){for(un=t.return;un;)switch(un.tag){case 3:case 27:_i=!0;return;case 5:case 13:_i=!1;return;default:un=un.return}}function il(t){if(t!==un)return!1;if(!qe)return vg(t),qe=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Fd(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&Ht&&Fs(t),vg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Ht=ni(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Ht=null}}else Ht=un?ni(t.stateNode.nextSibling):null;return!0}function rl(){Ht=un=null,qe=!1}function sl(t){ei===null?ei=[t]:ei.push(t)}var al=Error(s(460)),Eg=Error(s(474)),Af={then:function(){}};function Tg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ic(){}function wg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ic,ic),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===al?Error(s(483)):t;default:if(typeof i.status=="string")i.then(ic,ic);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===al?Error(s(483)):t}throw ol=i,al}}var ol=null;function Sg(){if(ol===null)throw Error(s(459));var t=ol;return ol=null,t}var Ba=null,ll=0;function rc(t){var i=ll;return ll+=1,Ba===null&&(Ba=[]),wg(Ba,t,i)}function ul(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function sc(t,i){throw i.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function bg(t){var i=t._init;return i(t._payload)}function Ag(t){function i(U,k){if(t){var H=U.deletions;H===null?(U.deletions=[k],U.flags|=16):H.push(k)}}function a(U,k){if(!t)return null;for(;k!==null;)i(U,k),k=k.sibling;return null}function l(U){for(var k=new Map;U!==null;)U.key!==null?k.set(U.key,U):k.set(U.index,U),U=U.sibling;return k}function h(U,k){return U=Yr(U,k),U.index=0,U.sibling=null,U}function d(U,k,H){return U.index=H,t?(H=U.alternate,H!==null?(H=H.index,H<k?(U.flags|=33554434,k):H):(U.flags|=33554434,k)):(U.flags|=1048576,k)}function E(U){return t&&U.alternate===null&&(U.flags|=33554434),U}function w(U,k,H,W){return k===null||k.tag!==6?(k=vd(H,U.mode,W),k.return=U,k):(k=h(k,H),k.return=U,k)}function I(U,k,H,W){var ce=H.type;return ce===p?X(U,k,H.props.children,W,H.key):k!==null&&(k.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===te&&bg(ce)===k.type)?(k=h(k,H.props),ul(k,H),k.return=U,k):(k=Sc(H.type,H.key,H.props,null,U.mode,W),ul(k,H),k.return=U,k)}function j(U,k,H,W){return k===null||k.tag!==4||k.stateNode.containerInfo!==H.containerInfo||k.stateNode.implementation!==H.implementation?(k=Ed(H,U.mode,W),k.return=U,k):(k=h(k,H.children||[]),k.return=U,k)}function X(U,k,H,W,ce){return k===null||k.tag!==7?(k=ea(H,U.mode,W,ce),k.return=U,k):(k=h(k,H),k.return=U,k)}function J(U,k,H){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=vd(""+k,U.mode,H),k.return=U,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case f:return H=Sc(k.type,k.key,k.props,null,U.mode,H),ul(H,k),H.return=U,H;case m:return k=Ed(k,U.mode,H),k.return=U,k;case te:var W=k._init;return k=W(k._payload),J(U,k,H)}if(oe(k)||fe(k))return k=ea(k,U.mode,H,null),k.return=U,k;if(typeof k.then=="function")return J(U,rc(k),H);if(k.$$typeof===M)return J(U,Ec(U,k),H);sc(U,k)}return null}function F(U,k,H,W){var ce=k!==null?k.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ce!==null?null:w(U,k,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case f:return H.key===ce?I(U,k,H,W):null;case m:return H.key===ce?j(U,k,H,W):null;case te:return ce=H._init,H=ce(H._payload),F(U,k,H,W)}if(oe(H)||fe(H))return ce!==null?null:X(U,k,H,W,null);if(typeof H.then=="function")return F(U,k,rc(H),W);if(H.$$typeof===M)return F(U,k,Ec(U,H),W);sc(U,H)}return null}function Q(U,k,H,W,ce){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return U=U.get(H)||null,w(k,U,""+W,ce);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case f:return U=U.get(W.key===null?H:W.key)||null,I(k,U,W,ce);case m:return U=U.get(W.key===null?H:W.key)||null,j(k,U,W,ce);case te:var Ne=W._init;return W=Ne(W._payload),Q(U,k,H,W,ce)}if(oe(W)||fe(W))return U=U.get(H)||null,X(k,U,W,ce,null);if(typeof W.then=="function")return Q(U,k,H,rc(W),ce);if(W.$$typeof===M)return Q(U,k,H,Ec(k,W),ce);sc(k,W)}return null}function he(U,k,H,W){for(var ce=null,Ne=null,pe=k,ve=k=0,Ut=null;pe!==null&&ve<H.length;ve++){pe.index>ve?(Ut=pe,pe=null):Ut=pe.sibling;var Fe=F(U,pe,H[ve],W);if(Fe===null){pe===null&&(pe=Ut);break}t&&pe&&Fe.alternate===null&&i(U,pe),k=d(Fe,k,ve),Ne===null?ce=Fe:Ne.sibling=Fe,Ne=Fe,pe=Ut}if(ve===H.length)return a(U,pe),qe&&qs(U,ve),ce;if(pe===null){for(;ve<H.length;ve++)pe=J(U,H[ve],W),pe!==null&&(k=d(pe,k,ve),Ne===null?ce=pe:Ne.sibling=pe,Ne=pe);return qe&&qs(U,ve),ce}for(pe=l(pe);ve<H.length;ve++)Ut=Q(pe,U,ve,H[ve],W),Ut!==null&&(t&&Ut.alternate!==null&&pe.delete(Ut.key===null?ve:Ut.key),k=d(Ut,k,ve),Ne===null?ce=Ut:Ne.sibling=Ut,Ne=Ut);return t&&pe.forEach(function(ns){return i(U,ns)}),qe&&qs(U,ve),ce}function be(U,k,H,W){if(H==null)throw Error(s(151));for(var ce=null,Ne=null,pe=k,ve=k=0,Ut=null,Fe=H.next();pe!==null&&!Fe.done;ve++,Fe=H.next()){pe.index>ve?(Ut=pe,pe=null):Ut=pe.sibling;var ns=F(U,pe,Fe.value,W);if(ns===null){pe===null&&(pe=Ut);break}t&&pe&&ns.alternate===null&&i(U,pe),k=d(ns,k,ve),Ne===null?ce=ns:Ne.sibling=ns,Ne=ns,pe=Ut}if(Fe.done)return a(U,pe),qe&&qs(U,ve),ce;if(pe===null){for(;!Fe.done;ve++,Fe=H.next())Fe=J(U,Fe.value,W),Fe!==null&&(k=d(Fe,k,ve),Ne===null?ce=Fe:Ne.sibling=Fe,Ne=Fe);return qe&&qs(U,ve),ce}for(pe=l(pe);!Fe.done;ve++,Fe=H.next())Fe=Q(pe,U,ve,Fe.value,W),Fe!==null&&(t&&Fe.alternate!==null&&pe.delete(Fe.key===null?ve:Fe.key),k=d(Fe,k,ve),Ne===null?ce=Fe:Ne.sibling=Fe,Ne=Fe);return t&&pe.forEach(function(hb){return i(U,hb)}),qe&&qs(U,ve),ce}function dt(U,k,H,W){if(typeof H=="object"&&H!==null&&H.type===p&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case f:e:{for(var ce=H.key;k!==null;){if(k.key===ce){if(ce=H.type,ce===p){if(k.tag===7){a(U,k.sibling),W=h(k,H.props.children),W.return=U,U=W;break e}}else if(k.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===te&&bg(ce)===k.type){a(U,k.sibling),W=h(k,H.props),ul(W,H),W.return=U,U=W;break e}a(U,k);break}else i(U,k);k=k.sibling}H.type===p?(W=ea(H.props.children,U.mode,W,H.key),W.return=U,U=W):(W=Sc(H.type,H.key,H.props,null,U.mode,W),ul(W,H),W.return=U,U=W)}return E(U);case m:e:{for(ce=H.key;k!==null;){if(k.key===ce)if(k.tag===4&&k.stateNode.containerInfo===H.containerInfo&&k.stateNode.implementation===H.implementation){a(U,k.sibling),W=h(k,H.children||[]),W.return=U,U=W;break e}else{a(U,k);break}else i(U,k);k=k.sibling}W=Ed(H,U.mode,W),W.return=U,U=W}return E(U);case te:return ce=H._init,H=ce(H._payload),dt(U,k,H,W)}if(oe(H))return he(U,k,H,W);if(fe(H)){if(ce=fe(H),typeof ce!="function")throw Error(s(150));return H=ce.call(H),be(U,k,H,W)}if(typeof H.then=="function")return dt(U,k,rc(H),W);if(H.$$typeof===M)return dt(U,k,Ec(U,H),W);sc(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,k!==null&&k.tag===6?(a(U,k.sibling),W=h(k,H),W.return=U,U=W):(a(U,k),W=vd(H,U.mode,W),W.return=U,U=W),E(U)):a(U,k)}return function(U,k,H,W){try{ll=0;var ce=dt(U,k,H,W);return Ba=null,ce}catch(pe){if(pe===al)throw pe;var Ne=$n(29,pe,null,U.mode);return Ne.lanes=W,Ne.return=U,Ne}finally{}}}var Gs=Ag(!0),Rg=Ag(!1),Ha=Be(null),ac=Be(0);function Cg(t,i){t=rr,Qe(ac,t),Qe(Ha,i),rr=t|i.baseLanes}function Rf(){Qe(ac,rr),Qe(Ha,Ha.current)}function Cf(){rr=ac.current,ut(Ha),ut(ac)}var qn=Be(null),yi=null;function Lr(t){var i=t.alternate;Qe(It,It.current&1),Qe(qn,t),yi===null&&(i===null||Ha.current!==null||i.memoizedState!==null)&&(yi=t)}function Ig(t){if(t.tag===22){if(Qe(It,It.current),Qe(qn,t),yi===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(yi=t)}}else Ur()}function Ur(){Qe(It,It.current),Qe(qn,qn.current)}function Qi(t){ut(qn),yi===t&&(yi=null),ut(It)}var It=Be(0);function oc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Zw=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Jw=r.unstable_scheduleCallback,eS=r.unstable_NormalPriority,xt={$$typeof:M,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function If(){return{controller:new Zw,data:new Map,refCount:0}}function cl(t){t.refCount--,t.refCount===0&&Jw(eS,function(){t.controller.abort()})}var hl=null,xf=0,qa=0,Fa=null;function tS(t,i){if(hl===null){var a=hl=[];xf=0,qa=kd(),Fa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return xf++,i.then(xg,xg),i}function xg(){if(--xf===0&&hl!==null){Fa!==null&&(Fa.status="fulfilled");var t=hl;hl=null,qa=0,Fa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function nS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Ng=A.S;A.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&tS(t,i),Ng!==null&&Ng(t,i)};var $s=Be(null);function Nf(){var t=$s.current;return t!==null?t:Je.pooledCache}function lc(t,i){i===null?Qe($s,$s.current):Qe($s,i.pool)}function Dg(){var t=Nf();return t===null?null:{parent:xt._currentValue,pool:t}}var zr=0,xe=null,Xe=null,Et=null,uc=!1,Ga=!1,Ks=!1,cc=0,fl=0,$a=null,iS=0;function gt(){throw Error(s(321))}function Df(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Rn(t[a],i[a]))return!1;return!0}function Of(t,i,a,l,h,d){return zr=d,xe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,A.H=t===null||t.memoizedState===null?Qs:Br,Ks=!1,d=a(l,h),Ks=!1,Ga&&(d=Mg(i,a,l,h)),Og(t),d}function Og(t){A.H=vi;var i=Xe!==null&&Xe.next!==null;if(zr=0,Et=Xe=xe=null,uc=!1,fl=0,$a=null,i)throw Error(s(300));t===null||jt||(t=t.dependencies,t!==null&&vc(t)&&(jt=!0))}function Mg(t,i,a,l){xe=t;var h=0;do{if(Ga&&($a=null),fl=0,Ga=!1,25<=h)throw Error(s(301));if(h+=1,Et=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}A.H=Ys,d=i(a,l)}while(Ga);return d}function rS(){var t=A.H,i=t.useState()[0];return i=typeof i.then=="function"?dl(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(xe.flags|=1024),i}function Mf(){var t=cc!==0;return cc=0,t}function Pf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function kf(t){if(uc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}uc=!1}zr=0,Et=Xe=xe=null,Ga=!1,fl=cc=0,$a=null}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Et===null?xe.memoizedState=Et=t:Et=Et.next=t,Et}function Tt(){if(Xe===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=Et===null?xe.memoizedState:Et.next;if(i!==null)Et=i,Xe=t;else{if(t===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},Et===null?xe.memoizedState=Et=t:Et=Et.next=t}return Et}var hc;hc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function dl(t){var i=fl;return fl+=1,$a===null&&($a=[]),t=wg($a,t,i),i=xe,(Et===null?i.memoizedState:Et.next)===null&&(i=i.alternate,A.H=i===null||i.memoizedState===null?Qs:Br),t}function fc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return dl(t);if(t.$$typeof===M)return Xt(t)}throw Error(s(438,String(t)))}function Vf(t){var i=null,a=xe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=hc(),xe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=re;return i.index++,a}function Yi(t,i){return typeof i=="function"?i(t):i}function dc(t){var i=Tt();return jf(i,Xe,t)}function jf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var w=E=null,I=null,j=i,X=!1;do{var J=j.lane&-536870913;if(J!==j.lane?(Ue&J)===J:(zr&J)===J){var F=j.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),J===qa&&(X=!0);else if((zr&F)===F){j=j.next,F===qa&&(X=!0);continue}else J={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(w=I=J,E=d):I=I.next=J,xe.lanes|=F,Xr|=F;J=j.action,Ks&&a(d,J),d=j.hasEagerState?j.eagerState:a(d,J)}else F={lane:J,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},I===null?(w=I=F,E=d):I=I.next=F,xe.lanes|=J,Xr|=J;j=j.next}while(j!==null&&j!==i);if(I===null?E=d:I.next=w,!Rn(d,t.memoizedState)&&(jt=!0,X&&(a=Fa,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Lf(t){var i=Tt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=t(d,E.action),E=E.next;while(E!==h);Rn(d,i.memoizedState)||(jt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Pg(t,i,a){var l=xe,h=Tt(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!Rn((Xe||h).memoizedState,a);if(E&&(h.memoizedState=a,jt=!0),h=h.queue,Bf(jg.bind(null,l,h,t),[t]),h.getSnapshot!==i||E||Et!==null&&Et.memoizedState.tag&1){if(l.flags|=2048,Ka(9,Vg.bind(null,l,h,a,i),{destroy:void 0},null),Je===null)throw Error(s(349));d||(zr&60)!==0||kg(l,i,a)}return a}function kg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=xe.updateQueue,i===null?(i=hc(),xe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Vg(t,i,a,l){i.value=a,i.getSnapshot=l,Lg(i)&&Ug(t)}function jg(t,i,a){return a(function(){Lg(i)&&Ug(t)})}function Lg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Rn(t,a)}catch{return!0}}function Ug(t){var i=jr(t,2);i!==null&&cn(i,t,2)}function Uf(t){var i=gn();if(typeof t=="function"){var a=t;if(t=a(),Ks){ai(!0);try{a()}finally{ai(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:t},i}function zg(t,i,a,l){return t.baseState=a,jf(t,Xe,typeof l=="function"?l:Yi)}function sS(t,i,a,l,h){if(gc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};A.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Bg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Bg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=A.T,E={};A.T=E;try{var w=a(h,l),I=A.S;I!==null&&I(E,w),Hg(t,i,w)}catch(j){zf(t,i,j)}finally{A.T=d}}else try{d=a(h,l),Hg(t,i,d)}catch(j){zf(t,i,j)}}function Hg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){qg(t,i,l)},function(l){return zf(t,i,l)}):qg(t,i,a)}function qg(t,i,a){i.status="fulfilled",i.value=a,Fg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Bg(t,a)))}function zf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Fg(i),i=i.next;while(i!==l)}t.action=null}function Fg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Gg(t,i){return i}function $g(t,i){if(qe){var a=Je.formState;if(a!==null){e:{var l=xe;if(qe){if(Ht){t:{for(var h=Ht,d=_i;h.nodeType!==8;){if(!d){h=null;break t}if(h=ni(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Ht=ni(h.nextSibling),l=h.data==="F!";break e}}Fs(l)}l=!1}l&&(i=a[0])}}return a=gn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gg,lastRenderedState:i},a.queue=l,a=c_.bind(null,xe,l),l.dispatch=a,l=Uf(!1),d=$f.bind(null,xe,!1,l.queue),l=gn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=sS.bind(null,xe,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Kg(t){var i=Tt();return Qg(i,Xe,t)}function Qg(t,i,a){i=jf(t,i,Gg)[0],t=dc(Yi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?dl(i):i;var l=Tt(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(xe.flags|=2048,Ka(9,aS.bind(null,h,a),{destroy:void 0},null)),[i,d,t]}function aS(t,i){t.action=i}function Yg(t){var i=Tt(),a=Xe;if(a!==null)return Qg(i,a,t);Tt(),i=i.memoizedState,a=Tt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ka(t,i,a,l){return t={tag:t,create:i,inst:a,deps:l,next:null},i=xe.updateQueue,i===null&&(i=hc(),xe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Xg(){return Tt().memoizedState}function mc(t,i,a,l){var h=gn();xe.flags|=t,h.memoizedState=Ka(1|i,a,{destroy:void 0},l===void 0?null:l)}function pc(t,i,a,l){var h=Tt();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&Df(l,Xe.memoizedState.deps)?h.memoizedState=Ka(i,a,d,l):(xe.flags|=t,h.memoizedState=Ka(1|i,a,d,l))}function Wg(t,i){mc(8390656,8,t,i)}function Bf(t,i){pc(2048,8,t,i)}function Zg(t,i){return pc(4,2,t,i)}function Jg(t,i){return pc(4,4,t,i)}function e_(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function t_(t,i,a){a=a!=null?a.concat([t]):null,pc(4,4,e_.bind(null,i,t),a)}function Hf(){}function n_(t,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Df(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function i_(t,i){var a=Tt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Df(i,l[1]))return l[0];if(l=t(),Ks){ai(!0);try{t()}finally{ai(!1)}}return a.memoizedState=[l,i],l}function qf(t,i,a){return a===void 0||(zr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=sy(),xe.lanes|=t,Xr|=t,a)}function r_(t,i,a,l){return Rn(a,i)?a:Ha.current!==null?(t=qf(t,a,l),Rn(t,i)||(jt=!0),t):(zr&42)===0?(jt=!0,t.memoizedState=a):(t=sy(),xe.lanes|=t,Xr|=t,i)}function s_(t,i,a,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var E=A.T,w={};A.T=w,$f(t,!1,i,a);try{var I=h(),j=A.S;if(j!==null&&j(w,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=nS(I,l);ml(t,i,X,Nn(t))}else ml(t,i,l,Nn(t))}catch(J){ml(t,i,{then:function(){},status:"rejected",reason:J},Nn())}finally{le.p=d,A.T=E}}function oS(){}function Ff(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=a_(t).queue;s_(t,h,i,Ie,a===null?oS:function(){return o_(t),a(l)})}function a_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:Ie},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function o_(t){var i=a_(t).next.queue;ml(t,i,{},Nn())}function Gf(){return Xt(Pl)}function l_(){return Tt().memoizedState}function u_(){return Tt().memoizedState}function lS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Nn();t=Fr(a);var l=Gr(i,t,a);l!==null&&(cn(l,i,a),_l(l,i,a)),i={cache:If()},t.payload=i;return}i=i.return}}function uS(t,i,a){var l=Nn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},gc(t)?h_(i,a):(a=Tf(t,i,a,l),a!==null&&(cn(a,t,l),f_(a,i,l)))}function c_(t,i,a){var l=Nn();ml(t,i,a,l)}function ml(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(gc(t))h_(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,w=d(E,a);if(h.hasEagerState=!0,h.eagerState=w,Rn(w,E))return Ju(t,i,h,0),Je===null&&Zu(),!1}catch{}finally{}if(a=Tf(t,i,h,l),a!==null)return cn(a,t,l),f_(a,i,l),!0}return!1}function $f(t,i,a,l){if(l={lane:2,revertLane:kd(),action:l,hasEagerState:!1,eagerState:null,next:null},gc(t)){if(i)throw Error(s(479))}else i=Tf(t,a,l,2),i!==null&&cn(i,t,2)}function gc(t){var i=t.alternate;return t===xe||i!==null&&i===xe}function h_(t,i){Ga=uc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function f_(t,i,a){if((a&4194176)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Cr(t,a)}}var vi={readContext:Xt,use:fc,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt};vi.useCacheRefresh=gt,vi.useMemoCache=gt,vi.useHostTransitionStatus=gt,vi.useFormState=gt,vi.useActionState=gt,vi.useOptimistic=gt;var Qs={readContext:Xt,use:fc,useCallback:function(t,i){return gn().memoizedState=[t,i===void 0?null:i],t},useContext:Xt,useEffect:Wg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,mc(4194308,4,e_.bind(null,i,t),a)},useLayoutEffect:function(t,i){return mc(4194308,4,t,i)},useInsertionEffect:function(t,i){mc(4,2,t,i)},useMemo:function(t,i){var a=gn();i=i===void 0?null:i;var l=t();if(Ks){ai(!0);try{t()}finally{ai(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=gn();if(a!==void 0){var h=a(i);if(Ks){ai(!0);try{a(i)}finally{ai(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=uS.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var i=gn();return t={current:t},i.memoizedState=t},useState:function(t){t=Uf(t);var i=t.queue,a=c_.bind(null,xe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Hf,useDeferredValue:function(t,i){var a=gn();return qf(a,t,i)},useTransition:function(){var t=Uf(!1);return t=s_.bind(null,xe,t.queue,!0,!1),gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=xe,h=gn();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Je===null)throw Error(s(349));(Ue&60)!==0||kg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Wg(jg.bind(null,l,d,t),[t]),l.flags|=2048,Ka(9,Vg.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var t=gn(),i=Je.identifierPrefix;if(qe){var a=Ki,l=$i;a=(l&~(1<<32-an(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=cc++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=iS++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return gn().memoizedState=lS.bind(null,xe)}};Qs.useMemoCache=Vf,Qs.useHostTransitionStatus=Gf,Qs.useFormState=$g,Qs.useActionState=$g,Qs.useOptimistic=function(t){var i=gn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=$f.bind(null,xe,!0,a),a.dispatch=i,[t,i]};var Br={readContext:Xt,use:fc,useCallback:n_,useContext:Xt,useEffect:Bf,useImperativeHandle:t_,useInsertionEffect:Zg,useLayoutEffect:Jg,useMemo:i_,useReducer:dc,useRef:Xg,useState:function(){return dc(Yi)},useDebugValue:Hf,useDeferredValue:function(t,i){var a=Tt();return r_(a,Xe.memoizedState,t,i)},useTransition:function(){var t=dc(Yi)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:dl(t),i]},useSyncExternalStore:Pg,useId:l_};Br.useCacheRefresh=u_,Br.useMemoCache=Vf,Br.useHostTransitionStatus=Gf,Br.useFormState=Kg,Br.useActionState=Kg,Br.useOptimistic=function(t,i){var a=Tt();return zg(a,Xe,t,i)};var Ys={readContext:Xt,use:fc,useCallback:n_,useContext:Xt,useEffect:Bf,useImperativeHandle:t_,useInsertionEffect:Zg,useLayoutEffect:Jg,useMemo:i_,useReducer:Lf,useRef:Xg,useState:function(){return Lf(Yi)},useDebugValue:Hf,useDeferredValue:function(t,i){var a=Tt();return Xe===null?qf(a,t,i):r_(a,Xe.memoizedState,t,i)},useTransition:function(){var t=Lf(Yi)[0],i=Tt().memoizedState;return[typeof t=="boolean"?t:dl(t),i]},useSyncExternalStore:Pg,useId:l_};Ys.useCacheRefresh=u_,Ys.useMemoCache=Vf,Ys.useHostTransitionStatus=Gf,Ys.useFormState=Yg,Ys.useActionState=Yg,Ys.useOptimistic=function(t,i){var a=Tt();return Xe!==null?zg(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])};function Kf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:N({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Qf={isMounted:function(t){return(t=t._reactInternals)?ge(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Nn(),h=Fr(l);h.payload=i,a!=null&&(h.callback=a),i=Gr(t,h,l),i!==null&&(cn(i,t,l),_l(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Nn(),h=Fr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Gr(t,h,l),i!==null&&(cn(i,t,l),_l(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Nn(),l=Fr(a);l.tag=2,i!=null&&(l.callback=i),i=Gr(t,l,a),i!==null&&(cn(i,t,a),_l(i,t,a))}};function d_(t,i,a,l,h,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!tl(a,l)||!tl(h,d):!0}function m_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Qf.enqueueReplaceState(i,i.state,null)}function Xs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=N({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var _c=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function p_(t){_c(t)}function g_(t){console.error(t)}function __(t){_c(t)}function yc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function y_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Yf(t,i,a){return a=Fr(a),a.tag=3,a.payload={element:null},a.callback=function(){yc(t,i)},a}function v_(t){return t=Fr(t),t.tag=3,t}function E_(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){y_(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){y_(i,a,l),typeof h!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function cS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&gl(i,a,h,!0),a=qn.current,a!==null){switch(a.tag){case 13:return yi===null?Nd():a.alternate===null&&ft===0&&(ft=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Af?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Od(t,l,h)),!1;case 22:return a.flags|=65536,l===Af?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Od(t,l,h)),!1}throw Error(s(435,a.tag))}return Od(t,l,h),Nd(),!1}if(qe)return i=qn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==bf&&(t=Error(s(422),{cause:l}),sl(zn(t,a)))):(l!==bf&&(i=Error(s(423),{cause:l}),sl(zn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=zn(l,a),h=Yf(t.stateNode,l,h),cd(t,h),ft!==4&&(ft=2)),!1;var d=Error(s(520),{cause:l});if(d=zn(d,a),Al===null?Al=[d]:Al.push(d),ft!==4&&(ft=2),i===null)return!0;l=zn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Yf(a.stateNode,l,t),cd(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Wr===null||!Wr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=v_(h),E_(h,t,a,l),cd(a,h),!1}a=a.return}while(a!==null);return!1}var T_=Error(s(461)),jt=!1;function qt(t,i,a,l){i.child=t===null?Rg(i,null,a,l):Gs(i,t.child,a,l)}function w_(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var E={};for(var w in l)w!=="ref"&&(E[w]=l[w])}else E=l;return Zs(i),l=Of(t,i,a,E,d,h),w=Mf(),t!==null&&!jt?(Pf(t,i,h),Xi(t,i,h)):(qe&&w&&wf(i),i.flags|=1,qt(t,i,l,h),i.child)}function S_(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!yd(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,b_(t,i,d,l,h)):(t=Sc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!rd(t,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:tl,a(E,l)&&t.ref===i.ref)return Xi(t,i,h)}return i.flags|=1,t=Yr(d,l),t.ref=i.ref,t.return=i,i.child=t}function b_(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(tl(d,l)&&t.ref===i.ref)if(jt=!1,i.pendingProps=l=d,rd(t,h))(t.flags&131072)!==0&&(jt=!0);else return i.lanes=t.lanes,Xi(t,i,h)}return Xf(t,i,a,l,h)}function A_(t,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,E=t!==null?t.memoizedState:null;if(pl(t,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=E!==null?E.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return R_(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&lc(i,E!==null?E.cachePool:null),E!==null?Cg(i,E):Rf(),Ig(i);else return i.lanes=i.childLanes=536870912,R_(t,i,E!==null?E.baseLanes|a:a,a)}else E!==null?(lc(i,E.cachePool),Cg(i,E),Ur(),i.memoizedState=null):(t!==null&&lc(i,null),Rf(),Ur());return qt(t,i,h,a),i.child}function R_(t,i,a,l){var h=Nf();return h=h===null?null:{parent:xt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&lc(i,null),Rf(),Ig(i),t!==null&&gl(t,i,l,!0),null}function pl(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function Xf(t,i,a,l,h){return Zs(i),a=Of(t,i,a,l,void 0,h),l=Mf(),t!==null&&!jt?(Pf(t,i,h),Xi(t,i,h)):(qe&&l&&wf(i),i.flags|=1,qt(t,i,a,h),i.child)}function C_(t,i,a,l,h,d){return Zs(i),i.updateQueue=null,a=Mg(i,l,a,h),Og(t),l=Mf(),t!==null&&!jt?(Pf(t,i,d),Xi(t,i,d)):(qe&&l&&wf(i),i.flags|=1,qt(t,i,a,d),i.child)}function I_(t,i,a,l,h){if(Zs(i),i.stateNode===null){var d=La,E=a.contextType;typeof E=="object"&&E!==null&&(d=Xt(E)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Qf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},ld(i),E=a.contextType,d.context=typeof E=="object"&&E!==null?Xt(E):La,d.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Kf(i,a,E,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Qf.enqueueReplaceState(d,d.state,null),vl(i,l,d,h),yl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var w=i.memoizedProps,I=Xs(a,w);d.props=I;var j=d.context,X=a.contextType;E=La,typeof X=="object"&&X!==null&&(E=Xt(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||j!==E)&&m_(i,d,l,E),qr=!1;var F=i.memoizedState;d.state=F,vl(i,l,d,h),yl(),j=i.memoizedState,w||F!==j||qr?(typeof J=="function"&&(Kf(i,a,J,l),j=i.memoizedState),(I=qr||d_(i,a,I,l,F,j,E))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=j),d.props=l,d.state=j,d.context=E,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,ud(t,i),E=i.memoizedProps,X=Xs(a,E),d.props=X,J=i.pendingProps,F=d.context,j=a.contextType,I=La,typeof j=="object"&&j!==null&&(I=Xt(j)),w=a.getDerivedStateFromProps,(j=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==J||F!==I)&&m_(i,d,l,I),qr=!1,F=i.memoizedState,d.state=F,vl(i,l,d,h),yl();var Q=i.memoizedState;E!==J||F!==Q||qr||t!==null&&t.dependencies!==null&&vc(t.dependencies)?(typeof w=="function"&&(Kf(i,a,w,l),Q=i.memoizedState),(X=qr||d_(i,a,X,l,F,Q,I)||t!==null&&t.dependencies!==null&&vc(t.dependencies))?(j||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=I,l=X):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,pl(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Gs(i,t.child,null,h),i.child=Gs(i,null,a,h)):qt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Xi(t,i,h),t}function x_(t,i,a,l){return rl(),i.flags|=256,qt(t,i,a,l),i.child}var Wf={dehydrated:null,treeContext:null,retryLane:0};function Zf(t){return{baseLanes:t,cachePool:Dg()}}function Jf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Kn),t}function N_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(qe){if(h?Lr(i):Ur(),qe){var w=Ht,I;if(I=w){e:{for(I=w,w=_i;I.nodeType!==8;){if(!w){w=null;break e}if(I=ni(I.nextSibling),I===null){w=null;break e}}w=I}w!==null?(i.memoizedState={dehydrated:w,treeContext:Hs!==null?{id:$i,overflow:Ki}:null,retryLane:536870912},I=$n(18,null,null,0),I.stateNode=w,I.return=i,i.child=I,un=i,Ht=null,I=!0):I=!1}I||Fs(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return w.data==="$!"?i.lanes=16:i.lanes=536870912,null;Qi(i)}return w=l.children,l=l.fallback,h?(Ur(),h=i.mode,w=td({mode:"hidden",children:w},h),l=ea(l,h,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,h=i.child,h.memoizedState=Zf(a),h.childLanes=Jf(t,E,a),i.memoizedState=Wf,l):(Lr(i),ed(i,w))}if(I=t.memoizedState,I!==null&&(w=I.dehydrated,w!==null)){if(d)i.flags&256?(Lr(i),i.flags&=-257,i=nd(t,i,a)):i.memoizedState!==null?(Ur(),i.child=t.child,i.flags|=128,i=null):(Ur(),h=l.fallback,w=i.mode,l=td({mode:"visible",children:l.children},w),h=ea(h,w,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Gs(i,t.child,null,a),l=i.child,l.memoizedState=Zf(a),l.childLanes=Jf(t,E,a),i.memoizedState=Wf,i=h);else if(Lr(i),w.data==="$!"){if(E=w.nextSibling&&w.nextSibling.dataset,E)var j=E.dgst;E=j,l=Error(s(419)),l.stack="",l.digest=E,sl({value:l,source:null,stack:null}),i=nd(t,i,a)}else if(jt||gl(t,i,a,!1),E=(a&t.childLanes)!==0,jt||E){if(E=Je,E!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane)throw I.retryLane=l,jr(t,l),cn(E,t,l),T_}w.data==="$?"||Nd(),i=nd(t,i,a)}else w.data==="$?"?(i.flags|=128,i.child=t.child,i=AS.bind(null,t),w._reactRetry=i,i=null):(t=I.treeContext,Ht=ni(w.nextSibling),un=i,qe=!0,ei=null,_i=!1,t!==null&&(Bn[Hn++]=$i,Bn[Hn++]=Ki,Bn[Hn++]=Hs,$i=t.id,Ki=t.overflow,Hs=i),i=ed(i,l.children),i.flags|=4096);return i}return h?(Ur(),h=l.fallback,w=i.mode,I=t.child,j=I.sibling,l=Yr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&31457280,j!==null?h=Yr(j,h):(h=ea(h,w,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,w=t.child.memoizedState,w===null?w=Zf(a):(I=w.cachePool,I!==null?(j=xt._currentValue,I=I.parent!==j?{parent:j,pool:j}:I):I=Dg(),w={baseLanes:w.baseLanes|a,cachePool:I}),h.memoizedState=w,h.childLanes=Jf(t,E,a),i.memoizedState=Wf,l):(Lr(i),a=t.child,t=a.sibling,a=Yr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=a,i.memoizedState=null,a)}function ed(t,i){return i=td({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function td(t,i){return ny(t,i,0,null)}function nd(t,i,a){return Gs(i,t.child,null,a),t=ed(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function D_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),ad(t.return,i,a)}function id(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function O_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(qt(t,i,l.children,a),l=It.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&D_(t,a,i);else if(t.tag===19)D_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Qe(It,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&oc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),id(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&oc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}id(i,!0,a,null,d);break;case"together":id(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Xi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Xr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(gl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Yr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Yr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function rd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&vc(t)))}function hS(t,i,a){switch(i.tag){case 3:Tr(i,i.stateNode.containerInfo),Hr(i,xt,t.memoizedState.cache),rl();break;case 27:case 5:Po(i);break;case 4:Tr(i,i.stateNode.containerInfo);break;case 10:Hr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Lr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?N_(t,i,a):(Lr(i),t=Xi(t,i,a),t!==null?t.sibling:null);Lr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(gl(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return O_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Qe(It,It.current),l)break;return null;case 22:case 23:return i.lanes=0,A_(t,i,a);case 24:Hr(i,xt,t.memoizedState.cache)}return Xi(t,i,a)}function M_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)jt=!0;else{if(!rd(t,a)&&(i.flags&128)===0)return jt=!1,hS(t,i,a);jt=(t.flags&131072)!==0}else jt=!1,qe&&(i.flags&1048576)!==0&&_g(i,nc,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")yd(l)?(t=Xs(l,t),i.tag=1,i=I_(null,i,l,t,a)):(i.tag=0,i=Xf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===L){i.tag=11,i=w_(null,i,l,t,a);break e}else if(h===Y){i.tag=14,i=S_(null,i,l,t,a);break e}}throw i=C(l)||l,Error(s(306,i,""))}}return i;case 0:return Xf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Xs(l,i.pendingProps),I_(t,i,l,h,a);case 3:e:{if(Tr(i,i.stateNode.containerInfo),t===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,ud(t,i),vl(i,d,null,a);var E=i.memoizedState;if(d=E.cache,Hr(i,xt,d),d!==h.cache&&od(i,[xt],a,!0),yl(),d=E.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=x_(t,i,d,a);break e}else if(d!==l){l=zn(Error(s(424)),i),sl(l),i=x_(t,i,d,a);break e}else for(Ht=ni(i.stateNode.containerInfo.firstChild),un=i,qe=!0,ei=null,_i=!0,a=Rg(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(rl(),d===l){i=Xi(t,i,a);break e}qt(t,i,d,a)}i=i.child}return i;case 26:return pl(t,i),t===null?(a=Vy(i.type,null,i.pendingProps,null))?i.memoizedState=a:qe||(a=i.type,t=i.pendingProps,l=kc(On.current).createElement(a),l[Pt]=i,l[At]=t,Ft(l,a,t),it(l),i.stateNode=l):i.memoizedState=Vy(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Po(i),t===null&&qe&&(l=i.stateNode=My(i.type,i.pendingProps,On.current),un=i,_i=!0,Ht=ni(l.firstChild)),l=i.pendingProps.children,t!==null||qe?qt(t,i,l,a):i.child=Gs(i,null,l,a),pl(t,i),i.child;case 5:return t===null&&qe&&((h=l=Ht)&&(l=BS(l,i.type,i.pendingProps,_i),l!==null?(i.stateNode=l,un=i,Ht=ni(l.firstChild),_i=!1,h=!0):h=!1),h||Fs(i)),Po(i),h=i.type,d=i.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,Fd(h,d)?l=null:E!==null&&Fd(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=Of(t,i,rS,null,null,a),Pl._currentValue=h),pl(t,i),qt(t,i,l,a),i.child;case 6:return t===null&&qe&&((t=a=Ht)&&(a=HS(a,i.pendingProps,_i),a!==null?(i.stateNode=a,un=i,Ht=null,t=!0):t=!1),t||Fs(i)),null;case 13:return N_(t,i,a);case 4:return Tr(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Gs(i,null,l,a):qt(t,i,l,a),i.child;case 11:return w_(t,i,i.type,i.pendingProps,a);case 7:return qt(t,i,i.pendingProps,a),i.child;case 8:return qt(t,i,i.pendingProps.children,a),i.child;case 12:return qt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Hr(i,i.type,l.value),qt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Zs(i),h=Xt(h),l=l(h),i.flags|=1,qt(t,i,l,a),i.child;case 14:return S_(t,i,i.type,i.pendingProps,a);case 15:return b_(t,i,i.type,i.pendingProps,a);case 19:return O_(t,i,a);case 22:return A_(t,i,a);case 24:return Zs(i),l=Xt(xt),t===null?(h=Nf(),h===null&&(h=Je,d=If(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},ld(i),Hr(i,xt,h)):((t.lanes&a)!==0&&(ud(t,i),vl(i,null,null,a),yl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Hr(i,xt,l)):(l=d.cache,Hr(i,xt,l),l!==h.cache&&od(i,[xt],a,!0))),qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var sd=Be(null),Ws=null,Wi=null;function Hr(t,i,a){Qe(sd,i._currentValue),i._currentValue=a}function Zi(t){t._currentValue=sd.current,ut(sd)}function ad(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function od(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=h;for(var I=0;I<i.length;I++)if(w.context===i[I]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),ad(d.return,a,t),l||(E=null);break e}d=w.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),ad(E,a,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function gl(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var w=h.type;Rn(h.pendingProps.value,E.value)||(t!==null?t.push(w):t=[w])}}else if(h===Er.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Pl):t=[Pl])}h=h.return}t!==null&&od(i,t,a,l),i.flags|=262144}function vc(t){for(t=t.firstContext;t!==null;){if(!Rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Zs(t){Ws=t,Wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return P_(Ws,t)}function Ec(t,i){return Ws===null&&Zs(t),P_(t,i)}function P_(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Wi===null){if(t===null)throw Error(s(308));Wi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Wi=Wi.next=i;return a}var qr=!1;function ld(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ud(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(st&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ec(t),pg(t,null,a),i}return Ju(t,l,i,a),ec(t)}function _l(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Cr(t,a)}}function cd(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var hd=!1;function yl(){if(hd){var t=Fa;if(t!==null)throw t}}function vl(t,i,a,l){hd=!1;var h=t.updateQueue;qr=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var I=w,j=I.next;I.next=null,E===null?d=j:E.next=j,E=I;var X=t.alternate;X!==null&&(X=X.updateQueue,w=X.lastBaseUpdate,w!==E&&(w===null?X.firstBaseUpdate=j:w.next=j,X.lastBaseUpdate=I))}if(d!==null){var J=h.baseState;E=0,X=j=I=null,w=d;do{var F=w.lane&-536870913,Q=F!==w.lane;if(Q?(Ue&F)===F:(l&F)===F){F!==0&&F===qa&&(hd=!0),X!==null&&(X=X.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var he=t,be=w;F=i;var dt=a;switch(be.tag){case 1:if(he=be.payload,typeof he=="function"){J=he.call(dt,J,F);break e}J=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=be.payload,F=typeof he=="function"?he.call(dt,J,F):he,F==null)break e;J=N({},J,F);break e;case 2:qr=!0}}F=w.callback,F!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[F]:Q.push(F))}else Q={lane:F,tag:w.tag,payload:w.payload,callback:w.callback,next:null},X===null?(j=X=Q,I=J):X=X.next=Q,E|=F;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);X===null&&(I=J),h.baseState=I,h.firstBaseUpdate=j,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Xr|=E,t.lanes=E,t.memoizedState=J}}function k_(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function V_(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)k_(a[t],i)}function El(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(w){Ze(i,i.return,w)}}function $r(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var E=l.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,h=i;var I=a;try{w()}catch(j){Ze(h,I,j)}}}l=l.next}while(l!==d)}}catch(j){Ze(i,i.return,j)}}function j_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{V_(i,a)}catch(l){Ze(t,t.return,l)}}}function L_(t,i,a){a.props=Xs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,i,l)}}function Js(t,i){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){Ze(t,i,d)}}function Cn(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,i,h)}else a.current=null}function U_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function z_(t,i,a){try{var l=t.stateNode;VS(l,t.type,a,i),l[At]=i}catch(h){Ze(t,t.return,h)}}function B_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function fd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||B_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function dd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Pc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(dd(t,i,a),t=t.sibling;t!==null;)dd(t,i,a),t=t.sibling}function Tc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Tc(t,i,a),t=t.sibling;t!==null;)Tc(t,i,a),t=t.sibling}var Ji=!1,ht=!1,md=!1,H_=typeof WeakSet=="function"?WeakSet:Set,Lt=null,q_=!1;function fS(t,i){if(t=t.containerInfo,Hd=Bc,t=ag(t),gf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,w=-1,I=-1,j=0,X=0,J=t,F=null;t:for(;;){for(var Q;J!==a||h!==0&&J.nodeType!==3||(w=E+h),J!==d||l!==0&&J.nodeType!==3||(I=E+l),J.nodeType===3&&(E+=J.nodeValue.length),(Q=J.firstChild)!==null;)F=J,J=Q;for(;;){if(J===t)break t;if(F===a&&++j===h&&(w=E),F===d&&++X===l&&(I=E),(Q=J.nextSibling)!==null)break;J=F,F=J.parentNode}J=Q}a=w===-1||I===-1?null:{start:w,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(qd={focusedElem:t,selectionRange:a},Bc=!1,Lt=i;Lt!==null;)if(i=Lt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Lt=t;else for(;Lt!==null;){switch(i=Lt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var he=Xs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(he,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){Ze(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Kd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Kd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Lt=t;break}Lt=i.return}return he=q_,q_=!1,he}function F_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:tr(t,a),l&4&&El(5,a);break;case 1:if(tr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(w){Ze(a,a.return,w)}else{var h=Xs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(w){Ze(a,a.return,w)}}l&64&&j_(a),l&512&&Js(a,a.return);break;case 3:if(tr(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{V_(l,t)}catch(w){Ze(a,a.return,w)}}break;case 26:tr(t,a),l&512&&Js(a,a.return);break;case 27:case 5:tr(t,a),i===null&&l&4&&U_(a),l&512&&Js(a,a.return);break;case 12:tr(t,a);break;case 13:tr(t,a),l&4&&K_(t,a);break;case 22:if(h=a.memoizedState!==null||Ji,!h){i=i!==null&&i.memoizedState!==null||ht;var d=Ji,E=ht;Ji=h,(ht=i)&&!E?Kr(t,a,(a.subtreeFlags&8772)!==0):tr(t,a),Ji=d,ht=E}l&512&&(a.memoizedProps.mode==="manual"?Js(a,a.return):Cn(a,a.return));break;default:tr(t,a)}}function G_(t){var i=t.alternate;i!==null&&(t.alternate=null,G_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&xs(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var wt=null,In=!1;function er(t,i,a){for(a=a.child;a!==null;)$_(t,i,a),a=a.sibling}function $_(t,i,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(wr,a)}catch{}switch(a.tag){case 26:ht||Cn(a,i),er(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ht||Cn(a,i);var l=wt,h=In;for(wt=a.stateNode,er(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);xs(a),wt=l,In=h;break;case 5:ht||Cn(a,i);case 6:h=wt;var d=In;if(wt=null,er(t,i,a),wt=h,In=d,wt!==null)if(In)try{t=wt,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(E){Ze(a,i,E)}else try{wt.removeChild(a.stateNode)}catch(E){Ze(a,i,E)}break;case 18:wt!==null&&(In?(i=wt,a=a.stateNode,i.nodeType===8?$d(i.parentNode,a):i.nodeType===1&&$d(i,a),Ll(i)):$d(wt,a.stateNode));break;case 4:l=wt,h=In,wt=a.stateNode.containerInfo,In=!0,er(t,i,a),wt=l,In=h;break;case 0:case 11:case 14:case 15:ht||$r(2,a,i),ht||$r(4,a,i),er(t,i,a);break;case 1:ht||(Cn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&L_(a,i,l)),er(t,i,a);break;case 21:er(t,i,a);break;case 22:ht||Cn(a,i),ht=(l=ht)||a.memoizedState!==null,er(t,i,a),ht=l;break;default:er(t,i,a)}}function K_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ll(t)}catch(a){Ze(i,i.return,a)}}function dS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new H_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new H_),i;default:throw Error(s(435,t.tag))}}function pd(t,i){var a=dS(t);i.forEach(function(l){var h=RS.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Fn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,E=i,w=E;e:for(;w!==null;){switch(w.tag){case 27:case 5:wt=w.stateNode,In=!1;break e;case 3:wt=w.stateNode.containerInfo,In=!0;break e;case 4:wt=w.stateNode.containerInfo,In=!0;break e}w=w.return}if(wt===null)throw Error(s(160));$_(d,E,h),wt=null,In=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Q_(i,t),i=i.sibling}var ti=null;function Q_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Fn(i,t),Gn(t),l&4&&($r(3,t,t.return),El(3,t),$r(5,t,t.return));break;case 1:Fn(i,t),Gn(t),l&512&&(ht||a===null||Cn(a,a.return)),l&64&&Ji&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ti;if(Fn(i,t),Gn(t),l&512&&(ht||a===null||Cn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[xr]||d[Pt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ft(d,l,a),d[Pt]=t,it(d),l=d;break e;case"link":var E=Uy("link","href",h).get(l+(a.href||""));if(E){for(var w=0;w<E.length;w++)if(d=E[w],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(w,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;case"meta":if(E=Uy("meta","content",h).get(l+(a.content||""))){for(w=0;w<E.length;w++)if(d=E[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(w,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Pt]=t,it(d),l=d}t.stateNode=l}else zy(h,t.type,t.stateNode);else t.stateNode=Ly(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?zy(h,t.type,t.stateNode):Ly(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&z_(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var I=h.firstChild;I;){var j=I.nextSibling,X=I.nodeName;I[xr]||X==="HEAD"||X==="BODY"||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&I.rel.toLowerCase()==="stylesheet"||h.removeChild(I),I=j}for(var J=t.type,F=h.attributes;F.length;)h.removeAttributeNode(F[0]);Ft(h,J,d),h[Pt]=t,h[At]=d}catch(he){Ze(t,t.return,he)}}case 5:if(Fn(i,t),Gn(t),l&512&&(ht||a===null||Cn(a,a.return)),t.flags&32){h=t.stateNode;try{kn(h,"")}catch(he){Ze(t,t.return,he)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,z_(t,h,a!==null?a.memoizedProps:h)),l&1024&&(md=!0);break;case 6:if(Fn(i,t),Gn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(he){Ze(t,t.return,he)}}break;case 3:if(Lc=null,h=ti,ti=Vc(i.containerInfo),Fn(i,t),ti=h,Gn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ll(i.containerInfo)}catch(he){Ze(t,t.return,he)}md&&(md=!1,Y_(t));break;case 4:l=ti,ti=Vc(t.stateNode.containerInfo),Fn(i,t),Gn(t),ti=l;break;case 12:Fn(i,t),Gn(t);break;case 13:Fn(i,t),Gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(bd=mn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pd(t,l)));break;case 22:if(l&512&&(ht||a===null||Cn(a,a.return)),I=t.memoizedState!==null,j=a!==null&&a.memoizedState!==null,X=Ji,J=ht,Ji=X||I,ht=J||j,Fn(i,t),ht=J,Ji=X,Gn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=I?i._visibility&-2:i._visibility|1,I&&(i=Ji||ht,a===null||j||i||Qa(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){j=a=i;try{if(h=j.stateNode,I)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{E=j.stateNode,w=j.memoizedProps.style;var Q=w!=null&&w.hasOwnProperty("display")?w.display:null;E.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(he){Ze(j,j.return,he)}}}else if(i.tag===6){if(a===null){j=i;try{j.stateNode.nodeValue=I?"":j.memoizedProps}catch(he){Ze(j,j.return,he)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,pd(t,a))));break;case 19:Fn(i,t),Gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,pd(t,l)));break;case 21:break;default:Fn(i,t),Gn(t)}}function Gn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(B_(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=fd(t);Tc(t,d,h);break;case 5:var E=l.stateNode;l.flags&32&&(kn(E,""),l.flags&=-33);var w=fd(t);Tc(t,w,E);break;case 3:case 4:var I=l.stateNode.containerInfo,j=fd(t);dd(t,j,I);break;default:throw Error(s(161))}}}catch(X){Ze(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Y_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Y_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function tr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)F_(t,i.alternate,i),i=i.sibling}function Qa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:$r(4,i,i.return),Qa(i);break;case 1:Cn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&L_(i,i.return,a),Qa(i);break;case 26:case 27:case 5:Cn(i,i.return),Qa(i);break;case 22:Cn(i,i.return),i.memoizedState===null&&Qa(i);break;default:Qa(i)}t=t.sibling}}function Kr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:Kr(h,d,a),El(4,d);break;case 1:if(Kr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Ze(l,l.return,j)}if(l=d,h=l.updateQueue,h!==null){var w=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)k_(I[h],w)}catch(j){Ze(l,l.return,j)}}a&&E&64&&j_(d),Js(d,d.return);break;case 26:case 27:case 5:Kr(h,d,a),a&&l===null&&E&4&&U_(d),Js(d,d.return);break;case 12:Kr(h,d,a);break;case 13:Kr(h,d,a),a&&E&4&&K_(h,d);break;case 22:d.memoizedState===null&&Kr(h,d,a),Js(d,d.return);break;default:Kr(h,d,a)}i=i.sibling}}function gd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&cl(a))}function _d(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&cl(t))}function Qr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)X_(t,i,a,l),i=i.sibling}function X_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Qr(t,i,a,l),h&2048&&El(9,i);break;case 3:Qr(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&cl(t)));break;case 12:if(h&2048){Qr(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,E=d.id,w=d.onPostCommit;typeof w=="function"&&w(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ze(i,i.return,I)}}else Qr(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Qr(t,i,a,l):Tl(t,i):d._visibility&4?Qr(t,i,a,l):(d._visibility|=4,Ya(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&gd(i.alternate,i);break;case 24:Qr(t,i,a,l),h&2048&&_d(i.alternate,i);break;default:Qr(t,i,a,l)}}function Ya(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,E=i,w=a,I=l,j=E.flags;switch(E.tag){case 0:case 11:case 15:Ya(d,E,w,I,h),El(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&4?Ya(d,E,w,I,h):Tl(d,E):(X._visibility|=4,Ya(d,E,w,I,h)),h&&j&2048&&gd(E.alternate,E);break;case 24:Ya(d,E,w,I,h),h&&j&2048&&_d(E.alternate,E);break;default:Ya(d,E,w,I,h)}i=i.sibling}}function Tl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Tl(a,l),h&2048&&gd(l.alternate,l);break;case 24:Tl(a,l),h&2048&&_d(l.alternate,l);break;default:Tl(a,l)}i=i.sibling}}var wl=8192;function Xa(t){if(t.subtreeFlags&wl)for(t=t.child;t!==null;)W_(t),t=t.sibling}function W_(t){switch(t.tag){case 26:Xa(t),t.flags&wl&&t.memoizedState!==null&&tb(ti,t.memoizedState,t.memoizedProps);break;case 5:Xa(t);break;case 3:case 4:var i=ti;ti=Vc(t.stateNode.containerInfo),Xa(t),ti=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=wl,wl=16777216,Xa(t),wl=i):Xa(t));break;default:Xa(t)}}function Z_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Sl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,ey(l,t)}Z_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)J_(t),t=t.sibling}function J_(t){switch(t.tag){case 0:case 11:case 15:Sl(t),t.flags&2048&&$r(9,t,t.return);break;case 3:Sl(t);break;case 12:Sl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,wc(t)):Sl(t);break;default:Sl(t)}}function wc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,ey(l,t)}Z_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:$r(8,i,i.return),wc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,wc(i));break;default:wc(i)}t=t.sibling}}function ey(t,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:$r(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:cl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=t;Lt!==null;){l=Lt;var h=l.sibling,d=l.return;if(G_(l),l===a){Lt=null;break e}if(h!==null){h.return=d,Lt=h;break e}Lt=d}}}function mS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(t,i,a,l){return new mS(t,i,a,l)}function yd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yr(t,i){var a=t.alternate;return a===null?(a=$n(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ty(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Sc(t,i,a,l,h,d){var E=0;if(l=t,typeof t=="function")yd(t)&&(E=1);else if(typeof t=="string")E=JS(t,a,sn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return ea(a.children,h,d,i);case _:E=8,h|=24;break;case T:return t=$n(12,a,i,h|2),t.elementType=T,t.lanes=d,t;case $:return t=$n(13,a,i,h),t.elementType=$,t.lanes=d,t;case q:return t=$n(19,a,i,h),t.elementType=q,t.lanes=d,t;case K:return ny(a,h,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b:case M:E=10;break e;case R:E=9;break e;case L:E=11;break e;case Y:E=14;break e;case te:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=$n(E,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function ea(t,i,a,l){return t=$n(7,t,l,i),t.lanes=a,t}function ny(t,i,a,l){t=$n(22,t,l,i),t.elementType=K,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var E=jr(d,2);E!==null&&(h._pendingVisibility|=2,cn(E,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var E=jr(d,2);E!==null&&(h._pendingVisibility&=-3,cn(E,d,2))}}};return t.stateNode=h,t}function vd(t,i,a){return t=$n(6,t,null,i),t.lanes=a,t}function Ed(t,i,a){return i=$n(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function nr(t){t.flags|=4}function iy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!By(i)){if(i=qn.current,i!==null&&((Ue&4194176)===Ue?yi!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||i!==yi))throw ol=Af,Eg;t.flags|=8192}}function bc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ar():536870912,t.lanes|=i,Za|=i)}function bl(t,i){if(!qe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function pS(t,i,a){var l=i.pendingProps;switch(Sf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Zi(xt),ki(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(il(i)?nr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ei!==null&&(Id(ei),ei=null))),rt(i),null;case 26:return a=i.memoizedState,t===null?(nr(i),a!==null?(rt(i),iy(i,a)):(rt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(nr(i),rt(i),iy(i,a)):(rt(i),i.flags&=-16777217):(t.memoizedProps!==l&&nr(i),rt(i),i.flags&=-16777217),null;case 27:_a(i),a=On.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&nr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}t=sn.current,il(i)?yg(i):(t=My(h,l,a),i.stateNode=t,nr(i))}return rt(i),null;case 5:if(_a(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&nr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(t=sn.current,il(i))yg(i);else{switch(h=kc(On.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Pt]=i,t[At]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Ft(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&nr(i)}}return rt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&nr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=On.current,il(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=un,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Pt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Cy(t.nodeValue,a)),t||Fs(i)}else t=kc(t).createTextNode(l),t[Pt]=i,i.stateNode=t}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=il(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Pt]=i}else rl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else ei!==null&&(Id(ei),ei=null),h=!0;if(!h)return i.flags&256?(Qi(i),i):(Qi(i),null)}if(Qi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),bc(i,i.updateQueue),rt(i),null;case 4:return ki(),t===null&&Ud(i.stateNode.containerInfo),rt(i),null;case 10:return Zi(i.type),rt(i),null;case 19:if(ut(It),h=i.memoizedState,h===null)return rt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)bl(h,!1);else{if(ft!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=oc(t),d!==null){for(i.flags|=128,bl(h,!1),t=d.updateQueue,i.updateQueue=t,bc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)ty(a,t),a=a.sibling;return Qe(It,It.current&1|2),i.child}t=t.sibling}h.tail!==null&&mn()>Ac&&(i.flags|=128,l=!0,bl(h,!1),i.lanes=4194304)}else{if(!l)if(t=oc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,bc(i,t),bl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return rt(i),null}else 2*mn()-h.renderingStartTime>Ac&&a!==536870912&&(i.flags|=128,l=!0,bl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=mn(),i.sibling=null,t=It.current,Qe(It,l?t&1|2:t&1),i):(rt(i),null);case 22:case 23:return Qi(i),Cf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&bc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ut($s),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Zi(xt),rt(i),null;case 25:return null}throw Error(s(156,i.tag))}function gS(t,i){switch(Sf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Zi(xt),ki(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return _a(i),null;case 13:if(Qi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));rl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ut(It),null;case 4:return ki(),null;case 10:return Zi(i.type),null;case 22:case 23:return Qi(i),Cf(),t!==null&&ut($s),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Zi(xt),null;case 25:return null;default:return null}}function ry(t,i){switch(Sf(i),i.tag){case 3:Zi(xt),ki();break;case 26:case 27:case 5:_a(i);break;case 4:ki();break;case 13:Qi(i);break;case 19:ut(It);break;case 10:Zi(i.type);break;case 22:case 23:Qi(i),Cf(),t!==null&&ut($s);break;case 24:Zi(xt)}}var _S={getCacheForType:function(t){var i=Xt(xt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},yS=typeof WeakMap=="function"?WeakMap:Map,st=0,Je=null,De=null,Ue=0,et=0,xn=null,ir=!1,Wa=!1,Td=!1,rr=0,ft=0,Xr=0,ta=0,wd=0,Kn=0,Za=0,Al=null,Ei=null,Sd=!1,bd=0,Ac=1/0,Rc=null,Wr=null,Cc=!1,na=null,Rl=0,Ad=0,Rd=null,Cl=0,Cd=null;function Nn(){if((st&2)!==0&&Ue!==0)return Ue&-Ue;if(A.T!==null){var t=qa;return t!==0?t:kd()}return Mu()}function sy(){Kn===0&&(Kn=(Ue&536870912)===0||qe?Uo():536870912);var t=qn.current;return t!==null&&(t.flags|=32),Kn}function cn(t,i,a){(t===Je&&et===2||t.cancelPendingCommit!==null)&&(Ja(t,0),sr(t,Ue,Kn,!1)),pt(t,a),((st&2)===0||t!==Je)&&(t===Je&&((st&2)===0&&(ta|=a),ft===4&&sr(t,Ue,Kn,!1)),Ti(t))}function ay(t,i,a){if((st&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&t.expiredLanes)===0||br(t,i),h=l?TS(t,i):Dd(t,i,!0),d=l;do{if(h===0){Wa&&!l&&sr(t,i,0,!1);break}else if(h===6)sr(t,i,0,!ir);else{if(a=t.current.alternate,d&&!vS(a)){h=Dd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var w=t;h=Al;var I=w.current.memoizedState.isDehydrated;if(I&&(Ja(w,E).flags|=256),E=Dd(w,E,!1),E!==2){if(Td&&!I){w.errorRecoveryDisabledLanes|=d,ta|=d,h=4;break e}d=Ei,Ei=h,d!==null&&Id(d)}h=E}if(d=!1,h!==2)continue}}if(h===1){Ja(t,0),sr(t,i,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){sr(l,i,Kn,!ir);break e}break;case 2:Ei=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=bd+300-mn(),10<d)){if(sr(l,i,Kn,!ir),Mn(l,0)!==0)break e;l.timeoutHandle=Ny(oy.bind(null,l,a,Ei,Rc,Sd,i,Kn,ta,Za,ir,2,-0,0),d);break e}oy(l,a,Ei,Rc,Sd,i,Kn,ta,Za,ir,0,-0,0)}}break}while(!0);Ti(t)}function Id(t){Ei===null?Ei=t:Ei.push.apply(Ei,t)}function oy(t,i,a,l,h,d,E,w,I,j,X,J,F){var Q=i.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(Ml={stylesheets:null,count:0,unsuspend:eb},W_(i),i=nb(),i!==null)){t.cancelPendingCommit=i(my.bind(null,t,a,l,h,E,w,I,1,J,F)),sr(t,d,E,!j);return}my(t,a,l,h,E,w,I,X,J,F)}function vS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Rn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function sr(t,i,a,l){i&=~wd,i&=~ta,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-an(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&Rr(t,a,i)}function Ic(){return(st&6)===0?(Il(0),!1):!0}function xd(){if(De!==null){if(et===0)var t=De.return;else t=De,Wi=Ws=null,kf(t),Ba=null,ll=0,t=De;for(;t!==null;)ry(t.alternate,t),t=t.return;De=null}}function Ja(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,LS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),xd(),Je=t,De=a=Yr(t.current,null),Ue=i,et=0,xn=null,ir=!1,Wa=br(t,i),Td=!1,Za=Kn=wd=ta=Xr=ft=0,Ei=Al=null,Sd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-an(l),d=1<<h;i|=t[h],l&=~d}return rr=i,Zu(),a}function ly(t,i){xe=null,A.H=vi,i===al?(i=Sg(),et=3):i===Eg?(i=Sg(),et=4):et=i===T_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,xn=i,De===null&&(ft=1,yc(t,zn(i,t.current)))}function uy(){var t=A.H;return A.H=vi,t===null?vi:t}function cy(){var t=A.A;return A.A=_S,t}function Nd(){ft=4,ir||(Ue&4194176)!==Ue&&qn.current!==null||(Wa=!0),(Xr&134217727)===0&&(ta&134217727)===0||Je===null||sr(Je,Ue,Kn,!1)}function Dd(t,i,a){var l=st;st|=2;var h=uy(),d=cy();(Je!==t||Ue!==i)&&(Rc=null,Ja(t,i)),i=!1;var E=ft;e:do try{if(et!==0&&De!==null){var w=De,I=xn;switch(et){case 8:xd(),E=6;break e;case 3:case 2:case 6:qn.current===null&&(i=!0);var j=et;if(et=0,xn=null,eo(t,w,I,j),a&&Wa){E=0;break e}break;default:j=et,et=0,xn=null,eo(t,w,I,j)}}ES(),E=ft;break}catch(X){ly(t,X)}while(!0);return i&&t.shellSuspendCounter++,Wi=Ws=null,st=l,A.H=h,A.A=d,De===null&&(Je=null,Ue=0,Zu()),E}function ES(){for(;De!==null;)hy(De)}function TS(t,i){var a=st;st|=2;var l=uy(),h=cy();Je!==t||Ue!==i?(Rc=null,Ac=mn()+500,Ja(t,i)):Wa=br(t,i);e:do try{if(et!==0&&De!==null){i=De;var d=xn;t:switch(et){case 1:et=0,xn=null,eo(t,i,d,1);break;case 2:if(Tg(d)){et=0,xn=null,fy(i);break}i=function(){et===2&&Je===t&&(et=7),Ti(t)},d.then(i,i);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Tg(d)?(et=0,xn=null,fy(i)):(et=0,xn=null,eo(t,i,d,7));break;case 5:var E=null;switch(De.tag){case 26:E=De.memoizedState;case 5:case 27:var w=De;if(!E||By(E)){et=0,xn=null;var I=w.sibling;if(I!==null)De=I;else{var j=w.return;j!==null?(De=j,xc(j)):De=null}break t}}et=0,xn=null,eo(t,i,d,5);break;case 6:et=0,xn=null,eo(t,i,d,6);break;case 8:xd(),ft=6;break e;default:throw Error(s(462))}}wS();break}catch(X){ly(t,X)}while(!0);return Wi=Ws=null,A.H=l,A.A=h,st=a,De!==null?0:(Je=null,Ue=0,Zu(),ft)}function wS(){for(;De!==null&&!sf();)hy(De)}function hy(t){var i=M_(t.alternate,t,rr);t.memoizedProps=t.pendingProps,i===null?xc(t):De=i}function fy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=C_(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=C_(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:kf(i);default:ry(a,i),i=De=ty(i,rr),i=M_(a,i,rr)}t.memoizedProps=t.pendingProps,i===null?xc(t):De=i}function eo(t,i,a,l){Wi=Ws=null,kf(i),Ba=null,ll=0;var h=i.return;try{if(cS(t,h,i,a,Ue)){ft=1,yc(t,zn(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ft=1,yc(t,zn(a,t.current)),De=null;return}i.flags&32768?(qe||l===1?t=!0:Wa||(Ue&536870912)!==0?t=!1:(ir=t=!0,(l===2||l===3||l===6)&&(l=qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),dy(i,t)):xc(i)}function xc(t){var i=t;do{if((i.flags&32768)!==0){dy(i,ir);return}t=i.return;var a=pS(i.alternate,i,rr);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ft===0&&(ft=5)}function dy(t,i){do{var a=gS(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ft=6,De=null}function my(t,i,a,l,h,d,E,w,I,j){var X=A.T,J=le.p;try{le.p=2,A.T=null,SS(t,i,a,l,J,h,d,E,w,I,j)}finally{A.T=X,le.p=J}}function SS(t,i,a,l,h,d,E,w){do to();while(na!==null);if((st&6)!==0)throw Error(s(327));var I=t.finishedWork;if(l=t.finishedLanes,I===null)return null;if(t.finishedWork=null,t.finishedLanes=0,I===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var j=I.lanes|I.childLanes;if(j|=Ef,Du(t,l,j,d,E,w),t===Je&&(De=Je=null,Ue=0),(I.subtreeFlags&10256)===0&&(I.flags&10256)===0||Cc||(Cc=!0,Ad=j,Rd=a,CS(Vi,function(){return to(),null})),a=(I.flags&15990)!==0,(I.subtreeFlags&15990)!==0||a?(a=A.T,A.T=null,d=le.p,le.p=2,E=st,st|=4,fS(t,I),Q_(I,t),Kw(qd,t.containerInfo),Bc=!!Hd,qd=Hd=null,t.current=I,F_(t,I.alternate,I),ko(),st=E,le.p=d,A.T=a):t.current=I,Cc?(Cc=!1,na=t,Rl=l):py(t,j),j=t.pendingLanes,j===0&&(Wr=null),jo(I.stateNode),Ti(t),i!==null)for(h=t.onRecoverableError,I=0;I<i.length;I++)j=i[I],h(j.value,{componentStack:j.stack});return(Rl&3)!==0&&to(),j=t.pendingLanes,(l&4194218)!==0&&(j&42)!==0?t===Cd?Cl++:(Cl=0,Cd=t):Cl=0,Il(0),null}function py(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,cl(i)))}function to(){if(na!==null){var t=na,i=Ad;Ad=0;var a=Ou(Rl),l=A.T,h=le.p;try{if(le.p=32>a?32:a,A.T=null,na===null)var d=!1;else{a=Rd,Rd=null;var E=na,w=Rl;if(na=null,Rl=0,(st&6)!==0)throw Error(s(331));var I=st;if(st|=4,J_(E.current),X_(E,E.current,w,a),st=I,Il(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(wr,E)}catch{}d=!0}return d}finally{le.p=h,A.T=l,py(t,i)}}return!1}function gy(t,i,a){i=zn(a,i),i=Yf(t.stateNode,i,2),t=Gr(t,i,2),t!==null&&(pt(t,2),Ti(t))}function Ze(t,i,a){if(t.tag===3)gy(t,t,a);else for(;i!==null;){if(i.tag===3){gy(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Wr===null||!Wr.has(l))){t=zn(a,t),a=v_(2),l=Gr(i,a,2),l!==null&&(E_(a,l,i,t),pt(l,2),Ti(l));break}}i=i.return}}function Od(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new yS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Td=!0,h.add(a),t=bS.bind(null,t,i,a),i.then(t,t))}function bS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(Ue&a)===a&&(ft===4||ft===3&&(Ue&62914560)===Ue&&300>mn()-bd?(st&2)===0&&Ja(t,0):wd|=a,Za===Ue&&(Za=0)),Ti(t)}function _y(t,i){i===0&&(i=Ar()),t=jr(t,i),t!==null&&(pt(t,i),Ti(t))}function AS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),_y(t,a)}function RS(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),_y(t,a)}function CS(t,i){return Rs(t,i)}var Nc=null,no=null,Md=!1,Dc=!1,Pd=!1,ia=0;function Ti(t){t!==no&&t.next===null&&(no===null?Nc=no=t:no=no.next=t),Dc=!0,Md||(Md=!0,xS(IS))}function Il(t,i){if(!Pd&&Dc){Pd=!0;do for(var a=!1,l=Nc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-an(42|t)+1)-1,d&=h&~(E&~w),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,Ey(l,d))}else d=Ue,d=Mn(l,l===Je?d:0),(d&3)===0||br(l,d)||(a=!0,Ey(l,d));l=l.next}while(a);Pd=!1}}function IS(){Dc=Md=!1;var t=0;ia!==0&&(jS()&&(t=ia),ia=0);for(var i=mn(),a=null,l=Nc;l!==null;){var h=l.next,d=yy(l,i);d===0?(l.next=null,a===null?Nc=h:a.next=h,h===null&&(no=a)):(a=l,(t!==0||(d&3)!==0)&&(Dc=!0)),l=h}Il(t)}function yy(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-an(d),w=1<<E,I=h[E];I===-1?((w&a)===0||(w&l)!==0)&&(h[E]=Ea(w,i)):I<=i&&(t.expiredLanes|=w),d&=~w}if(i=Je,a=Ue,a=Mn(t,t===i?a:0),l=t.callbackNode,a===0||t===i&&et===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&va(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||br(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&va(l),Ou(a)){case 2:case 8:a=Mt;break;case 32:a=Vi;break;case 268435456:a=Vo;break;default:a=Vi}return l=vy.bind(null,t),a=Rs(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&va(l),t.callbackPriority=2,t.callbackNode=null,2}function vy(t,i){var a=t.callbackNode;if(to()&&t.callbackNode!==a)return null;var l=Ue;return l=Mn(t,t===Je?l:0),l===0?null:(ay(t,l,i),yy(t,mn()),t.callbackNode!=null&&t.callbackNode===a?vy.bind(null,t):null)}function Ey(t,i){if(to())return null;ay(t,i,!0)}function xS(t){US(function(){(st&6)!==0?Rs(bt,t):t()})}function kd(){return ia===0&&(ia=Uo()),ia}function Ty(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ci(""+t)}function wy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function NS(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Ty((h[At]||null).action),E=l.submitter;E&&(i=(i=E[At]||null)?Ty(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var w=new Ca("action","action",null,l,h);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ia!==0){var I=E?wy(h,E):new FormData(h);Ff(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(w.preventDefault(),I=E?wy(h,E):new FormData(h),Ff(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Vd=0;Vd<mg.length;Vd++){var jd=mg[Vd],DS=jd.toLowerCase(),OS=jd[0].toUpperCase()+jd.slice(1);Jn(DS,"on"+OS)}Jn(ug,"onAnimationEnd"),Jn(cg,"onAnimationIteration"),Jn(hg,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(Yw,"onTransitionRun"),Jn(Xw,"onTransitionStart"),Jn(Ww,"onTransitionCancel"),Jn(fg,"onTransitionEnd"),pn("onMouseEnter",["mouseout","mouseover"]),pn("onMouseLeave",["mouseout","mouseover"]),pn("onPointerEnter",["pointerout","pointerover"]),pn("onPointerLeave",["pointerout","pointerover"]),bn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bn("onBeforeInput",["compositionend","keypress","textInput","paste"]),bn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xl));function Sy(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var w=l[E],I=w.instance,j=w.currentTarget;if(w=w.listener,I!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=j;try{d(h)}catch(X){_c(X)}h.currentTarget=null,d=I}else for(E=0;E<l.length;E++){if(w=l[E],I=w.instance,j=w.currentTarget,w=w.listener,I!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=j;try{d(h)}catch(X){_c(X)}h.currentTarget=null,d=I}}}}function ke(t,i){var a=i[Is];a===void 0&&(a=i[Is]=new Set);var l=t+"__bubble";a.has(l)||(by(i,t,2,!1),a.add(l))}function Ld(t,i,a){var l=0;i&&(l|=4),by(a,t,l,i)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function Ud(t){if(!t[Oc]){t[Oc]=!0,Bo.forEach(function(a){a!=="selectionchange"&&(MS.has(a)||Ld(a,!1,t),Ld(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Oc]||(i[Oc]=!0,Ld("selectionchange",!1,i))}}function by(t,i,a,l){switch(Ky(i)){case 2:var h=sb;break;case 8:h=ab;break;default:h=Zd}a=h.bind(null,i,a,t),h=void 0,!jn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function zd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var w=l.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(E===4)for(E=l.return;E!==null;){var I=E.tag;if((I===3||I===4)&&(I=E.stateNode.containerInfo,I===h||I.nodeType===8&&I.parentNode===h))return;E=E.return}for(;w!==null;){if(E=Zn(w),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){l=d=E;continue e}w=w.parentNode}}l=l.return}ju(function(){var j=d,X=Ra(a),J=[];e:{var F=dg.get(t);if(F!==void 0){var Q=Ca,he=t;switch(t){case"keypress":if(fi(a)===0)break e;case"keydown":case"keyup":Q=Ma;break;case"focusin":he="focus",Q=Na;break;case"focusout":he="blur",Q=Na;break;case"beforeblur":case"afterblur":Q=Na;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=ff;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Gu;break;case ug:case cg:case hg:Q=Da;break;case fg:Q=Ku;break;case"scroll":case"scrollend":Q=Lu;break;case"wheel":Q=Pa;break;case"copy":case"cut":case"paste":Q=Oa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Jo;break;case"toggle":case"beforetoggle":Q=Yu}var be=(i&4)!==0,dt=!be&&(t==="scroll"||t==="scrollend"),U=be?F!==null?F+"Capture":null:F;be=[];for(var k=j,H;k!==null;){var W=k;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||U===null||(W=Ms(k,U),W!=null&&be.push(Nl(k,W,H))),dt)break;k=k.return}0<be.length&&(F=new Q(F,he,null,a,X),J.push({event:F,listeners:be}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",F&&a!==Vn&&(he=a.relatedTarget||a.fromElement)&&(Zn(he)||he[ji]))break e;if((Q||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(he=a.relatedTarget||a.toElement,Q=j,he=he?Zn(he):null,he!==null&&(dt=ge(he),be=he.tag,he!==dt||be!==5&&be!==27&&be!==6)&&(he=null)):(Q=null,he=j),Q!==he)){if(be=Ln,W="onMouseLeave",U="onMouseEnter",k="mouse",(t==="pointerout"||t==="pointerover")&&(be=Jo,W="onPointerLeave",U="onPointerEnter",k="pointer"),dt=Q==null?F:Nr(Q),H=he==null?F:Nr(he),F=new be(W,k+"leave",Q,a,X),F.target=dt,F.relatedTarget=H,W=null,Zn(X)===j&&(be=new be(U,k+"enter",he,a,X),be.target=H,be.relatedTarget=dt,W=be),dt=W,Q&&he)t:{for(be=Q,U=he,k=0,H=be;H;H=io(H))k++;for(H=0,W=U;W;W=io(W))H++;for(;0<k-H;)be=io(be),k--;for(;0<H-k;)U=io(U),H--;for(;k--;){if(be===U||U!==null&&be===U.alternate)break t;be=io(be),U=io(U)}be=null}else be=null;Q!==null&&Ay(J,F,Q,be,!1),he!==null&&dt!==null&&Ay(J,dt,he,be,!0)}}e:{if(F=j?Nr(j):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var ce=Zp;else if(Ct(F))if(Jp)ce=Gw;else{ce=qw;var Ne=Hw}else Q=F.nodeName,!Q||Q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?j&&$o(j.elementType)&&(ce=Zp):ce=Fw;if(ce&&(ce=ce(t,j))){Gi(J,ce,a,X);break e}Ne&&Ne(t,F,j),t==="focusout"&&j&&F.type==="number"&&j.memoizedProps.value!=null&&Aa(F,"number",F.value)}switch(Ne=j?Nr(j):window,t){case"focusin":(Ct(Ne)||Ne.contentEditable==="true")&&(ka=Ne,_f=j,nl=null);break;case"focusout":nl=_f=ka=null;break;case"mousedown":yf=!0;break;case"contextmenu":case"mouseup":case"dragend":yf=!1,og(J,a,X);break;case"selectionchange":if(Qw)break;case"keydown":case"keyup":og(J,a,X)}var pe;if(pi)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else je?G(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(v&&a.locale!=="ko"&&(je||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&je&&(pe=Qo()):(hi=X,Vr="value"in hi?hi.value:hi.textContent,je=!0)),Ne=Mc(j,ve),0<Ne.length&&(ve=new Wo(ve,t,null,a,X),J.push({event:ve,listeners:Ne}),pe?ve.data=pe:(pe=ie(a),pe!==null&&(ve.data=pe)))),(pe=g?Rt(t,a):Le(t,a))&&(ve=Mc(j,"onBeforeInput"),0<ve.length&&(Ne=new Wo("onBeforeInput","beforeinput",null,a,X),J.push({event:Ne,listeners:ve}),Ne.data=pe)),NS(J,t,j,a,X)}Sy(J,i)})}function Nl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Mc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ms(t,a),h!=null&&l.unshift(Nl(t,h,d)),h=Ms(t,i),h!=null&&l.push(Nl(t,h,d))),t=t.return}return l}function io(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ay(t,i,a,l,h){for(var d=i._reactName,E=[];a!==null&&a!==l;){var w=a,I=w.alternate,j=w.stateNode;if(w=w.tag,I!==null&&I===l)break;w!==5&&w!==26&&w!==27||j===null||(I=j,h?(j=Ms(a,d),j!=null&&E.unshift(Nl(a,j,I))):h||(j=Ms(a,d),j!=null&&E.push(Nl(a,j,I)))),a=a.return}E.length!==0&&t.push({event:i,listeners:E})}var PS=/\r\n?/g,kS=/\u0000|\uFFFD/g;function Ry(t){return(typeof t=="string"?t:""+t).replace(PS,`
`).replace(kS,"")}function Cy(t,i){return i=Ry(i),Ry(t)===i}function Pc(){}function We(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||kn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&kn(t,""+l);break;case"className":Mr(t,"class",l);break;case"tabIndex":Mr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Mr(t,a,l);break;case"style":Vu(t,l,d);break;case"data":if(i!=="object"){Mr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ci(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ci(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Pc);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ci(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),Or(t,"popover",l);break;case"xlinkActuate":Pn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Or(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=cf.get(a)||a,Or(t,a,l))}}function Bd(t,i,a,l,h,d){switch(a){case"style":Vu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?kn(t,l):(typeof l=="number"||typeof l=="bigint")&&kn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Pc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[At]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Or(t,a,l)}}}function Ft(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,d,E,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":ke("invalid",t);var w=d=E=h=null,I=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":E=X;break;case"checked":I=X;break;case"defaultChecked":j=X;break;case"value":d=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:We(t,i,l,X,a,null)}}Ds(t,d,w,I,j,E,h,!1),Ns(t);return;case"select":ke("invalid",t),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":d=w;break;case"defaultValue":E=w;break;case"multiple":l=w;default:We(t,i,h,w,a,null)}i=d,a=E,t.multiple=!!l,i!=null?He(t,!!l,i,!1):a!=null&&He(t,!!l,a,!0);return;case"textarea":ke("invalid",t),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(w=a[E],w!=null))switch(E){case"value":l=w;break;case"defaultValue":h=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:We(t,i,E,w,a,null)}kr(t,l,h,d),Ns(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,i,I,l,a,null)}return;case"dialog":ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<xl.length;l++)ke(xl[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,j,l,a,null)}return;default:if($o(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Bd(t,i,X,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&We(t,i,w,l,a,null))}function VS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,w=null,I=null,j=null,X=null;for(Q in a){var J=a[Q];if(a.hasOwnProperty(Q)&&J!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=J;default:l.hasOwnProperty(Q)||We(t,i,Q,null,l,J)}}for(var F in l){var Q=l[F];if(J=a[F],l.hasOwnProperty(F)&&(Q!=null||J!=null))switch(F){case"type":d=Q;break;case"name":h=Q;break;case"checked":j=Q;break;case"defaultChecked":X=Q;break;case"value":E=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==J&&We(t,i,F,Q,l,J)}}Pr(t,E,w,I,j,X,d,h);return;case"select":Q=E=w=F=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Q=I;default:l.hasOwnProperty(d)||We(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":F=d;break;case"defaultValue":w=d;break;case"multiple":E=d;default:d!==I&&We(t,i,h,d,l,I)}i=w,a=E,l=Q,F!=null?He(t,!!a,F,!1):!!l!=!!a&&(i!=null?He(t,!!a,i,!0):He(t,!!a,a?[]:"",!1));return;case"textarea":Q=F=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:We(t,i,w,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":F=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,i,E,h,l,d)}Os(t,F,Q);return;case"option":for(var he in a)if(F=a[he],a.hasOwnProperty(he)&&F!=null&&!l.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:We(t,i,he,null,l,F)}for(I in l)if(F=l[I],Q=a[I],l.hasOwnProperty(I)&&F!==Q&&(F!=null||Q!=null))switch(I){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:We(t,i,I,F,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)F=a[be],a.hasOwnProperty(be)&&F!=null&&!l.hasOwnProperty(be)&&We(t,i,be,null,l,F);for(j in l)if(F=l[j],Q=a[j],l.hasOwnProperty(j)&&F!==Q&&(F!=null||Q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:We(t,i,j,F,l,Q)}return;default:if($o(i)){for(var dt in a)F=a[dt],a.hasOwnProperty(dt)&&F!==void 0&&!l.hasOwnProperty(dt)&&Bd(t,i,dt,void 0,l,F);for(X in l)F=l[X],Q=a[X],!l.hasOwnProperty(X)||F===Q||F===void 0&&Q===void 0||Bd(t,i,X,F,l,Q);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&We(t,i,U,null,l,F);for(J in l)F=l[J],Q=a[J],!l.hasOwnProperty(J)||F===Q||F==null&&Q==null||We(t,i,J,F,l,Q)}var Hd=null,qd=null;function kc(t){return t.nodeType===9?t:t.ownerDocument}function Iy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Fd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Gd=null;function jS(){var t=window.event;return t&&t.type==="popstate"?t===Gd?!1:(Gd=t,!0):(Gd=null,!1)}var Ny=typeof setTimeout=="function"?setTimeout:void 0,LS=typeof clearTimeout=="function"?clearTimeout:void 0,Dy=typeof Promise=="function"?Promise:void 0,US=typeof queueMicrotask=="function"?queueMicrotask:typeof Dy<"u"?function(t){return Dy.resolve(null).then(t).catch(zS)}:Ny;function zS(t){setTimeout(function(){throw t})}function $d(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),Ll(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Ll(i)}function Kd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Kd(a),xs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function BS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[xr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ni(t.nextSibling),t===null)break}return null}function HS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ni(t.nextSibling),t===null))return null;return t}function ni(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function Oy(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function My(t,i,a){switch(i=kc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Qn=new Map,Py=new Set;function Vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var ar=le.d;le.d={f:qS,r:FS,D:GS,C:$S,L:KS,m:QS,X:XS,S:YS,M:WS};function qS(){var t=ar.f(),i=Ic();return t||i}function FS(t){var i=Li(t);i!==null&&i.tag===5&&i.type==="form"?o_(i):ar.r(t)}var ro=typeof document>"u"?null:document;function ky(t,i,a){var l=ro;if(l&&typeof i=="string"&&i){var h=ct(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Py.has(h)||(Py.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ft(i,"link",t),it(i),l.head.appendChild(i)))}}function GS(t){ar.D(t),ky("dns-prefetch",t,null)}function $S(t,i){ar.C(t,i),ky("preconnect",t,i)}function KS(t,i,a){ar.L(t,i,a);var l=ro;if(l&&t&&i){var h='link[rel="preload"][as="'+ct(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ct(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ct(a.imageSizes)+'"]')):h+='[href="'+ct(t)+'"]';var d=h;switch(i){case"style":d=so(t);break;case"script":d=ao(t)}Qn.has(d)||(t=N({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Qn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Dl(d))||i==="script"&&l.querySelector(Ol(d))||(i=l.createElement("link"),Ft(i,"link",t),it(i),l.head.appendChild(i)))}}function QS(t,i){ar.m(t,i);var a=ro;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ct(l)+'"][href="'+ct(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=ao(t)}if(!Qn.has(d)&&(t=N({rel:"modulepreload",href:t},i),Qn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ol(d)))return}l=a.createElement("link"),Ft(l,"link",t),it(l),a.head.appendChild(l)}}}function YS(t,i,a){ar.S(t,i,a);var l=ro;if(l&&t){var h=Dr(l).hoistableStyles,d=so(t);i=i||"default";var E=h.get(d);if(!E){var w={loading:0,preload:null};if(E=l.querySelector(Dl(d)))w.loading=5;else{t=N({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Qn.get(d))&&Qd(t,a);var I=E=l.createElement("link");it(I),Ft(I,"link",t),I._p=new Promise(function(j,X){I.onload=j,I.onerror=X}),I.addEventListener("load",function(){w.loading|=1}),I.addEventListener("error",function(){w.loading|=2}),w.loading|=4,jc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:w},h.set(d,E)}}}function XS(t,i){ar.X(t,i);var a=ro;if(a&&t){var l=Dr(a).hoistableScripts,h=ao(t),d=l.get(h);d||(d=a.querySelector(Ol(h)),d||(t=N({src:t,async:!0},i),(i=Qn.get(h))&&Yd(t,i),d=a.createElement("script"),it(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function WS(t,i){ar.M(t,i);var a=ro;if(a&&t){var l=Dr(a).hoistableScripts,h=ao(t),d=l.get(h);d||(d=a.querySelector(Ol(h)),d||(t=N({src:t,async:!0,type:"module"},i),(i=Qn.get(h))&&Yd(t,i),d=a.createElement("script"),it(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Vy(t,i,a,l){var h=(h=On.current)?Vc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=so(a.href),a=Dr(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=so(a.href);var d=Dr(h).hoistableStyles,E=d.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=h.querySelector(Dl(t)))&&!d._p&&(E.instance=d,E.state.loading=5),Qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(t,a),d||ZS(h,t,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=ao(a),a=Dr(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function so(t){return'href="'+ct(t)+'"'}function Dl(t){return'link[rel="stylesheet"]['+t+"]"}function jy(t){return N({},t,{"data-precedence":t.precedence,precedence:null})}function ZS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ft(i,"link",a),it(i),t.head.appendChild(i))}function ao(t){return'[src="'+ct(t)+'"]'}function Ol(t){return"script[async]"+t}function Ly(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+ct(a.href)+'"]');if(l)return i.instance=l,it(l),l;var h=N({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),it(l),Ft(l,"style",h),jc(l,a.precedence,t),i.instance=l;case"stylesheet":h=so(a.href);var d=t.querySelector(Dl(h));if(d)return i.state.loading|=4,i.instance=d,it(d),d;l=jy(a),(h=Qn.get(h))&&Qd(l,h),d=(t.ownerDocument||t).createElement("link"),it(d);var E=d;return E._p=new Promise(function(w,I){E.onload=w,E.onerror=I}),Ft(d,"link",l),i.state.loading|=4,jc(d,a.precedence,t),i.instance=d;case"script":return d=ao(a.src),(h=t.querySelector(Ol(d)))?(i.instance=h,it(h),h):(l=a,(h=Qn.get(d))&&(l=N({},a),Yd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),it(h),Ft(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,jc(l,a.precedence,t));return i.instance}function jc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var w=l[E];if(w.dataset.precedence===i)d=w;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Qd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Yd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Lc=null;function Uy(t,i,a){if(Lc===null){var l=new Map,h=Lc=new Map;h.set(a,l)}else h=Lc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[xr]||d[Pt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=t+E;var w=l.get(E);w?w.push(d):l.set(E,[d])}}return l}function zy(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function JS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function By(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ml=null;function eb(){}function tb(t,i,a){if(Ml===null)throw Error(s(475));var l=Ml;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=so(a.href),d=t.querySelector(Dl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Uc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,it(d);return}d=t.ownerDocument||t,a=jy(a),(h=Qn.get(h))&&Qd(a,h),d=d.createElement("link"),it(d);var E=d;E._p=new Promise(function(w,I){E.onload=w,E.onerror=I}),Ft(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Uc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function nb(){if(Ml===null)throw Error(s(475));var t=Ml;return t.stylesheets&&t.count===0&&Xd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Xd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Uc(){if(this.count--,this.count===0){if(this.stylesheets)Xd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zc=null;function Xd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zc=new Map,i.forEach(ib,t),zc=null,Uc.call(t))}function ib(t,i){if(!(i.state.loading&4)){var a=zc.get(t);if(a)var l=a.get(null);else{a=new Map,zc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=Uc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Pl={$$typeof:M,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function rb(t,i,a,l,h,d,E,w){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ta(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ta(0),this.hiddenUpdates=Ta(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Hy(t,i,a,l,h,d,E,w,I,j,X,J){return t=new rb(t,i,a,E,w,I,j,J),i=1,d===!0&&(i|=24),d=$n(3,null,null,i),t.current=d,d.stateNode=t,i=If(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},ld(d),t}function qy(t){return t?(t=La,t):La}function Fy(t,i,a,l,h,d){h=qy(h),l.context===null?l.context=h:l.pendingContext=h,l=Fr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Gr(t,l,i),a!==null&&(cn(a,t,i),_l(a,t,i))}function Gy(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Wd(t,i){Gy(t,i),(t=t.alternate)&&Gy(t,i)}function $y(t){if(t.tag===13){var i=jr(t,67108864);i!==null&&cn(i,t,67108864),Wd(t,67108864)}}var Bc=!0;function sb(t,i,a,l){var h=A.T;A.T=null;var d=le.p;try{le.p=2,Zd(t,i,a,l)}finally{le.p=d,A.T=h}}function ab(t,i,a,l){var h=A.T;A.T=null;var d=le.p;try{le.p=8,Zd(t,i,a,l)}finally{le.p=d,A.T=h}}function Zd(t,i,a,l){if(Bc){var h=Jd(l);if(h===null)zd(t,i,l,Hc,a),Qy(t,l);else if(lb(h,t,i,a,l))l.stopPropagation();else if(Qy(t,l),i&4&&-1<ob.indexOf(t)){for(;h!==null;){var d=Li(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Wn(d.pendingLanes);if(E!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var I=1<<31-an(E);w.entanglements[1]|=I,E&=~I}Ti(d),(st&6)===0&&(Ac=mn()+500,Il(0))}}break;case 13:w=jr(d,2),w!==null&&cn(w,d,2),Ic(),Wd(d,2)}if(d=Jd(l),d===null&&zd(t,i,l,Hc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else zd(t,i,l,null,a)}}function Jd(t){return t=Ra(t),em(t)}var Hc=null;function em(t){if(Hc=null,t=Zn(t),t!==null){var i=ge(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=Ge(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Hc=t,null}function Ky(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cu()){case bt:return 2;case Mt:return 8;case Vi:case Iu:return 32;case Vo:return 268435456;default:return 32}default:return 32}}var tm=!1,Zr=null,Jr=null,es=null,kl=new Map,Vl=new Map,ts=[],ob="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Qy(t,i){switch(t){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":kl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vl.delete(i.pointerId)}}function jl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Li(i),i!==null&&$y(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function lb(t,i,a,l,h){switch(i){case"focusin":return Zr=jl(Zr,t,i,a,l,h),!0;case"dragenter":return Jr=jl(Jr,t,i,a,l,h),!0;case"mouseover":return es=jl(es,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return kl.set(d,jl(kl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Vl.set(d,jl(Vl.get(d)||null,t,i,a,l,h)),!0}return!1}function Yy(t){var i=Zn(t.target);if(i!==null){var a=ge(i);if(a!==null){if(i=a.tag,i===13){if(i=Ge(a),i!==null){t.blockedOn=i,Ir(t.priority,function(){if(a.tag===13){var l=Nn(),h=jr(a,l);h!==null&&cn(h,a,l),Wd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Jd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Vn=l,a.target.dispatchEvent(l),Vn=null}else return i=Li(a),i!==null&&$y(i),t.blockedOn=a,!1;i.shift()}return!0}function Xy(t,i,a){qc(t)&&a.delete(i)}function ub(){tm=!1,Zr!==null&&qc(Zr)&&(Zr=null),Jr!==null&&qc(Jr)&&(Jr=null),es!==null&&qc(es)&&(es=null),kl.forEach(Xy),Vl.forEach(Xy)}function Fc(t,i){t.blockedOn===i&&(t.blockedOn=null,tm||(tm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,ub)))}var Gc=null;function Wy(t){Gc!==t&&(Gc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Gc===t&&(Gc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(em(l||a)===null)continue;break}var d=Li(a);d!==null&&(t.splice(i,3),i-=3,Ff(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ll(t){function i(I){return Fc(I,t)}Zr!==null&&Fc(Zr,t),Jr!==null&&Fc(Jr,t),es!==null&&Fc(es,t),kl.forEach(i),Vl.forEach(i);for(var a=0;a<ts.length;a++){var l=ts[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ts.length&&(a=ts[0],a.blockedOn===null);)Yy(a),a.blockedOn===null&&ts.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[At]||null;if(typeof d=="function")E||Wy(a);else if(E){var w=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[At]||null)w=E.formAction;else if(em(h)!==null)continue}else w=E.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),Wy(a)}}}function nm(t){this._internalRoot=t}$c.prototype.render=nm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Nn();Fy(a,l,t,i,null,null)},$c.prototype.unmount=nm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&to(),Fy(t.current,2,null,t,null,null),Ic(),i[ji]=null}};function $c(t){this._internalRoot=t}$c.prototype.unstable_scheduleHydration=function(t){if(t){var i=Mu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<ts.length&&i!==0&&i<ts[a].priority;a++);ts.splice(a,0,t),a===0&&Yy(t)}};var Zy=e.version;if(Zy!=="19.0.0")throw Error(s(527,Zy,"19.0.0"));le.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=ne(i),t=t!==null?de(t):null,t=t===null?null:t.stateNode,t};var cb={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Zn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{wr=Kc.inject(cb),Yt=Kc}catch{}}return zl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=p_,d=g_,E=__,w=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=Hy(t,1,!1,null,null,a,l,h,d,E,w,null),t[ji]=i.current,Ud(t.nodeType===8?t.parentNode:t),new nm(i)},zl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=p_,E=g_,w=__,I=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),i=Hy(t,1,!0,i,a??null,l,h,d,E,w,I,j),i.context=qy(null),a=i.current,l=Nn(),h=Fr(l),h.callback=null,Gr(a,h,l),i.current.lanes=l,pt(i,l),Ti(i),t[ji]=i.current,Ud(t),new $c(i)},zl.version="19.0.0",zl}var lv;function Eb(){if(lv)return sm.exports;lv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),sm.exports=vb(),sm.exports}var Tb=Eb(),Bl={},uv;function wb(){if(uv)return Bl;uv=1,Object.defineProperty(Bl,"__esModule",{value:!0}),Bl.parse=f,Bl.serialize=_;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function f(R,M){const L=new u,$=R.length;if($<2)return L;const q=(M==null?void 0:M.decode)||T;let Y=0;do{const te=R.indexOf("=",Y);if(te===-1)break;const K=R.indexOf(";",Y),re=K===-1?$:K;if(te>re){Y=R.lastIndexOf(";",te-1)+1;continue}const se=m(R,Y,te),fe=p(R,te,se),D=R.slice(se,fe);if(L[D]===void 0){let C=m(R,te+1,re),A=p(R,re,C);const N=q(R.slice(C,A));L[D]=N}Y=re+1}while(Y<$);return L}function m(R,M,L){do{const $=R.charCodeAt(M);if($!==32&&$!==9)return M}while(++M<L);return L}function p(R,M,L){for(;M>L;){const $=R.charCodeAt(--M);if($!==32&&$!==9)return M+1}return L}function _(R,M,L){const $=(L==null?void 0:L.encode)||encodeURIComponent;if(!r.test(R))throw new TypeError(`argument name is invalid: ${R}`);const q=$(M);if(!e.test(q))throw new TypeError(`argument val is invalid: ${M}`);let Y=R+"="+q;if(!L)return Y;if(L.maxAge!==void 0){if(!Number.isInteger(L.maxAge))throw new TypeError(`option maxAge is invalid: ${L.maxAge}`);Y+="; Max-Age="+L.maxAge}if(L.domain){if(!n.test(L.domain))throw new TypeError(`option domain is invalid: ${L.domain}`);Y+="; Domain="+L.domain}if(L.path){if(!s.test(L.path))throw new TypeError(`option path is invalid: ${L.path}`);Y+="; Path="+L.path}if(L.expires){if(!b(L.expires)||!Number.isFinite(L.expires.valueOf()))throw new TypeError(`option expires is invalid: ${L.expires}`);Y+="; Expires="+L.expires.toUTCString()}if(L.httpOnly&&(Y+="; HttpOnly"),L.secure&&(Y+="; Secure"),L.partitioned&&(Y+="; Partitioned"),L.priority)switch(typeof L.priority=="string"?L.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${L.priority}`)}if(L.sameSite)switch(typeof L.sameSite=="string"?L.sameSite.toLowerCase():L.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${L.sameSite}`)}return Y}function T(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function b(R){return o.call(R)==="[object Date]"}return Bl}wb();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var cv="popstate";function Sb(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Sm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:eu(o)}return Ab(e,n,null,r)}function at(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ii(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function bb(){return Math.random().toString(36).substring(2,10)}function hv(r,e){return{usr:r.state,key:r.key,idx:e}}function Sm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Ro(e):e,state:n,key:e&&e.key||s||bb()}}function eu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Ro(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Ab(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,_=T();_==null&&(_=0,f.replaceState({...f.state,idx:_},""));function T(){return(f.state||{idx:null}).idx}function b(){m="POP";let q=T(),Y=q==null?null:q-_;_=q,p&&p({action:m,location:$.location,delta:Y})}function R(q,Y){m="PUSH";let te=Sm($.location,q,Y);_=T()+1;let K=hv(te,_),re=$.createHref(te);try{f.pushState(K,"",re)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(re)}u&&p&&p({action:m,location:$.location,delta:1})}function M(q,Y){m="REPLACE";let te=Sm($.location,q,Y);_=T();let K=hv(te,_),re=$.createHref(te);f.replaceState(K,"",re),u&&p&&p({action:m,location:$.location,delta:0})}function L(q){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,te=typeof q=="string"?q:eu(q);return te=te.replace(/ $/,"%20"),at(Y,`No window.location.(origin|href) available to create URL for href: ${te}`),new URL(te,Y)}let $={get action(){return m},get location(){return r(o,f)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(cv,b),p=q,()=>{o.removeEventListener(cv,b),p=null}},createHref(q){return e(o,q)},createURL:L,encodeLocation(q){let Y=L(q);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:R,replace:M,go(q){return f.go(q)}};return $}function qE(r,e,n="/"){return Rb(r,e,n,!1)}function Rb(r,e,n,s){let o=typeof e=="string"?Ro(e):e,u=dr(o.pathname||"/",n);if(u==null)return null;let f=FE(r);Cb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let _=Lb(u);m=Vb(f[p],_,s)}return m}function FE(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(at(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let _=cr([s,p.relativePath]),T=n.concat(p);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),FE(u.children,e,T,_)),!(u.path==null&&!u.index)&&e.push({path:_,score:Pb(_,u.index),routesMeta:T})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of GE(u.path))o(u,f,p)}),e}function GE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=GE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Cb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:kb(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Ib=/^:[\w-]+$/,xb=3,Nb=2,Db=1,Ob=10,Mb=-2,fv=r=>r==="*";function Pb(r,e){let n=r.split("/"),s=n.length;return n.some(fv)&&(s+=Mb),e&&(s+=Nb),n.filter(o=>!fv(o)).reduce((o,u)=>o+(Ib.test(u)?xb:u===""?Db:Ob),s)}function kb(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Vb(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],_=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",b=mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},T),R=p.route;if(!b&&_&&n&&!s[s.length-1].route.index&&(b=mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:cr([u,b.pathname]),pathnameBase:Hb(cr([u,b.pathnameBase])),route:R}),b.pathnameBase!=="/"&&(u=cr([u,b.pathnameBase]))}return f}function mh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=jb(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((_,{paramName:T,isOptional:b},R)=>{if(T==="*"){let L=m[R]||"";f=u.slice(0,u.length-L.length).replace(/(.)\/+$/,"$1")}const M=m[R];return b&&!M?_[T]=void 0:_[T]=(M||"").replace(/%2F/g,"/"),_},{}),pathname:u,pathnameBase:f,pattern:r}}function jb(r,e=!1,n=!0){Ii(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Lb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ii(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function dr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function Ub(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Ro(r):r;return{pathname:n?n.startsWith("/")?n:zb(n,e):e,search:qb(s),hash:Fb(o)}}function zb(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function um(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Bb(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $E(r){let e=Bb(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function KE(r,e,n,s=!1){let o;typeof r=="string"?o=Ro(r):(o={...r},at(!o.pathname||!o.pathname.includes("?"),um("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),um("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),um("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),b-=1;o.pathname=R.join("/")}m=b>=0?e[b]:"/"}let p=Ub(o,m),_=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(_||T)&&(p.pathname+="/"),p}var cr=r=>r.join("/").replace(/\/\/+/g,"/"),Hb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),qb=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Fb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Gb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var QE=["POST","PUT","PATCH","DELETE"];new Set(QE);var $b=["GET",...QE];new Set($b);var Co=z.createContext(null);Co.displayName="DataRouter";var Mh=z.createContext(null);Mh.displayName="DataRouterState";var YE=z.createContext({isTransitioning:!1});YE.displayName="ViewTransition";var Kb=z.createContext(new Map);Kb.displayName="Fetchers";var Qb=z.createContext(null);Qb.displayName="Await";var Di=z.createContext(null);Di.displayName="Navigation";var cu=z.createContext(null);cu.displayName="Location";var Oi=z.createContext({outlet:null,matches:[],isDataRoute:!1});Oi.displayName="Route";var Wm=z.createContext(null);Wm.displayName="RouteError";function Yb(r,{relative:e}={}){at(hu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=z.useContext(Di),{hash:o,pathname:u,search:f}=fu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:cr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function hu(){return z.useContext(cu)!=null}function yr(){return at(hu(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(cu).location}var XE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WE(r){z.useContext(Di).static||z.useLayoutEffect(r)}function Mi(){let{isDataRoute:r}=z.useContext(Oi);return r?cA():Xb()}function Xb(){at(hu(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(Co),{basename:e,navigator:n}=z.useContext(Di),{matches:s}=z.useContext(Oi),{pathname:o}=yr(),u=JSON.stringify($E(s)),f=z.useRef(!1);return WE(()=>{f.current=!0}),z.useCallback((p,_={})=>{if(Ii(f.current,XE),!f.current)return;if(typeof p=="number"){n.go(p);return}let T=KE(p,JSON.parse(u),o,_.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:cr([e,T.pathname])),(_.replace?n.replace:n.push)(T,_.state,_)},[e,n,u,o,r])}var ZE=z.createContext(null);function Wb(){return z.useContext(ZE)}function Zb(r){let e=z.useContext(Oi).outlet;return e&&z.createElement(ZE.Provider,{value:r},e)}function fu(r,{relative:e}={}){let{matches:n}=z.useContext(Oi),{pathname:s}=yr(),o=JSON.stringify($E(n));return z.useMemo(()=>KE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Jb(r,e){return JE(r,e)}function JE(r,e,n,s){var te;at(hu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=z.useContext(Di),{matches:f}=z.useContext(Oi),m=f[f.length-1],p=m?m.params:{},_=m?m.pathname:"/",T=m?m.pathnameBase:"/",b=m&&m.route;{let K=b&&b.path||"";eT(_,!b||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let R=yr(),M;if(e){let K=typeof e=="string"?Ro(e):e;at(T==="/"||((te=K.pathname)==null?void 0:te.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${K.pathname}" was given in the \`location\` prop.`),M=K}else M=R;let L=M.pathname||"/",$=L;if(T!=="/"){let K=T.replace(/^\//,"").split("/");$="/"+L.replace(/^\//,"").split("/").slice(K.length).join("/")}let q=!u&&n&&n.matches&&n.matches.length>0?n.matches:qE(r,{pathname:$});Ii(b||q!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Ii(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=rA(q&&q.map(K=>Object.assign({},K,{params:Object.assign({},p,K.params),pathname:cr([T,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?T:cr([T,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),f,n,s);return e&&Y?z.createElement(cu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},Y):Y}function eA(){let r=uA(),e=Gb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,f)}var tA=z.createElement(eA,null),nA=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?z.createElement(Oi.Provider,{value:this.props.routeContext},z.createElement(Wm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iA({routeContext:r,match:e,children:n}){let s=z.useContext(Co);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Oi.Provider,{value:r},n)}function rA(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let _=o[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=p),_.route.id){let{loaderData:T,errors:b}=n,R=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!b||b[_.route.id]===void 0);if(_.route.lazy||R){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,_,T)=>{let b,R=!1,M=null,L=null;n&&(b=u&&_.route.id?u[_.route.id]:void 0,M=_.route.errorElement||tA,f&&(m<0&&T===0?(eT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,L=null):m===T&&(R=!0,L=_.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,T+1)),q=()=>{let Y;return b?Y=M:R?Y=L:_.route.Component?Y=z.createElement(_.route.Component,null):_.route.element?Y=_.route.element:Y=p,z.createElement(iA,{match:_,routeContext:{outlet:p,matches:$,isDataRoute:n!=null},children:Y})};return n&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?z.createElement(nA,{location:n.location,revalidation:n.revalidation,component:M,error:b,children:q(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):q()},null)}function Zm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sA(r){let e=z.useContext(Co);return at(e,Zm(r)),e}function aA(r){let e=z.useContext(Mh);return at(e,Zm(r)),e}function oA(r){let e=z.useContext(Oi);return at(e,Zm(r)),e}function Jm(r){let e=oA(r),n=e.matches[e.matches.length-1];return at(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function lA(){return Jm("useRouteId")}function uA(){var s;let r=z.useContext(Wm),e=aA("useRouteError"),n=Jm("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function cA(){let{router:r}=sA("useNavigate"),e=Jm("useNavigate"),n=z.useRef(!1);return WE(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{Ii(n.current,XE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var dv={};function eT(r,e,n){!e&&!dv[r]&&(dv[r]=!0,Ii(!1,n))}z.memo(hA);function hA({routes:r,future:e,state:n}){return JE(r,void 0,n,e)}function fA(r){return Zb(r.context)}function dn(r){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function dA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){at(!hu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Ro(n));let{pathname:p="/",search:_="",hash:T="",state:b=null,key:R="default"}=n,M=z.useMemo(()=>{let L=dr(p,f);return L==null?null:{location:{pathname:L,search:_,hash:T,state:b,key:R},navigationType:s}},[f,p,_,T,b,R,s]);return Ii(M!=null,`<Router basename="${f}"> is not able to match the URL "${p}${_}${T}" because it does not start with the basename, so the <Router> won't render anything.`),M==null?null:z.createElement(Di.Provider,{value:m},z.createElement(cu.Provider,{children:e,value:M}))}function mA({children:r,location:e}){return Jb(bm(r),e)}function bm(r,e=[]){let n=[];return z.Children.forEach(r,(s,o)=>{if(!z.isValidElement(s))return;let u=[...e,o];if(s.type===z.Fragment){n.push.apply(n,bm(s.props.children,u));return}at(s.type===dn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=bm(s.props.children,u)),n.push(f)}),n}var nh="get",ih="application/x-www-form-urlencoded";function Ph(r){return r!=null&&typeof r.tagName=="string"}function pA(r){return Ph(r)&&r.tagName.toLowerCase()==="button"}function gA(r){return Ph(r)&&r.tagName.toLowerCase()==="form"}function _A(r){return Ph(r)&&r.tagName.toLowerCase()==="input"}function yA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function vA(r,e){return r.button===0&&(!e||e==="_self")&&!yA(r)}var Qc=null;function EA(){if(Qc===null)try{new FormData(document.createElement("form"),0),Qc=!1}catch{Qc=!0}return Qc}var TA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cm(r){return r!=null&&!TA.has(r)?(Ii(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ih}"`),null):r}function wA(r,e){let n,s,o,u,f;if(gA(r)){let m=r.getAttribute("action");s=m?dr(m,e):null,n=r.getAttribute("method")||nh,o=cm(r.getAttribute("enctype"))||ih,u=new FormData(r)}else if(pA(r)||_A(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?dr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||nh,o=cm(r.getAttribute("formenctype"))||cm(m.getAttribute("enctype"))||ih,u=new FormData(m,r),!EA()){let{name:_,type:T,value:b}=r;if(T==="image"){let R=_?`${_}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else _&&u.append(_,b)}}else{if(Ph(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nh,s=null,o=ih,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function ep(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function SA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function bA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function AA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await SA(u,n);return f.links?f.links():[]}return[]}));return xA(s.flat(1).filter(bA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function mv(r,e,n,s,o,u){let f=(p,_)=>n[_]?p.route.id!==n[_].route.id:!0,m=(p,_)=>{var T;return n[_].pathname!==p.pathname||((T=n[_].route.path)==null?void 0:T.endsWith("*"))&&n[_].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,_)=>f(p,_)||m(p,_)):u==="data"?e.filter((p,_)=>{var b;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,_)||m(p,_))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function RA(r,e,{includeHydrateFallback:n}={}){return CA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function CA(r){return[...new Set(r)]}function IA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function xA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(IA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function NA(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&dr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function tT(){let r=z.useContext(Co);return ep(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function DA(){let r=z.useContext(Mh);return ep(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var tp=z.createContext(void 0);tp.displayName="FrameworkContext";function nT(){let r=z.useContext(tp);return ep(r,"You must render this element inside a <HydratedRouter> element"),r}function OA(r,e){let n=z.useContext(tp),[s,o]=z.useState(!1),[u,f]=z.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:_,onMouseLeave:T,onTouchStart:b}=e,R=z.useRef(null);z.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=Y=>{Y.forEach(te=>{f(te.isIntersecting)})},q=new IntersectionObserver($,{threshold:.5});return R.current&&q.observe(R.current),()=>{q.disconnect()}}},[r]),z.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let M=()=>{o(!0)},L=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:Hl(m,M),onBlur:Hl(p,L),onMouseEnter:Hl(_,M),onMouseLeave:Hl(T,L),onTouchStart:Hl(b,M)}]:[!1,R,{}]}function Hl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function MA({page:r,...e}){let{router:n}=tT(),s=z.useMemo(()=>qE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?z.createElement(kA,{page:r,matches:s,...e}):null}function PA(r){let{manifest:e,routeModules:n}=nT(),[s,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return AA(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function kA({page:r,matches:e,...n}){let s=yr(),{manifest:o,routeModules:u}=nT(),{basename:f}=tT(),{loaderData:m,matches:p}=DA(),_=z.useMemo(()=>mv(r,e,p,o,s,"data"),[r,e,p,o,s]),T=z.useMemo(()=>mv(r,e,p,o,s,"assets"),[r,e,p,o,s]),b=z.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let L=new Set,$=!1;if(e.forEach(Y=>{var K;let te=o.routes[Y.route.id];!te||!te.hasLoader||(!_.some(re=>re.route.id===Y.route.id)&&Y.route.id in m&&((K=u[Y.route.id])!=null&&K.shouldRevalidate)||te.hasClientLoader?$=!0:L.add(Y.route.id))}),L.size===0)return[];let q=NA(r,f);return $&&L.size>0&&q.searchParams.set("_routes",e.filter(Y=>L.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[q.pathname+q.search]},[f,m,s,o,_,e,r,u]),R=z.useMemo(()=>RA(T,o),[T,o]),M=PA(T);return z.createElement(z.Fragment,null,b.map(L=>z.createElement("link",{key:L,rel:"prefetch",as:"fetch",href:L,...n})),R.map(L=>z.createElement("link",{key:L,rel:"modulepreload",href:L,...n})),M.map(({key:L,link:$})=>z.createElement("link",{key:L,...$})))}function VA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var iT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iT&&(window.__reactRouterVersion="7.3.0")}catch{}function jA({basename:r,children:e,window:n}){let s=z.useRef();s.current==null&&(s.current=Sb({window:n,v5Compat:!0}));let o=s.current,[u,f]=z.useState({action:o.action,location:o.location}),m=z.useCallback(p=>{z.startTransition(()=>f(p))},[f]);return z.useLayoutEffect(()=>o.listen(m),[o,m]),z.createElement(dA,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var rT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=z.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:_,preventScrollReset:T,viewTransition:b,...R},M){let{basename:L}=z.useContext(Di),$=typeof _=="string"&&rT.test(_),q,Y=!1;if(typeof _=="string"&&$&&(q=_,iT))try{let A=new URL(window.location.href),N=_.startsWith("//")?new URL(A.protocol+_):new URL(_),V=dr(N.pathname,L);N.origin===A.origin&&V!=null?_=V+N.search+N.hash:Y=!0}catch{Ii(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=Yb(_,{relative:o}),[K,re,se]=OA(s,R),fe=BA(_,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:b});function D(A){e&&e(A),A.defaultPrevented||fe(A)}let C=z.createElement("a",{...R,...se,href:q||te,onClick:Y||u?e:D,ref:VA(M,re),target:p,"data-discover":!$&&n==="render"?"true":void 0});return K&&!$?z.createElement(z.Fragment,null,C,z.createElement(MA,{page:te})):C});_e.displayName="Link";var LA=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,..._},T){let b=fu(f,{relative:_.relative}),R=yr(),M=z.useContext(Mh),{navigator:L,basename:$}=z.useContext(Di),q=M!=null&&$A(b)&&m===!0,Y=L.encodeLocation?L.encodeLocation(b).pathname:b.pathname,te=R.pathname,K=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;n||(te=te.toLowerCase(),K=K?K.toLowerCase():null,Y=Y.toLowerCase()),K&&$&&(K=dr(K,$)||K);const re=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let se=te===Y||!o&&te.startsWith(Y)&&te.charAt(re)==="/",fe=K!=null&&(K===Y||!o&&K.startsWith(Y)&&K.charAt(Y.length)==="/"),D={isActive:se,isPending:fe,isTransitioning:q},C=se?e:void 0,A;typeof s=="function"?A=s(D):A=[s,se?"active":null,fe?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let N=typeof u=="function"?u(D):u;return z.createElement(_e,{..._,"aria-current":C,className:A,ref:T,style:N,to:f,viewTransition:m},typeof p=="function"?p(D):p)});LA.displayName="NavLink";var UA=z.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=nh,action:m,onSubmit:p,relative:_,preventScrollReset:T,viewTransition:b,...R},M)=>{let L=FA(),$=GA(m,{relative:_}),q=f.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&rT.test(m),te=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let re=K.nativeEvent.submitter,se=(re==null?void 0:re.getAttribute("formmethod"))||f;L(re||K.currentTarget,{fetcherKey:e,method:se,navigate:n,replace:o,state:u,relative:_,preventScrollReset:T,viewTransition:b})};return z.createElement("form",{ref:M,method:q,action:$,onSubmit:s?p:te,...R,"data-discover":!Y&&r==="render"?"true":void 0})});UA.displayName="Form";function zA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sT(r){let e=z.useContext(Co);return at(e,zA(r)),e}function BA(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Mi(),p=yr(),_=fu(r,{relative:u});return z.useCallback(T=>{if(vA(T,e)){T.preventDefault();let b=n!==void 0?n:eu(p)===eu(_);m(r,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,_,n,s,e,r,o,u,f])}var HA=0,qA=()=>`__${String(++HA)}__`;function FA(){let{router:r}=sT("useSubmit"),{basename:e}=z.useContext(Di),n=lA();return z.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:_}=wA(s,e);if(o.navigate===!1){let T=o.fetcherKey||qA();await r.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function GA(r,{relative:e}={}){let{basename:n}=z.useContext(Di),s=z.useContext(Oi);at(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...fu(r||".",{relative:e})},f=yr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:cr([n,u.pathname])),eu(u)}function $A(r,e={}){let n=z.useContext(YE);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=sT("useViewTransitionState"),o=fu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=dr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=dr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return mh(o.pathname,f)!=null||mh(o.pathname,u)!=null}new TextEncoder;const KA="_container_pir9d_11",QA="_main_pir9d_29",YA="_logo_pir9d_43",XA="_h2_pir9d_51",WA="_happening_pir9d_61",ZA="_nav_pir9d_73",JA="_button_pir9d_87",eR="_awesome_pir9d_123",tR="_separator_pir9d_229",nR="_hr_pir9d_251",iR="_terms_pir9d_259",rR="_ul_pir9d_277",sR="_li_pir9d_303",aR="_flexli_pir9d_311",Oe={container:KA,main:QA,logo:YA,h2:XA,happening:WA,nav:ZA,button:JA,awesome:eR,separator:tR,hr:nR,terms:iR,ul:rR,li:sR,flexli:aR};function oR(){return y.jsxs("div",{className:Oe.container,children:[y.jsxs("main",{className:Oe.main,children:[y.jsx("h1",{className:Oe.logo,children:"At"}),y.jsxs("div",{children:[y.jsx("h1",{className:Oe.happening,children:"Happening now"}),y.jsx("h2",{className:Oe.h2,children:"Join Today."}),y.jsxs("nav",{className:Oe.nav,children:[y.jsxs(_e,{to:"/react-regular-exam/about",className:`${Oe.button} ${Oe.awesome}`,children:[y.jsx("i",{className:"fa-brands fa-google"}),"Sign up with Google"]}),y.jsxs(_e,{to:"/react-regular-exam/about",className:`${Oe.button} ${Oe.awesome}`,children:[y.jsx("i",{className:"fa-brands fa-apple"}),"Sign up with Apple"]}),y.jsxs("div",{className:Oe.separator,children:[y.jsx("hr",{className:Oe.hr}),y.jsx("p",{children:"or"}),y.jsx("hr",{className:Oe.hr})]}),y.jsx(_e,{to:"/react-regular-exam/create",className:Oe.button,children:"Create account"}),y.jsxs("p",{className:Oe.terms,children:["By signing up, you agree of the ",y.jsx(_e,{to:"/react-regular-exam/about",children:"Term of Service"}),"and ",y.jsx(_e,{to:"/react-regular-exam/about",children:"Privacy Policy"}),", incliding ",y.jsx(_e,{to:"/react-regular-exam/about",children:"Cookie Use."})]}),y.jsx("p",{id:"account",children:"Already have an account?"}),y.jsx(_e,{to:"/react-regular-exam/login",className:Oe.button,children:"Sign in"}),y.jsx("p",{children:"Take a look:"}),y.jsx(_e,{to:"/react-regular-exam/guest",className:Oe.button,children:"Guest"})]})]})]}),y.jsx("footer",{children:y.jsxs("ul",{className:Oe.ul,children:[y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"About"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Download the At app"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Help Center"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Terms of Service"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Privacy Policy"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Cookie Policy"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Accessibillity"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Ads Info"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Blog"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Careers"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Brand Resources"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Advertising"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Marketing"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"At for Business"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Developers"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Directory"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Settings"})}),y.jsx("li",{className:Oe.li,children:y.jsxs(_e,{to:"/react-regular-exam/about",className:Oe.flexli,href:"#",children:[y.jsx("i",{className:"fa-regular fa-copyright"}),"2025 X Corp"]})})]})})]})}const lR="_container_t0tol_1",uR="_nav_t0tol_15",cR="_i_t0tol_25",hR="_main_t0tol_125",fR="_search_t0tol_143",dR="_meta_t0tol_181",mR="_post_t0tol_211",pR="_feedback_t0tol_245",_n={container:lR,nav:uR,i:cR,main:hR,search:fR,meta:dR,post:mR,feedback:pR},gR=()=>{};var pv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},_R=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},oT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,_=p?r[o+2]:0,T=u>>2,b=(u&3)<<4|m>>4;let R=(m&15)<<2|_>>6,M=_&63;p||(M=64,f||(R=64)),s.push(n[T],n[b],n[R],n[M])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(aT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):_R(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const _=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||_==null||b==null)throw new yR;const R=u<<2|m>>4;if(s.push(R),_!==64){const M=m<<4&240|_>>2;if(s.push(M),b!==64){const L=_<<6&192|b;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class yR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const vR=function(r){const e=aT(r);return oT.encodeByteArray(e,!0)},ph=function(r){return vR(r).replace(/\./g,"")},lT=function(r){try{return oT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TR=()=>ER().__FIREBASE_DEFAULTS__,wR=()=>{if(typeof process>"u"||typeof pv>"u")return;const r=pv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},SR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&lT(r[1]);return e&&JSON.parse(e)},kh=()=>{try{return gR()||TR()||wR()||SR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},uT=r=>{var e,n;return(n=(e=kh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},bR=r=>{const e=uT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},cT=()=>{var r;return(r=kh())===null||r===void 0?void 0:r.config},hT=r=>{var e;return(e=kh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[ph(JSON.stringify(n)),ph(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function IR(){var r;const e=(r=kh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function xR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function DR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OR(){const r=nn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function MR(){return!IR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PR(){try{return typeof indexedDB=="object"}catch{return!1}}function kR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR="FirebaseError";class vr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=VR,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,du.prototype.create)}}class du{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?jR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new vr(o,m,s)}}function jR(r,e){return r.replace(LR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const LR=/\{\$([^}]+)}/g;function UR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ps(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(gv(u)&&gv(f)){if(!ps(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function gv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ql(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Fl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function zR(r,e){const n=new BR(r,e);return n.subscribe.bind(n)}class BR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");HR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=hm),o.error===void 0&&(o.error=hm),o.complete===void 0&&(o.complete=hm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function hm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(r){return r&&r._delegate?r._delegate:r}class oa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new AR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(GR(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:FR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function FR(r){return r===sa?void 0:r}function GR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const KR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},QR=Me.INFO,YR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},XR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=YR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class np{constructor(e){this.name=e,this._logLevel=QR,this._logHandler=XR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?KR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const WR=(r,e)=>e.some(n=>r instanceof n);let _v,yv;function ZR(){return _v||(_v=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function JR(){return yv||(yv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fT=new WeakMap,Am=new WeakMap,dT=new WeakMap,fm=new WeakMap,ip=new WeakMap;function e1(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(cs(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&fT.set(n,r)}).catch(()=>{}),ip.set(e,r),e}function t1(r){if(Am.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Am.set(r,e)}let Rm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Am.get(r);if(e==="objectStoreNames")return r.objectStoreNames||dT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function n1(r){Rm=r(Rm)}function i1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(dm(this),e,...n);return dT.set(s,e.sort?e.sort():[e]),cs(s)}:JR().includes(r)?function(...e){return r.apply(dm(this),e),cs(fT.get(this))}:function(...e){return cs(r.apply(dm(this),e))}}function r1(r){return typeof r=="function"?i1(r):(r instanceof IDBTransaction&&t1(r),WR(r,ZR())?new Proxy(r,Rm):r)}function cs(r){if(r instanceof IDBRequest)return e1(r);if(fm.has(r))return fm.get(r);const e=r1(r);return e!==r&&(fm.set(r,e),ip.set(e,r)),e}const dm=r=>ip.get(r);function s1(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=cs(f);return s&&f.addEventListener("upgradeneeded",p=>{s(cs(f.result),p.oldVersion,p.newVersion,cs(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const a1=["get","getKey","getAll","getAllKeys","count"],o1=["put","add","delete","clear"],mm=new Map;function vv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(mm.get(e))return mm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=o1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||a1.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),o&&p.done]))[0]};return mm.set(e,u),u}n1(r=>({...r,get:(e,n,s)=>vv(e,n)||r.get(e,n,s),has:(e,n)=>!!vv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(u1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function u1(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cm="@firebase/app",Ev="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new np("@firebase/app"),c1="@firebase/app-compat",h1="@firebase/analytics-compat",f1="@firebase/analytics",d1="@firebase/app-check-compat",m1="@firebase/app-check",p1="@firebase/auth",g1="@firebase/auth-compat",_1="@firebase/database",y1="@firebase/data-connect",v1="@firebase/database-compat",E1="@firebase/functions",T1="@firebase/functions-compat",w1="@firebase/installations",S1="@firebase/installations-compat",b1="@firebase/messaging",A1="@firebase/messaging-compat",R1="@firebase/performance",C1="@firebase/performance-compat",I1="@firebase/remote-config",x1="@firebase/remote-config-compat",N1="@firebase/storage",D1="@firebase/storage-compat",O1="@firebase/firestore",M1="@firebase/vertexai",P1="@firebase/firestore-compat",k1="firebase",V1="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im="[DEFAULT]",j1={[Cm]:"fire-core",[c1]:"fire-core-compat",[f1]:"fire-analytics",[h1]:"fire-analytics-compat",[m1]:"fire-app-check",[d1]:"fire-app-check-compat",[p1]:"fire-auth",[g1]:"fire-auth-compat",[_1]:"fire-rtdb",[y1]:"fire-data-connect",[v1]:"fire-rtdb-compat",[E1]:"fire-fn",[T1]:"fire-fn-compat",[w1]:"fire-iid",[S1]:"fire-iid-compat",[b1]:"fire-fcm",[A1]:"fire-fcm-compat",[R1]:"fire-perf",[C1]:"fire-perf-compat",[I1]:"fire-rc",[x1]:"fire-rc-compat",[N1]:"fire-gcs",[D1]:"fire-gcs-compat",[O1]:"fire-fst",[P1]:"fire-fst-compat",[M1]:"fire-vertex","fire-js":"fire-js",[k1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new Map,L1=new Map,xm=new Map;function Tv(r,e){try{r.container.addComponent(e)}catch(n){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function _o(r){const e=r.name;if(xm.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;xm.set(e,r);for(const n of gh.values())Tv(n,r);for(const n of L1.values())Tv(n,r);return!0}function rp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Yn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hs=new du("app","Firebase",U1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=V1;function mT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Im,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw hs.create("bad-app-name",{appName:String(o)});if(n||(n=cT()),!n)throw hs.create("no-options");const u=gh.get(o);if(u){if(ps(n,u.options)&&ps(s,u.config))return u;throw hs.create("duplicate-app",{appName:o})}const f=new $R(o);for(const p of xm.values())f.addComponent(p);const m=new z1(n,s,f);return gh.set(o,m),m}function pT(r=Im){const e=gh.get(r);if(!e&&r===Im&&cT())return mT();if(!e)throw hs.create("no-app",{appName:r});return e}function fs(r,e,n){var s;let o=(s=j1[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(m.join(" "));return}_o(new oa(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="firebase-heartbeat-database",H1=1,tu="firebase-heartbeat-store";let pm=null;function gT(){return pm||(pm=s1(B1,H1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(tu)}catch(n){console.warn(n)}}}}).catch(r=>{throw hs.create("idb-open",{originalErrorMessage:r.message})})),pm}async function q1(r){try{const n=(await gT()).transaction(tu),s=await n.objectStore(tu).get(_T(r));return await n.done,s}catch(e){if(e instanceof vr)mr.warn(e.message);else{const n=hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mr.warn(n.message)}}}async function wv(r,e){try{const s=(await gT()).transaction(tu,"readwrite");await s.objectStore(tu).put(e,_T(r)),await s.done}catch(n){if(n instanceof vr)mr.warn(n.message);else{const s=hs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mr.warn(s.message)}}}function _T(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=1024,G1=30;class $1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Q1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Sv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>G1){const f=Y1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){mr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Sv(),{heartbeatsToSend:s,unsentEntries:o}=K1(this._heartbeatsCache.heartbeats),u=ph(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return mr.warn(n),""}}}function Sv(){return new Date().toISOString().substring(0,10)}function K1(r,e=F1){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),bv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),bv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class Q1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PR()?kR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await q1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return wv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return wv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function bv(r){return ph(JSON.stringify({version:2,heartbeats:r})).length}function Y1(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(r){_o(new oa("platform-logger",e=>new l1(e),"PRIVATE")),_o(new oa("heartbeat",e=>new $1(e),"PRIVATE")),fs(Cm,Ev,r),fs(Cm,Ev,"esm2017"),fs("fire-js","")}X1("");var Av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ds,yT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,C){function A(){}A.prototype=C.prototype,D.D=C.prototype,D.prototype=new A,D.prototype.constructor=D,D.C=function(N,V,O){for(var x=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)x[lt-2]=arguments[lt];return C.prototype[V].apply(N,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,C,A){A||(A=0);var N=Array(16);if(typeof C=="string")for(var V=0;16>V;++V)N[V]=C.charCodeAt(A++)|C.charCodeAt(A++)<<8|C.charCodeAt(A++)<<16|C.charCodeAt(A++)<<24;else for(V=0;16>V;++V)N[V]=C[A++]|C[A++]<<8|C[A++]<<16|C[A++]<<24;C=D.g[0],A=D.g[1],V=D.g[2];var O=D.g[3],x=C+(O^A&(V^O))+N[0]+3614090360&4294967295;C=A+(x<<7&4294967295|x>>>25),x=O+(V^C&(A^V))+N[1]+3905402710&4294967295,O=C+(x<<12&4294967295|x>>>20),x=V+(A^O&(C^A))+N[2]+606105819&4294967295,V=O+(x<<17&4294967295|x>>>15),x=A+(C^V&(O^C))+N[3]+3250441966&4294967295,A=V+(x<<22&4294967295|x>>>10),x=C+(O^A&(V^O))+N[4]+4118548399&4294967295,C=A+(x<<7&4294967295|x>>>25),x=O+(V^C&(A^V))+N[5]+1200080426&4294967295,O=C+(x<<12&4294967295|x>>>20),x=V+(A^O&(C^A))+N[6]+2821735955&4294967295,V=O+(x<<17&4294967295|x>>>15),x=A+(C^V&(O^C))+N[7]+4249261313&4294967295,A=V+(x<<22&4294967295|x>>>10),x=C+(O^A&(V^O))+N[8]+1770035416&4294967295,C=A+(x<<7&4294967295|x>>>25),x=O+(V^C&(A^V))+N[9]+2336552879&4294967295,O=C+(x<<12&4294967295|x>>>20),x=V+(A^O&(C^A))+N[10]+4294925233&4294967295,V=O+(x<<17&4294967295|x>>>15),x=A+(C^V&(O^C))+N[11]+2304563134&4294967295,A=V+(x<<22&4294967295|x>>>10),x=C+(O^A&(V^O))+N[12]+1804603682&4294967295,C=A+(x<<7&4294967295|x>>>25),x=O+(V^C&(A^V))+N[13]+4254626195&4294967295,O=C+(x<<12&4294967295|x>>>20),x=V+(A^O&(C^A))+N[14]+2792965006&4294967295,V=O+(x<<17&4294967295|x>>>15),x=A+(C^V&(O^C))+N[15]+1236535329&4294967295,A=V+(x<<22&4294967295|x>>>10),x=C+(V^O&(A^V))+N[1]+4129170786&4294967295,C=A+(x<<5&4294967295|x>>>27),x=O+(A^V&(C^A))+N[6]+3225465664&4294967295,O=C+(x<<9&4294967295|x>>>23),x=V+(C^A&(O^C))+N[11]+643717713&4294967295,V=O+(x<<14&4294967295|x>>>18),x=A+(O^C&(V^O))+N[0]+3921069994&4294967295,A=V+(x<<20&4294967295|x>>>12),x=C+(V^O&(A^V))+N[5]+3593408605&4294967295,C=A+(x<<5&4294967295|x>>>27),x=O+(A^V&(C^A))+N[10]+38016083&4294967295,O=C+(x<<9&4294967295|x>>>23),x=V+(C^A&(O^C))+N[15]+3634488961&4294967295,V=O+(x<<14&4294967295|x>>>18),x=A+(O^C&(V^O))+N[4]+3889429448&4294967295,A=V+(x<<20&4294967295|x>>>12),x=C+(V^O&(A^V))+N[9]+568446438&4294967295,C=A+(x<<5&4294967295|x>>>27),x=O+(A^V&(C^A))+N[14]+3275163606&4294967295,O=C+(x<<9&4294967295|x>>>23),x=V+(C^A&(O^C))+N[3]+4107603335&4294967295,V=O+(x<<14&4294967295|x>>>18),x=A+(O^C&(V^O))+N[8]+1163531501&4294967295,A=V+(x<<20&4294967295|x>>>12),x=C+(V^O&(A^V))+N[13]+2850285829&4294967295,C=A+(x<<5&4294967295|x>>>27),x=O+(A^V&(C^A))+N[2]+4243563512&4294967295,O=C+(x<<9&4294967295|x>>>23),x=V+(C^A&(O^C))+N[7]+1735328473&4294967295,V=O+(x<<14&4294967295|x>>>18),x=A+(O^C&(V^O))+N[12]+2368359562&4294967295,A=V+(x<<20&4294967295|x>>>12),x=C+(A^V^O)+N[5]+4294588738&4294967295,C=A+(x<<4&4294967295|x>>>28),x=O+(C^A^V)+N[8]+2272392833&4294967295,O=C+(x<<11&4294967295|x>>>21),x=V+(O^C^A)+N[11]+1839030562&4294967295,V=O+(x<<16&4294967295|x>>>16),x=A+(V^O^C)+N[14]+4259657740&4294967295,A=V+(x<<23&4294967295|x>>>9),x=C+(A^V^O)+N[1]+2763975236&4294967295,C=A+(x<<4&4294967295|x>>>28),x=O+(C^A^V)+N[4]+1272893353&4294967295,O=C+(x<<11&4294967295|x>>>21),x=V+(O^C^A)+N[7]+4139469664&4294967295,V=O+(x<<16&4294967295|x>>>16),x=A+(V^O^C)+N[10]+3200236656&4294967295,A=V+(x<<23&4294967295|x>>>9),x=C+(A^V^O)+N[13]+681279174&4294967295,C=A+(x<<4&4294967295|x>>>28),x=O+(C^A^V)+N[0]+3936430074&4294967295,O=C+(x<<11&4294967295|x>>>21),x=V+(O^C^A)+N[3]+3572445317&4294967295,V=O+(x<<16&4294967295|x>>>16),x=A+(V^O^C)+N[6]+76029189&4294967295,A=V+(x<<23&4294967295|x>>>9),x=C+(A^V^O)+N[9]+3654602809&4294967295,C=A+(x<<4&4294967295|x>>>28),x=O+(C^A^V)+N[12]+3873151461&4294967295,O=C+(x<<11&4294967295|x>>>21),x=V+(O^C^A)+N[15]+530742520&4294967295,V=O+(x<<16&4294967295|x>>>16),x=A+(V^O^C)+N[2]+3299628645&4294967295,A=V+(x<<23&4294967295|x>>>9),x=C+(V^(A|~O))+N[0]+4096336452&4294967295,C=A+(x<<6&4294967295|x>>>26),x=O+(A^(C|~V))+N[7]+1126891415&4294967295,O=C+(x<<10&4294967295|x>>>22),x=V+(C^(O|~A))+N[14]+2878612391&4294967295,V=O+(x<<15&4294967295|x>>>17),x=A+(O^(V|~C))+N[5]+4237533241&4294967295,A=V+(x<<21&4294967295|x>>>11),x=C+(V^(A|~O))+N[12]+1700485571&4294967295,C=A+(x<<6&4294967295|x>>>26),x=O+(A^(C|~V))+N[3]+2399980690&4294967295,O=C+(x<<10&4294967295|x>>>22),x=V+(C^(O|~A))+N[10]+4293915773&4294967295,V=O+(x<<15&4294967295|x>>>17),x=A+(O^(V|~C))+N[1]+2240044497&4294967295,A=V+(x<<21&4294967295|x>>>11),x=C+(V^(A|~O))+N[8]+1873313359&4294967295,C=A+(x<<6&4294967295|x>>>26),x=O+(A^(C|~V))+N[15]+4264355552&4294967295,O=C+(x<<10&4294967295|x>>>22),x=V+(C^(O|~A))+N[6]+2734768916&4294967295,V=O+(x<<15&4294967295|x>>>17),x=A+(O^(V|~C))+N[13]+1309151649&4294967295,A=V+(x<<21&4294967295|x>>>11),x=C+(V^(A|~O))+N[4]+4149444226&4294967295,C=A+(x<<6&4294967295|x>>>26),x=O+(A^(C|~V))+N[11]+3174756917&4294967295,O=C+(x<<10&4294967295|x>>>22),x=V+(C^(O|~A))+N[2]+718787259&4294967295,V=O+(x<<15&4294967295|x>>>17),x=A+(O^(V|~C))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+C&4294967295,D.g[1]=D.g[1]+(V+(x<<21&4294967295|x>>>11))&4294967295,D.g[2]=D.g[2]+V&4294967295,D.g[3]=D.g[3]+O&4294967295}s.prototype.u=function(D,C){C===void 0&&(C=D.length);for(var A=C-this.blockSize,N=this.B,V=this.h,O=0;O<C;){if(V==0)for(;O<=A;)o(this,D,O),O+=this.blockSize;if(typeof D=="string"){for(;O<C;)if(N[V++]=D.charCodeAt(O++),V==this.blockSize){o(this,N),V=0;break}}else for(;O<C;)if(N[V++]=D[O++],V==this.blockSize){o(this,N),V=0;break}}this.h=V,this.o+=C},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var C=1;C<D.length-8;++C)D[C]=0;var A=8*this.o;for(C=D.length-8;C<D.length;++C)D[C]=A&255,A/=256;for(this.u(D),D=Array(16),C=A=0;4>C;++C)for(var N=0;32>N;N+=8)D[A++]=this.g[C]>>>N&255;return D};function u(D,C){var A=m;return Object.prototype.hasOwnProperty.call(A,D)?A[D]:A[D]=C(D)}function f(D,C){this.h=C;for(var A=[],N=!0,V=D.length-1;0<=V;V--){var O=D[V]|0;N&&O==C||(A[V]=O,N=!1)}this.g=A}var m={};function p(D){return-128<=D&&128>D?u(D,function(C){return new f([C|0],0>C?-1:0)}):new f([D|0],0>D?-1:0)}function _(D){if(isNaN(D)||!isFinite(D))return b;if(0>D)return q(_(-D));for(var C=[],A=1,N=0;D>=A;N++)C[N]=D/A|0,A*=4294967296;return new f(C,0)}function T(D,C){if(D.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(D.charAt(0)=="-")return q(T(D.substring(1),C));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=_(Math.pow(C,8)),N=b,V=0;V<D.length;V+=8){var O=Math.min(8,D.length-V),x=parseInt(D.substring(V,V+O),C);8>O?(O=_(Math.pow(C,O)),N=N.j(O).add(_(x))):(N=N.j(A),N=N.add(_(x)))}return N}var b=p(0),R=p(1),M=p(16777216);r=f.prototype,r.m=function(){if($(this))return-q(this).m();for(var D=0,C=1,A=0;A<this.g.length;A++){var N=this.i(A);D+=(0<=N?N:4294967296+N)*C,C*=4294967296}return D},r.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(L(this))return"0";if($(this))return"-"+q(this).toString(D);for(var C=_(Math.pow(D,6)),A=this,N="";;){var V=re(A,C).g;A=Y(A,V.j(C));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(D);if(A=V,L(A))return O+N;for(;6>O.length;)O="0"+O;N=O+N}},r.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function L(D){if(D.h!=0)return!1;for(var C=0;C<D.g.length;C++)if(D.g[C]!=0)return!1;return!0}function $(D){return D.h==-1}r.l=function(D){return D=Y(this,D),$(D)?-1:L(D)?0:1};function q(D){for(var C=D.g.length,A=[],N=0;N<C;N++)A[N]=~D.g[N];return new f(A,~D.h).add(R)}r.abs=function(){return $(this)?q(this):this},r.add=function(D){for(var C=Math.max(this.g.length,D.g.length),A=[],N=0,V=0;V<=C;V++){var O=N+(this.i(V)&65535)+(D.i(V)&65535),x=(O>>>16)+(this.i(V)>>>16)+(D.i(V)>>>16);N=x>>>16,O&=65535,x&=65535,A[V]=x<<16|O}return new f(A,A[A.length-1]&-2147483648?-1:0)};function Y(D,C){return D.add(q(C))}r.j=function(D){if(L(this)||L(D))return b;if($(this))return $(D)?q(this).j(q(D)):q(q(this).j(D));if($(D))return q(this.j(q(D)));if(0>this.l(M)&&0>D.l(M))return _(this.m()*D.m());for(var C=this.g.length+D.g.length,A=[],N=0;N<2*C;N++)A[N]=0;for(N=0;N<this.g.length;N++)for(var V=0;V<D.g.length;V++){var O=this.i(N)>>>16,x=this.i(N)&65535,lt=D.i(V)>>>16,yt=D.i(V)&65535;A[2*N+2*V]+=x*yt,te(A,2*N+2*V),A[2*N+2*V+1]+=O*yt,te(A,2*N+2*V+1),A[2*N+2*V+1]+=x*lt,te(A,2*N+2*V+1),A[2*N+2*V+2]+=O*lt,te(A,2*N+2*V+2)}for(N=0;N<C;N++)A[N]=A[2*N+1]<<16|A[2*N];for(N=C;N<2*C;N++)A[N]=0;return new f(A,0)};function te(D,C){for(;(D[C]&65535)!=D[C];)D[C+1]+=D[C]>>>16,D[C]&=65535,C++}function K(D,C){this.g=D,this.h=C}function re(D,C){if(L(C))throw Error("division by zero");if(L(D))return new K(b,b);if($(D))return C=re(q(D),C),new K(q(C.g),q(C.h));if($(C))return C=re(D,q(C)),new K(q(C.g),C.h);if(30<D.g.length){if($(D)||$(C))throw Error("slowDivide_ only works with positive integers.");for(var A=R,N=C;0>=N.l(D);)A=se(A),N=se(N);var V=fe(A,1),O=fe(N,1);for(N=fe(N,2),A=fe(A,2);!L(N);){var x=O.add(N);0>=x.l(D)&&(V=V.add(A),O=x),N=fe(N,1),A=fe(A,1)}return C=Y(D,V.j(C)),new K(V,C)}for(V=b;0<=D.l(C);){for(A=Math.max(1,Math.floor(D.m()/C.m())),N=Math.ceil(Math.log(A)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),O=_(A),x=O.j(C);$(x)||0<x.l(D);)A-=N,O=_(A),x=O.j(C);L(O)&&(O=R),V=V.add(O),D=Y(D,x)}return new K(V,D)}r.A=function(D){return re(this,D).h},r.and=function(D){for(var C=Math.max(this.g.length,D.g.length),A=[],N=0;N<C;N++)A[N]=this.i(N)&D.i(N);return new f(A,this.h&D.h)},r.or=function(D){for(var C=Math.max(this.g.length,D.g.length),A=[],N=0;N<C;N++)A[N]=this.i(N)|D.i(N);return new f(A,this.h|D.h)},r.xor=function(D){for(var C=Math.max(this.g.length,D.g.length),A=[],N=0;N<C;N++)A[N]=this.i(N)^D.i(N);return new f(A,this.h^D.h)};function se(D){for(var C=D.g.length+1,A=[],N=0;N<C;N++)A[N]=D.i(N)<<1|D.i(N-1)>>>31;return new f(A,D.h)}function fe(D,C){var A=C>>5;C%=32;for(var N=D.g.length-A,V=[],O=0;O<N;O++)V[O]=0<C?D.i(O+A)>>>C|D.i(O+A+1)<<32-C:D.i(O+A);return new f(V,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,yT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=T,ds=f}).apply(typeof Av<"u"?Av:typeof self<"u"?self:typeof window<"u"?window:{});var Yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vT,Gl,ET,rh,Nm,TT,wT,ST;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yc=="object"&&Yc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in v))break e;v=v[B]}c=c[c.length-1],S=v[c],g=g(S),g!=S&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var v=0,S=!1,B={next:function(){if(!S&&v<c.length){var G=v++;return{value:g(G,c[G]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function _(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function T(c,g,v){return c.call.apply(c.bind,arguments)}function b(c,g,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),c.apply(g,B)}}return function(){return c.apply(g,arguments)}}function R(c,g,v){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:b,R.apply(null,arguments)}function M(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function L(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,B,G){for(var ie=Array(arguments.length-2),je=2;je<arguments.length;je++)ie[je-2]=arguments[je];return g.prototype[B].apply(S,ie)}}function $(c){const g=c.length;if(0<g){const v=Array(g);for(let S=0;S<g;S++)v[S]=c[S];return v}return[]}function q(c,g){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const B=c.length||0,G=S.length||0;c.length=B+G;for(let ie=0;ie<G;ie++)c[B+ie]=S[ie]}else c.push(S)}}class Y{constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function te(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function re(c){return re[" "](c),c}re[" "]=function(){};var se=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function fe(c,g,v){for(const S in c)g.call(v,c[S],S,c)}function D(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function C(c){const g={};for(const v in c)g[v]=c[v];return g}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(c,g){let v,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(v in S)c[v]=S[v];for(let G=0;G<A.length;G++)v=A[G],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function V(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function O(c){m.setTimeout(()=>{throw c},0)}function x(){var c=Ge;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class lt{constructor(){this.h=this.g=null}add(g,v){const S=yt.get();S.set(g,v),this.h?this.h.next=S:this.g=S,this.h=S}}var yt=new Y(()=>new ae,c=>c.reset());class ae{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,ge=!1,Ge=new lt,P=()=>{const c=m.Promise.resolve(void 0);Te=()=>{c.then(ne)}};var ne=()=>{for(var c;c=x();){try{c.h.call(c.g)}catch(v){O(v)}var g=yt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ge=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return c}();function Ie(c,g){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(se){e:{try{re(g.nodeName);var B=!0;break e}catch{}B=!1}B||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Re[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}L(Ie,oe);var Re={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var vt="closure_listenable_"+(1e6*Math.random()|0),Be=0;function ut(c,g,v,S,B){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!S,this.ha=B,this.key=++Be,this.da=this.fa=!1}function Qe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function sn(c){this.src=c,this.g={},this.h=0}sn.prototype.add=function(c,g,v,S,B){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var ie=On(c,g,S,B);return-1<ie?(g=c[ie],v||(g.fa=!1)):(g=new ut(g,this.src,G,!!S,B),g.fa=v,c.push(g)),g};function Pi(c,g){var v=g.type;if(v in c.g){var S=c.g[v],B=Array.prototype.indexOf.call(S,g,void 0),G;(G=0<=B)&&Array.prototype.splice.call(S,B,1),G&&(Qe(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function On(c,g,v,S){for(var B=0;B<c.length;++B){var G=c[B];if(!G.da&&G.listener==g&&G.capture==!!v&&G.ha==S)return B}return-1}var Er="closure_lm_"+(1e6*Math.random()|0),Tr={};function ki(c,g,v,S,B){if(Array.isArray(g)){for(var G=0;G<g.length;G++)ki(c,g[G],v,S,B);return null}return v=Cu(v),c&&c[vt]?c.K(g,v,_(S)?!!S.capture:!1,B):Po(c,g,v,!1,S,B)}function Po(c,g,v,S,B,G){if(!g)throw Error("Invalid event type");var ie=_(B)?!!B.capture:!!B,je=ko(c);if(je||(c[Er]=je=new sn(c)),v=je.add(g,v,S,ie,G),v.proxy)return v;if(S=_a(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)le||(B=ie),B===void 0&&(B=!1),c.addEventListener(g.toString(),S,B);else if(c.attachEvent)c.attachEvent(va(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function _a(){function c(v){return g.call(c.src,c.listener,v)}const g=sf;return c}function ya(c,g,v,S,B){if(Array.isArray(g))for(var G=0;G<g.length;G++)ya(c,g[G],v,S,B);else S=_(S)?!!S.capture:!!S,v=Cu(v),c&&c[vt]?(c=c.i,g=String(g).toString(),g in c.g&&(G=c.g[g],v=On(G,v,S,B),-1<v&&(Qe(G[v]),Array.prototype.splice.call(G,v,1),G.length==0&&(delete c.g[g],c.h--)))):c&&(c=ko(c))&&(g=c.g[g.toString()],c=-1,g&&(c=On(g,v,S,B)),(v=-1<c?g[c]:null)&&Rs(v))}function Rs(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[vt])Pi(g.i,c);else{var v=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(v,S,c.capture):g.detachEvent?g.detachEvent(va(v),S):g.addListener&&g.removeListener&&g.removeListener(S),(v=ko(g))?(Pi(v,c),v.h==0&&(v.src=null,g[Er]=null)):Qe(c)}}}function va(c){return c in Tr?Tr[c]:Tr[c]="on"+c}function sf(c,g){if(c.da)c=!0;else{g=new Ie(g,this);var v=c.listener,S=c.ha||c.src;c.fa&&Rs(c),c=v.call(S,g)}return c}function ko(c){return c=c[Er],c instanceof sn?c:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cu(c){return typeof c=="function"?c:(c[mn]||(c[mn]=function(g){return c.handleEvent(g)}),c[mn])}function bt(){de.call(this),this.i=new sn(this),this.M=this,this.F=null}L(bt,de),bt.prototype[vt]=!0,bt.prototype.removeEventListener=function(c,g,v,S){ya(this,c,g,v,S)};function Mt(c,g){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new oe(g,c);else if(g instanceof oe)g.target=g.target||c;else{var B=g;g=new oe(S,c),N(g,B)}if(B=!0,v)for(var G=v.length-1;0<=G;G--){var ie=g.g=v[G];B=Vi(ie,S,!0,g)&&B}if(ie=g.g=c,B=Vi(ie,S,!0,g)&&B,B=Vi(ie,S,!1,g)&&B,v)for(G=0;G<v.length;G++)ie=g.g=v[G],B=Vi(ie,S,!1,g)&&B}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],S=0;S<v.length;S++)Qe(v[S]);delete c.g[g],c.h--}}this.F=null},bt.prototype.K=function(c,g,v,S){return this.i.add(String(c),g,!1,v,S)},bt.prototype.L=function(c,g,v,S){return this.i.add(String(c),g,!0,v,S)};function Vi(c,g,v,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var B=!0,G=0;G<g.length;++G){var ie=g[G];if(ie&&!ie.da&&ie.capture==v){var je=ie.listener,Rt=ie.ha||ie.src;ie.fa&&Pi(c.i,ie),B=je.call(Rt,S)!==!1&&B}}return B&&!S.defaultPrevented}function Iu(c,g,v){if(typeof c=="function")v&&(c=R(c,v));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function Vo(c){c.g=Iu(()=>{c.g=null,c.i&&(c.i=!1,Vo(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class af extends de{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Vo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cs(c){de.call(this),this.h=c,this.g={}}L(Cs,de);var wr=[];function Yt(c){fe(c.g,function(g,v){this.g.hasOwnProperty(v)&&Rs(g)},c),c.g={}}Cs.prototype.N=function(){Cs.aa.N.call(this),Yt(this)},Cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var jo=m.JSON.stringify,ai=m.JSON.parse,an=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Lo(){}Lo.prototype.h=null;function xu(c){return c.h||(c.h=c.i())}function Nu(){}var oi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sr(){oe.call(this,"d")}L(Sr,oe);function Wn(){oe.call(this,"c")}L(Wn,oe);var Mn={},br=null;function Ea(){return br=br||new bt}Mn.La="serverreachability";function Uo(c){oe.call(this,Mn.La,c)}L(Uo,oe);function Ar(c){const g=Ea();Mt(g,new Uo(g))}Mn.STAT_EVENT="statevent";function Ta(c,g){oe.call(this,Mn.STAT_EVENT,c),this.stat=g}L(Ta,oe);function pt(c){const g=Ea();Mt(g,new Ta(g,c))}Mn.Ma="timingevent";function Du(c,g){oe.call(this,Mn.Ma,c),this.size=g}L(Du,oe);function Rr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function Cr(){this.g=!0}Cr.prototype.xa=function(){this.g=!1};function Ou(c,g,v,S,B,G){c.info(function(){if(c.g)if(G)for(var ie="",je=G.split("&"),Rt=0;Rt<je.length;Rt++){var Le=je[Rt].split("=");if(1<Le.length){var Vt=Le[0];Le=Le[1];var Ct=Vt.split("_");ie=2<=Ct.length&&Ct[1]=="type"?ie+(Vt+"="+Le+"&"):ie+(Vt+"=redacted&")}}else ie=null;else ie=G;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+g+`
`+v+`
`+ie})}function Mu(c,g,v,S,B,G,ie){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+g+`
`+v+`
`+G+" "+ie})}function Ir(c,g,v,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Pt(c,v)+(S?" "+S:"")})}function li(c,g){c.info(function(){return"TIMEOUT: "+g})}Cr.prototype.info=function(){};function Pt(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var G=B[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ie=1;ie<B.length;ie++)B[ie]=""}}}}return jo(v)}catch{return g}}var At={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ji={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Is;function wa(){}L(wa,Lo),wa.prototype.g=function(){return new XMLHttpRequest},wa.prototype.i=function(){return{}},Is=new wa;function ui(c,g,v,S){this.j=c,this.i=g,this.l=v,this.R=S||1,this.U=new Cs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new zo}function zo(){this.i=null,this.g="",this.h=!1}var xr={},xs={};function Zn(c,g,v){c.L=1,c.v=Os(ct(g)),c.m=v,c.P=!0,Li(c,null)}function Li(c,g){c.F=Date.now(),it(c),c.A=ct(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Bi(v.i,"t",S),c.C=0,v=c.j.J,c.h=new zo,c.g=Ku(c.j,v?g:null,!c.m),0<c.O&&(c.M=new af(R(c.Y,c,c.g),c.O)),g=c.U,v=c.g,S=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(wr[0]=B.toString()),B=wr);for(var G=0;G<B.length;G++){var ie=ki(v,B[G],S||g.handleEvent,!1,g.h||g);if(!ie)break;g.g[ie.key]=ie}g=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Ar(),Ou(c.i,c.u,c.A,c.l,c.R,c.m)}ui.prototype.ca=function(c){c=c.target;const g=this.M;g&&Ln(c)==3?g.j():this.Y(c)},ui.prototype.Y=function(c){try{if(c==this.g)e:{const Ct=Ln(this.g);var g=this.g.Ba();const Gi=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||Uu(this.g)))){this.J||Ct!=4||g==7||(g==8||0>=Gi?Ar(3):Ar(2)),Sa(this);var v=this.g.Z();this.X=v;t:if(Nr(this)){var S=Uu(this.g);c="";var B=S.length,G=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pn(this),bn(this);var ie="";break t}this.h.i=new m.TextDecoder}for(g=0;g<B;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(G&&g==B-1)});S.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=v==200,Mu(this.i,this.u,this.A,this.l,this.R,Ct,v),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Rt=this.g;if((je=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(je)){var Le=je;break t}}Le=null}if(v=Le)Ir(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,An(this,v);else{this.o=!1,this.s=3,pt(12),pn(this),bn(this);break e}}if(this.P){v=!0;let Bt;for(;!this.J&&this.C<ie.length;)if(Bt=Dr(this,ie),Bt==xs){Ct==4&&(this.s=4,pt(14),v=!1),Ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==xr){this.s=4,pt(15),Ir(this.i,this.l,ie,"[Invalid Chunk]"),v=!1;break}else Ir(this.i,this.l,Bt,null),An(this,Bt);if(Nr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||ie.length!=0||this.h.h||(this.s=1,pt(16),v=!1),this.o=this.o&&v,!v)Ir(this.i,this.l,ie,"[Invalid Chunked Response]"),pn(this),bn(this);else if(0<ie.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Us(Vt),Vt.M=!0,pt(11))}}else Ir(this.i,this.l,ie,null),An(this,ie);Ct==4&&pn(this),this.o&&!this.J&&(Ct==4?Fu(this.j,this):(this.o=!1,it(this)))}else ff(this.g),v==400&&0<ie.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),pn(this),bn(this)}}}catch{}finally{}};function Nr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Dr(c,g){var v=c.C,S=g.indexOf(`
`,v);return S==-1?xs:(v=Number(g.substring(v,S)),isNaN(v)?xr:(S+=1,S+v>g.length?xs:(g=g.slice(S,S+v),c.C=S+v,g)))}ui.prototype.cancel=function(){this.J=!0,pn(this)};function it(c){c.S=Date.now()+c.I,Bo(c,c.I)}function Bo(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Rr(R(c.ba,c),g)}function Sa(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ui.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(li(this.i,this.A),this.L!=2&&(Ar(),pt(17)),pn(this),this.s=2,bn(this)):Bo(this,this.S-c)};function bn(c){c.j.G==0||c.J||Fu(c.j,c)}function pn(c){Sa(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Yt(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function An(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||Or(v.h,c))){if(!c.K&&Or(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Ma(v),Da(v);else break e;Zo(v),pt(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=Rr(R(v.Za,v),6e3));if(1>=Pu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Fi(v,11)}else if((c.K||v.g==c)&&Ma(v),!te(g))for(B=v.Da.g.parse(g),g=0;g<B.length;g++){let Le=B[g];if(v.T=Le[0],Le=Le[1],v.G==2)if(Le[0]=="c"){v.K=Le[1],v.ia=Le[2];const Vt=Le[3];Vt!=null&&(v.la=Vt,v.j.info("VER="+v.la));const Ct=Le[4];Ct!=null&&(v.Aa=Ct,v.j.info("SVER="+v.Aa));const Gi=Le[5];Gi!=null&&typeof Gi=="number"&&0<Gi&&(S=1.5*Gi,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Bt=c.g;if(Bt){const gi=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(gi){var G=S.h;G.g||gi.indexOf("spdy")==-1&&gi.indexOf("quic")==-1&&gi.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Mr(G,G.h),G.h=null))}if(S.D){const el=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;el&&(S.ya=el,He(S.I,S.D,el))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ie=c;if(S.qa=$u(S,S.J?S.ia:null,S.W),ie.K){Pn(S.h,ie);var je=ie,Rt=S.L;Rt&&(je.I=Rt),je.B&&(Sa(je),it(je)),S.g=ie}else Hu(S);0<v.i.length&&Oa(v)}else Le[0]!="stop"&&Le[0]!="close"||Fi(v,7);else v.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Fi(v,7):Xo(v):Le[0]!="noop"&&v.l&&v.l.ta(Le),v.v=0)}}Ar(4)}catch{}}var of=class{constructor(c,g){this.g=c,this.map=g}};function Ho(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function qo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Pu(c){return c.h?1:c.g?c.g.size:0}function Or(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Mr(c,g){c.g?c.g.add(g):c.h=g}function Pn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Ho.prototype.cancel=function(){if(this.i=on(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function on(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return $(c.i)}function ku(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],v=c.length,S=0;S<v;S++)g.push(c[S]);return g}g=[],v=0;for(S in c)g[v++]=c[S];return g}function lf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const S in c)g[v++]=S;return g}}}function Ns(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=lf(c),S=ku(c),B=S.length,G=0;G<B;G++)g.call(void 0,S[G],v&&v[G],c)}var Fo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),B=null;if(0<=S){var G=c[v].substring(0,S);B=c[v].substring(S+1)}else G=c[v];g(G,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Ui(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ui){this.h=c.h,Pr(this,c.j),this.o=c.o,this.g=c.g,Ds(this,c.s),this.l=c.l;var g=c.i,v=new ci;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),Aa(this,v),this.m=c.m}else c&&(g=String(c).match(Fo))?(this.h=!1,Pr(this,g[1]||"",!0),this.o=kr(g[2]||""),this.g=kr(g[3]||"",!0),Ds(this,g[4]),this.l=kr(g[5]||"",!0),Aa(this,g[6]||"",!0),this.m=kr(g[7]||"")):(this.h=!1,this.i=new ci(null,this.h))}Ui.prototype.toString=function(){var c=[],g=this.j;g&&c.push(kn(g,Go,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(kn(g,Go,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(kn(v,v.charAt(0)=="/"?$o:Vu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",kn(v,hf)),c.join("")};function ct(c){return new Ui(c)}function Pr(c,g,v){c.j=v?kr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Ds(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Aa(c,g,v){g instanceof ci?(c.i=g,Ko(c.i,c.h)):(v||(g=kn(g,cf)),c.i=new ci(g,c.h))}function He(c,g,v){c.i.set(g,v)}function Os(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function kr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function kn(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,uf),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function uf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Go=/[#\/\?@]/g,Vu=/[#\?:]/g,$o=/[#\?]/g,cf=/[#\?@]/g,hf=/#/g;function ci(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Vn(c){c.g||(c.g=new Map,c.h=0,c.i&&ba(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=ci.prototype,r.add=function(c,g){Vn(this),this.i=null,c=Hi(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Ra(c,g){Vn(c),g=Hi(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function zi(c,g){return Vn(c),g=Hi(c,g),c.g.has(g)}r.forEach=function(c,g){Vn(this),this.g.forEach(function(v,S){v.forEach(function(B){c.call(g,B,S,this)},this)},this)},r.na=function(){Vn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let S=0;S<g.length;S++){const B=c[S];for(let G=0;G<B.length;G++)v.push(g[S])}return v},r.V=function(c){Vn(this);let g=[];if(typeof c=="string")zi(this,c)&&(g=g.concat(this.g.get(Hi(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},r.set=function(c,g){return Vn(this),this.i=null,c=Hi(this,c),zi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Bi(c,g,v){Ra(c,g),0<v.length&&(c.i=null,c.g.set(Hi(c,g),$(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var S=g[v];const G=encodeURIComponent(String(S)),ie=this.V(S);for(S=0;S<ie.length;S++){var B=G;ie[S]!==""&&(B+="="+encodeURIComponent(String(ie[S]))),c.push(B)}}return this.i=c.join("&")};function Hi(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Ko(c,g){g&&!c.j&&(Vn(c),c.i=null,c.g.forEach(function(v,S){var B=S.toLowerCase();S!=B&&(Ra(this,S),Bi(this,B,v))},c)),c.j=g}function ju(c,g){const v=new Cr;if(m.Image){const S=new Image;S.onload=M(jn,v,"TestLoadImage: loaded",!0,g,S),S.onerror=M(jn,v,"TestLoadImage: error",!1,g,S),S.onabort=M(jn,v,"TestLoadImage: abort",!1,g,S),S.ontimeout=M(jn,v,"TestLoadImage: timeout",!1,g,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function Ms(c,g){const v=new Cr,S=new AbortController,B=setTimeout(()=>{S.abort(),jn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(B),G.ok?jn(v,"TestPingServer: ok",!0,g):jn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(B),jn(v,"TestPingServer: error",!1,g)})}function jn(c,g,v,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(v)}catch{}}function Ps(){this.g=new an}function hi(c,g,v){const S=v||"";try{Ns(c,function(B,G){let ie=B;_(B)&&(ie=jo(B)),g.push(S+G+"="+encodeURIComponent(ie))})}catch(B){throw g.push(S+"type="+encodeURIComponent("_badmap")),B}}function Vr(c){this.l=c.Ub||null,this.j=c.eb||!1}L(Vr,Lo),Vr.prototype.g=function(){return new qi(this.l,this.j)},Vr.prototype.i=function(c){return function(){return c}}({});function qi(c,g){bt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(qi,bt),r=qi.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,di(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,fi(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,di(this)),this.g&&(this.readyState=3,di(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?fi(this):di(this),this.readyState==3&&Qo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,fi(this))},r.Qa=function(c){this.g&&(this.response=c,fi(this))},r.ga=function(){this.g&&fi(this)};function fi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,di(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function di(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Yo(c){let g="";return fe(c,function(v,S){g+=S,g+=":",g+=v,g+=`\r
`}),g}function kt(c,g,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Yo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):He(c,g,v))}function $e(c){bt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L($e,bt);var Ca=/^https?$/i,ks=["POST","PUT"];r=$e.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Is.g(),this.v=this.o?xu(this.o):xu(Is),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){Lu(this,G);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)v.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())v.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ks,g,void 0))||S||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ie]of v)this.g.setRequestHeader(G,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vs(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){Lu(this,G)}};function Lu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Ia(c),mi(c)}function Ia(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Mt(this,"complete"),Mt(this,"abort"),mi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),mi(this,!0)),$e.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?xa(this):this.bb())},r.bb=function(){xa(this)};function xa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Ln(c)!=4||c.Z()!=2)){if(c.u&&Ln(c)==4)Iu(c.Ea,0,c);else if(Mt(c,"readystatechange"),Ln(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var S;if(S=ie===0){var B=String(c.D).match(Fo)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),S=!Ca.test(B?B.toLowerCase():"")}v=S}if(v)Mt(c,"complete"),Mt(c,"success");else{c.m=6;try{var G=2<Ln(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",Ia(c)}}finally{mi(c)}}}}function mi(c,g){if(c.g){Vs(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Mt(c,"ready");try{v.onreadystatechange=S}catch{}}}function Vs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Ln(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ai(g)}};function Uu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ff(c){const g={};c=(c.g&&2<=Ln(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(te(c[S]))continue;var v=V(c[S]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=g[B]||[];g[B]=G,G.push(v)}D(g,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function js(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Na(c){this.Aa=0,this.i=[],this.j=new Cr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=js("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=js("baseRetryDelayMs",5e3,c),this.cb=js("retryDelaySeedMs",1e4,c),this.Wa=js("forwardChannelMaxRetries",2,c),this.wa=js("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ho(c&&c.concurrentRequestLimit),this.Da=new Ps,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Na.prototype,r.la=8,r.G=1,r.connect=function(c,g,v,S){pt(0),this.W=c,this.H=g||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=$u(this,null,this.W),Oa(this)};function Xo(c){if(zu(c),c.G==3){var g=c.U++,v=ct(c.I);if(He(v,"SID",c.K),He(v,"RID",g),He(v,"TYPE","terminate"),Ls(c,v),g=new ui(c,c.j,g),g.L=2,g.v=Os(ct(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=Ku(g.j,null),g.g.ea(g.v)),g.F=Date.now(),it(g)}Gu(c)}function Da(c){c.g&&(Us(c),c.g.cancel(),c.g=null)}function zu(c){Da(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ma(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Oa(c){if(!qo(c.h)&&!c.s){c.s=!0;var g=c.Ga;Te||P(),ge||(Te(),ge=!0),Ge.add(g,c),c.B=0}}function df(c,g){return Pu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Rr(R(c.Ga,c,g),Jo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new ui(this,this.j,c);let G=this.o;if(this.S&&(G?(G=C(G),N(G,this.S)):G=this.S),this.m!==null||this.O||(B.H=G,G=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Bu(this,B,g),v=ct(this.I),He(v,"RID",c),He(v,"CVER",22),this.D&&He(v,"X-HTTP-Session-Id",this.D),Ls(this,v),G&&(this.O?g="headers="+encodeURIComponent(String(Yo(G)))+"&"+g:this.m&&kt(v,this.m,G)),Mr(this.h,B),this.Ua&&He(v,"TYPE","init"),this.P?(He(v,"$req",g),He(v,"SID","null"),B.T=!0,Zn(B,v,null)):Zn(B,v,g),this.G=2}}else this.G==3&&(c?Wo(this,c):this.i.length==0||qo(this.h)||Wo(this))};function Wo(c,g){var v;g?v=g.l:v=c.U++;const S=ct(c.I);He(S,"SID",c.K),He(S,"RID",v),He(S,"AID",c.T),Ls(c,S),c.m&&c.o&&kt(S,c.m,c.o),v=new ui(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Bu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Mr(c.h,v),Zn(v,S,g)}function Ls(c,g){c.H&&fe(c.H,function(v,S){He(g,S,v)}),c.l&&Ns({},function(v,S){He(g,S,v)})}function Bu(c,g,v){v=Math.min(c.i.length,v);var S=c.l?R(c.l.Na,c.l,c):null;e:{var B=c.i;let G=-1;for(;;){const ie=["count="+v];G==-1?0<v?(G=B[0].g,ie.push("ofs="+G)):G=0:ie.push("ofs="+G);let je=!0;for(let Rt=0;Rt<v;Rt++){let Le=B[Rt].g;const Vt=B[Rt].map;if(Le-=G,0>Le)G=Math.max(0,B[Rt].g-100),je=!1;else try{hi(Vt,ie,"req"+Le+"_")}catch{S&&S(Vt)}}if(je){S=ie.join("&");break e}}}return c=c.i.splice(0,v),g.D=c,S}function Hu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Te||P(),ge||(Te(),ge=!0),Ge.add(g,c),c.v=0}}function Zo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Rr(R(c.Fa,c),Jo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,qu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Rr(R(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Da(this),qu(this))};function Us(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function qu(c){c.g=new ui(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=ct(c.qa);He(g,"RID","rpc"),He(g,"SID",c.K),He(g,"AID",c.T),He(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(g,"TO",c.ja),He(g,"TYPE","xmlhttp"),Ls(c,g),c.m&&c.o&&kt(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Os(ct(g)),v.m=null,v.P=!0,Li(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Da(this),Zo(this),pt(19))};function Ma(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Fu(c,g){var v=null;if(c.g==g){Ma(c),Us(c),c.g=null;var S=2}else if(Or(c.h,g))v=g.D,Pn(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var B=c.B;S=Ea(),Mt(S,new Du(S,v)),Oa(c)}else Hu(c);else if(B=g.s,B==3||B==0&&0<g.X||!(S==1&&df(c,g)||S==2&&Zo(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),B){case 1:Fi(c,5);break;case 4:Fi(c,10);break;case 3:Fi(c,6);break;default:Fi(c,2)}}}function Jo(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function Fi(c,g){if(c.j.info("Error code "+g),g==2){var v=R(c.fb,c),S=c.Xa;const B=!S;S=new Ui(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Pr(S,"https"),Os(S),B?ju(S.toString(),v):Ms(S.toString(),v)}else pt(2);c.G=0,c.l&&c.l.sa(g),Gu(c),zu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Gu(c){if(c.G=0,c.ka=[],c.l){const g=on(c.h);(g.length!=0||c.i.length!=0)&&(q(c.ka,g),q(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function $u(c,g,v){var S=v instanceof Ui?ct(v):new Ui(v);if(S.g!="")g&&(S.g=g+"."+S.g),Ds(S,S.s);else{var B=m.location;S=B.protocol,g=g?g+"."+B.hostname:B.hostname,B=+B.port;var G=new Ui(null);S&&Pr(G,S),g&&(G.g=g),B&&Ds(G,B),v&&(G.l=v),S=G}return v=c.D,g=c.ya,v&&g&&He(S,v,g),He(S,"VER",c.la),Ls(c,S),S}function Ku(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new $e(new Vr({eb:v})):new $e(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}r=Qu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Pa(){}Pa.prototype.g=function(c,g){return new ln(c,g)};function ln(c,g){bt.call(this),this.g=new Na(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!te(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!te(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new pi(this)}L(ln,bt),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Xo(this.g)},ln.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=jo(c),c=v);g.i.push(new of(g.Ya++,c)),g.G==3&&Oa(g)},ln.prototype.N=function(){this.g.l=null,delete this.j,Xo(this.g),delete this.g,ln.aa.N.call(this)};function Yu(c){Sr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}L(Yu,Sr);function Xu(){Wn.call(this),this.status=1}L(Xu,Wn);function pi(c){this.g=c}L(pi,Qu),pi.prototype.ua=function(){Mt(this.g,"a")},pi.prototype.ta=function(c){Mt(this.g,new Yu(c))},pi.prototype.sa=function(c){Mt(this.g,new Xu)},pi.prototype.ra=function(){Mt(this.g,"b")},Pa.prototype.createWebChannel=Pa.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,ST=function(){return new Pa},wT=function(){return Ea()},TT=Mn,Nm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},At.NO_ERROR=0,At.TIMEOUT=8,At.HTTP_ERROR=6,rh=At,ji.COMPLETE="complete",ET=ji,Nu.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",bt.prototype.listen=bt.prototype.K,Gl=Nu,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,vT=$e}).apply(typeof Yc<"u"?Yc:typeof self<"u"?self:typeof window<"u"?window:{});const Rv="@firebase/firestore",Cv="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xo="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new np("@firebase/firestore");function oo(){return la.logLevel}function ue(r,...e){if(la.logLevel<=Me.DEBUG){const n=e.map(sp);la.debug(`Firestore (${xo}): ${r}`,...n)}}function pr(r,...e){if(la.logLevel<=Me.ERROR){const n=e.map(sp);la.error(`Firestore (${xo}): ${r}`,...n)}}function yo(r,...e){if(la.logLevel<=Me.WARN){const n=e.map(sp);la.warn(`Firestore (${xo}): ${r}`,...n)}}function sp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r="Unexpected state"){const e=`FIRESTORE (${xo}) INTERNAL ASSERTION FAILED: `+r;throw pr(e),new Error(e)}function Ke(r,e){r||we()}function Ae(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class W1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}class Z1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class J1{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new hr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new hr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string"),new bT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new en(e)}}class eC{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class tC{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new eC(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Iv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nC{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Yn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Iv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new Iv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=iC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function vo(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv=-62135596800,Nv=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Nv);return new Dt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<xv)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Nv}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-xv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Dt(0,0))}static max(){return new Se(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="__name__";class Si{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(),s===void 0?s=e.length-n:s>e.length-n&&we(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Si.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Si?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Si.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=Si.isNumericId(e),o=Si.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Si.extractNumericId(e).compare(Si.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ds.fromString(e.substring(4,e.length-2))}}class nt extends Si{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const rC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Si{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return rC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dv}static keyField(){return new Kt([Dv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new me(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new me(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new me(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(nt.fromString(e))}static fromName(e){return new ye(nt.fromString(e).popFirst(5))}static empty(){return new ye(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nu=-1;function sC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new Dt(n+1,0):new Dt(n,s));return new gs(o,ye.empty(),e)}function aC(r){return new gs(r.readTime,r.key,nu)}class gs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new gs(Se.min(),ye.empty(),nu)}static max(){return new gs(Se.max(),ye.empty(),nu)}}function oC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function No(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==lC)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,s)=>{n(e)})}static reject(e){return new Z((n,s)=>{s(e)})}static waitFor(e){return new Z((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=Z.resolve(!1);for(const s of e)n=n.next(o=>o?Z.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new Z((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const _=p;n(e[_]).next(T=>{f[_]=T,++m,m===u&&s(f)},T=>o(T))}})}static doWhile(e,n){return new Z((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function cC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Do(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Vh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap=-1;function jh(r){return r==null}function _h(r){return r===0&&1/r==-1/0}function hC(r){return typeof r=="number"&&Number.isInteger(r)&&!_h(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="";function fC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Ov(e)),e=dC(r.get(n),e);return Ov(e)}function dC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case RT:n+="";break;default:n+=u}}return n}function Ov(r){return r+RT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ws(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function CT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xc(this.root,e,this.comparator,!0)}}class Xc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??$t.RED,this.left=o??$t.EMPTY,this.right=u??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new $t(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,n,s,o,u){return this}insert(e,n,s){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Pv(this.data.getIterator())}getIteratorFrom(e){return new Pv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class Pv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new Ot(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new IT("Invalid base64 string: "+u):u}}(e);return new Qt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const mC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(r){if(Ke(!!r),typeof r=="string"){let e=0;const n=mC.exec(r);if(Ke(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ys(r){return typeof r=="string"?Qt.fromBase64String(r):Qt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xT="server_timestamp",NT="__type__",DT="__previous_value__",OT="__local_write_time__";function op(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[NT])===null||n===void 0?void 0:n.stringValue)===xT}function Lh(r){const e=r.mapValue.fields[DT];return op(e)?Lh(e):e}function iu(r){const e=_s(r.mapValue.fields[OT].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e,n,s,o,u,f,m,p,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=_}}const yh="(default)";class ru{constructor(e,n){this.projectId=e,this.database=n||yh}static empty(){return new ru("","")}get isDefaultDatabase(){return this.database===yh}isEqual(e){return e instanceof ru&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="__type__",gC="__max__",Wc={mapValue:{}},PT="__vector__",vh="value";function vs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?op(r)?4:yC(r)?9007199254740991:_C(r)?10:11:we()}function xi(r,e){if(r===e)return!0;const n=vs(r);if(n!==vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return iu(r).isEqual(iu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=_s(o.timestampValue),m=_s(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ys(o.bytesValue).isEqual(ys(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_t(o.doubleValue),m=_t(u.doubleValue);return f===m?_h(f)===_h(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return vo(r.arrayValue.values||[],e.arrayValue.values||[],xi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Mv(f)!==Mv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!xi(f[p],m[p])))return!1;return!0}(r,e);default:return we()}}function su(r,e){return(r.values||[]).find(n=>xi(n,e))!==void 0}function Eo(r,e){if(r===e)return 0;const n=vs(r),s=vs(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=_t(u.integerValue||u.doubleValue),p=_t(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return kv(r.timestampValue,e.timestampValue);case 4:return kv(iu(r),iu(e));case 5:return Ve(r.stringValue,e.stringValue);case 6:return function(u,f){const m=ys(u),p=ys(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let _=0;_<m.length&&_<p.length;_++){const T=Ve(m[_],p[_]);if(T!==0)return T}return Ve(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ve(_t(u.latitude),_t(f.latitude));return m!==0?m:Ve(_t(u.longitude),_t(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Vv(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,_,T;const b=u.fields||{},R=f.fields||{},M=(m=b[vh])===null||m===void 0?void 0:m.arrayValue,L=(p=R[vh])===null||p===void 0?void 0:p.arrayValue,$=Ve(((_=M==null?void 0:M.values)===null||_===void 0?void 0:_.length)||0,((T=L==null?void 0:L.values)===null||T===void 0?void 0:T.length)||0);return $!==0?$:Vv(M,L)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Wc.mapValue&&f===Wc.mapValue)return 0;if(u===Wc.mapValue)return 1;if(f===Wc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),_=f.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let b=0;b<p.length&&b<T.length;++b){const R=Ve(p[b],T[b]);if(R!==0)return R;const M=Eo(m[p[b]],_[T[b]]);if(M!==0)return M}return Ve(p.length,T.length)}(r.mapValue,e.mapValue);default:throw we()}}function kv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=_s(r),s=_s(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function Vv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Eo(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function To(r){return Dm(r)}function Dm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=_s(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return ys(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ye.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Dm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Dm(n.fields[f])}`;return o+"}"}(r.mapValue):we()}function sh(r){switch(vs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Lh(r);return e?16+sh(e):16;case 5:return 2*r.stringValue.length;case 6:return ys(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+sh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ws(s.fields,(u,f)=>{o+=u.length+sh(f)}),o}(r.mapValue);default:throw we()}}function Om(r){return!!r&&"integerValue"in r}function lp(r){return!!r&&"arrayValue"in r}function jv(r){return!!r&&"nullValue"in r}function Lv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ah(r){return!!r&&"mapValue"in r}function _C(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[MT])===null||n===void 0?void 0:n.stringValue)===PT}function Yl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ws(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Yl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Yl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function yC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===gC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ah(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Yl(n)}setAll(e){let n=Kt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Yl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return xi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ws(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Tn(Yl(this.value))}}function kT(r){const e=[];return ws(r.fields,(n,s)=>{const o=new Kt([n]);if(ah(s)){const u=kT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new tn(e,0,Se.min(),Se.min(),Se.min(),Tn.empty(),0)}static newFoundDocument(e,n,s,o){return new tn(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new tn(e,2,n,Se.min(),Se.min(),Tn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,Se.min(),Se.min(),Tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.position=e,this.inclusive=n}}function Uv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=Eo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function zv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!xi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n="asc"){this.field=e,this.dir=n}}function vC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{}class Nt extends VT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new TC(e,n,s):n==="array-contains"?new bC(e,s):n==="in"?new AC(e,s):n==="not-in"?new RC(e,s):n==="array-contains-any"?new CC(e,s):new Nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new wC(e,s):new SC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Eo(n,this.value)):n!==null&&vs(this.value)===vs(n)&&this.matchesComparison(Eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ni extends VT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Ni(e,n)}matches(e){return jT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function jT(r){return r.op==="and"}function LT(r){return EC(r)&&jT(r)}function EC(r){for(const e of r.filters)if(e instanceof Ni)return!1;return!0}function Mm(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+To(r.value);if(LT(r))return r.filters.map(e=>Mm(e)).join(",");{const e=r.filters.map(n=>Mm(n)).join(",");return`${r.op}(${e})`}}function UT(r,e){return r instanceof Nt?function(s,o){return o instanceof Nt&&s.op===o.op&&s.field.isEqual(o.field)&&xi(s.value,o.value)}(r,e):r instanceof Ni?function(s,o){return o instanceof Ni&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&UT(f,o.filters[m]),!0):!1}(r,e):void we()}function zT(r){return r instanceof Nt?function(n){return`${n.field.canonicalString()} ${n.op} ${To(n.value)}`}(r):r instanceof Ni?function(n){return n.op.toString()+" {"+n.getFilters().map(zT).join(" ,")+"}"}(r):"Filter"}class TC extends Nt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class wC extends Nt{constructor(e,n){super(e,"in",n),this.keys=BT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class SC extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=BT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function BT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class bC extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lp(n)&&su(n.arrayValue,this.value)}}class AC extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&su(this.value.arrayValue,n)}}class RC extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(su(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!su(this.value.arrayValue,n)}}class CC extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>su(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function Bv(r,e=null,n=[],s=[],o=null,u=null,f=null){return new IC(r,e,n,s,o,u,f)}function up(r){const e=Ae(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Mm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),jh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>To(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>To(s)).join(",")),e.le=n}return e.le}function cp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!vC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!UT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!zv(r.startAt,e.startAt)&&zv(r.endAt,e.endAt)}function Pm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function xC(r,e,n,s,o,u,f,m){return new Uh(r,e,n,s,o,u,f,m)}function hp(r){return new Uh(r)}function Hv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function NC(r){return r.collectionGroup!==null}function Xl(r){const e=Ae(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ot(Kt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new Th(u,s))}),n.has(Kt.keyField().canonicalString())||e.he.push(new Th(Kt.keyField(),s))}return e.he}function bi(r){const e=Ae(r);return e.Pe||(e.Pe=DC(e,Xl(r))),e.Pe}function DC(r,e){if(r.limitType==="F")return Bv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Th(o.field,u)});const n=r.endAt?new Eh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Eh(r.startAt.position,r.startAt.inclusive):null;return Bv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function km(r,e,n){return new Uh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function zh(r,e){return cp(bi(r),bi(e))&&r.limitType===e.limitType}function HT(r){return`${up(bi(r))}|lt:${r.limitType}`}function lo(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>zT(o)).join(", ")}]`),jh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>To(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>To(o)).join(",")),`Target(${s})`}(bi(r))}; limitType=${r.limitType})`}function Bh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Xl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const _=Uv(f,m,p);return f.inclusive?_<=0:_<0}(s.startAt,Xl(s),o)||s.endAt&&!function(f,m,p){const _=Uv(f,m,p);return f.inclusive?_>=0:_>0}(s.endAt,Xl(s),o))}(r,e)}function OC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function qT(r){return(e,n)=>{let s=!1;for(const o of Xl(r)){const u=MC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function MC(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),_=m.data.field(u);return p!==null&&_!==null?Eo(p,_):we()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return CT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=new ot(ye.comparator);function gr(){return PC}const FT=new ot(ye.comparator);function $l(...r){let e=FT;for(const n of r)e=e.insert(n.key,n);return e}function GT(r){let e=FT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function aa(){return Wl()}function $T(){return Wl()}function Wl(){return new fa(r=>r.toString(),(r,e)=>r.isEqual(e))}const kC=new ot(ye.comparator),VC=new Ot(ye.comparator);function Pe(...r){let e=VC;for(const n of r)e=e.add(n);return e}const jC=new Ot(Ve);function LC(){return jC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function KT(r){return{integerValue:""+r}}function QT(r,e){return hC(e)?KT(e):fp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(){this._=void 0}}function UC(r,e,n){return r instanceof wh?function(o,u){const f={fields:{[NT]:{stringValue:xT},[OT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&op(u)&&(u=Lh(u)),u&&(f.fields[DT]=u),{mapValue:f}}(n,e):r instanceof wo?XT(r,e):r instanceof au?WT(r,e):function(o,u){const f=YT(o,u),m=qv(f)+qv(o.Ie);return Om(f)&&Om(o.Ie)?KT(m):fp(o.serializer,m)}(r,e)}function zC(r,e,n){return r instanceof wo?XT(r,e):r instanceof au?WT(r,e):n}function YT(r,e){return r instanceof ou?function(s){return Om(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class wh extends Hh{}class wo extends Hh{constructor(e){super(),this.elements=e}}function XT(r,e){const n=ZT(e);for(const s of r.elements)n.some(o=>xi(o,s))||n.push(s);return{arrayValue:{values:n}}}class au extends Hh{constructor(e){super(),this.elements=e}}function WT(r,e){let n=ZT(e);for(const s of r.elements)n=n.filter(o=>!xi(o,s));return{arrayValue:{values:n}}}class ou extends Hh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function qv(r){return _t(r.integerValue||r.doubleValue)}function ZT(r){return lp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n){this.field=e,this.transform=n}}function BC(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof wo&&o instanceof wo||s instanceof au&&o instanceof au?vo(s.elements,o.elements,xi):s instanceof ou&&o instanceof ou?xi(s.Ie,o.Ie):s instanceof wh&&o instanceof wh}(r.transform,e.transform)}class HC{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class qh{}function e0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new dp(r.key,Xn.none()):new pu(r.key,r.data,Xn.none());{const n=r.data,s=Tn.empty();let o=new Ot(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ss(r.key,s,new Dn(o.toArray()),Xn.none())}}function qC(r,e,n){r instanceof pu?function(o,u,f){const m=o.value.clone(),p=Gv(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof Ss?function(o,u,f){if(!oh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Gv(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(t0(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Zl(r,e,n,s){return r instanceof pu?function(u,f,m,p){if(!oh(u.precondition,f))return m;const _=u.value.clone(),T=$v(u.fieldTransforms,p,f);return _.setAll(T),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(r,e,n,s):r instanceof Ss?function(u,f,m,p){if(!oh(u.precondition,f))return m;const _=$v(u.fieldTransforms,p,f),T=f.data;return T.setAll(t0(u)),T.setAll(_),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,e,n,s):function(u,f,m){return oh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function FC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=YT(s.transform,o||null);u!=null&&(n===null&&(n=Tn.empty()),n.set(s.field,u))}return n||null}function Fv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&vo(s,o,(u,f)=>BC(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class pu extends qh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ss extends qh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function t0(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function Gv(r,e,n){const s=new Map;Ke(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,zC(f,m,n[o]))}return s}function $v(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,UC(u,f,e))}return s}class dp extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class GC extends qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&qC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Zl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Zl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=$T();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=e0(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&vo(this.mutations,e.mutations,(n,s)=>Fv(n,s))&&vo(this.baseMutations,e.baseMutations,(n,s)=>Fv(n,s))}}class mp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length);let o=function(){return kC}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new mp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,ze;function YC(r){switch(r){case ee.OK:return we();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return we()}}function n0(r){if(r===void 0)return pr("GRPC error has no .code"),ee.UNKNOWN;switch(r){case St.OK:return ee.OK;case St.CANCELLED:return ee.CANCELLED;case St.UNKNOWN:return ee.UNKNOWN;case St.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case St.INTERNAL:return ee.INTERNAL;case St.UNAVAILABLE:return ee.UNAVAILABLE;case St.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case St.NOT_FOUND:return ee.NOT_FOUND;case St.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case St.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case St.ABORTED:return ee.ABORTED;case St.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case St.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case St.DATA_LOSS:return ee.DATA_LOSS;default:return we()}}(ze=St||(St={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC=new ds([4294967295,4294967295],0);function Kv(r){const e=XC().encode(r),n=new yT;return n.update(e),new Uint8Array(n.digest())}function Qv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ds([n,s],0),new ds([o,u],0)]}class pp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Kl(`Invalid padding: ${n}`);if(s<0)throw new Kl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Kl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Kl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ds.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(ds.fromNumber(s)));return o.compare(WC)===1&&(o=new ds([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Kv(e),[s,o]=Qv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new pp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=Kv(e),[s,o]=Qv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Kl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,gu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Fh(Se.min(),o,new ot(Ve),gr(),Pe())}}class gu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new gu(s,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class i0{constructor(e,n){this.targetId=e,this.ge=n}}class r0{constructor(e,n,s=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Yv{constructor(){this.pe=0,this.ye=Xv(),this.we=Qt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Pe(),n=Pe(),s=Pe();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:we()}}),new gu(this.we,this.be,e,n,s)}Me(){this.Se=!1,this.ye=Xv()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ke(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class ZC{constructor(e){this.ke=e,this.qe=new Map,this.Qe=gr(),this.$e=Zc(),this.Ke=Zc(),this.Ue=new ot(Ve)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:we()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Pm(u))if(s===0){const f=new ye(u.path);this.ze(n,f,tn.newNoDocument(f,Se.min()))}else Ke(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,_)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ys(s).toUint8Array()}catch(p){if(p instanceof IT)return yo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new pp(f,o,u)}catch(p){return yo(p instanceof Kl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Pm(m.target)){const p=new ye(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,tn.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Pe();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const _=this.Xe(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Fh(e,n,this.Ue,this.Qe,s);return this.Qe=gr(),this.$e=Zc(),this.Ke=Zc(),this.Ue=new ot(Ve),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Yv,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Ot(Ve),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Ot(Ve),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Yv),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Zc(){return new ot(ye.comparator)}function Xv(){return new ot(ye.comparator)}const JC={asc:"ASCENDING",desc:"DESCENDING"},eI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tI={and:"AND",or:"OR"};class nI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Vm(r,e){return r.useProto3Json||jh(e)?e:{value:e}}function Sh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function s0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function iI(r,e){return Sh(r,e.toTimestamp())}function Ai(r){return Ke(!!r),Se.fromTimestamp(function(n){const s=_s(n);return new Dt(s.seconds,s.nanos)}(r))}function gp(r,e){return jm(r,e).canonicalString()}function jm(r,e){const n=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function a0(r){const e=nt.fromString(r);return Ke(h0(e)),e}function Lm(r,e){return gp(r.databaseId,e.path)}function gm(r,e){const n=a0(e);if(n.get(1)!==r.databaseId.projectId)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(l0(n))}function o0(r,e){return gp(r.databaseId,e)}function rI(r){const e=a0(r);return e.length===4?nt.emptyPath():l0(e)}function Um(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function l0(r){return Ke(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Wv(r,e,n){return{name:Lm(r,e),fields:n.value.mapValue.fields}}function sI(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(_,T){return _.useProto3Json?(Ke(T===void 0||typeof T=="string"),Qt.fromBase64String(T||"")):(Ke(T===void 0||T instanceof Buffer||T instanceof Uint8Array),Qt.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(_){const T=_.code===void 0?ee.UNKNOWN:n0(_.code);return new me(T,_.message||"")}(f);n=new r0(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=gm(r,s.document.name),u=Ai(s.document.updateTime),f=s.document.createTime?Ai(s.document.createTime):Se.min(),m=new Tn({mapValue:{fields:s.document.fields}}),p=tn.newFoundDocument(o,u,f,m),_=s.targetIds||[],T=s.removedTargetIds||[];n=new lh(_,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=gm(r,s.document),u=s.readTime?Ai(s.readTime):Se.min(),f=tn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new lh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=gm(r,s.document),u=s.removedTargetIds||[];n=new lh([],u,o,null)}else{if(!("filter"in e))return we();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new QC(o,u),m=s.targetId;n=new i0(m,f)}}return n}function aI(r,e){let n;if(e instanceof pu)n={update:Wv(r,e.key,e.value)};else if(e instanceof dp)n={delete:Lm(r,e.key)};else if(e instanceof Ss)n={update:Wv(r,e.key,e.data),updateMask:pI(e.fieldMask)};else{if(!(e instanceof GC))return we();n={verify:Lm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof wh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof wo)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof au)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ou)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw we()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:iI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we()}(r,e.precondition)),n}function oI(r,e){return r&&r.length>0?(Ke(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?Ai(o.updateTime):Ai(u);return f.isEqual(Se.min())&&(f=Ai(u)),new HC(f,o.transformResults||[])}(n,e))):[]}function lI(r,e){return{documents:[o0(r,e.path)]}}function uI(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=o0(r,o);const u=function(_){if(_.length!==0)return c0(Ni.create(_,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(_){if(_.length!==0)return _.map(T=>function(R){return{field:uo(R.field),direction:fI(R.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Vm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ht:n,parent:o}}function cI(r){let e=rI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=function(b){const R=u0(b);return R instanceof Ni&&LT(R)?R.getFilters():[R]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(R=>function(L){return new Th(co(L.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(L.direction))}(R))}(n.orderBy));let m=null;n.limit&&(m=function(b){let R;return R=typeof b=="object"?b.value:b,jh(R)?null:R}(n.limit));let p=null;n.startAt&&(p=function(b){const R=!!b.before,M=b.values||[];return new Eh(M,R)}(n.startAt));let _=null;return n.endAt&&(_=function(b){const R=!b.before,M=b.values||[];return new Eh(M,R)}(n.endAt)),xC(e,o,f,u,m,"F",p,_)}function hI(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function u0(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=co(n.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=co(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=co(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=co(n.unaryFilter.field);return Nt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(r):r.fieldFilter!==void 0?function(n){return Nt.create(co(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Ni.create(n.compositeFilter.filters.map(s=>u0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we()}}(n.compositeFilter.op))}(r):we()}function fI(r){return JC[r]}function dI(r){return eI[r]}function mI(r){return tI[r]}function uo(r){return{fieldPath:r.canonicalString()}}function co(r){return Kt.fromServerFormat(r.fieldPath)}function c0(r){return r instanceof Nt?function(n){if(n.op==="=="){if(Lv(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NAN"}};if(jv(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Lv(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NAN"}};if(jv(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(n.field),op:dI(n.op),value:n.value}}}(r):r instanceof Ni?function(n){const s=n.getFilters().map(o=>c0(o));return s.length===1?s[0]:{compositeFilter:{op:mI(n.op),filters:s}}}(r):we()}function pI(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function h0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,n,s,o,u=Se.min(),f=Se.min(),m=Qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.Tt=e}}function _I(r){const e=cI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?km(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(){this.Tn=new vI}addToCollectionParentIndex(e,n){return this.Tn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(gs.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(gs.min())}updateCollectionGroup(e,n,s){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class vI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ot(nt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ot(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},f0=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(f0,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new So(0)}static Un(){return new So(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv="LruGarbageCollector",EI=1048576;function eE([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class TI{constructor(e){this.Hn=e,this.buffer=new Ot(eE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();eE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class wI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ue(Jv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Do(n)?ue(Jv,"Ignoring IndexedDB error during garbage collection: ",n):await No(n)}await this.er(3e5)})}}class SI{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(Vh.ae);const s=new TI(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Zv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zv):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(_=Date.now(),oo()<=Me.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function bI(r,e){return new SI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{constructor(){this.changes=new fa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Zl(s.mutation,o,Dn.empty(),Dt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Pe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Pe()){const o=aa();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=$l();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=aa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Pe()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=gr();const f=Wl(),m=function(){return Wl()}();return n.forEach((p,_)=>{const T=s.get(_.key);o.has(_.key)&&(T===void 0||T.mutation instanceof Ss)?u=u.insert(_.key,_):T!==void 0?(f.set(_.key,T.mutation.getFieldMask()),Zl(T.mutation,_,T.mutation.getFieldMask(),Dt.now())):f.set(_.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((_,T)=>f.set(_,T)),n.forEach((_,T)=>{var b;return m.set(_,new RI(T,(b=f.get(_))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Wl();let o=new ot((f,m)=>f-m),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let T=s.get(p)||Dn.empty();T=m.applyToLocalView(_,T),s.set(p,T);const b=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),_=p.key,T=p.value,b=$T();T.forEach(R=>{if(!u.has(R)){const M=e0(n.get(R),s.get(R));M!==null&&b.set(R,M),u=u.add(R)}}),f.push(this.documentOverlayCache.saveOverlays(e,_,b))}return Z.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):Z.resolve(aa());let m=nu,p=u;return f.next(_=>Z.forEach(_,(T,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(e,T).next(R=>{p=p.insert(T,R)}))).next(()=>this.populateOverlays(e,_,u)).next(()=>this.computeViews(e,p,_,Pe())).next(T=>({batchId:m,changes:GT(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let o=$l();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=$l();return this.indexManager.getCollectionParents(e,u).next(m=>Z.forEach(m,p=>{const _=function(b,R){return new Uh(R,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next(T=>{T.forEach((b,R)=>{f=f.insert(b,R)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,_)=>{const T=_.getKey();f.get(T)===null&&(f=f.insert(T,tn.newInvalidDocument(T)))});let m=$l();return f.forEach((p,_)=>{const T=u.get(p);T!==void 0&&Zl(T.mutation,_,Dn.empty(),Dt.now()),Bh(n,_)&&(m=m.insert(p,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return Z.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ai(o.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:_I(o.bundledQuery),readTime:Ai(o.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.overlays=new ot(ye.comparator),this.Rr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const s=aa();return Z.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),Z.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),Z.resolve()}getOverlaysForCollection(e,n,s){const o=aa(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ot((_,T)=>_-T);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let T=u.get(_.largestBatchId);T===null&&(T=aa(),u=u.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const m=aa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,T)=>m.set(_,T)),!(m.size()>=o)););return Z.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new KC(n,s));let u=this.Rr.get(n);u===void 0&&(u=Pe(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(){this.Vr=new Ot(zt.mr),this.gr=new Ot(zt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new zt(e,n))}br(e,n){e.forEach(s=>this.removeReference(s,n))}Sr(e){const n=new ye(new nt([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ye(new nt([])),s=new zt(n,e),o=new zt(n,e+1);let u=Pe();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new zt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ye.comparator(e.key,n.key)||Ve(e.Cr,n.Cr)}static pr(e,n){return Ve(e.Cr,n.Cr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ot(zt.mr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new $C(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(e,n){return Z.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?ap:this.Fr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ot(Ve);return n.forEach(o=>{const u=new zt(o,0),f=new zt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),Z.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new zt(new ye(u),0);let m=new Ot(Ve);return this.Mr.forEachWhile(p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(m=m.add(p.Cr)),!0)},f),Z.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ke(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Z.forEach(n.mutations,o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new zt(n,0),o=this.Mr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e){this.kr=e,this.docs=function(){return new ot(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let s=gr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=gr();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||oC(aC(T),s)<=0||(o.has(T.key)||Bh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,n,s,o){we()}qr(e,n){return Z.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new MI(this)}getSize(e){return Z.resolve(this.size)}}class MI extends AI{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),Z.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.persistence=e,this.Qr=new fa(n=>up(n),cp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.$r=0,this.Kr=new _p,this.targetCount=0,this.Ur=So.Kn()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),Z.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new So(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.zn(n),Z.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Z.waitFor(u).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return Z.resolve(s)}addMatchingKeys(e,n,s){return this.Kr.yr(n,s),Z.resolve()}removeMatchingKeys(e,n,s){this.Kr.br(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),Z.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Kr.vr(n);return Z.resolve(s)}containsKey(e,n){return Z.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d0{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Vh(0),this.zr=!1,this.zr=!0,this.jr=new NI,this.referenceDelegate=e(this),this.Hr=new PI(this),this.indexManager=new yI,this.remoteDocumentCache=function(o){return new OI(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new gI(n),this.Yr=new II(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new xI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new DI(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new kI(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return Z.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class kI extends uC{constructor(e){super(),this.currentSequenceNumber=e}}class yp{constructor(e){this.persistence=e,this.ti=new _p,this.ni=null}static ri(e){return new yp(e)}get ii(){if(this.ni)return this.ni;throw we()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),Z.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),Z.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,s=>{const o=ye.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Se.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return Z.or([()=>Z.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class bh{constructor(e,n){this.persistence=e,this.oi=new fa(s=>fC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=bI(this,n)}static ri(e,n){return new bh(e,n)}Zr(){}Xr(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return Z.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?Z.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),Z.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sh(e.data.value)),n}ar(e,n,s){return Z.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new vp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return MR()?8:cC(nn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new VI;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(oo()<=Me.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",lo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(oo()<=Me.DEBUG&&ue("QueryEngine","Query:",lo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(oo()<=Me.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",lo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,bi(n))):Z.resolve())}rs(e,n){if(Hv(n))return Z.resolve(null);let s=bi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=km(n,null,"F"),s=bi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Pe(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const _=this.cs(n,m);return this.ls(n,_,f,p.readTime)?this.rs(e,km(n,null,"F")):this.hs(e,_,n,p)}))})))}ss(e,n,s,o){return Hv(n)||o.isEqual(Se.min())?Z.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?Z.resolve(null):(oo()<=Me.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lo(n)),this.hs(e,f,n,sC(o,nu)).next(m=>m))})}cs(e,n){let s=new Ot(qT(e));return n.forEach((o,u)=>{Bh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return oo()<=Me.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",lo(n)),this.ns.getDocumentsMatchingQuery(e,n,gs.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="LocalStore",LI=3e8;class UI{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new ot(Ve),this.Is=new fa(u=>up(u),cp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new CI(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function zI(r,e,n,s){return new UI(r,e,n,s)}async function m0(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Pe();for(const _ of o){f.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of u){m.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(_=>({Rs:_,removedBatchIds:f,addedBatchIds:m}))})})}function BI(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,_,T){const b=_.batch,R=b.keys();let M=Z.resolve();return R.forEach(L=>{M=M.next(()=>T.getEntry(p,L)).next($=>{const q=_.docVersions.get(L);Ke(q!==null),$.version.compareTo(q)<0&&(b.applyToRemoteDocument($,_),$.isValidDocument()&&($.setReadTime(_.commitVersion),T.addEntry($)))})}),M.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Pe();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(p=p.add(m.batch.mutations[_].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function p0(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function HI(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((T,b)=>{const R=o.get(b);if(!R)return;m.push(n.Hr.removeMatchingKeys(u,T.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(u,T.addedDocuments,b)));let M=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?M=M.withResumeToken(Qt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):T.resumeToken.approximateByteSize()>0&&(M=M.withResumeToken(T.resumeToken,s)),o=o.insert(b,M),function($,q,Y){return $.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=LI?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(R,M,T)&&m.push(n.Hr.updateTargetData(u,M))});let p=gr(),_=Pe();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(qI(u,f,e.documentUpdates).next(T=>{p=T.Vs,_=T.fs})),!s.isEqual(Se.min())){const T=n.Hr.getLastRemoteSnapshotVersion(u).next(b=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return Z.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,_)).next(()=>p)}).then(u=>(n.Ts=o,u))}function qI(r,e,n){let s=Pe(),o=Pe();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=gr();return n.forEach((m,p)=>{const _=u.get(m);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ue(Ep,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function FI(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=ap),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function GI(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,Z.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new us(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function zm(r,e,n){const s=Ae(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Do(f))throw f;ue(Ep,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function tE(r,e,n){const s=Ae(r);let o=Se.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,_,T){const b=Ae(p),R=b.Is.get(T);return R!==void 0?Z.resolve(b.Ts.get(R)):b.Hr.getTargetData(_,T)}(s,f,bi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:Pe())).next(m=>($I(s,OC(e),m),{documents:m,gs:u})))}function $I(r,e,n){let s=r.Es.get(e)||Se.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class nE{constructor(){this.activeTargetIds=LC()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class KI{constructor(){this.ho=new nE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new nE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="ConnectivityMonitor";class rE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ue(iE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ue(iE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc=null;function Bm(){return Jc===null?Jc=function(){return 268435456+Math.round(2147483648*Math.random())}():Jc++,"0x"+Jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _m="RestConnection",YI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class XI{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===yh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,n,s,o,u){const f=Bm(),m=this.So(e,n.toUriEncodedString());ue(_m,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(_=>(ue(_m,`Received RPC '${e}' ${f}: `,_),_),_=>{throw yo(_m,`RPC '${e}' ${f} failed with error: `,_,"url: ",m,"request:",s),_})}Co(e,n,s,o,u,f){return this.bo(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}So(e,n){const s=YI[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class ZI extends XI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=Bm();return new Promise((f,m)=>{const p=new vT;p.setWithCredentials(!0),p.listenOnce(ET.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case rh.NO_ERROR:const T=p.getResponseJson();ue(Zt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),f(T);break;case rh.TIMEOUT:ue(Zt,`RPC '${e}' ${u} timed out`),m(new me(ee.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const b=p.getStatus();if(ue(Zt,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const M=R==null?void 0:R.error;if(M&&M.status&&M.message){const L=function(q){const Y=q.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(Y)>=0?Y:ee.UNKNOWN}(M.status);m(new me(L,M.message))}else m(new me(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new me(ee.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{ue(Zt,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(o);ue(Zt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",_,s,15)})}Wo(e,n,s){const o=Bm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=ST(),m=wT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");ue(Zt,`Creating RPC '${e}' stream ${o}: ${T}`,p);const b=f.createWebChannel(T,p);let R=!1,M=!1;const L=new WI({Fo:q=>{M?ue(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(R||(ue(Zt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),R=!0),ue(Zt,`RPC '${e}' stream ${o} sending:`,q),b.send(q))},Mo:()=>b.close()}),$=(q,Y,te)=>{q.listen(Y,K=>{try{te(K)}catch(re){setTimeout(()=>{throw re},0)}})};return $(b,Gl.EventType.OPEN,()=>{M||(ue(Zt,`RPC '${e}' stream ${o} transport opened.`),L.Qo())}),$(b,Gl.EventType.CLOSE,()=>{M||(M=!0,ue(Zt,`RPC '${e}' stream ${o} transport closed`),L.Ko())}),$(b,Gl.EventType.ERROR,q=>{M||(M=!0,yo(Zt,`RPC '${e}' stream ${o} transport errored:`,q),L.Ko(new me(ee.UNAVAILABLE,"The operation could not be completed")))}),$(b,Gl.EventType.MESSAGE,q=>{var Y;if(!M){const te=q.data[0];Ke(!!te);const K=te,re=(K==null?void 0:K.error)||((Y=K[0])===null||Y===void 0?void 0:Y.error);if(re){ue(Zt,`RPC '${e}' stream ${o} received error:`,re);const se=re.status;let fe=function(A){const N=St[A];if(N!==void 0)return n0(N)}(se),D=re.message;fe===void 0&&(fe=ee.INTERNAL,D="Unknown error status: "+se+" with message "+re.message),M=!0,L.Ko(new me(fe,D)),b.close()}else ue(Zt,`RPC '${e}' stream ${o} received:`,te),L.Uo(te)}}),$(m,TT.STAT_EVENT,q=>{q.stat===Nm.PROXY?ue(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===Nm.NOPROXY&&ue(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{L.$o()},0),L}}function ym(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(r){return new nI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="PersistentStream";class _0{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new g0(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new me(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ue(sE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ue(sE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class JI extends _0{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=sI(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?Ai(f.readTime):Se.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Um(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Pm(p)?{documents:lI(u,p)}:{query:uI(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=s0(u,f.resumeToken);const _=Vm(u,f.expectedCount);_!==null&&(m.expectedCount=_)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=Sh(u,f.snapshotVersion.toTimestamp());const _=Vm(u,f.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const s=hI(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Um(this.serializer),n.removeTarget=e,this.I_(n)}}class ex extends _0{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=oI(e.writeResults,e.commitTime),s=Ai(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Um(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>aI(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{}class nx extends tx{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(e,jm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(ee.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,jm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new me(ee.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class ix{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(pr(n),this.N_=!1):ue("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="RemoteStore";class rx{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{da(this)&&(ue(ua,"Restarting streams for network reachability change."),await async function(p){const _=Ae(p);_.W_.add(4),await _u(_),_.j_.set("Unknown"),_.W_.delete(4),await $h(_)}(this))})}),this.j_=new ix(s,o)}}async function $h(r){if(da(r))for(const e of r.G_)await e(!0)}async function _u(r){for(const e of r.G_)await e(!1)}function y0(r,e){const n=Ae(r);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),bp(n)?Sp(n):Oo(n).c_()&&wp(n,e))}function Tp(r,e){const n=Ae(r),s=Oo(n);n.U_.delete(e),s.c_()&&v0(n,e),n.U_.size===0&&(s.c_()?s.P_():da(n)&&n.j_.set("Unknown"))}function wp(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Oo(r).y_(e)}function v0(r,e){r.H_.Ne(e),Oo(r).w_(e)}function Sp(r){r.H_=new ZC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Oo(r).start(),r.j_.B_()}function bp(r){return da(r)&&!Oo(r).u_()&&r.U_.size>0}function da(r){return Ae(r).W_.size===0}function E0(r){r.H_=void 0}async function sx(r){r.j_.set("Online")}async function ax(r){r.U_.forEach((e,n)=>{wp(r,e)})}async function ox(r,e){E0(r),bp(r)?(r.j_.q_(e),Sp(r)):r.j_.set("Unknown")}async function lx(r,e,n){if(r.j_.set("Online"),e instanceof r0&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){ue(ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ah(r,s)}else if(e instanceof lh?r.H_.We(e):e instanceof i0?r.H_.Ze(e):r.H_.je(e),!n.isEqual(Se.min()))try{const s=await p0(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.U_.get(_);T&&u.U_.set(_,T.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,_)=>{const T=u.U_.get(p);if(!T)return;u.U_.set(p,T.withResumeToken(Qt.EMPTY_BYTE_STRING,T.snapshotVersion)),v0(u,p);const b=new us(T.target,p,_,T.sequenceNumber);wp(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ue(ua,"Failed to raise snapshot:",s),await Ah(r,s)}}async function Ah(r,e,n){if(!Do(e))throw e;r.W_.add(1),await _u(r),r.j_.set("Offline"),n||(n=()=>p0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ue(ua,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await $h(r)})}function T0(r,e){return e().catch(n=>Ah(r,n,e))}async function Kh(r){const e=Ae(r),n=Es(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:ap;for(;ux(e);)try{const o=await FI(e.localStore,s);if(o===null){e.K_.length===0&&n.P_();break}s=o.batchId,cx(e,o)}catch(o){await Ah(e,o)}w0(e)&&S0(e)}function ux(r){return da(r)&&r.K_.length<10}function cx(r,e){r.K_.push(e);const n=Es(r);n.c_()&&n.b_&&n.S_(e.mutations)}function w0(r){return da(r)&&!Es(r).u_()&&r.K_.length>0}function S0(r){Es(r).start()}async function hx(r){Es(r).C_()}async function fx(r){const e=Es(r);for(const n of r.K_)e.S_(n.mutations)}async function dx(r,e,n){const s=r.K_.shift(),o=mp.from(s,e,n);await T0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Kh(r)}async function mx(r,e){e&&Es(r).b_&&await async function(s,o){if(function(f){return YC(f)&&f!==ee.ABORTED}(o.code)){const u=s.K_.shift();Es(s).h_(),await T0(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Kh(s)}}(r,e),w0(r)&&S0(r)}async function aE(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),ue(ua,"RemoteStore received new credentials");const s=da(n);n.W_.add(3),await _u(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await $h(n)}async function px(r,e){const n=Ae(r);e?(n.W_.delete(2),await $h(n)):e||(n.W_.add(2),await _u(n),n.j_.set("Unknown"))}function Oo(r){return r.J_||(r.J_=function(n,s,o){const u=Ae(n);return u.M_(),new JI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:sx.bind(null,r),No:ax.bind(null,r),Lo:ox.bind(null,r),p_:lx.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),bp(r)?Sp(r):r.j_.set("Unknown")):(await r.J_.stop(),E0(r))})),r.J_}function Es(r){return r.Y_||(r.Y_=function(n,s,o){const u=Ae(n);return u.M_(),new ex(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:hx.bind(null,r),Lo:mx.bind(null,r),D_:fx.bind(null,r),v_:dx.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Kh(r)):(await r.Y_.stop(),r.K_.length>0&&(ue(ua,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Ap(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rp(r,e){if(pr("AsyncQueue",`${e}: ${r}`),Do(r))return new me(ee.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{static emptySet(e){return new fo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=$l(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new fo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.Z_=new ot(ye.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):we():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class bo{constructor(e,n,s,o,u,f,m,p,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new bo(e,n,fo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class _x{constructor(){this.queries=lE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=lE(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new me(ee.ABORTED,"Firestore shutting down"))}}function lE(){return new fa(r=>HT(r),zh)}async function b0(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new gx,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Rp(f,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Cp(n)}async function A0(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function yx(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Cp(n)}function vx(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Cp(r){r.ia.forEach(e=>{e.next()})}var Hm,uE;(uE=Hm||(Hm={}))._a="default",uE.Cache="cache";class R0{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new bo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=bo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Hm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e){this.key=e}}class I0{constructor(e){this.key=e}}class Ex{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Pe(),this.mutatedKeys=Pe(),this.ya=qT(e),this.wa=new fo(this.ya)}get ba(){return this.fa}Sa(e,n){const s=n?n.Da:new oE,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,b)=>{const R=o.get(T),M=Bh(this.query,b)?b:null,L=!!R&&this.mutatedKeys.has(R.key),$=!!M&&(M.hasLocalMutations||this.mutatedKeys.has(M.key)&&M.hasCommittedMutations);let q=!1;R&&M?R.data.isEqual(M.data)?L!==$&&(s.track({type:3,doc:M}),q=!0):this.va(R,M)||(s.track({type:2,doc:M}),q=!0,(p&&this.ya(M,p)>0||_&&this.ya(M,_)<0)&&(m=!0)):!R&&M?(s.track({type:0,doc:M}),q=!0):R&&!M&&(s.track({type:1,doc:R}),q=!0,(p||_)&&(m=!0)),q&&(M?(f=f.add(M),u=$?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((T,b)=>function(M,L){const $=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return $(M)-$(L)}(T.type,b.type)||this.ya(T.doc,b.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,_=p!==this.ga;return this.ga=p,f.length!==0||_?{snapshot:new bo(this.query,e.wa,u,f,e.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new oE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Pe(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new I0(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new C0(s))}),n}Oa(e){this.fa=e.gs,this.pa=Pe();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return bo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ip="SyncEngine";class Tx{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class wx{constructor(e){this.key=e,this.Ba=!1}}class Sx{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new fa(m=>HT(m),zh),this.qa=new Map,this.Qa=new Set,this.$a=new ot(ye.comparator),this.Ka=new Map,this.Ua=new _p,this.Wa={},this.Ga=new Map,this.za=So.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function bx(r,e,n=!0){const s=P0(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await x0(s,e,n,!0),o}async function Ax(r,e){const n=P0(r);await x0(n,e,!0,!1)}async function x0(r,e,n,s){const o=await GI(r.localStore,bi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await Rx(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&y0(r.remoteStore,o),m}async function Rx(r,e,n,s,o){r.Ha=(b,R,M)=>async function($,q,Y,te){let K=q.view.Sa(Y);K.ls&&(K=await tE($.localStore,q.query,!1).then(({documents:D})=>q.view.Sa(D,K)));const re=te&&te.targetChanges.get(q.targetId),se=te&&te.targetMismatches.get(q.targetId)!=null,fe=q.view.applyChanges(K,$.isPrimaryClient,re,se);return hE($,q.targetId,fe.Ma),fe.snapshot}(r,b,R,M);const u=await tE(r.localStore,e,!0),f=new Ex(e,u.gs),m=f.Sa(u.documents),p=gu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),_=f.applyChanges(m,r.isPrimaryClient,p);hE(r,n,_.Ma);const T=new Tx(e,n,f);return r.ka.set(e,T),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),_.snapshot}async function Cx(r,e,n){const s=Ae(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!zh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await zm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Tp(s.remoteStore,o.targetId),qm(s,o.targetId)}).catch(No)):(qm(s,o.targetId),await zm(s.localStore,o.targetId,!0))}async function Ix(r,e){const n=Ae(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Tp(n.remoteStore,s.targetId))}async function xx(r,e,n){const s=Vx(r);try{const o=await function(f,m){const p=Ae(f),_=Dt.now(),T=m.reduce((M,L)=>M.add(L.key),Pe());let b,R;return p.persistence.runTransaction("Locally write mutations","readwrite",M=>{let L=gr(),$=Pe();return p.ds.getEntries(M,T).next(q=>{L=q,L.forEach((Y,te)=>{te.isValidDocument()||($=$.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(M,L)).next(q=>{b=q;const Y=[];for(const te of m){const K=FC(te,b.get(te.key).overlayedDocument);K!=null&&Y.push(new Ss(te.key,K,kT(K.value.mapValue),Xn.exists(!0)))}return p.mutationQueue.addMutationBatch(M,_,Y,m)}).next(q=>{R=q;const Y=q.applyToLocalDocumentSet(b,$);return p.documentOverlayCache.saveOverlays(M,q.batchId,Y)})}).then(()=>({batchId:R.batchId,changes:GT(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let _=f.Wa[f.currentUser.toKey()];_||(_=new ot(Ve)),_=_.insert(m,p),f.Wa[f.currentUser.toKey()]=_}(s,o.batchId,n),await yu(s,o.changes),await Kh(s.remoteStore)}catch(o){const u=Rp(o,"Failed to persist write");n.reject(u)}}async function N0(r,e){const n=Ae(r);try{const s=await HI(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Ke(f.Ba):o.removedDocuments.size>0&&(Ke(f.Ba),f.Ba=!1))}),await yu(n,s,e)}catch(s){await No(s)}}function cE(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ae(f);p.onlineState=m;let _=!1;p.queries.forEach((T,b)=>{for(const R of b.ta)R.sa(m)&&(_=!0)}),_&&Cp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Nx(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ka.get(e),u=o&&o.key;if(u){let f=new ot(ye.comparator);f=f.insert(u,tn.newNoDocument(u,Se.min()));const m=Pe().add(u),p=new Fh(Se.min(),new Map,new ot(Ve),f,m);await N0(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),xp(s)}else await zm(s.localStore,e,!1).then(()=>qm(s,e,n)).catch(No)}async function Dx(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await BI(n.localStore,e);O0(n,s,null),D0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await yu(n,o)}catch(o){await No(o)}}async function Ox(r,e,n){const s=Ae(r);try{const o=await function(f,m){const p=Ae(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let T;return p.mutationQueue.lookupMutationBatch(_,m).next(b=>(Ke(b!==null),T=b.keys(),p.mutationQueue.removeMutationBatch(_,b))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T)).next(()=>p.localDocuments.getDocuments(_,T))})}(s.localStore,e);O0(s,e,n),D0(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await yu(s,o)}catch(o){await No(o)}}function D0(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function O0(r,e,n){const s=Ae(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function qm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ua.Sr(e).forEach(s=>{r.Ua.containsKey(s)||M0(r,s)})}function M0(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(Tp(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ka.delete(n),xp(r))}function hE(r,e,n){for(const s of n)s instanceof C0?(r.Ua.addReference(s.key,e),Mx(r,s)):s instanceof I0?(ue(Ip,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||M0(r,s.key)):we()}function Mx(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(ue(Ip,"New document in limbo: "+n),r.Qa.add(s),xp(r))}function xp(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new ye(nt.fromString(e)),s=r.za.next();r.Ka.set(s,new wx(n)),r.$a=r.$a.insert(n,s),y0(r.remoteStore,new us(bi(hp(n.path)),s,"TargetPurposeLimboResolution",Vh.ae))}}async function yu(r,e,n){const s=Ae(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(_=>{var T;if((_||n)&&s.isPrimaryClient){const b=_?!_.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(_){o.push(_);const b=vp.Yi(p.targetId,_);u.push(b)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,_){const T=Ae(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>Z.forEach(_,R=>Z.forEach(R.Hi,M=>T.persistence.referenceDelegate.addReference(b,R.targetId,M)).next(()=>Z.forEach(R.Ji,M=>T.persistence.referenceDelegate.removeReference(b,R.targetId,M)))))}catch(b){if(!Do(b))throw b;ue(Ep,"Failed to update sequence numbers: "+b)}for(const b of _){const R=b.targetId;if(!b.fromCache){const M=T.Ts.get(R),L=M.snapshotVersion,$=M.withLastLimboFreeSnapshotVersion(L);T.Ts=T.Ts.insert(R,$)}}}(s.localStore,u))}async function Px(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){ue(Ip,"User change. New user:",e.toKey());const s=await m0(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new me(ee.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await yu(n,s.Rs)}}function kx(r,e){const n=Ae(r),s=n.Ka.get(e);if(s&&s.Ba)return Pe().add(s.key);{let o=Pe();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.ba)}return o}}function P0(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=N0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=kx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Nx.bind(null,e),e.La.p_=yx.bind(null,e.eventManager),e.La.Ja=vx.bind(null,e.eventManager),e}function Vx(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Dx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ox.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return zI(this.persistence,new jI,e.initialUser,this.serializer)}Xa(e){return new d0(yp.ri,this.serializer)}Za(e){return new KI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class jx extends Rh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ke(this.persistence.referenceDelegate instanceof bh);const s=this.persistence.referenceDelegate.garbageCollector;return new wI(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new d0(s=>bh.ri(s,n),this.serializer)}}class Fm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>cE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Px.bind(null,this.syncEngine),await px(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new _x}()}createDatastore(e){const n=Gh(e.databaseInfo.databaseId),s=function(u){return new ZI(u)}(e.databaseInfo);return function(u,f,m,p){return new nx(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new rx(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>cE(this.syncEngine,n,0),function(){return rE.D()?new rE:new QI}())}createSyncEngine(e,n){return function(o,u,f,m,p,_,T){const b=new Sx(o,u,f,m,p,_);return T&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ae(o);ue(ua,"RemoteStore shutting down."),u.W_.add(5),await _u(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Fm.provider={build:()=>new Fm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="FirestoreClient";class Lx{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=AT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ue(Ts,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ue(Ts,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Rp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function vm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(Ts,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await m0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function fE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await Ux(r);ue(Ts,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>aE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>aE(e.remoteStore,o)),r._onlineComponents=e}async function Ux(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(Ts,"Using user provided OfflineComponentProvider");try{await vm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;yo("Error using user provided cache. Falling back to memory cache: "+n),await vm(r,new Rh)}}else ue(Ts,"Using default OfflineComponentProvider"),await vm(r,new jx(void 0));return r._offlineComponents}async function V0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(Ts,"Using user provided OnlineComponentProvider"),await fE(r,r._uninitializedComponentsProvider._online)):(ue(Ts,"Using default OnlineComponentProvider"),await fE(r,new Fm))),r._onlineComponents}function zx(r){return V0(r).then(e=>e.syncEngine)}async function j0(r){const e=await V0(r),n=e.eventManager;return n.onListen=bx.bind(null,e.syncEngine),n.onUnlisten=Cx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Ax.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Ix.bind(null,e.syncEngine),n}function Bx(r,e,n={}){const s=new hr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,_){const T=new k0({next:R=>{T.su(),f.enqueueAndForget(()=>A0(u,b));const M=R.docs.has(m);!M&&R.fromCache?_.reject(new me(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):M&&R.fromCache&&p&&p.source==="server"?_.reject(new me(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(R)},error:R=>_.reject(R)}),b=new R0(hp(m.path),T,{includeMetadataChanges:!0,Ta:!0});return b0(u,b)}(await j0(r),r.asyncQueue,e,n,s)),s.promise}function Hx(r,e,n={}){const s=new hr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,_){const T=new k0({next:R=>{T.su(),f.enqueueAndForget(()=>A0(u,b)),R.fromCache&&p.source==="server"?_.reject(new me(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(R)},error:R=>_.reject(R)}),b=new R0(m,T,{includeMetadataChanges:!0,Ta:!0});return b0(u,b)}(await j0(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(r,e,n){if(!n)throw new me(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function qx(r,e,n,s){if(e===!0&&s===!0)throw new me(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function mE(r){if(!ye.isDocumentKey(r))throw new me(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function pE(r){if(ye.isDocumentKey(r))throw new me(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Np(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we()}function ii(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new me(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Np(r);throw new me(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="firestore.googleapis.com",gE=!0;class _E{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new me(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=z0,this.ssl=gE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:gE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=f0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<EI)throw new me(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}qx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=L0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _E({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _E(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new W1;switch(s.type){case"firstParty":return new tC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=dE.get(n);s&&(ue("ComponentProvider","Removing Datastore"),dE.delete(n),s.terminate())}(this),Promise.resolve()}}function Fx(r,e,n,s={}){var o;const u=(r=ii(r,Qh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==z0&&u.host!==m&&yo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!ps(p,f)&&(r._setSettings(p),s.mockUserToken)){let _,T;if(typeof s.mockUserToken=="string")_=s.mockUserToken,T=en.MOCK_USER;else{_=RR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new me(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new en(b)}r._authCredentials=new Z1(new bT(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Yh(this.firestore,e,this._query)}}class wn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new wn(this.firestore,e,this._key)}}class ms extends Yh{constructor(e,n,s){super(e,n,hp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new wn(this.firestore,null,new ye(e))}withConverter(e){return new ms(this.firestore,e,this._path)}}function Xh(r,e,...n){if(r=rn(r),U0("collection","path",e),r instanceof Qh){const s=nt.fromString(e,...n);return pE(s),new ms(r,null,s)}{if(!(r instanceof wn||r instanceof ms))throw new me(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return pE(s),new ms(r.firestore,null,s)}}function si(r,e,...n){if(r=rn(r),arguments.length===1&&(e=AT.newId()),U0("doc","path",e),r instanceof Qh){const s=nt.fromString(e,...n);return mE(s),new wn(r,null,new ye(s))}{if(!(r instanceof wn||r instanceof ms))throw new me(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return mE(s),new wn(r.firestore,r instanceof ms?r.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="AsyncQueue";class vE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new g0(this,"async_queue_retry"),this.bu=()=>{const s=ym();s&&ue(yE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const n=ym();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=ym();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new hr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Do(e))throw e;ue(yE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw pr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Ap.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&we()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class ma extends Qh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new vE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vE(e),this._firestoreClient=void 0,await e}}}function Gx(r,e){const n=typeof r=="object"?r:pT(),s=typeof r=="string"?r:yh,o=rp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=bR("firestore");u&&Fx(o,...u)}return o}function Dp(r){if(r._terminated)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||$x(r),r._firestoreClient}function $x(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,_,T){return new pC(m,p,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,L0(T.experimentalLongPollingOptions),T.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new Lx(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ao{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ao(Qt.fromBase64String(e))}catch(n){throw new me(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ao(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx=/^__.*__$/;class Qx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms):new pu(e,this.data,n,this.fieldTransforms)}}class B0{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function H0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class Zh{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Zh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Ch(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(H0(this.Lu)&&Kx.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Yx{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Gh(e)}ju(e,n,s,o=!1){return new Zh({Lu:e,methodName:n,zu:s,path:Kt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Pp(r){const e=r._freezeSettings(),n=Gh(r._databaseId);return new Yx(r._databaseId,!!e.ignoreUndefinedProperties,n)}function q0(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);jp("Data must be an object, but it was:",f,s);const m=F0(s,f);let p,_;if(u.merge)p=new Dn(f.fieldMask),_=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const R=Gm(e,b,n);if(!f.contains(R))throw new me(ee.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);$0(T,R)||T.push(R)}p=new Dn(T),_=f.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,_=f.fieldTransforms;return new Qx(new Tn(m),p,_)}class Jh extends vu{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Jh}}function Xx(r,e,n){return new Zh({Lu:3,zu:e.settings.zu,methodName:r._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class kp extends vu{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=Xx(this,e,!0),s=this.Hu.map(u=>Eu(u,n)),o=new wo(s);return new JT(e.path,o)}isEqual(e){return e instanceof kp&&ps(this.Hu,e.Hu)}}class Vp extends vu{constructor(e,n){super(e),this.Ju=n}_toFieldTransform(e){const n=new ou(e.serializer,QT(e.serializer,this.Ju));return new JT(e.path,n)}isEqual(e){return e instanceof Vp&&this.Ju===e.Ju}}function Wx(r,e,n,s){const o=r.ju(1,e,n);jp("Data must be an object, but it was:",o,s);const u=[],f=Tn.empty();ws(s,(p,_)=>{const T=Lp(e,p,n);_=rn(_);const b=o.Ku(T);if(_ instanceof Jh)u.push(T);else{const R=Eu(_,b);R!=null&&(u.push(T),f.set(T,R))}});const m=new Dn(u);return new B0(f,m,o.fieldTransforms)}function Zx(r,e,n,s,o,u){const f=r.ju(1,e,n),m=[Gm(e,s,n)],p=[o];if(u.length%2!=0)throw new me(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(Gm(e,u[R])),p.push(u[R+1]);const _=[],T=Tn.empty();for(let R=m.length-1;R>=0;--R)if(!$0(_,m[R])){const M=m[R];let L=p[R];L=rn(L);const $=f.Ku(M);if(L instanceof Jh)_.push(M);else{const q=Eu(L,$);q!=null&&(_.push(M),T.set(M,q))}}const b=new Dn(_);return new B0(T,b,f.fieldTransforms)}function Eu(r,e){if(G0(r=rn(r)))return jp("Unsupported field value:",e,r),F0(r,e);if(r instanceof vu)return function(s,o){if(!H0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Eu(m,o.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=rn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return QT(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Dt.fromDate(s);return{timestampValue:Sh(o.serializer,u)}}if(s instanceof Dt){const u=new Dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Sh(o.serializer,u)}}if(s instanceof Op)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ao)return{bytesValue:s0(o.serializer,s._byteString)};if(s instanceof wn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:gp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Mp)return function(f,m){return{mapValue:{fields:{[MT]:{stringValue:PT},[vh]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw m.Wu("VectorValues must only contain numeric values.");return fp(m.serializer,_)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Np(s)}`)}(r,e)}function F0(r,e){const n={};return CT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(r,(s,o)=>{const u=Eu(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function G0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Dt||r instanceof Op||r instanceof Ao||r instanceof wn||r instanceof vu||r instanceof Mp)}function jp(r,e,n){if(!G0(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Np(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function Gm(r,e,n){if((e=rn(e))instanceof Wh)return e._internalPath;if(typeof e=="string")return Lp(r,e);throw Ch("Field path arguments must be of type string or ",r,!1,void 0,n)}const Jx=new RegExp("[~\\*/\\[\\]]");function Lp(r,e,n){if(e.search(Jx)>=0)throw Ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Wh(...e.split("."))._internalPath}catch{throw Ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ch(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new me(ee.INVALID_ARGUMENT,m+r+p)}function $0(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new wn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new eN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Q0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class eN extends K0{data(){return super.data()}}function Q0(r,e){return typeof e=="string"?Lp(r,e):e instanceof Wh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new me(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class nN{convertValue(e,n="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ws(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[vh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>_t(f.doubleValue));return new Mp(u)}convertGeoPoint(e){return new Op(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Lh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(iu(e));default:return null}}convertTimestamp(e){const n=_s(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Ke(h0(s));const o=new ru(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||pr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class X0 extends K0{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Q0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class uh extends X0{data(e={}){return super.data(e)}}class iN{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Ql(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new uh(this._firestore,this._userDataWriter,s.key,s,new Ql(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new uh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new uh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Ql(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return m.type!==0&&(_=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:rN(m.type),doc:p,oldIndex:_,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function rN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(r){r=ii(r,wn);const e=ii(r.firestore,ma);return Bx(Dp(e),r._key).then(n=>oN(e,r,n))}class Z0 extends nN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ao(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new wn(this.firestore,null,n)}}function Up(r){r=ii(r,Yh);const e=ii(r.firestore,ma),n=Dp(e),s=new Z0(e);return tN(r._query),Hx(n,r._query).then(o=>new iN(e,s,r,o))}function J0(r,e,n){r=ii(r,wn);const s=ii(r.firestore,ma),o=Y0(r.converter,e);return ef(s,[q0(Pp(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Xn.none())])}function Tu(r,e,n,...s){r=ii(r,wn);const o=ii(r.firestore,ma),u=Pp(o);let f;return f=typeof(e=rn(e))=="string"||e instanceof Wh?Zx(u,"updateDoc",r._key,e,n,s):Wx(u,"updateDoc",r._key,e),ef(o,[f.toMutation(r._key,Xn.exists(!0))])}function sN(r){return ef(ii(r.firestore,ma),[new dp(r._key,Xn.none())])}function aN(r,e){const n=ii(r.firestore,ma),s=si(r),o=Y0(r.converter,e);return ef(n,[q0(Pp(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Xn.exists(!1))]).then(()=>s)}function ef(r,e){return function(s,o){const u=new hr;return s.asyncQueue.enqueueAndForget(async()=>xx(await zx(s),o,u)),u.promise}(Dp(r),e)}function oN(r,e,n){const s=n.docs.get(e._key),o=new Z0(r);return new X0(r,o,e._key,s,new Ql(n.hasPendingWrites,n.fromCache),e.converter)}function ew(...r){return new kp("arrayUnion",r)}function zp(r){return new Vp("increment",r)}(function(e,n=!0){(function(o){xo=o})(Io),_o(new oa("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ma(new J1(s.getProvider("auth-internal")),new nC(f,s.getProvider("app-check-internal")),function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new me(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ru(_.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),fs(Rv,Cv,e),fs(Rv,Cv,"esm2017")})();function Bp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function tw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lN=tw,nw=new du("auth","Firebase",tw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new np("@firebase/auth");function uN(r,...e){Ih.logLevel<=Me.WARN&&Ih.warn(`Auth (${Io}): ${r}`,...e)}function ch(r,...e){Ih.logLevel<=Me.ERROR&&Ih.error(`Auth (${Io}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(r,...e){throw Hp(r,...e)}function Ri(r,...e){return Hp(r,...e)}function iw(r,e,n){const s=Object.assign(Object.assign({},lN()),{[e]:n});return new du("auth","Firebase",s).create(e,{appName:r.name})}function fr(r){return iw(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return nw.create(r,...e)}function Ee(r,e,...n){if(!r)throw Hp(e,...n)}function or(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ch(e),new Error(e)}function _r(r,e){r||or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $m(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function cN(){return EE()==="http:"||EE()==="https:"}function EE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(cN()||NR()||"connection"in navigator)?navigator.onLine:!0}function fN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n){this.shortDelay=e,this.longDelay=n,_r(n>e,"Short delay should be less than long delay!"),this.isMobile=CR()||DR()}get(){return hN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qp(r,e){_r(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=new wu(3e4,6e4);function bs(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function As(r,e,n,s,o={}){return sw(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=mu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:e,headers:p},u);return xR()||(_.referrerPolicy="no-referrer"),rw.fetch()(aw(r,r.config.apiHost,n,m),_)})}async function sw(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},dN),e);try{const o=new gN(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw eh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,_]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw eh(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw eh(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw iw(r,T,_);ri(r,T)}}catch(o){if(o instanceof vr)throw o;ri(r,"network-request-failed",{message:String(o)})}}async function Su(r,e,n,s,o={}){const u=await As(r,e,n,s,o);return"mfaPendingCredential"in u&&ri(r,"multi-factor-auth-required",{_serverResponse:u}),u}function aw(r,e,n,s){const o=`${e}${n}?${s}`;return r.config.emulator?qp(r.config,o):`${r.config.apiScheme}://${o}`}function pN(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class gN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ri(this.auth,"network-request-failed")),mN.get())})}}function eh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ri(r,e,s);return o.customData._tokenResponse=n,o}function TE(r){return r!==void 0&&r.enterprise!==void 0}class _N{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return pN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function yN(r,e){return As(r,"GET","/v2/recaptchaConfig",bs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vN(r,e){return As(r,"POST","/v1/accounts:delete",e)}async function ow(r,e){return As(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function EN(r,e=!1){const n=rn(r),s=await n.getIdToken(e),o=Fp(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Jl(Em(o.auth_time)),issuedAtTime:Jl(Em(o.iat)),expirationTime:Jl(Em(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Em(r){return Number(r)*1e3}function Fp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const o=lT(n);return o?JSON.parse(o):(ch("Failed to decode base64 JWT payload"),null)}catch(o){return ch("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function wE(r){const e=Fp(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof vr&&TN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function TN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Km{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await lu(r,ow(n,{idToken:s}));Ee(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?lw(u.providerUserInfo):[],m=bN(r.providerData,f),p=r.isAnonymous,_=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),T=p?_:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Km(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,b)}async function SN(r){const e=rn(r);await xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function bN(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function lw(r){return r.map(e=>{var{providerId:n}=e,s=Bp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AN(r,e){const n=await sw(r,{},async()=>{const s=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=aw(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",rw.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function RN(r,e){return As(r,"POST","/v2/accounts:revokeToken",bs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):wE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=wE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await AN(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new mo;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mo,this.toJSON())}_performRefresh(){return or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class lr{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Bp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Km(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await lu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return EN(this,e)}reload(){return SN(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new lr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await xh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(fr(this.auth));const e=await this.getIdToken();return await lu(this,vN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,_,T;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,R=(o=n.email)!==null&&o!==void 0?o:void 0,M=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,L=(f=n.photoURL)!==null&&f!==void 0?f:void 0,$=(m=n.tenantId)!==null&&m!==void 0?m:void 0,q=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(_=n.createdAt)!==null&&_!==void 0?_:void 0,te=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:K,emailVerified:re,isAnonymous:se,providerData:fe,stsTokenManager:D}=n;Ee(K&&D,e,"internal-error");const C=mo.fromJSON(this.name,D);Ee(typeof K=="string",e,"internal-error"),is(b,e.name),is(R,e.name),Ee(typeof re=="boolean",e,"internal-error"),Ee(typeof se=="boolean",e,"internal-error"),is(M,e.name),is(L,e.name),is($,e.name),is(q,e.name),is(Y,e.name),is(te,e.name);const A=new lr({uid:K,auth:e,email:R,emailVerified:re,displayName:b,isAnonymous:se,photoURL:L,phoneNumber:M,tenantId:$,stsTokenManager:C,createdAt:Y,lastLoginAt:te});return fe&&Array.isArray(fe)&&(A.providerData=fe.map(N=>Object.assign({},N))),q&&(A._redirectEventId=q),A}static async _fromIdTokenResponse(e,n,s=!1){const o=new mo;o.updateFromServerResponse(n);const u=new lr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await xh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?lw(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new mo;m.updateFromIdToken(s);const p=new lr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Km(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=new Map;function ur(r){_r(r instanceof Function,"Expected a class definition");let e=SE.get(r);return e?(_r(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,SE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}uw.type="NONE";const bE=uw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(r,e,n){return`firebase:${r}:${e}:${n}`}class po{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=hh(this.userKey,o.apiKey,u),this.fullPersistenceKey=hh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?lr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new po(ur(bE),e,s);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||ur(bE);const f=hh(s,e.config.apiKey,e.name);let m=null;for(const _ of n)try{const T=await _._get(f);if(T){const b=lr._fromJSON(e,T);_!==u&&(m=b),u=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new po(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new po(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pw(e))return"Blackberry";if(gw(e))return"Webos";if(hw(e))return"Safari";if((e.includes("chrome/")||fw(e))&&!e.includes("edge/"))return"Chrome";if(mw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function cw(r=nn()){return/firefox\//i.test(r)}function hw(r=nn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fw(r=nn()){return/crios\//i.test(r)}function dw(r=nn()){return/iemobile/i.test(r)}function mw(r=nn()){return/android/i.test(r)}function pw(r=nn()){return/blackberry/i.test(r)}function gw(r=nn()){return/webos/i.test(r)}function Gp(r=nn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function CN(r=nn()){var e;return Gp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function IN(){return OR()&&document.documentMode===10}function _w(r=nn()){return Gp(r)||mw(r)||gw(r)||pw(r)||/windows phone/i.test(r)||dw(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(r,e=[]){let n;switch(r){case"Browser":n=AE(nn());break;case"Worker":n=`${AE(nn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Io}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NN(r,e={}){return As(r,"GET","/v2/passwordPolicy",bs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=6;class ON{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:DN,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RE(this),this.idTokenSubscription=new RE(this),this.beforeStateQueue=new xN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ur(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await po.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ow(this,{idToken:e}),s=await lr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Yn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yn(this.app))return Promise.reject(fr(this));const n=e?rn(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yn(this.app)?Promise.reject(fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NN(this),n=new ON(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new du("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await RN(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ur(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await po.create(this,[ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&uN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function pa(r){return rn(r)}class RE{constructor(e){this.auth=e,this.observer=null,this.addObserver=zR(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let tf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function PN(r){tf=r}function vw(r){return tf.loadJS(r)}function kN(){return tf.recaptchaEnterpriseScript}function VN(){return tf.gapiScript}function jN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class LN{constructor(){this.enterprise=new UN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class UN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const zN="recaptcha-enterprise",Ew="NO_RECAPTCHA";class BN{constructor(e){this.type=zN,this.auth=pa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{yN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new _N(p);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,f(_.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;TE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(_=>{f(_)}).catch(()=>{f(Ew)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new LN().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&TE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=kN();p.length!==0&&(p+=m),vw(p).then(()=>{o(m,u,f)}).catch(_=>{f(_)})}}).catch(m=>{f(m)})})}}async function CE(r,e,n,s=!1,o=!1){const u=new BN(r);let f;if(o)f=Ew;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Qm(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await CE(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await CE(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(r,e){const n=rp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ps(u,e??{}))return o;ri(o,"already-initialized")}return n.initialize({options:e})}function qN(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ur);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function FN(r,e,n){const s=pa(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Tw(e),{host:f,port:m}=GN(e),p=m===null?"":`:${m}`,_={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(ps(_,s.config.emulator)&&ps(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,$N()}function Tw(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function GN(r){const e=Tw(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:IE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:IE(f)}}}function IE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function $N(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}}async function KN(r,e){return As(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(r,e){return Su(r,"POST","/v1/accounts:signInWithPassword",bs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YN(r,e){return Su(r,"POST","/v1/accounts:signInWithEmailLink",bs(r,e))}async function XN(r,e){return Su(r,"POST","/v1/accounts:signInWithEmailLink",bs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uu extends $p{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new uu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new uu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qm(e,n,"signInWithPassword",QN);case"emailLink":return YN(e,{email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qm(e,s,"signUpPassword",KN);case"emailLink":return XN(e,{idToken:n,email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function go(r,e){return Su(r,"POST","/v1/accounts:signInWithIdp",bs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WN="http://localhost";class ca extends $p{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ri("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Bp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new ca(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return go(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,go(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,go(e,n)}buildRequest(){const e={requestUri:WN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZN(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function JN(r){const e=ql(Fl(r)).link,n=e?ql(Fl(e)).deep_link_id:null,s=ql(Fl(r)).deep_link_id;return(s?ql(Fl(s)).link:null)||s||n||e||r}class Kp{constructor(e){var n,s,o,u,f,m;const p=ql(Fl(e)),_=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,b=ZN((o=p.mode)!==null&&o!==void 0?o:null);Ee(_&&T&&b,"argument-error"),this.apiKey=_,this.operation=b,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=JN(e);try{return new Kp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(){this.providerId=Mo.PROVIDER_ID}static credential(e,n){return uu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Kp.parseLink(n);return Ee(s,"argument-error"),uu._fromEmailAndCode(e,s.code,s.tenantId)}}Mo.PROVIDER_ID="password";Mo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Mo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu extends ww{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends bu{constructor(){super("facebook.com")}static credential(e){return ca._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends bu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ca._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return as.credential(n,s)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends bu{constructor(){super("github.com")}static credential(e){return ca._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.GITHUB_SIGN_IN_METHOD="github.com";os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends bu{constructor(){super("twitter.com")}static credential(e,n){return ca._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ls.credential(n,s)}catch{return null}}}ls.TWITTER_SIGN_IN_METHOD="twitter.com";ls.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eD(r,e){return Su(r,"POST","/v1/accounts:signUp",bs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await lr._fromIdTokenResponse(e,s,o),f=xE(s);return new ha({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=xE(s);return new ha({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function xE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends vr{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Nh(e,n,s,o)}}function Sw(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(r,u,e,s):u})}async function tD(r,e,n=!1){const s=await lu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ha._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nD(r,e,n=!1){const{auth:s}=r;if(Yn(s.app))return Promise.reject(fr(s));const o="reauthenticate";try{const u=await lu(r,Sw(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const f=Fp(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(r.uid===m,s,"user-mismatch"),ha._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ri(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bw(r,e,n=!1){if(Yn(r.app))return Promise.reject(fr(r));const s="signIn",o=await Sw(r,s,e),u=await ha._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function iD(r,e){return bw(pa(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aw(r){const e=pa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function rD(r,e,n){if(Yn(r.app))return Promise.reject(fr(r));const s=pa(r),f=await Qm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",eD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Aw(r),p}),m=await ha._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function sD(r,e,n){return Yn(r.app)?Promise.reject(fr(r)):iD(rn(r),Mo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Aw(r),s})}function aD(r,e,n,s){return rn(r).onIdTokenChanged(e,n,s)}function oD(r,e,n){return rn(r).beforeAuthStateChanged(e,n)}function lD(r){return rn(r).signOut()}const Dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=1e3,cD=10;class Cw extends Rw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_w(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);IN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,cD):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},uD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Cw.type="LOCAL";const hD=Cw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw extends Rw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Iw.type="SESSION";const xw=Iw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new nf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async _=>_(n.origin,u)),p=await fD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}nf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const _=Qp("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const R=b;if(R.data.eventId===_)switch(R.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(){return window}function mD(r){Ci().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(){return typeof Ci().WorkerGlobalScope<"u"&&typeof Ci().importScripts=="function"}async function pD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function gD(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function _D(){return Nw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="firebaseLocalStorageDb",yD=1,Oh="firebaseLocalStorage",Ow="fbase_key";class Au{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function rf(r,e){return r.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function vD(){const r=indexedDB.deleteDatabase(Dw);return new Au(r).toPromise()}function Ym(){const r=indexedDB.open(Dw,yD);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Oh,{keyPath:Ow})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Oh)?e(s):(s.close(),await vD(),e(await Ym()))})})}async function NE(r,e,n){const s=rf(r,!0).put({[Ow]:e,value:n});return new Au(s).toPromise()}async function ED(r,e){const n=rf(r,!1).get(e),s=await new Au(n).toPromise();return s===void 0?null:s.value}function DE(r,e){const n=rf(r,!0).delete(e);return new Au(n).toPromise()}const TD=800,wD=3;class Mw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Ym(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>wD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Nw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=nf._getInstance(_D()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await pD(),!this.activeServiceWorker)return;this.sender=new dD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||gD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ym();return await NE(e,Dh,"1"),await DE(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>NE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>ED(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>DE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=rf(o,!1).getAll();return new Au(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),TD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Mw.type="LOCAL";const SD=Mw;new wu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(r,e){return e?ur(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp extends $p{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return go(e,this._buildIdpRequest())}_linkToIdToken(e,n){return go(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return go(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function AD(r){return bw(r.auth,new Yp(r),r.bypassAuthState)}function RD(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),nD(n,new Yp(r),r.bypassAuthState)}async function CD(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),tD(n,new Yp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return AD;case"linkViaPopup":case"linkViaRedirect":return CD;case"reauthViaPopup":case"reauthViaRedirect":return RD;default:ri(this.auth,"internal-error")}}resolve(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=new wu(2e3,1e4);class ho extends Pw{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){_r(this.filter.length===1,"Popup operations only handle one event");const e=Qp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ri(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ri(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ri(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ID.get())};e()}}ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xD="pendingRedirect",fh=new Map;class ND extends Pw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=fh.get(this.auth._key());if(!e){try{const s=await DD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}fh.set(this.auth._key(),e)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function DD(r,e){const n=PD(e),s=MD(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function OD(r,e){fh.set(r._key(),e)}function MD(r){return ur(r._redirectPersistence)}function PD(r){return hh(xD,r.config.apiKey,r.name)}async function kD(r,e,n=!1){if(Yn(r.app))return Promise.reject(fr(r));const s=pa(r),o=bD(s,e),f=await new ND(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VD=10*60*1e3;class jD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!LD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!kw(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ri(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VD&&this.cachedEventUids.clear(),this.cachedEventUids.has(OE(e))}saveEventToCache(e){this.cachedEventUids.add(OE(e)),this.lastProcessedEventTime=Date.now()}}function OE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function kw({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function LD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UD(r,e={}){return As(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,BD=/^https?/;async function HD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await UD(r);for(const n of e)try{if(qD(n))return}catch{}ri(r,"unauthorized-domain")}function qD(r){const e=$m(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!BD.test(n))return!1;if(zD.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD=new wu(3e4,6e4);function ME(){const r=Ci().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function GD(r){return new Promise((e,n)=>{var s,o,u;function f(){ME(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ME(),n(Ri(r,"network-request-failed"))},timeout:FD.get()})}if(!((o=(s=Ci().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ci().gapi)===null||u===void 0)&&u.load)f();else{const m=jN("iframefcb");return Ci()[m]=()=>{gapi.load?f():n(Ri(r,"network-request-failed"))},vw(`${VN()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw dh=null,e})}let dh=null;function $D(r){return dh=dh||GD(r),dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=new wu(5e3,15e3),QD="__/auth/iframe",YD="emulator/auth/iframe",XD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},WD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ZD(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?qp(e,YD):`https://${r.config.authDomain}/${QD}`,s={apiKey:e.apiKey,appName:r.name,v:Io},o=WD.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${mu(s).slice(1)}`}async function JD(r){const e=await $D(r),n=Ci().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:ZD(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ri(r,"network-request-failed"),m=Ci().setTimeout(()=>{u(f)},KD.get());function p(){Ci().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},t2=500,n2=600,i2="_blank",r2="http://localhost";class PE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function s2(r,e,n,s=t2,o=n2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},e2),{width:s.toString(),height:o.toString(),top:u,left:f}),_=nn().toLowerCase();n&&(m=fw(_)?i2:n),cw(_)&&(e=e||r2,p.scrollbars="yes");const T=Object.entries(p).reduce((R,[M,L])=>`${R}${M}=${L},`,"");if(CN(_)&&m!=="_self")return a2(e||"",m),new PE(null);const b=window.open(e||"",m,T);Ee(b,r,"popup-blocked");try{b.focus()}catch{}return new PE(b)}function a2(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="__/auth/handler",l2="emulator/auth/handler",u2=encodeURIComponent("fac");async function kE(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Io,eventId:o};if(e instanceof ww){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",UR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))f[T]=b}if(e instanceof bu){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),_=p?`#${u2}=${encodeURIComponent(p)}`:"";return`${c2(r)}?${mu(m).slice(1)}${_}`}function c2({config:r}){return r.emulator?qp(r,l2):`https://${r.authDomain}/${o2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="webStorageSupport";class h2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xw,this._completeRedirectFn=kD,this._overrideRedirectResult=OD}async _openPopup(e,n,s,o){var u;_r((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await kE(e,n,s,$m(),o);return s2(e,f,Qp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await kE(e,n,s,$m(),o);return mD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(_r(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await JD(e),s=new jD(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Tm,{type:Tm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Tm];f!==void 0&&n(!!f),ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=HD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _w()||hw()||Gp()}}const f2=h2;var VE="@firebase/auth",jE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function p2(r){_o(new oa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yw(r)},_=new MN(s,o,u,p);return qN(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),_o(new oa("auth-internal",e=>{const n=pa(e.getProvider("auth").getImmediate());return(s=>new d2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fs(VE,jE,m2(r)),fs(VE,jE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2=5*60,_2=hT("authIdTokenMaxAge")||g2;let LE=null;const y2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>_2)return;const o=n==null?void 0:n.token;LE!==o&&(LE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function v2(r=pT()){const e=rp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=HN(r,{popupRedirectResolver:f2,persistence:[SD,hD,xw]}),s=hT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=y2(u.toString());oD(n,f,()=>f(n.currentUser)),aD(n,m=>f(m))}}const o=uT("auth");return o&&FN(n,`http://${o}`),n}function E2(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}PN({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ri("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",E2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});p2("Browser");var T2="firebase",w2="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fs(T2,w2,"app");const S2={apiKey:"AIzaSyCSjbxL9N2DMxDdY5VYHIgSS8xcEXT54xE",authDomain:"my-first-project-7cbf9.firebaseapp.com",databaseURL:"https://my-first-project-7cbf9-default-rtdb.europe-west1.firebasedatabase.app",projectId:"my-first-project-7cbf9",storageBucket:"my-first-project-7cbf9.firebasestorage.app",messagingSenderId:"424606795900",appId:"1:424606795900:web:61a3a0683433959a3da1f9"},Vw=mT(S2),Sn=Gx(Vw),Xp=v2(Vw);function b2(){const r=z.useRef(),[e,n]=z.useState([]),[s,o]=z.useState([]),u=z.useRef(!1),f=()=>{const m=r.current.value.trim().toLowerCase();if(r.current.value="",m==="")o(e);else{const p=e.filter(_=>{var T;return(T=_.content)==null?void 0:T.toLowerCase().includes(m)});o(p)}};return z.useEffect(()=>{if(u.current)return;u.current=!0,(async()=>{try{const p=Xh(Sn,"posts"),T=(await Up(p)).docs.map(b=>b.data());n(T),o(T)}catch(p){console.error("Грешка при взимане на постовете:",p)}})()},[]),y.jsxs("div",{className:_n.container,children:[y.jsxs("nav",{className:_n.nav,children:[y.jsx("h1",{children:"At"}),y.jsxs("ul",{children:[y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam/login",children:[y.jsx("i",{className:`fa-solid fa-arrow-right-to-bracket ${_n.i}`}),y.jsx("span",{children:"Sign in"})]})}),y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam/create",children:[y.jsx("i",{className:`fa-regular fa-id-badge ${_n.i}`}),y.jsx("span",{children:"Create account"})]})}),y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam",children:[y.jsx("i",{className:`fa-solid fa-person-through-window ${_n.i}`}),y.jsx("span",{children:"Leave"})]})})]}),y.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Guest"}),y.jsx("p",{children:"Guest"})]}),y.jsxs("main",{className:_n.main,children:[y.jsxs("section",{id:"search",className:_n.search,children:[y.jsx("h3",{children:"What do you need?"}),y.jsx("input",{type:"search",ref:r,name:"search",id:"search",placeholder:"search"}),y.jsx("button",{onClick:f,children:"🔍"})]}),y.jsxs("section",{id:"posts",className:_n.posts,children:[y.jsxs("div",{id:"post",className:_n.post,children:[y.jsxs("div",{id:"meta",className:_n.meta,children:[y.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Profile image"}),y.jsx("h4",{children:"Author"}),y.jsx("p",{children:"Date"})]}),y.jsx("p",{children:"Text content. This is my first post is text content, which is going to become viral!"}),y.jsx("img",{src:"https://images.indianexpress.com/2017/12/2017-viral-photos-main_759_combo.jpg?w=350",alt:"Img or Video"}),y.jsxs("div",{id:"feedback",className:_n.feedback,children:[y.jsxs("p",{children:[y.jsx("i",{className:"fa-regular fa-comment"}),y.jsx("span",{children:"5"})]}),y.jsxs("p",{children:[y.jsx("i",{className:"fa-regular fa-heart"}),y.jsx("span",{children:"12"})]}),y.jsxs("p",{children:[y.jsx("i",{className:"fa-solid fa-magnifying-glass"}),y.jsx("span",{children:"57"})]})]})]}),s.length>0?s.map((m,p)=>{const _=m.meta.date;return y.jsxs("div",{id:"post",className:_n.post,children:[y.jsxs("div",{id:"meta",className:_n.meta,children:[y.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Profile image"}),y.jsx("h4",{children:m.meta.author}),y.jsx("p",{children:_})]}),y.jsx("p",{children:m.content}),y.jsx("img",{src:m.img||"https://example.com/default-image.jpg",alt:"Img or Video"}),y.jsxs("div",{id:"feedback",className:_n.feedback,children:[y.jsxs("p",{children:[y.jsx("i",{className:"fa-regular fa-comment"}),y.jsx("span",{children:m.feedback.comments})]}),y.jsxs("p",{children:[y.jsx("i",{className:"fa-regular fa-heart"}),y.jsx("span",{children:m.feedback.likes})]}),y.jsxs("p",{children:[y.jsx("i",{className:"fa-solid fa-magnifying-glass"}),y.jsx("span",{children:m.feedback.views})]})]})]},p)}):y.jsx("p",{children:"No posts found"})]})]})]})}const A2="_wrapperMajor_12wpi_1",R2="_header_12wpi_11",C2="_logo_12wpi_73",I2="_main_12wpi_83",x2="_mainDiv_12wpi_95",N2="_nav_12wpi_107",D2="_button_12wpi_121",O2="_google_12wpi_141",M2="_awesome_12wpi_175",P2="_separator_12wpi_201",k2="_hr_12wpi_223",V2="_input_12wpi_231",j2="_next_12wpi_245",L2="_lastParagraph_12wpi_263",mt={wrapperMajor:A2,header:R2,logo:C2,main:I2,mainDiv:x2,nav:N2,button:D2,google:O2,awesome:M2,separator:P2,hr:k2,input:V2,next:j2,lastParagraph:L2},ga=z.createContext();function U2({children:r}){const[e,n]=z.useState({name:"",email:"",password:"",birthday:{month:"",day:"",year:""},checkbox:{getMore:"",connectWith:"",peronalizedAds:"",noThanks:""}}),s=o=>{n(u=>({...u,...o}))};return y.jsx(ga.Provider,{value:{formData:e,updateForm:s},children:r})}function z2(){const r=Mi(),{updateForm:e}=z.useContext(ga),n=async s=>{var u;s.preventDefault();const o={email:((u=s.target.elements.email)==null?void 0:u.value)||""};if(!o.email)return alert("You must enter a valid email address");await e(o),r("/react-regular-exam/login/pass")};return y.jsx("form",{onSubmit:n,children:y.jsxs("div",{className:mt.wrapperMajor,children:[y.jsxs("header",{className:mt.header,children:[y.jsx(_e,{className:mt.x,to:"/react-regular-exam",children:y.jsx("i",{className:"fa-solid fa-xmark"})}),y.jsx("h1",{className:mt.logo,children:"At"})]}),y.jsx("main",{className:mt.main,children:y.jsxs("div",{className:mt.mainDiv,children:[y.jsx("h1",{children:"Sign in to At"}),y.jsxs("nav",{className:mt.nav,children:[y.jsxs("button",{type:"button",className:`${mt.button} ${mt.awesome} ${mt.google}`,children:[y.jsx("i",{className:"fa-brands fa-google"}),"Sign in with Google"]}),y.jsxs("button",{type:"button",className:`${mt.button} ${mt.awesome}`,children:[y.jsx("i",{className:"fa-brands fa-apple"}),"Sign in with Apple"]}),y.jsxs("div",{className:mt.separator,children:[y.jsx("hr",{className:mt.hr}),y.jsx("p",{children:"or"}),y.jsx("hr",{className:mt.hr})]}),y.jsx("input",{name:"email",className:mt.input,type:"email",placeholder:"email"}),y.jsx("button",{className:`${mt.button} ${mt.awesome} ${mt.next}`,children:"Next"}),y.jsx("button",{type:"button",className:`${mt.button} ${mt.awesome}`,to:"/react-regular-exam/guest",children:"Forgot password?"}),y.jsxs("p",{className:mt.lastParagraph,children:["Don't have an account?",y.jsx(_e,{to:"/react-regular-exam/create",children:"Sign up"})]})]})]})})]})})}const B2="_wrapperMajor_1qz1e_1",H2="_header_1qz1e_21",q2="_logo_1qz1e_83",F2="_main_1qz1e_93",G2="_mainDiv_1qz1e_107",$2="_upperDiv_1qz1e_121",K2="_emailState_1qz1e_131",Q2="_password_1qz1e_159",Y2="_arrow_1qz1e_177",X2="_inputWrapper_1qz1e_189",W2="_pass_1qz1e_159",Z2="_forgot_1qz1e_219",J2="_login_1qz1e_247",eO="_signup_1qz1e_289",hn={wrapperMajor:B2,header:H2,logo:q2,main:F2,mainDiv:G2,upperDiv:$2,emailState:K2,password:Q2,arrow:Y2,inputWrapper:X2,pass:W2,forgot:Z2,login:J2,signup:eO};function tO(r,e){localStorage.setItem("user",JSON.stringify(r)),localStorage.setItem("userToken",e)}function jw(){return localStorage.getItem("userToken")}function Ru(){return localStorage.getItem("user")}function nO(){localStorage.removeItem("userToken"),localStorage.removeItem("user")}const iO=async r=>{const{email:e,password:n}=r;try{const o=(await rD(Xp,e,n)).user;await J0(si(Sn,"users",o.uid),{...r,createdAt:new Date,userId:o.uid})}catch(s){console.error("Error registering user:",s.message)}},rO=async r=>{const{email:e,password:n}=r;try{const o=(await sD(Xp,e,n)).user,u=await o.getIdToken(),f=await cO(o.uid);return tO(f,u),f}catch(s){console.error("Error login user:",s.message)}},sO=async r=>{try{const e=await Uw(r.img);e?(r.img=e.url,r.imgId=e.id):(r.img="",r.imgId="");const n=await aN(Xh(Sn,"posts"),r),s={...r,id:n.id};await J0(si(Sn,"posts",n.id),s)}catch(e){console.error("Error adding document:",e)}},aO=async r=>{try{const e=si(Sn,"posts",r);await sN(e),console.log("Post deleted successfully!")}catch(e){console.error("Error deleting post:",e)}},oO=async(r,e,n,s,o)=>{let u="";e&&(u=await Uw(e),console.log("Info"));const f=si(Sn,"posts",r);try{await Tu(f,{content:n,img:u.url?u.url:s,imgId:u.id?u.id:o})}catch(m){console.error("Error adding comment: ",m)}},Lw=async(r,e)=>{const n=si(Sn,"posts",r);try{await Tu(n,{comments:ew({data:e}),"feedback.comments":zp(1)})}catch(s){console.error("Error adding comment: ",s)}},lO=async r=>{const e=si(Sn,"posts",r);try{await Tu(e,{img:"",imgId:""})}catch(n){console.error("Error adding comment: ",n)}},UE=async(r,e)=>{const n=si(Sn,"posts",r);try{await Tu(n,{"feedback.likes":zp(1),"feedback.likedPeople":ew(e)})}catch(s){console.error("Error adding like: ",s)}},uO=async r=>{const e=si(Sn,"posts",r);try{await Tu(e,{"feedback.views":zp(1)})}catch(n){console.error("Error adding like: ",n)}},Wp=async r=>{try{const e=si(Sn,"posts",r),n=await W0(e);return n.exists()?n.data():(console.log("No such document!"),null)}catch(e){return console.error("Error fetching post:",e),null}},zE=async()=>{try{const r=Xh(Sn,"posts"),n=(await Up(r)).docs.map(s=>s.data());return n.sort((s,o)=>new Date(o.meta.date)-new Date(s.meta.date)),n}catch(r){console.error("Error loading posts",r)}};async function cO(r){try{const e=si(Sn,"users",r),n=await W0(e);if(n.exists())return n.data();throw new Error("no such user!")}catch(e){return console.error("Error fetching user:",e.message),null}}const Uw=async r=>{if(!r)return;const e=new FormData;e.append("file",r),e.append("upload_preset","my_unsigned_preset");try{const s=await(await fetch("https://api.cloudinary.com/v1_1/dsqegonee/image/upload",{method:"POST",body:e})).json();if(s.secure_url)return{url:s.secure_url,id:s.public_id};console.error("Error uploading your media: ",s)}catch(n){console.error("Error uploading your media: ",n)}},hO="_loader_1ojyy_11",fO={loader:hO};function zw(){return y.jsx("div",{className:fO.loader})}function dO(){const{formData:r,updateForm:e}=z.useContext(ga),n=Mi(),[s,o]=z.useState(!1),[u,f]=z.useState(!1),m=async _=>{var b;_.preventDefault(),f(!0);const T={password:(b=_.target.elements.password)==null?void 0:b.value};if(!T)return alert("You need to provide a password");await e(T)};z.useEffect(()=>{if(!r.password)return;(async()=>{try{const T=await rO(r);await e(T),n("/react-regular-exam/welcome"),f(!1)}catch(T){alert(T.message)}})()},[r.password]);const p=()=>{const _=document.getElementById("password");_.type==="password"?_.type="text":_.type="password"};return y.jsx("form",{onSubmit:m,children:y.jsxs("div",{className:hn.wrapperMajor,children:[u&&y.jsx(zw,{}),y.jsxs("header",{className:hn.header,children:[y.jsx(_e,{className:hn.x,to:"/react-regular-exam",children:y.jsx("i",{className:"fa-solid fa-xmark"})}),y.jsx("h1",{className:hn.logo,children:"At"})]}),y.jsx("main",{className:hn.main,children:y.jsxs("div",{className:hn.mainDiv,children:[y.jsxs("div",{className:hn.upperDiv,children:[y.jsx("h1",{children:"Enter your password"}),y.jsxs("div",{className:hn.emailState,children:[y.jsx("p",{children:"Email"}),y.jsx("p",{children:r.email})]}),y.jsxs("div",{className:hn.password,children:[y.jsxs("div",{className:hn.arrow,children:[y.jsx("p",{children:"Password"}),y.jsx("i",{className:"fa-solid fa-arrow-down"})]}),y.jsxs("div",{className:hn.inputWrapper,children:[y.jsx("input",{className:hn.pass,type:"password",name:"password",id:"password",placeholder:""}),y.jsx("i",{onClick:p,className:"fa-regular fa-eye"})]})]}),y.jsx("p",{className:hn.forgot,children:y.jsx(_e,{children:"Forgot password?"})})]}),y.jsxs("div",{className:hn.login,children:[y.jsx("input",{name:"login",type:"submit",value:"Log in"}),y.jsxs("div",{className:hn.signup,children:[y.jsx("p",{children:"Don't have an account?"}),y.jsx(_e,{to:"/create",children:"Sign up"})]})]})]})})]})})}const mO="_wrapperMajor_1pvgq_1",pO="_header_1pvgq_21",gO="_logo_1pvgq_83",_O="_main_1pvgq_93",yO="_mainDiv_1pvgq_107",vO="_upperDiv_1pvgq_121",EO="_password_1pvgq_133",TO="_arrow_1pvgq_151",wO="_inputWrapper_1pvgq_163",SO="_pass_1pvgq_133",bO="_login_1pvgq_193",AO="_birth_1pvgq_231",RO="_birthday_1pvgq_263",CO="_month_1pvgq_273",IO="_day_1pvgq_299",xO="_year_1pvgq_299",Ye={wrapperMajor:mO,header:pO,logo:gO,main:_O,mainDiv:yO,upperDiv:vO,password:EO,arrow:TO,inputWrapper:wO,pass:SO,login:bO,birth:AO,birthday:RO,month:CO,day:IO,year:xO};function NO(){const{updateForm:r}=z.useContext(ga),e=Mi(),n=async u=>{var m,p,_,T,b,R,M;u.preventDefault();const f={name:((m=u.target.elements.name)==null?void 0:m.value)||"",email:((p=u.target.elements.email)==null?void 0:p.value)||"",password:((_=u.target.elements.password)==null?void 0:_.value)||"",birthday:{month:((T=u.target.elements.month)==null?void 0:T.value)||"",day:((b=u.target.elements.day)==null?void 0:b.value)||"",year:((R=u.target.elements.year)==null?void 0:R.value)||""}};if(f.name)if(f.email){if(!f.password||f.password.length<6)return alert("You must enter a valid password!");if(f.password!==((M=u.target.elements.repeat)==null?void 0:M.value))return alert("Password Missmatch!");if(f.birthday.month)if(f.birthday.day){if(!f.birthday.year)return alert("You must choose an year!")}else return alert("You must choose a day!");else return alert("You must choose a month!")}else return alert("You must enter a valid email address!");else return alert("You must enter a name!");await r(f),e("/react-regular-exam/create/submit")},s=()=>{const u=document.getElementById("password");u.type==="password"?u.type="text":u.type="password"},o=()=>{const u=document.getElementById("repeat");u.type==="password"?u.type="text":u.type="password"};return y.jsx("form",{onSubmit:n,children:y.jsxs("div",{className:Ye.wrapperMajor,children:[y.jsxs("header",{className:Ye.header,children:[y.jsx(_e,{className:Ye.x,to:"/react-regular-exam",children:y.jsx("i",{className:"fa-solid fa-xmark"})}),y.jsx("h1",{className:Ye.logo,children:"At"})]}),y.jsx("main",{className:Ye.main,children:y.jsxs("div",{className:Ye.mainDiv,children:[y.jsxs("div",{className:Ye.upperDiv,children:[y.jsx("h1",{children:"Create your account"}),y.jsxs("div",{className:Ye.password,children:[y.jsxs("div",{className:Ye.arrow,children:[y.jsx("p",{children:"Name"}),y.jsx("i",{className:"fa-solid fa-arrow-down"})]}),y.jsx("div",{className:Ye.inputWrapper,children:y.jsx("input",{className:Ye.pass,type:"text",name:"name",id:"name",placeholder:""})})]}),y.jsxs("div",{className:Ye.password,children:[y.jsxs("div",{className:Ye.arrow,children:[y.jsx("p",{children:"Email"}),y.jsx("i",{className:"fa-solid fa-arrow-down"})]}),y.jsx("div",{className:Ye.inputWrapper,children:y.jsx("input",{className:Ye.pass,type:"email",name:"email",id:"email",placeholder:""})})]}),y.jsxs("div",{className:Ye.password,children:[y.jsxs("div",{className:Ye.arrow,children:[y.jsx("p",{children:"Password"}),y.jsx("i",{className:"fa-solid fa-arrow-down"})]}),y.jsxs("div",{className:Ye.inputWrapper,children:[y.jsx("input",{className:Ye.pass,type:"password",name:"password",id:"password",placeholder:"At least 6 characters"}),y.jsx("i",{onClick:s,className:"fa-regular fa-eye"})]})]}),y.jsxs("div",{className:Ye.password,children:[y.jsxs("div",{className:Ye.arrow,children:[y.jsx("p",{children:"Repeat password"}),y.jsx("i",{className:"fa-solid fa-arrow-down"})]}),y.jsxs("div",{className:Ye.inputWrapper,children:[y.jsx("input",{className:Ye.pass,type:"password",name:"repeat",id:"repeat",placeholder:""}),y.jsx("i",{onClick:o,className:"fa-regular fa-eye"})]})]}),y.jsxs("div",{className:Ye.birth,children:[y.jsx("p",{children:"Date of Birth"}),y.jsx("p",{children:"This will not be shown publicly. Confirm your own age, even if this account is for a business, a pet, or something else."}),y.jsxs("div",{className:Ye.birthday,children:[y.jsxs("div",{className:Ye.month,children:[y.jsx("p",{children:"month"}),y.jsxs("select",{name:"month",id:"month",children:[y.jsx("option",{value:""}),y.jsx("option",{value:"January",children:"January"}),y.jsx("option",{value:"February",children:"February"}),y.jsx("option",{value:"March",children:"March"}),y.jsx("option",{value:"April",children:"April"}),y.jsx("option",{value:"May",children:"May"}),y.jsx("option",{value:"June",children:"June"}),y.jsx("option",{value:"July",children:"July"}),y.jsx("option",{value:"August",children:"August"}),y.jsx("option",{value:"September",children:"September"}),y.jsx("option",{value:"October",children:"October"}),y.jsx("option",{value:"November",children:"November"}),y.jsx("option",{value:"December",children:"December"})]})]}),y.jsxs("div",{className:Ye.day,children:[y.jsx("p",{children:"Day"}),y.jsxs("select",{name:"day",id:"day",children:[y.jsx("option",{value:""}),Array.from({length:31},(u,f)=>y.jsx("option",{value:f+1,children:f+1},f+1))]})]}),y.jsxs("div",{className:Ye.year,children:[y.jsx("p",{children:"Year"}),y.jsxs("select",{name:"year",id:"year",children:[y.jsx("option",{value:""}),Array.from({length:121},(u,f)=>y.jsx("option",{value:f+1905,children:f+1905},f+1905))]})]})]})]})]}),y.jsx("div",{className:Ye.login,children:y.jsx("button",{children:"Next"})})]})})]})})}const DO="_wrapperMajor_ewi7d_1",OO="_header_ewi7d_33",MO="_logo_ewi7d_95",PO="_main_ewi7d_105",kO="_wrapper_ewi7d_1",VO="_checkBoxWrapper_ewi7d_135",jO="_button_ewi7d_267",rs={wrapperMajor:DO,header:OO,logo:MO,main:PO,wrapper:kO,checkBoxWrapper:VO,button:jO};function LO(){const r=Mi(),{formData:e,updateForm:n}=z.useContext(ga),[s,o]=z.useState(!1),u=async f=>{var p,_,T;f.preventDefault(),o(!0);const m={checkbox:{getMore:(p=f.target.elements.getMore)!=null&&p.checked?"yes":"no",connectWith:(_=f.target.elements.connectWith)!=null&&_.checked?"yes":"no",peronalizedAds:(T=f.target.elements.peronalizedAds)!=null&&T.checked?"yes":"no"}};try{n(m)}catch(b){console.error("Error registering user:",b.message)}};return z.useEffect(()=>{if(!e.checkbox.getMore)return;(async()=>{try{await iO(e),o(!1),r("/react-regular-exam/guest")}catch(m){alert(m.message)}})()},[e.checkbox.getMore]),y.jsx("form",{onSubmit:u,children:y.jsxs("div",{className:rs.wrapperMajor,children:[s&&y.jsx(zw,{}),y.jsxs("header",{className:rs.header,children:[y.jsx(_e,{className:rs.x,to:"/react-regular-exam",children:y.jsx("i",{className:"fa-solid fa-xmark"})}),y.jsx("h1",{className:rs.logo,children:"At"})]}),y.jsxs("main",{className:rs.main,children:[y.jsxs("div",{className:rs.wrapper,children:[y.jsx("h1",{children:"Customize your experience"}),y.jsxs("div",{className:rs.checkBoxWrapper,children:[y.jsxs("div",{children:[y.jsx("h3",{children:"Get more out of At"}),y.jsxs("div",{children:[y.jsx("p",{children:"Receive email about your At activity and recommendations."}),y.jsx("input",{type:"checkbox",name:"getMore"})]})]}),y.jsxs("div",{children:[y.jsx("h3",{children:"Connect with people you know"}),y.jsxs("div",{children:[y.jsx("p",{children:"Let others find your At account by your email address."}),y.jsx("input",{type:"checkbox",name:"connectWith"})]})]}),y.jsxs("div",{children:[y.jsx("h3",{children:"Personalized ads"}),y.jsxs("div",{children:[y.jsx("p",{children:"You will always see ads on At based on your At activity. When this setting is enabled, At may further personalize ads from At advertisers, on and off At, by combining your At activity with other online activity and information from our partners."}),y.jsx("input",{type:"checkbox",name:"peronalizedAds"})]})]})]}),y.jsxs("p",{children:["By signing up, you agree to our ",y.jsx(_e,{children:"Terms"}),", ",y.jsx(_e,{children:"Privacy Policy"}),", and ",y.jsx(_e,{children:"Cookie Use"}),". At may use your contact information, including your email address and phone number for purposes outlined in our Privacy Policy. ",y.jsx(_e,{children:"Learn more"})]})]}),y.jsx("div",{className:rs.button,children:y.jsx("input",{type:"submit",value:"Next"})})]})]})})}const UO="_container_h5fhp_1",zO="_main_h5fhp_19",BE={container:UO,main:zO},BO="_nav_hj1iz_1",HO="_i_hj1iz_11",ra={nav:BO,i:HO};function qO(){const{formData:r,updateForm:e}=z.useContext(ga),[n,s]=z.useState("Loading..."),o=Mi(),u=async f=>{f.preventDefault();try{await lD(Xp),e({name:"",email:"",password:"",birthday:{month:"",day:"",year:""},checkbox:{getMore:"",connectWith:"",peronalizedAds:"",noThanks:""}}),nO(),o("/react-regular-exam")}catch(m){console.error("Logout error:",m)}};return z.useEffect(()=>{const f=JSON.parse(Ru());f&&f.name?s(f.name):s("Guest")},[]),y.jsxs("nav",{className:ra.nav,children:[y.jsx("h1",{children:"At"}),y.jsxs("ul",{children:[y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam/welcome",children:[y.jsx("i",{className:`fa-solid fa-house-flag ${ra.i}`}),y.jsx("span",{children:"Welcome"})]})}),y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam/about",children:[y.jsx("i",{className:`fa-solid fa-bell ${ra.i}`}),y.jsx("span",{children:"Notification"})]})}),y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam/about",children:[y.jsx("i",{className:`fa-solid fa-envelope ${ra.i}`}),y.jsx("span",{children:"Messages"})]})}),y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam/welcome/profile",children:[y.jsx("i",{className:`fa-solid fa-user ${ra.i}`}),y.jsx("span",{children:"Profile"})]})}),y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam/about",children:[y.jsx("i",{className:`fa-solid fa-suitcase ${ra.i}`}),y.jsx("span",{children:"Jobs"})]})}),y.jsx("li",{children:y.jsxs(_e,{onClick:u,to:"#",children:[y.jsx("i",{className:`fa-solid fa-circle-xmark ${ra.i}`}),y.jsx("span",{children:"Logout"})]})}),y.jsx("li",{children:y.jsx(_e,{to:"/react-regular-exam/welcome/post",children:y.jsx("span",{children:"Post"})})})]}),y.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Guest"}),y.jsx("p",{children:n})]})}function FO(){const r=z.useRef(null);return y.jsxs("div",{className:BE.container,children:[y.jsx(qO,{}),y.jsx("main",{ref:r,className:BE.main,children:y.jsx(fA,{context:{mainRef:r}})})]})}const GO="_search_gocoj_1",$O="_meta_gocoj_39",KO="_post_gocoj_69",QO="_postWrapper_gocoj_77",YO="_feedback_gocoj_123",XO="_imgWrap_gocoj_151",WO="_modalOverlay_gocoj_169",ZO="_modalContent_gocoj_195",JO="_commentBox_gocoj_215",eM="_modalButtons_gocoj_235",tM="_sendBtn_gocoj_245",nM="_closeBtn_gocoj_267",vn={search:GO,meta:$O,post:KO,postWrapper:QO,feedback:YO,imgWrap:XO,modalOverlay:WO,modalContent:ZO,commentBox:JO,modalButtons:eM,sendBtn:tM,closeBtn:nM};function iM(r,e){return y.jsx(y.Fragment,{children:y.jsxs("section",{id:"search",className:vn.search,children:[y.jsx("h3",{children:"What do you need?"}),y.jsx("input",{type:"search",ref:e,name:"search",id:"search",placeholder:"search"}),y.jsx("button",{onClick:r.onSearch,children:"🔍"})]})})}const rM=z.forwardRef(iM);function sM(r=6){const[e,n]=z.useState(!1),[s,o]=z.useState(1);return{fetchPosts:async(p,_)=>{try{const T=Xh(Sn,"posts"),R=(await Up(T)).docs.map(M=>M.data());R.sort((M,L)=>new Date(L.meta.date)-new Date(M.meta.date)),p(R),_(R.slice(0,r))}catch(T){console.error("Грешка при взимане на постовете:",T)}},loadMorePosts:(p,_,T)=>{if(e||_.length>=p.length)return;n(!0);const b=s+1,R=p.slice(s*r,b*r);R.length>0&&(T(M=>[...M,...R]),o(b)),n(!1)},loading:e,handleSearch:(p,_)=>{const T=p.trim().toLowerCase();if(T==="")o(1),_(posts.slice(0,s*r));else{const b=posts.filter(R=>{var M;return(M=R.content)==null?void 0:M.toLowerCase().includes(T)});_(b)}}}}function aM(r,e){z.useEffect(()=>{if(!(r!=null&&r.current))return;const n=()=>{const s=r.current;if(!s)return;const o=s.scrollHeight;s.scrollTop+s.clientHeight+5>=o&&e()};return r.current.addEventListener("scroll",n),()=>{r.current&&r.current.removeEventListener("scroll",n)}},[r,e])}function oM(){const r=Mi();return{handleDetailsClick:n=>{r(`/react-regular-exam/welcome/${n}/details`,{state:{postId:n}})}}}const Gt=[];for(let r=0;r<256;++r)Gt.push((r+256).toString(16).slice(1));function lM(r,e=0){return(Gt[r[e+0]]+Gt[r[e+1]]+Gt[r[e+2]]+Gt[r[e+3]]+"-"+Gt[r[e+4]]+Gt[r[e+5]]+"-"+Gt[r[e+6]]+Gt[r[e+7]]+"-"+Gt[r[e+8]]+Gt[r[e+9]]+"-"+Gt[r[e+10]]+Gt[r[e+11]]+Gt[r[e+12]]+Gt[r[e+13]]+Gt[r[e+14]]+Gt[r[e+15]]).toLowerCase()}let wm;const uM=new Uint8Array(16);function cM(){if(!wm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");wm=crypto.getRandomValues.bind(crypto)}return wm(uM)}const hM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),HE={randomUUID:hM};function Bw(r,e,n){var o;if(HE.randomUUID&&!r)return HE.randomUUID();r=r||{};const s=r.random??((o=r.rng)==null?void 0:o.call(r))??cM();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,lM(s)}function fM(){return{handleLike:async e=>{try{const s=JSON.parse(Ru()).name,u=(await Wp(e)).feedback.likedPeople;if(!u){await UE(e,s);return}if(u.filter(m=>m===s).length>0)return alert("You  can like only once");await UE(e,s)}catch(n){alert("Error adding like: "+n.message)}}}}function dM(){return{handleView:async e=>{try{await uO(e)}catch(n){alert("Error adding like: "+n.message)}}}}function mM(){const[r,e]=z.useState([]),[n,s]=z.useState([]),o=z.useRef(),{fetchPosts:u,loadMorePosts:f,loading:m,handleSearch:p}=sM(),{mainRef:_}=Wb(),{handleDetailsClick:T}=oM(),{handleView:b}=dM(),{handleLike:R}=fM(),M=async K=>{const se=K.target.closest("#closestID").getAttribute("data-key");await b(se),T(se)};z.useEffect(()=>{(async()=>{await u(e,s)})()},[]);const L=()=>{o.current&&p(o.current.value)};aM(_,()=>f(r,n,s));const $=K=>{const se=K.target.closest("#closestID").getAttribute("data-key"),fe=document.getElementById(se);fe.style.display="block"},q=K=>{const se=K.target.closest("#closestID").getAttribute("data-key"),fe=document.getElementById(se);fe.style.display="none"},Y=async K=>{const re=K.target.closest("#closestID"),se=re.getAttribute("data-key"),fe=JSON.parse(Ru()),D={id:Bw(),author:fe.name,text:re.querySelector("textarea").value,date:new Date().toLocaleString()};if(re.querySelector("textarea").value="",!D.text)return alert("Your reply is empty!");await Lw(se,D);const C=document.getElementById(se);C.style.display="none";const A=await zE();A&&s(A)},te=async K=>{const se=K.target.closest("#closestID").getAttribute("data-key");await R(se);const fe=await zE();fe&&s(fe)};return y.jsxs(y.Fragment,{children:[y.jsx(rM,{ref:o,onSearch:L}),y.jsx("section",{id:"posts",className:vn.posts,children:n.length>0?n.map(K=>y.jsxs("div",{id:"closestID","data-key":K.id,className:vn.postWrapper,children:[y.jsx("div",{onClick:re=>M(re),className:vn.post,children:y.jsxs("div",{className:vn.imgWrap,children:[y.jsxs("div",{className:vn.meta,children:[y.jsx("img",{src:K.meta.img||K.meta.avatar||"https://example.com/default-avatar.jpg",alt:"Profile"}),y.jsx("h4",{children:K.meta.author}),y.jsx("p",{children:K.meta.date})]}),y.jsx("p",{children:K.content}),y.jsx("img",{src:K.img||"https://example.com/default-avatar.jpg",alt:"Img or Video"})]})},K.id),y.jsxs("div",{className:vn.feedback,children:[y.jsxs("p",{onClick:re=>$(re),children:[y.jsx("i",{className:"fa-regular fa-comment"}),y.jsx("span",{children:K.feedback.comments})]}),y.jsxs("p",{onClick:re=>te(re),children:[y.jsx("i",{className:"fa-regular fa-heart"}),y.jsx("span",{children:K.feedback.likes})]}),y.jsxs("p",{onClick:re=>M(re),children:[y.jsx("i",{className:"fa-solid fa-magnifying-glass"}),y.jsx("span",{children:K.feedback.views})]})]}),y.jsx("div",{"data-key":K.id,id:K.id,style:{display:"none"},className:vn.modalOverlay,children:y.jsxs("div",{className:vn.modalContent,onClick:re=>re.stopPropagation(),children:[y.jsx("textarea",{className:vn.commentBox,placeholder:"Post your reply"}),y.jsxs("div",{className:vn.modalButtons,children:[y.jsx("button",{className:vn.sendBtn,onClick:re=>Y(re),children:"Reply"}),y.jsx("button",{className:vn.closeBtn,onClick:re=>q(re),children:"X"})]})]})})]},K.id)):y.jsx("p",{children:"No posts found"})}),m&&y.jsx("p",{className:vn.loading,children:"Loading more posts..."})]})}function pM({children:r}){const e=jw(),n=Mi();return z.useEffect(()=>{if(!e)return n("/react-regular-exam")}),y.jsx(y.Fragment,{children:r})}const gM="_postFormContainer_19kdp_3",_M="_postForm_19kdp_3",yM="_avatar_19kdp_43",vM="_formContent_19kdp_57",EM="_textarea_19kdp_71",TM="_mediaPreview_19kdp_93",wM="_footer_19kdp_117",SM="_mediaButton_19kdp_133",bM="_button_19kdp_161",AM="_removeButton_19kdp_191",wi={postFormContainer:gM,postForm:_M,avatar:yM,formContent:vM,textarea:EM,mediaPreview:TM,footer:wM,mediaButton:SM,button:bM,removeButton:AM};function RM(){const[r,e]=z.useState(null),[n,s]=z.useState(null),o=z.useRef(null),u=z.useRef(null),{formData:f}=z.useContext(ga),m=T=>{const b=T.target.files[0];if(b){const R=URL.createObjectURL(b);e(b),s(R)}},p=()=>{e(null),u.current&&(u.current.value="")},_=async T=>{T.preventDefault();const b=o.current.value.trim();if(!b)return;const R={content:b,feedback:{comments:0,likes:0,views:0},img:r,meta:{author:f.name,date:new Date().toLocaleString(),avatar:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg"},comments:[]};await sO(R),o.current.value="",e(null),u.current&&(u.current.value="")};return y.jsx("div",{className:wi.postFormContainer,children:y.jsxs("div",{className:wi.postForm,children:[y.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"User avatar",className:wi.avatar}),y.jsxs("form",{onSubmit:_,className:wi.formContent,children:[y.jsx("textarea",{ref:o,placeholder:"What's happening?",className:wi.textarea}),r&&y.jsx("div",{className:wi.mediaPreview,children:y.jsx("img",{src:n,alt:"Uploaded media preview"})}),y.jsxs("div",{className:wi.footer,children:[y.jsxs("label",{className:wi.mediaButton,children:["📷 Add Media",y.jsx("input",{type:"file",accept:"image/*",onChange:m,hidden:!0,ref:u})]}),r&&y.jsx("button",{type:"button",onClick:p,className:wi.removeButton,children:"❌ Remove"}),y.jsx("button",{type:"submit",className:wi.button,children:"Post"})]})]})]})})}const CM="_container_4dbl9_1",IM="_text_4dbl9_19",xM="_link_4dbl9_31",th={container:CM,text:IM,link:xM},NM=()=>{const[r,e]=z.useState(!1);return z.useEffect(()=>{const n=()=>{jw()};n(),n&&e(!0)},[]),y.jsxs("div",{className:th.container,children:[y.jsx("h1",{className:th.text,children:"Under Construction"}),r?y.jsx(_e,{to:"/react-regular-exam/welcome",className:th.link,children:"Go Back"}):y.jsx(_e,{to:"/react-regular-exam",className:th.link,children:"Go Back"})]})},DM="_post_jt40g_1",OM="_meta_jt40g_17",MM="_imgWrap_jt40g_55",PM="_feedback_jt40g_91",kM="_actions_jt40g_117",VM="_editButton_jt40g_129",jM="_deleteButton_jt40g_129",LM="_commentSection_jt40g_163",UM="_commentInput_jt40g_177",zM="_commentButton_jt40g_193",BM="_commentsContainer_jt40g_213",HM="_comment_jt40g_163",qM="_commentHeader_jt40g_251",FM="_commentDate_jt40g_287",GM="_commentText_jt40g_297",$M="_noComments_jt40g_307",Jt={post:DM,meta:OM,imgWrap:MM,feedback:PM,actions:kM,editButton:VM,deleteButton:jM,commentSection:LM,commentInput:UM,commentButton:zM,commentsContainer:BM,comment:HM,commentHeader:qM,commentDate:FM,commentText:GM,noComments:$M};function KM(){const e=JSON.parse(Ru()).name;return{handleComment:async(s,o)=>{const u=s.id,f={id:Bw(),author:e,text:o.current.value,date:new Date().toLocaleString()};return o.current.value="",f.text?(await Lw(u,f),f):alert("Your reply is empty!")}}}function QM(){var L;const r=yr(),{handleComment:e}=KM(),n=(L=r.state)==null?void 0:L.postId,s=z.useRef(),[o,u]=z.useState(null),[f,m]=z.useState([]),[p,_]=z.useState(!1),T=Mi();if(!n)return y.jsx("p",{children:"No post data found"});console.log(n);const b=async()=>{const $=await e(o,s);$&&m(q=>[...q,$])};z.useEffect(()=>{(async()=>{const q=await Wp(n);JSON.parse(Ru()).name===q.meta.author&&_(!0),u(q)})()},[f]);const R=async()=>{const $=o.id;aO($),T("/react-regular-exam/welcome")},M=()=>{o&&T(`/react-regular-exam/welcome/${o.id}/details/edit`,{state:{postData:o}})};return y.jsxs(y.Fragment,{children:[o?y.jsxs("div",{id:"closestId","data-id":o.id,"data-imgid":o.imgId,className:Jt.post,children:[y.jsxs("div",{className:Jt.imgWrap,children:[y.jsxs("div",{className:Jt.meta,children:[y.jsx("img",{src:o.meta.img||o.meta.avatar||"https://example.com/default-avatar.jpg",alt:"Profile"}),y.jsx("h4",{children:o.meta.author}),y.jsx("p",{children:o.meta.date})]}),y.jsx("p",{children:o.content}),y.jsx("img",{src:o.img||"https://example.com/default-avatar.jpg",alt:"Img or Video"})]}),y.jsxs("div",{className:Jt.feedback,children:[y.jsxs("p",{children:[y.jsx("i",{className:"fa-regular fa-comment"}),y.jsx("span",{children:o.feedback.comments})]}),y.jsxs("p",{children:[y.jsx("i",{className:"fa-regular fa-heart"}),y.jsx("span",{children:o.feedback.likes})]}),y.jsxs("p",{children:[y.jsx("i",{className:"fa-solid fa-magnifying-glass"}),y.jsx("span",{children:o.feedback.views})]})]}),p&&y.jsxs("div",{className:Jt.actions,children:[y.jsx("button",{className:Jt.editButton,onClick:()=>M(),children:"Edit"}),y.jsx("button",{className:Jt.deleteButton,onClick:()=>R(),children:"Delete"})]}),y.jsxs("div",{className:Jt.commentSection,children:[y.jsx("textarea",{ref:s,placeholder:"Post your reply",className:Jt.commentInput}),y.jsx("button",{className:Jt.commentButton,onClick:()=>b(),children:"Reply"})]})]},o.id):y.jsx("p",{children:"Loading post data..."}),o?y.jsx("div",{className:Jt.commentsContainer,children:o.comments&&o.comments.length>0?o.comments.map($=>y.jsxs("div",{className:Jt.comment,children:[y.jsxs("div",{className:Jt.commentHeader,children:[y.jsx("h5",{children:$.data.author}),y.jsx("p",{className:Jt.commentDate,children:$.data.date})]}),y.jsx("p",{className:Jt.commentText,children:$.data.text})]},$.data.id)):y.jsx("p",{className:Jt.noComments,children:"No comments yet. Be the first to reply!"})}):y.jsx("p",{children:"Loading post data..."})]})}const YM="_profileContainer_12vov_1",XM="_header_12vov_19",WM="_coverPhoto_12vov_27",ZM="_profileInfo_12vov_39",JM="_avatar_12vov_51",eP="_details_12vov_67",tP="_name_12vov_75",nP="_username_12vov_87",iP="_bio_12vov_95",rP="_content_12vov_105",sP="_posts_12vov_113",aP="_post_12vov_113",oP="_editProfile_12vov_139",yn={profileContainer:YM,header:XM,coverPhoto:WM,profileInfo:ZM,avatar:JM,details:eP,name:tP,username:nP,bio:iP,content:rP,posts:sP,post:aP,editProfile:oP};function lP(){return y.jsxs("div",{className:yn.profileContainer,children:[y.jsxs("div",{className:yn.header,children:[y.jsx("div",{className:yn.coverPhoto}),y.jsxs("div",{className:yn.profileInfo,children:[y.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Profile",className:yn.avatar}),y.jsxs("div",{className:yn.details,children:[y.jsx("h2",{className:yn.name,children:"Име на потребителя"}),y.jsx("p",{className:yn.username,children:"@username"}),y.jsx("p",{className:yn.bio,children:"Тук може да бъде вашата биография..."})]}),y.jsx(_e,{to:"/react-regular-exam/welcome/profile/edit",className:yn.editProfile,children:"Edit"})]})]}),y.jsxs("div",{className:yn.content,children:[y.jsx("h3",{children:"Публикации"}),y.jsxs("div",{className:yn.posts,children:[y.jsx("div",{className:yn.post,children:"Това е примерна публикация."}),y.jsx("div",{className:yn.post,children:"Още една публикация..."})]})]})]})}const uP="_editProfileContainer_anoxf_1",cP="_editProfileTitle_anoxf_21",hP="_editProfileForm_anoxf_31",fP="_editProfileLabel_anoxf_43",dP="_editProfileInput_anoxf_55",mP="_editProfileTextarea_anoxf_57",pP="_editProfileSelect_anoxf_59",gP="_editProfileSaveButton_anoxf_87",_P="_imageUploadContainer_anoxf_123",yP="_coverPhotoLabel_anoxf_139",vP="_profileImageLabel_anoxf_141",EP="_coverPhotoPreview_anoxf_159",TP="_profileImagePreview_anoxf_175",wP="_birthdateContainer_anoxf_195",SP="_checkboxContainer_anoxf_219",tt={editProfileContainer:uP,editProfileTitle:cP,editProfileForm:hP,editProfileLabel:fP,editProfileInput:dP,editProfileTextarea:mP,editProfileSelect:pP,editProfileSaveButton:gP,imageUploadContainer:_P,coverPhotoLabel:yP,profileImageLabel:vP,coverPhotoPreview:EP,profileImagePreview:TP,birthdateContainer:wP,checkboxContainer:SP},bP=()=>{const[r,e]=z.useState(""),[n,s]=z.useState(""),[o,u]=z.useState(""),[f,m]=z.useState(""),[p,_]=z.useState(""),[T,b]=z.useState("1"),[R,M]=z.useState("January"),[L,$]=z.useState("2025"),[q,Y]=z.useState(null),[te,K]=z.useState(null),[re,se]=z.useState({connect:!1,more:!1,ads:!1}),fe=(O,x)=>{const lt=O.target.files[0];lt&&x(URL.createObjectURL(lt))},D=O=>{se({...re,[O.target.name]:O.target.checked})},C=O=>{O.preventDefault(),console.log("Saved:",{name:r,email:n,bio:o,password:f,day:T,month:R,year:L,preferences:re,profileImage:q,coverPhoto:te})},A=Array.from({length:31},(O,x)=>x+1),N=["January","February","March","April","May","June","July","August","September","October","November","December"],V=Array.from({length:121},(O,x)=>2025-x);return y.jsxs("div",{className:tt.editProfileContainer,children:[y.jsx("h2",{className:tt.editProfileTitle,children:"Edit Profile"}),y.jsxs("form",{onSubmit:C,className:tt.editProfileForm,children:[y.jsxs("div",{className:tt.imageUploadContainer,children:[y.jsxs("label",{className:tt.coverPhotoLabel,children:["Cover Photo:",y.jsx("input",{type:"file",accept:"image/*",onChange:O=>fe(O,K)}),te&&y.jsx("img",{src:te,alt:"Cover",className:tt.coverPhotoPreview})]}),y.jsxs("label",{className:tt.profileImageLabel,children:["Profile Image:",y.jsx("input",{type:"file",accept:"image/*",onChange:O=>fe(O,Y)}),q&&y.jsx("img",{src:q,alt:"Profile",className:tt.profileImagePreview})]})]}),y.jsxs("label",{className:tt.editProfileLabel,children:["Name:",y.jsx("input",{type:"text",value:r,onChange:O=>e(O.target.value),className:tt.editProfileInput})]}),y.jsxs("label",{className:tt.editProfileLabel,children:["Email:",y.jsx("input",{type:"email",value:n,onChange:O=>s(O.target.value),className:tt.editProfileInput})]}),y.jsxs("label",{className:tt.editProfileLabel,children:["Bio:",y.jsx("textarea",{value:o,onChange:O=>u(O.target.value),className:tt.editProfileTextarea})]}),y.jsxs("label",{className:tt.editProfileLabel,children:["Password:",y.jsx("input",{type:"password",value:f,onChange:O=>m(O.target.value),className:tt.editProfileInput})]}),y.jsxs("label",{className:tt.editProfileLabel,children:["Confirm Password:",y.jsx("input",{type:"password",value:p,onChange:O=>_(O.target.value),className:tt.editProfileInput})]}),y.jsxs("div",{className:tt.birthdateContainer,children:[y.jsx("select",{value:T,onChange:O=>b(O.target.value),className:tt.editProfileSelect,children:A.map(O=>y.jsx("option",{children:O},O))}),y.jsx("select",{value:R,onChange:O=>M(O.target.value),className:tt.editProfileSelect,children:N.map(O=>y.jsx("option",{children:O},O))}),y.jsx("select",{value:L,onChange:O=>$(O.target.value),className:tt.editProfileSelect,children:V.map(O=>y.jsx("option",{children:O},O))})]}),y.jsxs("div",{className:tt.checkboxContainer,children:[y.jsxs("label",{children:[y.jsx("input",{type:"checkbox",name:"connect",checked:re.connect,onChange:D})," Connect"]}),y.jsxs("label",{children:[y.jsx("input",{type:"checkbox",name:"more",checked:re.more,onChange:D})," More"]}),y.jsxs("label",{children:[y.jsx("input",{type:"checkbox",name:"ads",checked:re.ads,onChange:D})," Ads"]})]}),y.jsx("button",{type:"submit",className:tt.editProfileSaveButton,children:"Save"})]})]})},AP="_editContainer_juuuu_1",RP="_editTitle_juuuu_19",CP="_editForm_juuuu_31",IP="_editLabel_juuuu_41",xP="_editTextarea_juuuu_53",NP="_imageUploadContainer_juuuu_69",DP="_existingImage_juuuu_81",OP="_removeOldImageButton_juuuu_89",MP="_addButton_juuuu_115",PP="_imagePreviewContainer_juuuu_145",kP="_imagePreview_juuuu_145",VP="_removeButton_juuuu_175",jP="_saveButton_juuuu_201",fn={editContainer:AP,editTitle:RP,editForm:CP,editLabel:IP,editTextarea:xP,imageUploadContainer:NP,existingImage:DP,removeOldImageButton:OP,addButton:MP,imagePreviewContainer:PP,imagePreview:kP,removeButton:VP,saveButton:jP},LP=()=>{var fe;const[r,e]=z.useState(!1),[n,s]=z.useState(""),[o,u]=z.useState(null),m=(fe=yr().state)==null?void 0:fe.postData,[p,_]=z.useState(""),[T,b]=z.useState(""),[R,M]=z.useState(null),L=Mi();console.log(p.content),console.log(T),z.useEffect(()=>{(async()=>{const C=await Wp(m.id);b(C.content),_(C),C.img&&e(!0)})()},[r]);const $=D=>{b(D.target.value)},q=z.useRef(null),Y=D=>{const C=D.target.files[0];if(C){const A=URL.createObjectURL(C);s(C),u(A)}},te=()=>{s("")},K=()=>{lO(p.id),e(!1)},re=async D=>{D.preventDefault(),console.log(n),await oO(p.id,n,T,p.img,p.imgId);const C=p.id;L(`/react-regular-exam/welcome/${C}/details`,{state:{postId:C}})},se=()=>{q.current.click()};return y.jsxs("div",{className:fn.editContainer,children:[y.jsx("h2",{className:fn.editTitle,children:"Edit Post"}),y.jsxs("form",{onSubmit:re,className:fn.editForm,children:[y.jsx("label",{className:fn.editLabel,children:"Content:"}),y.jsx("textarea",{value:T,onChange:$,className:fn.editTextarea}),y.jsx("label",{className:fn.editLabel,children:"Image:"}),y.jsxs("div",{className:fn.imageUploadContainer,children:[p.img&&y.jsxs("div",{className:fn.existingImageContainer,children:[y.jsx("img",{src:p.img,alt:"Existing Post Image",className:fn.existingImage}),y.jsx("button",{type:"button",className:fn.removeOldImageButton,onClick:K,children:"Remove Old Image"})]}),y.jsx("button",{type:"button",className:fn.addButton,onClick:se,children:"Add Image"}),y.jsx("input",{type:"file",accept:"image/*",onChange:Y,ref:q,style:{display:"none"}})]}),n&&y.jsxs("div",{className:fn.imagePreviewContainer,children:[y.jsx("img",{src:o,alt:"Preview",className:fn.imagePreview}),y.jsx("button",{type:"button",className:fn.removeButton,onClick:te,children:"Remove Image"})]}),y.jsx("button",{type:"submit",className:fn.saveButton,children:"Save"})]})]})};function UP(){return y.jsx(U2,{children:y.jsxs(mA,{children:[y.jsx(dn,{path:"/react-regular-exam/about",element:y.jsx(NM,{})}),y.jsx(dn,{path:"/react-regular-exam",element:y.jsx(oR,{})}),y.jsx(dn,{path:"/react-regular-exam/guest",element:y.jsx(b2,{})}),y.jsx(dn,{path:"/react-regular-exam/login",element:y.jsx(z2,{})}),y.jsx(dn,{path:"/react-regular-exam/login/pass",element:y.jsx(dO,{})}),y.jsx(dn,{path:"/react-regular-exam/create",element:y.jsx(NO,{})}),y.jsx(dn,{path:"/react-regular-exam/create/submit",element:y.jsx(LO,{})}),y.jsxs(dn,{path:"/react-regular-exam/welcome",element:y.jsx(pM,{children:y.jsx(FO,{})}),children:[y.jsx(dn,{index:!0,element:y.jsx(mM,{})}),y.jsx(dn,{path:":postId/details",element:y.jsx(QM,{})}),y.jsx(dn,{path:":postId/details/edit",element:y.jsx(LP,{})}),y.jsx(dn,{path:"post",element:y.jsx(RM,{})}),y.jsx(dn,{path:"profile",element:y.jsx(lP,{})}),y.jsx(dn,{path:"profile/edit",element:y.jsx(bP,{})})]})]})})}Tb.createRoot(document.getElementById("root")).render(y.jsx(z.StrictMode,{children:y.jsx(jA,{children:y.jsx(UP,{})})}));
