(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var qd={exports:{}},Nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ny;function zA(){if(Ny)return Nl;Ny=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Nl.Fragment=e,Nl.jsx=n,Nl.jsxs=n,Nl}var Oy;function BA(){return Oy||(Oy=1,qd.exports=zA()),qd.exports}var E=BA(),Fd={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var My;function HA(){if(My)return Ce;My=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.iterator;function I(N){return N===null||typeof N!="object"?null:(N=b&&N[b]||N["@@iterator"],typeof N=="function"?N:null)}var P={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,Q={};function F(N,te,he){this.props=N,this.context=te,this.refs=Q,this.updater=he||P}F.prototype.isReactComponent={},F.prototype.setState=function(N,te){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,te,"setState")},F.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Y(){}Y.prototype=F.prototype;function ne(N,te,he){this.props=N,this.context=te,this.refs=Q,this.updater=he||P}var ee=ne.prototype=new Y;ee.constructor=ne,U(ee,F.prototype),ee.isPureReactComponent=!0;var pe=Array.isArray,ue={H:null,A:null,T:null,S:null},be=Object.prototype.hasOwnProperty;function M(N,te,he,se,ae,Ie){return he=Ie.ref,{$$typeof:r,type:N,key:te,ref:he!==void 0?he:null,props:Ie}}function R(N,te){return M(N.type,te,void 0,void 0,void 0,N.props)}function w(N){return typeof N=="object"&&N!==null&&N.$$typeof===r}function x(N){var te={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(he){return te[he]})}var V=/\/+/g;function z(N,te){return typeof N=="object"&&N!==null&&N.key!=null?x(""+N.key):te.toString(36)}function D(){}function St(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(D,D):(N.status="pending",N.then(function(te){N.status==="pending"&&(N.status="fulfilled",N.value=te)},function(te){N.status==="pending"&&(N.status="rejected",N.reason=te)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function gt(N,te,he,se,ae){var Ie=typeof N;(Ie==="undefined"||Ie==="boolean")&&(N=null);var Re=!1;if(N===null)Re=!0;else switch(Ie){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(N.$$typeof){case r:case e:Re=!0;break;case T:return Re=N._init,gt(Re(N._payload),te,he,se,ae)}}if(Re)return ae=ae(N),Re=se===""?"."+z(N,0):se,pe(ae)?(he="",Re!=null&&(he=Re.replace(V,"$&/")+"/"),gt(ae,te,he,"",function(ot){return ot})):ae!=null&&(w(ae)&&(ae=R(ae,he+(ae.key==null||N&&N.key===ae.key?"":(""+ae.key).replace(V,"$&/")+"/")+Re)),te.push(ae)),1;Re=0;var _t=se===""?".":se+":";if(pe(N))for(var Be=0;Be<N.length;Be++)se=N[Be],Ie=_t+z(se,Be),Re+=gt(se,te,he,Ie,ae);else if(Be=I(N),typeof Be=="function")for(N=Be.call(N),Be=0;!(se=N.next()).done;)se=se.value,Ie=_t+z(se,Be++),Re+=gt(se,te,he,Ie,ae);else if(Ie==="object"){if(typeof N.then=="function")return gt(St(N),te,he,se,ae);throw te=String(N),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Re}function re(N,te,he){if(N==null)return N;var se=[],ae=0;return gt(N,se,"","",function(Ie){return te.call(he,Ie,ae++)}),se}function Ee(N){if(N._status===-1){var te=N._result;te=te(),te.then(function(he){(N._status===0||N._status===-1)&&(N._status=1,N._result=he)},function(he){(N._status===0||N._status===-1)&&(N._status=2,N._result=he)}),N._status===-1&&(N._status=0,N._result=te)}if(N._status===1)return N._result.default;throw N._result}var me=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)};function Ge(){}return Ce.Children={map:re,forEach:function(N,te,he){re(N,function(){te.apply(this,arguments)},he)},count:function(N){var te=0;return re(N,function(){te++}),te},toArray:function(N){return re(N,function(te){return te})||[]},only:function(N){if(!w(N))throw Error("React.Children.only expected to receive a single React element child.");return N}},Ce.Component=F,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=ne,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Ce.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ce.cache=function(N){return function(){return N.apply(null,arguments)}},Ce.cloneElement=function(N,te,he){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var se=U({},N.props),ae=N.key,Ie=void 0;if(te!=null)for(Re in te.ref!==void 0&&(Ie=void 0),te.key!==void 0&&(ae=""+te.key),te)!be.call(te,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&te.ref===void 0||(se[Re]=te[Re]);var Re=arguments.length-2;if(Re===1)se.children=he;else if(1<Re){for(var _t=Array(Re),Be=0;Be<Re;Be++)_t[Be]=arguments[Be+2];se.children=_t}return M(N.type,ae,void 0,void 0,Ie,se)},Ce.createContext=function(N){return N={$$typeof:f,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:u,_context:N},N},Ce.createElement=function(N,te,he){var se,ae={},Ie=null;if(te!=null)for(se in te.key!==void 0&&(Ie=""+te.key),te)be.call(te,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ae[se]=te[se]);var Re=arguments.length-2;if(Re===1)ae.children=he;else if(1<Re){for(var _t=Array(Re),Be=0;Be<Re;Be++)_t[Be]=arguments[Be+2];ae.children=_t}if(N&&N.defaultProps)for(se in Re=N.defaultProps,Re)ae[se]===void 0&&(ae[se]=Re[se]);return M(N,Ie,void 0,void 0,null,ae)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(N){return{$$typeof:m,render:N}},Ce.isValidElement=w,Ce.lazy=function(N){return{$$typeof:T,_payload:{_status:-1,_result:N},_init:Ee}},Ce.memo=function(N,te){return{$$typeof:_,type:N,compare:te===void 0?null:te}},Ce.startTransition=function(N){var te=ue.T,he={};ue.T=he;try{var se=N(),ae=ue.S;ae!==null&&ae(he,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Ge,me)}catch(Ie){me(Ie)}finally{ue.T=te}},Ce.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Ce.use=function(N){return ue.H.use(N)},Ce.useActionState=function(N,te,he){return ue.H.useActionState(N,te,he)},Ce.useCallback=function(N,te){return ue.H.useCallback(N,te)},Ce.useContext=function(N){return ue.H.useContext(N)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(N,te){return ue.H.useDeferredValue(N,te)},Ce.useEffect=function(N,te){return ue.H.useEffect(N,te)},Ce.useId=function(){return ue.H.useId()},Ce.useImperativeHandle=function(N,te,he){return ue.H.useImperativeHandle(N,te,he)},Ce.useInsertionEffect=function(N,te){return ue.H.useInsertionEffect(N,te)},Ce.useLayoutEffect=function(N,te){return ue.H.useLayoutEffect(N,te)},Ce.useMemo=function(N,te){return ue.H.useMemo(N,te)},Ce.useOptimistic=function(N,te){return ue.H.useOptimistic(N,te)},Ce.useReducer=function(N,te,he){return ue.H.useReducer(N,te,he)},Ce.useRef=function(N){return ue.H.useRef(N)},Ce.useState=function(N){return ue.H.useState(N)},Ce.useSyncExternalStore=function(N,te,he){return ue.H.useSyncExternalStore(N,te,he)},Ce.useTransition=function(){return ue.H.useTransition()},Ce.version="19.0.0",Ce}var Vy;function Vm(){return Vy||(Vy=1,Fd.exports=HA()),Fd.exports}var q=Vm(),Gd={exports:{}},Ol={},$d={exports:{}},Kd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ky;function qA(){return ky||(ky=1,function(r){function e(re,Ee){var me=re.length;re.push(Ee);e:for(;0<me;){var Ge=me-1>>>1,N=re[Ge];if(0<o(N,Ee))re[Ge]=Ee,re[me]=N,me=Ge;else break e}}function n(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var Ee=re[0],me=re.pop();if(me!==Ee){re[0]=me;e:for(var Ge=0,N=re.length,te=N>>>1;Ge<te;){var he=2*(Ge+1)-1,se=re[he],ae=he+1,Ie=re[ae];if(0>o(se,me))ae<N&&0>o(Ie,se)?(re[Ge]=Ie,re[ae]=me,Ge=ae):(re[Ge]=se,re[he]=me,Ge=he);else if(ae<N&&0>o(Ie,me))re[Ge]=Ie,re[ae]=me,Ge=ae;else break e}}return Ee}function o(re,Ee){var me=re.sortIndex-Ee.sortIndex;return me!==0?me:re.id-Ee.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],_=[],T=1,b=null,I=3,P=!1,U=!1,Q=!1,F=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function ee(re){for(var Ee=n(_);Ee!==null;){if(Ee.callback===null)s(_);else if(Ee.startTime<=re)s(_),Ee.sortIndex=Ee.expirationTime,e(p,Ee);else break;Ee=n(_)}}function pe(re){if(Q=!1,ee(re),!U)if(n(p)!==null)U=!0,St();else{var Ee=n(_);Ee!==null&&gt(pe,Ee.startTime-re)}}var ue=!1,be=-1,M=5,R=-1;function w(){return!(r.unstable_now()-R<M)}function x(){if(ue){var re=r.unstable_now();R=re;var Ee=!0;try{e:{U=!1,Q&&(Q=!1,Y(be),be=-1),P=!0;var me=I;try{t:{for(ee(re),b=n(p);b!==null&&!(b.expirationTime>re&&w());){var Ge=b.callback;if(typeof Ge=="function"){b.callback=null,I=b.priorityLevel;var N=Ge(b.expirationTime<=re);if(re=r.unstable_now(),typeof N=="function"){b.callback=N,ee(re),Ee=!0;break t}b===n(p)&&s(p),ee(re)}else s(p);b=n(p)}if(b!==null)Ee=!0;else{var te=n(_);te!==null&&gt(pe,te.startTime-re),Ee=!1}}break e}finally{b=null,I=me,P=!1}Ee=void 0}}finally{Ee?V():ue=!1}}}var V;if(typeof ne=="function")V=function(){ne(x)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,D=z.port2;z.port1.onmessage=x,V=function(){D.postMessage(null)}}else V=function(){F(x,0)};function St(){ue||(ue=!0,V())}function gt(re,Ee){be=F(function(){re(r.unstable_now())},Ee)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(re){re.callback=null},r.unstable_continueExecution=function(){U||P||(U=!0,St())},r.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<re?Math.floor(1e3/re):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(re){switch(I){case 1:case 2:case 3:var Ee=3;break;default:Ee=I}var me=I;I=Ee;try{return re()}finally{I=me}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(re,Ee){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var me=I;I=re;try{return Ee()}finally{I=me}},r.unstable_scheduleCallback=function(re,Ee,me){var Ge=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ge+me:Ge):me=Ge,re){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=me+N,re={id:T++,callback:Ee,priorityLevel:re,startTime:me,expirationTime:N,sortIndex:-1},me>Ge?(re.sortIndex=me,e(_,re),n(p)===null&&re===n(_)&&(Q?(Y(be),be=-1):Q=!0,gt(pe,me-Ge))):(re.sortIndex=N,e(p,re),U||P||(U=!0,St())),re},r.unstable_shouldYield=w,r.unstable_wrapCallback=function(re){var Ee=I;return function(){var me=I;I=Ee;try{return re.apply(this,arguments)}finally{I=me}}}}(Kd)),Kd}var Py;function FA(){return Py||(Py=1,$d.exports=qA()),$d.exports}var Qd={exports:{}},Yt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ly;function GA(){if(Ly)return Yt;Ly=1;var r=Vm();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,_,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:_,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Yt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Yt.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(p,_,null,T)},Yt.flushSync=function(p){var _=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=_,s.p=T,s.d.f()}},Yt.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},Yt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Yt.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,b=m(T,_.crossOrigin),I=typeof _.integrity=="string"?_.integrity:void 0,P=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:I,fetchPriority:P}):T==="script"&&s.d.X(p,{crossOrigin:b,integrity:I,fetchPriority:P,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Yt.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=m(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},Yt.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,b=m(T,_.crossOrigin);s.d.L(p,T,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Yt.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=m(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},Yt.requestFormReset=function(p){s.d.r(p)},Yt.unstable_batchedUpdates=function(p,_){return p(_)},Yt.useFormState=function(p,_,T){return f.H.useFormState(p,_,T)},Yt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Yt.version="19.0.0",Yt}var Uy;function $A(){if(Uy)return Qd.exports;Uy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Qd.exports=GA(),Qd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jy;function KA(){if(jy)return Ol;jy=1;var r=FA(),e=Vm(),n=$A();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),I=Symbol.for("react.consumer"),P=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),Q=Symbol.for("react.suspense"),F=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),pe=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function be(t){return t===null||typeof t!="object"?null:(t=ue&&t[ue]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function R(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case T:return"Profiler";case _:return"StrictMode";case Q:return"Suspense";case F:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case P:return(t.displayName||"Context")+".Provider";case I:return(t._context.displayName||"Context")+".Consumer";case U:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return i=t.displayName||null,i!==null?i:R(t.type)||"Memo";case ne:i=t._payload,t=t._init;try{return R(t(i))}catch{}}return null}var w=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,x=Object.assign,V,z;function D(t){if(V===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);V=i&&i[1]||"",z=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+t+z}var St=!1;function gt(t,i){if(!t||St)return"";St=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch($){var H=$}Reflect.construct(t,[],Z)}else{try{Z.call()}catch($){H=$}t.call(Z.prototype)}}else{try{throw Error()}catch($){H=$}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch($){if($&&H&&typeof $.stack=="string")return[$.stack,H.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],S=d[1];if(v&&S){var C=v.split(`
`),k=S.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<k.length&&!k[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===k.length)for(l=C.length-1,h=k.length-1;1<=l&&0<=h&&C[l]!==k[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==k[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==k[h]){var K=`
`+C[l].replace(" at new "," at ");return t.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",t.displayName)),K}while(1<=l&&0<=h);break}}}finally{St=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?D(a):""}function re(t){switch(t.tag){case 26:case 27:case 5:return D(t.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return t=gt(t.type,!1),t;case 11:return t=gt(t.type.render,!1),t;case 1:return t=gt(t.type,!0),t;default:return""}}function Ee(t){try{var i="";do i+=re(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function me(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function Ge(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function N(t){if(me(t)!==t)throw Error(s(188))}function te(t){var i=t.alternate;if(!i){if(i=me(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return N(h),t;if(d===l)return N(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,S=h.child;S;){if(S===a){v=!0,a=h,l=d;break}if(S===l){v=!0,l=h,a=d;break}S=S.sibling}if(!v){for(S=d.child;S;){if(S===a){v=!0,a=d,l=h;break}if(S===l){v=!0,l=d,a=h;break}S=S.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function he(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=he(t),i!==null)return i;t=t.sibling}return null}var se=Array.isArray,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},Re=[],_t=-1;function Be(t){return{current:t}}function ot(t){0>_t||(t.current=Re[_t],Re[_t]=null,_t--)}function Qe(t,i){_t++,Re[_t]=t.current,t.current=i}var en=Be(null),wi=Be(null),Sn=Be(null),ur=Be(null);function cr(t,i){switch(Qe(Sn,i),Qe(wi,t),Qe(en,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?ay(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=ay(t),i=oy(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ot(en),Qe(en,i)}function bi(){ot(en),ot(wi),ot(Sn)}function Ro(t){t.memoizedState!==null&&Qe(ur,t);var i=en.current,a=oy(i,t.type);i!==a&&(Qe(wi,t),Qe(en,a))}function ua(t){wi.current===t&&(ot(en),ot(wi)),ur.current===t&&(ot(ur),Rl._currentValue=Ie)}var ca=Object.prototype.hasOwnProperty,ds=r.unstable_scheduleCallback,ha=r.unstable_cancelCallback,Fh=r.unstable_shouldYield,Co=r.unstable_requestPaint,ln=r.unstable_now,gu=r.unstable_getCurrentPriorityLevel,At=r.unstable_ImmediatePriority,Ot=r.unstable_UserBlockingPriority,Ri=r.unstable_NormalPriority,_u=r.unstable_LowPriority,Io=r.unstable_IdlePriority,Gh=r.log,ms=r.unstable_setDisableYieldValue,hr=null,Kt=null;function xo(t){if(Kt&&typeof Kt.onCommitFiberRoot=="function")try{Kt.onCommitFiberRoot(hr,t,void 0,(t.current.flags&128)===128)}catch{}}function Xn(t){if(typeof Gh=="function"&&ms(t),Kt&&typeof Kt.setStrictMode=="function")try{Kt.setStrictMode(hr,t)}catch{}}var tn=Math.clz32?Math.clz32:vu,Do=Math.log,yu=Math.LN2;function vu(t){return t>>>=0,t===0?32:31-(Do(t)/yu|0)|0}var Wn=128,fr=4194304;function Bn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function An(t,i){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var S=a&134217727;return S!==0?(a=S&~h,a!==0?l=Bn(a):(d&=S,d!==0?l=Bn(d):t||(v=S&~v,v!==0&&(l=Bn(v))))):(S=a&~h,S!==0?l=Bn(S):d!==0?l=Bn(d):t||(v=a&~v,v!==0&&(l=Bn(v)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:l}function dr(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function fa(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function No(){var t=Wn;return Wn<<=1,(Wn&4194176)===0&&(Wn=128),t}function mr(){var t=fr;return fr<<=1,(fr&62914560)===0&&(fr=4194304),t}function da(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function dt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Eu(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,C=t.expirationTimes,k=t.hiddenUpdates;for(a=v&~a;0<a;){var K=31-tn(a),Z=1<<K;S[K]=0,C[K]=-1;var H=k[K];if(H!==null)for(k[K]=null,K=0;K<H.length;K++){var $=H[K];$!==null&&($.lane&=-536870913)}a&=~Z}l!==0&&pr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function pr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-tn(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function gr(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-tn(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Tu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Su(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:by(t.type))}function _r(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var Zn=Math.random().toString(36).slice(2),Mt="__reactFiber$"+Zn,wt="__reactProps$"+Zn,Ci="__reactContainer$"+Zn,ps="__reactEvents$"+Zn,ma="__reactListeners$"+Zn,Jn="__reactHandles$"+Zn,Oo="__reactResources$"+Zn,yr="__reactMarker$"+Zn;function gs(t){delete t[Mt],delete t[wt],delete t[ps],delete t[ma],delete t[Jn]}function Hn(t){var i=t[Mt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ci]||a[Mt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=cy(t);t!==null;){if(a=t[Mt])return a;t=cy(t)}return i}t=a,a=t.parentNode}return null}function Ii(t){if(t=t[Mt]||t[Ci]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function vr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Er(t){var i=t[Oo];return i||(i=t[Oo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function nt(t){t[yr]=!0}var Mo=new Set,pa={};function dn(t,i){un(t,i),un(t+"Capture",i)}function un(t,i){for(pa[t]=i,t=0;t<i.length;t++)Mo.add(i[t])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$h=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Vo={},ko={};function Au(t){return ca.call(ko,t)?!0:ca.call(Vo,t)?!1:$h.test(t)?ko[t]=!0:(Vo[t]=!0,!1)}function Tr(t,i,a){if(Au(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Sr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function wn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function nn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function wu(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Kh(t){var i=wu(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function _s(t){t._valueTracker||(t._valueTracker=Kh(t))}function Po(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=wu(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function ga(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xi=/[\n"\\]/g;function lt(t){return t.replace(xi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Ar(t,i,a,l,h,d,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+nn(i)):t.value!==""+nn(i)&&(t.value=""+nn(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?_a(t,v,nn(i)):a!=null?_a(t,v,nn(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+nn(S):t.removeAttribute("name")}function ys(t,i,a,l,h,d,v,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+nn(a):"",i=i!=null?""+nn(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function _a(t,i,a){i==="number"&&ga(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function He(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+nn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function vs(t,i,a){if(i!=null&&(i=""+nn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+nn(a):""}function wr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(se(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=nn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function bn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Qh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Lo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Qh.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function bu(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Lo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Lo(t,d,i[d])}function Uo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Xh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ei(t){return Xh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Rn=null;function ya(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Di=null,Ni=null;function Oi(t){var i=Ii(t);if(i&&(t=i.stateNode)){var a=t[wt]||null;e:switch(t=i.stateNode,i.type){case"input":if(Ar(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+lt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[wt]||null;if(!h)throw Error(s(90));Ar(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Po(l)}break e;case"textarea":vs(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&He(t,!!a.multiple,i,!1)}}}var jo=!1;function Ru(t,i,a){if(jo)return t(i,a);jo=!0;try{var l=t(i);return l}finally{if(jo=!1,(Di!==null||Ni!==null)&&(_c(),Di&&(i=Di,t=Ni,Ni=Di=null,Oi(i),t)))for(i=0;i<t.length;i++)Oi(t[i])}}function Es(t,i){var a=t.stateNode;if(a===null)return null;var l=a[wt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Cn=!1;if(mn)try{var Ts={};Object.defineProperty(Ts,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",Ts,Ts),window.removeEventListener("test",Ts,Ts)}catch{Cn=!1}var ti=null,br=null,Mi=null;function zo(){if(Mi)return Mi;var t,i=br,a=i.length,l,h="value"in ti?ti.value:ti.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Mi=h.slice(t,1<l?1-l:void 0)}function ni(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ii(){return!0}function Bo(){return!1}function Vt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ii:Bo,this.isPropagationStopped=Bo,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ii)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ii)},persist:function(){},isPersistent:ii}),i}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},va=Vt($e),Ss=x({},$e,{view:0,detail:0}),Cu=Vt(Ss),Ea,Ta,ri,As=x({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ri&&(ri&&t.type==="mousemove"?(Ea=t.screenX-ri.screenX,Ta=t.screenY-ri.screenY):Ta=Ea=0,ri=t),Ea)},movementY:function(t){return"movementY"in t?t.movementY:Ta}}),In=Vt(As),Iu=x({},As,{dataTransfer:0}),Wh=Vt(Iu),ws=x({},Ss,{relatedTarget:0}),Sa=Vt(ws),Ho=x({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),Aa=Vt(Ho),xu=x({},$e,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wa=Vt(xu),Zh=x({},$e,{data:0}),qo=Vt(Zh),bs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Nu[t])?!!i[t]:!1}function Rs(){return Fo}var Ou=x({},Ss,{key:function(t){if(t.key){var i=bs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ni(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(t){return t.type==="keypress"?ni(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ni(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ba=Vt(Ou),Mu=x({},As,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Go=Vt(Mu),Vi=x({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),Vu=Vt(Vi),ku=x({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),Pu=Vt(ku),Lu=x({},As,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ra=Vt(Lu),rn=x({},$e,{newState:0,oldState:0}),Uu=Vt(rn),ju=[9,13,27,32],si=mn&&"CompositionEvent"in window,c=null;mn&&"documentMode"in document&&(c=document.documentMode);var g=mn&&"TextEvent"in window&&!c,y=mn&&(!si||c&&8<c&&11>=c),A=" ",j=!1;function G(t,i){switch(t){case"keyup":return ju.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Le=!1;function bt(t,i){switch(t){case"compositionend":return ie(i);case"keypress":return i.which!==32?null:(j=!0,A);case"textInput":return t=i.data,t===A&&j?null:t;default:return null}}function Ue(t,i){if(Le)return t==="compositionend"||!si&&G(t,i)?(t=zo(),Mi=br=ti=null,Le=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!kt[t.type]:i==="textarea"}function ki(t,i,a,l){Di?Ni?Ni.push(l):Ni=[l]:Di=l,i=Sc(i,"onChange"),0<i.length&&(a=new va("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var zt=null,ai=null;function $o(t){ty(t,0)}function zu(t){var i=vr(t);if(Po(i))return t}function Dp(t,i){if(t==="change")return i}var Np=!1;if(mn){var Jh;if(mn){var ef="oninput"in document;if(!ef){var Op=document.createElement("div");Op.setAttribute("oninput","return;"),ef=typeof Op.oninput=="function"}Jh=ef}else Jh=!1;Np=Jh&&(!document.documentMode||9<document.documentMode)}function Mp(){zt&&(zt.detachEvent("onpropertychange",Vp),ai=zt=null)}function Vp(t){if(t.propertyName==="value"&&zu(ai)){var i=[];ki(i,ai,t,ya(t)),Ru($o,i)}}function gS(t,i,a){t==="focusin"?(Mp(),zt=i,ai=a,zt.attachEvent("onpropertychange",Vp)):t==="focusout"&&Mp()}function _S(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return zu(ai)}function yS(t,i){if(t==="click")return zu(i)}function vS(t,i){if(t==="input"||t==="change")return zu(i)}function ES(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var pn=typeof Object.is=="function"?Object.is:ES;function Ko(t,i){if(pn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!ca.call(i,h)||!pn(t[h],i[h]))return!1}return!0}function kp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Pp(t,i){var a=kp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=kp(a)}}function Lp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Lp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Up(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ga(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ga(t.document)}return i}function tf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function TS(t,i){var a=Up(i);i=t.focusedElem;var l=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&Lp(i.ownerDocument.documentElement,i)){if(l!==null&&tf(i)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=Pp(i,d);var v=Pp(i,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var SS=mn&&"documentMode"in document&&11>=document.documentMode,Ca=null,nf=null,Qo=null,rf=!1;function jp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;rf||Ca==null||Ca!==ga(l)||(l=Ca,"selectionStart"in l&&tf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Qo&&Ko(Qo,l)||(Qo=l,l=Sc(nf,"onSelect"),0<l.length&&(i=new va("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ca)))}function Cs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ia={animationend:Cs("Animation","AnimationEnd"),animationiteration:Cs("Animation","AnimationIteration"),animationstart:Cs("Animation","AnimationStart"),transitionrun:Cs("Transition","TransitionRun"),transitionstart:Cs("Transition","TransitionStart"),transitioncancel:Cs("Transition","TransitionCancel"),transitionend:Cs("Transition","TransitionEnd")},sf={},zp={};mn&&(zp=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Is(t){if(sf[t])return sf[t];if(!Ia[t])return t;var i=Ia[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in zp)return sf[t]=i[a];return t}var Bp=Is("animationend"),Hp=Is("animationiteration"),qp=Is("animationstart"),AS=Is("transitionrun"),wS=Is("transitionstart"),bS=Is("transitioncancel"),Fp=Is("transitionend"),Gp=new Map,$p="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function qn(t,i){Gp.set(t,i),dn(i,[t])}var xn=[],xa=0,af=0;function Bu(){for(var t=xa,i=af=xa=0;i<t;){var a=xn[i];xn[i++]=null;var l=xn[i];xn[i++]=null;var h=xn[i];xn[i++]=null;var d=xn[i];if(xn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Kp(a,h,d)}}function Hu(t,i,a,l){xn[xa++]=t,xn[xa++]=i,xn[xa++]=a,xn[xa++]=l,af|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function of(t,i,a,l){return Hu(t,i,a,l),qu(t)}function Rr(t,i){return Hu(t,null,null,i),qu(t)}function Kp(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&i!==null&&t.tag===3&&(d=t.stateNode,h=31-tn(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[i]:t.push(i),i.lane=a|536870912)}function qu(t){if(50<vl)throw vl=0,dd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Da={},Qp=new WeakMap;function Dn(t,i){if(typeof t=="object"&&t!==null){var a=Qp.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ee(i)},Qp.set(t,i),i)}return{value:t,source:i,stack:Ee(i)}}var Na=[],Oa=0,Fu=null,Gu=0,Nn=[],On=0,xs=null,Pi=1,Li="";function Ds(t,i){Na[Oa++]=Gu,Na[Oa++]=Fu,Fu=t,Gu=i}function Yp(t,i,a){Nn[On++]=Pi,Nn[On++]=Li,Nn[On++]=xs,xs=t;var l=Pi;t=Li;var h=32-tn(l)-1;l&=~(1<<h),a+=1;var d=32-tn(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Pi=1<<32-tn(i)+h|a<<h|l,Li=d+t}else Pi=1<<d|a<<h|l,Li=t}function lf(t){t.return!==null&&(Ds(t,1),Yp(t,1,0))}function uf(t){for(;t===Fu;)Fu=Na[--Oa],Na[Oa]=null,Gu=Na[--Oa],Na[Oa]=null;for(;t===xs;)xs=Nn[--On],Nn[On]=null,Li=Nn[--On],Nn[On]=null,Pi=Nn[--On],Nn[On]=null}var sn=null,Bt=null,qe=!1,Fn=null,oi=!1,cf=Error(s(519));function Ns(t){var i=Error(s(418,""));throw Wo(Dn(i,t)),cf}function Xp(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Mt]=t,i[wt]=l,a){case"dialog":ke("cancel",i),ke("close",i);break;case"iframe":case"object":case"embed":ke("load",i);break;case"video":case"audio":for(a=0;a<Tl.length;a++)ke(Tl[a],i);break;case"source":ke("error",i);break;case"img":case"image":case"link":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"input":ke("invalid",i),ys(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),_s(i);break;case"select":ke("invalid",i);break;case"textarea":ke("invalid",i),wr(i,l.value,l.defaultValue,l.children),_s(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||sy(i.textContent,a)?(l.popover!=null&&(ke("beforetoggle",i),ke("toggle",i)),l.onScroll!=null&&ke("scroll",i),l.onScrollEnd!=null&&ke("scrollend",i),l.onClick!=null&&(i.onclick=Ac),i=!0):i=!1,i||Ns(t)}function Wp(t){for(sn=t.return;sn;)switch(sn.tag){case 3:case 27:oi=!0;return;case 5:case 13:oi=!1;return;default:sn=sn.return}}function Yo(t){if(t!==sn)return!1;if(!qe)return Wp(t),qe=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Dd(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&Bt&&Ns(t),Wp(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Bt=$n(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Bt=null}}else Bt=sn?$n(t.stateNode.nextSibling):null;return!0}function Xo(){Bt=sn=null,qe=!1}function Wo(t){Fn===null?Fn=[t]:Fn.push(t)}var Zo=Error(s(460)),Zp=Error(s(474)),hf={then:function(){}};function Jp(t){return t=t.status,t==="fulfilled"||t==="rejected"}function $u(){}function eg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then($u,$u),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Zo?Error(s(483)):t;default:if(typeof i.status=="string")i.then($u,$u);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===Zo?Error(s(483)):t}throw Jo=i,Zo}}var Jo=null;function tg(){if(Jo===null)throw Error(s(459));var t=Jo;return Jo=null,t}var Ma=null,el=0;function Ku(t){var i=el;return el+=1,Ma===null&&(Ma=[]),eg(Ma,t,i)}function tl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Qu(t,i){throw i.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function ng(t){var i=t._init;return i(t._payload)}function ig(t){function i(L,O){if(t){var B=L.deletions;B===null?(L.deletions=[O],L.flags|=16):B.push(O)}}function a(L,O){if(!t)return null;for(;O!==null;)i(L,O),O=O.sibling;return null}function l(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=Ur(L,O),L.index=0,L.sibling=null,L}function d(L,O,B){return L.index=B,t?(B=L.alternate,B!==null?(B=B.index,B<O?(L.flags|=33554434,O):B):(L.flags|=33554434,O)):(L.flags|=1048576,O)}function v(L){return t&&L.alternate===null&&(L.flags|=33554434),L}function S(L,O,B,X){return O===null||O.tag!==6?(O=sd(B,L.mode,X),O.return=L,O):(O=h(O,B),O.return=L,O)}function C(L,O,B,X){var le=B.type;return le===p?K(L,O,B.props.children,X,B.key):O!==null&&(O.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ne&&ng(le)===O.type)?(O=h(O,B.props),tl(O,B),O.return=L,O):(O=fc(B.type,B.key,B.props,null,L.mode,X),tl(O,B),O.return=L,O)}function k(L,O,B,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==B.containerInfo||O.stateNode.implementation!==B.implementation?(O=ad(B,L.mode,X),O.return=L,O):(O=h(O,B.children||[]),O.return=L,O)}function K(L,O,B,X,le){return O===null||O.tag!==7?(O=Bs(B,L.mode,X,le),O.return=L,O):(O=h(O,B),O.return=L,O)}function Z(L,O,B){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=sd(""+O,L.mode,B),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case f:return B=fc(O.type,O.key,O.props,null,L.mode,B),tl(B,O),B.return=L,B;case m:return O=ad(O,L.mode,B),O.return=L,O;case ne:var X=O._init;return O=X(O._payload),Z(L,O,B)}if(se(O)||be(O))return O=Bs(O,L.mode,B,null),O.return=L,O;if(typeof O.then=="function")return Z(L,Ku(O),B);if(O.$$typeof===P)return Z(L,uc(L,O),B);Qu(L,O)}return null}function H(L,O,B,X){var le=O!==null?O.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return le!==null?null:S(L,O,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case f:return B.key===le?C(L,O,B,X):null;case m:return B.key===le?k(L,O,B,X):null;case ne:return le=B._init,B=le(B._payload),H(L,O,B,X)}if(se(B)||be(B))return le!==null?null:K(L,O,B,X,null);if(typeof B.then=="function")return H(L,O,Ku(B),X);if(B.$$typeof===P)return H(L,O,uc(L,B),X);Qu(L,B)}return null}function $(L,O,B,X,le){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return L=L.get(B)||null,S(O,L,""+X,le);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case f:return L=L.get(X.key===null?B:X.key)||null,C(O,L,X,le);case m:return L=L.get(X.key===null?B:X.key)||null,k(O,L,X,le);case ne:var De=X._init;return X=De(X._payload),$(L,O,B,X,le)}if(se(X)||be(X))return L=L.get(B)||null,K(O,L,X,le,null);if(typeof X.then=="function")return $(L,O,B,Ku(X),le);if(X.$$typeof===P)return $(L,O,B,uc(O,X),le);Qu(O,X)}return null}function ce(L,O,B,X){for(var le=null,De=null,fe=O,ye=O=0,Ut=null;fe!==null&&ye<B.length;ye++){fe.index>ye?(Ut=fe,fe=null):Ut=fe.sibling;var Fe=H(L,fe,B[ye],X);if(Fe===null){fe===null&&(fe=Ut);break}t&&fe&&Fe.alternate===null&&i(L,fe),O=d(Fe,O,ye),De===null?le=Fe:De.sibling=Fe,De=Fe,fe=Ut}if(ye===B.length)return a(L,fe),qe&&Ds(L,ye),le;if(fe===null){for(;ye<B.length;ye++)fe=Z(L,B[ye],X),fe!==null&&(O=d(fe,O,ye),De===null?le=fe:De.sibling=fe,De=fe);return qe&&Ds(L,ye),le}for(fe=l(fe);ye<B.length;ye++)Ut=$(fe,L,ye,B[ye],X),Ut!==null&&(t&&Ut.alternate!==null&&fe.delete(Ut.key===null?ye:Ut.key),O=d(Ut,O,ye),De===null?le=Ut:De.sibling=Ut,De=Ut);return t&&fe.forEach(function(Gr){return i(L,Gr)}),qe&&Ds(L,ye),le}function Ae(L,O,B,X){if(B==null)throw Error(s(151));for(var le=null,De=null,fe=O,ye=O=0,Ut=null,Fe=B.next();fe!==null&&!Fe.done;ye++,Fe=B.next()){fe.index>ye?(Ut=fe,fe=null):Ut=fe.sibling;var Gr=H(L,fe,Fe.value,X);if(Gr===null){fe===null&&(fe=Ut);break}t&&fe&&Gr.alternate===null&&i(L,fe),O=d(Gr,O,ye),De===null?le=Gr:De.sibling=Gr,De=Gr,fe=Ut}if(Fe.done)return a(L,fe),qe&&Ds(L,ye),le;if(fe===null){for(;!Fe.done;ye++,Fe=B.next())Fe=Z(L,Fe.value,X),Fe!==null&&(O=d(Fe,O,ye),De===null?le=Fe:De.sibling=Fe,De=Fe);return qe&&Ds(L,ye),le}for(fe=l(fe);!Fe.done;ye++,Fe=B.next())Fe=$(fe,L,ye,Fe.value,X),Fe!==null&&(t&&Fe.alternate!==null&&fe.delete(Fe.key===null?ye:Fe.key),O=d(Fe,O,ye),De===null?le=Fe:De.sibling=Fe,De=Fe);return t&&fe.forEach(function(jA){return i(L,jA)}),qe&&Ds(L,ye),le}function ht(L,O,B,X){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case f:e:{for(var le=B.key;O!==null;){if(O.key===le){if(le=B.type,le===p){if(O.tag===7){a(L,O.sibling),X=h(O,B.props.children),X.return=L,L=X;break e}}else if(O.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ne&&ng(le)===O.type){a(L,O.sibling),X=h(O,B.props),tl(X,B),X.return=L,L=X;break e}a(L,O);break}else i(L,O);O=O.sibling}B.type===p?(X=Bs(B.props.children,L.mode,X,B.key),X.return=L,L=X):(X=fc(B.type,B.key,B.props,null,L.mode,X),tl(X,B),X.return=L,L=X)}return v(L);case m:e:{for(le=B.key;O!==null;){if(O.key===le)if(O.tag===4&&O.stateNode.containerInfo===B.containerInfo&&O.stateNode.implementation===B.implementation){a(L,O.sibling),X=h(O,B.children||[]),X.return=L,L=X;break e}else{a(L,O);break}else i(L,O);O=O.sibling}X=ad(B,L.mode,X),X.return=L,L=X}return v(L);case ne:return le=B._init,B=le(B._payload),ht(L,O,B,X)}if(se(B))return ce(L,O,B,X);if(be(B)){if(le=be(B),typeof le!="function")throw Error(s(150));return B=le.call(B),Ae(L,O,B,X)}if(typeof B.then=="function")return ht(L,O,Ku(B),X);if(B.$$typeof===P)return ht(L,O,uc(L,B),X);Qu(L,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,O!==null&&O.tag===6?(a(L,O.sibling),X=h(O,B),X.return=L,L=X):(a(L,O),X=sd(B,L.mode,X),X.return=L,L=X),v(L)):a(L,O)}return function(L,O,B,X){try{el=0;var le=ht(L,O,B,X);return Ma=null,le}catch(fe){if(fe===Zo)throw fe;var De=Pn(29,fe,null,L.mode);return De.lanes=X,De.return=L,De}finally{}}}var Os=ig(!0),rg=ig(!1),Va=Be(null),Yu=Be(0);function sg(t,i){t=Qi,Qe(Yu,t),Qe(Va,i),Qi=t|i.baseLanes}function ff(){Qe(Yu,Qi),Qe(Va,Va.current)}function df(){Qi=Yu.current,ot(Va),ot(Yu)}var Mn=Be(null),li=null;function Cr(t){var i=t.alternate;Qe(Ct,Ct.current&1),Qe(Mn,t),li===null&&(i===null||Va.current!==null||i.memoizedState!==null)&&(li=t)}function ag(t){if(t.tag===22){if(Qe(Ct,Ct.current),Qe(Mn,t),li===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(li=t)}}else Ir()}function Ir(){Qe(Ct,Ct.current),Qe(Mn,Mn.current)}function Ui(t){ot(Mn),li===t&&(li=null),ot(Ct)}var Ct=Be(0);function Xu(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var RS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},CS=r.unstable_scheduleCallback,IS=r.unstable_NormalPriority,It={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mf(){return{controller:new RS,data:new Map,refCount:0}}function nl(t){t.refCount--,t.refCount===0&&CS(IS,function(){t.controller.abort()})}var il=null,pf=0,ka=0,Pa=null;function xS(t,i){if(il===null){var a=il=[];pf=0,ka=Td(),Pa={status:"pending",value:void 0,then:function(l){a.push(l)}}}return pf++,i.then(og,og),i}function og(){if(--pf===0&&il!==null){Pa!==null&&(Pa.status="fulfilled");var t=il;il=null,ka=0,Pa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function DS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var lg=w.S;w.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&xS(t,i),lg!==null&&lg(t,i)};var Ms=Be(null);function gf(){var t=Ms.current;return t!==null?t:Je.pooledCache}function Wu(t,i){i===null?Qe(Ms,Ms.current):Qe(Ms,i.pool)}function ug(){var t=gf();return t===null?null:{parent:It._currentValue,pool:t}}var xr=0,xe=null,Xe=null,yt=null,Zu=!1,La=!1,Vs=!1,Ju=0,rl=0,Ua=null,NS=0;function mt(){throw Error(s(321))}function _f(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!pn(t[a],i[a]))return!1;return!0}function yf(t,i,a,l,h,d){return xr=d,xe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,w.H=t===null||t.memoizedState===null?ks:Dr,Vs=!1,d=a(l,h),Vs=!1,La&&(d=hg(i,a,l,h)),cg(t),d}function cg(t){w.H=ui;var i=Xe!==null&&Xe.next!==null;if(xr=0,yt=Xe=xe=null,Zu=!1,rl=0,Ua=null,i)throw Error(s(300));t===null||Pt||(t=t.dependencies,t!==null&&lc(t)&&(Pt=!0))}function hg(t,i,a,l){xe=t;var h=0;do{if(La&&(Ua=null),rl=0,La=!1,25<=h)throw Error(s(301));if(h+=1,yt=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}w.H=Ps,d=i(a,l)}while(La);return d}function OS(){var t=w.H,i=t.useState()[0];return i=typeof i.then=="function"?sl(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(xe.flags|=1024),i}function vf(){var t=Ju!==0;return Ju=0,t}function Ef(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Tf(t){if(Zu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Zu=!1}xr=0,yt=Xe=xe=null,La=!1,rl=Ju=0,Ua=null}function cn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?xe.memoizedState=yt=t:yt=yt.next=t,yt}function vt(){if(Xe===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=yt===null?xe.memoizedState:yt.next;if(i!==null)yt=i,Xe=t;else{if(t===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},yt===null?xe.memoizedState=yt=t:yt=yt.next=t}return yt}var ec;ec=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function sl(t){var i=rl;return rl+=1,Ua===null&&(Ua=[]),t=eg(Ua,t,i),i=xe,(yt===null?i.memoizedState:yt.next)===null&&(i=i.alternate,w.H=i===null||i.memoizedState===null?ks:Dr),t}function tc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return sl(t);if(t.$$typeof===P)return Qt(t)}throw Error(s(438,String(t)))}function Sf(t){var i=null,a=xe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ec(),xe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=pe;return i.index++,a}function ji(t,i){return typeof i=="function"?i(t):i}function nc(t){var i=vt();return Af(i,Xe,t)}function Af(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=v=null,C=null,k=i,K=!1;do{var Z=k.lane&-536870913;if(Z!==k.lane?(je&Z)===Z:(xr&Z)===Z){var H=k.revertLane;if(H===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null}),Z===ka&&(K=!0);else if((xr&H)===H){k=k.next,H===ka&&(K=!0);continue}else Z={lane:0,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},C===null?(S=C=Z,v=d):C=C.next=Z,xe.lanes|=H,jr|=H;Z=k.action,Vs&&a(d,Z),d=k.hasEagerState?k.eagerState:a(d,Z)}else H={lane:Z,revertLane:k.revertLane,action:k.action,hasEagerState:k.hasEagerState,eagerState:k.eagerState,next:null},C===null?(S=C=H,v=d):C=C.next=H,xe.lanes|=Z,jr|=Z;k=k.next}while(k!==null&&k!==i);if(C===null?v=d:C.next=S,!pn(d,t.memoizedState)&&(Pt=!0,K&&(a=Pa,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function wf(t){var i=vt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);pn(d,i.memoizedState)||(Pt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function fg(t,i,a){var l=xe,h=vt(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!pn((Xe||h).memoizedState,a);if(v&&(h.memoizedState=a,Pt=!0),h=h.queue,Cf(pg.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,ja(9,mg.bind(null,l,h,a,i),{destroy:void 0},null),Je===null)throw Error(s(349));d||(xr&60)!==0||dg(l,i,a)}return a}function dg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=xe.updateQueue,i===null?(i=ec(),xe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function mg(t,i,a,l){i.value=a,i.getSnapshot=l,gg(i)&&_g(t)}function pg(t,i,a){return a(function(){gg(i)&&_g(t)})}function gg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!pn(t,a)}catch{return!0}}function _g(t){var i=Rr(t,2);i!==null&&an(i,t,2)}function bf(t){var i=cn();if(typeof t=="function"){var a=t;if(t=a(),Vs){Xn(!0);try{a()}finally{Xn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:t},i}function yg(t,i,a,l){return t.baseState=a,Af(t,Xe,typeof l=="function"?l:ji)}function MS(t,i,a,l,h){if(sc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};w.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,vg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function vg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=w.T,v={};w.T=v;try{var S=a(h,l),C=w.S;C!==null&&C(v,S),Eg(t,i,S)}catch(k){Rf(t,i,k)}finally{w.T=d}}else try{d=a(h,l),Eg(t,i,d)}catch(k){Rf(t,i,k)}}function Eg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Tg(t,i,l)},function(l){return Rf(t,i,l)}):Tg(t,i,a)}function Tg(t,i,a){i.status="fulfilled",i.value=a,Sg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,vg(t,a)))}function Rf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Sg(i),i=i.next;while(i!==l)}t.action=null}function Sg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Ag(t,i){return i}function wg(t,i){if(qe){var a=Je.formState;if(a!==null){e:{var l=xe;if(qe){if(Bt){t:{for(var h=Bt,d=oi;h.nodeType!==8;){if(!d){h=null;break t}if(h=$n(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Bt=$n(h.nextSibling),l=h.data==="F!";break e}}Ns(l)}l=!1}l&&(i=a[0])}}return a=cn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ag,lastRenderedState:i},a.queue=l,a=Hg.bind(null,xe,l),l.dispatch=a,l=bf(!1),d=Of.bind(null,xe,!1,l.queue),l=cn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=MS.bind(null,xe,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function bg(t){var i=vt();return Rg(i,Xe,t)}function Rg(t,i,a){i=Af(t,i,Ag)[0],t=nc(ji)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?sl(i):i;var l=vt(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(xe.flags|=2048,ja(9,VS.bind(null,h,a),{destroy:void 0},null)),[i,d,t]}function VS(t,i){t.action=i}function Cg(t){var i=vt(),a=Xe;if(a!==null)return Rg(i,a,t);vt(),i=i.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function ja(t,i,a,l){return t={tag:t,create:i,inst:a,deps:l,next:null},i=xe.updateQueue,i===null&&(i=ec(),xe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Ig(){return vt().memoizedState}function ic(t,i,a,l){var h=cn();xe.flags|=t,h.memoizedState=ja(1|i,a,{destroy:void 0},l===void 0?null:l)}function rc(t,i,a,l){var h=vt();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&_f(l,Xe.memoizedState.deps)?h.memoizedState=ja(i,a,d,l):(xe.flags|=t,h.memoizedState=ja(1|i,a,d,l))}function xg(t,i){ic(8390656,8,t,i)}function Cf(t,i){rc(2048,8,t,i)}function Dg(t,i){return rc(4,2,t,i)}function Ng(t,i){return rc(4,4,t,i)}function Og(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Mg(t,i,a){a=a!=null?a.concat([t]):null,rc(4,4,Og.bind(null,i,t),a)}function If(){}function Vg(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&_f(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function kg(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&_f(i,l[1]))return l[0];if(l=t(),Vs){Xn(!0);try{t()}finally{Xn(!1)}}return a.memoizedState=[l,i],l}function xf(t,i,a){return a===void 0||(xr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=L_(),xe.lanes|=t,jr|=t,a)}function Pg(t,i,a,l){return pn(a,i)?a:Va.current!==null?(t=xf(t,a,l),pn(t,i)||(Pt=!0),t):(xr&42)===0?(Pt=!0,t.memoizedState=a):(t=L_(),xe.lanes|=t,jr|=t,i)}function Lg(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=w.T,S={};w.T=S,Of(t,!1,i,a);try{var C=h(),k=w.S;if(k!==null&&k(S,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var K=DS(C,l);al(t,i,K,vn(t))}else al(t,i,l,vn(t))}catch(Z){al(t,i,{then:function(){},status:"rejected",reason:Z},vn())}finally{ae.p=d,w.T=v}}function kS(){}function Df(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Ug(t).queue;Lg(t,h,i,Ie,a===null?kS:function(){return jg(t),a(l)})}function Ug(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:Ie},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function jg(t){var i=Ug(t).next.queue;al(t,i,{},vn())}function Nf(){return Qt(Rl)}function zg(){return vt().memoizedState}function Bg(){return vt().memoizedState}function PS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=vn();t=Mr(a);var l=Vr(i,t,a);l!==null&&(an(l,i,a),ul(l,i,a)),i={cache:mf()},t.payload=i;return}i=i.return}}function LS(t,i,a){var l=vn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},sc(t)?qg(i,a):(a=of(t,i,a,l),a!==null&&(an(a,t,l),Fg(a,i,l)))}function Hg(t,i,a){var l=vn();al(t,i,a,l)}function al(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(sc(t))qg(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,S=d(v,a);if(h.hasEagerState=!0,h.eagerState=S,pn(S,v))return Hu(t,i,h,0),Je===null&&Bu(),!1}catch{}finally{}if(a=of(t,i,h,l),a!==null)return an(a,t,l),Fg(a,i,l),!0}return!1}function Of(t,i,a,l){if(l={lane:2,revertLane:Td(),action:l,hasEagerState:!1,eagerState:null,next:null},sc(t)){if(i)throw Error(s(479))}else i=of(t,a,l,2),i!==null&&an(i,t,2)}function sc(t){var i=t.alternate;return t===xe||i!==null&&i===xe}function qg(t,i){La=Zu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Fg(t,i,a){if((a&4194176)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,gr(t,a)}}var ui={readContext:Qt,use:tc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt};ui.useCacheRefresh=mt,ui.useMemoCache=mt,ui.useHostTransitionStatus=mt,ui.useFormState=mt,ui.useActionState=mt,ui.useOptimistic=mt;var ks={readContext:Qt,use:tc,useCallback:function(t,i){return cn().memoizedState=[t,i===void 0?null:i],t},useContext:Qt,useEffect:xg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ic(4194308,4,Og.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ic(4194308,4,t,i)},useInsertionEffect:function(t,i){ic(4,2,t,i)},useMemo:function(t,i){var a=cn();i=i===void 0?null:i;var l=t();if(Vs){Xn(!0);try{t()}finally{Xn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=cn();if(a!==void 0){var h=a(i);if(Vs){Xn(!0);try{a(i)}finally{Xn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=LS.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var i=cn();return t={current:t},i.memoizedState=t},useState:function(t){t=bf(t);var i=t.queue,a=Hg.bind(null,xe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:If,useDeferredValue:function(t,i){var a=cn();return xf(a,t,i)},useTransition:function(){var t=bf(!1);return t=Lg.bind(null,xe,t.queue,!0,!1),cn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=xe,h=cn();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Je===null)throw Error(s(349));(je&60)!==0||dg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,xg(pg.bind(null,l,d,t),[t]),l.flags|=2048,ja(9,mg.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var t=cn(),i=Je.identifierPrefix;if(qe){var a=Li,l=Pi;a=(l&~(1<<32-tn(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=Ju++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=NS++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return cn().memoizedState=PS.bind(null,xe)}};ks.useMemoCache=Sf,ks.useHostTransitionStatus=Nf,ks.useFormState=wg,ks.useActionState=wg,ks.useOptimistic=function(t){var i=cn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Of.bind(null,xe,!0,a),a.dispatch=i,[t,i]};var Dr={readContext:Qt,use:tc,useCallback:Vg,useContext:Qt,useEffect:Cf,useImperativeHandle:Mg,useInsertionEffect:Dg,useLayoutEffect:Ng,useMemo:kg,useReducer:nc,useRef:Ig,useState:function(){return nc(ji)},useDebugValue:If,useDeferredValue:function(t,i){var a=vt();return Pg(a,Xe.memoizedState,t,i)},useTransition:function(){var t=nc(ji)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:sl(t),i]},useSyncExternalStore:fg,useId:zg};Dr.useCacheRefresh=Bg,Dr.useMemoCache=Sf,Dr.useHostTransitionStatus=Nf,Dr.useFormState=bg,Dr.useActionState=bg,Dr.useOptimistic=function(t,i){var a=vt();return yg(a,Xe,t,i)};var Ps={readContext:Qt,use:tc,useCallback:Vg,useContext:Qt,useEffect:Cf,useImperativeHandle:Mg,useInsertionEffect:Dg,useLayoutEffect:Ng,useMemo:kg,useReducer:wf,useRef:Ig,useState:function(){return wf(ji)},useDebugValue:If,useDeferredValue:function(t,i){var a=vt();return Xe===null?xf(a,t,i):Pg(a,Xe.memoizedState,t,i)},useTransition:function(){var t=wf(ji)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:sl(t),i]},useSyncExternalStore:fg,useId:zg};Ps.useCacheRefresh=Bg,Ps.useMemoCache=Sf,Ps.useHostTransitionStatus=Nf,Ps.useFormState=Cg,Ps.useActionState=Cg,Ps.useOptimistic=function(t,i){var a=vt();return Xe!==null?yg(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])};function Mf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:x({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Vf={isMounted:function(t){return(t=t._reactInternals)?me(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var l=vn(),h=Mr(l);h.payload=i,a!=null&&(h.callback=a),i=Vr(t,h,l),i!==null&&(an(i,t,l),ul(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=vn(),h=Mr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Vr(t,h,l),i!==null&&(an(i,t,l),ul(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=vn(),l=Mr(a);l.tag=2,i!=null&&(l.callback=i),i=Vr(t,l,a),i!==null&&(an(i,t,a),ul(i,t,a))}};function Gg(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Ko(a,l)||!Ko(h,d):!0}function $g(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Vf.enqueueReplaceState(i,i.state,null)}function Ls(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=x({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var ac=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Kg(t){ac(t)}function Qg(t){console.error(t)}function Yg(t){ac(t)}function oc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function Xg(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function kf(t,i,a){return a=Mr(a),a.tag=3,a.payload={element:null},a.callback=function(){oc(t,i)},a}function Wg(t){return t=Mr(t),t.tag=3,t}function Zg(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){Xg(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){Xg(i,a,l),typeof h!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function US(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&ll(i,a,h,!0),a=Mn.current,a!==null){switch(a.tag){case 13:return li===null?gd():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===hf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),yd(t,l,h)),!1;case 22:return a.flags|=65536,l===hf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),yd(t,l,h)),!1}throw Error(s(435,a.tag))}return yd(t,l,h),gd(),!1}if(qe)return i=Mn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==cf&&(t=Error(s(422),{cause:l}),Wo(Dn(t,a)))):(l!==cf&&(i=Error(s(423),{cause:l}),Wo(Dn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=Dn(l,a),h=kf(t.stateNode,l,h),Xf(t,h),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=Dn(d,a),_l===null?_l=[d]:_l.push(d),ct!==4&&(ct=2),i===null)return!0;l=Dn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=kf(a.stateNode,l,t),Xf(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(zr===null||!zr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Wg(h),Zg(h,t,a,l),Xf(a,h),!1}a=a.return}while(a!==null);return!1}var Jg=Error(s(461)),Pt=!1;function Ht(t,i,a,l){i.child=t===null?rg(i,null,a,l):Os(i,t.child,a,l)}function e_(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return js(i),l=yf(t,i,a,v,d,h),S=vf(),t!==null&&!Pt?(Ef(t,i,h),zi(t,i,h)):(qe&&S&&lf(i),i.flags|=1,Ht(t,i,l,h),i.child)}function t_(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!rd(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,n_(t,i,d,l,h)):(t=fc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Ff(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Ko,a(v,l)&&t.ref===i.ref)return zi(t,i,h)}return i.flags|=1,t=Ur(d,l),t.ref=i.ref,t.return=i,i.child=t}function n_(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Ko(d,l)&&t.ref===i.ref)if(Pt=!1,i.pendingProps=l=d,Ff(t,h))(t.flags&131072)!==0&&(Pt=!0);else return i.lanes=t.lanes,zi(t,i,h)}return Pf(t,i,a,l,h)}function i_(t,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(ol(t,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=v!==null?v.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return r_(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Wu(i,v!==null?v.cachePool:null),v!==null?sg(i,v):ff(),ag(i);else return i.lanes=i.childLanes=536870912,r_(t,i,v!==null?v.baseLanes|a:a,a)}else v!==null?(Wu(i,v.cachePool),sg(i,v),Ir(),i.memoizedState=null):(t!==null&&Wu(i,null),ff(),Ir());return Ht(t,i,h,a),i.child}function r_(t,i,a,l){var h=gf();return h=h===null?null:{parent:It._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Wu(i,null),ff(),ag(i),t!==null&&ll(t,i,l,!0),null}function ol(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function Pf(t,i,a,l,h){return js(i),a=yf(t,i,a,l,void 0,h),l=vf(),t!==null&&!Pt?(Ef(t,i,h),zi(t,i,h)):(qe&&l&&lf(i),i.flags|=1,Ht(t,i,a,h),i.child)}function s_(t,i,a,l,h,d){return js(i),i.updateQueue=null,a=hg(i,l,a,h),cg(t),l=vf(),t!==null&&!Pt?(Ef(t,i,d),zi(t,i,d)):(qe&&l&&lf(i),i.flags|=1,Ht(t,i,a,d),i.child)}function a_(t,i,a,l,h){if(js(i),i.stateNode===null){var d=Da,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Vf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},Qf(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qt(v):Da,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Mf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Vf.enqueueReplaceState(d,d.state,null),hl(i,l,d,h),cl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,C=Ls(a,S);d.props=C;var k=d.context,K=a.contextType;v=Da,typeof K=="object"&&K!==null&&(v=Qt(K));var Z=a.getDerivedStateFromProps;K=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||k!==v)&&$g(i,d,l,v),Or=!1;var H=i.memoizedState;d.state=H,hl(i,l,d,h),cl(),k=i.memoizedState,S||H!==k||Or?(typeof Z=="function"&&(Mf(i,a,Z,l),k=i.memoizedState),(C=Or||Gg(i,a,C,l,H,k,v))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=k),d.props=l,d.state=k,d.context=v,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,Yf(t,i),v=i.memoizedProps,K=Ls(a,v),d.props=K,Z=i.pendingProps,H=d.context,k=a.contextType,C=Da,typeof k=="object"&&k!==null&&(C=Qt(k)),S=a.getDerivedStateFromProps,(k=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||H!==C)&&$g(i,d,l,C),Or=!1,H=i.memoizedState,d.state=H,hl(i,l,d,h),cl();var $=i.memoizedState;v!==Z||H!==$||Or||t!==null&&t.dependencies!==null&&lc(t.dependencies)?(typeof S=="function"&&(Mf(i,a,S,l),$=i.memoizedState),(K=Or||Gg(i,a,K,l,H,$,C)||t!==null&&t.dependencies!==null&&lc(t.dependencies))?(k||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,$,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,$,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=$),d.props=l,d.state=$,d.context=C,l=K):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&H===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,ol(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Os(i,t.child,null,h),i.child=Os(i,null,a,h)):Ht(t,i,a,h),i.memoizedState=d.state,t=i.child):t=zi(t,i,h),t}function o_(t,i,a,l){return Xo(),i.flags|=256,Ht(t,i,a,l),i.child}var Lf={dehydrated:null,treeContext:null,retryLane:0};function Uf(t){return{baseLanes:t,cachePool:ug()}}function jf(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Ln),t}function l_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(qe){if(h?Cr(i):Ir(),qe){var S=Bt,C;if(C=S){e:{for(C=S,S=oi;C.nodeType!==8;){if(!S){S=null;break e}if(C=$n(C.nextSibling),C===null){S=null;break e}}S=C}S!==null?(i.memoizedState={dehydrated:S,treeContext:xs!==null?{id:Pi,overflow:Li}:null,retryLane:536870912},C=Pn(18,null,null,0),C.stateNode=S,C.return=i,i.child=C,sn=i,Bt=null,C=!0):C=!1}C||Ns(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return S.data==="$!"?i.lanes=16:i.lanes=536870912,null;Ui(i)}return S=l.children,l=l.fallback,h?(Ir(),h=i.mode,S=Bf({mode:"hidden",children:S},h),l=Bs(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,h=i.child,h.memoizedState=Uf(a),h.childLanes=jf(t,v,a),i.memoizedState=Lf,l):(Cr(i),zf(i,S))}if(C=t.memoizedState,C!==null&&(S=C.dehydrated,S!==null)){if(d)i.flags&256?(Cr(i),i.flags&=-257,i=Hf(t,i,a)):i.memoizedState!==null?(Ir(),i.child=t.child,i.flags|=128,i=null):(Ir(),h=l.fallback,S=i.mode,l=Bf({mode:"visible",children:l.children},S),h=Bs(h,S,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Os(i,t.child,null,a),l=i.child,l.memoizedState=Uf(a),l.childLanes=jf(t,v,a),i.memoizedState=Lf,i=h);else if(Cr(i),S.data==="$!"){if(v=S.nextSibling&&S.nextSibling.dataset,v)var k=v.dgst;v=k,l=Error(s(419)),l.stack="",l.digest=v,Wo({value:l,source:null,stack:null}),i=Hf(t,i,a)}else if(Pt||ll(t,i,a,!1),v=(a&t.childLanes)!==0,Pt||v){if(v=Je,v!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane)throw C.retryLane=l,Rr(t,l),an(v,t,l),Jg}S.data==="$?"||gd(),i=Hf(t,i,a)}else S.data==="$?"?(i.flags|=128,i.child=t.child,i=JS.bind(null,t),S._reactRetry=i,i=null):(t=C.treeContext,Bt=$n(S.nextSibling),sn=i,qe=!0,Fn=null,oi=!1,t!==null&&(Nn[On++]=Pi,Nn[On++]=Li,Nn[On++]=xs,Pi=t.id,Li=t.overflow,xs=i),i=zf(i,l.children),i.flags|=4096);return i}return h?(Ir(),h=l.fallback,S=i.mode,C=t.child,k=C.sibling,l=Ur(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&31457280,k!==null?h=Ur(k,h):(h=Bs(h,S,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,S=t.child.memoizedState,S===null?S=Uf(a):(C=S.cachePool,C!==null?(k=It._currentValue,C=C.parent!==k?{parent:k,pool:k}:C):C=ug(),S={baseLanes:S.baseLanes|a,cachePool:C}),h.memoizedState=S,h.childLanes=jf(t,v,a),i.memoizedState=Lf,l):(Cr(i),a=t.child,t=a.sibling,a=Ur(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function zf(t,i){return i=Bf({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Bf(t,i){return V_(t,i,0,null)}function Hf(t,i,a){return Os(i,t.child,null,a),t=zf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function u_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),$f(t.return,i,a)}function qf(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function c_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ht(t,i,l.children,a),l=Ct.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&u_(t,a,i);else if(t.tag===19)u_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Qe(Ct,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&Xu(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),qf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&Xu(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}qf(i,!0,a,null,d);break;case"together":qf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function zi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),jr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(ll(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ur(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ur(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Ff(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&lc(t)))}function jS(t,i,a){switch(i.tag){case 3:cr(i,i.stateNode.containerInfo),Nr(i,It,t.memoizedState.cache),Xo();break;case 27:case 5:Ro(i);break;case 4:cr(i,i.stateNode.containerInfo);break;case 10:Nr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Cr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?l_(t,i,a):(Cr(i),t=zi(t,i,a),t!==null?t.sibling:null);Cr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(ll(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return c_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Qe(Ct,Ct.current),l)break;return null;case 22:case 23:return i.lanes=0,i_(t,i,a);case 24:Nr(i,It,t.memoizedState.cache)}return zi(t,i,a)}function h_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Pt=!0;else{if(!Ff(t,a)&&(i.flags&128)===0)return Pt=!1,jS(t,i,a);Pt=(t.flags&131072)!==0}else Pt=!1,qe&&(i.flags&1048576)!==0&&Yp(i,Gu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")rd(l)?(t=Ls(l,t),i.tag=1,i=a_(null,i,l,t,a)):(i.tag=0,i=Pf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===U){i.tag=11,i=e_(null,i,l,t,a);break e}else if(h===Y){i.tag=14,i=t_(null,i,l,t,a);break e}}throw i=R(l)||l,Error(s(306,i,""))}}return i;case 0:return Pf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ls(l,i.pendingProps),a_(t,i,l,h,a);case 3:e:{if(cr(i,i.stateNode.containerInfo),t===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,Yf(t,i),hl(i,d,null,a);var v=i.memoizedState;if(d=v.cache,Nr(i,It,d),d!==h.cache&&Kf(i,[It],a,!0),cl(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=o_(t,i,d,a);break e}else if(d!==l){l=Dn(Error(s(424)),i),Wo(l),i=o_(t,i,d,a);break e}else for(Bt=$n(i.stateNode.containerInfo.firstChild),sn=i,qe=!0,Fn=null,oi=!0,a=rg(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Xo(),d===l){i=zi(t,i,a);break e}Ht(t,i,d,a)}i=i.child}return i;case 26:return ol(t,i),t===null?(a=my(i.type,null,i.pendingProps,null))?i.memoizedState=a:qe||(a=i.type,t=i.pendingProps,l=wc(Sn.current).createElement(a),l[Mt]=i,l[wt]=t,qt(l,a,t),nt(l),i.stateNode=l):i.memoizedState=my(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Ro(i),t===null&&qe&&(l=i.stateNode=hy(i.type,i.pendingProps,Sn.current),sn=i,oi=!0,Bt=$n(l.firstChild)),l=i.pendingProps.children,t!==null||qe?Ht(t,i,l,a):i.child=Os(i,null,l,a),ol(t,i),i.child;case 5:return t===null&&qe&&((h=l=Bt)&&(l=pA(l,i.type,i.pendingProps,oi),l!==null?(i.stateNode=l,sn=i,Bt=$n(l.firstChild),oi=!1,h=!0):h=!1),h||Ns(i)),Ro(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Dd(h,d)?l=null:v!==null&&Dd(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=yf(t,i,OS,null,null,a),Rl._currentValue=h),ol(t,i),Ht(t,i,l,a),i.child;case 6:return t===null&&qe&&((t=a=Bt)&&(a=gA(a,i.pendingProps,oi),a!==null?(i.stateNode=a,sn=i,Bt=null,t=!0):t=!1),t||Ns(i)),null;case 13:return l_(t,i,a);case 4:return cr(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Os(i,null,l,a):Ht(t,i,l,a),i.child;case 11:return e_(t,i,i.type,i.pendingProps,a);case 7:return Ht(t,i,i.pendingProps,a),i.child;case 8:return Ht(t,i,i.pendingProps.children,a),i.child;case 12:return Ht(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Nr(i,i.type,l.value),Ht(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,js(i),h=Qt(h),l=l(h),i.flags|=1,Ht(t,i,l,a),i.child;case 14:return t_(t,i,i.type,i.pendingProps,a);case 15:return n_(t,i,i.type,i.pendingProps,a);case 19:return c_(t,i,a);case 22:return i_(t,i,a);case 24:return js(i),l=Qt(It),t===null?(h=gf(),h===null&&(h=Je,d=mf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},Qf(i),Nr(i,It,h)):((t.lanes&a)!==0&&(Yf(t,i),hl(i,null,null,a),cl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Nr(i,It,l)):(l=d.cache,Nr(i,It,l),l!==h.cache&&Kf(i,[It],a,!0))),Ht(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Gf=Be(null),Us=null,Bi=null;function Nr(t,i,a){Qe(Gf,i._currentValue),i._currentValue=a}function Hi(t){t._currentValue=Gf.current,ot(Gf)}function $f(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function Kf(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var C=0;C<i.length;C++)if(S.context===i[C]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),$f(d.return,a,t),l||(v=null);break e}d=S.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),$f(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function ll(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var S=h.type;pn(h.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(h===ur.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}h=h.return}t!==null&&Kf(i,t,a,l),i.flags|=262144}function lc(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function js(t){Us=t,Bi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return f_(Us,t)}function uc(t,i){return Us===null&&js(t),f_(t,i)}function f_(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Bi===null){if(t===null)throw Error(s(308));Bi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Bi=Bi.next=i;return a}var Or=!1;function Qf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Yf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Mr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(rt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=qu(t),Kp(t,null,a),i}return Hu(t,l,i,a),qu(t)}function ul(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,gr(t,a)}}function Xf(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Wf=!1;function cl(){if(Wf){var t=Pa;if(t!==null)throw t}}function hl(t,i,a,l){Wf=!1;var h=t.updateQueue;Or=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var C=S,k=C.next;C.next=null,v===null?d=k:v.next=k,v=C;var K=t.alternate;K!==null&&(K=K.updateQueue,S=K.lastBaseUpdate,S!==v&&(S===null?K.firstBaseUpdate=k:S.next=k,K.lastBaseUpdate=C))}if(d!==null){var Z=h.baseState;v=0,K=k=C=null,S=d;do{var H=S.lane&-536870913,$=H!==S.lane;if($?(je&H)===H:(l&H)===H){H!==0&&H===ka&&(Wf=!0),K!==null&&(K=K.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ce=t,Ae=S;H=i;var ht=a;switch(Ae.tag){case 1:if(ce=Ae.payload,typeof ce=="function"){Z=ce.call(ht,Z,H);break e}Z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=Ae.payload,H=typeof ce=="function"?ce.call(ht,Z,H):ce,H==null)break e;Z=x({},Z,H);break e;case 2:Or=!0}}H=S.callback,H!==null&&(t.flags|=64,$&&(t.flags|=8192),$=h.callbacks,$===null?h.callbacks=[H]:$.push(H))}else $={lane:H,tag:S.tag,payload:S.payload,callback:S.callback,next:null},K===null?(k=K=$,C=Z):K=K.next=$,v|=H;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;$=S,S=$.next,$.next=null,h.lastBaseUpdate=$,h.shared.pending=null}}while(!0);K===null&&(C=Z),h.baseState=C,h.firstBaseUpdate=k,h.lastBaseUpdate=K,d===null&&(h.shared.lanes=0),jr|=v,t.lanes=v,t.memoizedState=Z}}function d_(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function m_(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)d_(a[t],i)}function fl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(S){Ze(i,i.return,S)}}function kr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,h=i;var C=a;try{S()}catch(k){Ze(h,C,k)}}}l=l.next}while(l!==d)}}catch(k){Ze(i,i.return,k)}}function p_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{m_(i,a)}catch(l){Ze(t,t.return,l)}}}function g_(t,i,a){a.props=Ls(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,i,l)}}function zs(t,i){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){Ze(t,i,d)}}function gn(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,i,h)}else a.current=null}function __(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function y_(t,i,a){try{var l=t.stateNode;cA(l,t.type,a,i),l[wt]=i}catch(h){Ze(t,t.return,h)}}function v_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function Zf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||v_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jf(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Ac));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Jf(t,i,a),t=t.sibling;t!==null;)Jf(t,i,a),t=t.sibling}function cc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(cc(t,i,a),t=t.sibling;t!==null;)cc(t,i,a),t=t.sibling}var qi=!1,ut=!1,ed=!1,E_=typeof WeakSet=="function"?WeakSet:Set,Lt=null,T_=!1;function zS(t,i){if(t=t.containerInfo,Id=Dc,t=Up(t),tf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,S=-1,C=-1,k=0,K=0,Z=t,H=null;t:for(;;){for(var $;Z!==a||h!==0&&Z.nodeType!==3||(S=v+h),Z!==d||l!==0&&Z.nodeType!==3||(C=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),($=Z.firstChild)!==null;)H=Z,Z=$;for(;;){if(Z===t)break t;if(H===a&&++k===h&&(S=v),H===d&&++K===l&&(C=v),($=Z.nextSibling)!==null)break;Z=H,H=Z.parentNode}Z=$}a=S===-1||C===-1?null:{start:S,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(xd={focusedElem:t,selectionRange:a},Dc=!1,Lt=i;Lt!==null;)if(i=Lt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Lt=t;else for(;Lt!==null;){switch(i=Lt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=Ls(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){Ze(a,a.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Md(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Md(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Lt=t;break}Lt=i.return}return ce=T_,T_=!1,ce}function S_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Gi(t,a),l&4&&fl(5,a);break;case 1:if(Gi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(S){Ze(a,a.return,S)}else{var h=Ls(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(S){Ze(a,a.return,S)}}l&64&&p_(a),l&512&&zs(a,a.return);break;case 3:if(Gi(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{m_(l,t)}catch(S){Ze(a,a.return,S)}}break;case 26:Gi(t,a),l&512&&zs(a,a.return);break;case 27:case 5:Gi(t,a),i===null&&l&4&&__(a),l&512&&zs(a,a.return);break;case 12:Gi(t,a);break;case 13:Gi(t,a),l&4&&b_(t,a);break;case 22:if(h=a.memoizedState!==null||qi,!h){i=i!==null&&i.memoizedState!==null||ut;var d=qi,v=ut;qi=h,(ut=i)&&!v?Pr(t,a,(a.subtreeFlags&8772)!==0):Gi(t,a),qi=d,ut=v}l&512&&(a.memoizedProps.mode==="manual"?zs(a,a.return):gn(a,a.return));break;default:Gi(t,a)}}function A_(t){var i=t.alternate;i!==null&&(t.alternate=null,A_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&gs(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Et=null,_n=!1;function Fi(t,i,a){for(a=a.child;a!==null;)w_(t,i,a),a=a.sibling}function w_(t,i,a){if(Kt&&typeof Kt.onCommitFiberUnmount=="function")try{Kt.onCommitFiberUnmount(hr,a)}catch{}switch(a.tag){case 26:ut||gn(a,i),Fi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ut||gn(a,i);var l=Et,h=_n;for(Et=a.stateNode,Fi(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);gs(a),Et=l,_n=h;break;case 5:ut||gn(a,i);case 6:h=Et;var d=_n;if(Et=null,Fi(t,i,a),Et=h,_n=d,Et!==null)if(_n)try{t=Et,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(v){Ze(a,i,v)}else try{Et.removeChild(a.stateNode)}catch(v){Ze(a,i,v)}break;case 18:Et!==null&&(_n?(i=Et,a=a.stateNode,i.nodeType===8?Od(i.parentNode,a):i.nodeType===1&&Od(i,a),Dl(i)):Od(Et,a.stateNode));break;case 4:l=Et,h=_n,Et=a.stateNode.containerInfo,_n=!0,Fi(t,i,a),Et=l,_n=h;break;case 0:case 11:case 14:case 15:ut||kr(2,a,i),ut||kr(4,a,i),Fi(t,i,a);break;case 1:ut||(gn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&g_(a,i,l)),Fi(t,i,a);break;case 21:Fi(t,i,a);break;case 22:ut||gn(a,i),ut=(l=ut)||a.memoizedState!==null,Fi(t,i,a),ut=l;break;default:Fi(t,i,a)}}function b_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Dl(t)}catch(a){Ze(i,i.return,a)}}function BS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new E_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new E_),i;default:throw Error(s(435,t.tag))}}function td(t,i){var a=BS(t);i.forEach(function(l){var h=eA.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Vn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,S=v;e:for(;S!==null;){switch(S.tag){case 27:case 5:Et=S.stateNode,_n=!1;break e;case 3:Et=S.stateNode.containerInfo,_n=!0;break e;case 4:Et=S.stateNode.containerInfo,_n=!0;break e}S=S.return}if(Et===null)throw Error(s(160));w_(d,v,h),Et=null,_n=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)R_(i,t),i=i.sibling}var Gn=null;function R_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Vn(i,t),kn(t),l&4&&(kr(3,t,t.return),fl(3,t),kr(5,t,t.return));break;case 1:Vn(i,t),kn(t),l&512&&(ut||a===null||gn(a,a.return)),l&64&&qi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Gn;if(Vn(i,t),kn(t),l&512&&(ut||a===null||gn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[yr]||d[Mt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),qt(d,l,a),d[Mt]=t,nt(d),l=d;break e;case"link":var v=_y("link","href",h).get(l+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(d=v[S],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=_y("meta","content",h).get(l+(a.content||""))){for(S=0;S<v.length;S++)if(d=v[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Mt]=t,nt(d),l=d}t.stateNode=l}else yy(h,t.type,t.stateNode);else t.stateNode=gy(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?yy(h,t.type,t.stateNode):gy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&y_(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var C=h.firstChild;C;){var k=C.nextSibling,K=C.nodeName;C[yr]||K==="HEAD"||K==="BODY"||K==="SCRIPT"||K==="STYLE"||K==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=k}for(var Z=t.type,H=h.attributes;H.length;)h.removeAttributeNode(H[0]);qt(h,Z,d),h[Mt]=t,h[wt]=d}catch(ce){Ze(t,t.return,ce)}}case 5:if(Vn(i,t),kn(t),l&512&&(ut||a===null||gn(a,a.return)),t.flags&32){h=t.stateNode;try{bn(h,"")}catch(ce){Ze(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,y_(t,h,a!==null?a.memoizedProps:h)),l&1024&&(ed=!0);break;case 6:if(Vn(i,t),kn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Ze(t,t.return,ce)}}break;case 3:if(Cc=null,h=Gn,Gn=bc(i.containerInfo),Vn(i,t),Gn=h,kn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Dl(i.containerInfo)}catch(ce){Ze(t,t.return,ce)}ed&&(ed=!1,C_(t));break;case 4:l=Gn,Gn=bc(t.stateNode.containerInfo),Vn(i,t),kn(t),Gn=l;break;case 12:Vn(i,t),kn(t);break;case 13:Vn(i,t),kn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(cd=ln()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,td(t,l)));break;case 22:if(l&512&&(ut||a===null||gn(a,a.return)),C=t.memoizedState!==null,k=a!==null&&a.memoizedState!==null,K=qi,Z=ut,qi=K||C,ut=Z||k,Vn(i,t),ut=Z,qi=K,kn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=C?i._visibility&-2:i._visibility|1,C&&(i=qi||ut,a===null||k||i||za(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){k=a=i;try{if(h=k.stateNode,C)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=k.stateNode,S=k.memoizedProps.style;var $=S!=null&&S.hasOwnProperty("display")?S.display:null;v.style.display=$==null||typeof $=="boolean"?"":(""+$).trim()}}catch(ce){Ze(k,k.return,ce)}}}else if(i.tag===6){if(a===null){k=i;try{k.stateNode.nodeValue=C?"":k.memoizedProps}catch(ce){Ze(k,k.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,td(t,a))));break;case 19:Vn(i,t),kn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,td(t,l)));break;case 21:break;default:Vn(i,t),kn(t)}}function kn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(v_(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=Zf(t);cc(t,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(bn(v,""),l.flags&=-33);var S=Zf(t);cc(t,S,v);break;case 3:case 4:var C=l.stateNode.containerInfo,k=Zf(t);Jf(t,k,C);break;default:throw Error(s(161))}}}catch(K){Ze(t,t.return,K)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function C_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;C_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Gi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)S_(t,i.alternate,i),i=i.sibling}function za(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:kr(4,i,i.return),za(i);break;case 1:gn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&g_(i,i.return,a),za(i);break;case 26:case 27:case 5:gn(i,i.return),za(i);break;case 22:gn(i,i.return),i.memoizedState===null&&za(i);break;default:za(i)}t=t.sibling}}function Pr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:Pr(h,d,a),fl(4,d);break;case 1:if(Pr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(k){Ze(l,l.return,k)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)d_(C[h],S)}catch(k){Ze(l,l.return,k)}}a&&v&64&&p_(d),zs(d,d.return);break;case 26:case 27:case 5:Pr(h,d,a),a&&l===null&&v&4&&__(d),zs(d,d.return);break;case 12:Pr(h,d,a);break;case 13:Pr(h,d,a),a&&v&4&&b_(h,d);break;case 22:d.memoizedState===null&&Pr(h,d,a),zs(d,d.return);break;default:Pr(h,d,a)}i=i.sibling}}function nd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&nl(a))}function id(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t))}function Lr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)I_(t,i,a,l),i=i.sibling}function I_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Lr(t,i,a,l),h&2048&&fl(9,i);break;case 3:Lr(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&nl(t)));break;case 12:if(h&2048){Lr(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,S=d.onPostCommit;typeof S=="function"&&S(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Ze(i,i.return,C)}}else Lr(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Lr(t,i,a,l):dl(t,i):d._visibility&4?Lr(t,i,a,l):(d._visibility|=4,Ba(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&nd(i.alternate,i);break;case 24:Lr(t,i,a,l),h&2048&&id(i.alternate,i);break;default:Lr(t,i,a,l)}}function Ba(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,S=a,C=l,k=v.flags;switch(v.tag){case 0:case 11:case 15:Ba(d,v,S,C,h),fl(8,v);break;case 23:break;case 22:var K=v.stateNode;v.memoizedState!==null?K._visibility&4?Ba(d,v,S,C,h):dl(d,v):(K._visibility|=4,Ba(d,v,S,C,h)),h&&k&2048&&nd(v.alternate,v);break;case 24:Ba(d,v,S,C,h),h&&k&2048&&id(v.alternate,v);break;default:Ba(d,v,S,C,h)}i=i.sibling}}function dl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:dl(a,l),h&2048&&nd(l.alternate,l);break;case 24:dl(a,l),h&2048&&id(l.alternate,l);break;default:dl(a,l)}i=i.sibling}}var ml=8192;function Ha(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)x_(t),t=t.sibling}function x_(t){switch(t.tag){case 26:Ha(t),t.flags&ml&&t.memoizedState!==null&&xA(Gn,t.memoizedState,t.memoizedProps);break;case 5:Ha(t);break;case 3:case 4:var i=Gn;Gn=bc(t.stateNode.containerInfo),Ha(t),Gn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=ml,ml=16777216,Ha(t),ml=i):Ha(t));break;default:Ha(t)}}function D_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function pl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,O_(l,t)}D_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)N_(t),t=t.sibling}function N_(t){switch(t.tag){case 0:case 11:case 15:pl(t),t.flags&2048&&kr(9,t,t.return);break;case 3:pl(t);break;case 12:pl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,hc(t)):pl(t);break;default:pl(t)}}function hc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,O_(l,t)}D_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:kr(8,i,i.return),hc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,hc(i));break;default:hc(i)}t=t.sibling}}function O_(t,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:kr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:nl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=t;Lt!==null;){l=Lt;var h=l.sibling,d=l.return;if(A_(l),l===a){Lt=null;break e}if(h!==null){h.return=d,Lt=h;break e}Lt=d}}}function HS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,i,a,l){return new HS(t,i,a,l)}function rd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ur(t,i){var a=t.alternate;return a===null?(a=Pn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function M_(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function fc(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")rd(t)&&(v=1);else if(typeof t=="string")v=CA(t,a,en.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Bs(a.children,h,d,i);case _:v=8,h|=24;break;case T:return t=Pn(12,a,i,h|2),t.elementType=T,t.lanes=d,t;case Q:return t=Pn(13,a,i,h),t.elementType=Q,t.lanes=d,t;case F:return t=Pn(19,a,i,h),t.elementType=F,t.lanes=d,t;case ee:return V_(a,h,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b:case P:v=10;break e;case I:v=9;break e;case U:v=11;break e;case Y:v=14;break e;case ne:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Pn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Bs(t,i,a,l){return t=Pn(7,t,l,i),t.lanes=a,t}function V_(t,i,a,l){t=Pn(22,t,l,i),t.elementType=ee,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var v=Rr(d,2);v!==null&&(h._pendingVisibility|=2,an(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var v=Rr(d,2);v!==null&&(h._pendingVisibility&=-3,an(v,d,2))}}};return t.stateNode=h,t}function sd(t,i,a){return t=Pn(6,t,null,i),t.lanes=a,t}function ad(t,i,a){return i=Pn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function $i(t){t.flags|=4}function k_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!vy(i)){if(i=Mn.current,i!==null&&((je&4194176)===je?li!==null:(je&62914560)!==je&&(je&536870912)===0||i!==li))throw Jo=hf,Zp;t.flags|=8192}}function dc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?mr():536870912,t.lanes|=i,Fa|=i)}function gl(t,i){if(!qe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function qS(t,i,a){var l=i.pendingProps;switch(uf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Hi(It),bi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Yo(i)?$i(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Fn!==null&&(md(Fn),Fn=null))),it(i),null;case 26:return a=i.memoizedState,t===null?($i(i),a!==null?(it(i),k_(i,a)):(it(i),i.flags&=-16777217)):a?a!==t.memoizedState?($i(i),it(i),k_(i,a)):(it(i),i.flags&=-16777217):(t.memoizedProps!==l&&$i(i),it(i),i.flags&=-16777217),null;case 27:ua(i),a=Sn.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&$i(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}t=en.current,Yo(i)?Xp(i):(t=hy(h,l,a),i.stateNode=t,$i(i))}return it(i),null;case 5:if(ua(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&$i(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(t=en.current,Yo(i))Xp(i);else{switch(h=wc(Sn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Mt]=i,t[wt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(qt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&$i(i)}}return it(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&$i(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Sn.current,Yo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=sn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Mt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||sy(t.nodeValue,a)),t||Ns(i)}else t=wc(t).createTextNode(l),t[Mt]=i,i.stateNode=t}return it(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Yo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Mt]=i}else Xo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else Fn!==null&&(md(Fn),Fn=null),h=!0;if(!h)return i.flags&256?(Ui(i),i):(Ui(i),null)}if(Ui(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),dc(i,i.updateQueue),it(i),null;case 4:return bi(),t===null&&bd(i.stateNode.containerInfo),it(i),null;case 10:return Hi(i.type),it(i),null;case 19:if(ot(Ct),h=i.memoizedState,h===null)return it(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)gl(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=Xu(t),d!==null){for(i.flags|=128,gl(h,!1),t=d.updateQueue,i.updateQueue=t,dc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)M_(a,t),a=a.sibling;return Qe(Ct,Ct.current&1|2),i.child}t=t.sibling}h.tail!==null&&ln()>mc&&(i.flags|=128,l=!0,gl(h,!1),i.lanes=4194304)}else{if(!l)if(t=Xu(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,dc(i,t),gl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return it(i),null}else 2*ln()-h.renderingStartTime>mc&&a!==536870912&&(i.flags|=128,l=!0,gl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=ln(),i.sibling=null,t=Ct.current,Qe(Ct,l?t&1|2:t&1),i):(it(i),null);case 22:case 23:return Ui(i),df(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&dc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ot(Ms),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Hi(It),it(i),null;case 25:return null}throw Error(s(156,i.tag))}function FS(t,i){switch(uf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Hi(It),bi(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ua(i),null;case 13:if(Ui(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));Xo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ot(Ct),null;case 4:return bi(),null;case 10:return Hi(i.type),null;case 22:case 23:return Ui(i),df(),t!==null&&ot(Ms),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Hi(It),null;case 25:return null;default:return null}}function P_(t,i){switch(uf(i),i.tag){case 3:Hi(It),bi();break;case 26:case 27:case 5:ua(i);break;case 4:bi();break;case 13:Ui(i);break;case 19:ot(Ct);break;case 10:Hi(i.type);break;case 22:case 23:Ui(i),df(),t!==null&&ot(Ms);break;case 24:Hi(It)}}var GS={getCacheForType:function(t){var i=Qt(It),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},$S=typeof WeakMap=="function"?WeakMap:Map,rt=0,Je=null,Ne=null,je=0,et=0,yn=null,Ki=!1,qa=!1,od=!1,Qi=0,ct=0,jr=0,Hs=0,ld=0,Ln=0,Fa=0,_l=null,ci=null,ud=!1,cd=0,mc=1/0,pc=null,zr=null,gc=!1,qs=null,yl=0,hd=0,fd=null,vl=0,dd=null;function vn(){if((rt&2)!==0&&je!==0)return je&-je;if(w.T!==null){var t=ka;return t!==0?t:Td()}return Su()}function L_(){Ln===0&&(Ln=(je&536870912)===0||qe?No():536870912);var t=Mn.current;return t!==null&&(t.flags|=32),Ln}function an(t,i,a){(t===Je&&et===2||t.cancelPendingCommit!==null)&&(Ga(t,0),Yi(t,je,Ln,!1)),dt(t,a),((rt&2)===0||t!==Je)&&(t===Je&&((rt&2)===0&&(Hs|=a),ct===4&&Yi(t,je,Ln,!1)),hi(t))}function U_(t,i,a){if((rt&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&t.expiredLanes)===0||dr(t,i),h=l?YS(t,i):_d(t,i,!0),d=l;do{if(h===0){qa&&!l&&Yi(t,i,0,!1);break}else if(h===6)Yi(t,i,0,!Ki);else{if(a=t.current.alternate,d&&!KS(a)){h=_d(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var S=t;h=_l;var C=S.current.memoizedState.isDehydrated;if(C&&(Ga(S,v).flags|=256),v=_d(S,v,!1),v!==2){if(od&&!C){S.errorRecoveryDisabledLanes|=d,Hs|=d,h=4;break e}d=ci,ci=h,d!==null&&md(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Ga(t,0),Yi(t,i,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Yi(l,i,Ln,!Ki);break e}break;case 2:ci=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=cd+300-ln(),10<d)){if(Yi(l,i,Ln,!Ki),An(l,0)!==0)break e;l.timeoutHandle=ly(j_.bind(null,l,a,ci,pc,ud,i,Ln,Hs,Fa,Ki,2,-0,0),d);break e}j_(l,a,ci,pc,ud,i,Ln,Hs,Fa,Ki,0,-0,0)}}break}while(!0);hi(t)}function md(t){ci===null?ci=t:ci.push.apply(ci,t)}function j_(t,i,a,l,h,d,v,S,C,k,K,Z,H){var $=i.subtreeFlags;if(($&8192||($&16785408)===16785408)&&(bl={stylesheets:null,count:0,unsuspend:IA},x_(i),i=DA(),i!==null)){t.cancelPendingCommit=i($_.bind(null,t,a,l,h,v,S,C,1,Z,H)),Yi(t,d,v,!k);return}$_(t,a,l,h,v,S,C,K,Z,H)}function KS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Yi(t,i,a,l){i&=~ld,i&=~Hs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-tn(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&pr(t,a,i)}function _c(){return(rt&6)===0?(El(0),!1):!0}function pd(){if(Ne!==null){if(et===0)var t=Ne.return;else t=Ne,Bi=Us=null,Tf(t),Ma=null,el=0,t=Ne;for(;t!==null;)P_(t.alternate,t),t=t.return;Ne=null}}function Ga(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,fA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),pd(),Je=t,Ne=a=Ur(t.current,null),je=i,et=0,yn=null,Ki=!1,qa=dr(t,i),od=!1,Fa=Ln=ld=Hs=jr=ct=0,ci=_l=null,ud=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-tn(l),d=1<<h;i|=t[h],l&=~d}return Qi=i,Bu(),a}function z_(t,i){xe=null,w.H=ui,i===Zo?(i=tg(),et=3):i===Zp?(i=tg(),et=4):et=i===Jg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,yn=i,Ne===null&&(ct=1,oc(t,Dn(i,t.current)))}function B_(){var t=w.H;return w.H=ui,t===null?ui:t}function H_(){var t=w.A;return w.A=GS,t}function gd(){ct=4,Ki||(je&4194176)!==je&&Mn.current!==null||(qa=!0),(jr&134217727)===0&&(Hs&134217727)===0||Je===null||Yi(Je,je,Ln,!1)}function _d(t,i,a){var l=rt;rt|=2;var h=B_(),d=H_();(Je!==t||je!==i)&&(pc=null,Ga(t,i)),i=!1;var v=ct;e:do try{if(et!==0&&Ne!==null){var S=Ne,C=yn;switch(et){case 8:pd(),v=6;break e;case 3:case 2:case 6:Mn.current===null&&(i=!0);var k=et;if(et=0,yn=null,$a(t,S,C,k),a&&qa){v=0;break e}break;default:k=et,et=0,yn=null,$a(t,S,C,k)}}QS(),v=ct;break}catch(K){z_(t,K)}while(!0);return i&&t.shellSuspendCounter++,Bi=Us=null,rt=l,w.H=h,w.A=d,Ne===null&&(Je=null,je=0,Bu()),v}function QS(){for(;Ne!==null;)q_(Ne)}function YS(t,i){var a=rt;rt|=2;var l=B_(),h=H_();Je!==t||je!==i?(pc=null,mc=ln()+500,Ga(t,i)):qa=dr(t,i);e:do try{if(et!==0&&Ne!==null){i=Ne;var d=yn;t:switch(et){case 1:et=0,yn=null,$a(t,i,d,1);break;case 2:if(Jp(d)){et=0,yn=null,F_(i);break}i=function(){et===2&&Je===t&&(et=7),hi(t)},d.then(i,i);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:Jp(d)?(et=0,yn=null,F_(i)):(et=0,yn=null,$a(t,i,d,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var S=Ne;if(!v||vy(v)){et=0,yn=null;var C=S.sibling;if(C!==null)Ne=C;else{var k=S.return;k!==null?(Ne=k,yc(k)):Ne=null}break t}}et=0,yn=null,$a(t,i,d,5);break;case 6:et=0,yn=null,$a(t,i,d,6);break;case 8:pd(),ct=6;break e;default:throw Error(s(462))}}XS();break}catch(K){z_(t,K)}while(!0);return Bi=Us=null,w.H=l,w.A=h,rt=a,Ne!==null?0:(Je=null,je=0,Bu(),ct)}function XS(){for(;Ne!==null&&!Fh();)q_(Ne)}function q_(t){var i=h_(t.alternate,t,Qi);t.memoizedProps=t.pendingProps,i===null?yc(t):Ne=i}function F_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=s_(a,i,i.pendingProps,i.type,void 0,je);break;case 11:i=s_(a,i,i.pendingProps,i.type.render,i.ref,je);break;case 5:Tf(i);default:P_(a,i),i=Ne=M_(i,Qi),i=h_(a,i,Qi)}t.memoizedProps=t.pendingProps,i===null?yc(t):Ne=i}function $a(t,i,a,l){Bi=Us=null,Tf(i),Ma=null,el=0;var h=i.return;try{if(US(t,h,i,a,je)){ct=1,oc(t,Dn(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ct=1,oc(t,Dn(a,t.current)),Ne=null;return}i.flags&32768?(qe||l===1?t=!0:qa||(je&536870912)!==0?t=!1:(Ki=t=!0,(l===2||l===3||l===6)&&(l=Mn.current,l!==null&&l.tag===13&&(l.flags|=16384))),G_(i,t)):yc(i)}function yc(t){var i=t;do{if((i.flags&32768)!==0){G_(i,Ki);return}t=i.return;var a=qS(i.alternate,i,Qi);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ct===0&&(ct=5)}function G_(t,i){do{var a=FS(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ct=6,Ne=null}function $_(t,i,a,l,h,d,v,S,C,k){var K=w.T,Z=ae.p;try{ae.p=2,w.T=null,WS(t,i,a,l,Z,h,d,v,S,C,k)}finally{w.T=K,ae.p=Z}}function WS(t,i,a,l,h,d,v,S){do Ka();while(qs!==null);if((rt&6)!==0)throw Error(s(327));var C=t.finishedWork;if(l=t.finishedLanes,C===null)return null;if(t.finishedWork=null,t.finishedLanes=0,C===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var k=C.lanes|C.childLanes;if(k|=af,Eu(t,l,k,d,v,S),t===Je&&(Ne=Je=null,je=0),(C.subtreeFlags&10256)===0&&(C.flags&10256)===0||gc||(gc=!0,hd=k,fd=a,tA(Ri,function(){return Ka(),null})),a=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||a?(a=w.T,w.T=null,d=ae.p,ae.p=2,v=rt,rt|=4,zS(t,C),R_(C,t),TS(xd,t.containerInfo),Dc=!!Id,xd=Id=null,t.current=C,S_(t,C.alternate,C),Co(),rt=v,ae.p=d,w.T=a):t.current=C,gc?(gc=!1,qs=t,yl=l):K_(t,k),k=t.pendingLanes,k===0&&(zr=null),xo(C.stateNode),hi(t),i!==null)for(h=t.onRecoverableError,C=0;C<i.length;C++)k=i[C],h(k.value,{componentStack:k.stack});return(yl&3)!==0&&Ka(),k=t.pendingLanes,(l&4194218)!==0&&(k&42)!==0?t===dd?vl++:(vl=0,dd=t):vl=0,El(0),null}function K_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,nl(i)))}function Ka(){if(qs!==null){var t=qs,i=hd;hd=0;var a=Tu(yl),l=w.T,h=ae.p;try{if(ae.p=32>a?32:a,w.T=null,qs===null)var d=!1;else{a=fd,fd=null;var v=qs,S=yl;if(qs=null,yl=0,(rt&6)!==0)throw Error(s(331));var C=rt;if(rt|=4,N_(v.current),I_(v,v.current,S,a),rt=C,El(0,!1),Kt&&typeof Kt.onPostCommitFiberRoot=="function")try{Kt.onPostCommitFiberRoot(hr,v)}catch{}d=!0}return d}finally{ae.p=h,w.T=l,K_(t,i)}}return!1}function Q_(t,i,a){i=Dn(a,i),i=kf(t.stateNode,i,2),t=Vr(t,i,2),t!==null&&(dt(t,2),hi(t))}function Ze(t,i,a){if(t.tag===3)Q_(t,t,a);else for(;i!==null;){if(i.tag===3){Q_(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zr===null||!zr.has(l))){t=Dn(a,t),a=Wg(2),l=Vr(i,a,2),l!==null&&(Zg(a,l,i,t),dt(l,2),hi(l));break}}i=i.return}}function yd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new $S;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(od=!0,h.add(a),t=ZS.bind(null,t,i,a),i.then(t,t))}function ZS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(je&a)===a&&(ct===4||ct===3&&(je&62914560)===je&&300>ln()-cd?(rt&2)===0&&Ga(t,0):ld|=a,Fa===je&&(Fa=0)),hi(t)}function Y_(t,i){i===0&&(i=mr()),t=Rr(t,i),t!==null&&(dt(t,i),hi(t))}function JS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Y_(t,a)}function eA(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Y_(t,a)}function tA(t,i){return ds(t,i)}var vc=null,Qa=null,vd=!1,Ec=!1,Ed=!1,Fs=0;function hi(t){t!==Qa&&t.next===null&&(Qa===null?vc=Qa=t:Qa=Qa.next=t),Ec=!0,vd||(vd=!0,iA(nA))}function El(t,i){if(!Ed&&Ec){Ed=!0;do for(var a=!1,l=vc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-tn(42|t)+1)-1,d&=h&~(v&~S),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,Z_(l,d))}else d=je,d=An(l,l===Je?d:0),(d&3)===0||dr(l,d)||(a=!0,Z_(l,d));l=l.next}while(a);Ed=!1}}function nA(){Ec=vd=!1;var t=0;Fs!==0&&(hA()&&(t=Fs),Fs=0);for(var i=ln(),a=null,l=vc;l!==null;){var h=l.next,d=X_(l,i);d===0?(l.next=null,a===null?vc=h:a.next=h,h===null&&(Qa=a)):(a=l,(t!==0||(d&3)!==0)&&(Ec=!0)),l=h}El(t)}function X_(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-tn(d),S=1<<v,C=h[v];C===-1?((S&a)===0||(S&l)!==0)&&(h[v]=fa(S,i)):C<=i&&(t.expiredLanes|=S),d&=~S}if(i=Je,a=je,a=An(t,t===i?a:0),l=t.callbackNode,a===0||t===i&&et===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ha(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||dr(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ha(l),Tu(a)){case 2:case 8:a=Ot;break;case 32:a=Ri;break;case 268435456:a=Io;break;default:a=Ri}return l=W_.bind(null,t),a=ds(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ha(l),t.callbackPriority=2,t.callbackNode=null,2}function W_(t,i){var a=t.callbackNode;if(Ka()&&t.callbackNode!==a)return null;var l=je;return l=An(t,t===Je?l:0),l===0?null:(U_(t,l,i),X_(t,ln()),t.callbackNode!=null&&t.callbackNode===a?W_.bind(null,t):null)}function Z_(t,i){if(Ka())return null;U_(t,i,!0)}function iA(t){dA(function(){(rt&6)!==0?ds(At,t):t()})}function Td(){return Fs===0&&(Fs=No()),Fs}function J_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ei(""+t)}function ey(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function rA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=J_((h[wt]||null).action),v=l.submitter;v&&(i=(i=v[wt]||null)?J_(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var S=new va("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Fs!==0){var C=v?ey(h,v):new FormData(h);Df(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(S.preventDefault(),C=v?ey(h,v):new FormData(h),Df(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Sd=0;Sd<$p.length;Sd++){var Ad=$p[Sd],sA=Ad.toLowerCase(),aA=Ad[0].toUpperCase()+Ad.slice(1);qn(sA,"on"+aA)}qn(Bp,"onAnimationEnd"),qn(Hp,"onAnimationIteration"),qn(qp,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(AS,"onTransitionRun"),qn(wS,"onTransitionStart"),qn(bS,"onTransitionCancel"),qn(Fp,"onTransitionEnd"),un("onMouseEnter",["mouseout","mouseover"]),un("onMouseLeave",["mouseout","mouseover"]),un("onPointerEnter",["pointerout","pointerover"]),un("onPointerLeave",["pointerout","pointerover"]),dn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),dn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),dn("onBeforeInput",["compositionend","keypress","textInput","paste"]),dn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),dn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tl));function ty(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var S=l[v],C=S.instance,k=S.currentTarget;if(S=S.listener,C!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=k;try{d(h)}catch(K){ac(K)}h.currentTarget=null,d=C}else for(v=0;v<l.length;v++){if(S=l[v],C=S.instance,k=S.currentTarget,S=S.listener,C!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=k;try{d(h)}catch(K){ac(K)}h.currentTarget=null,d=C}}}}function ke(t,i){var a=i[ps];a===void 0&&(a=i[ps]=new Set);var l=t+"__bubble";a.has(l)||(ny(i,t,2,!1),a.add(l))}function wd(t,i,a){var l=0;i&&(l|=4),ny(a,t,l,i)}var Tc="_reactListening"+Math.random().toString(36).slice(2);function bd(t){if(!t[Tc]){t[Tc]=!0,Mo.forEach(function(a){a!=="selectionchange"&&(oA.has(a)||wd(a,!1,t),wd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Tc]||(i[Tc]=!0,wd("selectionchange",!1,i))}}function ny(t,i,a,l){switch(by(i)){case 2:var h=MA;break;case 8:h=VA;break;default:h=Ud}a=h.bind(null,i,a,t),h=void 0,!Cn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Rd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===h||S.nodeType===8&&S.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var C=v.tag;if((C===3||C===4)&&(C=v.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;v=v.return}for(;S!==null;){if(v=Hn(S),v===null)return;if(C=v.tag,C===5||C===6||C===26||C===27){l=d=v;continue e}S=S.parentNode}}l=l.return}Ru(function(){var k=d,K=ya(a),Z=[];e:{var H=Gp.get(t);if(H!==void 0){var $=va,ce=t;switch(t){case"keypress":if(ni(a)===0)break e;case"keydown":case"keyup":$=ba;break;case"focusin":ce="focus",$=Sa;break;case"focusout":ce="blur",$=Sa;break;case"beforeblur":case"afterblur":$=Sa;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=In;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Wh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=Vu;break;case Bp:case Hp:case qp:$=Aa;break;case Fp:$=Pu;break;case"scroll":case"scrollend":$=Cu;break;case"wheel":$=Ra;break;case"copy":case"cut":case"paste":$=wa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Go;break;case"toggle":case"beforetoggle":$=Uu}var Ae=(i&4)!==0,ht=!Ae&&(t==="scroll"||t==="scrollend"),L=Ae?H!==null?H+"Capture":null:H;Ae=[];for(var O=k,B;O!==null;){var X=O;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||L===null||(X=Es(O,L),X!=null&&Ae.push(Sl(O,X,B))),ht)break;O=O.return}0<Ae.length&&(H=new $(H,ce,null,a,K),Z.push({event:H,listeners:Ae}))}}if((i&7)===0){e:{if(H=t==="mouseover"||t==="pointerover",$=t==="mouseout"||t==="pointerout",H&&a!==Rn&&(ce=a.relatedTarget||a.fromElement)&&(Hn(ce)||ce[Ci]))break e;if(($||H)&&(H=K.window===K?K:(H=K.ownerDocument)?H.defaultView||H.parentWindow:window,$?(ce=a.relatedTarget||a.toElement,$=k,ce=ce?Hn(ce):null,ce!==null&&(ht=me(ce),Ae=ce.tag,ce!==ht||Ae!==5&&Ae!==27&&Ae!==6)&&(ce=null)):($=null,ce=k),$!==ce)){if(Ae=In,X="onMouseLeave",L="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=Go,X="onPointerLeave",L="onPointerEnter",O="pointer"),ht=$==null?H:vr($),B=ce==null?H:vr(ce),H=new Ae(X,O+"leave",$,a,K),H.target=ht,H.relatedTarget=B,X=null,Hn(K)===k&&(Ae=new Ae(L,O+"enter",ce,a,K),Ae.target=B,Ae.relatedTarget=ht,X=Ae),ht=X,$&&ce)t:{for(Ae=$,L=ce,O=0,B=Ae;B;B=Ya(B))O++;for(B=0,X=L;X;X=Ya(X))B++;for(;0<O-B;)Ae=Ya(Ae),O--;for(;0<B-O;)L=Ya(L),B--;for(;O--;){if(Ae===L||L!==null&&Ae===L.alternate)break t;Ae=Ya(Ae),L=Ya(L)}Ae=null}else Ae=null;$!==null&&iy(Z,H,$,Ae,!1),ce!==null&&ht!==null&&iy(Z,ht,ce,Ae,!0)}}e:{if(H=k?vr(k):window,$=H.nodeName&&H.nodeName.toLowerCase(),$==="select"||$==="input"&&H.type==="file")var le=Dp;else if(Rt(H))if(Np)le=vS;else{le=_S;var De=gS}else $=H.nodeName,!$||$.toLowerCase()!=="input"||H.type!=="checkbox"&&H.type!=="radio"?k&&Uo(k.elementType)&&(le=Dp):le=yS;if(le&&(le=le(t,k))){ki(Z,le,a,K);break e}De&&De(t,H,k),t==="focusout"&&k&&H.type==="number"&&k.memoizedProps.value!=null&&_a(H,"number",H.value)}switch(De=k?vr(k):window,t){case"focusin":(Rt(De)||De.contentEditable==="true")&&(Ca=De,nf=k,Qo=null);break;case"focusout":Qo=nf=Ca=null;break;case"mousedown":rf=!0;break;case"contextmenu":case"mouseup":case"dragend":rf=!1,jp(Z,a,K);break;case"selectionchange":if(SS)break;case"keydown":case"keyup":jp(Z,a,K)}var fe;if(si)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Le?G(t,a)&&(ye="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(y&&a.locale!=="ko"&&(Le||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Le&&(fe=zo()):(ti=K,br="value"in ti?ti.value:ti.textContent,Le=!0)),De=Sc(k,ye),0<De.length&&(ye=new qo(ye,t,null,a,K),Z.push({event:ye,listeners:De}),fe?ye.data=fe:(fe=ie(a),fe!==null&&(ye.data=fe)))),(fe=g?bt(t,a):Ue(t,a))&&(ye=Sc(k,"onBeforeInput"),0<ye.length&&(De=new qo("onBeforeInput","beforeinput",null,a,K),Z.push({event:De,listeners:ye}),De.data=fe)),rA(Z,t,k,a,K)}ty(Z,i)})}function Sl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Sc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Es(t,a),h!=null&&l.unshift(Sl(t,h,d)),h=Es(t,i),h!=null&&l.push(Sl(t,h,d))),t=t.return}return l}function Ya(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function iy(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var S=a,C=S.alternate,k=S.stateNode;if(S=S.tag,C!==null&&C===l)break;S!==5&&S!==26&&S!==27||k===null||(C=k,h?(k=Es(a,d),k!=null&&v.unshift(Sl(a,k,C))):h||(k=Es(a,d),k!=null&&v.push(Sl(a,k,C)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var lA=/\r\n?/g,uA=/\u0000|\uFFFD/g;function ry(t){return(typeof t=="string"?t:""+t).replace(lA,`
`).replace(uA,"")}function sy(t,i){return i=ry(i),ry(t)===i}function Ac(){}function We(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||bn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&bn(t,""+l);break;case"className":Sr(t,"class",l);break;case"tabIndex":Sr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sr(t,a,l);break;case"style":bu(t,l,d);break;case"data":if(i!=="object"){Sr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ei(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ei(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ac);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ei(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),Tr(t,"popover",l);break;case"xlinkActuate":wn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Tr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Yh.get(a)||a,Tr(t,a,l))}}function Cd(t,i,a,l,h,d){switch(a){case"style":bu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?bn(t,l):(typeof l=="number"||typeof l=="bigint")&&bn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ac);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[wt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Tr(t,a,l)}}}function qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,d,v,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":ke("invalid",t);var S=d=v=h=null,C=null,k=null;for(l in a)if(a.hasOwnProperty(l)){var K=a[l];if(K!=null)switch(l){case"name":h=K;break;case"type":v=K;break;case"checked":C=K;break;case"defaultChecked":k=K;break;case"value":d=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:We(t,i,l,K,a,null)}}ys(t,d,S,C,k,v,h,!1),_s(t);return;case"select":ke("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:We(t,i,h,S,a,null)}i=d,a=v,t.multiple=!!l,i!=null?He(t,!!l,i,!1):a!=null&&He(t,!!l,a,!0);return;case"textarea":ke("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:We(t,i,v,S,a,null)}wr(t,l,h,d),_s(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,i,C,l,a,null)}return;case"dialog":ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<Tl.length;l++)ke(Tl[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(k in a)if(a.hasOwnProperty(k)&&(l=a[k],l!=null))switch(k){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,k,l,a,null)}return;default:if(Uo(i)){for(K in a)a.hasOwnProperty(K)&&(l=a[K],l!==void 0&&Cd(t,i,K,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&We(t,i,S,l,a,null))}function cA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,S=null,C=null,k=null,K=null;for($ in a){var Z=a[$];if(a.hasOwnProperty($)&&Z!=null)switch($){case"checked":break;case"value":break;case"defaultValue":C=Z;default:l.hasOwnProperty($)||We(t,i,$,null,l,Z)}}for(var H in l){var $=l[H];if(Z=a[H],l.hasOwnProperty(H)&&($!=null||Z!=null))switch(H){case"type":d=$;break;case"name":h=$;break;case"checked":k=$;break;case"defaultChecked":K=$;break;case"value":v=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:$!==Z&&We(t,i,H,$,l,Z)}}Ar(t,v,S,C,k,K,d,h);return;case"select":$=v=S=H=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":$=C;default:l.hasOwnProperty(d)||We(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":H=d;break;case"defaultValue":S=d;break;case"multiple":v=d;default:d!==C&&We(t,i,h,d,l,C)}i=S,a=v,l=$,H!=null?He(t,!!a,H,!1):!!l!=!!a&&(i!=null?He(t,!!a,i,!0):He(t,!!a,a?[]:"",!1));return;case"textarea":$=H=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:We(t,i,S,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":H=h;break;case"defaultValue":$=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,i,v,h,l,d)}vs(t,H,$);return;case"option":for(var ce in a)if(H=a[ce],a.hasOwnProperty(ce)&&H!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:We(t,i,ce,null,l,H)}for(C in l)if(H=l[C],$=a[C],l.hasOwnProperty(C)&&H!==$&&(H!=null||$!=null))switch(C){case"selected":t.selected=H&&typeof H!="function"&&typeof H!="symbol";break;default:We(t,i,C,H,l,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)H=a[Ae],a.hasOwnProperty(Ae)&&H!=null&&!l.hasOwnProperty(Ae)&&We(t,i,Ae,null,l,H);for(k in l)if(H=l[k],$=a[k],l.hasOwnProperty(k)&&H!==$&&(H!=null||$!=null))switch(k){case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:We(t,i,k,H,l,$)}return;default:if(Uo(i)){for(var ht in a)H=a[ht],a.hasOwnProperty(ht)&&H!==void 0&&!l.hasOwnProperty(ht)&&Cd(t,i,ht,void 0,l,H);for(K in l)H=l[K],$=a[K],!l.hasOwnProperty(K)||H===$||H===void 0&&$===void 0||Cd(t,i,K,H,l,$);return}}for(var L in a)H=a[L],a.hasOwnProperty(L)&&H!=null&&!l.hasOwnProperty(L)&&We(t,i,L,null,l,H);for(Z in l)H=l[Z],$=a[Z],!l.hasOwnProperty(Z)||H===$||H==null&&$==null||We(t,i,Z,H,l,$)}var Id=null,xd=null;function wc(t){return t.nodeType===9?t:t.ownerDocument}function ay(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Dd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Nd=null;function hA(){var t=window.event;return t&&t.type==="popstate"?t===Nd?!1:(Nd=t,!0):(Nd=null,!1)}var ly=typeof setTimeout=="function"?setTimeout:void 0,fA=typeof clearTimeout=="function"?clearTimeout:void 0,uy=typeof Promise=="function"?Promise:void 0,dA=typeof queueMicrotask=="function"?queueMicrotask:typeof uy<"u"?function(t){return uy.resolve(null).then(t).catch(mA)}:ly;function mA(t){setTimeout(function(){throw t})}function Od(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),Dl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Dl(i)}function Md(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Md(a),gs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function pA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[yr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=$n(t.nextSibling),t===null)break}return null}function gA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=$n(t.nextSibling),t===null))return null;return t}function $n(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function cy(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function hy(t,i,a){switch(i=wc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Un=new Map,fy=new Set;function bc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var Xi=ae.d;ae.d={f:_A,r:yA,D:vA,C:EA,L:TA,m:SA,X:wA,S:AA,M:bA};function _A(){var t=Xi.f(),i=_c();return t||i}function yA(t){var i=Ii(t);i!==null&&i.tag===5&&i.type==="form"?jg(i):Xi.r(t)}var Xa=typeof document>"u"?null:document;function dy(t,i,a){var l=Xa;if(l&&typeof i=="string"&&i){var h=lt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),fy.has(h)||(fy.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),qt(i,"link",t),nt(i),l.head.appendChild(i)))}}function vA(t){Xi.D(t),dy("dns-prefetch",t,null)}function EA(t,i){Xi.C(t,i),dy("preconnect",t,i)}function TA(t,i,a){Xi.L(t,i,a);var l=Xa;if(l&&t&&i){var h='link[rel="preload"][as="'+lt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+lt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+lt(a.imageSizes)+'"]')):h+='[href="'+lt(t)+'"]';var d=h;switch(i){case"style":d=Wa(t);break;case"script":d=Za(t)}Un.has(d)||(t=x({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Un.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Al(d))||i==="script"&&l.querySelector(wl(d))||(i=l.createElement("link"),qt(i,"link",t),nt(i),l.head.appendChild(i)))}}function SA(t,i){Xi.m(t,i);var a=Xa;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+lt(l)+'"][href="'+lt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Za(t)}if(!Un.has(d)&&(t=x({rel:"modulepreload",href:t},i),Un.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(wl(d)))return}l=a.createElement("link"),qt(l,"link",t),nt(l),a.head.appendChild(l)}}}function AA(t,i,a){Xi.S(t,i,a);var l=Xa;if(l&&t){var h=Er(l).hoistableStyles,d=Wa(t);i=i||"default";var v=h.get(d);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(Al(d)))S.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Un.get(d))&&Vd(t,a);var C=v=l.createElement("link");nt(C),qt(C,"link",t),C._p=new Promise(function(k,K){C.onload=k,C.onerror=K}),C.addEventListener("load",function(){S.loading|=1}),C.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Rc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:S},h.set(d,v)}}}function wA(t,i){Xi.X(t,i);var a=Xa;if(a&&t){var l=Er(a).hoistableScripts,h=Za(t),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(t=x({src:t,async:!0},i),(i=Un.get(h))&&kd(t,i),d=a.createElement("script"),nt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function bA(t,i){Xi.M(t,i);var a=Xa;if(a&&t){var l=Er(a).hoistableScripts,h=Za(t),d=l.get(h);d||(d=a.querySelector(wl(h)),d||(t=x({src:t,async:!0,type:"module"},i),(i=Un.get(h))&&kd(t,i),d=a.createElement("script"),nt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function my(t,i,a,l){var h=(h=Sn.current)?bc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Wa(a.href),a=Er(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Wa(a.href);var d=Er(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Al(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Un.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(t,a),d||RA(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Za(a),a=Er(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Wa(t){return'href="'+lt(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function py(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function RA(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),qt(i,"link",a),nt(i),t.head.appendChild(i))}function Za(t){return'[src="'+lt(t)+'"]'}function wl(t){return"script[async]"+t}function gy(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+lt(a.href)+'"]');if(l)return i.instance=l,nt(l),l;var h=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),nt(l),qt(l,"style",h),Rc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Wa(a.href);var d=t.querySelector(Al(h));if(d)return i.state.loading|=4,i.instance=d,nt(d),d;l=py(a),(h=Un.get(h))&&Vd(l,h),d=(t.ownerDocument||t).createElement("link"),nt(d);var v=d;return v._p=new Promise(function(S,C){v.onload=S,v.onerror=C}),qt(d,"link",l),i.state.loading|=4,Rc(d,a.precedence,t),i.instance=d;case"script":return d=Za(a.src),(h=t.querySelector(wl(d)))?(i.instance=h,nt(h),h):(l=a,(h=Un.get(d))&&(l=x({},a),kd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),nt(h),qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Rc(l,a.precedence,t));return i.instance}function Rc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Vd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function kd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Cc=null;function _y(t,i,a){if(Cc===null){var l=new Map,h=Cc=new Map;h.set(a,l)}else h=Cc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[yr]||d[Mt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var S=l.get(v);S?S.push(d):l.set(v,[d])}}return l}function yy(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function CA(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function vy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var bl=null;function IA(){}function xA(t,i,a){if(bl===null)throw Error(s(475));var l=bl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=Wa(a.href),d=t.querySelector(Al(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Ic.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,nt(d);return}d=t.ownerDocument||t,a=py(a),(h=Un.get(h))&&Vd(a,h),d=d.createElement("link"),nt(d);var v=d;v._p=new Promise(function(S,C){v.onload=S,v.onerror=C}),qt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Ic.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function DA(){if(bl===null)throw Error(s(475));var t=bl;return t.stylesheets&&t.count===0&&Pd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Pd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Ic(){if(this.count--,this.count===0){if(this.stylesheets)Pd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var xc=null;function Pd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,xc=new Map,i.forEach(NA,t),xc=null,Ic.call(t))}function NA(t,i){if(!(i.state.loading&4)){var a=xc.get(t);if(a)var l=a.get(null);else{a=new Map,xc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Ic.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Rl={$$typeof:P,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function OA(t,i,a,l,h,d,v,S){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=da(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=da(0),this.hiddenUpdates=da(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Ey(t,i,a,l,h,d,v,S,C,k,K,Z){return t=new OA(t,i,a,v,S,C,k,Z),i=1,d===!0&&(i|=24),d=Pn(3,null,null,i),t.current=d,d.stateNode=t,i=mf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},Qf(d),t}function Ty(t){return t?(t=Da,t):Da}function Sy(t,i,a,l,h,d){h=Ty(h),l.context===null?l.context=h:l.pendingContext=h,l=Mr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Vr(t,l,i),a!==null&&(an(a,t,i),ul(a,t,i))}function Ay(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Ld(t,i){Ay(t,i),(t=t.alternate)&&Ay(t,i)}function wy(t){if(t.tag===13){var i=Rr(t,67108864);i!==null&&an(i,t,67108864),Ld(t,67108864)}}var Dc=!0;function MA(t,i,a,l){var h=w.T;w.T=null;var d=ae.p;try{ae.p=2,Ud(t,i,a,l)}finally{ae.p=d,w.T=h}}function VA(t,i,a,l){var h=w.T;w.T=null;var d=ae.p;try{ae.p=8,Ud(t,i,a,l)}finally{ae.p=d,w.T=h}}function Ud(t,i,a,l){if(Dc){var h=jd(l);if(h===null)Rd(t,i,l,Nc,a),Ry(t,l);else if(PA(h,t,i,a,l))l.stopPropagation();else if(Ry(t,l),i&4&&-1<kA.indexOf(t)){for(;h!==null;){var d=Ii(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=Bn(d.pendingLanes);if(v!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var C=1<<31-tn(v);S.entanglements[1]|=C,v&=~C}hi(d),(rt&6)===0&&(mc=ln()+500,El(0))}}break;case 13:S=Rr(d,2),S!==null&&an(S,d,2),_c(),Ld(d,2)}if(d=jd(l),d===null&&Rd(t,i,l,Nc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Rd(t,i,l,null,a)}}function jd(t){return t=ya(t),zd(t)}var Nc=null;function zd(t){if(Nc=null,t=Hn(t),t!==null){var i=me(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=Ge(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Nc=t,null}function by(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gu()){case At:return 2;case Ot:return 8;case Ri:case _u:return 32;case Io:return 268435456;default:return 32}default:return 32}}var Bd=!1,Br=null,Hr=null,qr=null,Cl=new Map,Il=new Map,Fr=[],kA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ry(t,i){switch(t){case"focusin":case"focusout":Br=null;break;case"dragenter":case"dragleave":Hr=null;break;case"mouseover":case"mouseout":qr=null;break;case"pointerover":case"pointerout":Cl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(i.pointerId)}}function xl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Ii(i),i!==null&&wy(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function PA(t,i,a,l,h){switch(i){case"focusin":return Br=xl(Br,t,i,a,l,h),!0;case"dragenter":return Hr=xl(Hr,t,i,a,l,h),!0;case"mouseover":return qr=xl(qr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Cl.set(d,xl(Cl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Il.set(d,xl(Il.get(d)||null,t,i,a,l,h)),!0}return!1}function Cy(t){var i=Hn(t.target);if(i!==null){var a=me(i);if(a!==null){if(i=a.tag,i===13){if(i=Ge(a),i!==null){t.blockedOn=i,_r(t.priority,function(){if(a.tag===13){var l=vn(),h=Rr(a,l);h!==null&&an(h,a,l),Ld(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=jd(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Rn=l,a.target.dispatchEvent(l),Rn=null}else return i=Ii(a),i!==null&&wy(i),t.blockedOn=a,!1;i.shift()}return!0}function Iy(t,i,a){Oc(t)&&a.delete(i)}function LA(){Bd=!1,Br!==null&&Oc(Br)&&(Br=null),Hr!==null&&Oc(Hr)&&(Hr=null),qr!==null&&Oc(qr)&&(qr=null),Cl.forEach(Iy),Il.forEach(Iy)}function Mc(t,i){t.blockedOn===i&&(t.blockedOn=null,Bd||(Bd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,LA)))}var Vc=null;function xy(t){Vc!==t&&(Vc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Vc===t&&(Vc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(zd(l||a)===null)continue;break}var d=Ii(a);d!==null&&(t.splice(i,3),i-=3,Df(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Dl(t){function i(C){return Mc(C,t)}Br!==null&&Mc(Br,t),Hr!==null&&Mc(Hr,t),qr!==null&&Mc(qr,t),Cl.forEach(i),Il.forEach(i);for(var a=0;a<Fr.length;a++){var l=Fr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Fr.length&&(a=Fr[0],a.blockedOn===null);)Cy(a),a.blockedOn===null&&Fr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[wt]||null;if(typeof d=="function")v||xy(a);else if(v){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[wt]||null)S=v.formAction;else if(zd(h)!==null)continue}else S=v.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),xy(a)}}}function Hd(t){this._internalRoot=t}kc.prototype.render=Hd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=vn();Sy(a,l,t,i,null,null)},kc.prototype.unmount=Hd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&Ka(),Sy(t.current,2,null,t,null,null),_c(),i[Ci]=null}};function kc(t){this._internalRoot=t}kc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Su();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Fr.length&&i!==0&&i<Fr[a].priority;a++);Fr.splice(a,0,t),a===0&&Cy(t)}};var Dy=e.version;if(Dy!=="19.0.0")throw Error(s(527,Dy,"19.0.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=te(i),t=t!==null?he(t):null,t=t===null?null:t.stateNode,t};var UA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:w,findFiberByHostInstance:Hn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Pc.isDisabled&&Pc.supportsFiber)try{hr=Pc.inject(UA),Kt=Pc}catch{}}return Ol.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=Kg,d=Qg,v=Yg,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=Ey(t,1,!1,null,null,a,l,h,d,v,S,null),t[Ci]=i.current,bd(t.nodeType===8?t.parentNode:t),new Hd(i)},Ol.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=Kg,v=Qg,S=Yg,C=null,k=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(k=a.formState)),i=Ey(t,1,!0,i,a??null,l,h,d,v,S,C,k),i.context=Ty(null),a=i.current,l=vn(),h=Mr(l),h.callback=null,Vr(a,h,l),i.current.lanes=l,dt(i,l),hi(i),t[Ci]=i.current,bd(t),new kc(i)},Ol.version="19.0.0",Ol}var zy;function QA(){if(zy)return Gd.exports;zy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Gd.exports=KA(),Gd.exports}var YA=QA(),Ml={},By;function XA(){if(By)return Ml;By=1,Object.defineProperty(Ml,"__esModule",{value:!0}),Ml.parse=f,Ml.serialize=_;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function f(I,P){const U=new u,Q=I.length;if(Q<2)return U;const F=(P==null?void 0:P.decode)||T;let Y=0;do{const ne=I.indexOf("=",Y);if(ne===-1)break;const ee=I.indexOf(";",Y),pe=ee===-1?Q:ee;if(ne>pe){Y=I.lastIndexOf(";",ne-1)+1;continue}const ue=m(I,Y,ne),be=p(I,ne,ue),M=I.slice(ue,be);if(U[M]===void 0){let R=m(I,ne+1,pe),w=p(I,pe,R);const x=F(I.slice(R,w));U[M]=x}Y=pe+1}while(Y<Q);return U}function m(I,P,U){do{const Q=I.charCodeAt(P);if(Q!==32&&Q!==9)return P}while(++P<U);return U}function p(I,P,U){for(;P>U;){const Q=I.charCodeAt(--P);if(Q!==32&&Q!==9)return P+1}return U}function _(I,P,U){const Q=(U==null?void 0:U.encode)||encodeURIComponent;if(!r.test(I))throw new TypeError(`argument name is invalid: ${I}`);const F=Q(P);if(!e.test(F))throw new TypeError(`argument val is invalid: ${P}`);let Y=I+"="+F;if(!U)return Y;if(U.maxAge!==void 0){if(!Number.isInteger(U.maxAge))throw new TypeError(`option maxAge is invalid: ${U.maxAge}`);Y+="; Max-Age="+U.maxAge}if(U.domain){if(!n.test(U.domain))throw new TypeError(`option domain is invalid: ${U.domain}`);Y+="; Domain="+U.domain}if(U.path){if(!s.test(U.path))throw new TypeError(`option path is invalid: ${U.path}`);Y+="; Path="+U.path}if(U.expires){if(!b(U.expires)||!Number.isFinite(U.expires.valueOf()))throw new TypeError(`option expires is invalid: ${U.expires}`);Y+="; Expires="+U.expires.toUTCString()}if(U.httpOnly&&(Y+="; HttpOnly"),U.secure&&(Y+="; Secure"),U.partitioned&&(Y+="; Partitioned"),U.priority)switch(typeof U.priority=="string"?U.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${U.priority}`)}if(U.sameSite)switch(typeof U.sameSite=="string"?U.sameSite.toLowerCase():U.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${U.sameSite}`)}return Y}function T(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function b(I){return o.call(I)==="[object Date]"}return Ml}XA();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Hy="popstate";function WA(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return lm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:$l(o)}return JA(e,n,null,r)}function st(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function vi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function ZA(){return Math.random().toString(36).substring(2,10)}function qy(r,e){return{usr:r.state,key:r.key,idx:e}}function lm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?yo(e):e,state:n,key:e&&e.key||s||ZA()}}function $l({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function yo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function JA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,_=T();_==null&&(_=0,f.replaceState({...f.state,idx:_},""));function T(){return(f.state||{idx:null}).idx}function b(){m="POP";let F=T(),Y=F==null?null:F-_;_=F,p&&p({action:m,location:Q.location,delta:Y})}function I(F,Y){m="PUSH";let ne=lm(Q.location,F,Y);_=T()+1;let ee=qy(ne,_),pe=Q.createHref(ne);try{f.pushState(ee,"",pe)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(pe)}u&&p&&p({action:m,location:Q.location,delta:1})}function P(F,Y){m="REPLACE";let ne=lm(Q.location,F,Y);_=T();let ee=qy(ne,_),pe=Q.createHref(ne);f.replaceState(ee,"",pe),u&&p&&p({action:m,location:Q.location,delta:0})}function U(F){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,ne=typeof F=="string"?F:$l(F);return ne=ne.replace(/ $/,"%20"),st(Y,`No window.location.(origin|href) available to create URL for href: ${ne}`),new URL(ne,Y)}let Q={get action(){return m},get location(){return r(o,f)},listen(F){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Hy,b),p=F,()=>{o.removeEventListener(Hy,b),p=null}},createHref(F){return e(o,F)},createURL:U,encodeLocation(F){let Y=U(F);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:I,replace:P,go(F){return f.go(F)}};return Q}function yE(r,e,n="/"){return ew(r,e,n,!1)}function ew(r,e,n,s){let o=typeof e=="string"?yo(e):e,u=ir(o.pathname||"/",n);if(u==null)return null;let f=vE(r);tw(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let _=fw(u);m=cw(f[p],_,s)}return m}function vE(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(st(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let _=er([s,p.relativePath]),T=n.concat(p);u.children&&u.children.length>0&&(st(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),vE(u.children,e,T,_)),!(u.path==null&&!u.index)&&e.push({path:_,score:lw(_,u.index),routesMeta:T})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of EE(u.path))o(u,f,p)}),e}function EE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=EE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function tw(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:uw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var nw=/^:[\w-]+$/,iw=3,rw=2,sw=1,aw=10,ow=-2,Fy=r=>r==="*";function lw(r,e){let n=r.split("/"),s=n.length;return n.some(Fy)&&(s+=ow),e&&(s+=rw),n.filter(o=>!Fy(o)).reduce((o,u)=>o+(nw.test(u)?iw:u===""?sw:aw),s)}function uw(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function cw(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],_=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",b=ih({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},T),I=p.route;if(!b&&_&&n&&!s[s.length-1].route.index&&(b=ih({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:er([u,b.pathname]),pathnameBase:gw(er([u,b.pathnameBase])),route:I}),b.pathnameBase!=="/"&&(u=er([u,b.pathnameBase]))}return f}function ih(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=hw(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((_,{paramName:T,isOptional:b},I)=>{if(T==="*"){let U=m[I]||"";f=u.slice(0,u.length-U.length).replace(/(.)\/+$/,"$1")}const P=m[I];return b&&!P?_[T]=void 0:_[T]=(P||"").replace(/%2F/g,"/"),_},{}),pathname:u,pathnameBase:f,pattern:r}}function hw(r,e=!1,n=!0){vi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function fw(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ir(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function dw(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?yo(r):r;return{pathname:n?n.startsWith("/")?n:mw(n,e):e,search:_w(s),hash:yw(o)}}function mw(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Yd(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function pw(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function TE(r){let e=pw(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function SE(r,e,n,s=!1){let o;typeof r=="string"?o=yo(r):(o={...r},st(!o.pathname||!o.pathname.includes("?"),Yd("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),Yd("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),Yd("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let I=f.split("/");for(;I[0]==="..";)I.shift(),b-=1;o.pathname=I.join("/")}m=b>=0?e[b]:"/"}let p=dw(o,m),_=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(_||T)&&(p.pathname+="/"),p}var er=r=>r.join("/").replace(/\/\/+/g,"/"),gw=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),_w=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,yw=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function vw(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var AE=["POST","PUT","PATCH","DELETE"];new Set(AE);var Ew=["GET",...AE];new Set(Ew);var vo=q.createContext(null);vo.displayName="DataRouter";var Ah=q.createContext(null);Ah.displayName="DataRouterState";var wE=q.createContext({isTransitioning:!1});wE.displayName="ViewTransition";var Tw=q.createContext(new Map);Tw.displayName="Fetchers";var Sw=q.createContext(null);Sw.displayName="Await";var Si=q.createContext(null);Si.displayName="Navigation";var nu=q.createContext(null);nu.displayName="Location";var Ai=q.createContext({outlet:null,matches:[],isDataRoute:!1});Ai.displayName="Route";var km=q.createContext(null);km.displayName="RouteError";function Aw(r,{relative:e}={}){st(iu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext(Si),{hash:o,pathname:u,search:f}=ru(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:er([n,u])),s.createHref({pathname:m,search:f,hash:o})}function iu(){return q.useContext(nu)!=null}function ta(){return st(iu(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(nu).location}var bE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function RE(r){q.useContext(Si).static||q.useLayoutEffect(r)}function na(){let{isDataRoute:r}=q.useContext(Ai);return r?Uw():ww()}function ww(){st(iu(),"useNavigate() may be used only in the context of a <Router> component.");let r=q.useContext(vo),{basename:e,navigator:n}=q.useContext(Si),{matches:s}=q.useContext(Ai),{pathname:o}=ta(),u=JSON.stringify(TE(s)),f=q.useRef(!1);return RE(()=>{f.current=!0}),q.useCallback((p,_={})=>{if(vi(f.current,bE),!f.current)return;if(typeof p=="number"){n.go(p);return}let T=SE(p,JSON.parse(u),o,_.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:er([e,T.pathname])),(_.replace?n.replace:n.push)(T,_.state,_)},[e,n,u,o,r])}var CE=q.createContext(null);function bw(){return q.useContext(CE)}function Rw(r){let e=q.useContext(Ai).outlet;return e&&q.createElement(CE.Provider,{value:r},e)}function ru(r,{relative:e}={}){let{matches:n}=q.useContext(Ai),{pathname:s}=ta(),o=JSON.stringify(TE(n));return q.useMemo(()=>SE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function Cw(r,e){return IE(r,e)}function IE(r,e,n,s){var ne;st(iu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=q.useContext(Si),{matches:f}=q.useContext(Ai),m=f[f.length-1],p=m?m.params:{},_=m?m.pathname:"/",T=m?m.pathnameBase:"/",b=m&&m.route;{let ee=b&&b.path||"";xE(_,!b||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let I=ta(),P;if(e){let ee=typeof e=="string"?yo(e):e;st(T==="/"||((ne=ee.pathname)==null?void 0:ne.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),P=ee}else P=I;let U=P.pathname||"/",Q=U;if(T!=="/"){let ee=T.replace(/^\//,"").split("/");Q="/"+U.replace(/^\//,"").split("/").slice(ee.length).join("/")}let F=!u&&n&&n.matches&&n.matches.length>0?n.matches:yE(r,{pathname:Q});vi(b||F!=null,`No routes matched location "${P.pathname}${P.search}${P.hash}" `),vi(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${P.pathname}${P.search}${P.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=Ow(F&&F.map(ee=>Object.assign({},ee,{params:Object.assign({},p,ee.params),pathname:er([T,o.encodeLocation?o.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?T:er([T,o.encodeLocation?o.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),f,n,s);return e&&Y?q.createElement(nu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...P},navigationType:"POP"}},Y):Y}function Iw(){let r=Lw(),e=vw(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:o},n):null,f)}var xw=q.createElement(Iw,null),Dw=class extends q.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?q.createElement(Ai.Provider,{value:this.props.routeContext},q.createElement(km.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Nw({routeContext:r,match:e,children:n}){let s=q.useContext(vo);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(Ai.Provider,{value:r},n)}function Ow(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);st(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let _=o[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=p),_.route.id){let{loaderData:T,errors:b}=n,I=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!b||b[_.route.id]===void 0);if(_.route.lazy||I){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,_,T)=>{let b,I=!1,P=null,U=null;n&&(b=u&&_.route.id?u[_.route.id]:void 0,P=_.route.errorElement||xw,f&&(m<0&&T===0?(xE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,U=null):m===T&&(I=!0,U=_.route.hydrateFallbackElement||null)));let Q=e.concat(o.slice(0,T+1)),F=()=>{let Y;return b?Y=P:I?Y=U:_.route.Component?Y=q.createElement(_.route.Component,null):_.route.element?Y=_.route.element:Y=p,q.createElement(Nw,{match:_,routeContext:{outlet:p,matches:Q,isDataRoute:n!=null},children:Y})};return n&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?q.createElement(Dw,{location:n.location,revalidation:n.revalidation,component:P,error:b,children:F(),routeContext:{outlet:null,matches:Q,isDataRoute:!0}}):F()},null)}function Pm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Mw(r){let e=q.useContext(vo);return st(e,Pm(r)),e}function Vw(r){let e=q.useContext(Ah);return st(e,Pm(r)),e}function kw(r){let e=q.useContext(Ai);return st(e,Pm(r)),e}function Lm(r){let e=kw(r),n=e.matches[e.matches.length-1];return st(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function Pw(){return Lm("useRouteId")}function Lw(){var s;let r=q.useContext(km),e=Vw("useRouteError"),n=Lm("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function Uw(){let{router:r}=Mw("useNavigate"),e=Lm("useNavigate"),n=q.useRef(!1);return RE(()=>{n.current=!0}),q.useCallback(async(o,u={})=>{vi(n.current,bE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Gy={};function xE(r,e,n){!e&&!Gy[r]&&(Gy[r]=!0,vi(!1,n))}q.memo(jw);function jw({routes:r,future:e,state:n}){return IE(r,void 0,n,e)}function zw(r){return Rw(r.context)}function Kn(r){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Bw({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){st(!iu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=yo(n));let{pathname:p="/",search:_="",hash:T="",state:b=null,key:I="default"}=n,P=q.useMemo(()=>{let U=ir(p,f);return U==null?null:{location:{pathname:U,search:_,hash:T,state:b,key:I},navigationType:s}},[f,p,_,T,b,I,s]);return vi(P!=null,`<Router basename="${f}"> is not able to match the URL "${p}${_}${T}" because it does not start with the basename, so the <Router> won't render anything.`),P==null?null:q.createElement(Si.Provider,{value:m},q.createElement(nu.Provider,{children:e,value:P}))}function Hw({children:r,location:e}){return Cw(um(r),e)}function um(r,e=[]){let n=[];return q.Children.forEach(r,(s,o)=>{if(!q.isValidElement(s))return;let u=[...e,o];if(s.type===q.Fragment){n.push.apply(n,um(s.props.children,u));return}st(s.type===Kn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=um(s.props.children,u)),n.push(f)}),n}var Gc="get",$c="application/x-www-form-urlencoded";function wh(r){return r!=null&&typeof r.tagName=="string"}function qw(r){return wh(r)&&r.tagName.toLowerCase()==="button"}function Fw(r){return wh(r)&&r.tagName.toLowerCase()==="form"}function Gw(r){return wh(r)&&r.tagName.toLowerCase()==="input"}function $w(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function Kw(r,e){return r.button===0&&(!e||e==="_self")&&!$w(r)}var Lc=null;function Qw(){if(Lc===null)try{new FormData(document.createElement("form"),0),Lc=!1}catch{Lc=!0}return Lc}var Yw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Xd(r){return r!=null&&!Yw.has(r)?(vi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$c}"`),null):r}function Xw(r,e){let n,s,o,u,f;if(Fw(r)){let m=r.getAttribute("action");s=m?ir(m,e):null,n=r.getAttribute("method")||Gc,o=Xd(r.getAttribute("enctype"))||$c,u=new FormData(r)}else if(qw(r)||Gw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?ir(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Gc,o=Xd(r.getAttribute("formenctype"))||Xd(m.getAttribute("enctype"))||$c,u=new FormData(m,r),!Qw()){let{name:_,type:T,value:b}=r;if(T==="image"){let I=_?`${_}.`:"";u.append(`${I}x`,"0"),u.append(`${I}y`,"0")}else _&&u.append(_,b)}}else{if(wh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Gc,s=null,o=$c,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Um(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function Ww(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Zw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function Jw(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await Ww(u,n);return f.links?f.links():[]}return[]}));return ib(s.flat(1).filter(Zw).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function $y(r,e,n,s,o,u){let f=(p,_)=>n[_]?p.route.id!==n[_].route.id:!0,m=(p,_)=>{var T;return n[_].pathname!==p.pathname||((T=n[_].route.path)==null?void 0:T.endsWith("*"))&&n[_].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,_)=>f(p,_)||m(p,_)):u==="data"?e.filter((p,_)=>{var b;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,_)||m(p,_))return!0;if(p.route.shouldRevalidate){let I=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function eb(r,e,{includeHydrateFallback:n}={}){return tb(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function tb(r){return[...new Set(r)]}function nb(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function ib(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(nb(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function rb(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&ir(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function DE(){let r=q.useContext(vo);return Um(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function sb(){let r=q.useContext(Ah);return Um(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var jm=q.createContext(void 0);jm.displayName="FrameworkContext";function NE(){let r=q.useContext(jm);return Um(r,"You must render this element inside a <HydratedRouter> element"),r}function ab(r,e){let n=q.useContext(jm),[s,o]=q.useState(!1),[u,f]=q.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:_,onMouseLeave:T,onTouchStart:b}=e,I=q.useRef(null);q.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Q=Y=>{Y.forEach(ne=>{f(ne.isIntersecting)})},F=new IntersectionObserver(Q,{threshold:.5});return I.current&&F.observe(I.current),()=>{F.disconnect()}}},[r]),q.useEffect(()=>{if(s){let Q=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Q)}}},[s]);let P=()=>{o(!0)},U=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,I,{}]:[u,I,{onFocus:Vl(m,P),onBlur:Vl(p,U),onMouseEnter:Vl(_,P),onMouseLeave:Vl(T,U),onTouchStart:Vl(b,P)}]:[!1,I,{}]}function Vl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function ob({page:r,...e}){let{router:n}=DE(),s=q.useMemo(()=>yE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?q.createElement(ub,{page:r,matches:s,...e}):null}function lb(r){let{manifest:e,routeModules:n}=NE(),[s,o]=q.useState([]);return q.useEffect(()=>{let u=!1;return Jw(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function ub({page:r,matches:e,...n}){let s=ta(),{manifest:o,routeModules:u}=NE(),{basename:f}=DE(),{loaderData:m,matches:p}=sb(),_=q.useMemo(()=>$y(r,e,p,o,s,"data"),[r,e,p,o,s]),T=q.useMemo(()=>$y(r,e,p,o,s,"assets"),[r,e,p,o,s]),b=q.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let U=new Set,Q=!1;if(e.forEach(Y=>{var ee;let ne=o.routes[Y.route.id];!ne||!ne.hasLoader||(!_.some(pe=>pe.route.id===Y.route.id)&&Y.route.id in m&&((ee=u[Y.route.id])!=null&&ee.shouldRevalidate)||ne.hasClientLoader?Q=!0:U.add(Y.route.id))}),U.size===0)return[];let F=rb(r,f);return Q&&U.size>0&&F.searchParams.set("_routes",e.filter(Y=>U.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[F.pathname+F.search]},[f,m,s,o,_,e,r,u]),I=q.useMemo(()=>eb(T,o),[T,o]),P=lb(T);return q.createElement(q.Fragment,null,b.map(U=>q.createElement("link",{key:U,rel:"prefetch",as:"fetch",href:U,...n})),I.map(U=>q.createElement("link",{key:U,rel:"modulepreload",href:U,...n})),P.map(({key:U,link:Q})=>q.createElement("link",{key:U,...Q})))}function cb(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var OE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OE&&(window.__reactRouterVersion="7.3.0")}catch{}function hb({basename:r,children:e,window:n}){let s=q.useRef();s.current==null&&(s.current=WA({window:n,v5Compat:!0}));let o=s.current,[u,f]=q.useState({action:o.action,location:o.location}),m=q.useCallback(p=>{q.startTransition(()=>f(p))},[f]);return q.useLayoutEffect(()=>o.listen(m),[o,m]),q.createElement(Bw,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var ME=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:_,preventScrollReset:T,viewTransition:b,...I},P){let{basename:U}=q.useContext(Si),Q=typeof _=="string"&&ME.test(_),F,Y=!1;if(typeof _=="string"&&Q&&(F=_,OE))try{let w=new URL(window.location.href),x=_.startsWith("//")?new URL(w.protocol+_):new URL(_),V=ir(x.pathname,U);x.origin===w.origin&&V!=null?_=V+x.search+x.hash:Y=!0}catch{vi(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=Aw(_,{relative:o}),[ee,pe,ue]=ab(s,I),be=pb(_,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:b});function M(w){e&&e(w),w.defaultPrevented||be(w)}let R=q.createElement("a",{...I,...ue,href:F||ne,onClick:Y||u?e:M,ref:cb(P,pe),target:p,"data-discover":!Q&&n==="render"?"true":void 0});return ee&&!Q?q.createElement(q.Fragment,null,R,q.createElement(ob,{page:ne})):R});_e.displayName="Link";var fb=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,..._},T){let b=ru(f,{relative:_.relative}),I=ta(),P=q.useContext(Ah),{navigator:U,basename:Q}=q.useContext(Si),F=P!=null&&Eb(b)&&m===!0,Y=U.encodeLocation?U.encodeLocation(b).pathname:b.pathname,ne=I.pathname,ee=P&&P.navigation&&P.navigation.location?P.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),ee=ee?ee.toLowerCase():null,Y=Y.toLowerCase()),ee&&Q&&(ee=ir(ee,Q)||ee);const pe=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ue=ne===Y||!o&&ne.startsWith(Y)&&ne.charAt(pe)==="/",be=ee!=null&&(ee===Y||!o&&ee.startsWith(Y)&&ee.charAt(Y.length)==="/"),M={isActive:ue,isPending:be,isTransitioning:F},R=ue?e:void 0,w;typeof s=="function"?w=s(M):w=[s,ue?"active":null,be?"pending":null,F?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(M):u;return q.createElement(_e,{..._,"aria-current":R,className:w,ref:T,style:x,to:f,viewTransition:m},typeof p=="function"?p(M):p)});fb.displayName="NavLink";var db=q.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Gc,action:m,onSubmit:p,relative:_,preventScrollReset:T,viewTransition:b,...I},P)=>{let U=yb(),Q=vb(m,{relative:_}),F=f.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&ME.test(m),ne=ee=>{if(p&&p(ee),ee.defaultPrevented)return;ee.preventDefault();let pe=ee.nativeEvent.submitter,ue=(pe==null?void 0:pe.getAttribute("formmethod"))||f;U(pe||ee.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:o,state:u,relative:_,preventScrollReset:T,viewTransition:b})};return q.createElement("form",{ref:P,method:F,action:Q,onSubmit:s?p:ne,...I,"data-discover":!Y&&r==="render"?"true":void 0})});db.displayName="Form";function mb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VE(r){let e=q.useContext(vo);return st(e,mb(r)),e}function pb(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=na(),p=ta(),_=ru(r,{relative:u});return q.useCallback(T=>{if(Kw(T,e)){T.preventDefault();let b=n!==void 0?n:$l(p)===$l(_);m(r,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,_,n,s,e,r,o,u,f])}var gb=0,_b=()=>`__${String(++gb)}__`;function yb(){let{router:r}=VE("useSubmit"),{basename:e}=q.useContext(Si),n=Pw();return q.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:_}=Xw(s,e);if(o.navigate===!1){let T=o.fetcherKey||_b();await r.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function vb(r,{relative:e}={}){let{basename:n}=q.useContext(Si),s=q.useContext(Ai);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...ru(r||".",{relative:e})},f=ta();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:er([n,u.pathname])),$l(u)}function Eb(r,e={}){let n=q.useContext(wE);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=VE("useViewTransitionState"),o=ru(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=ir(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ir(n.nextLocation.pathname,s)||n.nextLocation.pathname;return ih(o.pathname,f)!=null||ih(o.pathname,u)!=null}new TextEncoder;const Tb="_container_pir9d_11",Sb="_main_pir9d_29",Ab="_logo_pir9d_43",wb="_h2_pir9d_51",bb="_happening_pir9d_61",Rb="_nav_pir9d_73",Cb="_button_pir9d_87",Ib="_awesome_pir9d_123",xb="_separator_pir9d_229",Db="_hr_pir9d_251",Nb="_terms_pir9d_259",Ob="_ul_pir9d_277",Mb="_li_pir9d_303",Vb="_flexli_pir9d_311",Oe={container:Tb,main:Sb,logo:Ab,h2:wb,happening:bb,nav:Rb,button:Cb,awesome:Ib,separator:xb,hr:Db,terms:Nb,ul:Ob,li:Mb,flexli:Vb};function kb(){return E.jsxs("div",{className:Oe.container,children:[E.jsxs("main",{className:Oe.main,children:[E.jsx("h1",{className:Oe.logo,children:"At"}),E.jsxs("div",{children:[E.jsx("h1",{className:Oe.happening,children:"Happening now"}),E.jsx("h2",{className:Oe.h2,children:"Join Today."}),E.jsxs("nav",{className:Oe.nav,children:[E.jsxs(_e,{to:"/react-regular-exam/about",className:`${Oe.button} ${Oe.awesome}`,children:[E.jsx("i",{className:"fa-brands fa-google"}),"Sign up with Google"]}),E.jsxs(_e,{to:"/react-regular-exam/about",className:`${Oe.button} ${Oe.awesome}`,children:[E.jsx("i",{className:"fa-brands fa-apple"}),"Sign up with Apple"]}),E.jsxs("div",{className:Oe.separator,children:[E.jsx("hr",{className:Oe.hr}),E.jsx("p",{children:"or"}),E.jsx("hr",{className:Oe.hr})]}),E.jsx(_e,{to:"/react-regular-exam/create",className:Oe.button,children:"Create account"}),E.jsxs("p",{className:Oe.terms,children:["By signing up, you agree of the ",E.jsx(_e,{to:"/react-regular-exam/about",children:"Term of Service"}),"and ",E.jsx(_e,{to:"/react-regular-exam/about",children:"Privacy Policy"}),", incliding ",E.jsx(_e,{to:"/react-regular-exam/about",children:"Cookie Use."})]}),E.jsx("p",{id:"account",children:"Already have an account?"}),E.jsx(_e,{to:"/react-regular-exam/login",className:Oe.button,children:"Sign in"}),E.jsx("p",{children:"Take a look:"}),E.jsx(_e,{to:"/react-regular-exam/guest",className:Oe.button,children:"Guest"})]})]})]}),E.jsx("footer",{children:E.jsxs("ul",{className:Oe.ul,children:[E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"About"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Download the At app"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Help Center"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Terms of Service"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Privacy Policy"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Cookie Policy"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Accessibillity"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Ads Info"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Blog"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Careers"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Brand Resources"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Advertising"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Marketing"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"At for Business"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Developers"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Directory"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Settings"})}),E.jsx("li",{className:Oe.li,children:E.jsxs(_e,{to:"/react-regular-exam/about",className:Oe.flexli,href:"#",children:[E.jsx("i",{className:"fa-regular fa-copyright"}),"2025 X Corp"]})})]})})]})}const Pb="_container_t0tol_1",Lb="_nav_t0tol_15",Ub="_i_t0tol_25",jb="_main_t0tol_125",zb="_search_t0tol_143",Bb="_meta_t0tol_181",Hb="_post_t0tol_211",qb="_feedback_t0tol_245",hn={container:Pb,nav:Lb,i:Ub,main:jb,search:zb,meta:Bb,post:Hb,feedback:qb},Fb=()=>{};var Ky={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Gb=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},PE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,_=p?r[o+2]:0,T=u>>2,b=(u&3)<<4|m>>4;let I=(m&15)<<2|_>>6,P=_&63;p||(P=64,f||(I=64)),s.push(n[T],n[b],n[I],n[P])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(kE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Gb(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const _=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||_==null||b==null)throw new $b;const I=u<<2|m>>4;if(s.push(I),_!==64){const P=m<<4&240|_>>2;if(s.push(P),b!==64){const U=_<<6&192|b;s.push(U)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class $b extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Kb=function(r){const e=kE(r);return PE.encodeByteArray(e,!0)},rh=function(r){return Kb(r).replace(/\./g,"")},LE=function(r){try{return PE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb=()=>Qb().__FIREBASE_DEFAULTS__,Xb=()=>{if(typeof process>"u"||typeof Ky>"u")return;const r=Ky.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Wb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&LE(r[1]);return e&&JSON.parse(e)},bh=()=>{try{return Fb()||Yb()||Xb()||Wb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},UE=r=>{var e,n;return(n=(e=bh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},Zb=r=>{const e=UE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},jE=()=>{var r;return(r=bh())===null||r===void 0?void 0:r.config},zE=r=>{var e;return(e=bh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[rh(JSON.stringify(n)),rh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function nR(){var r;const e=(r=bh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function iR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function sR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aR(){const r=Jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function oR(){return!nR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lR(){try{return typeof indexedDB=="object"}catch{return!1}}function uR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="FirebaseError";class lr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=cR,Object.setPrototypeOf(this,lr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,su.prototype.create)}}class su{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?hR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new lr(o,m,s)}}function hR(r,e){return r.replace(fR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const fR=/\{\$([^}]+)}/g;function dR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ys(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Qy(u)&&Qy(f)){if(!Ys(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Qy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function au(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function kl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Pl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function mR(r,e){const n=new pR(r,e);return n.subscribe.bind(n)}class pR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");gR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Wd),o.error===void 0&&(o.error=Wd),o.complete===void 0&&(o.complete=Wd);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Wd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tn(r){return r&&r._delegate?r._delegate:r}class Xs{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $s="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Jb;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(vR(e))try{this.getOrInitializeService({instanceIdentifier:$s})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=$s){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=$s){return this.instances.has(e)}getOptions(e=$s){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:yR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=$s){return this.component?this.component.multipleInstances?e:$s:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yR(r){return r===$s?void 0:r}function vR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new _R(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const TR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},SR=Me.INFO,AR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},wR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=AR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class zm{constructor(e){this.name=e,this._logLevel=SR,this._logHandler=wR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const bR=(r,e)=>e.some(n=>r instanceof n);let Yy,Xy;function RR(){return Yy||(Yy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CR(){return Xy||(Xy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const BE=new WeakMap,cm=new WeakMap,HE=new WeakMap,Zd=new WeakMap,Bm=new WeakMap;function IR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(Jr(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&BE.set(n,r)}).catch(()=>{}),Bm.set(e,r),e}function xR(r){if(cm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});cm.set(r,e)}let hm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return cm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||HE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Jr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function DR(r){hm=r(hm)}function NR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Jd(this),e,...n);return HE.set(s,e.sort?e.sort():[e]),Jr(s)}:CR().includes(r)?function(...e){return r.apply(Jd(this),e),Jr(BE.get(this))}:function(...e){return Jr(r.apply(Jd(this),e))}}function OR(r){return typeof r=="function"?NR(r):(r instanceof IDBTransaction&&xR(r),bR(r,RR())?new Proxy(r,hm):r)}function Jr(r){if(r instanceof IDBRequest)return IR(r);if(Zd.has(r))return Zd.get(r);const e=OR(r);return e!==r&&(Zd.set(r,e),Bm.set(e,r)),e}const Jd=r=>Bm.get(r);function MR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=Jr(f);return s&&f.addEventListener("upgradeneeded",p=>{s(Jr(f.result),p.oldVersion,p.newVersion,Jr(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const VR=["get","getKey","getAll","getAllKeys","count"],kR=["put","add","delete","clear"],em=new Map;function Wy(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(em.get(e))return em.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=kR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||VR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),o&&p.done]))[0]};return em.set(e,u),u}DR(r=>({...r,get:(e,n,s)=>Wy(e,n)||r.get(e,n,s),has:(e,n)=>!!Wy(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(LR(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function LR(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const fm="@firebase/app",Zy="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr=new zm("@firebase/app"),UR="@firebase/app-compat",jR="@firebase/analytics-compat",zR="@firebase/analytics",BR="@firebase/app-check-compat",HR="@firebase/app-check",qR="@firebase/auth",FR="@firebase/auth-compat",GR="@firebase/database",$R="@firebase/data-connect",KR="@firebase/database-compat",QR="@firebase/functions",YR="@firebase/functions-compat",XR="@firebase/installations",WR="@firebase/installations-compat",ZR="@firebase/messaging",JR="@firebase/messaging-compat",e1="@firebase/performance",t1="@firebase/performance-compat",n1="@firebase/remote-config",i1="@firebase/remote-config-compat",r1="@firebase/storage",s1="@firebase/storage-compat",a1="@firebase/firestore",o1="@firebase/vertexai",l1="@firebase/firestore-compat",u1="firebase",c1="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dm="[DEFAULT]",h1={[fm]:"fire-core",[UR]:"fire-core-compat",[zR]:"fire-analytics",[jR]:"fire-analytics-compat",[HR]:"fire-app-check",[BR]:"fire-app-check-compat",[qR]:"fire-auth",[FR]:"fire-auth-compat",[GR]:"fire-rtdb",[$R]:"fire-data-connect",[KR]:"fire-rtdb-compat",[QR]:"fire-fn",[YR]:"fire-fn-compat",[XR]:"fire-iid",[WR]:"fire-iid-compat",[ZR]:"fire-fcm",[JR]:"fire-fcm-compat",[e1]:"fire-perf",[t1]:"fire-perf-compat",[n1]:"fire-rc",[i1]:"fire-rc-compat",[r1]:"fire-gcs",[s1]:"fire-gcs-compat",[a1]:"fire-fst",[l1]:"fire-fst-compat",[o1]:"fire-vertex","fire-js":"fire-js",[u1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sh=new Map,f1=new Map,mm=new Map;function Jy(r,e){try{r.container.addComponent(e)}catch(n){rr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function lo(r){const e=r.name;if(mm.has(e))return rr.debug(`There were multiple attempts to register component ${e}.`),!1;mm.set(e,r);for(const n of sh.values())Jy(n,r);for(const n of f1.values())Jy(n,r);return!0}function Hm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function jn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},es=new su("app","Firebase",d1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eo=c1;function qE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:dm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw es.create("bad-app-name",{appName:String(o)});if(n||(n=jE()),!n)throw es.create("no-options");const u=sh.get(o);if(u){if(Ys(n,u.options)&&Ys(s,u.config))return u;throw es.create("duplicate-app",{appName:o})}const f=new ER(o);for(const p of mm.values())f.addComponent(p);const m=new m1(n,s,f);return sh.set(o,m),m}function FE(r=dm){const e=sh.get(r);if(!e&&r===dm&&jE())return qE();if(!e)throw es.create("no-app",{appName:r});return e}function ts(r,e,n){var s;let o=(s=h1[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),rr.warn(m.join(" "));return}lo(new Xs(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p1="firebase-heartbeat-database",g1=1,Kl="firebase-heartbeat-store";let tm=null;function GE(){return tm||(tm=MR(p1,g1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Kl)}catch(n){console.warn(n)}}}}).catch(r=>{throw es.create("idb-open",{originalErrorMessage:r.message})})),tm}async function _1(r){try{const n=(await GE()).transaction(Kl),s=await n.objectStore(Kl).get($E(r));return await n.done,s}catch(e){if(e instanceof lr)rr.warn(e.message);else{const n=es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});rr.warn(n.message)}}}async function ev(r,e){try{const s=(await GE()).transaction(Kl,"readwrite");await s.objectStore(Kl).put(e,$E(r)),await s.done}catch(n){if(n instanceof lr)rr.warn(n.message);else{const s=es.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});rr.warn(s.message)}}}function $E(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=1024,v1=30;class E1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new S1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=tv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>v1){const f=A1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){rr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=tv(),{heartbeatsToSend:s,unsentEntries:o}=T1(this._heartbeatsCache.heartbeats),u=rh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return rr.warn(n),""}}}function tv(){return new Date().toISOString().substring(0,10)}function T1(r,e=y1){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),nv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),nv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class S1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lR()?uR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await _1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return ev(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return ev(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function nv(r){return rh(JSON.stringify({version:2,heartbeats:r})).length}function A1(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(r){lo(new Xs("platform-logger",e=>new PR(e),"PRIVATE")),lo(new Xs("heartbeat",e=>new E1(e),"PRIVATE")),ts(fm,Zy,r),ts(fm,Zy,"esm2017"),ts("fire-js","")}w1("");var iv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ns,KE;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,R){function w(){}w.prototype=R.prototype,M.D=R.prototype,M.prototype=new w,M.prototype.constructor=M,M.C=function(x,V,z){for(var D=Array(arguments.length-2),St=2;St<arguments.length;St++)D[St-2]=arguments[St];return R.prototype[V].apply(x,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,R,w){w||(w=0);var x=Array(16);if(typeof R=="string")for(var V=0;16>V;++V)x[V]=R.charCodeAt(w++)|R.charCodeAt(w++)<<8|R.charCodeAt(w++)<<16|R.charCodeAt(w++)<<24;else for(V=0;16>V;++V)x[V]=R[w++]|R[w++]<<8|R[w++]<<16|R[w++]<<24;R=M.g[0],w=M.g[1],V=M.g[2];var z=M.g[3],D=R+(z^w&(V^z))+x[0]+3614090360&4294967295;R=w+(D<<7&4294967295|D>>>25),D=z+(V^R&(w^V))+x[1]+3905402710&4294967295,z=R+(D<<12&4294967295|D>>>20),D=V+(w^z&(R^w))+x[2]+606105819&4294967295,V=z+(D<<17&4294967295|D>>>15),D=w+(R^V&(z^R))+x[3]+3250441966&4294967295,w=V+(D<<22&4294967295|D>>>10),D=R+(z^w&(V^z))+x[4]+4118548399&4294967295,R=w+(D<<7&4294967295|D>>>25),D=z+(V^R&(w^V))+x[5]+1200080426&4294967295,z=R+(D<<12&4294967295|D>>>20),D=V+(w^z&(R^w))+x[6]+2821735955&4294967295,V=z+(D<<17&4294967295|D>>>15),D=w+(R^V&(z^R))+x[7]+4249261313&4294967295,w=V+(D<<22&4294967295|D>>>10),D=R+(z^w&(V^z))+x[8]+1770035416&4294967295,R=w+(D<<7&4294967295|D>>>25),D=z+(V^R&(w^V))+x[9]+2336552879&4294967295,z=R+(D<<12&4294967295|D>>>20),D=V+(w^z&(R^w))+x[10]+4294925233&4294967295,V=z+(D<<17&4294967295|D>>>15),D=w+(R^V&(z^R))+x[11]+2304563134&4294967295,w=V+(D<<22&4294967295|D>>>10),D=R+(z^w&(V^z))+x[12]+1804603682&4294967295,R=w+(D<<7&4294967295|D>>>25),D=z+(V^R&(w^V))+x[13]+4254626195&4294967295,z=R+(D<<12&4294967295|D>>>20),D=V+(w^z&(R^w))+x[14]+2792965006&4294967295,V=z+(D<<17&4294967295|D>>>15),D=w+(R^V&(z^R))+x[15]+1236535329&4294967295,w=V+(D<<22&4294967295|D>>>10),D=R+(V^z&(w^V))+x[1]+4129170786&4294967295,R=w+(D<<5&4294967295|D>>>27),D=z+(w^V&(R^w))+x[6]+3225465664&4294967295,z=R+(D<<9&4294967295|D>>>23),D=V+(R^w&(z^R))+x[11]+643717713&4294967295,V=z+(D<<14&4294967295|D>>>18),D=w+(z^R&(V^z))+x[0]+3921069994&4294967295,w=V+(D<<20&4294967295|D>>>12),D=R+(V^z&(w^V))+x[5]+3593408605&4294967295,R=w+(D<<5&4294967295|D>>>27),D=z+(w^V&(R^w))+x[10]+38016083&4294967295,z=R+(D<<9&4294967295|D>>>23),D=V+(R^w&(z^R))+x[15]+3634488961&4294967295,V=z+(D<<14&4294967295|D>>>18),D=w+(z^R&(V^z))+x[4]+3889429448&4294967295,w=V+(D<<20&4294967295|D>>>12),D=R+(V^z&(w^V))+x[9]+568446438&4294967295,R=w+(D<<5&4294967295|D>>>27),D=z+(w^V&(R^w))+x[14]+3275163606&4294967295,z=R+(D<<9&4294967295|D>>>23),D=V+(R^w&(z^R))+x[3]+4107603335&4294967295,V=z+(D<<14&4294967295|D>>>18),D=w+(z^R&(V^z))+x[8]+1163531501&4294967295,w=V+(D<<20&4294967295|D>>>12),D=R+(V^z&(w^V))+x[13]+2850285829&4294967295,R=w+(D<<5&4294967295|D>>>27),D=z+(w^V&(R^w))+x[2]+4243563512&4294967295,z=R+(D<<9&4294967295|D>>>23),D=V+(R^w&(z^R))+x[7]+1735328473&4294967295,V=z+(D<<14&4294967295|D>>>18),D=w+(z^R&(V^z))+x[12]+2368359562&4294967295,w=V+(D<<20&4294967295|D>>>12),D=R+(w^V^z)+x[5]+4294588738&4294967295,R=w+(D<<4&4294967295|D>>>28),D=z+(R^w^V)+x[8]+2272392833&4294967295,z=R+(D<<11&4294967295|D>>>21),D=V+(z^R^w)+x[11]+1839030562&4294967295,V=z+(D<<16&4294967295|D>>>16),D=w+(V^z^R)+x[14]+4259657740&4294967295,w=V+(D<<23&4294967295|D>>>9),D=R+(w^V^z)+x[1]+2763975236&4294967295,R=w+(D<<4&4294967295|D>>>28),D=z+(R^w^V)+x[4]+1272893353&4294967295,z=R+(D<<11&4294967295|D>>>21),D=V+(z^R^w)+x[7]+4139469664&4294967295,V=z+(D<<16&4294967295|D>>>16),D=w+(V^z^R)+x[10]+3200236656&4294967295,w=V+(D<<23&4294967295|D>>>9),D=R+(w^V^z)+x[13]+681279174&4294967295,R=w+(D<<4&4294967295|D>>>28),D=z+(R^w^V)+x[0]+3936430074&4294967295,z=R+(D<<11&4294967295|D>>>21),D=V+(z^R^w)+x[3]+3572445317&4294967295,V=z+(D<<16&4294967295|D>>>16),D=w+(V^z^R)+x[6]+76029189&4294967295,w=V+(D<<23&4294967295|D>>>9),D=R+(w^V^z)+x[9]+3654602809&4294967295,R=w+(D<<4&4294967295|D>>>28),D=z+(R^w^V)+x[12]+3873151461&4294967295,z=R+(D<<11&4294967295|D>>>21),D=V+(z^R^w)+x[15]+530742520&4294967295,V=z+(D<<16&4294967295|D>>>16),D=w+(V^z^R)+x[2]+3299628645&4294967295,w=V+(D<<23&4294967295|D>>>9),D=R+(V^(w|~z))+x[0]+4096336452&4294967295,R=w+(D<<6&4294967295|D>>>26),D=z+(w^(R|~V))+x[7]+1126891415&4294967295,z=R+(D<<10&4294967295|D>>>22),D=V+(R^(z|~w))+x[14]+2878612391&4294967295,V=z+(D<<15&4294967295|D>>>17),D=w+(z^(V|~R))+x[5]+4237533241&4294967295,w=V+(D<<21&4294967295|D>>>11),D=R+(V^(w|~z))+x[12]+1700485571&4294967295,R=w+(D<<6&4294967295|D>>>26),D=z+(w^(R|~V))+x[3]+2399980690&4294967295,z=R+(D<<10&4294967295|D>>>22),D=V+(R^(z|~w))+x[10]+4293915773&4294967295,V=z+(D<<15&4294967295|D>>>17),D=w+(z^(V|~R))+x[1]+2240044497&4294967295,w=V+(D<<21&4294967295|D>>>11),D=R+(V^(w|~z))+x[8]+1873313359&4294967295,R=w+(D<<6&4294967295|D>>>26),D=z+(w^(R|~V))+x[15]+4264355552&4294967295,z=R+(D<<10&4294967295|D>>>22),D=V+(R^(z|~w))+x[6]+2734768916&4294967295,V=z+(D<<15&4294967295|D>>>17),D=w+(z^(V|~R))+x[13]+1309151649&4294967295,w=V+(D<<21&4294967295|D>>>11),D=R+(V^(w|~z))+x[4]+4149444226&4294967295,R=w+(D<<6&4294967295|D>>>26),D=z+(w^(R|~V))+x[11]+3174756917&4294967295,z=R+(D<<10&4294967295|D>>>22),D=V+(R^(z|~w))+x[2]+718787259&4294967295,V=z+(D<<15&4294967295|D>>>17),D=w+(z^(V|~R))+x[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(V+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+V&4294967295,M.g[3]=M.g[3]+z&4294967295}s.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var w=R-this.blockSize,x=this.B,V=this.h,z=0;z<R;){if(V==0)for(;z<=w;)o(this,M,z),z+=this.blockSize;if(typeof M=="string"){for(;z<R;)if(x[V++]=M.charCodeAt(z++),V==this.blockSize){o(this,x),V=0;break}}else for(;z<R;)if(x[V++]=M[z++],V==this.blockSize){o(this,x),V=0;break}}this.h=V,this.o+=R},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var w=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=w&255,w/=256;for(this.u(M),M=Array(16),R=w=0;4>R;++R)for(var x=0;32>x;x+=8)M[w++]=this.g[R]>>>x&255;return M};function u(M,R){var w=m;return Object.prototype.hasOwnProperty.call(w,M)?w[M]:w[M]=R(M)}function f(M,R){this.h=R;for(var w=[],x=!0,V=M.length-1;0<=V;V--){var z=M[V]|0;x&&z==R||(w[V]=z,x=!1)}this.g=w}var m={};function p(M){return-128<=M&&128>M?u(M,function(R){return new f([R|0],0>R?-1:0)}):new f([M|0],0>M?-1:0)}function _(M){if(isNaN(M)||!isFinite(M))return b;if(0>M)return F(_(-M));for(var R=[],w=1,x=0;M>=w;x++)R[x]=M/w|0,w*=4294967296;return new f(R,0)}function T(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return F(T(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(R,8)),x=b,V=0;V<M.length;V+=8){var z=Math.min(8,M.length-V),D=parseInt(M.substring(V,V+z),R);8>z?(z=_(Math.pow(R,z)),x=x.j(z).add(_(D))):(x=x.j(w),x=x.add(_(D)))}return x}var b=p(0),I=p(1),P=p(16777216);r=f.prototype,r.m=function(){if(Q(this))return-F(this).m();for(var M=0,R=1,w=0;w<this.g.length;w++){var x=this.i(w);M+=(0<=x?x:4294967296+x)*R,R*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(U(this))return"0";if(Q(this))return"-"+F(this).toString(M);for(var R=_(Math.pow(M,6)),w=this,x="";;){var V=pe(w,R).g;w=Y(w,V.j(R));var z=((0<w.g.length?w.g[0]:w.h)>>>0).toString(M);if(w=V,U(w))return z+x;for(;6>z.length;)z="0"+z;x=z+x}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function U(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function Q(M){return M.h==-1}r.l=function(M){return M=Y(this,M),Q(M)?-1:U(M)?0:1};function F(M){for(var R=M.g.length,w=[],x=0;x<R;x++)w[x]=~M.g[x];return new f(w,~M.h).add(I)}r.abs=function(){return Q(this)?F(this):this},r.add=function(M){for(var R=Math.max(this.g.length,M.g.length),w=[],x=0,V=0;V<=R;V++){var z=x+(this.i(V)&65535)+(M.i(V)&65535),D=(z>>>16)+(this.i(V)>>>16)+(M.i(V)>>>16);x=D>>>16,z&=65535,D&=65535,w[V]=D<<16|z}return new f(w,w[w.length-1]&-2147483648?-1:0)};function Y(M,R){return M.add(F(R))}r.j=function(M){if(U(this)||U(M))return b;if(Q(this))return Q(M)?F(this).j(F(M)):F(F(this).j(M));if(Q(M))return F(this.j(F(M)));if(0>this.l(P)&&0>M.l(P))return _(this.m()*M.m());for(var R=this.g.length+M.g.length,w=[],x=0;x<2*R;x++)w[x]=0;for(x=0;x<this.g.length;x++)for(var V=0;V<M.g.length;V++){var z=this.i(x)>>>16,D=this.i(x)&65535,St=M.i(V)>>>16,gt=M.i(V)&65535;w[2*x+2*V]+=D*gt,ne(w,2*x+2*V),w[2*x+2*V+1]+=z*gt,ne(w,2*x+2*V+1),w[2*x+2*V+1]+=D*St,ne(w,2*x+2*V+1),w[2*x+2*V+2]+=z*St,ne(w,2*x+2*V+2)}for(x=0;x<R;x++)w[x]=w[2*x+1]<<16|w[2*x];for(x=R;x<2*R;x++)w[x]=0;return new f(w,0)};function ne(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function ee(M,R){this.g=M,this.h=R}function pe(M,R){if(U(R))throw Error("division by zero");if(U(M))return new ee(b,b);if(Q(M))return R=pe(F(M),R),new ee(F(R.g),F(R.h));if(Q(R))return R=pe(M,F(R)),new ee(F(R.g),R.h);if(30<M.g.length){if(Q(M)||Q(R))throw Error("slowDivide_ only works with positive integers.");for(var w=I,x=R;0>=x.l(M);)w=ue(w),x=ue(x);var V=be(w,1),z=be(x,1);for(x=be(x,2),w=be(w,2);!U(x);){var D=z.add(x);0>=D.l(M)&&(V=V.add(w),z=D),x=be(x,1),w=be(w,1)}return R=Y(M,V.j(R)),new ee(V,R)}for(V=b;0<=M.l(R);){for(w=Math.max(1,Math.floor(M.m()/R.m())),x=Math.ceil(Math.log(w)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),z=_(w),D=z.j(R);Q(D)||0<D.l(M);)w-=x,z=_(w),D=z.j(R);U(z)&&(z=I),V=V.add(z),M=Y(M,D)}return new ee(V,M)}r.A=function(M){return pe(this,M).h},r.and=function(M){for(var R=Math.max(this.g.length,M.g.length),w=[],x=0;x<R;x++)w[x]=this.i(x)&M.i(x);return new f(w,this.h&M.h)},r.or=function(M){for(var R=Math.max(this.g.length,M.g.length),w=[],x=0;x<R;x++)w[x]=this.i(x)|M.i(x);return new f(w,this.h|M.h)},r.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),w=[],x=0;x<R;x++)w[x]=this.i(x)^M.i(x);return new f(w,this.h^M.h)};function ue(M){for(var R=M.g.length+1,w=[],x=0;x<R;x++)w[x]=M.i(x)<<1|M.i(x-1)>>>31;return new f(w,M.h)}function be(M,R){var w=R>>5;R%=32;for(var x=M.g.length-w,V=[],z=0;z<x;z++)V[z]=0<R?M.i(z+w)>>>R|M.i(z+w+1)<<32-R:M.i(z+w);return new f(V,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,KE=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=T,ns=f}).apply(typeof iv<"u"?iv:typeof self<"u"?self:typeof window<"u"?window:{});var Uc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QE,Ll,YE,Kc,pm,XE,WE,ZE;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,y){return c==Array.prototype||c==Object.prototype||(c[g]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uc=="object"&&Uc];for(var g=0;g<c.length;++g){var y=c[g];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var y=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var j=c[A];if(!(j in y))break e;y=y[j]}c=c[c.length-1],A=y[c],g=g(A),g!=A&&g!=null&&e(y,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var y=0,A=!1,j={next:function(){if(!A&&y<c.length){var G=y++;return{value:g(G,c[G]),done:!1}}return A=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function _(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function T(c,g,y){return c.call.apply(c.bind,arguments)}function b(c,g,y){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,A),c.apply(g,j)}}return function(){return c.apply(g,arguments)}}function I(c,g,y){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:b,I.apply(null,arguments)}function P(c,g){var y=Array.prototype.slice.call(arguments,1);return function(){var A=y.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function U(c,g){function y(){}y.prototype=g.prototype,c.aa=g.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(A,j,G){for(var ie=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ie[Le-2]=arguments[Le];return g.prototype[j].apply(A,ie)}}function Q(c){const g=c.length;if(0<g){const y=Array(g);for(let A=0;A<g;A++)y[A]=c[A];return y}return[]}function F(c,g){for(let y=1;y<arguments.length;y++){const A=arguments[y];if(p(A)){const j=c.length||0,G=A.length||0;c.length=j+G;for(let ie=0;ie<G;ie++)c[j+ie]=A[ie]}else c.push(A)}}class Y{constructor(g,y){this.i=g,this.j=y,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function ne(c){return/^[\s\xa0]*$/.test(c)}function ee(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function pe(c){return pe[" "](c),c}pe[" "]=function(){};var ue=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function be(c,g,y){for(const A in c)g.call(y,c[A],A,c)}function M(c,g){for(const y in c)g.call(void 0,c[y],y,c)}function R(c){const g={};for(const y in c)g[y]=c[y];return g}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,g){let y,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(y in A)c[y]=A[y];for(let G=0;G<w.length;G++)y=w[G],Object.prototype.hasOwnProperty.call(A,y)&&(c[y]=A[y])}}function V(c){var g=1;c=c.split(":");const y=[];for(;0<g&&c.length;)y.push(c.shift()),g--;return c.length&&y.push(c.join(":")),y}function z(c){m.setTimeout(()=>{throw c},0)}function D(){var c=Ge;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class St{constructor(){this.h=this.g=null}add(g,y){const A=gt.get();A.set(g,y),this.h?this.h.next=A:this.g=A,this.h=A}}var gt=new Y(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(g,y){this.h=g,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,me=!1,Ge=new St,N=()=>{const c=m.Promise.resolve(void 0);Ee=()=>{c.then(te)}};var te=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(y){z(y)}var g=gt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}me=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};m.addEventListener("test",y,g),m.removeEventListener("test",y,g)}catch{}return c}();function Ie(c,g){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ue){e:{try{pe(g.nodeName);var j=!0;break e}catch{}j=!1}j||(g=null)}}else y=="mouseover"?g=c.fromElement:y=="mouseout"&&(g=c.toElement);this.relatedTarget=g,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Re[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}U(Ie,se);var Re={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var _t="closure_listenable_"+(1e6*Math.random()|0),Be=0;function ot(c,g,y,A,j){this.listener=c,this.proxy=null,this.src=g,this.type=y,this.capture=!!A,this.ha=j,this.key=++Be,this.da=this.fa=!1}function Qe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function en(c){this.src=c,this.g={},this.h=0}en.prototype.add=function(c,g,y,A,j){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var ie=Sn(c,g,A,j);return-1<ie?(g=c[ie],y||(g.fa=!1)):(g=new ot(g,this.src,G,!!A,j),g.fa=y,c.push(g)),g};function wi(c,g){var y=g.type;if(y in c.g){var A=c.g[y],j=Array.prototype.indexOf.call(A,g,void 0),G;(G=0<=j)&&Array.prototype.splice.call(A,j,1),G&&(Qe(g),c.g[y].length==0&&(delete c.g[y],c.h--))}}function Sn(c,g,y,A){for(var j=0;j<c.length;++j){var G=c[j];if(!G.da&&G.listener==g&&G.capture==!!y&&G.ha==A)return j}return-1}var ur="closure_lm_"+(1e6*Math.random()|0),cr={};function bi(c,g,y,A,j){if(Array.isArray(g)){for(var G=0;G<g.length;G++)bi(c,g[G],y,A,j);return null}return y=gu(y),c&&c[_t]?c.K(g,y,_(A)?!!A.capture:!1,j):Ro(c,g,y,!1,A,j)}function Ro(c,g,y,A,j,G){if(!g)throw Error("Invalid event type");var ie=_(j)?!!j.capture:!!j,Le=Co(c);if(Le||(c[ur]=Le=new en(c)),y=Le.add(g,y,A,ie,G),y.proxy)return y;if(A=ua(),y.proxy=A,A.src=c,A.listener=y,c.addEventListener)ae||(j=ie),j===void 0&&(j=!1),c.addEventListener(g.toString(),A,j);else if(c.attachEvent)c.attachEvent(ha(g.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return y}function ua(){function c(y){return g.call(c.src,c.listener,y)}const g=Fh;return c}function ca(c,g,y,A,j){if(Array.isArray(g))for(var G=0;G<g.length;G++)ca(c,g[G],y,A,j);else A=_(A)?!!A.capture:!!A,y=gu(y),c&&c[_t]?(c=c.i,g=String(g).toString(),g in c.g&&(G=c.g[g],y=Sn(G,y,A,j),-1<y&&(Qe(G[y]),Array.prototype.splice.call(G,y,1),G.length==0&&(delete c.g[g],c.h--)))):c&&(c=Co(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Sn(g,y,A,j)),(y=-1<c?g[c]:null)&&ds(y))}function ds(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[_t])wi(g.i,c);else{var y=c.type,A=c.proxy;g.removeEventListener?g.removeEventListener(y,A,c.capture):g.detachEvent?g.detachEvent(ha(y),A):g.addListener&&g.removeListener&&g.removeListener(A),(y=Co(g))?(wi(y,c),y.h==0&&(y.src=null,g[ur]=null)):Qe(c)}}}function ha(c){return c in cr?cr[c]:cr[c]="on"+c}function Fh(c,g){if(c.da)c=!0;else{g=new Ie(g,this);var y=c.listener,A=c.ha||c.src;c.fa&&ds(c),c=y.call(A,g)}return c}function Co(c){return c=c[ur],c instanceof en?c:null}var ln="__closure_events_fn_"+(1e9*Math.random()>>>0);function gu(c){return typeof c=="function"?c:(c[ln]||(c[ln]=function(g){return c.handleEvent(g)}),c[ln])}function At(){he.call(this),this.i=new en(this),this.M=this,this.F=null}U(At,he),At.prototype[_t]=!0,At.prototype.removeEventListener=function(c,g,y,A){ca(this,c,g,y,A)};function Ot(c,g){var y,A=c.F;if(A)for(y=[];A;A=A.F)y.push(A);if(c=c.M,A=g.type||g,typeof g=="string")g=new se(g,c);else if(g instanceof se)g.target=g.target||c;else{var j=g;g=new se(A,c),x(g,j)}if(j=!0,y)for(var G=y.length-1;0<=G;G--){var ie=g.g=y[G];j=Ri(ie,A,!0,g)&&j}if(ie=g.g=c,j=Ri(ie,A,!0,g)&&j,j=Ri(ie,A,!1,g)&&j,y)for(G=0;G<y.length;G++)ie=g.g=y[G],j=Ri(ie,A,!1,g)&&j}At.prototype.N=function(){if(At.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var y=c.g[g],A=0;A<y.length;A++)Qe(y[A]);delete c.g[g],c.h--}}this.F=null},At.prototype.K=function(c,g,y,A){return this.i.add(String(c),g,!1,y,A)},At.prototype.L=function(c,g,y,A){return this.i.add(String(c),g,!0,y,A)};function Ri(c,g,y,A){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var j=!0,G=0;G<g.length;++G){var ie=g[G];if(ie&&!ie.da&&ie.capture==y){var Le=ie.listener,bt=ie.ha||ie.src;ie.fa&&wi(c.i,ie),j=Le.call(bt,A)!==!1&&j}}return j&&!A.defaultPrevented}function _u(c,g,y){if(typeof c=="function")y&&(c=I(c,y));else if(c&&typeof c.handleEvent=="function")c=I(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function Io(c){c.g=_u(()=>{c.g=null,c.i&&(c.i=!1,Io(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Gh extends he{constructor(g,y){super(),this.m=g,this.l=y,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Io(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ms(c){he.call(this),this.h=c,this.g={}}U(ms,he);var hr=[];function Kt(c){be(c.g,function(g,y){this.g.hasOwnProperty(y)&&ds(g)},c),c.g={}}ms.prototype.N=function(){ms.aa.N.call(this),Kt(this)},ms.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xo=m.JSON.stringify,Xn=m.JSON.parse,tn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Do(){}Do.prototype.h=null;function yu(c){return c.h||(c.h=c.i())}function vu(){}var Wn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function fr(){se.call(this,"d")}U(fr,se);function Bn(){se.call(this,"c")}U(Bn,se);var An={},dr=null;function fa(){return dr=dr||new At}An.La="serverreachability";function No(c){se.call(this,An.La,c)}U(No,se);function mr(c){const g=fa();Ot(g,new No(g))}An.STAT_EVENT="statevent";function da(c,g){se.call(this,An.STAT_EVENT,c),this.stat=g}U(da,se);function dt(c){const g=fa();Ot(g,new da(g,c))}An.Ma="timingevent";function Eu(c,g){se.call(this,An.Ma,c),this.size=g}U(Eu,se);function pr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function gr(){this.g=!0}gr.prototype.xa=function(){this.g=!1};function Tu(c,g,y,A,j,G){c.info(function(){if(c.g)if(G)for(var ie="",Le=G.split("&"),bt=0;bt<Le.length;bt++){var Ue=Le[bt].split("=");if(1<Ue.length){var kt=Ue[0];Ue=Ue[1];var Rt=kt.split("_");ie=2<=Rt.length&&Rt[1]=="type"?ie+(kt+"="+Ue+"&"):ie+(kt+"=redacted&")}}else ie=null;else ie=G;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+g+`
`+y+`
`+ie})}function Su(c,g,y,A,j,G,ie){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+g+`
`+y+`
`+G+" "+ie})}function _r(c,g,y,A){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Mt(c,y)+(A?" "+A:"")})}function Zn(c,g){c.info(function(){return"TIMEOUT: "+g})}gr.prototype.info=function(){};function Mt(c,g){if(!c.g)return g;if(!g)return null;try{var y=JSON.parse(g);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var A=y[c];if(!(2>A.length)){var j=A[1];if(Array.isArray(j)&&!(1>j.length)){var G=j[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ie=1;ie<j.length;ie++)j[ie]=""}}}}return xo(y)}catch{return g}}var wt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ps;function ma(){}U(ma,Do),ma.prototype.g=function(){return new XMLHttpRequest},ma.prototype.i=function(){return{}},ps=new ma;function Jn(c,g,y,A){this.j=c,this.i=g,this.l=y,this.R=A||1,this.U=new ms(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oo}function Oo(){this.i=null,this.g="",this.h=!1}var yr={},gs={};function Hn(c,g,y){c.L=1,c.v=vs(lt(g)),c.m=y,c.P=!0,Ii(c,null)}function Ii(c,g){c.F=Date.now(),nt(c),c.A=lt(c.v);var y=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Ni(y.i,"t",A),c.C=0,y=c.j.J,c.h=new Oo,c.g=Pu(c.j,y?g:null,!c.m),0<c.O&&(c.M=new Gh(I(c.Y,c,c.g),c.O)),g=c.U,y=c.g,A=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(hr[0]=j.toString()),j=hr);for(var G=0;G<j.length;G++){var ie=bi(y,j[G],A||g.handleEvent,!1,g.h||g);if(!ie)break;g.g[ie.key]=ie}g=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),mr(),Tu(c.i,c.u,c.A,c.l,c.R,c.m)}Jn.prototype.ca=function(c){c=c.target;const g=this.M;g&&In(c)==3?g.j():this.Y(c)},Jn.prototype.Y=function(c){try{if(c==this.g)e:{const Rt=In(this.g);var g=this.g.Ba();const ki=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||Iu(this.g)))){this.J||Rt!=4||g==7||(g==8||0>=ki?mr(3):mr(2)),pa(this);var y=this.g.Z();this.X=y;t:if(vr(this)){var A=Iu(this.g);c="";var j=A.length,G=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){un(this),dn(this);var ie="";break t}this.h.i=new m.TextDecoder}for(g=0;g<j;g++)this.h.h=!0,c+=this.h.i.decode(A[g],{stream:!(G&&g==j-1)});A.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=y==200,Su(this.i,this.u,this.A,this.l,this.R,Rt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,bt=this.g;if((Le=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(Le)){var Ue=Le;break t}}Ue=null}if(y=Ue)_r(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,mn(this,y);else{this.o=!1,this.s=3,dt(12),un(this),dn(this);break e}}if(this.P){y=!0;let zt;for(;!this.J&&this.C<ie.length;)if(zt=Er(this,ie),zt==gs){Rt==4&&(this.s=4,dt(14),y=!1),_r(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==yr){this.s=4,dt(15),_r(this.i,this.l,ie,"[Invalid Chunk]"),y=!1;break}else _r(this.i,this.l,zt,null),mn(this,zt);if(vr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||ie.length!=0||this.h.h||(this.s=1,dt(16),y=!1),this.o=this.o&&y,!y)_r(this.i,this.l,ie,"[Invalid Chunked Response]"),un(this),dn(this);else if(0<ie.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Rs(kt),kt.M=!0,dt(11))}}else _r(this.i,this.l,ie,null),mn(this,ie);Rt==4&&un(this),this.o&&!this.J&&(Rt==4?Mu(this.j,this):(this.o=!1,nt(this)))}else Wh(this.g),y==400&&0<ie.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),un(this),dn(this)}}}catch{}finally{}};function vr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Er(c,g){var y=c.C,A=g.indexOf(`
`,y);return A==-1?gs:(y=Number(g.substring(y,A)),isNaN(y)?yr:(A+=1,A+y>g.length?gs:(g=g.slice(A,A+y),c.C=A+y,g)))}Jn.prototype.cancel=function(){this.J=!0,un(this)};function nt(c){c.S=Date.now()+c.I,Mo(c,c.I)}function Mo(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pr(I(c.ba,c),g)}function pa(c){c.B&&(m.clearTimeout(c.B),c.B=null)}Jn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Zn(this.i,this.A),this.L!=2&&(mr(),dt(17)),un(this),this.s=2,dn(this)):Mo(this,this.S-c)};function dn(c){c.j.G==0||c.J||Mu(c.j,c)}function un(c){pa(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Kt(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function mn(c,g){try{var y=c.j;if(y.G!=0&&(y.g==c||Tr(y.h,c))){if(!c.K&&Tr(y.h,c)&&y.G==3){try{var A=y.Da.g.parse(g)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)ba(y),Aa(y);else break e;Fo(y),dt(18)}}else y.za=j[1],0<y.za-y.T&&37500>j[2]&&y.F&&y.v==0&&!y.C&&(y.C=pr(I(y.Za,y),6e3));if(1>=Au(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Vi(y,11)}else if((c.K||y.g==c)&&ba(y),!ne(g))for(j=y.Da.g.parse(g),g=0;g<j.length;g++){let Ue=j[g];if(y.T=Ue[0],Ue=Ue[1],y.G==2)if(Ue[0]=="c"){y.K=Ue[1],y.ia=Ue[2];const kt=Ue[3];kt!=null&&(y.la=kt,y.j.info("VER="+y.la));const Rt=Ue[4];Rt!=null&&(y.Aa=Rt,y.j.info("SVER="+y.Aa));const ki=Ue[5];ki!=null&&typeof ki=="number"&&0<ki&&(A=1.5*ki,y.L=A,y.j.info("backChannelRequestTimeoutMs_="+A)),A=y;const zt=c.g;if(zt){const ai=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ai){var G=A.h;G.g||ai.indexOf("spdy")==-1&&ai.indexOf("quic")==-1&&ai.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Sr(G,G.h),G.h=null))}if(A.D){const $o=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;$o&&(A.ya=$o,He(A.I,A.D,$o))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),A=y;var ie=c;if(A.qa=ku(A,A.J?A.ia:null,A.W),ie.K){wn(A.h,ie);var Le=ie,bt=A.L;bt&&(Le.I=bt),Le.B&&(pa(Le),nt(Le)),A.g=ie}else Nu(A);0<y.i.length&&wa(y)}else Ue[0]!="stop"&&Ue[0]!="close"||Vi(y,7);else y.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Vi(y,7):Ho(y):Ue[0]!="noop"&&y.l&&y.l.ta(Ue),y.v=0)}}mr(4)}catch{}}var $h=class{constructor(c,g){this.g=c,this.map=g}};function Vo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ko(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Au(c){return c.h?1:c.g?c.g.size:0}function Tr(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Sr(c,g){c.g?c.g.add(g):c.h=g}function wn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Vo.prototype.cancel=function(){if(this.i=nn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function nn(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const y of c.g.values())g=g.concat(y.D);return g}return Q(c.i)}function wu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],y=c.length,A=0;A<y;A++)g.push(c[A]);return g}g=[],y=0;for(A in c)g[y++]=c[A];return g}function Kh(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var y=0;y<c;y++)g.push(y);return g}g=[],y=0;for(const A in c)g[y++]=A;return g}}}function _s(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var y=Kh(c),A=wu(c),j=A.length,G=0;G<j;G++)g.call(void 0,A[G],y&&y[G],c)}var Po=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ga(c,g){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var A=c[y].indexOf("="),j=null;if(0<=A){var G=c[y].substring(0,A);j=c[y].substring(A+1)}else G=c[y];g(G,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function xi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof xi){this.h=c.h,Ar(this,c.j),this.o=c.o,this.g=c.g,ys(this,c.s),this.l=c.l;var g=c.i,y=new ei;y.i=g.i,g.g&&(y.g=new Map(g.g),y.h=g.h),_a(this,y),this.m=c.m}else c&&(g=String(c).match(Po))?(this.h=!1,Ar(this,g[1]||"",!0),this.o=wr(g[2]||""),this.g=wr(g[3]||"",!0),ys(this,g[4]),this.l=wr(g[5]||"",!0),_a(this,g[6]||"",!0),this.m=wr(g[7]||"")):(this.h=!1,this.i=new ei(null,this.h))}xi.prototype.toString=function(){var c=[],g=this.j;g&&c.push(bn(g,Lo,!0),":");var y=this.g;return(y||g=="file")&&(c.push("//"),(g=this.o)&&c.push(bn(g,Lo,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(bn(y,y.charAt(0)=="/"?Uo:bu,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",bn(y,Xh)),c.join("")};function lt(c){return new xi(c)}function Ar(c,g,y){c.j=y?wr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ys(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function _a(c,g,y){g instanceof ei?(c.i=g,jo(c.i,c.h)):(y||(g=bn(g,Yh)),c.i=new ei(g,c.h))}function He(c,g,y){c.i.set(g,y)}function vs(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function wr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function bn(c,g,y){return typeof c=="string"?(c=encodeURI(c).replace(g,Qh),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Qh(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Lo=/[#\/\?@]/g,bu=/[#\?:]/g,Uo=/[#\?]/g,Yh=/[#\?@]/g,Xh=/#/g;function ei(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Rn(c){c.g||(c.g=new Map,c.h=0,c.i&&ga(c.i,function(g,y){c.add(decodeURIComponent(g.replace(/\+/g," ")),y)}))}r=ei.prototype,r.add=function(c,g){Rn(this),this.i=null,c=Oi(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(g),this.h+=1,this};function ya(c,g){Rn(c),g=Oi(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Di(c,g){return Rn(c),g=Oi(c,g),c.g.has(g)}r.forEach=function(c,g){Rn(this),this.g.forEach(function(y,A){y.forEach(function(j){c.call(g,j,A,this)},this)},this)},r.na=function(){Rn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),y=[];for(let A=0;A<g.length;A++){const j=c[A];for(let G=0;G<j.length;G++)y.push(g[A])}return y},r.V=function(c){Rn(this);let g=[];if(typeof c=="string")Di(this,c)&&(g=g.concat(this.g.get(Oi(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)g=g.concat(c[y])}return g},r.set=function(c,g){return Rn(this),this.i=null,c=Oi(this,c),Di(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Ni(c,g,y){ya(c,g),0<y.length&&(c.i=null,c.g.set(Oi(c,g),Q(y)),c.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var y=0;y<g.length;y++){var A=g[y];const G=encodeURIComponent(String(A)),ie=this.V(A);for(A=0;A<ie.length;A++){var j=G;ie[A]!==""&&(j+="="+encodeURIComponent(String(ie[A]))),c.push(j)}}return this.i=c.join("&")};function Oi(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function jo(c,g){g&&!c.j&&(Rn(c),c.i=null,c.g.forEach(function(y,A){var j=A.toLowerCase();A!=j&&(ya(this,A),Ni(this,j,y))},c)),c.j=g}function Ru(c,g){const y=new gr;if(m.Image){const A=new Image;A.onload=P(Cn,y,"TestLoadImage: loaded",!0,g,A),A.onerror=P(Cn,y,"TestLoadImage: error",!1,g,A),A.onabort=P(Cn,y,"TestLoadImage: abort",!1,g,A),A.ontimeout=P(Cn,y,"TestLoadImage: timeout",!1,g,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else g(!1)}function Es(c,g){const y=new gr,A=new AbortController,j=setTimeout(()=>{A.abort(),Cn(y,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:A.signal}).then(G=>{clearTimeout(j),G.ok?Cn(y,"TestPingServer: ok",!0,g):Cn(y,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),Cn(y,"TestPingServer: error",!1,g)})}function Cn(c,g,y,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(y)}catch{}}function Ts(){this.g=new tn}function ti(c,g,y){const A=y||"";try{_s(c,function(j,G){let ie=j;_(j)&&(ie=xo(j)),g.push(A+G+"="+encodeURIComponent(ie))})}catch(j){throw g.push(A+"type="+encodeURIComponent("_badmap")),j}}function br(c){this.l=c.Ub||null,this.j=c.eb||!1}U(br,Do),br.prototype.g=function(){return new Mi(this.l,this.j)},br.prototype.i=function(c){return function(){return c}}({});function Mi(c,g){At.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Mi,At),r=Mi.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,ii(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ni(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;zo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function zo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?ni(this):ii(this),this.readyState==3&&zo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ni(this))},r.Qa=function(c){this.g&&(this.response=c,ni(this))},r.ga=function(){this.g&&ni(this)};function ni(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ii(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var y=g.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=g.next();return c.join(`\r
`)};function ii(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Mi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Bo(c){let g="";return be(c,function(y,A){g+=A,g+=":",g+=y,g+=`\r
`}),g}function Vt(c,g,y){e:{for(A in y){var A=!1;break e}A=!0}A||(y=Bo(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):He(c,g,y))}function $e(c){At.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U($e,At);var va=/^https?$/i,Ss=["POST","PUT"];r=$e.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,y,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ps.g(),this.v=this.o?yu(this.o):yu(ps),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){Cu(this,G);return}if(c=y||"",y=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)y.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const G of A.keys())y.set(G,A.get(G));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(y.keys()).find(G=>G.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ss,g,void 0))||A||j||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ie]of y)this.g.setRequestHeader(G,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{As(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){Cu(this,G)}};function Cu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Ea(c),ri(c)}function Ea(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ot(this,"complete"),Ot(this,"abort"),ri(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ri(this,!0)),$e.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ta(this):this.bb())},r.bb=function(){Ta(this)};function Ta(c){if(c.h&&typeof f<"u"&&(!c.v[1]||In(c)!=4||c.Z()!=2)){if(c.u&&In(c)==4)_u(c.Ea,0,c);else if(Ot(c,"readystatechange"),In(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var y;if(!(y=g)){var A;if(A=ie===0){var j=String(c.D).match(Po)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),A=!va.test(j?j.toLowerCase():"")}y=A}if(y)Ot(c,"complete"),Ot(c,"success");else{c.m=6;try{var G=2<In(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",Ea(c)}}finally{ri(c)}}}}function ri(c,g){if(c.g){As(c);const y=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ot(c,"ready");try{y.onreadystatechange=A}catch{}}}function As(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function In(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Xn(g)}};function Iu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Wh(c){const g={};c=(c.g&&2<=In(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ne(c[A]))continue;var y=V(c[A]);const j=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const G=g[j]||[];g[j]=G,G.push(y)}M(g,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ws(c,g,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||g}function Sa(c){this.Aa=0,this.i=[],this.j=new gr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ws("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ws("baseRetryDelayMs",5e3,c),this.cb=ws("retryDelaySeedMs",1e4,c),this.Wa=ws("forwardChannelMaxRetries",2,c),this.wa=ws("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Vo(c&&c.concurrentRequestLimit),this.Da=new Ts,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Sa.prototype,r.la=8,r.G=1,r.connect=function(c,g,y,A){dt(0),this.W=c,this.H=g||{},y&&A!==void 0&&(this.H.OSID=y,this.H.OAID=A),this.F=this.X,this.I=ku(this,null,this.W),wa(this)};function Ho(c){if(xu(c),c.G==3){var g=c.U++,y=lt(c.I);if(He(y,"SID",c.K),He(y,"RID",g),He(y,"TYPE","terminate"),bs(c,y),g=new Jn(c,c.j,g),g.L=2,g.v=vs(lt(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=g.v,y=!0),y||(g.g=Pu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),nt(g)}Vu(c)}function Aa(c){c.g&&(Rs(c),c.g.cancel(),c.g=null)}function xu(c){Aa(c),c.u&&(m.clearTimeout(c.u),c.u=null),ba(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function wa(c){if(!ko(c.h)&&!c.s){c.s=!0;var g=c.Ga;Ee||N(),me||(Ee(),me=!0),Ge.add(g,c),c.B=0}}function Zh(c,g){return Au(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pr(I(c.Ga,c,g),Go(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new Jn(this,this.j,c);let G=this.o;if(this.S&&(G?(G=R(G),x(G,this.S)):G=this.S),this.m!==null||this.O||(j.H=G,G=null),this.P)e:{for(var g=0,y=0;y<this.i.length;y++){t:{var A=this.i[y];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(g+=A,4096<g){g=y;break e}if(g===4096||y===this.i.length-1){g=y+1;break e}}g=1e3}else g=1e3;g=Du(this,j,g),y=lt(this.I),He(y,"RID",c),He(y,"CVER",22),this.D&&He(y,"X-HTTP-Session-Id",this.D),bs(this,y),G&&(this.O?g="headers="+encodeURIComponent(String(Bo(G)))+"&"+g:this.m&&Vt(y,this.m,G)),Sr(this.h,j),this.Ua&&He(y,"TYPE","init"),this.P?(He(y,"$req",g),He(y,"SID","null"),j.T=!0,Hn(j,y,null)):Hn(j,y,g),this.G=2}}else this.G==3&&(c?qo(this,c):this.i.length==0||ko(this.h)||qo(this))};function qo(c,g){var y;g?y=g.l:y=c.U++;const A=lt(c.I);He(A,"SID",c.K),He(A,"RID",y),He(A,"AID",c.T),bs(c,A),c.m&&c.o&&Vt(A,c.m,c.o),y=new Jn(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Du(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Sr(c.h,y),Hn(y,A,g)}function bs(c,g){c.H&&be(c.H,function(y,A){He(g,A,y)}),c.l&&_s({},function(y,A){He(g,A,y)})}function Du(c,g,y){y=Math.min(c.i.length,y);var A=c.l?I(c.l.Na,c.l,c):null;e:{var j=c.i;let G=-1;for(;;){const ie=["count="+y];G==-1?0<y?(G=j[0].g,ie.push("ofs="+G)):G=0:ie.push("ofs="+G);let Le=!0;for(let bt=0;bt<y;bt++){let Ue=j[bt].g;const kt=j[bt].map;if(Ue-=G,0>Ue)G=Math.max(0,j[bt].g-100),Le=!1;else try{ti(kt,ie,"req"+Ue+"_")}catch{A&&A(kt)}}if(Le){A=ie.join("&");break e}}}return c=c.i.splice(0,y),g.D=c,A}function Nu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Ee||N(),me||(Ee(),me=!0),Ge.add(g,c),c.v=0}}function Fo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pr(I(c.Fa,c),Go(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pr(I(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Aa(this),Ou(this))};function Rs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Ou(c){c.g=new Jn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=lt(c.qa);He(g,"RID","rpc"),He(g,"SID",c.K),He(g,"AID",c.T),He(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(g,"TO",c.ja),He(g,"TYPE","xmlhttp"),bs(c,g),c.m&&c.o&&Vt(g,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=vs(lt(g)),y.m=null,y.P=!0,Ii(y,c)}r.Za=function(){this.C!=null&&(this.C=null,Aa(this),Fo(this),dt(19))};function ba(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Mu(c,g){var y=null;if(c.g==g){ba(c),Rs(c),c.g=null;var A=2}else if(Tr(c.h,g))y=g.D,wn(c.h,g),A=1;else return;if(c.G!=0){if(g.o)if(A==1){y=g.m?g.m.length:0,g=Date.now()-g.F;var j=c.B;A=fa(),Ot(A,new Eu(A,y)),wa(c)}else Nu(c);else if(j=g.s,j==3||j==0&&0<g.X||!(A==1&&Zh(c,g)||A==2&&Fo(c)))switch(y&&0<y.length&&(g=c.h,g.i=g.i.concat(y)),j){case 1:Vi(c,5);break;case 4:Vi(c,10);break;case 3:Vi(c,6);break;default:Vi(c,2)}}}function Go(c,g){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*g}function Vi(c,g){if(c.j.info("Error code "+g),g==2){var y=I(c.fb,c),A=c.Xa;const j=!A;A=new xi(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ar(A,"https"),vs(A),j?Ru(A.toString(),y):Es(A.toString(),y)}else dt(2);c.G=0,c.l&&c.l.sa(g),Vu(c),xu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Vu(c){if(c.G=0,c.ka=[],c.l){const g=nn(c.h);(g.length!=0||c.i.length!=0)&&(F(c.ka,g),F(c.ka,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.ra()}}function ku(c,g,y){var A=y instanceof xi?lt(y):new xi(y);if(A.g!="")g&&(A.g=g+"."+A.g),ys(A,A.s);else{var j=m.location;A=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;var G=new xi(null);A&&Ar(G,A),g&&(G.g=g),j&&ys(G,j),y&&(G.l=y),A=G}return y=c.D,g=c.ya,y&&g&&He(A,y,g),He(A,"VER",c.la),bs(c,A),A}function Pu(c,g,y){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new $e(new br({eb:y})):new $e(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Lu(){}r=Lu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Ra(){}Ra.prototype.g=function(c,g){return new rn(c,g)};function rn(c,g){At.call(this),this.g=new Sa(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!ne(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!ne(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new si(this)}U(rn,At),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){Ho(this.g)},rn.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=xo(c),c=y);g.i.push(new $h(g.Ya++,c)),g.G==3&&wa(g)},rn.prototype.N=function(){this.g.l=null,delete this.j,Ho(this.g),delete this.g,rn.aa.N.call(this)};function Uu(c){fr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const y in g){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}U(Uu,fr);function ju(){Bn.call(this),this.status=1}U(ju,Bn);function si(c){this.g=c}U(si,Lu),si.prototype.ua=function(){Ot(this.g,"a")},si.prototype.ta=function(c){Ot(this.g,new Uu(c))},si.prototype.sa=function(c){Ot(this.g,new ju)},si.prototype.ra=function(){Ot(this.g,"b")},Ra.prototype.createWebChannel=Ra.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,ZE=function(){return new Ra},WE=function(){return fa()},XE=An,pm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},wt.NO_ERROR=0,wt.TIMEOUT=8,wt.HTTP_ERROR=6,Kc=wt,Ci.COMPLETE="complete",YE=Ci,vu.EventType=Wn,Wn.OPEN="a",Wn.CLOSE="b",Wn.ERROR="c",Wn.MESSAGE="d",At.prototype.listen=At.prototype.K,Ll=vu,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,QE=$e}).apply(typeof Uc<"u"?Uc:typeof self<"u"?self:typeof window<"u"?window:{});const rv="@firebase/firestore",sv="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Wt.UNAUTHENTICATED=new Wt(null),Wt.GOOGLE_CREDENTIALS=new Wt("google-credentials-uid"),Wt.FIRST_PARTY=new Wt("first-party-uid"),Wt.MOCK_USER=new Wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let To="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ws=new zm("@firebase/firestore");function Ja(){return Ws.logLevel}function oe(r,...e){if(Ws.logLevel<=Me.DEBUG){const n=e.map(qm);Ws.debug(`Firestore (${To}): ${r}`,...n)}}function sr(r,...e){if(Ws.logLevel<=Me.ERROR){const n=e.map(qm);Ws.error(`Firestore (${To}): ${r}`,...n)}}function uo(r,...e){if(Ws.logLevel<=Me.WARN){const n=e.map(qm);Ws.warn(`Firestore (${To}): ${r}`,...n)}}function qm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r="Unexpected state"){const e=`FIRESTORE (${To}) INTERNAL ASSERTION FAILED: `+r;throw sr(e),new Error(e)}function Ke(r,e){r||Te()}function we(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends lr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class b1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Wt.UNAUTHENTICATED))}shutdown(){}}class R1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class C1{constructor(e){this.t=e,this.currentUser=Wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new tr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new tr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new tr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string"),new JE(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new Wt(e)}}class I1{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Wt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class x1{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new I1(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class av{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class D1{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,jn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0);const s=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new av(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new av(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=N1(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Pe(r,e){return r<e?-1:r>e?1:0}function co(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ov=-62135596800,lv=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*lv);return new Dt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ov)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/lv}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ov;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Dt(0,0))}static max(){return new Se(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="__name__";class di{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(),s===void 0?s=e.length-n:s>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return di.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof di?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=di.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=di.isNumericId(e),o=di.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?di.extractNumericId(e).compare(di.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ns.fromString(e.substring(4,e.length-2))}}class tt extends di{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const O1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Gt extends di{construct(e,n,s){return new Gt(e,n,s)}static isValidIdentifier(e){return O1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Gt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===uv}static keyField(){return new Gt([uv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new de(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new de(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Gt(n)}static emptyPath(){return new Gt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(tt.fromString(e))}static fromName(e){return new ge(tt.fromString(e).popFirst(5))}static empty(){return new ge(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ql=-1;function M1(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new Dt(n+1,0):new Dt(n,s));return new rs(o,ge.empty(),e)}function V1(r){return new rs(r.readTime,r.key,Ql)}class rs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new rs(Se.min(),ge.empty(),Ql)}static max(){return new rs(Se.max(),ge.empty(),Ql)}}function k1(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Pe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class L1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function So(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==P1)throw r;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,s)=>{n(e)})}static reject(e){return new W((n,s)=>{s(e)})}static waitFor(e){return new W((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next(o=>o?W.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new W((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const _=p;n(e[_]).next(T=>{f[_]=T,++m,m===u&&s(f)},T=>o(T))}})}static doWhile(e,n){return new W((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function U1(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ao(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Rh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fm=-1;function Ch(r){return r==null}function ah(r){return r===0&&1/r==-1/0}function j1(r){return typeof r=="number"&&Number.isInteger(r)&&!ah(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT="";function z1(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=cv(e)),e=B1(r.get(n),e);return cv(e)}function B1(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case tT:n+="";break;default:n+=u}}return n}function cv(r){return r+tT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ia(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function nT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||Ft.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jc(this.root,e,this.comparator,!0)}}class jc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Ft.RED,this.left=o??Ft.EMPTY,this.right=u??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Ft(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Ft(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new fv(this.data.getIterator())}getIteratorFrom(e){return new fv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class fv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qn{constructor(e){this.fields=e,e.sort(Gt.comparator)}static empty(){return new Qn([])}unionWith(e){let n=new Nt(Gt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Qn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return co(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new iT("Invalid base64 string: "+u):u}}(e);return new $t(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new $t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$t.EMPTY_BYTE_STRING=new $t("");const H1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(r){if(Ke(!!r),typeof r=="string"){let e=0;const n=H1.exec(r);if(Ke(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(r.seconds),nanos:pt(r.nanos)}}function pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function as(r){return typeof r=="string"?$t.fromBase64String(r):$t.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="server_timestamp",sT="__type__",aT="__previous_value__",oT="__local_write_time__";function Gm(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[sT])===null||n===void 0?void 0:n.stringValue)===rT}function Ih(r){const e=r.mapValue.fields[aT];return Gm(e)?Ih(e):e}function Yl(r){const e=ss(r.mapValue.fields[oT].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,n,s,o,u,f,m,p,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=_}}const oh="(default)";class Xl{constructor(e,n){this.projectId=e,this.database=n||oh}static empty(){return new Xl("","")}get isDefaultDatabase(){return this.database===oh}isEqual(e){return e instanceof Xl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="__type__",F1="__max__",zc={mapValue:{}},uT="__vector__",lh="value";function os(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Gm(r)?4:$1(r)?9007199254740991:G1(r)?10:11:Te()}function Ei(r,e){if(r===e)return!0;const n=os(r);if(n!==os(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return Yl(r).isEqual(Yl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=ss(o.timestampValue),m=ss(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return as(o.bytesValue).isEqual(as(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return pt(o.geoPointValue.latitude)===pt(u.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pt(o.integerValue)===pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pt(o.doubleValue),m=pt(u.doubleValue);return f===m?ah(f)===ah(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return co(r.arrayValue.values||[],e.arrayValue.values||[],Ei);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(hv(f)!==hv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ei(f[p],m[p])))return!1;return!0}(r,e);default:return Te()}}function Wl(r,e){return(r.values||[]).find(n=>Ei(n,e))!==void 0}function ho(r,e){if(r===e)return 0;const n=os(r),s=os(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=pt(u.integerValue||u.doubleValue),p=pt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return dv(r.timestampValue,e.timestampValue);case 4:return dv(Yl(r),Yl(e));case 5:return Pe(r.stringValue,e.stringValue);case 6:return function(u,f){const m=as(u),p=as(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let _=0;_<m.length&&_<p.length;_++){const T=Pe(m[_],p[_]);if(T!==0)return T}return Pe(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Pe(pt(u.latitude),pt(f.latitude));return m!==0?m:Pe(pt(u.longitude),pt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return mv(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,_,T;const b=u.fields||{},I=f.fields||{},P=(m=b[lh])===null||m===void 0?void 0:m.arrayValue,U=(p=I[lh])===null||p===void 0?void 0:p.arrayValue,Q=Pe(((_=P==null?void 0:P.values)===null||_===void 0?void 0:_.length)||0,((T=U==null?void 0:U.values)===null||T===void 0?void 0:T.length)||0);return Q!==0?Q:mv(P,U)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===zc.mapValue&&f===zc.mapValue)return 0;if(u===zc.mapValue)return 1;if(f===zc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),_=f.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let b=0;b<p.length&&b<T.length;++b){const I=Pe(p[b],T[b]);if(I!==0)return I;const P=ho(m[p[b]],_[T[b]]);if(P!==0)return P}return Pe(p.length,T.length)}(r.mapValue,e.mapValue);default:throw Te()}}function dv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const n=ss(r),s=ss(e),o=Pe(n.seconds,s.seconds);return o!==0?o:Pe(n.nanos,s.nanos)}function mv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=ho(n[o],s[o]);if(u)return u}return Pe(n.length,s.length)}function fo(r){return gm(r)}function gm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=ss(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return as(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ge.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=gm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${gm(n.fields[f])}`;return o+"}"}(r.mapValue):Te()}function Qc(r){switch(os(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ih(r);return e?16+Qc(e):16;case 5:return 2*r.stringValue.length;case 6:return as(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+Qc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ia(s.fields,(u,f)=>{o+=u.length+Qc(f)}),o}(r.mapValue);default:throw Te()}}function _m(r){return!!r&&"integerValue"in r}function $m(r){return!!r&&"arrayValue"in r}function pv(r){return!!r&&"nullValue"in r}function gv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Yc(r){return!!r&&"mapValue"in r}function G1(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[lT])===null||n===void 0?void 0:n.stringValue)===uT}function Bl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ia(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Bl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function $1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===F1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Yc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bl(n)}setAll(e){let n=Gt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Bl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Yc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ei(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Yc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ia(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new zn(Bl(this.value))}}function cT(r){const e=[];return ia(r.fields,(n,s)=>{const o=new Gt([n]);if(Yc(s)){const u=cT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Qn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Se.min(),Se.min(),Se.min(),zn.empty(),0)}static newFoundDocument(e,n,s,o){return new Zt(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new Zt(e,2,n,Se.min(),Se.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Se.min(),Se.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uh{constructor(e,n){this.position=e,this.inclusive=n}}function _v(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=ho(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function yv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ei(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e,n="asc"){this.field=e,this.dir=n}}function K1(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{}class xt extends hT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new Y1(e,n,s):n==="array-contains"?new Z1(e,s):n==="in"?new J1(e,s):n==="not-in"?new eC(e,s):n==="array-contains-any"?new tC(e,s):new xt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new X1(e,s):new W1(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ho(n,this.value)):n!==null&&os(this.value)===os(n)&&this.matchesComparison(ho(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ti extends hT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Ti(e,n)}matches(e){return fT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function fT(r){return r.op==="and"}function dT(r){return Q1(r)&&fT(r)}function Q1(r){for(const e of r.filters)if(e instanceof Ti)return!1;return!0}function ym(r){if(r instanceof xt)return r.field.canonicalString()+r.op.toString()+fo(r.value);if(dT(r))return r.filters.map(e=>ym(e)).join(",");{const e=r.filters.map(n=>ym(n)).join(",");return`${r.op}(${e})`}}function mT(r,e){return r instanceof xt?function(s,o){return o instanceof xt&&s.op===o.op&&s.field.isEqual(o.field)&&Ei(s.value,o.value)}(r,e):r instanceof Ti?function(s,o){return o instanceof Ti&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&mT(f,o.filters[m]),!0):!1}(r,e):void Te()}function pT(r){return r instanceof xt?function(n){return`${n.field.canonicalString()} ${n.op} ${fo(n.value)}`}(r):r instanceof Ti?function(n){return n.op.toString()+" {"+n.getFilters().map(pT).join(" ,")+"}"}(r):"Filter"}class Y1 extends xt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class X1 extends xt{constructor(e,n){super(e,"in",n),this.keys=gT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class W1 extends xt{constructor(e,n){super(e,"not-in",n),this.keys=gT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class Z1 extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return $m(n)&&Wl(n.arrayValue,this.value)}}class J1 extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Wl(this.value.arrayValue,n)}}class eC extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Wl(this.value.arrayValue,n)}}class tC extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!$m(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Wl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function vv(r,e=null,n=[],s=[],o=null,u=null,f=null){return new nC(r,e,n,s,o,u,f)}function Km(r){const e=we(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>ym(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Ch(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>fo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>fo(s)).join(",")),e.le=n}return e.le}function Qm(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!K1(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!mT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!yv(r.startAt,e.startAt)&&yv(r.endAt,e.endAt)}function vm(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function iC(r,e,n,s,o,u,f,m){return new xh(r,e,n,s,o,u,f,m)}function Ym(r){return new xh(r)}function Ev(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function rC(r){return r.collectionGroup!==null}function Hl(r){const e=we(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Nt(Gt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new ch(u,s))}),n.has(Gt.keyField().canonicalString())||e.he.push(new ch(Gt.keyField(),s))}return e.he}function mi(r){const e=we(r);return e.Pe||(e.Pe=sC(e,Hl(r))),e.Pe}function sC(r,e){if(r.limitType==="F")return vv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new ch(o.field,u)});const n=r.endAt?new uh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new uh(r.startAt.position,r.startAt.inclusive):null;return vv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Em(r,e,n){return new xh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Dh(r,e){return Qm(mi(r),mi(e))&&r.limitType===e.limitType}function _T(r){return`${Km(mi(r))}|lt:${r.limitType}`}function eo(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>pT(o)).join(", ")}]`),Ch(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>fo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>fo(o)).join(",")),`Target(${s})`}(mi(r))}; limitType=${r.limitType})`}function Nh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Hl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const _=_v(f,m,p);return f.inclusive?_<=0:_<0}(s.startAt,Hl(s),o)||s.endAt&&!function(f,m,p){const _=_v(f,m,p);return f.inclusive?_>=0:_>0}(s.endAt,Hl(s),o))}(r,e)}function aC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function yT(r){return(e,n)=>{let s=!1;for(const o of Hl(r)){const u=oC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function oC(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),_=m.data.field(u);return p!==null&&_!==null?ho(p,_):Te()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ia(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return nT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lC=new at(ge.comparator);function ar(){return lC}const vT=new at(ge.comparator);function Ul(...r){let e=vT;for(const n of r)e=e.insert(n.key,n);return e}function ET(r){let e=vT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Qs(){return ql()}function TT(){return ql()}function ql(){return new ra(r=>r.toString(),(r,e)=>r.isEqual(e))}const uC=new at(ge.comparator),cC=new Nt(ge.comparator);function Ve(...r){let e=cC;for(const n of r)e=e.add(n);return e}const hC=new Nt(Pe);function fC(){return hC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ah(e)?"-0":e}}function ST(r){return{integerValue:""+r}}function dC(r,e){return j1(e)?ST(e):Xm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(){this._=void 0}}function mC(r,e,n){return r instanceof hh?function(o,u){const f={fields:{[sT]:{stringValue:rT},[oT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Gm(u)&&(u=Ih(u)),u&&(f.fields[aT]=u),{mapValue:f}}(n,e):r instanceof Zl?wT(r,e):r instanceof Jl?bT(r,e):function(o,u){const f=AT(o,u),m=Tv(f)+Tv(o.Ie);return _m(f)&&_m(o.Ie)?ST(m):Xm(o.serializer,m)}(r,e)}function pC(r,e,n){return r instanceof Zl?wT(r,e):r instanceof Jl?bT(r,e):n}function AT(r,e){return r instanceof fh?function(s){return _m(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class hh extends Oh{}class Zl extends Oh{constructor(e){super(),this.elements=e}}function wT(r,e){const n=RT(e);for(const s of r.elements)n.some(o=>Ei(o,s))||n.push(s);return{arrayValue:{values:n}}}class Jl extends Oh{constructor(e){super(),this.elements=e}}function bT(r,e){let n=RT(e);for(const s of r.elements)n=n.filter(o=>!Ei(o,s));return{arrayValue:{values:n}}}class fh extends Oh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Tv(r){return pt(r.integerValue||r.doubleValue)}function RT(r){return $m(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function gC(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Zl&&o instanceof Zl||s instanceof Jl&&o instanceof Jl?co(s.elements,o.elements,Ei):s instanceof fh&&o instanceof fh?Ei(s.Ie,o.Ie):s instanceof hh&&o instanceof hh}(r.transform,e.transform)}class _C{constructor(e,n){this.version=e,this.transformResults=n}}class pi{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new pi}static exists(e){return new pi(void 0,e)}static updateTime(e){return new pi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Mh{}function CT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new xT(r.key,pi.none()):new ou(r.key,r.data,pi.none());{const n=r.data,s=zn.empty();let o=new Nt(Gt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new sa(r.key,s,new Qn(o.toArray()),pi.none())}}function yC(r,e,n){r instanceof ou?function(o,u,f){const m=o.value.clone(),p=Av(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof sa?function(o,u,f){if(!Xc(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Av(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(IT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Fl(r,e,n,s){return r instanceof ou?function(u,f,m,p){if(!Xc(u.precondition,f))return m;const _=u.value.clone(),T=wv(u.fieldTransforms,p,f);return _.setAll(T),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(r,e,n,s):r instanceof sa?function(u,f,m,p){if(!Xc(u.precondition,f))return m;const _=wv(u.fieldTransforms,p,f),T=f.data;return T.setAll(IT(u)),T.setAll(_),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,e,n,s):function(u,f,m){return Xc(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function vC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=AT(s.transform,o||null);u!=null&&(n===null&&(n=zn.empty()),n.set(s.field,u))}return n||null}function Sv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&co(s,o,(u,f)=>gC(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class ou extends Mh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class sa extends Mh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function IT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function Av(r,e,n){const s=new Map;Ke(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,pC(f,m,n[o]))}return s}function wv(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,mC(u,f,e))}return s}class xT extends Mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EC extends Mh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&yC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Fl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=TT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=CT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&co(this.mutations,e.mutations,(n,s)=>Sv(n,s))&&co(this.baseMutations,e.baseMutations,(n,s)=>Sv(n,s))}}class Wm{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length);let o=function(){return uC}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Wm(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,ze;function wC(r){switch(r){case J.OK:return Te();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Te()}}function DT(r){if(r===void 0)return sr("GRPC error has no .code"),J.UNKNOWN;switch(r){case Tt.OK:return J.OK;case Tt.CANCELLED:return J.CANCELLED;case Tt.UNKNOWN:return J.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return J.INTERNAL;case Tt.UNAVAILABLE:return J.UNAVAILABLE;case Tt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Tt.NOT_FOUND:return J.NOT_FOUND;case Tt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Tt.ABORTED:return J.ABORTED;case Tt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Tt.DATA_LOSS:return J.DATA_LOSS;default:return Te()}}(ze=Tt||(Tt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=new ns([4294967295,4294967295],0);function bv(r){const e=bC().encode(r),n=new KE;return n.update(e),new Uint8Array(n.digest())}function Rv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ns([n,s],0),new ns([o,u],0)]}class Zm{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new jl(`Invalid padding: ${n}`);if(s<0)throw new jl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new jl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new jl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ns.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(ns.fromNumber(s)));return o.compare(RC)===1&&(o=new ns([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=bv(e),[s,o]=Rv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Zm(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=bv(e),[s,o]=Rv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class jl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,lu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Vh(Se.min(),o,new at(Pe),ar(),Ve())}}class lu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new lu(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class NT{constructor(e,n){this.targetId=e,this.ge=n}}class OT{constructor(e,n,s=$t.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Cv{constructor(){this.pe=0,this.ye=Iv(),this.we=$t.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ve(),n=Ve(),s=Ve();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te()}}),new lu(this.we,this.be,e,n,s)}Me(){this.Se=!1,this.ye=Iv()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ke(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class CC{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ar(),this.$e=Bc(),this.Ke=Bc(),this.Ue=new at(Pe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(vm(u))if(s===0){const f=new ge(u.path);this.ze(n,f,Zt.newNoDocument(f,Se.min()))}else Ke(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,_)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=as(s).toUint8Array()}catch(p){if(p instanceof iT)return uo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new Zm(f,o,u)}catch(p){return uo(p instanceof jl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&vm(m.target)){const p=new ge(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,Zt.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Ve();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const _=this.Xe(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Vh(e,n,this.Ue,this.Qe,s);return this.Qe=ar(),this.$e=Bc(),this.Ke=Bc(),this.Ue=new at(Pe),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Cv,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Nt(Pe),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Nt(Pe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Cv),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Bc(){return new at(ge.comparator)}function Iv(){return new at(ge.comparator)}const IC={asc:"ASCENDING",desc:"DESCENDING"},xC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DC={and:"AND",or:"OR"};class NC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Tm(r,e){return r.useProto3Json||Ch(e)?e:{value:e}}function dh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function MT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function OC(r,e){return dh(r,e.toTimestamp())}function gi(r){return Ke(!!r),Se.fromTimestamp(function(n){const s=ss(n);return new Dt(s.seconds,s.nanos)}(r))}function Jm(r,e){return Sm(r,e).canonicalString()}function Sm(r,e){const n=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function VT(r){const e=tt.fromString(r);return Ke(jT(e)),e}function Am(r,e){return Jm(r.databaseId,e.path)}function nm(r,e){const n=VT(e);if(n.get(1)!==r.databaseId.projectId)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new de(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(PT(n))}function kT(r,e){return Jm(r.databaseId,e)}function MC(r){const e=VT(r);return e.length===4?tt.emptyPath():PT(e)}function wm(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function PT(r){return Ke(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function xv(r,e,n){return{name:Am(r,e),fields:n.value.mapValue.fields}}function VC(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(_,T){return _.useProto3Json?(Ke(T===void 0||typeof T=="string"),$t.fromBase64String(T||"")):(Ke(T===void 0||T instanceof Buffer||T instanceof Uint8Array),$t.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(_){const T=_.code===void 0?J.UNKNOWN:DT(_.code);return new de(T,_.message||"")}(f);n=new OT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=nm(r,s.document.name),u=gi(s.document.updateTime),f=s.document.createTime?gi(s.document.createTime):Se.min(),m=new zn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(o,u,f,m),_=s.targetIds||[],T=s.removedTargetIds||[];n=new Wc(_,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=nm(r,s.document),u=s.readTime?gi(s.readTime):Se.min(),f=Zt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Wc([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=nm(r,s.document),u=s.removedTargetIds||[];n=new Wc([],u,o,null)}else{if(!("filter"in e))return Te();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new AC(o,u),m=s.targetId;n=new NT(m,f)}}return n}function kC(r,e){let n;if(e instanceof ou)n={update:xv(r,e.key,e.value)};else if(e instanceof xT)n={delete:Am(r,e.key)};else if(e instanceof sa)n={update:xv(r,e.key,e.data),updateMask:FC(e.fieldMask)};else{if(!(e instanceof EC))return Te();n={verify:Am(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof hh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Zl)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Jl)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof fh)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Te()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:OC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te()}(r,e.precondition)),n}function PC(r,e){return r&&r.length>0?(Ke(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?gi(o.updateTime):gi(u);return f.isEqual(Se.min())&&(f=gi(u)),new _C(f,o.transformResults||[])}(n,e))):[]}function LC(r,e){return{documents:[kT(r,e.path)]}}function UC(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=kT(r,o);const u=function(_){if(_.length!==0)return UT(Ti.create(_,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(_){if(_.length!==0)return _.map(T=>function(I){return{field:to(I.field),direction:BC(I.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Tm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ht:n,parent:o}}function jC(r){let e=MC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=function(b){const I=LT(b);return I instanceof Ti&&dT(I)?I.getFilters():[I]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(I=>function(U){return new ch(no(U.field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(I))}(n.orderBy));let m=null;n.limit&&(m=function(b){let I;return I=typeof b=="object"?b.value:b,Ch(I)?null:I}(n.limit));let p=null;n.startAt&&(p=function(b){const I=!!b.before,P=b.values||[];return new uh(P,I)}(n.startAt));let _=null;return n.endAt&&(_=function(b){const I=!b.before,P=b.values||[];return new uh(P,I)}(n.endAt)),iC(e,o,f,u,m,"F",p,_)}function zC(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function LT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=no(n.unaryFilter.field);return xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=no(n.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=no(n.unaryFilter.field);return xt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=no(n.unaryFilter.field);return xt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(r):r.fieldFilter!==void 0?function(n){return xt.create(no(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Ti.create(n.compositeFilter.filters.map(s=>LT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(r):Te()}function BC(r){return IC[r]}function HC(r){return xC[r]}function qC(r){return DC[r]}function to(r){return{fieldPath:r.canonicalString()}}function no(r){return Gt.fromServerFormat(r.fieldPath)}function UT(r){return r instanceof xt?function(n){if(n.op==="=="){if(gv(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NAN"}};if(pv(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(gv(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NAN"}};if(pv(n.value))return{unaryFilter:{field:to(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:to(n.field),op:HC(n.op),value:n.value}}}(r):r instanceof Ti?function(n){const s=n.getFilters().map(o=>UT(o));return s.length===1?s[0]:{compositeFilter:{op:qC(n.op),filters:s}}}(r):Te()}function FC(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function jT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr{constructor(e,n,s,o,u=Se.min(),f=Se.min(),m=$t.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Zr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Zr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(e){this.Tt=e}}function $C(r){const e=jC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Em(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(){this.Tn=new QC}addToCollectionParentIndex(e,n){return this.Tn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(rs.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(rs.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class QC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Nt(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Nt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zT=41943040;class fn{static withCacheSize(e){return new fn(e,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(zT,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new mo(0)}static Un(){return new mo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv="LruGarbageCollector",YC=1048576;function Ov([r,e],[n,s]){const o=Pe(r,n);return o===0?Pe(e,s):o}class XC{constructor(e){this.Hn=e,this.buffer=new Nt(Ov),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Ov(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class WC{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){oe(Nv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ao(n)?oe(Nv,"Ignoring IndexedDB error during garbage collection: ",n):await So(n)}await this.er(3e5)})}}class ZC{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Rh.ae);const s=new XC(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(Dv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dv):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(_=Date.now(),Ja()<=Me.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function JC(r,e){return new ZC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.changes=new ra(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Fl(s.mutation,o,Qn.empty(),Dt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ve()){const o=Qs();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Ul();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=Qs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ve()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=ar();const f=ql(),m=function(){return ql()}();return n.forEach((p,_)=>{const T=s.get(_.key);o.has(_.key)&&(T===void 0||T.mutation instanceof sa)?u=u.insert(_.key,_):T!==void 0?(f.set(_.key,T.mutation.getFieldMask()),Fl(T.mutation,_,T.mutation.getFieldMask(),Dt.now())):f.set(_.key,Qn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((_,T)=>f.set(_,T)),n.forEach((_,T)=>{var b;return m.set(_,new tI(T,(b=f.get(_))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,n){const s=ql();let o=new at((f,m)=>f-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let T=s.get(p)||Qn.empty();T=m.applyToLocalView(_,T),s.set(p,T);const b=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),_=p.key,T=p.value,b=TT();T.forEach(I=>{if(!u.has(I)){const P=CT(n.get(I),s.get(I));P!==null&&b.set(I,P),u=u.add(I)}}),f.push(this.documentOverlayCache.saveOverlays(e,_,b))}return W.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):rC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):W.resolve(Qs());let m=Ql,p=u;return f.next(_=>W.forEach(_,(T,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(T)?W.resolve():this.remoteDocumentCache.getEntry(e,T).next(I=>{p=p.insert(T,I)}))).next(()=>this.populateOverlays(e,_,u)).next(()=>this.computeViews(e,p,_,Ve())).next(T=>({batchId:m,changes:ET(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let o=Ul();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Ul();return this.indexManager.getCollectionParents(e,u).next(m=>W.forEach(m,p=>{const _=function(b,I){return new xh(I,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next(T=>{T.forEach((b,I)=>{f=f.insert(b,I)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,_)=>{const T=_.getKey();f.get(T)===null&&(f=f.insert(T,Zt.newInvalidDocument(T)))});let m=Ul();return f.forEach((p,_)=>{const T=u.get(p);T!==void 0&&Fl(T.mutation,_,Qn.empty(),Dt.now()),Nh(n,_)&&(m=m.insert(p,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return W.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:gi(o.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:$C(o.bundledQuery),readTime:gi(o.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.overlays=new at(ge.comparator),this.Rr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Qs();return W.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),W.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const o=Qs(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new at((_,T)=>_-T);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let T=u.get(_.largestBatchId);T===null&&(T=Qs(),u=u.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const m=Qs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,T)=>m.set(_,T)),!(m.size()>=o)););return W.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new SC(n,s));let u=this.Rr.get(n);u===void 0&&(u=Ve(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(){this.sessionToken=$t.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(){this.Vr=new Nt(jt.mr),this.gr=new Nt(jt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new jt(e,n))}br(e,n){e.forEach(s=>this.removeReference(s,n))}Sr(e){const n=new ge(new tt([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ge(new tt([])),s=new jt(n,e),o=new jt(n,e+1);let u=Ve();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new jt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ge.comparator(e.key,n.key)||Pe(e.Cr,n.Cr)}static pr(e,n){return Pe(e.Cr,n.Cr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Nt(jt.mr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new TC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,n){return W.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Fm:this.Fr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Nt(Pe);return n.forEach(o=>{const u=new jt(o,0),f=new jt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),W.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new jt(new ge(u),0);let m=new Nt(Pe);return this.Mr.forEachWhile(p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(m=m.add(p.Cr)),!0)},f),W.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ke(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return W.forEach(n.mutations,o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new jt(n,0),o=this.Mr.firstAfterOrEqual(s);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.kr=e,this.docs=function(){return new at(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=ar();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Zt.newInvalidDocument(o))}),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=ar();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||k1(V1(T),s)<=0||(o.has(T.key)||Nh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te()}qr(e,n){return W.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new lI(this)}getSize(e){return W.resolve(this.size)}}class lI extends eI{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),W.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(e){this.persistence=e,this.Qr=new ra(n=>Km(n),Qm),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.$r=0,this.Kr=new ep,this.targetCount=0,this.Ur=mo.Kn()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),W.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new mo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.zn(n),W.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),W.waitFor(u).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this.Kr.yr(n,s),W.resolve()}removeMatchingKeys(e,n,s){this.Kr.br(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Kr.vr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Rh(0),this.zr=!1,this.zr=!0,this.jr=new sI,this.referenceDelegate=e(this),this.Hr=new uI(this),this.indexManager=new KC,this.remoteDocumentCache=function(o){return new oI(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new GC(n),this.Yr=new iI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new rI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new aI(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const o=new cI(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return W.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class cI extends L1{constructor(e){super(),this.currentSequenceNumber=e}}class tp{constructor(e){this.persistence=e,this.ti=new ep,this.ni=null}static ri(e){return new tp(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),W.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ii,s=>{const o=ge.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Se.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return W.or([()=>W.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class mh{constructor(e,n){this.persistence=e,this.oi=new ra(s=>z1(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=JC(this,n)}static ri(e,n){return new mh(e,n)}Zr(){}Xr(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return W.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?W.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),W.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Qc(e.data.value)),n}ar(e,n,s){return W.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new np(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return oR()?8:U1(Jt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new hI;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(Ja()<=Me.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",eo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),W.resolve()):(Ja()<=Me.DEBUG&&oe("QueryEngine","Query:",eo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(Ja()<=Me.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",eo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,mi(n))):W.resolve())}rs(e,n){if(Ev(n))return W.resolve(null);let s=mi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Em(n,null,"F"),s=mi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ve(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const _=this.cs(n,m);return this.ls(n,_,f,p.readTime)?this.rs(e,Em(n,null,"F")):this.hs(e,_,n,p)}))})))}ss(e,n,s,o){return Ev(n)||o.isEqual(Se.min())?W.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?W.resolve(null):(Ja()<=Me.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),eo(n)),this.hs(e,f,n,M1(o,Ql)).next(m=>m))})}cs(e,n){let s=new Nt(yT(e));return n.forEach((o,u)=>{Nh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return Ja()<=Me.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",eo(n)),this.ns.getDocumentsMatchingQuery(e,n,rs.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ip="LocalStore",dI=3e8;class mI{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new at(Pe),this.Is=new ra(u=>Km(u),Qm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nI(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function pI(r,e,n,s){return new mI(r,e,n,s)}async function HT(r,e){const n=we(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ve();for(const _ of o){f.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of u){m.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(_=>({Rs:_,removedBatchIds:f,addedBatchIds:m}))})})}function gI(r,e){const n=we(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,_,T){const b=_.batch,I=b.keys();let P=W.resolve();return I.forEach(U=>{P=P.next(()=>T.getEntry(p,U)).next(Q=>{const F=_.docVersions.get(U);Ke(F!==null),Q.version.compareTo(F)<0&&(b.applyToRemoteDocument(Q,_),Q.isValidDocument()&&(Q.setReadTime(_.commitVersion),T.addEntry(Q)))})}),P.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ve();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(p=p.add(m.batch.mutations[_].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function qT(r){const e=we(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function _I(r,e){const n=we(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((T,b)=>{const I=o.get(b);if(!I)return;m.push(n.Hr.removeMatchingKeys(u,T.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(u,T.addedDocuments,b)));let P=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?P=P.withResumeToken($t.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):T.resumeToken.approximateByteSize()>0&&(P=P.withResumeToken(T.resumeToken,s)),o=o.insert(b,P),function(Q,F,Y){return Q.resumeToken.approximateByteSize()===0||F.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=dI?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(I,P,T)&&m.push(n.Hr.updateTargetData(u,P))});let p=ar(),_=Ve();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(yI(u,f,e.documentUpdates).next(T=>{p=T.Vs,_=T.fs})),!s.isEqual(Se.min())){const T=n.Hr.getLastRemoteSnapshotVersion(u).next(b=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return W.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,_)).next(()=>p)}).then(u=>(n.Ts=o,u))}function yI(r,e,n){let s=Ve(),o=Ve();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=ar();return n.forEach((m,p)=>{const _=u.get(m);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):oe(ip,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function vI(r,e){const n=we(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Fm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function EI(r,e){const n=we(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,W.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new Zr(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function bm(r,e,n){const s=we(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Ao(f))throw f;oe(ip,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function Mv(r,e,n){const s=we(r);let o=Se.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,_,T){const b=we(p),I=b.Is.get(T);return I!==void 0?W.resolve(b.Ts.get(I)):b.Hr.getTargetData(_,T)}(s,f,mi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:Ve())).next(m=>(TI(s,aC(e),m),{documents:m,gs:u})))}function TI(r,e,n){let s=r.Es.get(e)||Se.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class Vv{constructor(){this.activeTargetIds=fC()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class SI{constructor(){this.ho=new Vv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Vv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AI{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="ConnectivityMonitor";class Pv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){oe(kv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){oe(kv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hc=null;function Rm(){return Hc===null?Hc=function(){return 268435456+Math.round(2147483648*Math.random())}():Hc++,"0x"+Hc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="RestConnection",wI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class bI{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===oh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,n,s,o,u){const f=Rm(),m=this.So(e,n.toUriEncodedString());oe(im,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(_=>(oe(im,`Received RPC '${e}' ${f}: `,_),_),_=>{throw uo(im,`RPC '${e}' ${f} failed with error: `,_,"url: ",m,"request:",s),_})}Co(e,n,s,o,u,f){return this.bo(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+To}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}So(e,n){const s=wI[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xt="WebChannelConnection";class CI extends bI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=Rm();return new Promise((f,m)=>{const p=new QE;p.setWithCredentials(!0),p.listenOnce(YE.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Kc.NO_ERROR:const T=p.getResponseJson();oe(Xt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),f(T);break;case Kc.TIMEOUT:oe(Xt,`RPC '${e}' ${u} timed out`),m(new de(J.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:const b=p.getStatus();if(oe(Xt,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const P=I==null?void 0:I.error;if(P&&P.status&&P.message){const U=function(F){const Y=F.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Y)>=0?Y:J.UNKNOWN}(P.status);m(new de(U,P.message))}else m(new de(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new de(J.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{oe(Xt,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(o);oe(Xt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",_,s,15)})}Wo(e,n,s){const o=Rm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=ZE(),m=WE(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");oe(Xt,`Creating RPC '${e}' stream ${o}: ${T}`,p);const b=f.createWebChannel(T,p);let I=!1,P=!1;const U=new RI({Fo:F=>{P?oe(Xt,`Not sending because RPC '${e}' stream ${o} is closed:`,F):(I||(oe(Xt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),I=!0),oe(Xt,`RPC '${e}' stream ${o} sending:`,F),b.send(F))},Mo:()=>b.close()}),Q=(F,Y,ne)=>{F.listen(Y,ee=>{try{ne(ee)}catch(pe){setTimeout(()=>{throw pe},0)}})};return Q(b,Ll.EventType.OPEN,()=>{P||(oe(Xt,`RPC '${e}' stream ${o} transport opened.`),U.Qo())}),Q(b,Ll.EventType.CLOSE,()=>{P||(P=!0,oe(Xt,`RPC '${e}' stream ${o} transport closed`),U.Ko())}),Q(b,Ll.EventType.ERROR,F=>{P||(P=!0,uo(Xt,`RPC '${e}' stream ${o} transport errored:`,F),U.Ko(new de(J.UNAVAILABLE,"The operation could not be completed")))}),Q(b,Ll.EventType.MESSAGE,F=>{var Y;if(!P){const ne=F.data[0];Ke(!!ne);const ee=ne,pe=(ee==null?void 0:ee.error)||((Y=ee[0])===null||Y===void 0?void 0:Y.error);if(pe){oe(Xt,`RPC '${e}' stream ${o} received error:`,pe);const ue=pe.status;let be=function(w){const x=Tt[w];if(x!==void 0)return DT(x)}(ue),M=pe.message;be===void 0&&(be=J.INTERNAL,M="Unknown error status: "+ue+" with message "+pe.message),P=!0,U.Ko(new de(be,M)),b.close()}else oe(Xt,`RPC '${e}' stream ${o} received:`,ne),U.Uo(ne)}}),Q(m,XE.STAT_EVENT,F=>{F.stat===pm.PROXY?oe(Xt,`RPC '${e}' stream ${o} detected buffering proxy`):F.stat===pm.NOPROXY&&oe(Xt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{U.$o()},0),U}}function rm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kh(r){return new NC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="PersistentStream";class GT{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new FT(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(sr(n.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new de(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return oe(Lv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(oe(Lv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class II extends GT{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=VC(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?gi(f.readTime):Se.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=wm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=vm(p)?{documents:LC(u,p)}:{query:UC(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=MT(u,f.resumeToken);const _=Tm(u,f.expectedCount);_!==null&&(m.expectedCount=_)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=dh(u,f.snapshotVersion.toTimestamp());const _=Tm(u,f.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const s=zC(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=wm(this.serializer),n.removeTarget=e,this.I_(n)}}class xI extends GT{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=PC(e.writeResults,e.commitTime),s=gi(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=wm(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>kC(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{}class NI extends DI{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(e,Sm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(J.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Sm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new de(J.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class OI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(sr(n),this.N_=!1):oe("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zs="RemoteStore";class MI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{aa(this)&&(oe(Zs,"Restarting streams for network reachability change."),await async function(p){const _=we(p);_.W_.add(4),await uu(_),_.j_.set("Unknown"),_.W_.delete(4),await Ph(_)}(this))})}),this.j_=new OI(s,o)}}async function Ph(r){if(aa(r))for(const e of r.G_)await e(!0)}async function uu(r){for(const e of r.G_)await e(!1)}function $T(r,e){const n=we(r);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),op(n)?ap(n):wo(n).c_()&&sp(n,e))}function rp(r,e){const n=we(r),s=wo(n);n.U_.delete(e),s.c_()&&KT(n,e),n.U_.size===0&&(s.c_()?s.P_():aa(n)&&n.j_.set("Unknown"))}function sp(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}wo(r).y_(e)}function KT(r,e){r.H_.Ne(e),wo(r).w_(e)}function ap(r){r.H_=new CC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),wo(r).start(),r.j_.B_()}function op(r){return aa(r)&&!wo(r).u_()&&r.U_.size>0}function aa(r){return we(r).W_.size===0}function QT(r){r.H_=void 0}async function VI(r){r.j_.set("Online")}async function kI(r){r.U_.forEach((e,n)=>{sp(r,e)})}async function PI(r,e){QT(r),op(r)?(r.j_.q_(e),ap(r)):r.j_.set("Unknown")}async function LI(r,e,n){if(r.j_.set("Online"),e instanceof OT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){oe(Zs,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ph(r,s)}else if(e instanceof Wc?r.H_.We(e):e instanceof NT?r.H_.Ze(e):r.H_.je(e),!n.isEqual(Se.min()))try{const s=await qT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.U_.get(_);T&&u.U_.set(_,T.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,_)=>{const T=u.U_.get(p);if(!T)return;u.U_.set(p,T.withResumeToken($t.EMPTY_BYTE_STRING,T.snapshotVersion)),KT(u,p);const b=new Zr(T.target,p,_,T.sequenceNumber);sp(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){oe(Zs,"Failed to raise snapshot:",s),await ph(r,s)}}async function ph(r,e,n){if(!Ao(e))throw e;r.W_.add(1),await uu(r),r.j_.set("Offline"),n||(n=()=>qT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{oe(Zs,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Ph(r)})}function YT(r,e){return e().catch(n=>ph(r,n,e))}async function Lh(r){const e=we(r),n=ls(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:Fm;for(;UI(e);)try{const o=await vI(e.localStore,s);if(o===null){e.K_.length===0&&n.P_();break}s=o.batchId,jI(e,o)}catch(o){await ph(e,o)}XT(e)&&WT(e)}function UI(r){return aa(r)&&r.K_.length<10}function jI(r,e){r.K_.push(e);const n=ls(r);n.c_()&&n.b_&&n.S_(e.mutations)}function XT(r){return aa(r)&&!ls(r).u_()&&r.K_.length>0}function WT(r){ls(r).start()}async function zI(r){ls(r).C_()}async function BI(r){const e=ls(r);for(const n of r.K_)e.S_(n.mutations)}async function HI(r,e,n){const s=r.K_.shift(),o=Wm.from(s,e,n);await YT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Lh(r)}async function qI(r,e){e&&ls(r).b_&&await async function(s,o){if(function(f){return wC(f)&&f!==J.ABORTED}(o.code)){const u=s.K_.shift();ls(s).h_(),await YT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Lh(s)}}(r,e),XT(r)&&WT(r)}async function Uv(r,e){const n=we(r);n.asyncQueue.verifyOperationInProgress(),oe(Zs,"RemoteStore received new credentials");const s=aa(n);n.W_.add(3),await uu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Ph(n)}async function FI(r,e){const n=we(r);e?(n.W_.delete(2),await Ph(n)):e||(n.W_.add(2),await uu(n),n.j_.set("Unknown"))}function wo(r){return r.J_||(r.J_=function(n,s,o){const u=we(n);return u.M_(),new II(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:VI.bind(null,r),No:kI.bind(null,r),Lo:PI.bind(null,r),p_:LI.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),op(r)?ap(r):r.j_.set("Unknown")):(await r.J_.stop(),QT(r))})),r.J_}function ls(r){return r.Y_||(r.Y_=function(n,s,o){const u=we(n);return u.M_(),new xI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:zI.bind(null,r),Lo:qI.bind(null,r),D_:BI.bind(null,r),v_:HI.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Lh(r)):(await r.Y_.stop(),r.K_.length>0&&(oe(Zs,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new tr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new lp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function up(r,e){if(sr("AsyncQueue",`${e}: ${r}`),Ao(r))return new de(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{static emptySet(e){return new ro(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=Ul(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof ro)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new ro;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(){this.Z_=new at(ge.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class po{constructor(e,n,s,o,u,f,m,p,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new po(e,n,ro.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class $I{constructor(){this.queries=zv(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=we(n),u=o.queries;o.queries=zv(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new de(J.ABORTED,"Firestore shutting down"))}}function zv(){return new ra(r=>_T(r),Dh)}async function ZT(r,e){const n=we(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new GI,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=up(f,`Initialization of query '${eo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&cp(n)}async function JT(r,e){const n=we(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function KI(r,e){const n=we(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&cp(n)}function QI(r,e,n){const s=we(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function cp(r){r.ia.forEach(e=>{e.next()})}var Cm,Bv;(Bv=Cm||(Cm={}))._a="default",Bv.Cache="cache";class e0{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new po(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=po.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Cm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e){this.key=e}}class n0{constructor(e){this.key=e}}class YI{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=yT(e),this.wa=new ro(this.ya)}get ba(){return this.fa}Sa(e,n){const s=n?n.Da:new jv,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,b)=>{const I=o.get(T),P=Nh(this.query,b)?b:null,U=!!I&&this.mutatedKeys.has(I.key),Q=!!P&&(P.hasLocalMutations||this.mutatedKeys.has(P.key)&&P.hasCommittedMutations);let F=!1;I&&P?I.data.isEqual(P.data)?U!==Q&&(s.track({type:3,doc:P}),F=!0):this.va(I,P)||(s.track({type:2,doc:P}),F=!0,(p&&this.ya(P,p)>0||_&&this.ya(P,_)<0)&&(m=!0)):!I&&P?(s.track({type:0,doc:P}),F=!0):I&&!P&&(s.track({type:1,doc:I}),F=!0,(p||_)&&(m=!0)),F&&(P?(f=f.add(P),u=Q?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((T,b)=>function(P,U){const Q=F=>{switch(F){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return Q(P)-Q(U)}(T.type,b.type)||this.ya(T.doc,b.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,_=p!==this.ga;return this.ga=p,f.length!==0||_?{snapshot:new po(this.query,e.wa,u,f,e.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new jv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new n0(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new t0(s))}),n}Oa(e){this.fa=e.gs,this.pa=Ve();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return po.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const hp="SyncEngine";class XI{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class WI{constructor(e){this.key=e,this.Ba=!1}}class ZI{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new ra(m=>_T(m),Dh),this.qa=new Map,this.Qa=new Set,this.$a=new at(ge.comparator),this.Ka=new Map,this.Ua=new ep,this.Wa={},this.Ga=new Map,this.za=mo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function JI(r,e,n=!0){const s=l0(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await i0(s,e,n,!0),o}async function ex(r,e){const n=l0(r);await i0(n,e,!0,!1)}async function i0(r,e,n,s){const o=await EI(r.localStore,mi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await tx(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&$T(r.remoteStore,o),m}async function tx(r,e,n,s,o){r.Ha=(b,I,P)=>async function(Q,F,Y,ne){let ee=F.view.Sa(Y);ee.ls&&(ee=await Mv(Q.localStore,F.query,!1).then(({documents:M})=>F.view.Sa(M,ee)));const pe=ne&&ne.targetChanges.get(F.targetId),ue=ne&&ne.targetMismatches.get(F.targetId)!=null,be=F.view.applyChanges(ee,Q.isPrimaryClient,pe,ue);return qv(Q,F.targetId,be.Ma),be.snapshot}(r,b,I,P);const u=await Mv(r.localStore,e,!0),f=new YI(e,u.gs),m=f.Sa(u.documents),p=lu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),_=f.applyChanges(m,r.isPrimaryClient,p);qv(r,n,_.Ma);const T=new XI(e,n,f);return r.ka.set(e,T),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),_.snapshot}async function nx(r,e,n){const s=we(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Dh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await bm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&rp(s.remoteStore,o.targetId),Im(s,o.targetId)}).catch(So)):(Im(s,o.targetId),await bm(s.localStore,o.targetId,!0))}async function ix(r,e){const n=we(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),rp(n.remoteStore,s.targetId))}async function rx(r,e,n){const s=hx(r);try{const o=await function(f,m){const p=we(f),_=Dt.now(),T=m.reduce((P,U)=>P.add(U.key),Ve());let b,I;return p.persistence.runTransaction("Locally write mutations","readwrite",P=>{let U=ar(),Q=Ve();return p.ds.getEntries(P,T).next(F=>{U=F,U.forEach((Y,ne)=>{ne.isValidDocument()||(Q=Q.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(P,U)).next(F=>{b=F;const Y=[];for(const ne of m){const ee=vC(ne,b.get(ne.key).overlayedDocument);ee!=null&&Y.push(new sa(ne.key,ee,cT(ee.value.mapValue),pi.exists(!0)))}return p.mutationQueue.addMutationBatch(P,_,Y,m)}).next(F=>{I=F;const Y=F.applyToLocalDocumentSet(b,Q);return p.documentOverlayCache.saveOverlays(P,F.batchId,Y)})}).then(()=>({batchId:I.batchId,changes:ET(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let _=f.Wa[f.currentUser.toKey()];_||(_=new at(Pe)),_=_.insert(m,p),f.Wa[f.currentUser.toKey()]=_}(s,o.batchId,n),await cu(s,o.changes),await Lh(s.remoteStore)}catch(o){const u=up(o,"Failed to persist write");n.reject(u)}}async function r0(r,e){const n=we(r);try{const s=await _I(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Ke(f.Ba):o.removedDocuments.size>0&&(Ke(f.Ba),f.Ba=!1))}),await cu(n,s,e)}catch(s){await So(s)}}function Hv(r,e,n){const s=we(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=we(f);p.onlineState=m;let _=!1;p.queries.forEach((T,b)=>{for(const I of b.ta)I.sa(m)&&(_=!0)}),_&&cp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function sx(r,e,n){const s=we(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ka.get(e),u=o&&o.key;if(u){let f=new at(ge.comparator);f=f.insert(u,Zt.newNoDocument(u,Se.min()));const m=Ve().add(u),p=new Vh(Se.min(),new Map,new at(Pe),f,m);await r0(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),fp(s)}else await bm(s.localStore,e,!1).then(()=>Im(s,e,n)).catch(So)}async function ax(r,e){const n=we(r),s=e.batch.batchId;try{const o=await gI(n.localStore,e);a0(n,s,null),s0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await cu(n,o)}catch(o){await So(o)}}async function ox(r,e,n){const s=we(r);try{const o=await function(f,m){const p=we(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let T;return p.mutationQueue.lookupMutationBatch(_,m).next(b=>(Ke(b!==null),T=b.keys(),p.mutationQueue.removeMutationBatch(_,b))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T)).next(()=>p.localDocuments.getDocuments(_,T))})}(s.localStore,e);a0(s,e,n),s0(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await cu(s,o)}catch(o){await So(o)}}function s0(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function a0(r,e,n){const s=we(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Im(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ua.Sr(e).forEach(s=>{r.Ua.containsKey(s)||o0(r,s)})}function o0(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(rp(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ka.delete(n),fp(r))}function qv(r,e,n){for(const s of n)s instanceof t0?(r.Ua.addReference(s.key,e),lx(r,s)):s instanceof n0?(oe(hp,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||o0(r,s.key)):Te()}function lx(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(oe(hp,"New document in limbo: "+n),r.Qa.add(s),fp(r))}function fp(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new ge(tt.fromString(e)),s=r.za.next();r.Ka.set(s,new WI(n)),r.$a=r.$a.insert(n,s),$T(r.remoteStore,new Zr(mi(Ym(n.path)),s,"TargetPurposeLimboResolution",Rh.ae))}}async function cu(r,e,n){const s=we(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(_=>{var T;if((_||n)&&s.isPrimaryClient){const b=_?!_.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(_){o.push(_);const b=np.Yi(p.targetId,_);u.push(b)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,_){const T=we(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>W.forEach(_,I=>W.forEach(I.Hi,P=>T.persistence.referenceDelegate.addReference(b,I.targetId,P)).next(()=>W.forEach(I.Ji,P=>T.persistence.referenceDelegate.removeReference(b,I.targetId,P)))))}catch(b){if(!Ao(b))throw b;oe(ip,"Failed to update sequence numbers: "+b)}for(const b of _){const I=b.targetId;if(!b.fromCache){const P=T.Ts.get(I),U=P.snapshotVersion,Q=P.withLastLimboFreeSnapshotVersion(U);T.Ts=T.Ts.insert(I,Q)}}}(s.localStore,u))}async function ux(r,e){const n=we(r);if(!n.currentUser.isEqual(e)){oe(hp,"User change. New user:",e.toKey());const s=await HT(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new de(J.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await cu(n,s.Rs)}}function cx(r,e){const n=we(r),s=n.Ka.get(e);if(s&&s.Ba)return Ve().add(s.key);{let o=Ve();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.ba)}return o}}function l0(r){const e=we(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=r0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=cx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sx.bind(null,e),e.La.p_=KI.bind(null,e.eventManager),e.La.Ja=QI.bind(null,e.eventManager),e}function hx(r){const e=we(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ax.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=ox.bind(null,e),e}class gh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return pI(this.persistence,new fI,e.initialUser,this.serializer)}Xa(e){return new BT(tp.ri,this.serializer)}Za(e){return new SI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gh.provider={build:()=>new gh};class fx extends gh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ke(this.persistence.referenceDelegate instanceof mh);const s=this.persistence.referenceDelegate.garbageCollector;return new WC(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new BT(s=>mh.ri(s,n),this.serializer)}}class xm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Hv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=ux.bind(null,this.syncEngine),await FI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $I}()}createDatastore(e){const n=kh(e.databaseInfo.databaseId),s=function(u){return new CI(u)}(e.databaseInfo);return function(u,f,m,p){return new NI(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new MI(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>Hv(this.syncEngine,n,0),function(){return Pv.D()?new Pv:new AI}())}createSyncEngine(e,n){return function(o,u,f,m,p,_,T){const b=new ZI(o,u,f,m,p,_);return T&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=we(o);oe(Zs,"RemoteStore shutting down."),u.W_.add(5),await uu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}xm.provider={build:()=>new xm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us="FirestoreClient";class dx{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Wt.UNAUTHENTICATED,this.clientId=eT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{oe(us,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(oe(us,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new tr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=up(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function sm(r,e){r.asyncQueue.verifyOperationInProgress(),oe(us,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await HT(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Fv(r,e){r.asyncQueue.verifyOperationInProgress();const n=await mx(r);oe(us,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Uv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Uv(e.remoteStore,o)),r._onlineComponents=e}async function mx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(us,"Using user provided OfflineComponentProvider");try{await sm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;uo("Error using user provided cache. Falling back to memory cache: "+n),await sm(r,new gh)}}else oe(us,"Using default OfflineComponentProvider"),await sm(r,new fx(void 0));return r._offlineComponents}async function c0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(us,"Using user provided OnlineComponentProvider"),await Fv(r,r._uninitializedComponentsProvider._online)):(oe(us,"Using default OnlineComponentProvider"),await Fv(r,new xm))),r._onlineComponents}function px(r){return c0(r).then(e=>e.syncEngine)}async function h0(r){const e=await c0(r),n=e.eventManager;return n.onListen=JI.bind(null,e.syncEngine),n.onUnlisten=nx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=ex.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ix.bind(null,e.syncEngine),n}function gx(r,e,n={}){const s=new tr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,_){const T=new u0({next:I=>{T.su(),f.enqueueAndForget(()=>JT(u,b));const P=I.docs.has(m);!P&&I.fromCache?_.reject(new de(J.UNAVAILABLE,"Failed to get document because the client is offline.")):P&&I.fromCache&&p&&p.source==="server"?_.reject(new de(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(I)},error:I=>_.reject(I)}),b=new e0(Ym(m.path),T,{includeMetadataChanges:!0,Ta:!0});return ZT(u,b)}(await h0(r),r.asyncQueue,e,n,s)),s.promise}function _x(r,e,n={}){const s=new tr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,_){const T=new u0({next:I=>{T.su(),f.enqueueAndForget(()=>JT(u,b)),I.fromCache&&p.source==="server"?_.reject(new de(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(I)},error:I=>_.reject(I)}),b=new e0(m,T,{includeMetadataChanges:!0,Ta:!0});return ZT(u,b)}(await h0(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(r,e,n){if(!n)throw new de(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function yx(r,e,n,s){if(e===!0&&s===!0)throw new de(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function $v(r){if(!ge.isDocumentKey(r))throw new de(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Kv(r){if(ge.isDocumentKey(r))throw new de(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function dp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te()}function cs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new de(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=dp(r);throw new de(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m0="firestore.googleapis.com",Qv=!0;class Yv{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=m0,this.ssl=Qv}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Qv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<YC)throw new de(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}yx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=f0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new de(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Uh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Yv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Yv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new b1;switch(s.type){case"firstParty":return new x1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Gv.get(n);s&&(oe("ComponentProvider","Removing Datastore"),Gv.delete(n),s.terminate())}(this),Promise.resolve()}}function vx(r,e,n,s={}){var o;const u=(r=cs(r,Uh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==m0&&u.host!==m&&uo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!Ys(p,f)&&(r._setSettings(p),s.mockUserToken)){let _,T;if(typeof s.mockUserToken=="string")_=s.mockUserToken,T=Wt.MOCK_USER;else{_=eR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new de(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Wt(b)}r._authCredentials=new R1(new JE(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new jh(this.firestore,e,this._query)}}class En{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new is(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new En(this.firestore,e,this._key)}}class is extends jh{constructor(e,n,s){super(e,n,Ym(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new En(this.firestore,null,new ge(e))}withConverter(e){return new is(this.firestore,e,this._path)}}function mp(r,e,...n){if(r=Tn(r),d0("collection","path",e),r instanceof Uh){const s=tt.fromString(e,...n);return Kv(s),new is(r,null,s)}{if(!(r instanceof En||r instanceof is))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return Kv(s),new is(r.firestore,null,s)}}function zh(r,e,...n){if(r=Tn(r),arguments.length===1&&(e=eT.newId()),d0("doc","path",e),r instanceof Uh){const s=tt.fromString(e,...n);return $v(s),new En(r,null,new ge(s))}{if(!(r instanceof En||r instanceof is))throw new de(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return $v(s),new En(r.firestore,r instanceof is?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xv="AsyncQueue";class Wv{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new FT(this,"async_queue_retry"),this.bu=()=>{const s=rm();s&&oe(Xv,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const n=rm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=rm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new tr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ao(e))throw e;oe(Xv,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw sr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=lp.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class hu extends Uh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new Wv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Wv(e),this._firestoreClient=void 0,await e}}}function Ex(r,e){const n=typeof r=="object"?r:FE(),s=typeof r=="string"?r:oh,o=Hm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Zb("firestore");u&&vx(o,...u)}return o}function pp(r){if(r._terminated)throw new de(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Tx(r),r._firestoreClient}function Tx(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,_,T){return new q1(m,p,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,f0(T.experimentalLongPollingOptions),T.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new dx(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(e){this._byteString=e}static fromBase64String(e){try{return new go($t.fromBase64String(e))}catch(n){throw new de(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new go($t.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx=/^__.*__$/;class Ax{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new sa(e,this.data,this.fieldMask,n,this.fieldTransforms):new ou(e,this.data,n,this.fieldTransforms)}}function g0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class vp{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new vp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return _h(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(g0(this.Lu)&&Sx.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class wx{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||kh(e)}ju(e,n,s,o=!1){return new vp({Lu:e,methodName:n,zu:s,path:Gt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _0(r){const e=r._freezeSettings(),n=kh(r._databaseId);return new wx(r._databaseId,!!e.ignoreUndefinedProperties,n)}function y0(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);S0("Data must be an object, but it was:",f,s);const m=E0(s,f);let p,_;if(u.merge)p=new Qn(f.fieldMask),_=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const I=bx(e,b,n);if(!f.contains(I))throw new de(J.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);Cx(T,I)||T.push(I)}p=new Qn(T),_=f.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,_=f.fieldTransforms;return new Ax(new zn(m),p,_)}function v0(r,e){if(T0(r=Tn(r)))return S0("Unsupported field value:",e,r),E0(r,e);if(r instanceof p0)return function(s,o){if(!g0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=v0(m,o.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Tn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return dC(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Dt.fromDate(s);return{timestampValue:dh(o.serializer,u)}}if(s instanceof Dt){const u=new Dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:dh(o.serializer,u)}}if(s instanceof _p)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof go)return{bytesValue:MT(o.serializer,s._byteString)};if(s instanceof En){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Jm(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof yp)return function(f,m){return{mapValue:{fields:{[lT]:{stringValue:uT},[lh]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw m.Wu("VectorValues must only contain numeric values.");return Xm(m.serializer,_)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${dp(s)}`)}(r,e)}function E0(r,e){const n={};return nT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ia(r,(s,o)=>{const u=v0(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function T0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Dt||r instanceof _p||r instanceof go||r instanceof En||r instanceof p0||r instanceof yp)}function S0(r,e,n){if(!T0(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=dp(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function bx(r,e,n){if((e=Tn(e))instanceof gp)return e._internalPath;if(typeof e=="string")return A0(r,e);throw _h("Field path arguments must be of type string or ",r,!1,void 0,n)}const Rx=new RegExp("[~\\*/\\[\\]]");function A0(r,e,n){if(e.search(Rx)>=0)throw _h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new gp(...e.split("."))._internalPath}catch{throw _h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function _h(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new de(J.INVALID_ARGUMENT,m+r+p)}function Cx(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new En(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Ix(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(b0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Ix extends w0{data(){return super.data()}}function b0(r,e){return typeof e=="string"?A0(r,e):e instanceof gp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new de(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Dx{convertValue(e,n="none"){switch(os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(as(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ia(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[lh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>pt(f.doubleValue));return new yp(u)}convertGeoPoint(e){return new _p(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Ih(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Yl(e));default:return null}}convertTimestamp(e){const n=ss(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Ke(jT(s));const o=new Xl(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||sr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R0(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class C0 extends w0{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(b0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Zc extends C0{data(e={}){return super.data(e)}}class Nx{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new zl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Zc(this._firestore,this._userDataWriter,s.key,s,new zl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new Zc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Zc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new zl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return m.type!==0&&(_=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:Ox(m.type),doc:p,oldIndex:_,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Ox(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mx(r){r=cs(r,En);const e=cs(r.firestore,hu);return gx(pp(e),r._key).then(n=>kx(e,r,n))}class I0 extends Dx{constructor(e){super(),this.firestore=e}convertBytes(e){return new go(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new En(this.firestore,null,n)}}function x0(r){r=cs(r,jh);const e=cs(r.firestore,hu),n=pp(e),s=new I0(e);return xx(r._query),_x(n,r._query).then(o=>new Nx(e,s,r,o))}function D0(r,e,n){r=cs(r,En);const s=cs(r.firestore,hu),o=R0(r.converter,e);return N0(s,[y0(_0(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,pi.none())])}function Vx(r,e){const n=cs(r.firestore,hu),s=zh(r),o=R0(r.converter,e);return N0(n,[y0(_0(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,pi.exists(!1))]).then(()=>s)}function N0(r,e){return function(s,o){const u=new tr;return s.asyncQueue.enqueueAndForget(async()=>rx(await px(s),o,u)),u.promise}(pp(r),e)}function kx(r,e,n){const s=n.docs.get(e._key),o=new I0(r);return new C0(r,o,e._key,s,new zl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){To=o})(Eo),lo(new Xs("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new hu(new C1(s.getProvider("auth-internal")),new D1(f,s.getProvider("app-check-internal")),function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new de(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xl(_.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),ts(rv,sv,e),ts(rv,sv,"esm2017")})();function Ep(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function O0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Px=O0,M0=new su("auth","Firebase",O0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yh=new zm("@firebase/auth");function Lx(r,...e){yh.logLevel<=Me.WARN&&yh.warn(`Auth (${Eo}): ${r}`,...e)}function Jc(r,...e){yh.logLevel<=Me.ERROR&&yh.error(`Auth (${Eo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yn(r,...e){throw Tp(r,...e)}function _i(r,...e){return Tp(r,...e)}function V0(r,e,n){const s=Object.assign(Object.assign({},Px()),{[e]:n});return new su("auth","Firebase",s).create(e,{appName:r.name})}function nr(r){return V0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Tp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return M0.create(r,...e)}function ve(r,e,...n){if(!r)throw Tp(e,...n)}function Wi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Jc(e),new Error(e)}function or(r,e){r||Wi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function Ux(){return Zv()==="http:"||Zv()==="https:"}function Zv(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Ux()||rR()||"connection"in navigator)?navigator.onLine:!0}function zx(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,or(n>e,"Short delay should be less than long delay!"),this.isMobile=tR()||sR()}get(){return jx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sp(r,e){or(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=new fu(3e4,6e4);function hs(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function fs(r,e,n,s,o={}){return P0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=au(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:e,headers:p},u);return iR()||(_.referrerPolicy="no-referrer"),k0.fetch()(L0(r,r.config.apiHost,n,m),_)})}async function P0(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},Bx),e);try{const o=new Fx(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw qc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,_]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw qc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw qc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw qc(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw V0(r,T,_);Yn(r,T)}}catch(o){if(o instanceof lr)throw o;Yn(r,"network-request-failed",{message:String(o)})}}async function du(r,e,n,s,o={}){const u=await fs(r,e,n,s,o);return"mfaPendingCredential"in u&&Yn(r,"multi-factor-auth-required",{_serverResponse:u}),u}function L0(r,e,n,s){const o=`${e}${n}?${s}`;return r.config.emulator?Sp(r.config,o):`${r.config.apiScheme}://${o}`}function qx(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Fx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(_i(this.auth,"network-request-failed")),Hx.get())})}}function qc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=_i(r,e,s);return o.customData._tokenResponse=n,o}function Jv(r){return r!==void 0&&r.enterprise!==void 0}class Gx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return qx(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $x(r,e){return fs(r,"GET","/v2/recaptchaConfig",hs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kx(r,e){return fs(r,"POST","/v1/accounts:delete",e)}async function U0(r,e){return fs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Qx(r,e=!1){const n=Tn(r),s=await n.getIdToken(e),o=Ap(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Gl(am(o.auth_time)),issuedAtTime:Gl(am(o.iat)),expirationTime:Gl(am(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function am(r){return Number(r)*1e3}function Ap(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return Jc("JWT malformed, contained fewer than 3 sections"),null;try{const o=LE(n);return o?JSON.parse(o):(Jc("Failed to decode base64 JWT payload"),null)}catch(o){return Jc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function eE(r){const e=Ap(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof lr&&Yx(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Yx({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Gl(this.lastLoginAt),this.creationTime=Gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await eu(r,U0(n,{idToken:s}));ve(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?j0(u.providerUserInfo):[],m=Zx(r.providerData,f),p=r.isAnonymous,_=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),T=p?_:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Nm(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,b)}async function Wx(r){const e=Tn(r);await vh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Zx(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function j0(r){return r.map(e=>{var{providerId:n}=e,s=Ep(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jx(r,e){const n=await P0(r,{},async()=>{const s=au({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=L0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",k0.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eD(r,e){return fs(r,"POST","/v2/accounts:revokeToken",hs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class so{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):eE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=eE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await Jx(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new so;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new so,this.toJSON())}_performRefresh(){return Wi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Zi{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Ep(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Nm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await eu(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Qx(this,e)}reload(){return Wx(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Zi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await vh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(nr(this.auth));const e=await this.getIdToken();return await eu(this,Kx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,_,T;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,I=(o=n.email)!==null&&o!==void 0?o:void 0,P=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,U=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Q=(m=n.tenantId)!==null&&m!==void 0?m:void 0,F=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(_=n.createdAt)!==null&&_!==void 0?_:void 0,ne=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:ee,emailVerified:pe,isAnonymous:ue,providerData:be,stsTokenManager:M}=n;ve(ee&&M,e,"internal-error");const R=so.fromJSON(this.name,M);ve(typeof ee=="string",e,"internal-error"),$r(b,e.name),$r(I,e.name),ve(typeof pe=="boolean",e,"internal-error"),ve(typeof ue=="boolean",e,"internal-error"),$r(P,e.name),$r(U,e.name),$r(Q,e.name),$r(F,e.name),$r(Y,e.name),$r(ne,e.name);const w=new Zi({uid:ee,auth:e,email:I,emailVerified:pe,displayName:b,isAnonymous:ue,photoURL:U,phoneNumber:P,tenantId:Q,stsTokenManager:R,createdAt:Y,lastLoginAt:ne});return be&&Array.isArray(be)&&(w.providerData=be.map(x=>Object.assign({},x))),F&&(w._redirectEventId=F),w}static async _fromIdTokenResponse(e,n,s=!1){const o=new so;o.updateFromServerResponse(n);const u=new Zi({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await vh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?j0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new so;m.updateFromIdToken(s);const p=new Zi({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Nm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=new Map;function Ji(r){or(r instanceof Function,"Expected a class definition");let e=tE.get(r);return e?(or(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,tE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}z0.type="NONE";const nE=z0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(r,e,n){return`firebase:${r}:${e}:${n}`}class ao{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=eh(this.userKey,o.apiKey,u),this.fullPersistenceKey=eh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ao(Ji(nE),e,s);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||Ji(nE);const f=eh(s,e.config.apiKey,e.name);let m=null;for(const _ of n)try{const T=await _._get(f);if(T){const b=Zi._fromJSON(e,T);_!==u&&(m=b),u=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ao(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new ao(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(F0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(B0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($0(e))return"Blackberry";if(K0(e))return"Webos";if(H0(e))return"Safari";if((e.includes("chrome/")||q0(e))&&!e.includes("edge/"))return"Chrome";if(G0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function B0(r=Jt()){return/firefox\//i.test(r)}function H0(r=Jt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function q0(r=Jt()){return/crios\//i.test(r)}function F0(r=Jt()){return/iemobile/i.test(r)}function G0(r=Jt()){return/android/i.test(r)}function $0(r=Jt()){return/blackberry/i.test(r)}function K0(r=Jt()){return/webos/i.test(r)}function wp(r=Jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function tD(r=Jt()){var e;return wp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nD(){return aR()&&document.documentMode===10}function Q0(r=Jt()){return wp(r)||G0(r)||K0(r)||$0(r)||/windows phone/i.test(r)||F0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(r,e=[]){let n;switch(r){case"Browser":n=iE(Jt());break;case"Worker":n=`${iE(Jt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Eo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rD(r,e={}){return fs(r,"GET","/v2/passwordPolicy",hs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=6;class aD{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:sD,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new rE(this),this.idTokenSubscription=new rE(this),this.beforeStateQueue=new iD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=M0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ji(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await ao.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await U0(this,{idToken:e}),s=await Zi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(jn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await vh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=zx()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(nr(this));const n=e?Tn(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(nr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(nr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rD(this),n=new aD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new su("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await eD(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ji(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await ao.create(this,[Ji(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Y0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Lx(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function oa(r){return Tn(r)}class rE{constructor(e){this.auth=e,this.observer=null,this.addObserver=mR(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lD(r){Bh=r}function X0(r){return Bh.loadJS(r)}function uD(){return Bh.recaptchaEnterpriseScript}function cD(){return Bh.gapiScript}function hD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class fD{constructor(){this.enterprise=new dD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class dD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const mD="recaptcha-enterprise",W0="NO_RECAPTCHA";class pD{constructor(e){this.type=mD,this.auth=oa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{$x(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new Gx(p);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,f(_.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;Jv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(_=>{f(_)}).catch(()=>{f(W0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new fD().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&Jv(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=uD();p.length!==0&&(p+=m),X0(p).then(()=>{o(m,u,f)}).catch(_=>{f(_)})}}).catch(m=>{f(m)})})}}async function sE(r,e,n,s=!1,o=!1){const u=new pD(r);let f;if(o)f=W0;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Om(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await sE(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await sE(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(r,e){const n=Hm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ys(u,e??{}))return o;Yn(o,"already-initialized")}return n.initialize({options:e})}function _D(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Ji);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function yD(r,e,n){const s=oa(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Z0(e),{host:f,port:m}=vD(e),p=m===null?"":`:${m}`,_={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(Ys(_,s.config.emulator)&&Ys(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,ED()}function Z0(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function vD(r){const e=Z0(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:aE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:aE(f)}}}function aE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function ED(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Wi("not implemented")}_getIdTokenResponse(e){return Wi("not implemented")}_linkToIdToken(e,n){return Wi("not implemented")}_getReauthenticationResolver(e){return Wi("not implemented")}}async function TD(r,e){return fs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SD(r,e){return du(r,"POST","/v1/accounts:signInWithPassword",hs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AD(r,e){return du(r,"POST","/v1/accounts:signInWithEmailLink",hs(r,e))}async function wD(r,e){return du(r,"POST","/v1/accounts:signInWithEmailLink",hs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends bp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new tu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new tu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Om(e,n,"signInWithPassword",SD);case"emailLink":return AD(e,{email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Om(e,s,"signUpPassword",TD);case"emailLink":return wD(e,{idToken:n,email:this._email,oobCode:this._password});default:Yn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(r,e){return du(r,"POST","/v1/accounts:signInWithIdp",hs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD="http://localhost";class Js extends bp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Js(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Yn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Ep(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new Js(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return oo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,oo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,oo(e,n)}buildRequest(){const e={requestUri:bD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=au(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function CD(r){const e=kl(Pl(r)).link,n=e?kl(Pl(e)).deep_link_id:null,s=kl(Pl(r)).deep_link_id;return(s?kl(Pl(s)).link:null)||s||n||e||r}class Rp{constructor(e){var n,s,o,u,f,m;const p=kl(Pl(e)),_=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,b=RD((o=p.mode)!==null&&o!==void 0?o:null);ve(_&&T&&b,"argument-error"),this.apiKey=_,this.operation=b,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=CD(e);try{return new Rp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.providerId=bo.PROVIDER_ID}static credential(e,n){return tu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Rp.parseLink(n);return ve(s,"argument-error"),tu._fromEmailAndCode(e,s.code,s.tenantId)}}bo.PROVIDER_ID="password";bo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";bo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends J0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends mu{constructor(){super("facebook.com")}static credential(e){return Js._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Js._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Yr.credential(n,s)}catch{return null}}}Yr.GOOGLE_SIGN_IN_METHOD="google.com";Yr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends mu{constructor(){super("github.com")}static credential(e){return Js._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xr.credential(e.oauthAccessToken)}catch{return null}}}Xr.GITHUB_SIGN_IN_METHOD="github.com";Xr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends mu{constructor(){super("twitter.com")}static credential(e,n){return Js._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Wr.credential(n,s)}catch{return null}}}Wr.TWITTER_SIGN_IN_METHOD="twitter.com";Wr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID(r,e){return du(r,"POST","/v1/accounts:signUp",hs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Zi._fromIdTokenResponse(e,s,o),f=oE(s);return new ea({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=oE(s);return new ea({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function oE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends lr{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Eh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Eh(e,n,s,o)}}function eS(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Eh._fromErrorAndOperation(r,u,e,s):u})}async function xD(r,e,n=!1){const s=await eu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ea._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DD(r,e,n=!1){const{auth:s}=r;if(jn(s.app))return Promise.reject(nr(s));const o="reauthenticate";try{const u=await eu(r,eS(s,o,e,r),n);ve(u.idToken,s,"internal-error");const f=Ap(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(r.uid===m,s,"user-mismatch"),ea._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Yn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tS(r,e,n=!1){if(jn(r.app))return Promise.reject(nr(r));const s="signIn",o=await eS(r,s,e),u=await ea._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function ND(r,e){return tS(oa(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nS(r){const e=oa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function OD(r,e,n){if(jn(r.app))return Promise.reject(nr(r));const s=oa(r),f=await Om(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ID).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&nS(r),p}),m=await ea._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function MD(r,e,n){return jn(r.app)?Promise.reject(nr(r)):ND(Tn(r),bo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&nS(r),s})}function VD(r,e,n,s){return Tn(r).onIdTokenChanged(e,n,s)}function kD(r,e,n){return Tn(r).beforeAuthStateChanged(e,n)}function PD(r){return Tn(r).signOut()}const Th="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Th,"1"),this.storage.removeItem(Th),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LD=1e3,UD=10;class rS extends iS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Q0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);nD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,UD):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},LD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}rS.type="LOCAL";const jD=rS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS extends iS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}sS.type="SESSION";const aS=sS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Hh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async _=>_(n.origin,u)),p=await zD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Hh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const _=Cp("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const I=b;if(I.data.eventId===_)switch(I.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(I.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(){return window}function HD(r){yi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(){return typeof yi().WorkerGlobalScope<"u"&&typeof yi().importScripts=="function"}async function qD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FD(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function GD(){return oS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="firebaseLocalStorageDb",$D=1,Sh="firebaseLocalStorage",uS="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function qh(r,e){return r.transaction([Sh],e?"readwrite":"readonly").objectStore(Sh)}function KD(){const r=indexedDB.deleteDatabase(lS);return new pu(r).toPromise()}function Mm(){const r=indexedDB.open(lS,$D);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Sh,{keyPath:uS})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Sh)?e(s):(s.close(),await KD(),e(await Mm()))})})}async function lE(r,e,n){const s=qh(r,!0).put({[uS]:e,value:n});return new pu(s).toPromise()}async function QD(r,e){const n=qh(r,!1).get(e),s=await new pu(n).toPromise();return s===void 0?null:s.value}function uE(r,e){const n=qh(r,!0).delete(e);return new pu(n).toPromise()}const YD=800,XD=3;class cS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Mm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>XD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return oS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Hh._getInstance(GD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await qD(),!this.activeServiceWorker)return;this.sender=new BD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||FD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Mm();return await lE(e,Th,"1"),await uE(e,Th),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>lE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>QD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>uE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=qh(o,!1).getAll();return new pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cS.type="LOCAL";const WD=cS;new fu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZD(r,e){return e?Ji(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip extends bp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return oo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return oo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return oo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function JD(r){return tS(r.auth,new Ip(r),r.bypassAuthState)}function eN(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),DD(n,new Ip(r),r.bypassAuthState)}async function tN(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),xD(n,new Ip(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JD;case"linkViaPopup":case"linkViaRedirect":return tN;case"reauthViaPopup":case"reauthViaRedirect":return eN;default:Yn(this.auth,"internal-error")}}resolve(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=new fu(2e3,1e4);class io extends hS{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,io.currentPopupAction&&io.currentPopupAction.cancel(),io.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){or(this.filter.length===1,"Popup operations only handle one event");const e=Cp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_i(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(_i(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,io.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_i(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,nN.get())};e()}}io.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN="pendingRedirect",th=new Map;class rN extends hS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=th.get(this.auth._key());if(!e){try{const s=await sN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}th.set(this.auth._key(),e)}return this.bypassAuthState||th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sN(r,e){const n=lN(e),s=oN(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function aN(r,e){th.set(r._key(),e)}function oN(r){return Ji(r._redirectPersistence)}function lN(r){return eh(iN,r.config.apiKey,r.name)}async function uN(r,e,n=!1){if(jn(r.app))return Promise.reject(nr(r));const s=oa(r),o=ZD(s,e),f=await new rN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN=10*60*1e3;class hN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!fN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!fS(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(_i(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=cN&&this.cachedEventUids.clear(),this.cachedEventUids.has(cE(e))}saveEventToCache(e){this.cachedEventUids.add(cE(e)),this.lastProcessedEventTime=Date.now()}}function cE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function fS({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function fN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fS(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dN(r,e={}){return fs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pN=/^https?/;async function gN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await dN(r);for(const n of e)try{if(_N(n))return}catch{}Yn(r,"unauthorized-domain")}function _N(r){const e=Dm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!pN.test(n))return!1;if(mN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new fu(3e4,6e4);function hE(){const r=yi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function vN(r){return new Promise((e,n)=>{var s,o,u;function f(){hE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{hE(),n(_i(r,"network-request-failed"))},timeout:yN.get()})}if(!((o=(s=yi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=yi().gapi)===null||u===void 0)&&u.load)f();else{const m=hD("iframefcb");return yi()[m]=()=>{gapi.load?f():n(_i(r,"network-request-failed"))},X0(`${cD()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw nh=null,e})}let nh=null;function EN(r){return nh=nh||vN(r),nh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=new fu(5e3,15e3),SN="__/auth/iframe",AN="emulator/auth/iframe",wN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RN(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Sp(e,AN):`https://${r.config.authDomain}/${SN}`,s={apiKey:e.apiKey,appName:r.name,v:Eo},o=bN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${au(s).slice(1)}`}async function CN(r){const e=await EN(r),n=yi().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:RN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=_i(r,"network-request-failed"),m=yi().setTimeout(()=>{u(f)},TN.get());function p(){yi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},xN=500,DN=600,NN="_blank",ON="http://localhost";class fE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MN(r,e,n,s=xN,o=DN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},IN),{width:s.toString(),height:o.toString(),top:u,left:f}),_=Jt().toLowerCase();n&&(m=q0(_)?NN:n),B0(_)&&(e=e||ON,p.scrollbars="yes");const T=Object.entries(p).reduce((I,[P,U])=>`${I}${P}=${U},`,"");if(tD(_)&&m!=="_self")return VN(e||"",m),new fE(null);const b=window.open(e||"",m,T);ve(b,r,"popup-blocked");try{b.focus()}catch{}return new fE(b)}function VN(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="__/auth/handler",PN="emulator/auth/handler",LN=encodeURIComponent("fac");async function dE(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Eo,eventId:o};if(e instanceof J0){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",dR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))f[T]=b}if(e instanceof mu){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),_=p?`#${LN}=${encodeURIComponent(p)}`:"";return`${UN(r)}?${au(m).slice(1)}${_}`}function UN({config:r}){return r.emulator?Sp(r,PN):`https://${r.authDomain}/${kN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="webStorageSupport";class jN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aS,this._completeRedirectFn=uN,this._overrideRedirectResult=aN}async _openPopup(e,n,s,o){var u;or((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await dE(e,n,s,Dm(),o);return MN(e,f,Cp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await dE(e,n,s,Dm(),o);return HD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(or(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await CN(e),s=new hN(e);return n.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(om,{type:om},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[om];f!==void 0&&n(!!f),Yn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=gN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Q0()||H0()||wp()}}const zN=jN;var mE="@firebase/auth",pE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qN(r){lo(new Xs("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Y0(r)},_=new oD(s,o,u,p);return _D(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),lo(new Xs("auth-internal",e=>{const n=oa(e.getProvider("auth").getImmediate());return(s=>new BN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ts(mE,pE,HN(r)),ts(mE,pE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN=5*60,GN=zE("authIdTokenMaxAge")||FN;let gE=null;const $N=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>GN)return;const o=n==null?void 0:n.token;gE!==o&&(gE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function KN(r=FE()){const e=Hm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=gD(r,{popupRedirectResolver:zN,persistence:[WD,jD,aS]}),s=zE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=$N(u.toString());kD(n,f,()=>f(n.currentUser)),VD(n,m=>f(m))}}const o=UE("auth");return o&&yD(n,`http://${o}`),n}function QN(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}lD({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=_i("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",QN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qN("Browser");var YN="firebase",XN="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ts(YN,XN,"app");const WN={apiKey:"AIzaSyCSjbxL9N2DMxDdY5VYHIgSS8xcEXT54xE",authDomain:"my-first-project-7cbf9.firebaseapp.com",databaseURL:"https://my-first-project-7cbf9-default-rtdb.europe-west1.firebasedatabase.app",projectId:"my-first-project-7cbf9",storageBucket:"my-first-project-7cbf9.firebasestorage.app",messagingSenderId:"424606795900",appId:"1:424606795900:web:61a3a0683433959a3da1f9"},dS=qE(WN),_o=Ex(dS),xp=KN(dS);function ZN(){const r=q.useRef(),[e,n]=q.useState([]),[s,o]=q.useState([]),u=q.useRef(!1),f=()=>{const m=r.current.value.trim().toLowerCase();if(r.current.value="",m==="")o(e);else{const p=e.filter(_=>{var T;return(T=_.content)==null?void 0:T.toLowerCase().includes(m)});o(p)}};return q.useEffect(()=>{if(u.current)return;u.current=!0,(async()=>{try{const p=mp(_o,"posts"),T=(await x0(p)).docs.map(b=>b.data());n(T),o(T)}catch(p){console.error("Грешка при взимане на постовете:",p)}})()},[]),E.jsxs("div",{className:hn.container,children:[E.jsxs("nav",{className:hn.nav,children:[E.jsx("h1",{children:"At"}),E.jsxs("ul",{children:[E.jsx("li",{children:E.jsxs(_e,{to:"/react-regular-exam/login",children:[E.jsx("i",{className:`fa-solid fa-arrow-right-to-bracket ${hn.i}`}),E.jsx("span",{children:"Sign in"})]})}),E.jsx("li",{children:E.jsxs(_e,{to:"/react-regular-exam/create",children:[E.jsx("i",{className:`fa-regular fa-id-badge ${hn.i}`}),E.jsx("span",{children:"Create account"})]})}),E.jsx("li",{children:E.jsxs(_e,{to:"/react-regular-exam",children:[E.jsx("i",{className:`fa-solid fa-person-through-window ${hn.i}`}),E.jsx("span",{children:"Leave"})]})})]}),E.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Guest"}),E.jsx("p",{children:"Guest"})]}),E.jsxs("main",{className:hn.main,children:[E.jsxs("section",{id:"search",className:hn.search,children:[E.jsx("h3",{children:"What do you need?"}),E.jsx("input",{type:"search",ref:r,name:"search",id:"search",placeholder:"search"}),E.jsx("button",{onClick:f,children:"🔍"})]}),E.jsxs("section",{id:"posts",className:hn.posts,children:[E.jsxs("div",{id:"post",className:hn.post,children:[E.jsxs("div",{id:"meta",className:hn.meta,children:[E.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Profile image"}),E.jsx("h4",{children:"Author"}),E.jsx("p",{children:"Date"})]}),E.jsx("p",{children:"Text content. This is my first post is text content, which is going to become viral!"}),E.jsx("img",{src:"https://images.indianexpress.com/2017/12/2017-viral-photos-main_759_combo.jpg?w=350",alt:"Img or Video"}),E.jsxs("div",{id:"feedback",className:hn.feedback,children:[E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-comment"}),E.jsx("span",{children:"5"})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-heart"}),E.jsx("span",{children:"12"})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-solid fa-magnifying-glass"}),E.jsx("span",{children:"57"})]})]})]}),s.length>0?s.map((m,p)=>{const _=m.meta.date.toDate();return E.jsxs("div",{id:"post",className:hn.post,children:[E.jsxs("div",{id:"meta",className:hn.meta,children:[E.jsx("img",{src:m.meta.img,alt:"Profile image"}),E.jsx("h4",{children:m.meta.author}),E.jsx("p",{children:_.toLocaleDateString()})]}),E.jsx("p",{children:m.content}),E.jsx("img",{src:m.img,alt:"Img or Video"}),E.jsxs("div",{id:"feedback",className:hn.feedback,children:[E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-comment"}),E.jsx("span",{children:m.feedback.comments})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-heart"}),E.jsx("span",{children:m.feedback.likes})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-solid fa-magnifying-glass"}),E.jsx("span",{children:m.feedback.views})]})]})]},p)}):E.jsx("p",{children:"No posts found"})]})]})]})}const JN="_wrapperMajor_12wpi_1",e2="_header_12wpi_11",t2="_logo_12wpi_73",n2="_main_12wpi_83",i2="_mainDiv_12wpi_95",r2="_nav_12wpi_107",s2="_button_12wpi_121",a2="_google_12wpi_141",o2="_awesome_12wpi_175",l2="_separator_12wpi_201",u2="_hr_12wpi_223",c2="_input_12wpi_231",h2="_next_12wpi_245",f2="_lastParagraph_12wpi_263",ft={wrapperMajor:JN,header:e2,logo:t2,main:n2,mainDiv:i2,nav:r2,button:s2,google:a2,awesome:o2,separator:l2,hr:u2,input:c2,next:h2,lastParagraph:f2},la=q.createContext();function d2({children:r}){const[e,n]=q.useState({name:"",email:"",password:"",birthday:{month:"",day:"",year:""},checkbox:{getMore:"",connectWith:"",peronalizedAds:"",noThanks:""}}),s=o=>{n(u=>({...u,...o}))};return E.jsx(la.Provider,{value:{formData:e,updateForm:s},children:r})}function m2(){const r=na(),{updateForm:e}=q.useContext(la),n=async s=>{var u;s.preventDefault();const o={email:((u=s.target.elements.email)==null?void 0:u.value)||""};if(!o.email)return alert("You must enter a valid email address");await e(o),r("/react-regular-exam/login/pass")};return E.jsx("form",{onSubmit:n,children:E.jsxs("div",{className:ft.wrapperMajor,children:[E.jsxs("header",{className:ft.header,children:[E.jsx(_e,{className:ft.x,to:"/react-regular-exam",children:E.jsx("i",{className:"fa-solid fa-xmark"})}),E.jsx("h1",{className:ft.logo,children:"At"})]}),E.jsx("main",{className:ft.main,children:E.jsxs("div",{className:ft.mainDiv,children:[E.jsx("h1",{children:"Sign in to At"}),E.jsxs("nav",{className:ft.nav,children:[E.jsxs("button",{type:"button",className:`${ft.button} ${ft.awesome} ${ft.google}`,children:[E.jsx("i",{className:"fa-brands fa-google"}),"Sign in with Google"]}),E.jsxs("button",{type:"button",className:`${ft.button} ${ft.awesome}`,children:[E.jsx("i",{className:"fa-brands fa-apple"}),"Sign in with Apple"]}),E.jsxs("div",{className:ft.separator,children:[E.jsx("hr",{className:ft.hr}),E.jsx("p",{children:"or"}),E.jsx("hr",{className:ft.hr})]}),E.jsx("input",{name:"email",className:ft.input,type:"email",placeholder:"email"}),E.jsx("button",{className:`${ft.button} ${ft.awesome} ${ft.next}`,children:"Next"}),E.jsx("button",{type:"button",className:`${ft.button} ${ft.awesome}`,to:"/react-regular-exam/guest",children:"Forgot password?"}),E.jsxs("p",{className:ft.lastParagraph,children:["Don't have an account?",E.jsx(_e,{to:"/react-regular-exam/create",children:"Sign up"})]})]})]})})]})})}const p2="_wrapperMajor_1qz1e_1",g2="_header_1qz1e_21",_2="_logo_1qz1e_83",y2="_main_1qz1e_93",v2="_mainDiv_1qz1e_107",E2="_upperDiv_1qz1e_121",T2="_emailState_1qz1e_131",S2="_password_1qz1e_159",A2="_arrow_1qz1e_177",w2="_inputWrapper_1qz1e_189",b2="_pass_1qz1e_159",R2="_forgot_1qz1e_219",C2="_login_1qz1e_247",I2="_signup_1qz1e_289",on={wrapperMajor:p2,header:g2,logo:_2,main:y2,mainDiv:v2,upperDiv:E2,emailState:T2,password:S2,arrow:A2,inputWrapper:w2,pass:b2,forgot:R2,login:C2,signup:I2};function x2(r,e){localStorage.setItem("user",JSON.stringify(r)),localStorage.setItem("userToken",e)}function mS(){return localStorage.getItem("userToken")}function D2(){return localStorage.getItem("user")}function N2(){localStorage.removeItem("userToken"),localStorage.removeItem("user")}const O2=async r=>{const{email:e,password:n}=r;try{const o=(await OD(xp,e,n)).user;await D0(zh(_o,"users",o.uid),{...r,createdAt:new Date,userId:o.uid})}catch(s){console.error("Error registering user:",s.message)}},M2=async r=>{const{email:e,password:n}=r;try{const o=(await MD(xp,e,n)).user,u=await o.getIdToken(),f=await k2(o.uid);return x2(f,u),f}catch(s){console.error("Error login user:",s.message)}},V2=async r=>{try{const e=await P2(r.img);e?r.img=e:r.img="";const n=await Vx(mp(_o,"posts"),r),s={...r,id:n.id};await D0(zh(_o,"posts",n.id),s),console.log(s)}catch(e){console.error("Error adding document:",e)}};async function k2(r){try{const e=zh(_o,"users",r),n=await Mx(e);if(n.exists())return n.data();throw new Error("no such user!")}catch(e){return console.error("Error fetching user:",e.message),null}}const P2=async r=>{if(!r)return;const e=new FormData;e.append("file",r),e.append("upload_preset","my_unsigned_preset");try{const s=await(await fetch("https://api.cloudinary.com/v1_1/dsqegonee/image/upload",{method:"POST",body:e})).json();if(s.secure_url)return console.log("Изображението е качено успешно:",s.secure_url),s.secure_url;console.error("Грешка при качването на изображението",s)}catch(n){console.error("Грешка при качването на изображението:",n)}},L2="_loader_1ojyy_11",U2={loader:L2};function pS(){return E.jsx("div",{className:U2.loader})}function j2(){const{formData:r,updateForm:e}=q.useContext(la),n=na(),[s,o]=q.useState(!1),[u,f]=q.useState(!1),m=async p=>{var T;p.preventDefault(),f(!0);const _={password:(T=p.target.elements.password)==null?void 0:T.value};if(!_)return alert("You need to provide a password");await e(_)};return q.useEffect(()=>{if(!r.password)return;(async()=>{try{const _=await M2(r);await e(_),n("/react-regular-exam/welcome"),f(!1)}catch(_){alert(_.message)}})()},[r.password]),E.jsx("form",{onSubmit:m,children:E.jsxs("div",{className:on.wrapperMajor,children:[u&&E.jsx(pS,{}),E.jsxs("header",{className:on.header,children:[E.jsx(_e,{className:on.x,to:"/react-regular-exam",children:E.jsx("i",{className:"fa-solid fa-xmark"})}),E.jsx("h1",{className:on.logo,children:"At"})]}),E.jsx("main",{className:on.main,children:E.jsxs("div",{className:on.mainDiv,children:[E.jsxs("div",{className:on.upperDiv,children:[E.jsx("h1",{children:"Enter your password"}),E.jsxs("div",{className:on.emailState,children:[E.jsx("p",{children:"Email"}),E.jsx("p",{children:r.email})]}),E.jsxs("div",{className:on.password,children:[E.jsxs("div",{className:on.arrow,children:[E.jsx("p",{children:"Password"}),E.jsx("i",{className:"fa-solid fa-arrow-down"})]}),E.jsxs("div",{className:on.inputWrapper,children:[E.jsx("input",{className:on.pass,type:"password",name:"password",id:"",placeholder:""}),E.jsx("i",{className:"fa-regular fa-eye"})]})]}),E.jsx("p",{className:on.forgot,children:E.jsx(_e,{children:"Forgot password?"})})]}),E.jsxs("div",{className:on.login,children:[E.jsx("input",{name:"login",type:"submit",value:"Log in"}),E.jsxs("div",{className:on.signup,children:[E.jsx("p",{children:"Don't have an account?"}),E.jsx(_e,{to:"/create",children:"Sign up"})]})]})]})})]})})}const z2="_wrapperMajor_1bczb_1",B2="_header_1bczb_21",H2="_logo_1bczb_83",q2="_main_1bczb_93",F2="_mainDiv_1bczb_107",G2="_upperDiv_1bczb_121",$2="_password_1bczb_133",K2="_arrow_1bczb_151",Q2="_inputWrapper_1bczb_163",Y2="_pass_1bczb_133",X2="_login_1bczb_185",W2="_birth_1bczb_223",Z2="_birthday_1bczb_255",J2="_month_1bczb_265",eO="_day_1bczb_291",tO="_year_1bczb_291",Ye={wrapperMajor:z2,header:B2,logo:H2,main:q2,mainDiv:F2,upperDiv:G2,password:$2,arrow:K2,inputWrapper:Q2,pass:Y2,login:X2,birth:W2,birthday:Z2,month:J2,day:eO,year:tO};function nO(){const{updateForm:r}=q.useContext(la),e=na(),n=async s=>{var u,f,m,p,_,T,b;s.preventDefault();const o={name:((u=s.target.elements.name)==null?void 0:u.value)||"",email:((f=s.target.elements.email)==null?void 0:f.value)||"",password:((m=s.target.elements.password)==null?void 0:m.value)||"",birthday:{month:((p=s.target.elements.month)==null?void 0:p.value)||"",day:((_=s.target.elements.day)==null?void 0:_.value)||"",year:((T=s.target.elements.year)==null?void 0:T.value)||""}};if(o.name)if(o.email){if(!o.password||o.password.length<6)return alert("You must enter a valid password!");if(o.password!==((b=s.target.elements.repeat)==null?void 0:b.value))return alert("Password Missmatch!");if(o.birthday.month)if(o.birthday.day){if(!o.birthday.year)return alert("You must choose an year!")}else return alert("You must choose a day!");else return alert("You must choose a month!")}else return alert("You must enter a valid email address!");else return alert("You must enter a name!");await r(o),e("/react-regular-exam/create/submit")};return E.jsx("form",{onSubmit:n,children:E.jsxs("div",{className:Ye.wrapperMajor,children:[E.jsxs("header",{className:Ye.header,children:[E.jsx(_e,{className:Ye.x,to:"/react-regular-exam",children:E.jsx("i",{className:"fa-solid fa-xmark"})}),E.jsx("h1",{className:Ye.logo,children:"At"})]}),E.jsx("main",{className:Ye.main,children:E.jsxs("div",{className:Ye.mainDiv,children:[E.jsxs("div",{className:Ye.upperDiv,children:[E.jsx("h1",{children:"Create your account"}),E.jsxs("div",{className:Ye.password,children:[E.jsxs("div",{className:Ye.arrow,children:[E.jsx("p",{children:"Name"}),E.jsx("i",{className:"fa-solid fa-arrow-down"})]}),E.jsx("div",{className:Ye.inputWrapper,children:E.jsx("input",{className:Ye.pass,type:"text",name:"name",id:"",placeholder:""})})]}),E.jsxs("div",{className:Ye.password,children:[E.jsxs("div",{className:Ye.arrow,children:[E.jsx("p",{children:"Email"}),E.jsx("i",{className:"fa-solid fa-arrow-down"})]}),E.jsx("div",{className:Ye.inputWrapper,children:E.jsx("input",{className:Ye.pass,type:"email",name:"email",id:"",placeholder:""})})]}),E.jsxs("div",{className:Ye.password,children:[E.jsxs("div",{className:Ye.arrow,children:[E.jsx("p",{children:"Password"}),E.jsx("i",{className:"fa-solid fa-arrow-down"})]}),E.jsx("div",{className:Ye.inputWrapper,children:E.jsx("input",{className:Ye.pass,type:"password",name:"password",id:"",placeholder:"At least 6 characters"})})]}),E.jsxs("div",{className:Ye.password,children:[E.jsxs("div",{className:Ye.arrow,children:[E.jsx("p",{children:"Repeat password"}),E.jsx("i",{className:"fa-solid fa-arrow-down"})]}),E.jsx("div",{className:Ye.inputWrapper,children:E.jsx("input",{className:Ye.pass,type:"password",name:"repeat",id:"",placeholder:""})})]}),E.jsxs("div",{className:Ye.birth,children:[E.jsx("p",{children:"Date of Birth"}),E.jsx("p",{children:"This will not be shown publicly. Confirm your own age, even if this account is for a business, a pet, or something else."}),E.jsxs("div",{className:Ye.birthday,children:[E.jsxs("div",{className:Ye.month,children:[E.jsx("p",{children:"month"}),E.jsxs("select",{name:"month",id:"month",children:[E.jsx("option",{value:""}),E.jsx("option",{value:"January",children:"January"}),E.jsx("option",{value:"February",children:"February"}),E.jsx("option",{value:"March",children:"March"}),E.jsx("option",{value:"April",children:"April"}),E.jsx("option",{value:"May",children:"May"}),E.jsx("option",{value:"June",children:"June"}),E.jsx("option",{value:"July",children:"July"}),E.jsx("option",{value:"August",children:"August"}),E.jsx("option",{value:"September",children:"September"}),E.jsx("option",{value:"October",children:"October"}),E.jsx("option",{value:"November",children:"November"}),E.jsx("option",{value:"December",children:"December"})]})]}),E.jsxs("div",{className:Ye.day,children:[E.jsx("p",{children:"Day"}),E.jsxs("select",{name:"day",id:"day",children:[E.jsx("option",{value:""}),Array.from({length:31},(s,o)=>E.jsx("option",{value:o+1,children:o+1},o+1))]})]}),E.jsxs("div",{className:Ye.year,children:[E.jsx("p",{children:"Year"}),E.jsxs("select",{name:"year",id:"year",children:[E.jsx("option",{value:""}),Array.from({length:121},(s,o)=>E.jsx("option",{value:o+1905,children:o+1905},o+1905))]})]})]})]})]}),E.jsx("div",{className:Ye.login,children:E.jsx("button",{children:"Next"})})]})})]})})}const iO="_wrapperMajor_ewi7d_1",rO="_header_ewi7d_33",sO="_logo_ewi7d_95",aO="_main_ewi7d_105",oO="_wrapper_ewi7d_1",lO="_checkBoxWrapper_ewi7d_135",uO="_button_ewi7d_267",Kr={wrapperMajor:iO,header:rO,logo:sO,main:aO,wrapper:oO,checkBoxWrapper:lO,button:uO};function cO(){const r=na(),{formData:e,updateForm:n}=q.useContext(la),[s,o]=q.useState(!1),u=async f=>{var p,_,T;f.preventDefault(),o(!0);const m={checkbox:{getMore:(p=f.target.elements.getMore)!=null&&p.checked?"yes":"no",connectWith:(_=f.target.elements.connectWith)!=null&&_.checked?"yes":"no",peronalizedAds:(T=f.target.elements.peronalizedAds)!=null&&T.checked?"yes":"no"}};try{n(m)}catch(b){console.error("Error registering user:",b.message)}};return q.useEffect(()=>{if(!e.checkbox.getMore)return;(async()=>{try{await O2(e),o(!1),r("/react-regular-exam/guest")}catch(m){alert(m.message)}})()},[e.checkbox.getMore]),E.jsx("form",{onSubmit:u,children:E.jsxs("div",{className:Kr.wrapperMajor,children:[s&&E.jsx(pS,{}),E.jsxs("header",{className:Kr.header,children:[E.jsx(_e,{className:Kr.x,to:"/react-regular-exam",children:E.jsx("i",{className:"fa-solid fa-xmark"})}),E.jsx("h1",{className:Kr.logo,children:"At"})]}),E.jsxs("main",{className:Kr.main,children:[E.jsxs("div",{className:Kr.wrapper,children:[E.jsx("h1",{children:"Customize your experience"}),E.jsxs("div",{className:Kr.checkBoxWrapper,children:[E.jsxs("div",{children:[E.jsx("h3",{children:"Get more out of At"}),E.jsxs("div",{children:[E.jsx("p",{children:"Receive email about your At activity and recommendations."}),E.jsx("input",{type:"checkbox",name:"getMore"})]})]}),E.jsxs("div",{children:[E.jsx("h3",{children:"Connect with people you know"}),E.jsxs("div",{children:[E.jsx("p",{children:"Let others find your At account by your email address."}),E.jsx("input",{type:"checkbox",name:"connectWith"})]})]}),E.jsxs("div",{children:[E.jsx("h3",{children:"Personalized ads"}),E.jsxs("div",{children:[E.jsx("p",{children:"You will always see ads on At based on your At activity. When this setting is enabled, At may further personalize ads from At advertisers, on and off At, by combining your At activity with other online activity and information from our partners."}),E.jsx("input",{type:"checkbox",name:"peronalizedAds"})]})]})]}),E.jsxs("p",{children:["By signing up, you agree to our ",E.jsx(_e,{children:"Terms"}),", ",E.jsx(_e,{children:"Privacy Policy"}),", and ",E.jsx(_e,{children:"Cookie Use"}),". At may use your contact information, including your email address and phone number for purposes outlined in our Privacy Policy. ",E.jsx(_e,{children:"Learn more"})]})]}),E.jsx("div",{className:Kr.button,children:E.jsx("input",{type:"submit",value:"Next"})})]})]})})}const hO="_container_1491b_1",fO="_main_1491b_159",_E={container:hO,main:fO},dO="_nav_tg84o_1",mO="_i_tg84o_11",Gs={nav:dO,i:mO};function pO(){const{formData:r,updateForm:e}=q.useContext(la),[n,s]=q.useState("Loading..."),o=na(),u=async f=>{f.preventDefault();try{await PD(xp),e({name:"",email:"",password:"",birthday:{month:"",day:"",year:""},checkbox:{getMore:"",connectWith:"",peronalizedAds:"",noThanks:""}}),N2(),o("/react-regular-exam")}catch(m){console.error("Logout error:",m)}};return q.useEffect(()=>{const f=JSON.parse(D2());f&&f.name?s(f.name):s("Guest")},[]),E.jsxs("nav",{className:Gs.nav,children:[E.jsx("h1",{children:"At"}),E.jsxs("ul",{children:[E.jsx("li",{children:E.jsxs(_e,{to:"/react-regular-exam/welcome",children:[E.jsx("i",{className:`fa-solid fa-house-flag ${Gs.i}`}),E.jsx("span",{children:"Welcome"})]})}),E.jsx("li",{children:E.jsxs(_e,{to:"/react-regular-exam/about",children:[E.jsx("i",{className:`fa-solid fa-bell ${Gs.i}`}),E.jsx("span",{children:"Notification"})]})}),E.jsx("li",{children:E.jsxs(_e,{to:"/react-regular-exam/about",children:[E.jsx("i",{className:`fa-solid fa-envelope ${Gs.i}`}),E.jsx("span",{children:"Messages"})]})}),E.jsx("li",{children:E.jsxs(_e,{to:"/react-regular-exam/about",children:[E.jsx("i",{className:`fa-solid fa-user ${Gs.i}`}),E.jsx("span",{children:"Profile"})]})}),E.jsx("li",{children:E.jsxs(_e,{to:"/react-regular-exam/about",children:[E.jsx("i",{className:`fa-solid fa-suitcase ${Gs.i}`}),E.jsx("span",{children:"Jobs"})]})}),E.jsx("li",{children:E.jsxs(_e,{onClick:u,to:"#",children:[E.jsx("i",{className:`fa-solid fa-circle-xmark ${Gs.i}`}),E.jsx("span",{children:"Logout"})]})}),E.jsx("li",{children:E.jsx(_e,{to:"/react-regular-exam/welcome/post",children:E.jsx("span",{children:"Post"})})})]}),E.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Guest"}),E.jsx("p",{children:n})]})}function gO(){const r=q.useRef(null);return E.jsxs("div",{className:_E.container,children:[E.jsx(pO,{}),E.jsx("main",{ref:r,className:_E.main,children:E.jsx(zw,{context:{mainRef:r}})})]})}const _O="_search_1acn7_1",yO="_meta_1acn7_39",vO="_post_1acn7_69",EO="_feedback_1acn7_105",TO="_imgWrap_1acn7_123",Ks={search:_O,meta:yO,post:vO,feedback:EO,imgWrap:TO};function SO(r,e){return E.jsx(E.Fragment,{children:E.jsxs("section",{id:"search",className:Ks.search,children:[E.jsx("h3",{children:"What do you need?"}),E.jsx("input",{type:"search",ref:e,name:"search",id:"search",placeholder:"search"}),E.jsx("button",{onClick:r.onSearch,children:"🔍"})]})})}const AO=q.forwardRef(SO);function wO(r=6){const[e,n]=q.useState([]),[s,o]=q.useState([]),[u,f]=q.useState(!1),[m,p]=q.useState(1),_=b=>{const I=b.trim().toLowerCase();if(I==="")p(1),o(e.slice(0,m*r));else{const P=e.filter(U=>{var Q;return(Q=U.content)==null?void 0:Q.toLowerCase().includes(I)});o(P)}};return q.useEffect(()=>{(async()=>{try{const I=mp(_o,"posts"),U=(await x0(I)).docs.map(Q=>Q.data());U.sort((Q,F)=>new Date(F.meta.date)-new Date(Q.meta.date)),n(U),o(U.slice(0,r))}catch(I){console.error("Грешка при взимане на постовете:",I)}})()},[r]),{posts:e,filteredPosts:s,loadMorePosts:()=>{if(u||s.length>=e.length)return;f(!0);const b=m+1,I=e.slice(m*r,b*r);I.length>0&&(o(P=>[...P,...I]),p(b)),f(!1)},loading:u,handleSearch:_}}function bO(r,e){q.useEffect(()=>{if(!(r!=null&&r.current))return;const n=()=>{const s=r.current;if(!s)return;const o=s.scrollHeight;s.scrollTop+s.clientHeight+5>=o&&e()};return r.current.addEventListener("scroll",n),()=>{r.current&&r.current.removeEventListener("scroll",n)}},[r,e])}function RO(){const r=q.useRef(),{filteredPosts:e,loadMorePosts:n,loading:s,handleSearch:o}=wO(),{mainRef:u}=bw(),f=()=>{r.current&&o(r.current.value)};return bO(u,n),E.jsxs(E.Fragment,{children:[E.jsx(AO,{ref:r,onSearch:f}),E.jsx("section",{id:"posts",className:Ks.posts,children:e.length>0?e.map((m,p)=>E.jsxs("div",{className:Ks.post,children:[E.jsxs("div",{className:Ks.imgWrap,children:[E.jsxs("div",{className:Ks.meta,children:[E.jsx("img",{src:m.meta.img||m.meta.avatar||"https://example.com/default-avatar.jpg",alt:"Profile"}),E.jsx("h4",{children:m.meta.author}),E.jsx("p",{children:m.meta.date})]}),E.jsx("p",{children:m.content}),E.jsx("img",{src:m.img||"https://example.com/default-avatar.jpg",alt:"Img or Video"})]}),E.jsxs("div",{className:Ks.feedback,children:[E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-comment"}),E.jsx("span",{children:m.feedback.comments})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-heart"}),E.jsx("span",{children:m.feedback.likes})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-solid fa-magnifying-glass"}),E.jsx("span",{children:m.feedback.views})]})]})]},p)):E.jsx("p",{children:"No posts found"})}),s&&E.jsx("p",{className:Ks.loading,children:"Loading more posts..."})]})}function CO({children:r}){const e=mS(),n=na();return q.useEffect(()=>{if(!e)return n("/react-regular-exam")}),E.jsx(E.Fragment,{children:r})}const IO="_postFormContainer_19kdp_3",xO="_postForm_19kdp_3",DO="_avatar_19kdp_43",NO="_formContent_19kdp_57",OO="_textarea_19kdp_71",MO="_mediaPreview_19kdp_93",VO="_footer_19kdp_117",kO="_mediaButton_19kdp_133",PO="_button_19kdp_161",LO="_removeButton_19kdp_191",fi={postFormContainer:IO,postForm:xO,avatar:DO,formContent:NO,textarea:OO,mediaPreview:MO,footer:VO,mediaButton:kO,button:PO,removeButton:LO};function UO(){const[r,e]=q.useState(null),[n,s]=q.useState(null),o=q.useRef(null),u=q.useRef(null),{formData:f}=q.useContext(la),m=T=>{const b=T.target.files[0];if(b){const I=URL.createObjectURL(b);e(b),s(I)}},p=()=>{e(null),u.current&&(u.current.value="")},_=async T=>{T.preventDefault();const b=o.current.value.trim();if(!b)return;const I={content:b,feedback:{comments:0,likes:0,views:0},img:r,meta:{author:f.name,date:new Date().toLocaleString(),avatar:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg"}};await V2(I),o.current.value="",e(null),u.current&&(u.current.value="")};return E.jsx("div",{className:fi.postFormContainer,children:E.jsxs("div",{className:fi.postForm,children:[E.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"User avatar",className:fi.avatar}),E.jsxs("form",{onSubmit:_,className:fi.formContent,children:[E.jsx("textarea",{ref:o,placeholder:"What’s happening?",className:fi.textarea}),r&&E.jsx("div",{className:fi.mediaPreview,children:E.jsx("img",{src:n,alt:"Uploaded media preview"})}),E.jsxs("div",{className:fi.footer,children:[E.jsxs("label",{className:fi.mediaButton,children:["📷 Add Media",E.jsx("input",{type:"file",accept:"image/*",onChange:m,hidden:!0,ref:u})]}),r&&E.jsx("button",{type:"button",onClick:p,className:fi.removeButton,children:"❌ Remove"}),E.jsx("button",{type:"submit",className:fi.button,children:"Post"})]})]})]})})}const jO="_container_4dbl9_1",zO="_text_4dbl9_19",BO="_link_4dbl9_31",Fc={container:jO,text:zO,link:BO},HO=()=>{const[r,e]=q.useState(!1);return q.useEffect(()=>{const n=()=>{mS()};n(),n&&e(!0)},[]),E.jsxs("div",{className:Fc.container,children:[E.jsx("h1",{className:Fc.text,children:"Under Construction"}),r?E.jsx(_e,{to:"/react-regular-exam/welcome",className:Fc.link,children:"Go Back"}):E.jsx(_e,{to:"/react-regular-exam",className:Fc.link,children:"Go Back"})]})};function qO(){return E.jsx(d2,{children:E.jsxs(Hw,{children:[E.jsx(Kn,{path:"/react-regular-exam/about",element:E.jsx(HO,{})}),E.jsx(Kn,{path:"/react-regular-exam",element:E.jsx(kb,{})}),E.jsx(Kn,{path:"/react-regular-exam/guest",element:E.jsx(ZN,{})}),E.jsx(Kn,{path:"/react-regular-exam/login",element:E.jsx(m2,{})}),E.jsx(Kn,{path:"/react-regular-exam/login/pass",element:E.jsx(j2,{})}),E.jsx(Kn,{path:"/react-regular-exam/create",element:E.jsx(nO,{})}),E.jsx(Kn,{path:"/react-regular-exam/create/submit",element:E.jsx(cO,{})}),E.jsxs(Kn,{path:"/react-regular-exam/welcome",element:E.jsx(CO,{children:E.jsx(gO,{})}),children:[E.jsx(Kn,{index:!0,element:E.jsx(RO,{})}),E.jsx(Kn,{path:"post",element:E.jsx(UO,{})})]})]})})}YA.createRoot(document.getElementById("root")).render(E.jsx(q.StrictMode,{children:E.jsx(hb,{children:E.jsx(qO,{})})}));
