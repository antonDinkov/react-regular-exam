(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var cm={exports:{}},Fl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uv;function Cb(){if(uv)return Fl;uv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Fl.Fragment=e,Fl.jsx=n,Fl.jsxs=n,Fl}var cv;function xb(){return cv||(cv=1,cm.exports=Cb()),cm.exports}var y=xb(),hm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hv;function Nb(){if(hv)return Ce;hv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.iterator;function R(P){return P===null||typeof P!="object"?null:(P=b&&P[b]||P["@@iterator"],typeof P=="function"?P:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M=Object.assign,$={};function q(P,re,pe){this.props=P,this.context=re,this.refs=$,this.updater=pe||D}q.prototype.isReactComponent={},q.prototype.setState=function(P,re){if(typeof P!="object"&&typeof P!="function"&&P!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,P,re,"setState")},q.prototype.forceUpdate=function(P){this.updater.enqueueForceUpdate(this,P,"forceUpdate")};function G(){}G.prototype=q.prototype;function te(P,re,pe){this.props=P,this.context=re,this.refs=$,this.updater=pe||D}var ee=te.prototype=new G;ee.constructor=te,M(ee,q.prototype),ee.isPureReactComponent=!0;var ce=Array.isArray,ie={H:null,A:null,T:null,S:null},ae=Object.prototype.hasOwnProperty;function O(P,re,pe,oe,le,xe){return pe=xe.ref,{$$typeof:r,type:P,key:re,ref:pe!==void 0?pe:null,props:xe}}function I(P,re){return O(P.type,re,void 0,void 0,void 0,P.props)}function A(P){return typeof P=="object"&&P!==null&&P.$$typeof===r}function x(P){var re={"=":"=0",":":"=2"};return"$"+P.replace(/[=:]/g,function(pe){return re[pe]})}var k=/\/+/g;function z(P,re){return typeof P=="object"&&P!==null&&P.key!=null?x(""+P.key):re.toString(36)}function N(){}function mt(P){switch(P.status){case"fulfilled":return P.value;case"rejected":throw P.reason;default:switch(typeof P.status=="string"?P.then(N,N):(P.status="pending",P.then(function(re){P.status==="pending"&&(P.status="fulfilled",P.value=re)},function(re){P.status==="pending"&&(P.status="rejected",P.reason=re)})),P.status){case"fulfilled":return P.value;case"rejected":throw P.reason}}throw P}function Ee(P,re,pe,oe,le){var xe=typeof P;(xe==="undefined"||xe==="boolean")&&(P=null);var Ie=!1;if(P===null)Ie=!0;else switch(xe){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(P.$$typeof){case r:case e:Ie=!0;break;case T:return Ie=P._init,Ee(Ie(P._payload),re,pe,oe,le)}}if(Ie)return le=le(P),Ie=oe===""?"."+z(P,0):oe,ce(le)?(pe="",Ie!=null&&(pe=Ie.replace(k,"$&/")+"/"),Ee(le,re,pe,"",function(lt){return lt})):le!=null&&(A(le)&&(le=I(le,pe+(le.key==null||P&&P.key===le.key?"":(""+le.key).replace(k,"$&/")+"/")+Ie)),re.push(le)),1;Ie=0;var yt=oe===""?".":oe+":";if(ce(P))for(var qe=0;qe<P.length;qe++)oe=P[qe],xe=yt+z(oe,qe),Ie+=Ee(oe,re,pe,xe,le);else if(qe=R(P),typeof qe=="function")for(P=qe.call(P),qe=0;!(oe=P.next()).done;)oe=oe.value,xe=yt+z(oe,qe++),Ie+=Ee(oe,re,pe,xe,le);else if(xe==="object"){if(typeof P.then=="function")return Ee(mt(P),re,pe,oe,le);throw re=String(P),Error("Objects are not valid as a React child (found: "+(re==="[object Object]"?"object with keys {"+Object.keys(P).join(", ")+"}":re)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function Z(P,re,pe){if(P==null)return P;var oe=[],le=0;return Ee(P,oe,"","",function(xe){return re.call(pe,xe,le++)}),oe}function ge(P){if(P._status===-1){var re=P._result;re=re(),re.then(function(pe){(P._status===0||P._status===-1)&&(P._status=1,P._result=pe)},function(pe){(P._status===0||P._status===-1)&&(P._status=2,P._result=pe)}),P._status===-1&&(P._status=0,P._result=re)}if(P._status===1)return P._result.default;throw P._result}var de=typeof reportError=="function"?reportError:function(P){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var re=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof P=="object"&&P!==null&&typeof P.message=="string"?String(P.message):String(P),error:P});if(!window.dispatchEvent(re))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",P);return}console.error(P)};function $e(){}return Ce.Children={map:Z,forEach:function(P,re,pe){Z(P,function(){re.apply(this,arguments)},pe)},count:function(P){var re=0;return Z(P,function(){re++}),re},toArray:function(P){return Z(P,function(re){return re})||[]},only:function(P){if(!A(P))throw Error("React.Children.only expected to receive a single React element child.");return P}},Ce.Component=q,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=te,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ie,Ce.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ce.cache=function(P){return function(){return P.apply(null,arguments)}},Ce.cloneElement=function(P,re,pe){if(P==null)throw Error("The argument must be a React element, but you passed "+P+".");var oe=M({},P.props),le=P.key,xe=void 0;if(re!=null)for(Ie in re.ref!==void 0&&(xe=void 0),re.key!==void 0&&(le=""+re.key),re)!ae.call(re,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&re.ref===void 0||(oe[Ie]=re[Ie]);var Ie=arguments.length-2;if(Ie===1)oe.children=pe;else if(1<Ie){for(var yt=Array(Ie),qe=0;qe<Ie;qe++)yt[qe]=arguments[qe+2];oe.children=yt}return O(P.type,le,void 0,void 0,xe,oe)},Ce.createContext=function(P){return P={$$typeof:f,_currentValue:P,_currentValue2:P,_threadCount:0,Provider:null,Consumer:null},P.Provider=P,P.Consumer={$$typeof:u,_context:P},P},Ce.createElement=function(P,re,pe){var oe,le={},xe=null;if(re!=null)for(oe in re.key!==void 0&&(xe=""+re.key),re)ae.call(re,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(le[oe]=re[oe]);var Ie=arguments.length-2;if(Ie===1)le.children=pe;else if(1<Ie){for(var yt=Array(Ie),qe=0;qe<Ie;qe++)yt[qe]=arguments[qe+2];le.children=yt}if(P&&P.defaultProps)for(oe in Ie=P.defaultProps,Ie)le[oe]===void 0&&(le[oe]=Ie[oe]);return O(P,xe,void 0,void 0,null,le)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(P){return{$$typeof:m,render:P}},Ce.isValidElement=A,Ce.lazy=function(P){return{$$typeof:T,_payload:{_status:-1,_result:P},_init:ge}},Ce.memo=function(P,re){return{$$typeof:g,type:P,compare:re===void 0?null:re}},Ce.startTransition=function(P){var re=ie.T,pe={};ie.T=pe;try{var oe=P(),le=ie.S;le!==null&&le(pe,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then($e,de)}catch(xe){de(xe)}finally{ie.T=re}},Ce.unstable_useCacheRefresh=function(){return ie.H.useCacheRefresh()},Ce.use=function(P){return ie.H.use(P)},Ce.useActionState=function(P,re,pe){return ie.H.useActionState(P,re,pe)},Ce.useCallback=function(P,re){return ie.H.useCallback(P,re)},Ce.useContext=function(P){return ie.H.useContext(P)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(P,re){return ie.H.useDeferredValue(P,re)},Ce.useEffect=function(P,re){return ie.H.useEffect(P,re)},Ce.useId=function(){return ie.H.useId()},Ce.useImperativeHandle=function(P,re,pe){return ie.H.useImperativeHandle(P,re,pe)},Ce.useInsertionEffect=function(P,re){return ie.H.useInsertionEffect(P,re)},Ce.useLayoutEffect=function(P,re){return ie.H.useLayoutEffect(P,re)},Ce.useMemo=function(P,re){return ie.H.useMemo(P,re)},Ce.useOptimistic=function(P,re){return ie.H.useOptimistic(P,re)},Ce.useReducer=function(P,re,pe){return ie.H.useReducer(P,re,pe)},Ce.useRef=function(P){return ie.H.useRef(P)},Ce.useState=function(P){return ie.H.useState(P)},Ce.useSyncExternalStore=function(P,re,pe){return ie.H.useSyncExternalStore(P,re,pe)},Ce.useTransition=function(){return ie.H.useTransition()},Ce.version="19.0.0",Ce}var fv;function sp(){return fv||(fv=1,hm.exports=Nb()),hm.exports}var j=sp(),fm={exports:{}},Gl={},dm={exports:{}},mm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dv;function Db(){return dv||(dv=1,function(r){function e(Z,ge){var de=Z.length;Z.push(ge);e:for(;0<de;){var $e=de-1>>>1,P=Z[$e];if(0<o(P,ge))Z[$e]=ge,Z[de]=P,de=$e;else break e}}function n(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var ge=Z[0],de=Z.pop();if(de!==ge){Z[0]=de;e:for(var $e=0,P=Z.length,re=P>>>1;$e<re;){var pe=2*($e+1)-1,oe=Z[pe],le=pe+1,xe=Z[le];if(0>o(oe,de))le<P&&0>o(xe,oe)?(Z[$e]=xe,Z[le]=de,$e=le):(Z[$e]=oe,Z[pe]=de,$e=pe);else if(le<P&&0>o(xe,de))Z[$e]=xe,Z[le]=de,$e=le;else break e}}return ge}function o(Z,ge){var de=Z.sortIndex-ge.sortIndex;return de!==0?de:Z.id-ge.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],T=1,b=null,R=3,D=!1,M=!1,$=!1,q=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function ee(Z){for(var ge=n(g);ge!==null;){if(ge.callback===null)s(g);else if(ge.startTime<=Z)s(g),ge.sortIndex=ge.expirationTime,e(p,ge);else break;ge=n(g)}}function ce(Z){if($=!1,ee(Z),!M)if(n(p)!==null)M=!0,mt();else{var ge=n(g);ge!==null&&Ee(ce,ge.startTime-Z)}}var ie=!1,ae=-1,O=5,I=-1;function A(){return!(r.unstable_now()-I<O)}function x(){if(ie){var Z=r.unstable_now();I=Z;var ge=!0;try{e:{M=!1,$&&($=!1,G(ae),ae=-1),D=!0;var de=R;try{t:{for(ee(Z),b=n(p);b!==null&&!(b.expirationTime>Z&&A());){var $e=b.callback;if(typeof $e=="function"){b.callback=null,R=b.priorityLevel;var P=$e(b.expirationTime<=Z);if(Z=r.unstable_now(),typeof P=="function"){b.callback=P,ee(Z),ge=!0;break t}b===n(p)&&s(p),ee(Z)}else s(p);b=n(p)}if(b!==null)ge=!0;else{var re=n(g);re!==null&&Ee(ce,re.startTime-Z),ge=!1}}break e}finally{b=null,R=de,D=!1}ge=void 0}}finally{ge?k():ie=!1}}}var k;if(typeof te=="function")k=function(){te(x)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,N=z.port2;z.port1.onmessage=x,k=function(){N.postMessage(null)}}else k=function(){q(x,0)};function mt(){ie||(ie=!0,k())}function Ee(Z,ge){ae=q(function(){Z(r.unstable_now())},ge)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Z){Z.callback=null},r.unstable_continueExecution=function(){M||D||(M=!0,mt())},r.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<Z?Math.floor(1e3/Z):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(Z){switch(R){case 1:case 2:case 3:var ge=3;break;default:ge=R}var de=R;R=ge;try{return Z()}finally{R=de}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(Z,ge){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var de=R;R=Z;try{return ge()}finally{R=de}},r.unstable_scheduleCallback=function(Z,ge,de){var $e=r.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?$e+de:$e):de=$e,Z){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=de+P,Z={id:T++,callback:ge,priorityLevel:Z,startTime:de,expirationTime:P,sortIndex:-1},de>$e?(Z.sortIndex=de,e(g,Z),n(p)===null&&Z===n(g)&&($?(G(ae),ae=-1):$=!0,Ee(ce,de-$e))):(Z.sortIndex=P,e(p,Z),M||D||(M=!0,mt())),Z},r.unstable_shouldYield=A,r.unstable_wrapCallback=function(Z){var ge=R;return function(){var de=R;R=ge;try{return Z.apply(this,arguments)}finally{R=de}}}}(mm)),mm}var mv;function Ob(){return mv||(mv=1,dm.exports=Db()),dm.exports}var pm={exports:{}},Jt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pv;function Mb(){if(pv)return Jt;pv=1;var r=sp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Jt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Jt.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,T)},Jt.flushSync=function(p){var g=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=T,s.d.f()}},Jt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Jt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Jt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,b=m(T,g.crossOrigin),R=typeof g.integrity=="string"?g.integrity:void 0,D=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:R,fetchPriority:D}):T==="script"&&s.d.X(p,{crossOrigin:b,integrity:R,fetchPriority:D,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Jt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Jt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,b=m(T,g.crossOrigin);s.d.L(p,T,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Jt.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Jt.requestFormReset=function(p){s.d.r(p)},Jt.unstable_batchedUpdates=function(p,g){return p(g)},Jt.useFormState=function(p,g,T){return f.H.useFormState(p,g,T)},Jt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Jt.version="19.0.0",Jt}var gv;function Pb(){if(gv)return pm.exports;gv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),pm.exports=Mb(),pm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _v;function kb(){if(_v)return Gl;_v=1;var r=Ob(),e=sp(),n=Pb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),ce=Symbol.for("react.memo_cache_sentinel"),ie=Symbol.iterator;function ae(t){return t===null||typeof t!="object"?null:(t=ie&&t[ie]||t["@@iterator"],typeof t=="function"?t:null)}var O=Symbol.for("react.client.reference");function I(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===O?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case T:return"Profiler";case g:return"StrictMode";case $:return"Suspense";case q:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D:return(t.displayName||"Context")+".Provider";case R:return(t._context.displayName||"Context")+".Consumer";case M:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case G:return i=t.displayName||null,i!==null?i:I(t.type)||"Memo";case te:i=t._payload,t=t._init;try{return I(t(i))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,x=Object.assign,k,z;function N(t){if(k===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);k=i&&i[1]||"",z=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+k+t+z}var mt=!1;function Ee(t,i){if(!t||mt)return"";mt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch(Q){var F=Q}Reflect.construct(t,[],ne)}else{try{ne.call()}catch(Q){F=Q}t.call(ne.prototype)}}else{try{throw Error()}catch(Q){F=Q}(ne=t())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch(Q){if(Q&&F&&typeof Q.stack=="string")return[Q.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],w=d[1];if(E&&w){var C=E.split(`
`),L=w.split(`
`);for(h=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(l===C.length||h===L.length)for(l=C.length-1,h=L.length-1;1<=l&&0<=h&&C[l]!==L[h];)h--;for(;1<=l&&0<=h;l--,h--)if(C[l]!==L[h]){if(l!==1||h!==1)do if(l--,h--,0>h||C[l]!==L[h]){var Y=`
`+C[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=h);break}}}finally{mt=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?N(a):""}function Z(t){switch(t.tag){case 26:case 27:case 5:return N(t.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return t=Ee(t.type,!1),t;case 11:return t=Ee(t.type.render,!1),t;case 1:return t=Ee(t.type,!0),t;default:return""}}function ge(t){try{var i="";do i+=Z(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function de(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function $e(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function P(t){if(de(t)!==t)throw Error(s(188))}function re(t){var i=t.alternate;if(!i){if(i=de(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return P(h),t;if(d===l)return P(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,w=h.child;w;){if(w===a){E=!0,a=h,l=d;break}if(w===l){E=!0,l=h,a=d;break}w=w.sibling}if(!E){for(w=d.child;w;){if(w===a){E=!0,a=d,l=h;break}if(w===l){E=!0,l=d,a=h;break}w=w.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function pe(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=pe(t),i!==null)return i;t=t.sibling}return null}var oe=Array.isArray,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},Ie=[],yt=-1;function qe(t){return{current:t}}function lt(t){0>yt||(t.current=Ie[yt],Ie[yt]=null,yt--)}function Ye(t,i){yt++,Ie[yt]=t.current,t.current=i}var an=qe(null),Pi=qe(null),On=qe(null),Tr=qe(null);function wr(t,i){switch(Ye(On,i),Ye(Pi,t),Ye(an,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Ly(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=Ly(t),i=Uy(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}lt(an),Ye(an,i)}function ki(){lt(an),lt(Pi),lt(On)}function Uo(t){t.memoizedState!==null&&Ye(Tr,t);var i=an.current,a=Uy(i,t.type);i!==a&&(Ye(Pi,t),Ye(an,a))}function Ea(t){Pi.current===t&&(lt(an),lt(Pi)),Tr.current===t&&(lt(Tr),Ul._currentValue=xe)}var Ta=Object.prototype.hasOwnProperty,xs=r.unstable_scheduleCallback,wa=r.unstable_cancelCallback,ff=r.unstable_shouldYield,zo=r.unstable_requestPaint,gn=r.unstable_now,Du=r.unstable_getCurrentPriorityLevel,At=r.unstable_ImmediatePriority,Mt=r.unstable_UserBlockingPriority,Vi=r.unstable_NormalPriority,Ou=r.unstable_LowPriority,Bo=r.unstable_IdlePriority,df=r.log,Ns=r.unstable_setDisableYieldValue,Sr=null,Wt=null;function qo(t){if(Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(Sr,t,void 0,(t.current.flags&128)===128)}catch{}}function li(t){if(typeof df=="function"&&Ns(t),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(Sr,t)}catch{}}var on=Math.clz32?Math.clz32:Pu,Ho=Math.log,Mu=Math.LN2;function Pu(t){return t>>>=0,t===0?32:31-(Ho(t)/Mu|0)|0}var ui=128,br=4194304;function Zn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Mn(t,i){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,E=t.warmLanes;t=t.finishedLanes!==0;var w=a&134217727;return w!==0?(a=w&~h,a!==0?l=Zn(a):(d&=w,d!==0?l=Zn(d):t||(E=w&~E,E!==0&&(l=Zn(E))))):(w=a&~h,w!==0?l=Zn(w):d!==0?l=Zn(d):t||(E=a&~E,E!==0&&(l=Zn(E)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,E=i&-i,h>=E||h===32&&(E&4194176)!==0)?i:l}function Ar(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Sa(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fo(){var t=ui;return ui<<=1,(ui&4194176)===0&&(ui=128),t}function Rr(){var t=br;return br<<=1,(br&62914560)===0&&(br=4194304),t}function ba(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function pt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function ku(t,i,a,l,h,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,C=t.expirationTimes,L=t.hiddenUpdates;for(a=E&~a;0<a;){var Y=31-on(a),ne=1<<Y;w[Y]=0,C[Y]=-1;var F=L[Y];if(F!==null)for(L[Y]=null,Y=0;Y<F.length;Y++){var Q=F[Y];Q!==null&&(Q.lane&=-536870913)}a&=~ne}l!==0&&Ir(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~i))}function Ir(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-on(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function Cr(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-on(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Vu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function ju(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:iv(t.type))}function xr(t,i){var a=le.p;try{return le.p=t,i()}finally{le.p=a}}var ci=Math.random().toString(36).slice(2),Pt="__reactFiber$"+ci,Rt="__reactProps$"+ci,ji="__reactContainer$"+ci,Ds="__reactEvents$"+ci,Aa="__reactListeners$"+ci,hi="__reactHandles$"+ci,Go="__reactResources$"+ci,Nr="__reactMarker$"+ci;function Os(t){delete t[Pt],delete t[Rt],delete t[Ds],delete t[Aa],delete t[hi]}function Jn(t){var i=t[Pt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ji]||a[Pt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=qy(t);t!==null;){if(a=t[Pt])return a;t=qy(t)}return i}t=a,a=t.parentNode}return null}function Li(t){if(t=t[Pt]||t[ji]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Dr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Or(t){var i=t[Go];return i||(i=t[Go]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function it(t){t[Nr]=!0}var $o=new Set,Ra={};function wn(t,i){_n(t,i),_n(t+"Capture",i)}function _n(t,i){for(Ra[t]=i,t=0;t<i.length;t++)$o.add(i[t])}var Sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ko={},Qo={};function Lu(t){return Ta.call(Qo,t)?!0:Ta.call(Ko,t)?!1:mf.test(t)?Qo[t]=!0:(Ko[t]=!0,!1)}function Mr(t,i,a){if(Lu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Pr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Pn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function ln(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Uu(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function pf(t){var i=Uu(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ms(t){t._valueTracker||(t._valueTracker=pf(t))}function Yo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Uu(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ia(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ui=/[\n"\\]/g;function ut(t){return t.replace(Ui,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function kr(t,i,a,l,h,d,E,w){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+ln(i)):t.value!==""+ln(i)&&(t.value=""+ln(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?Ca(t,E,ln(i)):a!=null?Ca(t,E,ln(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+ln(w):t.removeAttribute("name")}function Ps(t,i,a,l,h,d,E,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+ln(a):"",i=i!=null?""+ln(i):a,w||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function Ca(t,i,a){i==="number"&&Ia(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function He(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+ln(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function ks(t,i,a){if(i!=null&&(i=""+ln(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+ln(a):""}function Vr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=ln(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function kn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var gf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xo(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||gf.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function zu(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Xo(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Xo(t,d,i[d])}function Wo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _f=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),yf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fi(t){return yf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Vn=null;function xa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zi=null,Bi=null;function qi(t){var i=Li(t);if(i&&(t=i.stateNode)){var a=t[Rt]||null;e:switch(t=i.stateNode,i.type){case"input":if(kr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ut(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Rt]||null;if(!h)throw Error(s(90));kr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Yo(l)}break e;case"textarea":ks(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&He(t,!!a.multiple,i,!1)}}}var Zo=!1;function Bu(t,i,a){if(Zo)return t(i,a);Zo=!0;try{var l=t(i);return l}finally{if(Zo=!1,(zi!==null||Bi!==null)&&(Oc(),zi&&(i=zi,t=Bi,Bi=zi=null,qi(i),t)))for(i=0;i<t.length;i++)qi(t[i])}}function Vs(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Rt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var jn=!1;if(Sn)try{var js={};Object.defineProperty(js,"passive",{get:function(){jn=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{jn=!1}var di=null,jr=null,Hi=null;function Jo(){if(Hi)return Hi;var t,i=jr,a=i.length,l,h="value"in di?di.value:di.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var E=a-t;for(l=1;l<=E&&i[a-l]===h[d-l];l++);return Hi=h.slice(t,1<l?1-l:void 0)}function mi(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function pi(){return!0}function el(){return!1}function kt(t){function i(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?pi:el,this.isPropagationStopped=el,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=pi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=pi)},persist:function(){},isPersistent:pi}),i}var Ke={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Na=kt(Ke),Ls=x({},Ke,{view:0,detail:0}),qu=kt(Ls),Da,Oa,gi,Us=x({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==gi&&(gi&&t.type==="mousemove"?(Da=t.screenX-gi.screenX,Oa=t.screenY-gi.screenY):Oa=Da=0,gi=t),Da)},movementY:function(t){return"movementY"in t?t.movementY:Oa}}),Ln=kt(Us),Hu=x({},Us,{dataTransfer:0}),vf=kt(Hu),zs=x({},Ls,{relatedTarget:0}),Ma=kt(zs),tl=x({},Ke,{animationName:0,elapsedTime:0,pseudoElement:0}),Pa=kt(tl),Fu=x({},Ke,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ka=kt(Fu),Ef=x({},Ke,{data:0}),nl=kt(Ef),Bs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function il(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=$u[t])?!!i[t]:!1}function qs(){return il}var Ku=x({},Ls,{key:function(t){if(t.key){var i=Bs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=mi(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Gu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qs,charCode:function(t){return t.type==="keypress"?mi(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mi(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Va=kt(Ku),Qu=x({},Us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rl=kt(Qu),Fi=x({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qs}),Yu=kt(Fi),Xu=x({},Ke,{propertyName:0,elapsedTime:0,pseudoElement:0}),Wu=kt(Xu),Zu=x({},Us,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ja=kt(Zu),un=x({},Ke,{newState:0,oldState:0}),Ju=kt(un),ec=[9,13,27,32],_i=Sn&&"CompositionEvent"in window,c=null;Sn&&"documentMode"in document&&(c=document.documentMode);var _=Sn&&"TextEvent"in window&&!c,v=Sn&&(!_i||c&&8<c&&11>=c),S=" ",B=!1;function K(t,i){switch(t){case"keyup":return ec.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Le=!1;function It(t,i){switch(t){case"compositionend":return se(i);case"keypress":return i.which!==32?null:(B=!0,S);case"textInput":return t=i.data,t===S&&B?null:t;default:return null}}function Ue(t,i){if(Le)return t==="compositionend"||!_i&&K(t,i)?(t=Jo(),Hi=jr=di=null,Le=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ct(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Vt[t.type]:i==="textarea"}function Gi(t,i,a,l){zi?Bi?Bi.push(l):Bi=[l]:zi=l,i=jc(i,"onChange"),0<i.length&&(a=new Na("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Bt=null,yi=null;function sl(t){My(t,0)}function tc(t){var i=Dr(t);if(Yo(i))return t}function lg(t,i){if(t==="change")return i}var ug=!1;if(Sn){var Tf;if(Sn){var wf="oninput"in document;if(!wf){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),wf=typeof cg.oninput=="function"}Tf=wf}else Tf=!1;ug=Tf&&(!document.documentMode||9<document.documentMode)}function hg(){Bt&&(Bt.detachEvent("onpropertychange",fg),yi=Bt=null)}function fg(t){if(t.propertyName==="value"&&tc(yi)){var i=[];Gi(i,yi,t,xa(t)),Bu(sl,i)}}function rS(t,i,a){t==="focusin"?(hg(),Bt=i,yi=a,Bt.attachEvent("onpropertychange",fg)):t==="focusout"&&hg()}function sS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return tc(yi)}function aS(t,i){if(t==="click")return tc(i)}function oS(t,i){if(t==="input"||t==="change")return tc(i)}function lS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var bn=typeof Object.is=="function"?Object.is:lS;function al(t,i){if(bn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Ta.call(i,h)||!bn(t[h],i[h]))return!1}return!0}function dg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function mg(t,i){var a=dg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=dg(a)}}function pg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?pg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function gg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ia(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ia(t.document)}return i}function Sf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function uS(t,i){var a=gg(i);i=t.focusedElem;var l=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&pg(i.ownerDocument.documentElement,i)){if(l!==null&&Sf(i)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=mg(i,d);var E=mg(i,l);h&&E&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==E.node||a.focusOffset!==E.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(E.node,E.offset)):(t.setEnd(E.node,E.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var cS=Sn&&"documentMode"in document&&11>=document.documentMode,La=null,bf=null,ol=null,Af=!1;function _g(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Af||La==null||La!==Ia(l)||(l=La,"selectionStart"in l&&Sf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&al(ol,l)||(ol=l,l=jc(bf,"onSelect"),0<l.length&&(i=new Na("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=La)))}function Hs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ua={animationend:Hs("Animation","AnimationEnd"),animationiteration:Hs("Animation","AnimationIteration"),animationstart:Hs("Animation","AnimationStart"),transitionrun:Hs("Transition","TransitionRun"),transitionstart:Hs("Transition","TransitionStart"),transitioncancel:Hs("Transition","TransitionCancel"),transitionend:Hs("Transition","TransitionEnd")},Rf={},yg={};Sn&&(yg=document.createElement("div").style,"AnimationEvent"in window||(delete Ua.animationend.animation,delete Ua.animationiteration.animation,delete Ua.animationstart.animation),"TransitionEvent"in window||delete Ua.transitionend.transition);function Fs(t){if(Rf[t])return Rf[t];if(!Ua[t])return t;var i=Ua[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in yg)return Rf[t]=i[a];return t}var vg=Fs("animationend"),Eg=Fs("animationiteration"),Tg=Fs("animationstart"),hS=Fs("transitionrun"),fS=Fs("transitionstart"),dS=Fs("transitioncancel"),wg=Fs("transitionend"),Sg=new Map,bg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ei(t,i){Sg.set(t,i),wn(i,[t])}var Un=[],za=0,If=0;function nc(){for(var t=za,i=If=za=0;i<t;){var a=Un[i];Un[i++]=null;var l=Un[i];Un[i++]=null;var h=Un[i];Un[i++]=null;var d=Un[i];if(Un[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&Ag(a,h,d)}}function ic(t,i,a,l){Un[za++]=t,Un[za++]=i,Un[za++]=a,Un[za++]=l,If|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Cf(t,i,a,l){return ic(t,i,a,l),rc(t)}function Lr(t,i){return ic(t,null,null,i),rc(t)}function Ag(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&i!==null&&t.tag===3&&(d=t.stateNode,h=31-on(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[i]:t.push(i),i.lane=a|536870912)}function rc(t){if(50<Ol)throw Ol=0,Pd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ba={},Rg=new WeakMap;function zn(t,i){if(typeof t=="object"&&t!==null){var a=Rg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:ge(i)},Rg.set(t,i),i)}return{value:t,source:i,stack:ge(i)}}var qa=[],Ha=0,sc=null,ac=0,Bn=[],qn=0,Gs=null,$i=1,Ki="";function $s(t,i){qa[Ha++]=ac,qa[Ha++]=sc,sc=t,ac=i}function Ig(t,i,a){Bn[qn++]=$i,Bn[qn++]=Ki,Bn[qn++]=Gs,Gs=t;var l=$i;t=Ki;var h=32-on(l)-1;l&=~(1<<h),a+=1;var d=32-on(i)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,$i=1<<32-on(i)+h|a<<h|l,Ki=d+t}else $i=1<<d|a<<h|l,Ki=t}function xf(t){t.return!==null&&($s(t,1),Ig(t,1,0))}function Nf(t){for(;t===sc;)sc=qa[--Ha],qa[Ha]=null,ac=qa[--Ha],qa[Ha]=null;for(;t===Gs;)Gs=Bn[--qn],Bn[qn]=null,Ki=Bn[--qn],Bn[qn]=null,$i=Bn[--qn],Bn[qn]=null}var cn=null,qt=null,Fe=!1,ti=null,vi=!1,Df=Error(s(519));function Ks(t){var i=Error(s(418,""));throw cl(zn(i,t)),Df}function Cg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Pt]=t,i[Rt]=l,a){case"dialog":Ve("cancel",i),Ve("close",i);break;case"iframe":case"object":case"embed":Ve("load",i);break;case"video":case"audio":for(a=0;a<Pl.length;a++)Ve(Pl[a],i);break;case"source":Ve("error",i);break;case"img":case"image":case"link":Ve("error",i),Ve("load",i);break;case"details":Ve("toggle",i);break;case"input":Ve("invalid",i),Ps(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ms(i);break;case"select":Ve("invalid",i);break;case"textarea":Ve("invalid",i),Vr(i,l.value,l.defaultValue,l.children),Ms(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||jy(i.textContent,a)?(l.popover!=null&&(Ve("beforetoggle",i),Ve("toggle",i)),l.onScroll!=null&&Ve("scroll",i),l.onScrollEnd!=null&&Ve("scrollend",i),l.onClick!=null&&(i.onclick=Lc),i=!0):i=!1,i||Ks(t)}function xg(t){for(cn=t.return;cn;)switch(cn.tag){case 3:case 27:vi=!0;return;case 5:case 13:vi=!1;return;default:cn=cn.return}}function ll(t){if(t!==cn)return!1;if(!Fe)return xg(t),Fe=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Wd(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&qt&&Ks(t),xg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){qt=ii(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}qt=null}}else qt=cn?ii(t.stateNode.nextSibling):null;return!0}function ul(){qt=cn=null,Fe=!1}function cl(t){ti===null?ti=[t]:ti.push(t)}var hl=Error(s(460)),Ng=Error(s(474)),Of={then:function(){}};function Dg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function oc(){}function Og(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(oc,oc),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===hl?Error(s(483)):t;default:if(typeof i.status=="string")i.then(oc,oc);else{if(t=et,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===hl?Error(s(483)):t}throw fl=i,hl}}var fl=null;function Mg(){if(fl===null)throw Error(s(459));var t=fl;return fl=null,t}var Fa=null,dl=0;function lc(t){var i=dl;return dl+=1,Fa===null&&(Fa=[]),Og(Fa,t,i)}function ml(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function uc(t,i){throw i.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Pg(t){var i=t._init;return i(t._payload)}function kg(t){function i(U,V){if(t){var H=U.deletions;H===null?(U.deletions=[V],U.flags|=16):H.push(V)}}function a(U,V){if(!t)return null;for(;V!==null;)i(U,V),V=V.sibling;return null}function l(U){for(var V=new Map;U!==null;)U.key!==null?V.set(U.key,U):V.set(U.index,U),U=U.sibling;return V}function h(U,V){return U=Xr(U,V),U.index=0,U.sibling=null,U}function d(U,V,H){return U.index=H,t?(H=U.alternate,H!==null?(H=H.index,H<V?(U.flags|=33554434,V):H):(U.flags|=33554434,V)):(U.flags|=1048576,V)}function E(U){return t&&U.alternate===null&&(U.flags|=33554434),U}function w(U,V,H,X){return V===null||V.tag!==6?(V=Rd(H,U.mode,X),V.return=U,V):(V=h(V,H),V.return=U,V)}function C(U,V,H,X){var fe=H.type;return fe===p?Y(U,V,H.props.children,X,H.key):V!==null&&(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===te&&Pg(fe)===V.type)?(V=h(V,H.props),ml(V,H),V.return=U,V):(V=Ic(H.type,H.key,H.props,null,U.mode,X),ml(V,H),V.return=U,V)}function L(U,V,H,X){return V===null||V.tag!==4||V.stateNode.containerInfo!==H.containerInfo||V.stateNode.implementation!==H.implementation?(V=Id(H,U.mode,X),V.return=U,V):(V=h(V,H.children||[]),V.return=U,V)}function Y(U,V,H,X,fe){return V===null||V.tag!==7?(V=ia(H,U.mode,X,fe),V.return=U,V):(V=h(V,H),V.return=U,V)}function ne(U,V,H){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=Rd(""+V,U.mode,H),V.return=U,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case f:return H=Ic(V.type,V.key,V.props,null,U.mode,H),ml(H,V),H.return=U,H;case m:return V=Id(V,U.mode,H),V.return=U,V;case te:var X=V._init;return V=X(V._payload),ne(U,V,H)}if(oe(V)||ae(V))return V=ia(V,U.mode,H,null),V.return=U,V;if(typeof V.then=="function")return ne(U,lc(V),H);if(V.$$typeof===D)return ne(U,bc(U,V),H);uc(U,V)}return null}function F(U,V,H,X){var fe=V!==null?V.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return fe!==null?null:w(U,V,""+H,X);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case f:return H.key===fe?C(U,V,H,X):null;case m:return H.key===fe?L(U,V,H,X):null;case te:return fe=H._init,H=fe(H._payload),F(U,V,H,X)}if(oe(H)||ae(H))return fe!==null?null:Y(U,V,H,X,null);if(typeof H.then=="function")return F(U,V,lc(H),X);if(H.$$typeof===D)return F(U,V,bc(U,H),X);uc(U,H)}return null}function Q(U,V,H,X,fe){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(H)||null,w(V,U,""+X,fe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case f:return U=U.get(X.key===null?H:X.key)||null,C(V,U,X,fe);case m:return U=U.get(X.key===null?H:X.key)||null,L(V,U,X,fe);case te:var De=X._init;return X=De(X._payload),Q(U,V,H,X,fe)}if(oe(X)||ae(X))return U=U.get(H)||null,Y(V,U,X,fe,null);if(typeof X.then=="function")return Q(U,V,H,lc(X),fe);if(X.$$typeof===D)return Q(U,V,H,bc(V,X),fe);uc(V,X)}return null}function me(U,V,H,X){for(var fe=null,De=null,_e=V,Te=V=0,Ut=null;_e!==null&&Te<H.length;Te++){_e.index>Te?(Ut=_e,_e=null):Ut=_e.sibling;var Ge=F(U,_e,H[Te],X);if(Ge===null){_e===null&&(_e=Ut);break}t&&_e&&Ge.alternate===null&&i(U,_e),V=d(Ge,V,Te),De===null?fe=Ge:De.sibling=Ge,De=Ge,_e=Ut}if(Te===H.length)return a(U,_e),Fe&&$s(U,Te),fe;if(_e===null){for(;Te<H.length;Te++)_e=ne(U,H[Te],X),_e!==null&&(V=d(_e,V,Te),De===null?fe=_e:De.sibling=_e,De=_e);return Fe&&$s(U,Te),fe}for(_e=l(_e);Te<H.length;Te++)Ut=Q(_e,U,Te,H[Te],X),Ut!==null&&(t&&Ut.alternate!==null&&_e.delete(Ut.key===null?Te:Ut.key),V=d(Ut,V,Te),De===null?fe=Ut:De.sibling=Ut,De=Ut);return t&&_e.forEach(function(is){return i(U,is)}),Fe&&$s(U,Te),fe}function Ae(U,V,H,X){if(H==null)throw Error(s(151));for(var fe=null,De=null,_e=V,Te=V=0,Ut=null,Ge=H.next();_e!==null&&!Ge.done;Te++,Ge=H.next()){_e.index>Te?(Ut=_e,_e=null):Ut=_e.sibling;var is=F(U,_e,Ge.value,X);if(is===null){_e===null&&(_e=Ut);break}t&&_e&&is.alternate===null&&i(U,_e),V=d(is,V,Te),De===null?fe=is:De.sibling=is,De=is,_e=Ut}if(Ge.done)return a(U,_e),Fe&&$s(U,Te),fe;if(_e===null){for(;!Ge.done;Te++,Ge=H.next())Ge=ne(U,Ge.value,X),Ge!==null&&(V=d(Ge,V,Te),De===null?fe=Ge:De.sibling=Ge,De=Ge);return Fe&&$s(U,Te),fe}for(_e=l(_e);!Ge.done;Te++,Ge=H.next())Ge=Q(_e,U,Te,Ge.value,X),Ge!==null&&(t&&Ge.alternate!==null&&_e.delete(Ge.key===null?Te:Ge.key),V=d(Ge,V,Te),De===null?fe=Ge:De.sibling=Ge,De=Ge);return t&&_e.forEach(function(Ib){return i(U,Ib)}),Fe&&$s(U,Te),fe}function ft(U,V,H,X){if(typeof H=="object"&&H!==null&&H.type===p&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case f:e:{for(var fe=H.key;V!==null;){if(V.key===fe){if(fe=H.type,fe===p){if(V.tag===7){a(U,V.sibling),X=h(V,H.props.children),X.return=U,U=X;break e}}else if(V.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===te&&Pg(fe)===V.type){a(U,V.sibling),X=h(V,H.props),ml(X,H),X.return=U,U=X;break e}a(U,V);break}else i(U,V);V=V.sibling}H.type===p?(X=ia(H.props.children,U.mode,X,H.key),X.return=U,U=X):(X=Ic(H.type,H.key,H.props,null,U.mode,X),ml(X,H),X.return=U,U=X)}return E(U);case m:e:{for(fe=H.key;V!==null;){if(V.key===fe)if(V.tag===4&&V.stateNode.containerInfo===H.containerInfo&&V.stateNode.implementation===H.implementation){a(U,V.sibling),X=h(V,H.children||[]),X.return=U,U=X;break e}else{a(U,V);break}else i(U,V);V=V.sibling}X=Id(H,U.mode,X),X.return=U,U=X}return E(U);case te:return fe=H._init,H=fe(H._payload),ft(U,V,H,X)}if(oe(H))return me(U,V,H,X);if(ae(H)){if(fe=ae(H),typeof fe!="function")throw Error(s(150));return H=fe.call(H),Ae(U,V,H,X)}if(typeof H.then=="function")return ft(U,V,lc(H),X);if(H.$$typeof===D)return ft(U,V,bc(U,H),X);uc(U,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,V!==null&&V.tag===6?(a(U,V.sibling),X=h(V,H),X.return=U,U=X):(a(U,V),X=Rd(H,U.mode,X),X.return=U,U=X),E(U)):a(U,V)}return function(U,V,H,X){try{dl=0;var fe=ft(U,V,H,X);return Fa=null,fe}catch(_e){if(_e===hl)throw _e;var De=$n(29,_e,null,U.mode);return De.lanes=X,De.return=U,De}finally{}}}var Qs=kg(!0),Vg=kg(!1),Ga=qe(null),cc=qe(0);function jg(t,i){t=rr,Ye(cc,t),Ye(Ga,i),rr=t|i.baseLanes}function Mf(){Ye(cc,rr),Ye(Ga,Ga.current)}function Pf(){rr=cc.current,lt(Ga),lt(cc)}var Hn=qe(null),Ei=null;function Ur(t){var i=t.alternate;Ye(xt,xt.current&1),Ye(Hn,t),Ei===null&&(i===null||Ga.current!==null||i.memoizedState!==null)&&(Ei=t)}function Lg(t){if(t.tag===22){if(Ye(xt,xt.current),Ye(Hn,t),Ei===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(Ei=t)}}else zr()}function zr(){Ye(xt,xt.current),Ye(Hn,Hn.current)}function Qi(t){lt(Hn),Ei===t&&(Ei=null),lt(xt)}var xt=qe(0);function hc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var mS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},pS=r.unstable_scheduleCallback,gS=r.unstable_NormalPriority,Nt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kf(){return{controller:new mS,data:new Map,refCount:0}}function pl(t){t.refCount--,t.refCount===0&&pS(gS,function(){t.controller.abort()})}var gl=null,Vf=0,$a=0,Ka=null;function _S(t,i){if(gl===null){var a=gl=[];Vf=0,$a=qd(),Ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Vf++,i.then(Ug,Ug),i}function Ug(){if(--Vf===0&&gl!==null){Ka!==null&&(Ka.status="fulfilled");var t=gl;gl=null,$a=0,Ka=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function yS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var zg=A.S;A.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&_S(t,i),zg!==null&&zg(t,i)};var Ys=qe(null);function jf(){var t=Ys.current;return t!==null?t:et.pooledCache}function fc(t,i){i===null?Ye(Ys,Ys.current):Ye(Ys,i.pool)}function Bg(){var t=jf();return t===null?null:{parent:Nt._currentValue,pool:t}}var Br=0,Ne=null,We=null,vt=null,dc=!1,Qa=!1,Xs=!1,mc=0,_l=0,Ya=null,vS=0;function gt(){throw Error(s(321))}function Lf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!bn(t[a],i[a]))return!1;return!0}function Uf(t,i,a,l,h,d){return Br=d,Ne=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,A.H=t===null||t.memoizedState===null?Ws:qr,Xs=!1,d=a(l,h),Xs=!1,Qa&&(d=Hg(i,a,l,h)),qg(t),d}function qg(t){A.H=Ti;var i=We!==null&&We.next!==null;if(Br=0,vt=We=Ne=null,dc=!1,_l=0,Ya=null,i)throw Error(s(300));t===null||jt||(t=t.dependencies,t!==null&&Sc(t)&&(jt=!0))}function Hg(t,i,a,l){Ne=t;var h=0;do{if(Qa&&(Ya=null),_l=0,Qa=!1,25<=h)throw Error(s(301));if(h+=1,vt=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}A.H=Zs,d=i(a,l)}while(Qa);return d}function ES(){var t=A.H,i=t.useState()[0];return i=typeof i.then=="function"?yl(i):i,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Ne.flags|=1024),i}function zf(){var t=mc!==0;return mc=0,t}function Bf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function qf(t){if(dc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}dc=!1}Br=0,vt=We=Ne=null,Qa=!1,_l=mc=0,Ya=null}function yn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Ne.memoizedState=vt=t:vt=vt.next=t,vt}function Et(){if(We===null){var t=Ne.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var i=vt===null?Ne.memoizedState:vt.next;if(i!==null)vt=i,We=t;else{if(t===null)throw Ne.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},vt===null?Ne.memoizedState=vt=t:vt=vt.next=t}return vt}var pc;pc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function yl(t){var i=_l;return _l+=1,Ya===null&&(Ya=[]),t=Og(Ya,t,i),i=Ne,(vt===null?i.memoizedState:vt.next)===null&&(i=i.alternate,A.H=i===null||i.memoizedState===null?Ws:qr),t}function gc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return yl(t);if(t.$$typeof===D)return Zt(t)}throw Error(s(438,String(t)))}function Hf(t){var i=null,a=Ne.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ne.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=pc(),Ne.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=ce;return i.index++,a}function Yi(t,i){return typeof i=="function"?i(t):i}function _c(t){var i=Et();return Ff(i,We,t)}function Ff(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var w=E=null,C=null,L=i,Y=!1;do{var ne=L.lane&-536870913;if(ne!==L.lane?(ze&ne)===ne:(Br&ne)===ne){var F=L.revertLane;if(F===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),ne===$a&&(Y=!0);else if((Br&F)===F){L=L.next,F===$a&&(Y=!0);continue}else ne={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(w=C=ne,E=d):C=C.next=ne,Ne.lanes|=F,Wr|=F;ne=L.action,Xs&&a(d,ne),d=L.hasEagerState?L.eagerState:a(d,ne)}else F={lane:ne,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},C===null?(w=C=F,E=d):C=C.next=F,Ne.lanes|=ne,Wr|=ne;L=L.next}while(L!==null&&L!==i);if(C===null?E=d:C.next=w,!bn(d,t.memoizedState)&&(jt=!0,Y&&(a=Ka,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=C,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Gf(t){var i=Et(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=t(d,E.action),E=E.next;while(E!==h);bn(d,i.memoizedState)||(jt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Fg(t,i,a){var l=Ne,h=Et(),d=Fe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!bn((We||h).memoizedState,a);if(E&&(h.memoizedState=a,jt=!0),h=h.queue,Qf(Kg.bind(null,l,h,t),[t]),h.getSnapshot!==i||E||vt!==null&&vt.memoizedState.tag&1){if(l.flags|=2048,Xa(9,$g.bind(null,l,h,a,i),{destroy:void 0},null),et===null)throw Error(s(349));d||(Br&60)!==0||Gg(l,i,a)}return a}function Gg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ne.updateQueue,i===null?(i=pc(),Ne.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function $g(t,i,a,l){i.value=a,i.getSnapshot=l,Qg(i)&&Yg(t)}function Kg(t,i,a){return a(function(){Qg(i)&&Yg(t)})}function Qg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!bn(t,a)}catch{return!0}}function Yg(t){var i=Lr(t,2);i!==null&&hn(i,t,2)}function $f(t){var i=yn();if(typeof t=="function"){var a=t;if(t=a(),Xs){li(!0);try{a()}finally{li(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:t},i}function Xg(t,i,a,l){return t.baseState=a,Ff(t,We,typeof l=="function"?l:Yi)}function TS(t,i,a,l,h){if(Ec(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};A.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Wg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Wg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=A.T,E={};A.T=E;try{var w=a(h,l),C=A.S;C!==null&&C(E,w),Zg(t,i,w)}catch(L){Kf(t,i,L)}finally{A.T=d}}else try{d=a(h,l),Zg(t,i,d)}catch(L){Kf(t,i,L)}}function Zg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Jg(t,i,l)},function(l){return Kf(t,i,l)}):Jg(t,i,a)}function Jg(t,i,a){i.status="fulfilled",i.value=a,e_(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Wg(t,a)))}function Kf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,e_(i),i=i.next;while(i!==l)}t.action=null}function e_(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function t_(t,i){return i}function n_(t,i){if(Fe){var a=et.formState;if(a!==null){e:{var l=Ne;if(Fe){if(qt){t:{for(var h=qt,d=vi;h.nodeType!==8;){if(!d){h=null;break t}if(h=ii(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){qt=ii(h.nextSibling),l=h.data==="F!";break e}}Ks(l)}l=!1}l&&(i=a[0])}}return a=yn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t_,lastRenderedState:i},a.queue=l,a=E_.bind(null,Ne,l),l.dispatch=a,l=$f(!1),d=Jf.bind(null,Ne,!1,l.queue),l=yn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=TS.bind(null,Ne,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function i_(t){var i=Et();return r_(i,We,t)}function r_(t,i,a){i=Ff(t,i,t_)[0],t=_c(Yi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?yl(i):i;var l=Et(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(Ne.flags|=2048,Xa(9,wS.bind(null,h,a),{destroy:void 0},null)),[i,d,t]}function wS(t,i){t.action=i}function s_(t){var i=Et(),a=We;if(a!==null)return r_(i,a,t);Et(),i=i.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Xa(t,i,a,l){return t={tag:t,create:i,inst:a,deps:l,next:null},i=Ne.updateQueue,i===null&&(i=pc(),Ne.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function a_(){return Et().memoizedState}function yc(t,i,a,l){var h=yn();Ne.flags|=t,h.memoizedState=Xa(1|i,a,{destroy:void 0},l===void 0?null:l)}function vc(t,i,a,l){var h=Et();l=l===void 0?null:l;var d=h.memoizedState.inst;We!==null&&l!==null&&Lf(l,We.memoizedState.deps)?h.memoizedState=Xa(i,a,d,l):(Ne.flags|=t,h.memoizedState=Xa(1|i,a,d,l))}function o_(t,i){yc(8390656,8,t,i)}function Qf(t,i){vc(2048,8,t,i)}function l_(t,i){return vc(4,2,t,i)}function u_(t,i){return vc(4,4,t,i)}function c_(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function h_(t,i,a){a=a!=null?a.concat([t]):null,vc(4,4,c_.bind(null,i,t),a)}function Yf(){}function f_(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Lf(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function d_(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Lf(i,l[1]))return l[0];if(l=t(),Xs){li(!0);try{t()}finally{li(!1)}}return a.memoizedState=[l,i],l}function Xf(t,i,a){return a===void 0||(Br&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=py(),Ne.lanes|=t,Wr|=t,a)}function m_(t,i,a,l){return bn(a,i)?a:Ga.current!==null?(t=Xf(t,a,l),bn(t,i)||(jt=!0),t):(Br&42)===0?(jt=!0,t.memoizedState=a):(t=py(),Ne.lanes|=t,Wr|=t,i)}function p_(t,i,a,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var E=A.T,w={};A.T=w,Jf(t,!1,i,a);try{var C=h(),L=A.S;if(L!==null&&L(w,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=yS(C,l);vl(t,i,Y,Cn(t))}else vl(t,i,l,Cn(t))}catch(ne){vl(t,i,{then:function(){},status:"rejected",reason:ne},Cn())}finally{le.p=d,A.T=E}}function SS(){}function Wf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=g_(t).queue;p_(t,h,i,xe,a===null?SS:function(){return __(t),a(l)})}function g_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:xe},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function __(t){var i=g_(t).next.queue;vl(t,i,{},Cn())}function Zf(){return Zt(Ul)}function y_(){return Et().memoizedState}function v_(){return Et().memoizedState}function bS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Cn();t=Gr(a);var l=$r(i,t,a);l!==null&&(hn(l,i,a),wl(l,i,a)),i={cache:kf()},t.payload=i;return}i=i.return}}function AS(t,i,a){var l=Cn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Ec(t)?T_(i,a):(a=Cf(t,i,a,l),a!==null&&(hn(a,t,l),w_(a,i,l)))}function E_(t,i,a){var l=Cn();vl(t,i,a,l)}function vl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Ec(t))T_(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,w=d(E,a);if(h.hasEagerState=!0,h.eagerState=w,bn(w,E))return ic(t,i,h,0),et===null&&nc(),!1}catch{}finally{}if(a=Cf(t,i,h,l),a!==null)return hn(a,t,l),w_(a,i,l),!0}return!1}function Jf(t,i,a,l){if(l={lane:2,revertLane:qd(),action:l,hasEagerState:!1,eagerState:null,next:null},Ec(t)){if(i)throw Error(s(479))}else i=Cf(t,a,l,2),i!==null&&hn(i,t,2)}function Ec(t){var i=t.alternate;return t===Ne||i!==null&&i===Ne}function T_(t,i){Qa=dc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function w_(t,i,a){if((a&4194176)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Cr(t,a)}}var Ti={readContext:Zt,use:gc,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt};Ti.useCacheRefresh=gt,Ti.useMemoCache=gt,Ti.useHostTransitionStatus=gt,Ti.useFormState=gt,Ti.useActionState=gt,Ti.useOptimistic=gt;var Ws={readContext:Zt,use:gc,useCallback:function(t,i){return yn().memoizedState=[t,i===void 0?null:i],t},useContext:Zt,useEffect:o_,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,yc(4194308,4,c_.bind(null,i,t),a)},useLayoutEffect:function(t,i){return yc(4194308,4,t,i)},useInsertionEffect:function(t,i){yc(4,2,t,i)},useMemo:function(t,i){var a=yn();i=i===void 0?null:i;var l=t();if(Xs){li(!0);try{t()}finally{li(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=yn();if(a!==void 0){var h=a(i);if(Xs){li(!0);try{a(i)}finally{li(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=AS.bind(null,Ne,t),[l.memoizedState,t]},useRef:function(t){var i=yn();return t={current:t},i.memoizedState=t},useState:function(t){t=$f(t);var i=t.queue,a=E_.bind(null,Ne,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Yf,useDeferredValue:function(t,i){var a=yn();return Xf(a,t,i)},useTransition:function(){var t=$f(!1);return t=p_.bind(null,Ne,t.queue,!0,!1),yn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ne,h=yn();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),et===null)throw Error(s(349));(ze&60)!==0||Gg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,o_(Kg.bind(null,l,d,t),[t]),l.flags|=2048,Xa(9,$g.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var t=yn(),i=et.identifierPrefix;if(Fe){var a=Ki,l=$i;a=(l&~(1<<32-on(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=mc++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=vS++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return yn().memoizedState=bS.bind(null,Ne)}};Ws.useMemoCache=Hf,Ws.useHostTransitionStatus=Zf,Ws.useFormState=n_,Ws.useActionState=n_,Ws.useOptimistic=function(t){var i=yn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Jf.bind(null,Ne,!0,a),a.dispatch=i,[t,i]};var qr={readContext:Zt,use:gc,useCallback:f_,useContext:Zt,useEffect:Qf,useImperativeHandle:h_,useInsertionEffect:l_,useLayoutEffect:u_,useMemo:d_,useReducer:_c,useRef:a_,useState:function(){return _c(Yi)},useDebugValue:Yf,useDeferredValue:function(t,i){var a=Et();return m_(a,We.memoizedState,t,i)},useTransition:function(){var t=_c(Yi)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:yl(t),i]},useSyncExternalStore:Fg,useId:y_};qr.useCacheRefresh=v_,qr.useMemoCache=Hf,qr.useHostTransitionStatus=Zf,qr.useFormState=i_,qr.useActionState=i_,qr.useOptimistic=function(t,i){var a=Et();return Xg(a,We,t,i)};var Zs={readContext:Zt,use:gc,useCallback:f_,useContext:Zt,useEffect:Qf,useImperativeHandle:h_,useInsertionEffect:l_,useLayoutEffect:u_,useMemo:d_,useReducer:Gf,useRef:a_,useState:function(){return Gf(Yi)},useDebugValue:Yf,useDeferredValue:function(t,i){var a=Et();return We===null?Xf(a,t,i):m_(a,We.memoizedState,t,i)},useTransition:function(){var t=Gf(Yi)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:yl(t),i]},useSyncExternalStore:Fg,useId:y_};Zs.useCacheRefresh=v_,Zs.useMemoCache=Hf,Zs.useHostTransitionStatus=Zf,Zs.useFormState=s_,Zs.useActionState=s_,Zs.useOptimistic=function(t,i){var a=Et();return We!==null?Xg(a,We,t,i):(a.baseState=t,[t,a.queue.dispatch])};function ed(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:x({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var td={isMounted:function(t){return(t=t._reactInternals)?de(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Cn(),h=Gr(l);h.payload=i,a!=null&&(h.callback=a),i=$r(t,h,l),i!==null&&(hn(i,t,l),wl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Cn(),h=Gr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=$r(t,h,l),i!==null&&(hn(i,t,l),wl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Cn(),l=Gr(a);l.tag=2,i!=null&&(l.callback=i),i=$r(t,l,a),i!==null&&(hn(i,t,a),wl(i,t,a))}};function S_(t,i,a,l,h,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!al(a,l)||!al(h,d):!0}function b_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&td.enqueueReplaceState(i,i.state,null)}function Js(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=x({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Tc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function A_(t){Tc(t)}function R_(t){console.error(t)}function I_(t){Tc(t)}function wc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function C_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function nd(t,i,a){return a=Gr(a),a.tag=3,a.payload={element:null},a.callback=function(){wc(t,i)},a}function x_(t){return t=Gr(t),t.tag=3,t}function N_(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){C_(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){C_(i,a,l),typeof h!="function"&&(Zr===null?Zr=new Set([this]):Zr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function RS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Tl(i,a,h,!0),a=Hn.current,a!==null){switch(a.tag){case 13:return Ei===null?jd():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Of?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Ud(t,l,h)),!1;case 22:return a.flags|=65536,l===Of?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Ud(t,l,h)),!1}throw Error(s(435,a.tag))}return Ud(t,l,h),jd(),!1}if(Fe)return i=Hn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Df&&(t=Error(s(422),{cause:l}),cl(zn(t,a)))):(l!==Df&&(i=Error(s(423),{cause:l}),cl(zn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=zn(l,a),h=nd(t.stateNode,l,h),_d(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:l});if(d=zn(d,a),Nl===null?Nl=[d]:Nl.push(d),ht!==4&&(ht=2),i===null)return!0;l=zn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=nd(a.stateNode,l,t),_d(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Zr===null||!Zr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=x_(h),N_(h,t,a,l),_d(a,h),!1}a=a.return}while(a!==null);return!1}var D_=Error(s(461)),jt=!1;function Ht(t,i,a,l){i.child=t===null?Vg(i,null,a,l):Qs(i,t.child,a,l)}function O_(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var E={};for(var w in l)w!=="ref"&&(E[w]=l[w])}else E=l;return ta(i),l=Uf(t,i,a,E,d,h),w=zf(),t!==null&&!jt?(Bf(t,i,h),Xi(t,i,h)):(Fe&&w&&xf(i),i.flags|=1,Ht(t,i,l,h),i.child)}function M_(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!Ad(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,P_(t,i,d,l,h)):(t=Ic(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!hd(t,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(E,l)&&t.ref===i.ref)return Xi(t,i,h)}return i.flags|=1,t=Xr(d,l),t.ref=i.ref,t.return=i,i.child=t}function P_(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(al(d,l)&&t.ref===i.ref)if(jt=!1,i.pendingProps=l=d,hd(t,h))(t.flags&131072)!==0&&(jt=!0);else return i.lanes=t.lanes,Xi(t,i,h)}return id(t,i,a,l,h)}function k_(t,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,E=t!==null?t.memoizedState:null;if(El(t,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=E!==null?E.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return V_(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&fc(i,E!==null?E.cachePool:null),E!==null?jg(i,E):Mf(),Lg(i);else return i.lanes=i.childLanes=536870912,V_(t,i,E!==null?E.baseLanes|a:a,a)}else E!==null?(fc(i,E.cachePool),jg(i,E),zr(),i.memoizedState=null):(t!==null&&fc(i,null),Mf(),zr());return Ht(t,i,h,a),i.child}function V_(t,i,a,l){var h=jf();return h=h===null?null:{parent:Nt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&fc(i,null),Mf(),Lg(i),t!==null&&Tl(t,i,l,!0),null}function El(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function id(t,i,a,l,h){return ta(i),a=Uf(t,i,a,l,void 0,h),l=zf(),t!==null&&!jt?(Bf(t,i,h),Xi(t,i,h)):(Fe&&l&&xf(i),i.flags|=1,Ht(t,i,a,h),i.child)}function j_(t,i,a,l,h,d){return ta(i),i.updateQueue=null,a=Hg(i,l,a,h),qg(t),l=zf(),t!==null&&!jt?(Bf(t,i,d),Xi(t,i,d)):(Fe&&l&&xf(i),i.flags|=1,Ht(t,i,a,d),i.child)}function L_(t,i,a,l,h){if(ta(i),i.stateNode===null){var d=Ba,E=a.contextType;typeof E=="object"&&E!==null&&(d=Zt(E)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=td,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},pd(i),E=a.contextType,d.context=typeof E=="object"&&E!==null?Zt(E):Ba,d.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(ed(i,a,E,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&td.enqueueReplaceState(d,d.state,null),bl(i,l,d,h),Sl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var w=i.memoizedProps,C=Js(a,w);d.props=C;var L=d.context,Y=a.contextType;E=Ba,typeof Y=="object"&&Y!==null&&(E=Zt(Y));var ne=a.getDerivedStateFromProps;Y=typeof ne=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||L!==E)&&b_(i,d,l,E),Fr=!1;var F=i.memoizedState;d.state=F,bl(i,l,d,h),Sl(),L=i.memoizedState,w||F!==L||Fr?(typeof ne=="function"&&(ed(i,a,ne,l),L=i.memoizedState),(C=Fr||S_(i,a,C,l,F,L,E))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=L),d.props=l,d.state=L,d.context=E,l=C):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,gd(t,i),E=i.memoizedProps,Y=Js(a,E),d.props=Y,ne=i.pendingProps,F=d.context,L=a.contextType,C=Ba,typeof L=="object"&&L!==null&&(C=Zt(L)),w=a.getDerivedStateFromProps,(L=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==ne||F!==C)&&b_(i,d,l,C),Fr=!1,F=i.memoizedState,d.state=F,bl(i,l,d,h),Sl();var Q=i.memoizedState;E!==ne||F!==Q||Fr||t!==null&&t.dependencies!==null&&Sc(t.dependencies)?(typeof w=="function"&&(ed(i,a,w,l),Q=i.memoizedState),(Y=Fr||S_(i,a,Y,l,F,Q,C)||t!==null&&t.dependencies!==null&&Sc(t.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,C),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,C)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=C,l=Y):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,El(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Qs(i,t.child,null,h),i.child=Qs(i,null,a,h)):Ht(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Xi(t,i,h),t}function U_(t,i,a,l){return ul(),i.flags|=256,Ht(t,i,a,l),i.child}var rd={dehydrated:null,treeContext:null,retryLane:0};function sd(t){return{baseLanes:t,cachePool:Bg()}}function ad(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Kn),t}function z_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(xt.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(Fe){if(h?Ur(i):zr(),Fe){var w=qt,C;if(C=w){e:{for(C=w,w=vi;C.nodeType!==8;){if(!w){w=null;break e}if(C=ii(C.nextSibling),C===null){w=null;break e}}w=C}w!==null?(i.memoizedState={dehydrated:w,treeContext:Gs!==null?{id:$i,overflow:Ki}:null,retryLane:536870912},C=$n(18,null,null,0),C.stateNode=w,C.return=i,i.child=C,cn=i,qt=null,C=!0):C=!1}C||Ks(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return w.data==="$!"?i.lanes=16:i.lanes=536870912,null;Qi(i)}return w=l.children,l=l.fallback,h?(zr(),h=i.mode,w=ld({mode:"hidden",children:w},h),l=ia(l,h,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,h=i.child,h.memoizedState=sd(a),h.childLanes=ad(t,E,a),i.memoizedState=rd,l):(Ur(i),od(i,w))}if(C=t.memoizedState,C!==null&&(w=C.dehydrated,w!==null)){if(d)i.flags&256?(Ur(i),i.flags&=-257,i=ud(t,i,a)):i.memoizedState!==null?(zr(),i.child=t.child,i.flags|=128,i=null):(zr(),h=l.fallback,w=i.mode,l=ld({mode:"visible",children:l.children},w),h=ia(h,w,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Qs(i,t.child,null,a),l=i.child,l.memoizedState=sd(a),l.childLanes=ad(t,E,a),i.memoizedState=rd,i=h);else if(Ur(i),w.data==="$!"){if(E=w.nextSibling&&w.nextSibling.dataset,E)var L=E.dgst;E=L,l=Error(s(419)),l.stack="",l.digest=E,cl({value:l,source:null,stack:null}),i=ud(t,i,a)}else if(jt||Tl(t,i,a,!1),E=(a&t.childLanes)!==0,jt||E){if(E=et,E!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane)throw C.retryLane=l,Lr(t,l),hn(E,t,l),D_}w.data==="$?"||jd(),i=ud(t,i,a)}else w.data==="$?"?(i.flags|=128,i.child=t.child,i=BS.bind(null,t),w._reactRetry=i,i=null):(t=C.treeContext,qt=ii(w.nextSibling),cn=i,Fe=!0,ti=null,vi=!1,t!==null&&(Bn[qn++]=$i,Bn[qn++]=Ki,Bn[qn++]=Gs,$i=t.id,Ki=t.overflow,Gs=i),i=od(i,l.children),i.flags|=4096);return i}return h?(zr(),h=l.fallback,w=i.mode,C=t.child,L=C.sibling,l=Xr(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&31457280,L!==null?h=Xr(L,h):(h=ia(h,w,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,w=t.child.memoizedState,w===null?w=sd(a):(C=w.cachePool,C!==null?(L=Nt._currentValue,C=C.parent!==L?{parent:L,pool:L}:C):C=Bg(),w={baseLanes:w.baseLanes|a,cachePool:C}),h.memoizedState=w,h.childLanes=ad(t,E,a),i.memoizedState=rd,l):(Ur(i),a=t.child,t=a.sibling,a=Xr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=a,i.memoizedState=null,a)}function od(t,i){return i=ld({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function ld(t,i){return fy(t,i,0,null)}function ud(t,i,a){return Qs(i,t.child,null,a),t=od(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function B_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),dd(t.return,i,a)}function cd(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function q_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ht(t,i,l.children,a),l=xt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&B_(t,a,i);else if(t.tag===19)B_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Ye(xt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&hc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),cd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&hc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}cd(i,!0,a,null,d);break;case"together":cd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Xi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Wr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Tl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Xr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Xr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function hd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Sc(t)))}function IS(t,i,a){switch(i.tag){case 3:wr(i,i.stateNode.containerInfo),Hr(i,Nt,t.memoizedState.cache),ul();break;case 27:case 5:Uo(i);break;case 4:wr(i,i.stateNode.containerInfo);break;case 10:Hr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Ur(i),i.flags|=128,null):(a&i.child.childLanes)!==0?z_(t,i,a):(Ur(i),t=Xi(t,i,a),t!==null?t.sibling:null);Ur(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Tl(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return q_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ye(xt,xt.current),l)break;return null;case 22:case 23:return i.lanes=0,k_(t,i,a);case 24:Hr(i,Nt,t.memoizedState.cache)}return Xi(t,i,a)}function H_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)jt=!0;else{if(!hd(t,a)&&(i.flags&128)===0)return jt=!1,IS(t,i,a);jt=(t.flags&131072)!==0}else jt=!1,Fe&&(i.flags&1048576)!==0&&Ig(i,ac,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Ad(l)?(t=Js(l,t),i.tag=1,i=L_(null,i,l,t,a)):(i.tag=0,i=id(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===M){i.tag=11,i=O_(null,i,l,t,a);break e}else if(h===G){i.tag=14,i=M_(null,i,l,t,a);break e}}throw i=I(l)||l,Error(s(306,i,""))}}return i;case 0:return id(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Js(l,i.pendingProps),L_(t,i,l,h,a);case 3:e:{if(wr(i,i.stateNode.containerInfo),t===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,gd(t,i),bl(i,d,null,a);var E=i.memoizedState;if(d=E.cache,Hr(i,Nt,d),d!==h.cache&&md(i,[Nt],a,!0),Sl(),d=E.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=U_(t,i,d,a);break e}else if(d!==l){l=zn(Error(s(424)),i),cl(l),i=U_(t,i,d,a);break e}else for(qt=ii(i.stateNode.containerInfo.firstChild),cn=i,Fe=!0,ti=null,vi=!0,a=Vg(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(ul(),d===l){i=Xi(t,i,a);break e}Ht(t,i,d,a)}i=i.child}return i;case 26:return El(t,i),t===null?(a=$y(i.type,null,i.pendingProps,null))?i.memoizedState=a:Fe||(a=i.type,t=i.pendingProps,l=Uc(On.current).createElement(a),l[Pt]=i,l[Rt]=t,Ft(l,a,t),it(l),i.stateNode=l):i.memoizedState=$y(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Uo(i),t===null&&Fe&&(l=i.stateNode=Hy(i.type,i.pendingProps,On.current),cn=i,vi=!0,qt=ii(l.firstChild)),l=i.pendingProps.children,t!==null||Fe?Ht(t,i,l,a):i.child=Qs(i,null,l,a),El(t,i),i.child;case 5:return t===null&&Fe&&((h=l=qt)&&(l=ib(l,i.type,i.pendingProps,vi),l!==null?(i.stateNode=l,cn=i,qt=ii(l.firstChild),vi=!1,h=!0):h=!1),h||Ks(i)),Uo(i),h=i.type,d=i.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,Wd(h,d)?l=null:E!==null&&Wd(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=Uf(t,i,ES,null,null,a),Ul._currentValue=h),El(t,i),Ht(t,i,l,a),i.child;case 6:return t===null&&Fe&&((t=a=qt)&&(a=rb(a,i.pendingProps,vi),a!==null?(i.stateNode=a,cn=i,qt=null,t=!0):t=!1),t||Ks(i)),null;case 13:return z_(t,i,a);case 4:return wr(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Qs(i,null,l,a):Ht(t,i,l,a),i.child;case 11:return O_(t,i,i.type,i.pendingProps,a);case 7:return Ht(t,i,i.pendingProps,a),i.child;case 8:return Ht(t,i,i.pendingProps.children,a),i.child;case 12:return Ht(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Hr(i,i.type,l.value),Ht(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ta(i),h=Zt(h),l=l(h),i.flags|=1,Ht(t,i,l,a),i.child;case 14:return M_(t,i,i.type,i.pendingProps,a);case 15:return P_(t,i,i.type,i.pendingProps,a);case 19:return q_(t,i,a);case 22:return k_(t,i,a);case 24:return ta(i),l=Zt(Nt),t===null?(h=jf(),h===null&&(h=et,d=kf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},pd(i),Hr(i,Nt,h)):((t.lanes&a)!==0&&(gd(t,i),bl(i,null,null,a),Sl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Hr(i,Nt,l)):(l=d.cache,Hr(i,Nt,l),l!==h.cache&&md(i,[Nt],a,!0))),Ht(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var fd=qe(null),ea=null,Wi=null;function Hr(t,i,a){Ye(fd,i._currentValue),i._currentValue=a}function Zi(t){t._currentValue=fd.current,lt(fd)}function dd(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function md(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=h;for(var C=0;C<i.length;C++)if(w.context===i[C]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),dd(d.return,a,t),l||(E=null);break e}d=w.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),dd(E,a,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function Tl(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var w=h.type;bn(h.pendingProps.value,E.value)||(t!==null?t.push(w):t=[w])}}else if(h===Tr.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Ul):t=[Ul])}h=h.return}t!==null&&md(i,t,a,l),i.flags|=262144}function Sc(t){for(t=t.firstContext;t!==null;){if(!bn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ta(t){ea=t,Wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Zt(t){return F_(ea,t)}function bc(t,i){return ea===null&&ta(t),F_(t,i)}function F_(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Wi===null){if(t===null)throw Error(s(308));Wi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Wi=Wi.next=i;return a}var Fr=!1;function pd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Gr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function $r(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(st&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=rc(t),Ag(t,null,a),i}return ic(t,l,i,a),rc(t)}function wl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Cr(t,a)}}function _d(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var yd=!1;function Sl(){if(yd){var t=Ka;if(t!==null)throw t}}function bl(t,i,a,l){yd=!1;var h=t.updateQueue;Fr=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var C=w,L=C.next;C.next=null,E===null?d=L:E.next=L,E=C;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,w=Y.lastBaseUpdate,w!==E&&(w===null?Y.firstBaseUpdate=L:w.next=L,Y.lastBaseUpdate=C))}if(d!==null){var ne=h.baseState;E=0,Y=L=C=null,w=d;do{var F=w.lane&-536870913,Q=F!==w.lane;if(Q?(ze&F)===F:(l&F)===F){F!==0&&F===$a&&(yd=!0),Y!==null&&(Y=Y.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var me=t,Ae=w;F=i;var ft=a;switch(Ae.tag){case 1:if(me=Ae.payload,typeof me=="function"){ne=me.call(ft,ne,F);break e}ne=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Ae.payload,F=typeof me=="function"?me.call(ft,ne,F):me,F==null)break e;ne=x({},ne,F);break e;case 2:Fr=!0}}F=w.callback,F!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[F]:Q.push(F))}else Q={lane:F,tag:w.tag,payload:w.payload,callback:w.callback,next:null},Y===null?(L=Y=Q,C=ne):Y=Y.next=Q,E|=F;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);Y===null&&(C=ne),h.baseState=C,h.firstBaseUpdate=L,h.lastBaseUpdate=Y,d===null&&(h.shared.lanes=0),Wr|=E,t.lanes=E,t.memoizedState=ne}}function G_(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function $_(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)G_(a[t],i)}function Al(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(w){Je(i,i.return,w)}}function Kr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var E=l.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,h=i;var C=a;try{w()}catch(L){Je(h,C,L)}}}l=l.next}while(l!==d)}}catch(L){Je(i,i.return,L)}}function K_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{$_(i,a)}catch(l){Je(t,t.return,l)}}}function Q_(t,i,a){a.props=Js(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,i,l)}}function na(t,i){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){Je(t,i,d)}}function An(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Je(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Je(t,i,h)}else a.current=null}function Y_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Je(t,t.return,h)}}function X_(t,i,a){try{var l=t.stateNode;ZS(l,t.type,a,i),l[Rt]=i}catch(h){Je(t,t.return,h)}}function W_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function vd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||W_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ed(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Lc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Ed(t,i,a),t=t.sibling;t!==null;)Ed(t,i,a),t=t.sibling}function Ac(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Ac(t,i,a),t=t.sibling;t!==null;)Ac(t,i,a),t=t.sibling}var Ji=!1,ct=!1,Td=!1,Z_=typeof WeakSet=="function"?WeakSet:Set,Lt=null,J_=!1;function CS(t,i){if(t=t.containerInfo,Yd=Gc,t=gg(t),Sf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,w=-1,C=-1,L=0,Y=0,ne=t,F=null;t:for(;;){for(var Q;ne!==a||h!==0&&ne.nodeType!==3||(w=E+h),ne!==d||l!==0&&ne.nodeType!==3||(C=E+l),ne.nodeType===3&&(E+=ne.nodeValue.length),(Q=ne.firstChild)!==null;)F=ne,ne=Q;for(;;){if(ne===t)break t;if(F===a&&++L===h&&(w=E),F===d&&++Y===l&&(C=E),(Q=ne.nextSibling)!==null)break;ne=F,F=ne.parentNode}ne=Q}a=w===-1||C===-1?null:{start:w,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(Xd={focusedElem:t,selectionRange:a},Gc=!1,Lt=i;Lt!==null;)if(i=Lt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Lt=t;else for(;Lt!==null;){switch(i=Lt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var me=Js(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(me,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(Ae){Je(a,a.return,Ae)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)em(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":em(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Lt=t;break}Lt=i.return}return me=J_,J_=!1,me}function ey(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:tr(t,a),l&4&&Al(5,a);break;case 1:if(tr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(w){Je(a,a.return,w)}else{var h=Js(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(w){Je(a,a.return,w)}}l&64&&K_(a),l&512&&na(a,a.return);break;case 3:if(tr(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{$_(l,t)}catch(w){Je(a,a.return,w)}}break;case 26:tr(t,a),l&512&&na(a,a.return);break;case 27:case 5:tr(t,a),i===null&&l&4&&Y_(a),l&512&&na(a,a.return);break;case 12:tr(t,a);break;case 13:tr(t,a),l&4&&iy(t,a);break;case 22:if(h=a.memoizedState!==null||Ji,!h){i=i!==null&&i.memoizedState!==null||ct;var d=Ji,E=ct;Ji=h,(ct=i)&&!E?Qr(t,a,(a.subtreeFlags&8772)!==0):tr(t,a),Ji=d,ct=E}l&512&&(a.memoizedProps.mode==="manual"?na(a,a.return):An(a,a.return));break;default:tr(t,a)}}function ty(t){var i=t.alternate;i!==null&&(t.alternate=null,ty(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Os(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Tt=null,Rn=!1;function er(t,i,a){for(a=a.child;a!==null;)ny(t,i,a),a=a.sibling}function ny(t,i,a){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(Sr,a)}catch{}switch(a.tag){case 26:ct||An(a,i),er(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ct||An(a,i);var l=Tt,h=Rn;for(Tt=a.stateNode,er(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);Os(a),Tt=l,Rn=h;break;case 5:ct||An(a,i);case 6:h=Tt;var d=Rn;if(Tt=null,er(t,i,a),Tt=h,Rn=d,Tt!==null)if(Rn)try{t=Tt,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(E){Je(a,i,E)}else try{Tt.removeChild(a.stateNode)}catch(E){Je(a,i,E)}break;case 18:Tt!==null&&(Rn?(i=Tt,a=a.stateNode,i.nodeType===8?Jd(i.parentNode,a):i.nodeType===1&&Jd(i,a),Hl(i)):Jd(Tt,a.stateNode));break;case 4:l=Tt,h=Rn,Tt=a.stateNode.containerInfo,Rn=!0,er(t,i,a),Tt=l,Rn=h;break;case 0:case 11:case 14:case 15:ct||Kr(2,a,i),ct||Kr(4,a,i),er(t,i,a);break;case 1:ct||(An(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Q_(a,i,l)),er(t,i,a);break;case 21:er(t,i,a);break;case 22:ct||An(a,i),ct=(l=ct)||a.memoizedState!==null,er(t,i,a),ct=l;break;default:er(t,i,a)}}function iy(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Hl(t)}catch(a){Je(i,i.return,a)}}function xS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new Z_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new Z_),i;default:throw Error(s(435,t.tag))}}function wd(t,i){var a=xS(t);i.forEach(function(l){var h=qS.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Fn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,E=i,w=E;e:for(;w!==null;){switch(w.tag){case 27:case 5:Tt=w.stateNode,Rn=!1;break e;case 3:Tt=w.stateNode.containerInfo,Rn=!0;break e;case 4:Tt=w.stateNode.containerInfo,Rn=!0;break e}w=w.return}if(Tt===null)throw Error(s(160));ny(d,E,h),Tt=null,Rn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)ry(i,t),i=i.sibling}var ni=null;function ry(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Fn(i,t),Gn(t),l&4&&(Kr(3,t,t.return),Al(3,t),Kr(5,t,t.return));break;case 1:Fn(i,t),Gn(t),l&512&&(ct||a===null||An(a,a.return)),l&64&&Ji&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ni;if(Fn(i,t),Gn(t),l&512&&(ct||a===null||An(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Nr]||d[Pt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ft(d,l,a),d[Pt]=t,it(d),l=d;break e;case"link":var E=Yy("link","href",h).get(l+(a.href||""));if(E){for(var w=0;w<E.length;w++)if(d=E[w],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(w,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;case"meta":if(E=Yy("meta","content",h).get(l+(a.content||""))){for(w=0;w<E.length;w++)if(d=E[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(w,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Pt]=t,it(d),l=d}t.stateNode=l}else Xy(h,t.type,t.stateNode);else t.stateNode=Qy(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Xy(h,t.type,t.stateNode):Qy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&X_(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var C=h.firstChild;C;){var L=C.nextSibling,Y=C.nodeName;C[Nr]||Y==="HEAD"||Y==="BODY"||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&C.rel.toLowerCase()==="stylesheet"||h.removeChild(C),C=L}for(var ne=t.type,F=h.attributes;F.length;)h.removeAttributeNode(F[0]);Ft(h,ne,d),h[Pt]=t,h[Rt]=d}catch(me){Je(t,t.return,me)}}case 5:if(Fn(i,t),Gn(t),l&512&&(ct||a===null||An(a,a.return)),t.flags&32){h=t.stateNode;try{kn(h,"")}catch(me){Je(t,t.return,me)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,X_(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Td=!0);break;case 6:if(Fn(i,t),Gn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(me){Je(t,t.return,me)}}break;case 3:if(qc=null,h=ni,ni=zc(i.containerInfo),Fn(i,t),ni=h,Gn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Hl(i.containerInfo)}catch(me){Je(t,t.return,me)}Td&&(Td=!1,sy(t));break;case 4:l=ni,ni=zc(t.stateNode.containerInfo),Fn(i,t),Gn(t),ni=l;break;case 12:Fn(i,t),Gn(t);break;case 13:Fn(i,t),Gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Dd=gn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wd(t,l)));break;case 22:if(l&512&&(ct||a===null||An(a,a.return)),C=t.memoizedState!==null,L=a!==null&&a.memoizedState!==null,Y=Ji,ne=ct,Ji=Y||C,ct=ne||L,Fn(i,t),ct=ne,Ji=Y,Gn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=C?i._visibility&-2:i._visibility|1,C&&(i=Ji||ct,a===null||L||i||Wa(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){L=a=i;try{if(h=L.stateNode,C)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{E=L.stateNode,w=L.memoizedProps.style;var Q=w!=null&&w.hasOwnProperty("display")?w.display:null;E.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(me){Je(L,L.return,me)}}}else if(i.tag===6){if(a===null){L=i;try{L.stateNode.nodeValue=C?"":L.memoizedProps}catch(me){Je(L,L.return,me)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,wd(t,a))));break;case 19:Fn(i,t),Gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,wd(t,l)));break;case 21:break;default:Fn(i,t),Gn(t)}}function Gn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(W_(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=vd(t);Ac(t,d,h);break;case 5:var E=l.stateNode;l.flags&32&&(kn(E,""),l.flags&=-33);var w=vd(t);Ac(t,w,E);break;case 3:case 4:var C=l.stateNode.containerInfo,L=vd(t);Ed(t,L,C);break;default:throw Error(s(161))}}}catch(Y){Je(t,t.return,Y)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function sy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;sy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function tr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ey(t,i.alternate,i),i=i.sibling}function Wa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Kr(4,i,i.return),Wa(i);break;case 1:An(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&Q_(i,i.return,a),Wa(i);break;case 26:case 27:case 5:An(i,i.return),Wa(i);break;case 22:An(i,i.return),i.memoizedState===null&&Wa(i);break;default:Wa(i)}t=t.sibling}}function Qr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:Qr(h,d,a),Al(4,d);break;case 1:if(Qr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){Je(l,l.return,L)}if(l=d,h=l.updateQueue,h!==null){var w=l.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)G_(C[h],w)}catch(L){Je(l,l.return,L)}}a&&E&64&&K_(d),na(d,d.return);break;case 26:case 27:case 5:Qr(h,d,a),a&&l===null&&E&4&&Y_(d),na(d,d.return);break;case 12:Qr(h,d,a);break;case 13:Qr(h,d,a),a&&E&4&&iy(h,d);break;case 22:d.memoizedState===null&&Qr(h,d,a),na(d,d.return);break;default:Qr(h,d,a)}i=i.sibling}}function Sd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&pl(a))}function bd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&pl(t))}function Yr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ay(t,i,a,l),i=i.sibling}function ay(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Yr(t,i,a,l),h&2048&&Al(9,i);break;case 3:Yr(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&pl(t)));break;case 12:if(h&2048){Yr(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,E=d.id,w=d.onPostCommit;typeof w=="function"&&w(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Je(i,i.return,C)}}else Yr(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Yr(t,i,a,l):Rl(t,i):d._visibility&4?Yr(t,i,a,l):(d._visibility|=4,Za(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&Sd(i.alternate,i);break;case 24:Yr(t,i,a,l),h&2048&&bd(i.alternate,i);break;default:Yr(t,i,a,l)}}function Za(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,E=i,w=a,C=l,L=E.flags;switch(E.tag){case 0:case 11:case 15:Za(d,E,w,C,h),Al(8,E);break;case 23:break;case 22:var Y=E.stateNode;E.memoizedState!==null?Y._visibility&4?Za(d,E,w,C,h):Rl(d,E):(Y._visibility|=4,Za(d,E,w,C,h)),h&&L&2048&&Sd(E.alternate,E);break;case 24:Za(d,E,w,C,h),h&&L&2048&&bd(E.alternate,E);break;default:Za(d,E,w,C,h)}i=i.sibling}}function Rl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Rl(a,l),h&2048&&Sd(l.alternate,l);break;case 24:Rl(a,l),h&2048&&bd(l.alternate,l);break;default:Rl(a,l)}i=i.sibling}}var Il=8192;function Ja(t){if(t.subtreeFlags&Il)for(t=t.child;t!==null;)oy(t),t=t.sibling}function oy(t){switch(t.tag){case 26:Ja(t),t.flags&Il&&t.memoizedState!==null&&_b(ni,t.memoizedState,t.memoizedProps);break;case 5:Ja(t);break;case 3:case 4:var i=ni;ni=zc(t.stateNode.containerInfo),Ja(t),ni=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Il,Il=16777216,Ja(t),Il=i):Ja(t));break;default:Ja(t)}}function ly(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Cl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,cy(l,t)}ly(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)uy(t),t=t.sibling}function uy(t){switch(t.tag){case 0:case 11:case 15:Cl(t),t.flags&2048&&Kr(9,t,t.return);break;case 3:Cl(t);break;case 12:Cl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,Rc(t)):Cl(t);break;default:Cl(t)}}function Rc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,cy(l,t)}ly(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Kr(8,i,i.return),Rc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,Rc(i));break;default:Rc(i)}t=t.sibling}}function cy(t,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:Kr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=t;Lt!==null;){l=Lt;var h=l.sibling,d=l.return;if(ty(l),l===a){Lt=null;break e}if(h!==null){h.return=d,Lt=h;break e}Lt=d}}}function NS(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(t,i,a,l){return new NS(t,i,a,l)}function Ad(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Xr(t,i){var a=t.alternate;return a===null?(a=$n(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function hy(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Ic(t,i,a,l,h,d){var E=0;if(l=t,typeof t=="function")Ad(t)&&(E=1);else if(typeof t=="string")E=pb(t,a,an.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return ia(a.children,h,d,i);case g:E=8,h|=24;break;case T:return t=$n(12,a,i,h|2),t.elementType=T,t.lanes=d,t;case $:return t=$n(13,a,i,h),t.elementType=$,t.lanes=d,t;case q:return t=$n(19,a,i,h),t.elementType=q,t.lanes=d,t;case ee:return fy(a,h,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b:case D:E=10;break e;case R:E=9;break e;case M:E=11;break e;case G:E=14;break e;case te:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=$n(E,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function ia(t,i,a,l){return t=$n(7,t,l,i),t.lanes=a,t}function fy(t,i,a,l){t=$n(22,t,l,i),t.elementType=ee,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var E=Lr(d,2);E!==null&&(h._pendingVisibility|=2,hn(E,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var E=Lr(d,2);E!==null&&(h._pendingVisibility&=-3,hn(E,d,2))}}};return t.stateNode=h,t}function Rd(t,i,a){return t=$n(6,t,null,i),t.lanes=a,t}function Id(t,i,a){return i=$n(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function nr(t){t.flags|=4}function dy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Wy(i)){if(i=Hn.current,i!==null&&((ze&4194176)===ze?Ei!==null:(ze&62914560)!==ze&&(ze&536870912)===0||i!==Ei))throw fl=Of,Ng;t.flags|=8192}}function Cc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Rr():536870912,t.lanes|=i,to|=i)}function xl(t,i){if(!Fe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function rt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function DS(t,i,a){var l=i.pendingProps;switch(Nf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(i),null;case 1:return rt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Zi(Nt),ki(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ll(i)?nr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ti!==null&&(kd(ti),ti=null))),rt(i),null;case 26:return a=i.memoizedState,t===null?(nr(i),a!==null?(rt(i),dy(i,a)):(rt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(nr(i),rt(i),dy(i,a)):(rt(i),i.flags&=-16777217):(t.memoizedProps!==l&&nr(i),rt(i),i.flags&=-16777217),null;case 27:Ea(i),a=On.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&nr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}t=an.current,ll(i)?Cg(i):(t=Hy(h,l,a),i.stateNode=t,nr(i))}return rt(i),null;case 5:if(Ea(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&nr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return rt(i),null}if(t=an.current,ll(i))Cg(i);else{switch(h=Uc(On.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Pt]=i,t[Rt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Ft(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&nr(i)}}return rt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&nr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=On.current,ll(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=cn,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Pt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||jy(t.nodeValue,a)),t||Ks(i)}else t=Uc(t).createTextNode(l),t[Pt]=i,i.stateNode=t}return rt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=ll(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Pt]=i}else ul(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;rt(i),h=!1}else ti!==null&&(kd(ti),ti=null),h=!0;if(!h)return i.flags&256?(Qi(i),i):(Qi(i),null)}if(Qi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),Cc(i,i.updateQueue),rt(i),null;case 4:return ki(),t===null&&$d(i.stateNode.containerInfo),rt(i),null;case 10:return Zi(i.type),rt(i),null;case 19:if(lt(xt),h=i.memoizedState,h===null)return rt(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)xl(h,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=hc(t),d!==null){for(i.flags|=128,xl(h,!1),t=d.updateQueue,i.updateQueue=t,Cc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)hy(a,t),a=a.sibling;return Ye(xt,xt.current&1|2),i.child}t=t.sibling}h.tail!==null&&gn()>xc&&(i.flags|=128,l=!0,xl(h,!1),i.lanes=4194304)}else{if(!l)if(t=hc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,Cc(i,t),xl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!Fe)return rt(i),null}else 2*gn()-h.renderingStartTime>xc&&a!==536870912&&(i.flags|=128,l=!0,xl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=gn(),i.sibling=null,t=xt.current,Ye(xt,l?t&1|2:t&1),i):(rt(i),null);case 22:case 23:return Qi(i),Pf(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(rt(i),i.subtreeFlags&6&&(i.flags|=8192)):rt(i),a=i.updateQueue,a!==null&&Cc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&lt(Ys),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Zi(Nt),rt(i),null;case 25:return null}throw Error(s(156,i.tag))}function OS(t,i){switch(Nf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Zi(Nt),ki(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return Ea(i),null;case 13:if(Qi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ul()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return lt(xt),null;case 4:return ki(),null;case 10:return Zi(i.type),null;case 22:case 23:return Qi(i),Pf(),t!==null&&lt(Ys),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Zi(Nt),null;case 25:return null;default:return null}}function my(t,i){switch(Nf(i),i.tag){case 3:Zi(Nt),ki();break;case 26:case 27:case 5:Ea(i);break;case 4:ki();break;case 13:Qi(i);break;case 19:lt(xt);break;case 10:Zi(i.type);break;case 22:case 23:Qi(i),Pf(),t!==null&&lt(Ys);break;case 24:Zi(Nt)}}var MS={getCacheForType:function(t){var i=Zt(Nt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},PS=typeof WeakMap=="function"?WeakMap:Map,st=0,et=null,Oe=null,ze=0,tt=0,In=null,ir=!1,eo=!1,Cd=!1,rr=0,ht=0,Wr=0,ra=0,xd=0,Kn=0,to=0,Nl=null,wi=null,Nd=!1,Dd=0,xc=1/0,Nc=null,Zr=null,Dc=!1,sa=null,Dl=0,Od=0,Md=null,Ol=0,Pd=null;function Cn(){if((st&2)!==0&&ze!==0)return ze&-ze;if(A.T!==null){var t=$a;return t!==0?t:qd()}return ju()}function py(){Kn===0&&(Kn=(ze&536870912)===0||Fe?Fo():536870912);var t=Hn.current;return t!==null&&(t.flags|=32),Kn}function hn(t,i,a){(t===et&&tt===2||t.cancelPendingCommit!==null)&&(no(t,0),sr(t,ze,Kn,!1)),pt(t,a),((st&2)===0||t!==et)&&(t===et&&((st&2)===0&&(ra|=a),ht===4&&sr(t,ze,Kn,!1)),Si(t))}function gy(t,i,a){if((st&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&t.expiredLanes)===0||Ar(t,i),h=l?jS(t,i):Ld(t,i,!0),d=l;do{if(h===0){eo&&!l&&sr(t,i,0,!1);break}else if(h===6)sr(t,i,0,!ir);else{if(a=t.current.alternate,d&&!kS(a)){h=Ld(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var w=t;h=Nl;var C=w.current.memoizedState.isDehydrated;if(C&&(no(w,E).flags|=256),E=Ld(w,E,!1),E!==2){if(Cd&&!C){w.errorRecoveryDisabledLanes|=d,ra|=d,h=4;break e}d=wi,wi=h,d!==null&&kd(d)}h=E}if(d=!1,h!==2)continue}}if(h===1){no(t,0),sr(t,i,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){sr(l,i,Kn,!ir);break e}break;case 2:wi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=Dd+300-gn(),10<d)){if(sr(l,i,Kn,!ir),Mn(l,0)!==0)break e;l.timeoutHandle=zy(_y.bind(null,l,a,wi,Nc,Nd,i,Kn,ra,to,ir,2,-0,0),d);break e}_y(l,a,wi,Nc,Nd,i,Kn,ra,to,ir,0,-0,0)}}break}while(!0);Si(t)}function kd(t){wi===null?wi=t:wi.push.apply(wi,t)}function _y(t,i,a,l,h,d,E,w,C,L,Y,ne,F){var Q=i.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(Ll={stylesheets:null,count:0,unsuspend:gb},oy(i),i=yb(),i!==null)){t.cancelPendingCommit=i(by.bind(null,t,a,l,h,E,w,C,1,ne,F)),sr(t,d,E,!L);return}by(t,a,l,h,E,w,C,Y,ne,F)}function kS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!bn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function sr(t,i,a,l){i&=~xd,i&=~ra,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-on(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&Ir(t,a,i)}function Oc(){return(st&6)===0?(Ml(0),!1):!0}function Vd(){if(Oe!==null){if(tt===0)var t=Oe.return;else t=Oe,Wi=ea=null,qf(t),Fa=null,dl=0,t=Oe;for(;t!==null;)my(t.alternate,t),t=t.return;Oe=null}}function no(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,eb(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Vd(),et=t,Oe=a=Xr(t.current,null),ze=i,tt=0,In=null,ir=!1,eo=Ar(t,i),Cd=!1,to=Kn=xd=ra=Wr=ht=0,wi=Nl=null,Nd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-on(l),d=1<<h;i|=t[h],l&=~d}return rr=i,nc(),a}function yy(t,i){Ne=null,A.H=Ti,i===hl?(i=Mg(),tt=3):i===Ng?(i=Mg(),tt=4):tt=i===D_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,In=i,Oe===null&&(ht=1,wc(t,zn(i,t.current)))}function vy(){var t=A.H;return A.H=Ti,t===null?Ti:t}function Ey(){var t=A.A;return A.A=MS,t}function jd(){ht=4,ir||(ze&4194176)!==ze&&Hn.current!==null||(eo=!0),(Wr&134217727)===0&&(ra&134217727)===0||et===null||sr(et,ze,Kn,!1)}function Ld(t,i,a){var l=st;st|=2;var h=vy(),d=Ey();(et!==t||ze!==i)&&(Nc=null,no(t,i)),i=!1;var E=ht;e:do try{if(tt!==0&&Oe!==null){var w=Oe,C=In;switch(tt){case 8:Vd(),E=6;break e;case 3:case 2:case 6:Hn.current===null&&(i=!0);var L=tt;if(tt=0,In=null,io(t,w,C,L),a&&eo){E=0;break e}break;default:L=tt,tt=0,In=null,io(t,w,C,L)}}VS(),E=ht;break}catch(Y){yy(t,Y)}while(!0);return i&&t.shellSuspendCounter++,Wi=ea=null,st=l,A.H=h,A.A=d,Oe===null&&(et=null,ze=0,nc()),E}function VS(){for(;Oe!==null;)Ty(Oe)}function jS(t,i){var a=st;st|=2;var l=vy(),h=Ey();et!==t||ze!==i?(Nc=null,xc=gn()+500,no(t,i)):eo=Ar(t,i);e:do try{if(tt!==0&&Oe!==null){i=Oe;var d=In;t:switch(tt){case 1:tt=0,In=null,io(t,i,d,1);break;case 2:if(Dg(d)){tt=0,In=null,wy(i);break}i=function(){tt===2&&et===t&&(tt=7),Si(t)},d.then(i,i);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Dg(d)?(tt=0,In=null,wy(i)):(tt=0,In=null,io(t,i,d,7));break;case 5:var E=null;switch(Oe.tag){case 26:E=Oe.memoizedState;case 5:case 27:var w=Oe;if(!E||Wy(E)){tt=0,In=null;var C=w.sibling;if(C!==null)Oe=C;else{var L=w.return;L!==null?(Oe=L,Mc(L)):Oe=null}break t}}tt=0,In=null,io(t,i,d,5);break;case 6:tt=0,In=null,io(t,i,d,6);break;case 8:Vd(),ht=6;break e;default:throw Error(s(462))}}LS();break}catch(Y){yy(t,Y)}while(!0);return Wi=ea=null,A.H=l,A.A=h,st=a,Oe!==null?0:(et=null,ze=0,nc(),ht)}function LS(){for(;Oe!==null&&!ff();)Ty(Oe)}function Ty(t){var i=H_(t.alternate,t,rr);t.memoizedProps=t.pendingProps,i===null?Mc(t):Oe=i}function wy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=j_(a,i,i.pendingProps,i.type,void 0,ze);break;case 11:i=j_(a,i,i.pendingProps,i.type.render,i.ref,ze);break;case 5:qf(i);default:my(a,i),i=Oe=hy(i,rr),i=H_(a,i,rr)}t.memoizedProps=t.pendingProps,i===null?Mc(t):Oe=i}function io(t,i,a,l){Wi=ea=null,qf(i),Fa=null,dl=0;var h=i.return;try{if(RS(t,h,i,a,ze)){ht=1,wc(t,zn(a,t.current)),Oe=null;return}}catch(d){if(h!==null)throw Oe=h,d;ht=1,wc(t,zn(a,t.current)),Oe=null;return}i.flags&32768?(Fe||l===1?t=!0:eo||(ze&536870912)!==0?t=!1:(ir=t=!0,(l===2||l===3||l===6)&&(l=Hn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Sy(i,t)):Mc(i)}function Mc(t){var i=t;do{if((i.flags&32768)!==0){Sy(i,ir);return}t=i.return;var a=DS(i.alternate,i,rr);if(a!==null){Oe=a;return}if(i=i.sibling,i!==null){Oe=i;return}Oe=i=t}while(i!==null);ht===0&&(ht=5)}function Sy(t,i){do{var a=OS(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);ht=6,Oe=null}function by(t,i,a,l,h,d,E,w,C,L){var Y=A.T,ne=le.p;try{le.p=2,A.T=null,US(t,i,a,l,ne,h,d,E,w,C,L)}finally{A.T=Y,le.p=ne}}function US(t,i,a,l,h,d,E,w){do ro();while(sa!==null);if((st&6)!==0)throw Error(s(327));var C=t.finishedWork;if(l=t.finishedLanes,C===null)return null;if(t.finishedWork=null,t.finishedLanes=0,C===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var L=C.lanes|C.childLanes;if(L|=If,ku(t,l,L,d,E,w),t===et&&(Oe=et=null,ze=0),(C.subtreeFlags&10256)===0&&(C.flags&10256)===0||Dc||(Dc=!0,Od=L,Md=a,HS(Vi,function(){return ro(),null})),a=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||a?(a=A.T,A.T=null,d=le.p,le.p=2,E=st,st|=4,CS(t,C),ry(C,t),uS(Xd,t.containerInfo),Gc=!!Yd,Xd=Yd=null,t.current=C,ey(t,C.alternate,C),zo(),st=E,le.p=d,A.T=a):t.current=C,Dc?(Dc=!1,sa=t,Dl=l):Ay(t,L),L=t.pendingLanes,L===0&&(Zr=null),qo(C.stateNode),Si(t),i!==null)for(h=t.onRecoverableError,C=0;C<i.length;C++)L=i[C],h(L.value,{componentStack:L.stack});return(Dl&3)!==0&&ro(),L=t.pendingLanes,(l&4194218)!==0&&(L&42)!==0?t===Pd?Ol++:(Ol=0,Pd=t):Ol=0,Ml(0),null}function Ay(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,pl(i)))}function ro(){if(sa!==null){var t=sa,i=Od;Od=0;var a=Vu(Dl),l=A.T,h=le.p;try{if(le.p=32>a?32:a,A.T=null,sa===null)var d=!1;else{a=Md,Md=null;var E=sa,w=Dl;if(sa=null,Dl=0,(st&6)!==0)throw Error(s(331));var C=st;if(st|=4,uy(E.current),ay(E,E.current,w,a),st=C,Ml(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(Sr,E)}catch{}d=!0}return d}finally{le.p=h,A.T=l,Ay(t,i)}}return!1}function Ry(t,i,a){i=zn(a,i),i=nd(t.stateNode,i,2),t=$r(t,i,2),t!==null&&(pt(t,2),Si(t))}function Je(t,i,a){if(t.tag===3)Ry(t,t,a);else for(;i!==null;){if(i.tag===3){Ry(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Zr===null||!Zr.has(l))){t=zn(a,t),a=x_(2),l=$r(i,a,2),l!==null&&(N_(a,l,i,t),pt(l,2),Si(l));break}}i=i.return}}function Ud(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new PS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Cd=!0,h.add(a),t=zS.bind(null,t,i,a),i.then(t,t))}function zS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,et===t&&(ze&a)===a&&(ht===4||ht===3&&(ze&62914560)===ze&&300>gn()-Dd?(st&2)===0&&no(t,0):xd|=a,to===ze&&(to=0)),Si(t)}function Iy(t,i){i===0&&(i=Rr()),t=Lr(t,i),t!==null&&(pt(t,i),Si(t))}function BS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),Iy(t,a)}function qS(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),Iy(t,a)}function HS(t,i){return xs(t,i)}var Pc=null,so=null,zd=!1,kc=!1,Bd=!1,aa=0;function Si(t){t!==so&&t.next===null&&(so===null?Pc=so=t:so=so.next=t),kc=!0,zd||(zd=!0,GS(FS))}function Ml(t,i){if(!Bd&&kc){Bd=!0;do for(var a=!1,l=Pc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-on(42|t)+1)-1,d&=h&~(E&~w),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,Ny(l,d))}else d=ze,d=Mn(l,l===et?d:0),(d&3)===0||Ar(l,d)||(a=!0,Ny(l,d));l=l.next}while(a);Bd=!1}}function FS(){kc=zd=!1;var t=0;aa!==0&&(JS()&&(t=aa),aa=0);for(var i=gn(),a=null,l=Pc;l!==null;){var h=l.next,d=Cy(l,i);d===0?(l.next=null,a===null?Pc=h:a.next=h,h===null&&(so=a)):(a=l,(t!==0||(d&3)!==0)&&(kc=!0)),l=h}Ml(t)}function Cy(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-on(d),w=1<<E,C=h[E];C===-1?((w&a)===0||(w&l)!==0)&&(h[E]=Sa(w,i)):C<=i&&(t.expiredLanes|=w),d&=~w}if(i=et,a=ze,a=Mn(t,t===i?a:0),l=t.callbackNode,a===0||t===i&&tt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&wa(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ar(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&wa(l),Vu(a)){case 2:case 8:a=Mt;break;case 32:a=Vi;break;case 268435456:a=Bo;break;default:a=Vi}return l=xy.bind(null,t),a=xs(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&wa(l),t.callbackPriority=2,t.callbackNode=null,2}function xy(t,i){var a=t.callbackNode;if(ro()&&t.callbackNode!==a)return null;var l=ze;return l=Mn(t,t===et?l:0),l===0?null:(gy(t,l,i),Cy(t,gn()),t.callbackNode!=null&&t.callbackNode===a?xy.bind(null,t):null)}function Ny(t,i){if(ro())return null;gy(t,i,!0)}function GS(t){tb(function(){(st&6)!==0?xs(At,t):t()})}function qd(){return aa===0&&(aa=Fo()),aa}function Dy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:fi(""+t)}function Oy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function $S(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=Dy((h[Rt]||null).action),E=l.submitter;E&&(i=(i=E[Rt]||null)?Dy(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var w=new Na("action","action",null,l,h);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(aa!==0){var C=E?Oy(h,E):new FormData(h);Wf(a,{pending:!0,data:C,method:h.method,action:d},null,C)}}else typeof d=="function"&&(w.preventDefault(),C=E?Oy(h,E):new FormData(h),Wf(a,{pending:!0,data:C,method:h.method,action:d},d,C))},currentTarget:h}]})}}for(var Hd=0;Hd<bg.length;Hd++){var Fd=bg[Hd],KS=Fd.toLowerCase(),QS=Fd[0].toUpperCase()+Fd.slice(1);ei(KS,"on"+QS)}ei(vg,"onAnimationEnd"),ei(Eg,"onAnimationIteration"),ei(Tg,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(hS,"onTransitionRun"),ei(fS,"onTransitionStart"),ei(dS,"onTransitionCancel"),ei(wg,"onTransitionEnd"),_n("onMouseEnter",["mouseout","mouseover"]),_n("onMouseLeave",["mouseout","mouseover"]),_n("onPointerEnter",["pointerout","pointerover"]),_n("onPointerLeave",["pointerout","pointerover"]),wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),wn("onBeforeInput",["compositionend","keypress","textInput","paste"]),wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function My(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var w=l[E],C=w.instance,L=w.currentTarget;if(w=w.listener,C!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=L;try{d(h)}catch(Y){Tc(Y)}h.currentTarget=null,d=C}else for(E=0;E<l.length;E++){if(w=l[E],C=w.instance,L=w.currentTarget,w=w.listener,C!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=L;try{d(h)}catch(Y){Tc(Y)}h.currentTarget=null,d=C}}}}function Ve(t,i){var a=i[Ds];a===void 0&&(a=i[Ds]=new Set);var l=t+"__bubble";a.has(l)||(Py(i,t,2,!1),a.add(l))}function Gd(t,i,a){var l=0;i&&(l|=4),Py(a,t,l,i)}var Vc="_reactListening"+Math.random().toString(36).slice(2);function $d(t){if(!t[Vc]){t[Vc]=!0,$o.forEach(function(a){a!=="selectionchange"&&(YS.has(a)||Gd(a,!1,t),Gd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Vc]||(i[Vc]=!0,Gd("selectionchange",!1,i))}}function Py(t,i,a,l){switch(iv(i)){case 2:var h=Tb;break;case 8:h=wb;break;default:h=sm}a=h.bind(null,i,a,t),h=void 0,!jn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Kd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var w=l.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(E===4)for(E=l.return;E!==null;){var C=E.tag;if((C===3||C===4)&&(C=E.stateNode.containerInfo,C===h||C.nodeType===8&&C.parentNode===h))return;E=E.return}for(;w!==null;){if(E=Jn(w),E===null)return;if(C=E.tag,C===5||C===6||C===26||C===27){l=d=E;continue e}w=w.parentNode}}l=l.return}Bu(function(){var L=d,Y=xa(a),ne=[];e:{var F=Sg.get(t);if(F!==void 0){var Q=Na,me=t;switch(t){case"keypress":if(mi(a)===0)break e;case"keydown":case"keyup":Q=Va;break;case"focusin":me="focus",Q=Ma;break;case"focusout":me="blur",Q=Ma;break;case"beforeblur":case"afterblur":Q=Ma;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=vf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Yu;break;case vg:case Eg:case Tg:Q=Pa;break;case wg:Q=Wu;break;case"scroll":case"scrollend":Q=qu;break;case"wheel":Q=ja;break;case"copy":case"cut":case"paste":Q=ka;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=rl;break;case"toggle":case"beforetoggle":Q=Ju}var Ae=(i&4)!==0,ft=!Ae&&(t==="scroll"||t==="scrollend"),U=Ae?F!==null?F+"Capture":null:F;Ae=[];for(var V=L,H;V!==null;){var X=V;if(H=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||H===null||U===null||(X=Vs(V,U),X!=null&&Ae.push(kl(V,X,H))),ft)break;V=V.return}0<Ae.length&&(F=new Q(F,me,null,a,Y),ne.push({event:F,listeners:Ae}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",F&&a!==Vn&&(me=a.relatedTarget||a.fromElement)&&(Jn(me)||me[ji]))break e;if((Q||F)&&(F=Y.window===Y?Y:(F=Y.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(me=a.relatedTarget||a.toElement,Q=L,me=me?Jn(me):null,me!==null&&(ft=de(me),Ae=me.tag,me!==ft||Ae!==5&&Ae!==27&&Ae!==6)&&(me=null)):(Q=null,me=L),Q!==me)){if(Ae=Ln,X="onMouseLeave",U="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(Ae=rl,X="onPointerLeave",U="onPointerEnter",V="pointer"),ft=Q==null?F:Dr(Q),H=me==null?F:Dr(me),F=new Ae(X,V+"leave",Q,a,Y),F.target=ft,F.relatedTarget=H,X=null,Jn(Y)===L&&(Ae=new Ae(U,V+"enter",me,a,Y),Ae.target=H,Ae.relatedTarget=ft,X=Ae),ft=X,Q&&me)t:{for(Ae=Q,U=me,V=0,H=Ae;H;H=ao(H))V++;for(H=0,X=U;X;X=ao(X))H++;for(;0<V-H;)Ae=ao(Ae),V--;for(;0<H-V;)U=ao(U),H--;for(;V--;){if(Ae===U||U!==null&&Ae===U.alternate)break t;Ae=ao(Ae),U=ao(U)}Ae=null}else Ae=null;Q!==null&&ky(ne,F,Q,Ae,!1),me!==null&&ft!==null&&ky(ne,ft,me,Ae,!0)}}e:{if(F=L?Dr(L):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var fe=lg;else if(Ct(F))if(ug)fe=oS;else{fe=sS;var De=rS}else Q=F.nodeName,!Q||Q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?L&&Wo(L.elementType)&&(fe=lg):fe=aS;if(fe&&(fe=fe(t,L))){Gi(ne,fe,a,Y);break e}De&&De(t,F,L),t==="focusout"&&L&&F.type==="number"&&L.memoizedProps.value!=null&&Ca(F,"number",F.value)}switch(De=L?Dr(L):window,t){case"focusin":(Ct(De)||De.contentEditable==="true")&&(La=De,bf=L,ol=null);break;case"focusout":ol=bf=La=null;break;case"mousedown":Af=!0;break;case"contextmenu":case"mouseup":case"dragend":Af=!1,_g(ne,a,Y);break;case"selectionchange":if(cS)break;case"keydown":case"keyup":_g(ne,a,Y)}var _e;if(_i)e:{switch(t){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Le?K(t,a)&&(Te="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Te="onCompositionStart");Te&&(v&&a.locale!=="ko"&&(Le||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Le&&(_e=Jo()):(di=Y,jr="value"in di?di.value:di.textContent,Le=!0)),De=jc(L,Te),0<De.length&&(Te=new nl(Te,t,null,a,Y),ne.push({event:Te,listeners:De}),_e?Te.data=_e:(_e=se(a),_e!==null&&(Te.data=_e)))),(_e=_?It(t,a):Ue(t,a))&&(Te=jc(L,"onBeforeInput"),0<Te.length&&(De=new nl("onBeforeInput","beforeinput",null,a,Y),ne.push({event:De,listeners:Te}),De.data=_e)),$S(ne,t,L,a,Y)}My(ne,i)})}function kl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function jc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Vs(t,a),h!=null&&l.unshift(kl(t,h,d)),h=Vs(t,i),h!=null&&l.push(kl(t,h,d))),t=t.return}return l}function ao(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function ky(t,i,a,l,h){for(var d=i._reactName,E=[];a!==null&&a!==l;){var w=a,C=w.alternate,L=w.stateNode;if(w=w.tag,C!==null&&C===l)break;w!==5&&w!==26&&w!==27||L===null||(C=L,h?(L=Vs(a,d),L!=null&&E.unshift(kl(a,L,C))):h||(L=Vs(a,d),L!=null&&E.push(kl(a,L,C)))),a=a.return}E.length!==0&&t.push({event:i,listeners:E})}var XS=/\r\n?/g,WS=/\u0000|\uFFFD/g;function Vy(t){return(typeof t=="string"?t:""+t).replace(XS,`
`).replace(WS,"")}function jy(t,i){return i=Vy(i),Vy(t)===i}function Lc(){}function Ze(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||kn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&kn(t,""+l);break;case"className":Pr(t,"class",l);break;case"tabIndex":Pr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Pr(t,a,l);break;case"style":zu(t,l,d);break;case"data":if(i!=="object"){Pr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=fi(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Ze(t,i,"name",h.name,h,null),Ze(t,i,"formEncType",h.formEncType,h,null),Ze(t,i,"formMethod",h.formMethod,h,null),Ze(t,i,"formTarget",h.formTarget,h,null)):(Ze(t,i,"encType",h.encType,h,null),Ze(t,i,"method",h.method,h,null),Ze(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=fi(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Lc);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=fi(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ve("beforetoggle",t),Ve("toggle",t),Mr(t,"popover",l);break;case"xlinkActuate":Pn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Mr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_f.get(a)||a,Mr(t,a,l))}}function Qd(t,i,a,l,h,d){switch(a){case"style":zu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?kn(t,l):(typeof l=="number"||typeof l=="bigint")&&kn(t,""+l);break;case"onScroll":l!=null&&Ve("scroll",t);break;case"onScrollEnd":l!=null&&Ve("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Lc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ra.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Rt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Mr(t,a,l)}}}function Ft(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ve("error",t),Ve("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,d,E,a,null)}}h&&Ze(t,i,"srcSet",a.srcSet,a,null),l&&Ze(t,i,"src",a.src,a,null);return;case"input":Ve("invalid",t);var w=d=E=h=null,C=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":h=Y;break;case"type":E=Y;break;case"checked":C=Y;break;case"defaultChecked":L=Y;break;case"value":d=Y;break;case"defaultValue":w=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Ze(t,i,l,Y,a,null)}}Ps(t,d,w,C,L,E,h,!1),Ms(t);return;case"select":Ve("invalid",t),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":d=w;break;case"defaultValue":E=w;break;case"multiple":l=w;default:Ze(t,i,h,w,a,null)}i=d,a=E,t.multiple=!!l,i!=null?He(t,!!l,i,!1):a!=null&&He(t,!!l,a,!0);return;case"textarea":Ve("invalid",t),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(w=a[E],w!=null))switch(E){case"value":l=w;break;case"defaultValue":h=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:Ze(t,i,E,w,a,null)}Vr(t,l,h,d),Ms(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,i,C,l,a,null)}return;case"dialog":Ve("cancel",t),Ve("close",t);break;case"iframe":case"object":Ve("load",t);break;case"video":case"audio":for(l=0;l<Pl.length;l++)Ve(Pl[l],t);break;case"image":Ve("error",t),Ve("load",t);break;case"details":Ve("toggle",t);break;case"embed":case"source":case"link":Ve("error",t),Ve("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Ze(t,i,L,l,a,null)}return;default:if(Wo(i)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&Qd(t,i,Y,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&Ze(t,i,w,l,a,null))}function ZS(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,w=null,C=null,L=null,Y=null;for(Q in a){var ne=a[Q];if(a.hasOwnProperty(Q)&&ne!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":C=ne;default:l.hasOwnProperty(Q)||Ze(t,i,Q,null,l,ne)}}for(var F in l){var Q=l[F];if(ne=a[F],l.hasOwnProperty(F)&&(Q!=null||ne!=null))switch(F){case"type":d=Q;break;case"name":h=Q;break;case"checked":L=Q;break;case"defaultChecked":Y=Q;break;case"value":E=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==ne&&Ze(t,i,F,Q,l,ne)}}kr(t,E,w,C,L,Y,d,h);return;case"select":Q=E=w=F=null;for(d in a)if(C=a[d],a.hasOwnProperty(d)&&C!=null)switch(d){case"value":break;case"multiple":Q=C;default:l.hasOwnProperty(d)||Ze(t,i,d,null,l,C)}for(h in l)if(d=l[h],C=a[h],l.hasOwnProperty(h)&&(d!=null||C!=null))switch(h){case"value":F=d;break;case"defaultValue":w=d;break;case"multiple":E=d;default:d!==C&&Ze(t,i,h,d,l,C)}i=w,a=E,l=Q,F!=null?He(t,!!a,F,!1):!!l!=!!a&&(i!=null?He(t,!!a,i,!0):He(t,!!a,a?[]:"",!1));return;case"textarea":Q=F=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:Ze(t,i,w,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":F=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Ze(t,i,E,h,l,d)}ks(t,F,Q);return;case"option":for(var me in a)if(F=a[me],a.hasOwnProperty(me)&&F!=null&&!l.hasOwnProperty(me))switch(me){case"selected":t.selected=!1;break;default:Ze(t,i,me,null,l,F)}for(C in l)if(F=l[C],Q=a[C],l.hasOwnProperty(C)&&F!==Q&&(F!=null||Q!=null))switch(C){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:Ze(t,i,C,F,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ae in a)F=a[Ae],a.hasOwnProperty(Ae)&&F!=null&&!l.hasOwnProperty(Ae)&&Ze(t,i,Ae,null,l,F);for(L in l)if(F=l[L],Q=a[L],l.hasOwnProperty(L)&&F!==Q&&(F!=null||Q!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:Ze(t,i,L,F,l,Q)}return;default:if(Wo(i)){for(var ft in a)F=a[ft],a.hasOwnProperty(ft)&&F!==void 0&&!l.hasOwnProperty(ft)&&Qd(t,i,ft,void 0,l,F);for(Y in l)F=l[Y],Q=a[Y],!l.hasOwnProperty(Y)||F===Q||F===void 0&&Q===void 0||Qd(t,i,Y,F,l,Q);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&Ze(t,i,U,null,l,F);for(ne in l)F=l[ne],Q=a[ne],!l.hasOwnProperty(ne)||F===Q||F==null&&Q==null||Ze(t,i,ne,F,l,Q)}var Yd=null,Xd=null;function Uc(t){return t.nodeType===9?t:t.ownerDocument}function Ly(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Uy(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Wd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Zd=null;function JS(){var t=window.event;return t&&t.type==="popstate"?t===Zd?!1:(Zd=t,!0):(Zd=null,!1)}var zy=typeof setTimeout=="function"?setTimeout:void 0,eb=typeof clearTimeout=="function"?clearTimeout:void 0,By=typeof Promise=="function"?Promise:void 0,tb=typeof queueMicrotask=="function"?queueMicrotask:typeof By<"u"?function(t){return By.resolve(null).then(t).catch(nb)}:zy;function nb(t){setTimeout(function(){throw t})}function Jd(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),Hl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Hl(i)}function em(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":em(a),Os(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function ib(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Nr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ii(t.nextSibling),t===null)break}return null}function rb(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ii(t.nextSibling),t===null))return null;return t}function ii(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function qy(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Hy(t,i,a){switch(i=Uc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Qn=new Map,Fy=new Set;function zc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var ar=le.d;le.d={f:sb,r:ab,D:ob,C:lb,L:ub,m:cb,X:fb,S:hb,M:db};function sb(){var t=ar.f(),i=Oc();return t||i}function ab(t){var i=Li(t);i!==null&&i.tag===5&&i.type==="form"?__(i):ar.r(t)}var oo=typeof document>"u"?null:document;function Gy(t,i,a){var l=oo;if(l&&typeof i=="string"&&i){var h=ut(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Fy.has(h)||(Fy.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ft(i,"link",t),it(i),l.head.appendChild(i)))}}function ob(t){ar.D(t),Gy("dns-prefetch",t,null)}function lb(t,i){ar.C(t,i),Gy("preconnect",t,i)}function ub(t,i,a){ar.L(t,i,a);var l=oo;if(l&&t&&i){var h='link[rel="preload"][as="'+ut(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ut(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ut(a.imageSizes)+'"]')):h+='[href="'+ut(t)+'"]';var d=h;switch(i){case"style":d=lo(t);break;case"script":d=uo(t)}Qn.has(d)||(t=x({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Qn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Vl(d))||i==="script"&&l.querySelector(jl(d))||(i=l.createElement("link"),Ft(i,"link",t),it(i),l.head.appendChild(i)))}}function cb(t,i){ar.m(t,i);var a=oo;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ut(l)+'"][href="'+ut(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=uo(t)}if(!Qn.has(d)&&(t=x({rel:"modulepreload",href:t},i),Qn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(jl(d)))return}l=a.createElement("link"),Ft(l,"link",t),it(l),a.head.appendChild(l)}}}function hb(t,i,a){ar.S(t,i,a);var l=oo;if(l&&t){var h=Or(l).hoistableStyles,d=lo(t);i=i||"default";var E=h.get(d);if(!E){var w={loading:0,preload:null};if(E=l.querySelector(Vl(d)))w.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Qn.get(d))&&tm(t,a);var C=E=l.createElement("link");it(C),Ft(C,"link",t),C._p=new Promise(function(L,Y){C.onload=L,C.onerror=Y}),C.addEventListener("load",function(){w.loading|=1}),C.addEventListener("error",function(){w.loading|=2}),w.loading|=4,Bc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:w},h.set(d,E)}}}function fb(t,i){ar.X(t,i);var a=oo;if(a&&t){var l=Or(a).hoistableScripts,h=uo(t),d=l.get(h);d||(d=a.querySelector(jl(h)),d||(t=x({src:t,async:!0},i),(i=Qn.get(h))&&nm(t,i),d=a.createElement("script"),it(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function db(t,i){ar.M(t,i);var a=oo;if(a&&t){var l=Or(a).hoistableScripts,h=uo(t),d=l.get(h);d||(d=a.querySelector(jl(h)),d||(t=x({src:t,async:!0,type:"module"},i),(i=Qn.get(h))&&nm(t,i),d=a.createElement("script"),it(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function $y(t,i,a,l){var h=(h=On.current)?zc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=lo(a.href),a=Or(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=lo(a.href);var d=Or(h).hoistableStyles,E=d.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=h.querySelector(Vl(t)))&&!d._p&&(E.instance=d,E.state.loading=5),Qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(t,a),d||mb(h,t,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=uo(a),a=Or(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function lo(t){return'href="'+ut(t)+'"'}function Vl(t){return'link[rel="stylesheet"]['+t+"]"}function Ky(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function mb(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ft(i,"link",a),it(i),t.head.appendChild(i))}function uo(t){return'[src="'+ut(t)+'"]'}function jl(t){return"script[async]"+t}function Qy(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+ut(a.href)+'"]');if(l)return i.instance=l,it(l),l;var h=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),it(l),Ft(l,"style",h),Bc(l,a.precedence,t),i.instance=l;case"stylesheet":h=lo(a.href);var d=t.querySelector(Vl(h));if(d)return i.state.loading|=4,i.instance=d,it(d),d;l=Ky(a),(h=Qn.get(h))&&tm(l,h),d=(t.ownerDocument||t).createElement("link"),it(d);var E=d;return E._p=new Promise(function(w,C){E.onload=w,E.onerror=C}),Ft(d,"link",l),i.state.loading|=4,Bc(d,a.precedence,t),i.instance=d;case"script":return d=uo(a.src),(h=t.querySelector(jl(d)))?(i.instance=h,it(h),h):(l=a,(h=Qn.get(d))&&(l=x({},a),nm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),it(h),Ft(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Bc(l,a.precedence,t));return i.instance}function Bc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var w=l[E];if(w.dataset.precedence===i)d=w;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function tm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function nm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var qc=null;function Yy(t,i,a){if(qc===null){var l=new Map,h=qc=new Map;h.set(a,l)}else h=qc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Nr]||d[Pt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=t+E;var w=l.get(E);w?w.push(d):l.set(E,[d])}}return l}function Xy(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function pb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Wy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ll=null;function gb(){}function _b(t,i,a){if(Ll===null)throw Error(s(475));var l=Ll;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=lo(a.href),d=t.querySelector(Vl(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Hc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,it(d);return}d=t.ownerDocument||t,a=Ky(a),(h=Qn.get(h))&&tm(a,h),d=d.createElement("link"),it(d);var E=d;E._p=new Promise(function(w,C){E.onload=w,E.onerror=C}),Ft(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Hc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function yb(){if(Ll===null)throw Error(s(475));var t=Ll;return t.stylesheets&&t.count===0&&im(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&im(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Hc(){if(this.count--,this.count===0){if(this.stylesheets)im(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Fc=null;function im(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Fc=new Map,i.forEach(vb,t),Fc=null,Hc.call(t))}function vb(t,i){if(!(i.state.loading&4)){var a=Fc.get(t);if(a)var l=a.get(null);else{a=new Map,Fc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=Hc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Ul={$$typeof:D,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function Eb(t,i,a,l,h,d,E,w){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ba(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ba(0),this.hiddenUpdates=ba(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function Zy(t,i,a,l,h,d,E,w,C,L,Y,ne){return t=new Eb(t,i,a,E,w,C,L,ne),i=1,d===!0&&(i|=24),d=$n(3,null,null,i),t.current=d,d.stateNode=t,i=kf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},pd(d),t}function Jy(t){return t?(t=Ba,t):Ba}function ev(t,i,a,l,h,d){h=Jy(h),l.context===null?l.context=h:l.pendingContext=h,l=Gr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=$r(t,l,i),a!==null&&(hn(a,t,i),wl(a,t,i))}function tv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function rm(t,i){tv(t,i),(t=t.alternate)&&tv(t,i)}function nv(t){if(t.tag===13){var i=Lr(t,67108864);i!==null&&hn(i,t,67108864),rm(t,67108864)}}var Gc=!0;function Tb(t,i,a,l){var h=A.T;A.T=null;var d=le.p;try{le.p=2,sm(t,i,a,l)}finally{le.p=d,A.T=h}}function wb(t,i,a,l){var h=A.T;A.T=null;var d=le.p;try{le.p=8,sm(t,i,a,l)}finally{le.p=d,A.T=h}}function sm(t,i,a,l){if(Gc){var h=am(l);if(h===null)Kd(t,i,l,$c,a),rv(t,l);else if(bb(h,t,i,a,l))l.stopPropagation();else if(rv(t,l),i&4&&-1<Sb.indexOf(t)){for(;h!==null;){var d=Li(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Zn(d.pendingLanes);if(E!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var C=1<<31-on(E);w.entanglements[1]|=C,E&=~C}Si(d),(st&6)===0&&(xc=gn()+500,Ml(0))}}break;case 13:w=Lr(d,2),w!==null&&hn(w,d,2),Oc(),rm(d,2)}if(d=am(l),d===null&&Kd(t,i,l,$c,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Kd(t,i,l,null,a)}}function am(t){return t=xa(t),om(t)}var $c=null;function om(t){if($c=null,t=Jn(t),t!==null){var i=de(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=$e(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return $c=t,null}function iv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Du()){case At:return 2;case Mt:return 8;case Vi:case Ou:return 32;case Bo:return 268435456;default:return 32}default:return 32}}var lm=!1,Jr=null,es=null,ts=null,zl=new Map,Bl=new Map,ns=[],Sb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rv(t,i){switch(t){case"focusin":case"focusout":Jr=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":zl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bl.delete(i.pointerId)}}function ql(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Li(i),i!==null&&nv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function bb(t,i,a,l,h){switch(i){case"focusin":return Jr=ql(Jr,t,i,a,l,h),!0;case"dragenter":return es=ql(es,t,i,a,l,h),!0;case"mouseover":return ts=ql(ts,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return zl.set(d,ql(zl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Bl.set(d,ql(Bl.get(d)||null,t,i,a,l,h)),!0}return!1}function sv(t){var i=Jn(t.target);if(i!==null){var a=de(i);if(a!==null){if(i=a.tag,i===13){if(i=$e(a),i!==null){t.blockedOn=i,xr(t.priority,function(){if(a.tag===13){var l=Cn(),h=Lr(a,l);h!==null&&hn(h,a,l),rm(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Kc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=am(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Vn=l,a.target.dispatchEvent(l),Vn=null}else return i=Li(a),i!==null&&nv(i),t.blockedOn=a,!1;i.shift()}return!0}function av(t,i,a){Kc(t)&&a.delete(i)}function Ab(){lm=!1,Jr!==null&&Kc(Jr)&&(Jr=null),es!==null&&Kc(es)&&(es=null),ts!==null&&Kc(ts)&&(ts=null),zl.forEach(av),Bl.forEach(av)}function Qc(t,i){t.blockedOn===i&&(t.blockedOn=null,lm||(lm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ab)))}var Yc=null;function ov(t){Yc!==t&&(Yc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Yc===t&&(Yc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(om(l||a)===null)continue;break}var d=Li(a);d!==null&&(t.splice(i,3),i-=3,Wf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Hl(t){function i(C){return Qc(C,t)}Jr!==null&&Qc(Jr,t),es!==null&&Qc(es,t),ts!==null&&Qc(ts,t),zl.forEach(i),Bl.forEach(i);for(var a=0;a<ns.length;a++){var l=ns[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ns.length&&(a=ns[0],a.blockedOn===null);)sv(a),a.blockedOn===null&&ns.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[Rt]||null;if(typeof d=="function")E||ov(a);else if(E){var w=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[Rt]||null)w=E.formAction;else if(om(h)!==null)continue}else w=E.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),ov(a)}}}function um(t){this._internalRoot=t}Xc.prototype.render=um.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Cn();ev(a,l,t,i,null,null)},Xc.prototype.unmount=um.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&ro(),ev(t.current,2,null,t,null,null),Oc(),i[ji]=null}};function Xc(t){this._internalRoot=t}Xc.prototype.unstable_scheduleHydration=function(t){if(t){var i=ju();t={blockedOn:null,target:t,priority:i};for(var a=0;a<ns.length&&i!==0&&i<ns[a].priority;a++);ns.splice(a,0,t),a===0&&sv(t)}};var lv=e.version;if(lv!=="19.0.0")throw Error(s(527,lv,"19.0.0"));le.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=re(i),t=t!==null?pe(t):null,t=t===null?null:t.stateNode,t};var Rb={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Jn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wc.isDisabled&&Wc.supportsFiber)try{Sr=Wc.inject(Rb),Wt=Wc}catch{}}return Gl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=A_,d=R_,E=I_,w=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=Zy(t,1,!1,null,null,a,l,h,d,E,w,null),t[ji]=i.current,$d(t.nodeType===8?t.parentNode:t),new um(i)},Gl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=A_,E=R_,w=I_,C=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=Zy(t,1,!0,i,a??null,l,h,d,E,w,C,L),i.context=Jy(null),a=i.current,l=Cn(),h=Gr(l),h.callback=null,$r(a,h,l),i.current.lanes=l,pt(i,l),Si(i),t[ji]=i.current,$d(t),new Xc(i)},Gl.version="19.0.0",Gl}var yv;function Vb(){if(yv)return fm.exports;yv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),fm.exports=kb(),fm.exports}var jb=Vb(),$l={},vv;function Lb(){if(vv)return $l;vv=1,Object.defineProperty($l,"__esModule",{value:!0}),$l.parse=f,$l.serialize=g;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function f(R,D){const M=new u,$=R.length;if($<2)return M;const q=(D==null?void 0:D.decode)||T;let G=0;do{const te=R.indexOf("=",G);if(te===-1)break;const ee=R.indexOf(";",G),ce=ee===-1?$:ee;if(te>ce){G=R.lastIndexOf(";",te-1)+1;continue}const ie=m(R,G,te),ae=p(R,te,ie),O=R.slice(ie,ae);if(M[O]===void 0){let I=m(R,te+1,ce),A=p(R,ce,I);const x=q(R.slice(I,A));M[O]=x}G=ce+1}while(G<$);return M}function m(R,D,M){do{const $=R.charCodeAt(D);if($!==32&&$!==9)return D}while(++D<M);return M}function p(R,D,M){for(;D>M;){const $=R.charCodeAt(--D);if($!==32&&$!==9)return D+1}return M}function g(R,D,M){const $=(M==null?void 0:M.encode)||encodeURIComponent;if(!r.test(R))throw new TypeError(`argument name is invalid: ${R}`);const q=$(D);if(!e.test(q))throw new TypeError(`argument val is invalid: ${D}`);let G=R+"="+q;if(!M)return G;if(M.maxAge!==void 0){if(!Number.isInteger(M.maxAge))throw new TypeError(`option maxAge is invalid: ${M.maxAge}`);G+="; Max-Age="+M.maxAge}if(M.domain){if(!n.test(M.domain))throw new TypeError(`option domain is invalid: ${M.domain}`);G+="; Domain="+M.domain}if(M.path){if(!s.test(M.path))throw new TypeError(`option path is invalid: ${M.path}`);G+="; Path="+M.path}if(M.expires){if(!b(M.expires)||!Number.isFinite(M.expires.valueOf()))throw new TypeError(`option expires is invalid: ${M.expires}`);G+="; Expires="+M.expires.toUTCString()}if(M.httpOnly&&(G+="; HttpOnly"),M.secure&&(G+="; Secure"),M.partitioned&&(G+="; Partitioned"),M.priority)switch(typeof M.priority=="string"?M.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${M.priority}`)}if(M.sameSite)switch(typeof M.sameSite=="string"?M.sameSite.toLowerCase():M.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${M.sameSite}`)}return G}function T(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function b(R){return o.call(R)==="[object Date]"}return $l}Lb();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ev="popstate";function Ub(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return Nm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:su(o)}return Bb(e,n,null,r)}function at(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ni(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zb(){return Math.random().toString(36).substring(2,10)}function Tv(r,e){return{usr:r.state,key:r.key,idx:e}}function Nm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?xo(e):e,state:n,key:e&&e.key||s||zb()}}function su({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function xo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Bb(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,g=T();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function T(){return(f.state||{idx:null}).idx}function b(){m="POP";let q=T(),G=q==null?null:q-g;g=q,p&&p({action:m,location:$.location,delta:G})}function R(q,G){m="PUSH";let te=Nm($.location,q,G);g=T()+1;let ee=Tv(te,g),ce=$.createHref(te);try{f.pushState(ee,"",ce)}catch(ie){if(ie instanceof DOMException&&ie.name==="DataCloneError")throw ie;o.location.assign(ce)}u&&p&&p({action:m,location:$.location,delta:1})}function D(q,G){m="REPLACE";let te=Nm($.location,q,G);g=T();let ee=Tv(te,g),ce=$.createHref(te);f.replaceState(ee,"",ce),u&&p&&p({action:m,location:$.location,delta:0})}function M(q){let G=o.location.origin!=="null"?o.location.origin:o.location.href,te=typeof q=="string"?q:su(q);return te=te.replace(/ $/,"%20"),at(G,`No window.location.(origin|href) available to create URL for href: ${te}`),new URL(te,G)}let $={get action(){return m},get location(){return r(o,f)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Ev,b),p=q,()=>{o.removeEventListener(Ev,b),p=null}},createHref(q){return e(o,q)},createURL:M,encodeLocation(q){let G=M(q);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:R,replace:D,go(q){return f.go(q)}};return $}function tT(r,e,n="/"){return qb(r,e,n,!1)}function qb(r,e,n,s){let o=typeof e=="string"?xo(e):e,u=dr(o.pathname||"/",n);if(u==null)return null;let f=nT(r);Hb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=eA(u);m=Zb(f[p],g,s)}return m}function nT(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(at(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=cr([s,p.relativePath]),T=n.concat(p);u.children&&u.children.length>0&&(at(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),nT(u.children,e,T,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:Xb(g,u.index),routesMeta:T})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of iT(u.path))o(u,f,p)}),e}function iT(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=iT(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Hb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Wb(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Fb=/^:[\w-]+$/,Gb=3,$b=2,Kb=1,Qb=10,Yb=-2,wv=r=>r==="*";function Xb(r,e){let n=r.split("/"),s=n.length;return n.some(wv)&&(s+=Yb),e&&(s+=$b),n.filter(o=>!wv(o)).reduce((o,u)=>o+(Fb.test(u)?Gb:u===""?Kb:Qb),s)}function Wb(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Zb(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",b=yh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},T),R=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=yh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:cr([u,b.pathname]),pathnameBase:rA(cr([u,b.pathnameBase])),route:R}),b.pathnameBase!=="/"&&(u=cr([u,b.pathnameBase]))}return f}function yh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=Jb(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:T,isOptional:b},R)=>{if(T==="*"){let M=m[R]||"";f=u.slice(0,u.length-M.length).replace(/(.)\/+$/,"$1")}const D=m[R];return b&&!D?g[T]=void 0:g[T]=(D||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function Jb(r,e=!1,n=!0){Ni(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function eA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ni(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function dr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function tA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?xo(r):r;return{pathname:n?n.startsWith("/")?n:nA(n,e):e,search:sA(s),hash:aA(o)}}function nA(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function gm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function rT(r){let e=iA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function sT(r,e,n,s=!1){let o;typeof r=="string"?o=xo(r):(o={...r},at(!o.pathname||!o.pathname.includes("?"),gm("?","pathname","search",o)),at(!o.pathname||!o.pathname.includes("#"),gm("#","pathname","hash",o)),at(!o.search||!o.search.includes("#"),gm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),b-=1;o.pathname=R.join("/")}m=b>=0?e[b]:"/"}let p=tA(o,m),g=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||T)&&(p.pathname+="/"),p}var cr=r=>r.join("/").replace(/\/\/+/g,"/"),rA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),sA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,aA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function oA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var aT=["POST","PUT","PATCH","DELETE"];new Set(aT);var lA=["GET",...aT];new Set(lA);var No=j.createContext(null);No.displayName="DataRouter";var Uh=j.createContext(null);Uh.displayName="DataRouterState";var oT=j.createContext({isTransitioning:!1});oT.displayName="ViewTransition";var uA=j.createContext(new Map);uA.displayName="Fetchers";var cA=j.createContext(null);cA.displayName="Await";var Oi=j.createContext(null);Oi.displayName="Navigation";var pu=j.createContext(null);pu.displayName="Location";var Mi=j.createContext({outlet:null,matches:[],isDataRoute:!1});Mi.displayName="Route";var ap=j.createContext(null);ap.displayName="RouteError";function hA(r,{relative:e}={}){at(gu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=j.useContext(Oi),{hash:o,pathname:u,search:f}=_u(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:cr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function gu(){return j.useContext(pu)!=null}function yr(){return at(gu(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(pu).location}var lT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function uT(r){j.useContext(Oi).static||j.useLayoutEffect(r)}function Wn(){let{isDataRoute:r}=j.useContext(Mi);return r?RA():fA()}function fA(){at(gu(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(No),{basename:e,navigator:n}=j.useContext(Oi),{matches:s}=j.useContext(Mi),{pathname:o}=yr(),u=JSON.stringify(rT(s)),f=j.useRef(!1);return uT(()=>{f.current=!0}),j.useCallback((p,g={})=>{if(Ni(f.current,lT),!f.current)return;if(typeof p=="number"){n.go(p);return}let T=sT(p,JSON.parse(u),o,g.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:cr([e,T.pathname])),(g.replace?n.replace:n.push)(T,g.state,g)},[e,n,u,o,r])}var cT=j.createContext(null);function dA(){return j.useContext(cT)}function mA(r){let e=j.useContext(Mi).outlet;return e&&j.createElement(cT.Provider,{value:r},e)}function _u(r,{relative:e}={}){let{matches:n}=j.useContext(Mi),{pathname:s}=yr(),o=JSON.stringify(rT(n));return j.useMemo(()=>sT(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function pA(r,e){return hT(r,e)}function hT(r,e,n,s){var te;at(gu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=j.useContext(Oi),{matches:f}=j.useContext(Mi),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",T=m?m.pathnameBase:"/",b=m&&m.route;{let ee=b&&b.path||"";fT(g,!b||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let R=yr(),D;if(e){let ee=typeof e=="string"?xo(e):e;at(T==="/"||((te=ee.pathname)==null?void 0:te.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),D=ee}else D=R;let M=D.pathname||"/",$=M;if(T!=="/"){let ee=T.replace(/^\//,"").split("/");$="/"+M.replace(/^\//,"").split("/").slice(ee.length).join("/")}let q=!u&&n&&n.matches&&n.matches.length>0?n.matches:tT(r,{pathname:$});Ni(b||q!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),Ni(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=EA(q&&q.map(ee=>Object.assign({},ee,{params:Object.assign({},p,ee.params),pathname:cr([T,o.encodeLocation?o.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?T:cr([T,o.encodeLocation?o.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),f,n,s);return e&&G?j.createElement(pu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},G):G}function gA(){let r=AA(),e=oA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=j.createElement(j.Fragment,null,j.createElement("p",null,"💿 Hey developer 👋"),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:u},"ErrorBoundary")," or"," ",j.createElement("code",{style:u},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:o},n):null,f)}var _A=j.createElement(gA,null),yA=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?j.createElement(Mi.Provider,{value:this.props.routeContext},j.createElement(ap.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vA({routeContext:r,match:e,children:n}){let s=j.useContext(No);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Mi.Provider,{value:r},n)}function EA(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);at(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:T,errors:b}=n,R=g.route.loader&&!T.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||R){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,T)=>{let b,R=!1,D=null,M=null;n&&(b=u&&g.route.id?u[g.route.id]:void 0,D=g.route.errorElement||_A,f&&(m<0&&T===0?(fT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,M=null):m===T&&(R=!0,M=g.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,T+1)),q=()=>{let G;return b?G=D:R?G=M:g.route.Component?G=j.createElement(g.route.Component,null):g.route.element?G=g.route.element:G=p,j.createElement(vA,{match:g,routeContext:{outlet:p,matches:$,isDataRoute:n!=null},children:G})};return n&&(g.route.ErrorBoundary||g.route.errorElement||T===0)?j.createElement(yA,{location:n.location,revalidation:n.revalidation,component:D,error:b,children:q(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):q()},null)}function op(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TA(r){let e=j.useContext(No);return at(e,op(r)),e}function wA(r){let e=j.useContext(Uh);return at(e,op(r)),e}function SA(r){let e=j.useContext(Mi);return at(e,op(r)),e}function lp(r){let e=SA(r),n=e.matches[e.matches.length-1];return at(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function bA(){return lp("useRouteId")}function AA(){var s;let r=j.useContext(ap),e=wA("useRouteError"),n=lp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function RA(){let{router:r}=TA("useNavigate"),e=lp("useNavigate"),n=j.useRef(!1);return uT(()=>{n.current=!0}),j.useCallback(async(o,u={})=>{Ni(n.current,lT),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var Sv={};function fT(r,e,n){!e&&!Sv[r]&&(Sv[r]=!0,Ni(!1,n))}j.memo(IA);function IA({routes:r,future:e,state:n}){return hT(r,void 0,n,e)}function CA(r){return mA(r.context)}function mn(r){at(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){at(!gu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=j.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=xo(n));let{pathname:p="/",search:g="",hash:T="",state:b=null,key:R="default"}=n,D=j.useMemo(()=>{let M=dr(p,f);return M==null?null:{location:{pathname:M,search:g,hash:T,state:b,key:R},navigationType:s}},[f,p,g,T,b,R,s]);return Ni(D!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${T}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:j.createElement(Oi.Provider,{value:m},j.createElement(pu.Provider,{children:e,value:D}))}function NA({children:r,location:e}){return pA(Dm(r),e)}function Dm(r,e=[]){let n=[];return j.Children.forEach(r,(s,o)=>{if(!j.isValidElement(s))return;let u=[...e,o];if(s.type===j.Fragment){n.push.apply(n,Dm(s.props.children,u));return}at(s.type===mn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),at(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Dm(s.props.children,u)),n.push(f)}),n}var ah="get",oh="application/x-www-form-urlencoded";function zh(r){return r!=null&&typeof r.tagName=="string"}function DA(r){return zh(r)&&r.tagName.toLowerCase()==="button"}function OA(r){return zh(r)&&r.tagName.toLowerCase()==="form"}function MA(r){return zh(r)&&r.tagName.toLowerCase()==="input"}function PA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function kA(r,e){return r.button===0&&(!e||e==="_self")&&!PA(r)}var Zc=null;function VA(){if(Zc===null)try{new FormData(document.createElement("form"),0),Zc=!1}catch{Zc=!0}return Zc}var jA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _m(r){return r!=null&&!jA.has(r)?(Ni(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${oh}"`),null):r}function LA(r,e){let n,s,o,u,f;if(OA(r)){let m=r.getAttribute("action");s=m?dr(m,e):null,n=r.getAttribute("method")||ah,o=_m(r.getAttribute("enctype"))||oh,u=new FormData(r)}else if(DA(r)||MA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?dr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||ah,o=_m(r.getAttribute("formenctype"))||_m(m.getAttribute("enctype"))||oh,u=new FormData(m,r),!VA()){let{name:g,type:T,value:b}=r;if(T==="image"){let R=g?`${g}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else g&&u.append(g,b)}}else{if(zh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ah,s=null,o=oh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function up(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function UA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function BA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await UA(u,n);return f.links?f.links():[]}return[]}));return GA(s.flat(1).filter(zA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function bv(r,e,n,s,o,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>{var T;return n[g].pathname!==p.pathname||((T=n[g].route.path)==null?void 0:T.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{var b;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function qA(r,e,{includeHydrateFallback:n}={}){return HA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function HA(r){return[...new Set(r)]}function FA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function GA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(FA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function $A(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&dr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function dT(){let r=j.useContext(No);return up(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function KA(){let r=j.useContext(Uh);return up(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var cp=j.createContext(void 0);cp.displayName="FrameworkContext";function mT(){let r=j.useContext(cp);return up(r,"You must render this element inside a <HydratedRouter> element"),r}function QA(r,e){let n=j.useContext(cp),[s,o]=j.useState(!1),[u,f]=j.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:T,onTouchStart:b}=e,R=j.useRef(null);j.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=G=>{G.forEach(te=>{f(te.isIntersecting)})},q=new IntersectionObserver($,{threshold:.5});return R.current&&q.observe(R.current),()=>{q.disconnect()}}},[r]),j.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let D=()=>{o(!0)},M=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:Kl(m,D),onBlur:Kl(p,M),onMouseEnter:Kl(g,D),onMouseLeave:Kl(T,M),onTouchStart:Kl(b,D)}]:[!1,R,{}]}function Kl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function YA({page:r,...e}){let{router:n}=dT(),s=j.useMemo(()=>tT(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?j.createElement(WA,{page:r,matches:s,...e}):null}function XA(r){let{manifest:e,routeModules:n}=mT(),[s,o]=j.useState([]);return j.useEffect(()=>{let u=!1;return BA(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function WA({page:r,matches:e,...n}){let s=yr(),{manifest:o,routeModules:u}=mT(),{basename:f}=dT(),{loaderData:m,matches:p}=KA(),g=j.useMemo(()=>bv(r,e,p,o,s,"data"),[r,e,p,o,s]),T=j.useMemo(()=>bv(r,e,p,o,s,"assets"),[r,e,p,o,s]),b=j.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let M=new Set,$=!1;if(e.forEach(G=>{var ee;let te=o.routes[G.route.id];!te||!te.hasLoader||(!g.some(ce=>ce.route.id===G.route.id)&&G.route.id in m&&((ee=u[G.route.id])!=null&&ee.shouldRevalidate)||te.hasClientLoader?$=!0:M.add(G.route.id))}),M.size===0)return[];let q=$A(r,f);return $&&M.size>0&&q.searchParams.set("_routes",e.filter(G=>M.has(G.route.id)).map(G=>G.route.id).join(",")),[q.pathname+q.search]},[f,m,s,o,g,e,r,u]),R=j.useMemo(()=>qA(T,o),[T,o]),D=XA(T);return j.createElement(j.Fragment,null,b.map(M=>j.createElement("link",{key:M,rel:"prefetch",as:"fetch",href:M,...n})),R.map(M=>j.createElement("link",{key:M,rel:"modulepreload",href:M,...n})),D.map(({key:M,link:$})=>j.createElement("link",{key:M,...$})))}function ZA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var pT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{pT&&(window.__reactRouterVersion="7.3.0")}catch{}function JA({basename:r,children:e,window:n}){let s=j.useRef();s.current==null&&(s.current=Ub({window:n,v5Compat:!0}));let o=s.current,[u,f]=j.useState({action:o.action,location:o.location}),m=j.useCallback(p=>{j.startTransition(()=>f(p))},[f]);return j.useLayoutEffect(()=>o.listen(m),[o,m]),j.createElement(xA,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var gT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ve=j.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:T,viewTransition:b,...R},D){let{basename:M}=j.useContext(Oi),$=typeof g=="string"&&gT.test(g),q,G=!1;if(typeof g=="string"&&$&&(q=g,pT))try{let A=new URL(window.location.href),x=g.startsWith("//")?new URL(A.protocol+g):new URL(g),k=dr(x.pathname,M);x.origin===A.origin&&k!=null?g=k+x.search+x.hash:G=!0}catch{Ni(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=hA(g,{relative:o}),[ee,ce,ie]=QA(s,R),ae=iR(g,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:b});function O(A){e&&e(A),A.defaultPrevented||ae(A)}let I=j.createElement("a",{...R,...ie,href:q||te,onClick:G||u?e:O,ref:ZA(D,ce),target:p,"data-discover":!$&&n==="render"?"true":void 0});return ee&&!$?j.createElement(j.Fragment,null,I,j.createElement(YA,{page:te})):I});ve.displayName="Link";var eR=j.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,...g},T){let b=_u(f,{relative:g.relative}),R=yr(),D=j.useContext(Uh),{navigator:M,basename:$}=j.useContext(Oi),q=D!=null&&lR(b)&&m===!0,G=M.encodeLocation?M.encodeLocation(b).pathname:b.pathname,te=R.pathname,ee=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(te=te.toLowerCase(),ee=ee?ee.toLowerCase():null,G=G.toLowerCase()),ee&&$&&(ee=dr(ee,$)||ee);const ce=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let ie=te===G||!o&&te.startsWith(G)&&te.charAt(ce)==="/",ae=ee!=null&&(ee===G||!o&&ee.startsWith(G)&&ee.charAt(G.length)==="/"),O={isActive:ie,isPending:ae,isTransitioning:q},I=ie?e:void 0,A;typeof s=="function"?A=s(O):A=[s,ie?"active":null,ae?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(O):u;return j.createElement(ve,{...g,"aria-current":I,className:A,ref:T,style:x,to:f,viewTransition:m},typeof p=="function"?p(O):p)});eR.displayName="NavLink";var tR=j.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=ah,action:m,onSubmit:p,relative:g,preventScrollReset:T,viewTransition:b,...R},D)=>{let M=aR(),$=oR(m,{relative:g}),q=f.toLowerCase()==="get"?"get":"post",G=typeof m=="string"&&gT.test(m),te=ee=>{if(p&&p(ee),ee.defaultPrevented)return;ee.preventDefault();let ce=ee.nativeEvent.submitter,ie=(ce==null?void 0:ce.getAttribute("formmethod"))||f;M(ce||ee.currentTarget,{fetcherKey:e,method:ie,navigate:n,replace:o,state:u,relative:g,preventScrollReset:T,viewTransition:b})};return j.createElement("form",{ref:D,method:q,action:$,onSubmit:s?p:te,...R,"data-discover":!G&&r==="render"?"true":void 0})});tR.displayName="Form";function nR(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _T(r){let e=j.useContext(No);return at(e,nR(r)),e}function iR(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=Wn(),p=yr(),g=_u(r,{relative:u});return j.useCallback(T=>{if(kA(T,e)){T.preventDefault();let b=n!==void 0?n:su(p)===su(g);m(r,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,g,n,s,e,r,o,u,f])}var rR=0,sR=()=>`__${String(++rR)}__`;function aR(){let{router:r}=_T("useSubmit"),{basename:e}=j.useContext(Oi),n=bA();return j.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=LA(s,e);if(o.navigate===!1){let T=o.fetcherKey||sR();await r.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function oR(r,{relative:e}={}){let{basename:n}=j.useContext(Oi),s=j.useContext(Mi);at(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={..._u(r||".",{relative:e})},f=yr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:cr([n,u.pathname])),su(u)}function lR(r,e={}){let n=j.useContext(oT);at(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=_T("useViewTransitionState"),o=_u(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=dr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=dr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return yh(o.pathname,f)!=null||yh(o.pathname,u)!=null}new TextEncoder;const uR="_container_pir9d_11",cR="_main_pir9d_29",hR="_logo_pir9d_43",fR="_h2_pir9d_51",dR="_happening_pir9d_61",mR="_nav_pir9d_73",pR="_button_pir9d_87",gR="_awesome_pir9d_123",_R="_separator_pir9d_229",yR="_hr_pir9d_251",vR="_terms_pir9d_259",ER="_ul_pir9d_277",TR="_li_pir9d_303",wR="_flexli_pir9d_311",Me={container:uR,main:cR,logo:hR,h2:fR,happening:dR,nav:mR,button:pR,awesome:gR,separator:_R,hr:yR,terms:vR,ul:ER,li:TR,flexli:wR},vr=j.createContext();function SR({children:r}){const[e,n]=j.useState({name:"",email:"",password:"",birthday:{month:"",day:"",year:""},checkbox:{getMore:"",connectWith:"",peronalizedAds:"",noThanks:""},bio:"",updateHistory:[],profileImg:"",profileImgID:"",wallImg:"",wallImgId:""}),s=u=>{n(f=>({...f,...u}))},o=()=>{n({name:"",email:"",password:"",birthday:{month:"",day:"",year:""},checkbox:{getMore:"",connectWith:"",peronalizedAds:"",noThanks:""}})};return y.jsx(vr.Provider,{value:{formData:e,updateForm:s,resetFormData:o},children:r})}function bR(){const{resetFormData:r}=j.useContext(vr);return j.useEffect(()=>(r(),()=>{console.log("Front page unmounted")}),[]),y.jsxs("div",{className:Me.container,children:[y.jsxs("main",{className:Me.main,children:[y.jsx("h1",{className:Me.logo,children:"At"}),y.jsxs("div",{children:[y.jsx("h1",{className:Me.happening,children:"Happening now"}),y.jsx("h2",{className:Me.h2,children:"Join Today."}),y.jsxs("nav",{className:Me.nav,children:[y.jsxs(ve,{to:"/react-regular-exam/about",className:`${Me.button} ${Me.awesome}`,children:[y.jsx("i",{className:"fa-brands fa-google"}),"Sign up with Google"]}),y.jsxs(ve,{to:"/react-regular-exam/about",className:`${Me.button} ${Me.awesome}`,children:[y.jsx("i",{className:"fa-brands fa-apple"}),"Sign up with Apple"]}),y.jsxs("div",{className:Me.separator,children:[y.jsx("hr",{className:Me.hr}),y.jsx("p",{children:"or"}),y.jsx("hr",{className:Me.hr})]}),y.jsx(ve,{to:"/react-regular-exam/create",className:Me.button,children:"Create account"}),y.jsxs("p",{className:Me.terms,children:["By signing up, you agree of the ",y.jsx(ve,{to:"/react-regular-exam/about",children:"Term of Service"}),"and ",y.jsx(ve,{to:"/react-regular-exam/about",children:"Privacy Policy"}),", incliding ",y.jsx(ve,{to:"/react-regular-exam/about",children:"Cookie Use."})]}),y.jsx("p",{id:"account",children:"Already have an account?"}),y.jsx(ve,{to:"/react-regular-exam/login",className:Me.button,children:"Sign in"}),y.jsx("p",{children:"Take a look:"}),y.jsx(ve,{to:"/react-regular-exam/guest",className:Me.button,children:"Guest"})]})]})]}),y.jsx("footer",{children:y.jsxs("ul",{className:Me.ul,children:[y.jsx("li",{className:Me.li,children:y.jsx(ve,{to:"/react-regular-exam/about",children:"About"})}),y.jsx("li",{className:Me.li,children:y.jsx(ve,{to:"/react-regular-exam/about",children:"Download the At app"})}),y.jsx("li",{className:Me.li,children:y.jsx(ve,{to:"/react-regular-exam/about",children:"Help Center"})}),y.jsx("li",{className:Me.li,children:y.jsx(ve,{to:"/react-regular-exam/about",children:"Terms of Service"})}),y.jsx("li",{className:Me.li,children:y.jsx(ve,{to:"/react-regular-exam/about",children:"Privacy Policy"})}),y.jsx("li",{className:Me.li,children:y.jsx(ve,{to:"/react-regular-exam/about",children:"Cookie Policy"})}),y.jsx("li",{className:Me.li,children:y.jsx(ve,{to:"/react-regular-exam/about",children:"Accessibillity"})}),y.jsx("li",{className:Me.li,children:y.jsx(ve,{to:"/react-regular-exam/about",children:"Ads Info"})}),y.jsx("li",{className:Me.li,children:y.jsx(ve,{to:"/react-regular-exam/about",children:"Blog"})}),y.jsx("li",{className:Me.li,children:y.jsx(ve,{to:"/react-regular-exam/about",children:"Careers"})}),y.jsx("li",{className:Me.li,children:y.jsx(ve,{to:"/react-regular-exam/about",children:"Brand Resources"})}),y.jsx("li",{className:Me.li,children:y.jsx(ve,{to:"/react-regular-exam/about",children:"Advertising"})}),y.jsx("li",{className:Me.li,children:y.jsx(ve,{to:"/react-regular-exam/about",children:"Marketing"})}),y.jsx("li",{className:Me.li,children:y.jsx(ve,{to:"/react-regular-exam/about",children:"At for Business"})}),y.jsx("li",{className:Me.li,children:y.jsx(ve,{to:"/react-regular-exam/about",children:"Developers"})}),y.jsx("li",{className:Me.li,children:y.jsx(ve,{to:"/react-regular-exam/about",children:"Directory"})}),y.jsx("li",{className:Me.li,children:y.jsx(ve,{to:"/react-regular-exam/about",children:"Settings"})}),y.jsx("li",{className:Me.li,children:y.jsxs(ve,{to:"/react-regular-exam/about",className:Me.flexli,href:"#",children:[y.jsx("i",{className:"fa-regular fa-copyright"}),"2025 X Corp"]})})]})})]})}const AR="_container_92bmx_1",RR="_nav_92bmx_15",IR="_i_92bmx_25",CR="_main_92bmx_125",xR="_search_92bmx_143",NR="_meta_92bmx_181",DR="_post_92bmx_211",OR="_feedback_92bmx_249",ri={container:AR,nav:RR,i:IR,main:CR,search:xR,meta:NR,post:DR,feedback:OR},MR=()=>{};var Av={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},PR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},vT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,g=p?r[o+2]:0,T=u>>2,b=(u&3)<<4|m>>4;let R=(m&15)<<2|g>>6,D=g&63;p||(D=64,f||(R=64)),s.push(n[T],n[b],n[R],n[D])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(yT(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):PR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const g=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new kR;const R=u<<2|m>>4;if(s.push(R),g!==64){const D=m<<4&240|g>>2;if(s.push(D),b!==64){const M=g<<6&192|b;s.push(M)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class kR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const VR=function(r){const e=yT(r);return vT.encodeByteArray(e,!0)},vh=function(r){return VR(r).replace(/\./g,"")},ET=function(r){try{return vT.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR=()=>jR().__FIREBASE_DEFAULTS__,UR=()=>{if(typeof process>"u"||typeof Av>"u")return;const r=Av.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},zR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&ET(r[1]);return e&&JSON.parse(e)},Bh=()=>{try{return MR()||LR()||UR()||zR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},TT=r=>{var e,n;return(n=(e=Bh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},BR=r=>{const e=TT(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},wT=()=>{var r;return(r=Bh())===null||r===void 0?void 0:r.config},ST=r=>{var e;return(e=Bh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[vh(JSON.stringify(n)),vh(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function FR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(sn())}function GR(){var r;const e=(r=Bh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $R(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function KR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function QR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YR(){const r=sn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function XR(){return!GR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WR(){try{return typeof indexedDB=="object"}catch{return!1}}function ZR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="FirebaseError";class Er extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=JR,Object.setPrototypeOf(this,Er.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yu.prototype.create)}}class yu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?e1(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new Er(o,m,s)}}function e1(r,e){return r.replace(t1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const t1=/\{\$([^}]+)}/g;function n1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function _s(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(Rv(u)&&Rv(f)){if(!_s(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function Rv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Ql(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Yl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function i1(r,e){const n=new r1(r,e);return n.subscribe.bind(n)}class r1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");s1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=ym),o.error===void 0&&(o.error=ym),o.complete===void 0&&(o.complete=ym);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s1(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function ym(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(r){return r&&r._delegate?r._delegate:r}class ua{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new qR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(l1(e))try{this.getOrInitializeService({instanceIdentifier:oa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=oa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=oa){return this.instances.has(e)}getOptions(e=oa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:o1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=oa){return this.component?this.component.multipleInstances?e:oa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function o1(r){return r===oa?void 0:r}function l1(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new a1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Pe||(Pe={}));const c1={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},h1=Pe.INFO,f1={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},d1=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=f1[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class hp{constructor(e){this.name=e,this._logLevel=h1,this._logHandler=d1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const m1=(r,e)=>e.some(n=>r instanceof n);let Iv,Cv;function p1(){return Iv||(Iv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g1(){return Cv||(Cv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bT=new WeakMap,Om=new WeakMap,AT=new WeakMap,vm=new WeakMap,fp=new WeakMap;function _1(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(fs(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&bT.set(n,r)}).catch(()=>{}),fp.set(e,r),e}function y1(r){if(Om.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Om.set(r,e)}let Mm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Om.get(r);if(e==="objectStoreNames")return r.objectStoreNames||AT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function v1(r){Mm=r(Mm)}function E1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Em(this),e,...n);return AT.set(s,e.sort?e.sort():[e]),fs(s)}:g1().includes(r)?function(...e){return r.apply(Em(this),e),fs(bT.get(this))}:function(...e){return fs(r.apply(Em(this),e))}}function T1(r){return typeof r=="function"?E1(r):(r instanceof IDBTransaction&&y1(r),m1(r,p1())?new Proxy(r,Mm):r)}function fs(r){if(r instanceof IDBRequest)return _1(r);if(vm.has(r))return vm.get(r);const e=T1(r);return e!==r&&(vm.set(r,e),fp.set(e,r)),e}const Em=r=>fp.get(r);function w1(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=fs(f);return s&&f.addEventListener("upgradeneeded",p=>{s(fs(f.result),p.oldVersion,p.newVersion,fs(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const S1=["get","getKey","getAll","getAllKeys","count"],b1=["put","add","delete","clear"],Tm=new Map;function xv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Tm.get(e))return Tm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=b1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||S1.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Tm.set(e,u),u}v1(r=>({...r,get:(e,n,s)=>xv(e,n)||r.get(e,n,s),has:(e,n)=>!!xv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(R1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function R1(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Pm="@firebase/app",Nv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new hp("@firebase/app"),I1="@firebase/app-compat",C1="@firebase/analytics-compat",x1="@firebase/analytics",N1="@firebase/app-check-compat",D1="@firebase/app-check",O1="@firebase/auth",M1="@firebase/auth-compat",P1="@firebase/database",k1="@firebase/data-connect",V1="@firebase/database-compat",j1="@firebase/functions",L1="@firebase/functions-compat",U1="@firebase/installations",z1="@firebase/installations-compat",B1="@firebase/messaging",q1="@firebase/messaging-compat",H1="@firebase/performance",F1="@firebase/performance-compat",G1="@firebase/remote-config",$1="@firebase/remote-config-compat",K1="@firebase/storage",Q1="@firebase/storage-compat",Y1="@firebase/firestore",X1="@firebase/vertexai",W1="@firebase/firestore-compat",Z1="firebase",J1="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="[DEFAULT]",eI={[Pm]:"fire-core",[I1]:"fire-core-compat",[x1]:"fire-analytics",[C1]:"fire-analytics-compat",[D1]:"fire-app-check",[N1]:"fire-app-check-compat",[O1]:"fire-auth",[M1]:"fire-auth-compat",[P1]:"fire-rtdb",[k1]:"fire-data-connect",[V1]:"fire-rtdb-compat",[j1]:"fire-fn",[L1]:"fire-fn-compat",[U1]:"fire-iid",[z1]:"fire-iid-compat",[B1]:"fire-fcm",[q1]:"fire-fcm-compat",[H1]:"fire-perf",[F1]:"fire-perf-compat",[G1]:"fire-rc",[$1]:"fire-rc-compat",[K1]:"fire-gcs",[Q1]:"fire-gcs-compat",[Y1]:"fire-fst",[W1]:"fire-fst-compat",[X1]:"fire-vertex","fire-js":"fire-js",[Z1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new Map,tI=new Map,Vm=new Map;function Dv(r,e){try{r.container.addComponent(e)}catch(n){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Eo(r){const e=r.name;if(Vm.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;Vm.set(e,r);for(const n of Eh.values())Dv(n,r);for(const n of tI.values())Dv(n,r);return!0}function dp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Yn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ds=new yu("app","Firebase",nI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=J1;function RT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:km,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw ds.create("bad-app-name",{appName:String(o)});if(n||(n=wT()),!n)throw ds.create("no-options");const u=Eh.get(o);if(u){if(_s(n,u.options)&&_s(s,u.config))return u;throw ds.create("duplicate-app",{appName:o})}const f=new u1(o);for(const p of Vm.values())f.addComponent(p);const m=new iI(n,s,f);return Eh.set(o,m),m}function IT(r=km){const e=Eh.get(r);if(!e&&r===km&&wT())return RT();if(!e)throw ds.create("no-app",{appName:r});return e}function ms(r,e,n){var s;let o=(s=eI[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(m.join(" "));return}Eo(new ua(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rI="firebase-heartbeat-database",sI=1,au="firebase-heartbeat-store";let wm=null;function CT(){return wm||(wm=w1(rI,sI,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(au)}catch(n){console.warn(n)}}}}).catch(r=>{throw ds.create("idb-open",{originalErrorMessage:r.message})})),wm}async function aI(r){try{const n=(await CT()).transaction(au),s=await n.objectStore(au).get(xT(r));return await n.done,s}catch(e){if(e instanceof Er)mr.warn(e.message);else{const n=ds.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mr.warn(n.message)}}}async function Ov(r,e){try{const s=(await CT()).transaction(au,"readwrite");await s.objectStore(au).put(e,xT(r)),await s.done}catch(n){if(n instanceof Er)mr.warn(n.message);else{const s=ds.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mr.warn(s.message)}}}function xT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI=1024,lI=30;class uI{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=Mv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>lI){const f=fI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){mr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Mv(),{heartbeatsToSend:s,unsentEntries:o}=cI(this._heartbeatsCache.heartbeats),u=vh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return mr.warn(n),""}}}function Mv(){return new Date().toISOString().substring(0,10)}function cI(r,e=oI){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Pv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Pv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class hI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WR()?ZR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await aI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ov(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Ov(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Pv(r){return vh(JSON.stringify({version:2,heartbeats:r})).length}function fI(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dI(r){Eo(new ua("platform-logger",e=>new A1(e),"PRIVATE")),Eo(new ua("heartbeat",e=>new uI(e),"PRIVATE")),ms(Pm,Nv,r),ms(Pm,Nv,"esm2017"),ms("fire-js","")}dI("");var kv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ps,NT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(O,I){function A(){}A.prototype=I.prototype,O.D=I.prototype,O.prototype=new A,O.prototype.constructor=O,O.C=function(x,k,z){for(var N=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)N[mt-2]=arguments[mt];return I.prototype[k].apply(x,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(O,I,A){A||(A=0);var x=Array(16);if(typeof I=="string")for(var k=0;16>k;++k)x[k]=I.charCodeAt(A++)|I.charCodeAt(A++)<<8|I.charCodeAt(A++)<<16|I.charCodeAt(A++)<<24;else for(k=0;16>k;++k)x[k]=I[A++]|I[A++]<<8|I[A++]<<16|I[A++]<<24;I=O.g[0],A=O.g[1],k=O.g[2];var z=O.g[3],N=I+(z^A&(k^z))+x[0]+3614090360&4294967295;I=A+(N<<7&4294967295|N>>>25),N=z+(k^I&(A^k))+x[1]+3905402710&4294967295,z=I+(N<<12&4294967295|N>>>20),N=k+(A^z&(I^A))+x[2]+606105819&4294967295,k=z+(N<<17&4294967295|N>>>15),N=A+(I^k&(z^I))+x[3]+3250441966&4294967295,A=k+(N<<22&4294967295|N>>>10),N=I+(z^A&(k^z))+x[4]+4118548399&4294967295,I=A+(N<<7&4294967295|N>>>25),N=z+(k^I&(A^k))+x[5]+1200080426&4294967295,z=I+(N<<12&4294967295|N>>>20),N=k+(A^z&(I^A))+x[6]+2821735955&4294967295,k=z+(N<<17&4294967295|N>>>15),N=A+(I^k&(z^I))+x[7]+4249261313&4294967295,A=k+(N<<22&4294967295|N>>>10),N=I+(z^A&(k^z))+x[8]+1770035416&4294967295,I=A+(N<<7&4294967295|N>>>25),N=z+(k^I&(A^k))+x[9]+2336552879&4294967295,z=I+(N<<12&4294967295|N>>>20),N=k+(A^z&(I^A))+x[10]+4294925233&4294967295,k=z+(N<<17&4294967295|N>>>15),N=A+(I^k&(z^I))+x[11]+2304563134&4294967295,A=k+(N<<22&4294967295|N>>>10),N=I+(z^A&(k^z))+x[12]+1804603682&4294967295,I=A+(N<<7&4294967295|N>>>25),N=z+(k^I&(A^k))+x[13]+4254626195&4294967295,z=I+(N<<12&4294967295|N>>>20),N=k+(A^z&(I^A))+x[14]+2792965006&4294967295,k=z+(N<<17&4294967295|N>>>15),N=A+(I^k&(z^I))+x[15]+1236535329&4294967295,A=k+(N<<22&4294967295|N>>>10),N=I+(k^z&(A^k))+x[1]+4129170786&4294967295,I=A+(N<<5&4294967295|N>>>27),N=z+(A^k&(I^A))+x[6]+3225465664&4294967295,z=I+(N<<9&4294967295|N>>>23),N=k+(I^A&(z^I))+x[11]+643717713&4294967295,k=z+(N<<14&4294967295|N>>>18),N=A+(z^I&(k^z))+x[0]+3921069994&4294967295,A=k+(N<<20&4294967295|N>>>12),N=I+(k^z&(A^k))+x[5]+3593408605&4294967295,I=A+(N<<5&4294967295|N>>>27),N=z+(A^k&(I^A))+x[10]+38016083&4294967295,z=I+(N<<9&4294967295|N>>>23),N=k+(I^A&(z^I))+x[15]+3634488961&4294967295,k=z+(N<<14&4294967295|N>>>18),N=A+(z^I&(k^z))+x[4]+3889429448&4294967295,A=k+(N<<20&4294967295|N>>>12),N=I+(k^z&(A^k))+x[9]+568446438&4294967295,I=A+(N<<5&4294967295|N>>>27),N=z+(A^k&(I^A))+x[14]+3275163606&4294967295,z=I+(N<<9&4294967295|N>>>23),N=k+(I^A&(z^I))+x[3]+4107603335&4294967295,k=z+(N<<14&4294967295|N>>>18),N=A+(z^I&(k^z))+x[8]+1163531501&4294967295,A=k+(N<<20&4294967295|N>>>12),N=I+(k^z&(A^k))+x[13]+2850285829&4294967295,I=A+(N<<5&4294967295|N>>>27),N=z+(A^k&(I^A))+x[2]+4243563512&4294967295,z=I+(N<<9&4294967295|N>>>23),N=k+(I^A&(z^I))+x[7]+1735328473&4294967295,k=z+(N<<14&4294967295|N>>>18),N=A+(z^I&(k^z))+x[12]+2368359562&4294967295,A=k+(N<<20&4294967295|N>>>12),N=I+(A^k^z)+x[5]+4294588738&4294967295,I=A+(N<<4&4294967295|N>>>28),N=z+(I^A^k)+x[8]+2272392833&4294967295,z=I+(N<<11&4294967295|N>>>21),N=k+(z^I^A)+x[11]+1839030562&4294967295,k=z+(N<<16&4294967295|N>>>16),N=A+(k^z^I)+x[14]+4259657740&4294967295,A=k+(N<<23&4294967295|N>>>9),N=I+(A^k^z)+x[1]+2763975236&4294967295,I=A+(N<<4&4294967295|N>>>28),N=z+(I^A^k)+x[4]+1272893353&4294967295,z=I+(N<<11&4294967295|N>>>21),N=k+(z^I^A)+x[7]+4139469664&4294967295,k=z+(N<<16&4294967295|N>>>16),N=A+(k^z^I)+x[10]+3200236656&4294967295,A=k+(N<<23&4294967295|N>>>9),N=I+(A^k^z)+x[13]+681279174&4294967295,I=A+(N<<4&4294967295|N>>>28),N=z+(I^A^k)+x[0]+3936430074&4294967295,z=I+(N<<11&4294967295|N>>>21),N=k+(z^I^A)+x[3]+3572445317&4294967295,k=z+(N<<16&4294967295|N>>>16),N=A+(k^z^I)+x[6]+76029189&4294967295,A=k+(N<<23&4294967295|N>>>9),N=I+(A^k^z)+x[9]+3654602809&4294967295,I=A+(N<<4&4294967295|N>>>28),N=z+(I^A^k)+x[12]+3873151461&4294967295,z=I+(N<<11&4294967295|N>>>21),N=k+(z^I^A)+x[15]+530742520&4294967295,k=z+(N<<16&4294967295|N>>>16),N=A+(k^z^I)+x[2]+3299628645&4294967295,A=k+(N<<23&4294967295|N>>>9),N=I+(k^(A|~z))+x[0]+4096336452&4294967295,I=A+(N<<6&4294967295|N>>>26),N=z+(A^(I|~k))+x[7]+1126891415&4294967295,z=I+(N<<10&4294967295|N>>>22),N=k+(I^(z|~A))+x[14]+2878612391&4294967295,k=z+(N<<15&4294967295|N>>>17),N=A+(z^(k|~I))+x[5]+4237533241&4294967295,A=k+(N<<21&4294967295|N>>>11),N=I+(k^(A|~z))+x[12]+1700485571&4294967295,I=A+(N<<6&4294967295|N>>>26),N=z+(A^(I|~k))+x[3]+2399980690&4294967295,z=I+(N<<10&4294967295|N>>>22),N=k+(I^(z|~A))+x[10]+4293915773&4294967295,k=z+(N<<15&4294967295|N>>>17),N=A+(z^(k|~I))+x[1]+2240044497&4294967295,A=k+(N<<21&4294967295|N>>>11),N=I+(k^(A|~z))+x[8]+1873313359&4294967295,I=A+(N<<6&4294967295|N>>>26),N=z+(A^(I|~k))+x[15]+4264355552&4294967295,z=I+(N<<10&4294967295|N>>>22),N=k+(I^(z|~A))+x[6]+2734768916&4294967295,k=z+(N<<15&4294967295|N>>>17),N=A+(z^(k|~I))+x[13]+1309151649&4294967295,A=k+(N<<21&4294967295|N>>>11),N=I+(k^(A|~z))+x[4]+4149444226&4294967295,I=A+(N<<6&4294967295|N>>>26),N=z+(A^(I|~k))+x[11]+3174756917&4294967295,z=I+(N<<10&4294967295|N>>>22),N=k+(I^(z|~A))+x[2]+718787259&4294967295,k=z+(N<<15&4294967295|N>>>17),N=A+(z^(k|~I))+x[9]+3951481745&4294967295,O.g[0]=O.g[0]+I&4294967295,O.g[1]=O.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,O.g[2]=O.g[2]+k&4294967295,O.g[3]=O.g[3]+z&4294967295}s.prototype.u=function(O,I){I===void 0&&(I=O.length);for(var A=I-this.blockSize,x=this.B,k=this.h,z=0;z<I;){if(k==0)for(;z<=A;)o(this,O,z),z+=this.blockSize;if(typeof O=="string"){for(;z<I;)if(x[k++]=O.charCodeAt(z++),k==this.blockSize){o(this,x),k=0;break}}else for(;z<I;)if(x[k++]=O[z++],k==this.blockSize){o(this,x),k=0;break}}this.h=k,this.o+=I},s.prototype.v=function(){var O=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);O[0]=128;for(var I=1;I<O.length-8;++I)O[I]=0;var A=8*this.o;for(I=O.length-8;I<O.length;++I)O[I]=A&255,A/=256;for(this.u(O),O=Array(16),I=A=0;4>I;++I)for(var x=0;32>x;x+=8)O[A++]=this.g[I]>>>x&255;return O};function u(O,I){var A=m;return Object.prototype.hasOwnProperty.call(A,O)?A[O]:A[O]=I(O)}function f(O,I){this.h=I;for(var A=[],x=!0,k=O.length-1;0<=k;k--){var z=O[k]|0;x&&z==I||(A[k]=z,x=!1)}this.g=A}var m={};function p(O){return-128<=O&&128>O?u(O,function(I){return new f([I|0],0>I?-1:0)}):new f([O|0],0>O?-1:0)}function g(O){if(isNaN(O)||!isFinite(O))return b;if(0>O)return q(g(-O));for(var I=[],A=1,x=0;O>=A;x++)I[x]=O/A|0,A*=4294967296;return new f(I,0)}function T(O,I){if(O.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(O.charAt(0)=="-")return q(T(O.substring(1),I));if(0<=O.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=g(Math.pow(I,8)),x=b,k=0;k<O.length;k+=8){var z=Math.min(8,O.length-k),N=parseInt(O.substring(k,k+z),I);8>z?(z=g(Math.pow(I,z)),x=x.j(z).add(g(N))):(x=x.j(A),x=x.add(g(N)))}return x}var b=p(0),R=p(1),D=p(16777216);r=f.prototype,r.m=function(){if($(this))return-q(this).m();for(var O=0,I=1,A=0;A<this.g.length;A++){var x=this.i(A);O+=(0<=x?x:4294967296+x)*I,I*=4294967296}return O},r.toString=function(O){if(O=O||10,2>O||36<O)throw Error("radix out of range: "+O);if(M(this))return"0";if($(this))return"-"+q(this).toString(O);for(var I=g(Math.pow(O,6)),A=this,x="";;){var k=ce(A,I).g;A=G(A,k.j(I));var z=((0<A.g.length?A.g[0]:A.h)>>>0).toString(O);if(A=k,M(A))return z+x;for(;6>z.length;)z="0"+z;x=z+x}},r.i=function(O){return 0>O?0:O<this.g.length?this.g[O]:this.h};function M(O){if(O.h!=0)return!1;for(var I=0;I<O.g.length;I++)if(O.g[I]!=0)return!1;return!0}function $(O){return O.h==-1}r.l=function(O){return O=G(this,O),$(O)?-1:M(O)?0:1};function q(O){for(var I=O.g.length,A=[],x=0;x<I;x++)A[x]=~O.g[x];return new f(A,~O.h).add(R)}r.abs=function(){return $(this)?q(this):this},r.add=function(O){for(var I=Math.max(this.g.length,O.g.length),A=[],x=0,k=0;k<=I;k++){var z=x+(this.i(k)&65535)+(O.i(k)&65535),N=(z>>>16)+(this.i(k)>>>16)+(O.i(k)>>>16);x=N>>>16,z&=65535,N&=65535,A[k]=N<<16|z}return new f(A,A[A.length-1]&-2147483648?-1:0)};function G(O,I){return O.add(q(I))}r.j=function(O){if(M(this)||M(O))return b;if($(this))return $(O)?q(this).j(q(O)):q(q(this).j(O));if($(O))return q(this.j(q(O)));if(0>this.l(D)&&0>O.l(D))return g(this.m()*O.m());for(var I=this.g.length+O.g.length,A=[],x=0;x<2*I;x++)A[x]=0;for(x=0;x<this.g.length;x++)for(var k=0;k<O.g.length;k++){var z=this.i(x)>>>16,N=this.i(x)&65535,mt=O.i(k)>>>16,Ee=O.i(k)&65535;A[2*x+2*k]+=N*Ee,te(A,2*x+2*k),A[2*x+2*k+1]+=z*Ee,te(A,2*x+2*k+1),A[2*x+2*k+1]+=N*mt,te(A,2*x+2*k+1),A[2*x+2*k+2]+=z*mt,te(A,2*x+2*k+2)}for(x=0;x<I;x++)A[x]=A[2*x+1]<<16|A[2*x];for(x=I;x<2*I;x++)A[x]=0;return new f(A,0)};function te(O,I){for(;(O[I]&65535)!=O[I];)O[I+1]+=O[I]>>>16,O[I]&=65535,I++}function ee(O,I){this.g=O,this.h=I}function ce(O,I){if(M(I))throw Error("division by zero");if(M(O))return new ee(b,b);if($(O))return I=ce(q(O),I),new ee(q(I.g),q(I.h));if($(I))return I=ce(O,q(I)),new ee(q(I.g),I.h);if(30<O.g.length){if($(O)||$(I))throw Error("slowDivide_ only works with positive integers.");for(var A=R,x=I;0>=x.l(O);)A=ie(A),x=ie(x);var k=ae(A,1),z=ae(x,1);for(x=ae(x,2),A=ae(A,2);!M(x);){var N=z.add(x);0>=N.l(O)&&(k=k.add(A),z=N),x=ae(x,1),A=ae(A,1)}return I=G(O,k.j(I)),new ee(k,I)}for(k=b;0<=O.l(I);){for(A=Math.max(1,Math.floor(O.m()/I.m())),x=Math.ceil(Math.log(A)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),z=g(A),N=z.j(I);$(N)||0<N.l(O);)A-=x,z=g(A),N=z.j(I);M(z)&&(z=R),k=k.add(z),O=G(O,N)}return new ee(k,O)}r.A=function(O){return ce(this,O).h},r.and=function(O){for(var I=Math.max(this.g.length,O.g.length),A=[],x=0;x<I;x++)A[x]=this.i(x)&O.i(x);return new f(A,this.h&O.h)},r.or=function(O){for(var I=Math.max(this.g.length,O.g.length),A=[],x=0;x<I;x++)A[x]=this.i(x)|O.i(x);return new f(A,this.h|O.h)},r.xor=function(O){for(var I=Math.max(this.g.length,O.g.length),A=[],x=0;x<I;x++)A[x]=this.i(x)^O.i(x);return new f(A,this.h^O.h)};function ie(O){for(var I=O.g.length+1,A=[],x=0;x<I;x++)A[x]=O.i(x)<<1|O.i(x-1)>>>31;return new f(A,O.h)}function ae(O,I){var A=I>>5;I%=32;for(var x=O.g.length-A,k=[],z=0;z<x;z++)k[z]=0<I?O.i(z+A)>>>I|O.i(z+A+1)<<32-I:O.i(z+A);return new f(k,O.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,NT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=T,ps=f}).apply(typeof kv<"u"?kv:typeof self<"u"?self:typeof window<"u"?window:{});var Jc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var DT,Xl,OT,lh,jm,MT,PT,kT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,_,v){return c==Array.prototype||c==Object.prototype||(c[_]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jc=="object"&&Jc];for(var _=0;_<c.length;++_){var v=c[_];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,_){if(_)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var B=c[S];if(!(B in v))break e;v=v[B]}c=c[c.length-1],S=v[c],_=_(S),_!=S&&_!=null&&e(v,c,{configurable:!0,writable:!0,value:_})}}function u(c,_){c instanceof String&&(c+="");var v=0,S=!1,B={next:function(){if(!S&&v<c.length){var K=v++;return{value:_(K,c[K]),done:!1}}return S=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}o("Array.prototype.values",function(c){return c||function(){return u(this,function(_,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var _=typeof c;return _=_!="object"?_:c?Array.isArray(c)?"array":_:"null",_=="array"||_=="object"&&typeof c.length=="number"}function g(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function T(c,_,v){return c.call.apply(c.bind,arguments)}function b(c,_,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,S),c.apply(_,B)}}return function(){return c.apply(_,arguments)}}function R(c,_,v){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:b,R.apply(null,arguments)}function D(c,_){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function M(c,_){function v(){}v.prototype=_.prototype,c.aa=_.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,B,K){for(var se=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)se[Le-2]=arguments[Le];return _.prototype[B].apply(S,se)}}function $(c){const _=c.length;if(0<_){const v=Array(_);for(let S=0;S<_;S++)v[S]=c[S];return v}return[]}function q(c,_){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const B=c.length||0,K=S.length||0;c.length=B+K;for(let se=0;se<K;se++)c[B+se]=S[se]}else c.push(S)}}class G{constructor(_,v){this.i=_,this.j=v,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function te(c){return/^[\s\xa0]*$/.test(c)}function ee(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ce(c){return ce[" "](c),c}ce[" "]=function(){};var ie=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function ae(c,_,v){for(const S in c)_.call(v,c[S],S,c)}function O(c,_){for(const v in c)_.call(void 0,c[v],v,c)}function I(c){const _={};for(const v in c)_[v]=c[v];return _}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,_){let v,S;for(let B=1;B<arguments.length;B++){S=arguments[B];for(v in S)c[v]=S[v];for(let K=0;K<A.length;K++)v=A[K],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function k(c){var _=1;c=c.split(":");const v=[];for(;0<_&&c.length;)v.push(c.shift()),_--;return c.length&&v.push(c.join(":")),v}function z(c){m.setTimeout(()=>{throw c},0)}function N(){var c=$e;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class mt{constructor(){this.h=this.g=null}add(_,v){const S=Ee.get();S.set(_,v),this.h?this.h.next=S:this.g=S,this.h=S}}var Ee=new G(()=>new Z,c=>c.reset());class Z{constructor(){this.next=this.g=this.h=null}set(_,v){this.h=_,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,de=!1,$e=new mt,P=()=>{const c=m.Promise.resolve(void 0);ge=()=>{c.then(re)}};var re=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(v){z(v)}var _=Ee;_.j(c),100>_.h&&(_.h++,c.next=_.g,_.g=c)}de=!1};function pe(){this.s=this.s,this.C=this.C}pe.prototype.s=!1,pe.prototype.ma=function(){this.s||(this.s=!0,this.N())},pe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,_),m.removeEventListener("test",v,_)}catch{}return c}();function xe(c,_){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget){if(ie){e:{try{ce(_.nodeName);var B=!0;break e}catch{}B=!1}B||(_=null)}}else v=="mouseover"?_=c.fromElement:v=="mouseout"&&(_=c.toElement);this.relatedTarget=_,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ie[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xe.aa.h.call(this)}}M(xe,oe);var Ie={2:"touch",3:"pen",4:"mouse"};xe.prototype.h=function(){xe.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var yt="closure_listenable_"+(1e6*Math.random()|0),qe=0;function lt(c,_,v,S,B){this.listener=c,this.proxy=null,this.src=_,this.type=v,this.capture=!!S,this.ha=B,this.key=++qe,this.da=this.fa=!1}function Ye(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function an(c){this.src=c,this.g={},this.h=0}an.prototype.add=function(c,_,v,S,B){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var se=On(c,_,S,B);return-1<se?(_=c[se],v||(_.fa=!1)):(_=new lt(_,this.src,K,!!S,B),_.fa=v,c.push(_)),_};function Pi(c,_){var v=_.type;if(v in c.g){var S=c.g[v],B=Array.prototype.indexOf.call(S,_,void 0),K;(K=0<=B)&&Array.prototype.splice.call(S,B,1),K&&(Ye(_),c.g[v].length==0&&(delete c.g[v],c.h--))}}function On(c,_,v,S){for(var B=0;B<c.length;++B){var K=c[B];if(!K.da&&K.listener==_&&K.capture==!!v&&K.ha==S)return B}return-1}var Tr="closure_lm_"+(1e6*Math.random()|0),wr={};function ki(c,_,v,S,B){if(Array.isArray(_)){for(var K=0;K<_.length;K++)ki(c,_[K],v,S,B);return null}return v=Du(v),c&&c[yt]?c.K(_,v,g(S)?!!S.capture:!1,B):Uo(c,_,v,!1,S,B)}function Uo(c,_,v,S,B,K){if(!_)throw Error("Invalid event type");var se=g(B)?!!B.capture:!!B,Le=zo(c);if(Le||(c[Tr]=Le=new an(c)),v=Le.add(_,v,S,se,K),v.proxy)return v;if(S=Ea(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)le||(B=se),B===void 0&&(B=!1),c.addEventListener(_.toString(),S,B);else if(c.attachEvent)c.attachEvent(wa(_.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ea(){function c(v){return _.call(c.src,c.listener,v)}const _=ff;return c}function Ta(c,_,v,S,B){if(Array.isArray(_))for(var K=0;K<_.length;K++)Ta(c,_[K],v,S,B);else S=g(S)?!!S.capture:!!S,v=Du(v),c&&c[yt]?(c=c.i,_=String(_).toString(),_ in c.g&&(K=c.g[_],v=On(K,v,S,B),-1<v&&(Ye(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete c.g[_],c.h--)))):c&&(c=zo(c))&&(_=c.g[_.toString()],c=-1,_&&(c=On(_,v,S,B)),(v=-1<c?_[c]:null)&&xs(v))}function xs(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[yt])Pi(_.i,c);else{var v=c.type,S=c.proxy;_.removeEventListener?_.removeEventListener(v,S,c.capture):_.detachEvent?_.detachEvent(wa(v),S):_.addListener&&_.removeListener&&_.removeListener(S),(v=zo(_))?(Pi(v,c),v.h==0&&(v.src=null,_[Tr]=null)):Ye(c)}}}function wa(c){return c in wr?wr[c]:wr[c]="on"+c}function ff(c,_){if(c.da)c=!0;else{_=new xe(_,this);var v=c.listener,S=c.ha||c.src;c.fa&&xs(c),c=v.call(S,_)}return c}function zo(c){return c=c[Tr],c instanceof an?c:null}var gn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Du(c){return typeof c=="function"?c:(c[gn]||(c[gn]=function(_){return c.handleEvent(_)}),c[gn])}function At(){pe.call(this),this.i=new an(this),this.M=this,this.F=null}M(At,pe),At.prototype[yt]=!0,At.prototype.removeEventListener=function(c,_,v,S){Ta(this,c,_,v,S)};function Mt(c,_){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=_.type||_,typeof _=="string")_=new oe(_,c);else if(_ instanceof oe)_.target=_.target||c;else{var B=_;_=new oe(S,c),x(_,B)}if(B=!0,v)for(var K=v.length-1;0<=K;K--){var se=_.g=v[K];B=Vi(se,S,!0,_)&&B}if(se=_.g=c,B=Vi(se,S,!0,_)&&B,B=Vi(se,S,!1,_)&&B,v)for(K=0;K<v.length;K++)se=_.g=v[K],B=Vi(se,S,!1,_)&&B}At.prototype.N=function(){if(At.aa.N.call(this),this.i){var c=this.i,_;for(_ in c.g){for(var v=c.g[_],S=0;S<v.length;S++)Ye(v[S]);delete c.g[_],c.h--}}this.F=null},At.prototype.K=function(c,_,v,S){return this.i.add(String(c),_,!1,v,S)},At.prototype.L=function(c,_,v,S){return this.i.add(String(c),_,!0,v,S)};function Vi(c,_,v,S){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();for(var B=!0,K=0;K<_.length;++K){var se=_[K];if(se&&!se.da&&se.capture==v){var Le=se.listener,It=se.ha||se.src;se.fa&&Pi(c.i,se),B=Le.call(It,S)!==!1&&B}}return B&&!S.defaultPrevented}function Ou(c,_,v){if(typeof c=="function")v&&(c=R(c,v));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:m.setTimeout(c,_||0)}function Bo(c){c.g=Ou(()=>{c.g=null,c.i&&(c.i=!1,Bo(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class df extends pe{constructor(_,v){super(),this.m=_,this.l=v,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Bo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ns(c){pe.call(this),this.h=c,this.g={}}M(Ns,pe);var Sr=[];function Wt(c){ae(c.g,function(_,v){this.g.hasOwnProperty(v)&&xs(_)},c),c.g={}}Ns.prototype.N=function(){Ns.aa.N.call(this),Wt(this)},Ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qo=m.JSON.stringify,li=m.JSON.parse,on=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Ho(){}Ho.prototype.h=null;function Mu(c){return c.h||(c.h=c.i())}function Pu(){}var ui={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function br(){oe.call(this,"d")}M(br,oe);function Zn(){oe.call(this,"c")}M(Zn,oe);var Mn={},Ar=null;function Sa(){return Ar=Ar||new At}Mn.La="serverreachability";function Fo(c){oe.call(this,Mn.La,c)}M(Fo,oe);function Rr(c){const _=Sa();Mt(_,new Fo(_))}Mn.STAT_EVENT="statevent";function ba(c,_){oe.call(this,Mn.STAT_EVENT,c),this.stat=_}M(ba,oe);function pt(c){const _=Sa();Mt(_,new ba(_,c))}Mn.Ma="timingevent";function ku(c,_){oe.call(this,Mn.Ma,c),this.size=_}M(ku,oe);function Ir(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},_)}function Cr(){this.g=!0}Cr.prototype.xa=function(){this.g=!1};function Vu(c,_,v,S,B,K){c.info(function(){if(c.g)if(K)for(var se="",Le=K.split("&"),It=0;It<Le.length;It++){var Ue=Le[It].split("=");if(1<Ue.length){var Vt=Ue[0];Ue=Ue[1];var Ct=Vt.split("_");se=2<=Ct.length&&Ct[1]=="type"?se+(Vt+"="+Ue+"&"):se+(Vt+"=redacted&")}}else se=null;else se=K;return"XMLHTTP REQ ("+S+") [attempt "+B+"]: "+_+`
`+v+`
`+se})}function ju(c,_,v,S,B,K,se){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+B+"]: "+_+`
`+v+`
`+K+" "+se})}function xr(c,_,v,S){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+Pt(c,v)+(S?" "+S:"")})}function ci(c,_){c.info(function(){return"TIMEOUT: "+_})}Cr.prototype.info=function(){};function Pt(c,_){if(!c.g)return _;if(!_)return null;try{var v=JSON.parse(_);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var B=S[1];if(Array.isArray(B)&&!(1>B.length)){var K=B[0];if(K!="noop"&&K!="stop"&&K!="close")for(var se=1;se<B.length;se++)B[se]=""}}}}return qo(v)}catch{return _}}var Rt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ji={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Ds;function Aa(){}M(Aa,Ho),Aa.prototype.g=function(){return new XMLHttpRequest},Aa.prototype.i=function(){return{}},Ds=new Aa;function hi(c,_,v,S){this.j=c,this.i=_,this.l=v,this.R=S||1,this.U=new Ns(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Go}function Go(){this.i=null,this.g="",this.h=!1}var Nr={},Os={};function Jn(c,_,v){c.L=1,c.v=ks(ut(_)),c.m=v,c.P=!0,Li(c,null)}function Li(c,_){c.F=Date.now(),it(c),c.A=ut(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Bi(v.i,"t",S),c.C=0,v=c.j.J,c.h=new Go,c.g=Wu(c.j,v?_:null,!c.m),0<c.O&&(c.M=new df(R(c.Y,c,c.g),c.O)),_=c.U,v=c.g,S=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(Sr[0]=B.toString()),B=Sr);for(var K=0;K<B.length;K++){var se=ki(v,B[K],S||_.handleEvent,!1,_.h||_);if(!se)break;_.g[se.key]=se}_=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,_)):(c.u="GET",c.g.ea(c.A,c.u,null,_)),Rr(),Vu(c.i,c.u,c.A,c.l,c.R,c.m)}hi.prototype.ca=function(c){c=c.target;const _=this.M;_&&Ln(c)==3?_.j():this.Y(c)},hi.prototype.Y=function(c){try{if(c==this.g)e:{const Ct=Ln(this.g);var _=this.g.Ba();const Gi=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||Hu(this.g)))){this.J||Ct!=4||_==7||(_==8||0>=Gi?Rr(3):Rr(2)),Ra(this);var v=this.g.Z();this.X=v;t:if(Dr(this)){var S=Hu(this.g);c="";var B=S.length,K=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){_n(this),wn(this);var se="";break t}this.h.i=new m.TextDecoder}for(_=0;_<B;_++)this.h.h=!0,c+=this.h.i.decode(S[_],{stream:!(K&&_==B-1)});S.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=v==200,ju(this.i,this.u,this.A,this.l,this.R,Ct,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,It=this.g;if((Le=It.g?It.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(Le)){var Ue=Le;break t}}Ue=null}if(v=Ue)xr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Sn(this,v);else{this.o=!1,this.s=3,pt(12),_n(this),wn(this);break e}}if(this.P){v=!0;let Bt;for(;!this.J&&this.C<se.length;)if(Bt=Or(this,se),Bt==Os){Ct==4&&(this.s=4,pt(14),v=!1),xr(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==Nr){this.s=4,pt(15),xr(this.i,this.l,se,"[Invalid Chunk]"),v=!1;break}else xr(this.i,this.l,Bt,null),Sn(this,Bt);if(Dr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||se.length!=0||this.h.h||(this.s=1,pt(16),v=!1),this.o=this.o&&v,!v)xr(this.i,this.l,se,"[Invalid Chunked Response]"),_n(this),wn(this);else if(0<se.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),qs(Vt),Vt.M=!0,pt(11))}}else xr(this.i,this.l,se,null),Sn(this,se);Ct==4&&_n(this),this.o&&!this.J&&(Ct==4?Qu(this.j,this):(this.o=!1,it(this)))}else vf(this.g),v==400&&0<se.indexOf("Unknown SID")?(this.s=3,pt(12)):(this.s=0,pt(13)),_n(this),wn(this)}}}catch{}finally{}};function Dr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Or(c,_){var v=c.C,S=_.indexOf(`
`,v);return S==-1?Os:(v=Number(_.substring(v,S)),isNaN(v)?Nr:(S+=1,S+v>_.length?Os:(_=_.slice(S,S+v),c.C=S+v,_)))}hi.prototype.cancel=function(){this.J=!0,_n(this)};function it(c){c.S=Date.now()+c.I,$o(c,c.I)}function $o(c,_){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ir(R(c.ba,c),_)}function Ra(c){c.B&&(m.clearTimeout(c.B),c.B=null)}hi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ci(this.i,this.A),this.L!=2&&(Rr(),pt(17)),_n(this),this.s=2,wn(this)):$o(this,this.S-c)};function wn(c){c.j.G==0||c.J||Qu(c.j,c)}function _n(c){Ra(c);var _=c.M;_&&typeof _.ma=="function"&&_.ma(),c.M=null,Wt(c.U),c.g&&(_=c.g,c.g=null,_.abort(),_.ma())}function Sn(c,_){try{var v=c.j;if(v.G!=0&&(v.g==c||Mr(v.h,c))){if(!c.K&&Mr(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(_)}catch{S=null}if(Array.isArray(S)&&S.length==3){var B=S;if(B[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Va(v),Pa(v);else break e;il(v),pt(18)}}else v.za=B[1],0<v.za-v.T&&37500>B[2]&&v.F&&v.v==0&&!v.C&&(v.C=Ir(R(v.Za,v),6e3));if(1>=Lu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Fi(v,11)}else if((c.K||v.g==c)&&Va(v),!te(_))for(B=v.Da.g.parse(_),_=0;_<B.length;_++){let Ue=B[_];if(v.T=Ue[0],Ue=Ue[1],v.G==2)if(Ue[0]=="c"){v.K=Ue[1],v.ia=Ue[2];const Vt=Ue[3];Vt!=null&&(v.la=Vt,v.j.info("VER="+v.la));const Ct=Ue[4];Ct!=null&&(v.Aa=Ct,v.j.info("SVER="+v.Aa));const Gi=Ue[5];Gi!=null&&typeof Gi=="number"&&0<Gi&&(S=1.5*Gi,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Bt=c.g;if(Bt){const yi=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yi){var K=S.h;K.g||yi.indexOf("spdy")==-1&&yi.indexOf("quic")==-1&&yi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Pr(K,K.h),K.h=null))}if(S.D){const sl=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;sl&&(S.ya=sl,He(S.I,S.D,sl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var se=c;if(S.qa=Xu(S,S.J?S.ia:null,S.W),se.K){Pn(S.h,se);var Le=se,It=S.L;It&&(Le.I=It),Le.B&&(Ra(Le),it(Le)),S.g=se}else $u(S);0<v.i.length&&ka(v)}else Ue[0]!="stop"&&Ue[0]!="close"||Fi(v,7);else v.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Fi(v,7):tl(v):Ue[0]!="noop"&&v.l&&v.l.ta(Ue),v.v=0)}}Rr(4)}catch{}}var mf=class{constructor(c,_){this.g=c,this.map=_}};function Ko(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Lu(c){return c.h?1:c.g?c.g.size:0}function Mr(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function Pr(c,_){c.g?c.g.add(_):c.h=_}function Pn(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}Ko.prototype.cancel=function(){if(this.i=ln(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function ln(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const v of c.g.values())_=_.concat(v.D);return _}return $(c.i)}function Uu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var _=[],v=c.length,S=0;S<v;S++)_.push(c[S]);return _}_=[],v=0;for(S in c)_[v++]=c[S];return _}function pf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var _=[];c=c.length;for(var v=0;v<c;v++)_.push(v);return _}_=[],v=0;for(const S in c)_[v++]=S;return _}}}function Ms(c,_){if(c.forEach&&typeof c.forEach=="function")c.forEach(_,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,_,void 0);else for(var v=pf(c),S=Uu(c),B=S.length,K=0;K<B;K++)_.call(void 0,S[K],v&&v[K],c)}var Yo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ia(c,_){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),B=null;if(0<=S){var K=c[v].substring(0,S);B=c[v].substring(S+1)}else K=c[v];_(K,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Ui(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ui){this.h=c.h,kr(this,c.j),this.o=c.o,this.g=c.g,Ps(this,c.s),this.l=c.l;var _=c.i,v=new fi;v.i=_.i,_.g&&(v.g=new Map(_.g),v.h=_.h),Ca(this,v),this.m=c.m}else c&&(_=String(c).match(Yo))?(this.h=!1,kr(this,_[1]||"",!0),this.o=Vr(_[2]||""),this.g=Vr(_[3]||"",!0),Ps(this,_[4]),this.l=Vr(_[5]||"",!0),Ca(this,_[6]||"",!0),this.m=Vr(_[7]||"")):(this.h=!1,this.i=new fi(null,this.h))}Ui.prototype.toString=function(){var c=[],_=this.j;_&&c.push(kn(_,Xo,!0),":");var v=this.g;return(v||_=="file")&&(c.push("//"),(_=this.o)&&c.push(kn(_,Xo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(kn(v,v.charAt(0)=="/"?Wo:zu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",kn(v,yf)),c.join("")};function ut(c){return new Ui(c)}function kr(c,_,v){c.j=v?Vr(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function Ps(c,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);c.s=_}else c.s=null}function Ca(c,_,v){_ instanceof fi?(c.i=_,Zo(c.i,c.h)):(v||(_=kn(_,_f)),c.i=new fi(_,c.h))}function He(c,_,v){c.i.set(_,v)}function ks(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Vr(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function kn(c,_,v){return typeof c=="string"?(c=encodeURI(c).replace(_,gf),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function gf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Xo=/[#\/\?@]/g,zu=/[#\?:]/g,Wo=/[#\?]/g,_f=/[#\?@]/g,yf=/#/g;function fi(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function Vn(c){c.g||(c.g=new Map,c.h=0,c.i&&Ia(c.i,function(_,v){c.add(decodeURIComponent(_.replace(/\+/g," ")),v)}))}r=fi.prototype,r.add=function(c,_){Vn(this),this.i=null,c=qi(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(_),this.h+=1,this};function xa(c,_){Vn(c),_=qi(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function zi(c,_){return Vn(c),_=qi(c,_),c.g.has(_)}r.forEach=function(c,_){Vn(this),this.g.forEach(function(v,S){v.forEach(function(B){c.call(_,B,S,this)},this)},this)},r.na=function(){Vn(this);const c=Array.from(this.g.values()),_=Array.from(this.g.keys()),v=[];for(let S=0;S<_.length;S++){const B=c[S];for(let K=0;K<B.length;K++)v.push(_[S])}return v},r.V=function(c){Vn(this);let _=[];if(typeof c=="string")zi(this,c)&&(_=_.concat(this.g.get(qi(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)_=_.concat(c[v])}return _},r.set=function(c,_){return Vn(this),this.i=null,c=qi(this,c),zi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},r.get=function(c,_){return c?(c=this.V(c),0<c.length?String(c[0]):_):_};function Bi(c,_,v){xa(c,_),0<v.length&&(c.i=null,c.g.set(qi(c,_),$(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(var v=0;v<_.length;v++){var S=_[v];const K=encodeURIComponent(String(S)),se=this.V(S);for(S=0;S<se.length;S++){var B=K;se[S]!==""&&(B+="="+encodeURIComponent(String(se[S]))),c.push(B)}}return this.i=c.join("&")};function qi(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function Zo(c,_){_&&!c.j&&(Vn(c),c.i=null,c.g.forEach(function(v,S){var B=S.toLowerCase();S!=B&&(xa(this,S),Bi(this,B,v))},c)),c.j=_}function Bu(c,_){const v=new Cr;if(m.Image){const S=new Image;S.onload=D(jn,v,"TestLoadImage: loaded",!0,_,S),S.onerror=D(jn,v,"TestLoadImage: error",!1,_,S),S.onabort=D(jn,v,"TestLoadImage: abort",!1,_,S),S.ontimeout=D(jn,v,"TestLoadImage: timeout",!1,_,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else _(!1)}function Vs(c,_){const v=new Cr,S=new AbortController,B=setTimeout(()=>{S.abort(),jn(v,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:S.signal}).then(K=>{clearTimeout(B),K.ok?jn(v,"TestPingServer: ok",!0,_):jn(v,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(B),jn(v,"TestPingServer: error",!1,_)})}function jn(c,_,v,S,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),S(v)}catch{}}function js(){this.g=new on}function di(c,_,v){const S=v||"";try{Ms(c,function(B,K){let se=B;g(B)&&(se=qo(B)),_.push(S+K+"="+encodeURIComponent(se))})}catch(B){throw _.push(S+"type="+encodeURIComponent("_badmap")),B}}function jr(c){this.l=c.Ub||null,this.j=c.eb||!1}M(jr,Ho),jr.prototype.g=function(){return new Hi(this.l,this.j)},jr.prototype.i=function(c){return function(){return c}}({});function Hi(c,_){At.call(this),this.D=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Hi,At),r=Hi.prototype,r.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=_,this.readyState=1,pi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(_.body=c),(this.D||m).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,pi(this)),this.g&&(this.readyState=3,pi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?mi(this):pi(this),this.readyState==3&&Jo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,mi(this))},r.Qa=function(c){this.g&&(this.response=c,mi(this))},r.ga=function(){this.g&&mi(this)};function mi(c){c.readyState=4,c.l=null,c.j=null,c.v=null,pi(c)}r.setRequestHeader=function(c,_){this.u.append(c,_)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var v=_.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=_.next();return c.join(`\r
`)};function pi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Hi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function el(c){let _="";return ae(c,function(v,S){_+=S,_+=":",_+=v,_+=`\r
`}),_}function kt(c,_,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=el(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):He(c,_,v))}function Ke(c){At.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Ke,At);var Na=/^https?$/i,Ls=["POST","PUT"];r=Ke.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,_,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ds.g(),this.v=this.o?Mu(this.o):Mu(Ds),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(K){qu(this,K);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var B in S)v.set(B,S[B]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const K of S.keys())v.set(K,S.get(K));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),B=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ls,_,void 0))||S||B||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of v)this.g.setRequestHeader(K,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Us(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){qu(this,K)}};function qu(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.m=5,Da(c),gi(c)}function Da(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Mt(this,"complete"),Mt(this,"abort"),gi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gi(this,!0)),Ke.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Oa(this):this.bb())},r.bb=function(){Oa(this)};function Oa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Ln(c)!=4||c.Z()!=2)){if(c.u&&Ln(c)==4)Ou(c.Ea,0,c);else if(Mt(c,"readystatechange"),Ln(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var v;if(!(v=_)){var S;if(S=se===0){var B=String(c.D).match(Yo)[1]||null;!B&&m.self&&m.self.location&&(B=m.self.location.protocol.slice(0,-1)),S=!Na.test(B?B.toLowerCase():"")}v=S}if(v)Mt(c,"complete"),Mt(c,"success");else{c.m=6;try{var K=2<Ln(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",Da(c)}}finally{gi(c)}}}}function gi(c,_){if(c.g){Us(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,_||Mt(c,"ready");try{v.onreadystatechange=S}catch{}}}function Us(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Ln(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),li(_)}};function Hu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function vf(c){const _={};c=(c.g&&2<=Ln(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(te(c[S]))continue;var v=k(c[S]);const B=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=_[B]||[];_[B]=K,K.push(v)}O(_,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zs(c,_,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||_}function Ma(c){this.Aa=0,this.i=[],this.j=new Cr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zs("baseRetryDelayMs",5e3,c),this.cb=zs("retryDelaySeedMs",1e4,c),this.Wa=zs("forwardChannelMaxRetries",2,c),this.wa=zs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ko(c&&c.concurrentRequestLimit),this.Da=new js,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Ma.prototype,r.la=8,r.G=1,r.connect=function(c,_,v,S){pt(0),this.W=c,this.H=_||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=Xu(this,null,this.W),ka(this)};function tl(c){if(Fu(c),c.G==3){var _=c.U++,v=ut(c.I);if(He(v,"SID",c.K),He(v,"RID",_),He(v,"TYPE","terminate"),Bs(c,v),_=new hi(c,c.j,_),_.L=2,_.v=ks(ut(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(_.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=_.v,v=!0),v||(_.g=Wu(_.j,null),_.g.ea(_.v)),_.F=Date.now(),it(_)}Yu(c)}function Pa(c){c.g&&(qs(c),c.g.cancel(),c.g=null)}function Fu(c){Pa(c),c.u&&(m.clearTimeout(c.u),c.u=null),Va(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function ka(c){if(!Qo(c.h)&&!c.s){c.s=!0;var _=c.Ga;ge||P(),de||(ge(),de=!0),$e.add(_,c),c.B=0}}function Ef(c,_){return Lu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=_.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ir(R(c.Ga,c,_),rl(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new hi(this,this.j,c);let K=this.o;if(this.S&&(K?(K=I(K),x(K,this.S)):K=this.S),this.m!==null||this.O||(B.H=K,K=null),this.P)e:{for(var _=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(_+=S,4096<_){_=v;break e}if(_===4096||v===this.i.length-1){_=v+1;break e}}_=1e3}else _=1e3;_=Gu(this,B,_),v=ut(this.I),He(v,"RID",c),He(v,"CVER",22),this.D&&He(v,"X-HTTP-Session-Id",this.D),Bs(this,v),K&&(this.O?_="headers="+encodeURIComponent(String(el(K)))+"&"+_:this.m&&kt(v,this.m,K)),Pr(this.h,B),this.Ua&&He(v,"TYPE","init"),this.P?(He(v,"$req",_),He(v,"SID","null"),B.T=!0,Jn(B,v,null)):Jn(B,v,_),this.G=2}}else this.G==3&&(c?nl(this,c):this.i.length==0||Qo(this.h)||nl(this))};function nl(c,_){var v;_?v=_.l:v=c.U++;const S=ut(c.I);He(S,"SID",c.K),He(S,"RID",v),He(S,"AID",c.T),Bs(c,S),c.m&&c.o&&kt(S,c.m,c.o),v=new hi(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),_&&(c.i=_.D.concat(c.i)),_=Gu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Pr(c.h,v),Jn(v,S,_)}function Bs(c,_){c.H&&ae(c.H,function(v,S){He(_,S,v)}),c.l&&Ms({},function(v,S){He(_,S,v)})}function Gu(c,_,v){v=Math.min(c.i.length,v);var S=c.l?R(c.l.Na,c.l,c):null;e:{var B=c.i;let K=-1;for(;;){const se=["count="+v];K==-1?0<v?(K=B[0].g,se.push("ofs="+K)):K=0:se.push("ofs="+K);let Le=!0;for(let It=0;It<v;It++){let Ue=B[It].g;const Vt=B[It].map;if(Ue-=K,0>Ue)K=Math.max(0,B[It].g-100),Le=!1;else try{di(Vt,se,"req"+Ue+"_")}catch{S&&S(Vt)}}if(Le){S=se.join("&");break e}}}return c=c.i.splice(0,v),_.D=c,S}function $u(c){if(!c.g&&!c.u){c.Y=1;var _=c.Fa;ge||P(),de||(ge(),de=!0),$e.add(_,c),c.v=0}}function il(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ir(R(c.Fa,c),rl(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Ku(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ir(R(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,pt(10),Pa(this),Ku(this))};function qs(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Ku(c){c.g=new hi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var _=ut(c.qa);He(_,"RID","rpc"),He(_,"SID",c.K),He(_,"AID",c.T),He(_,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(_,"TO",c.ja),He(_,"TYPE","xmlhttp"),Bs(c,_),c.m&&c.o&&kt(_,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=ks(ut(_)),v.m=null,v.P=!0,Li(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Pa(this),il(this),pt(19))};function Va(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Qu(c,_){var v=null;if(c.g==_){Va(c),qs(c),c.g=null;var S=2}else if(Mr(c.h,_))v=_.D,Pn(c.h,_),S=1;else return;if(c.G!=0){if(_.o)if(S==1){v=_.m?_.m.length:0,_=Date.now()-_.F;var B=c.B;S=Sa(),Mt(S,new ku(S,v)),ka(c)}else $u(c);else if(B=_.s,B==3||B==0&&0<_.X||!(S==1&&Ef(c,_)||S==2&&il(c)))switch(v&&0<v.length&&(_=c.h,_.i=_.i.concat(v)),B){case 1:Fi(c,5);break;case 4:Fi(c,10);break;case 3:Fi(c,6);break;default:Fi(c,2)}}}function rl(c,_){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*_}function Fi(c,_){if(c.j.info("Error code "+_),_==2){var v=R(c.fb,c),S=c.Xa;const B=!S;S=new Ui(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||kr(S,"https"),ks(S),B?Bu(S.toString(),v):Vs(S.toString(),v)}else pt(2);c.G=0,c.l&&c.l.sa(_),Yu(c),Fu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),pt(2)):(this.j.info("Failed to ping google.com"),pt(1))};function Yu(c){if(c.G=0,c.ka=[],c.l){const _=ln(c.h);(_.length!=0||c.i.length!=0)&&(q(c.ka,_),q(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function Xu(c,_,v){var S=v instanceof Ui?ut(v):new Ui(v);if(S.g!="")_&&(S.g=_+"."+S.g),Ps(S,S.s);else{var B=m.location;S=B.protocol,_=_?_+"."+B.hostname:B.hostname,B=+B.port;var K=new Ui(null);S&&kr(K,S),_&&(K.g=_),B&&Ps(K,B),v&&(K.l=v),S=K}return v=c.D,_=c.ya,v&&_&&He(S,v,_),He(S,"VER",c.la),Bs(c,S),S}function Wu(c,_,v){if(_&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Ca&&!c.pa?new Ke(new jr({eb:v})):new Ke(c.pa),_.Ha(c.J),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Zu(){}r=Zu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ja(){}ja.prototype.g=function(c,_){return new un(c,_)};function un(c,_){At.call(this),this.g=new Ma(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(c?c["X-WebChannel-Client-Profile"]=_.va:c={"X-WebChannel-Client-Profile":_.va}),this.g.S=c,(c=_&&_.Sb)&&!te(c)&&(this.g.m=c),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!te(_)&&(this.g.D=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new _i(this)}M(un,At),un.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){tl(this.g)},un.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=qo(c),c=v);_.i.push(new mf(_.Ya++,c)),_.G==3&&ka(_)},un.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,un.aa.N.call(this)};function Ju(c){br.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const v in _){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}M(Ju,br);function ec(){Zn.call(this),this.status=1}M(ec,Zn);function _i(c){this.g=c}M(_i,Zu),_i.prototype.ua=function(){Mt(this.g,"a")},_i.prototype.ta=function(c){Mt(this.g,new Ju(c))},_i.prototype.sa=function(c){Mt(this.g,new ec)},_i.prototype.ra=function(){Mt(this.g,"b")},ja.prototype.createWebChannel=ja.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,kT=function(){return new ja},PT=function(){return Sa()},MT=Mn,jm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Rt.NO_ERROR=0,Rt.TIMEOUT=8,Rt.HTTP_ERROR=6,lh=Rt,ji.COMPLETE="complete",OT=ji,Pu.EventType=ui,ui.OPEN="a",ui.CLOSE="b",ui.ERROR="c",ui.MESSAGE="d",At.prototype.listen=At.prototype.K,Xl=Pu,Ke.prototype.listenOnce=Ke.prototype.L,Ke.prototype.getLastError=Ke.prototype.Ka,Ke.prototype.getLastErrorCode=Ke.prototype.Ba,Ke.prototype.getStatus=Ke.prototype.Z,Ke.prototype.getResponseJson=Ke.prototype.Oa,Ke.prototype.getResponseText=Ke.prototype.oa,Ke.prototype.send=Ke.prototype.ea,Ke.prototype.setWithCredentials=Ke.prototype.Ha,DT=Ke}).apply(typeof Jc<"u"?Jc:typeof self<"u"?self:typeof window<"u"?window:{});const Vv="@firebase/firestore",jv="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oo="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ca=new hp("@firebase/firestore");function co(){return ca.logLevel}function ue(r,...e){if(ca.logLevel<=Pe.DEBUG){const n=e.map(mp);ca.debug(`Firestore (${Oo}): ${r}`,...n)}}function pr(r,...e){if(ca.logLevel<=Pe.ERROR){const n=e.map(mp);ca.error(`Firestore (${Oo}): ${r}`,...n)}}function To(r,...e){if(ca.logLevel<=Pe.WARN){const n=e.map(mp);ca.warn(`Firestore (${Oo}): ${r}`,...n)}}function mp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(r="Unexpected state"){const e=`FIRESTORE (${Oo}) INTERNAL ASSERTION FAILED: `+r;throw pr(e),new Error(e)}function Qe(r,e){r||Se()}function Re(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Er{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class mI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}}class pI{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gI{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Qe(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new hr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new hr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Qe(typeof s.accessToken=="string"),new VT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Qe(e===null||typeof e=="string"),new nn(e)}}class _I{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class yI{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new _I(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vI{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Yn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Qe(this.o===void 0);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Lv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Qe(typeof n.token=="string"),this.R=n.token,new Lv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EI(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=EI(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function je(r,e){return r<e?-1:r>e?1:0}function wo(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv=-62135596800,zv=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*zv);return new Dt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Uv)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zv}_compareTo(e){return this.seconds===e.seconds?je(this.nanoseconds,e.nanoseconds):je(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Uv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{static fromTimestamp(e){return new be(e)}static min(){return new be(new Dt(0,0))}static max(){return new be(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv="__name__";class Ai{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(),s===void 0?s=e.length-n:s>e.length-n&&Se(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ai.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ai?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Ai.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=Ai.isNumericId(e),o=Ai.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Ai.extractNumericId(e).compare(Ai.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ps.fromString(e.substring(4,e.length-2))}}class nt extends Ai{construct(e,n,s){return new nt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new nt(n)}static emptyPath(){return new nt([])}}const TI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Ai{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return TI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Bv}static keyField(){return new Kt([Bv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new he(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new he(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(nt.fromString(e))}static fromName(e){return new ye(nt.fromString(e).popFirst(5))}static empty(){return new ye(nt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&nt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return nt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new nt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ou=-1;function wI(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=be.fromTimestamp(s===1e9?new Dt(n+1,0):new Dt(n,s));return new ys(o,ye.empty(),e)}function SI(r){return new ys(r.readTime,r.key,ou)}class ys{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ys(be.min(),ye.empty(),ou)}static max(){return new ys(be.max(),ye.empty(),ou)}}function bI(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:je(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==AI)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,s)=>{n(e)})}static reject(e){return new W((n,s)=>{s(e)})}static waitFor(e){return new W((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next(o=>o?W.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new W((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(T=>{f[g]=T,++m,m===u&&s(f)},T=>o(T))}})}static doWhile(e,n){return new W((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function II(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Po(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}qh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pp=-1;function Hh(r){return r==null}function Th(r){return r===0&&1/r==-1/0}function CI(r){return typeof r=="number"&&Number.isInteger(r)&&!Th(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="";function xI(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=qv(e)),e=NI(r.get(n),e);return qv(e)}function NI(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case LT:n+="";break;default:n+=u}}return n}function qv(r){return r+LT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function bs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function UT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new eh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new eh(this.root,e,this.comparator,!1)}getReverseIterator(){return new eh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new eh(this.root,e,this.comparator,!0)}}class eh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??$t.RED,this.left=o??$t.EMPTY,this.right=u??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new $t(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Se();const e=this.left.check();if(e!==this.right.check())throw Se();return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw Se()}get value(){throw Se()}get color(){throw Se()}get left(){throw Se()}get right(){throw Se()}copy(e,n,s,o,u){return this}insert(e,n,s){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fv(this.data.getIterator())}getIteratorFrom(e){return new Fv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class Fv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Nn([])}unionWith(e){let n=new Ot(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return wo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new zT("Invalid base64 string: "+u):u}}(e);return new Xt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return je(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const DI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(r){if(Qe(!!r),typeof r=="string"){let e=0;const n=DI.exec(r);if(Qe(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Es(r){return typeof r=="string"?Xt.fromBase64String(r):Xt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="server_timestamp",qT="__type__",HT="__previous_value__",FT="__local_write_time__";function gp(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[qT])===null||n===void 0?void 0:n.stringValue)===BT}function Fh(r){const e=r.mapValue.fields[HT];return gp(e)?Fh(e):e}function lu(r){const e=vs(r.mapValue.fields[FT].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,n,s,o,u,f,m,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g}}const wh="(default)";class uu{constructor(e,n){this.projectId=e,this.database=n||wh}static empty(){return new uu("","")}get isDefaultDatabase(){return this.database===wh}isEqual(e){return e instanceof uu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="__type__",MI="__max__",th={mapValue:{}},$T="__vector__",Sh="value";function Ts(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?gp(r)?4:kI(r)?9007199254740991:PI(r)?10:11:Se()}function Di(r,e){if(r===e)return!0;const n=Ts(r);if(n!==Ts(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return lu(r).isEqual(lu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=vs(o.timestampValue),m=vs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Es(o.bytesValue).isEqual(Es(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_t(o.doubleValue),m=_t(u.doubleValue);return f===m?Th(f)===Th(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return wo(r.arrayValue.values||[],e.arrayValue.values||[],Di);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Hv(f)!==Hv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Di(f[p],m[p])))return!1;return!0}(r,e);default:return Se()}}function cu(r,e){return(r.values||[]).find(n=>Di(n,e))!==void 0}function So(r,e){if(r===e)return 0;const n=Ts(r),s=Ts(e);if(n!==s)return je(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return je(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=_t(u.integerValue||u.doubleValue),p=_t(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return Gv(r.timestampValue,e.timestampValue);case 4:return Gv(lu(r),lu(e));case 5:return je(r.stringValue,e.stringValue);case 6:return function(u,f){const m=Es(u),p=Es(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const T=je(m[g],p[g]);if(T!==0)return T}return je(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=je(_t(u.latitude),_t(f.latitude));return m!==0?m:je(_t(u.longitude),_t(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return $v(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,g,T;const b=u.fields||{},R=f.fields||{},D=(m=b[Sh])===null||m===void 0?void 0:m.arrayValue,M=(p=R[Sh])===null||p===void 0?void 0:p.arrayValue,$=je(((g=D==null?void 0:D.values)===null||g===void 0?void 0:g.length)||0,((T=M==null?void 0:M.values)===null||T===void 0?void 0:T.length)||0);return $!==0?$:$v(D,M)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===th.mapValue&&f===th.mapValue)return 0;if(u===th.mapValue)return 1;if(f===th.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let b=0;b<p.length&&b<T.length;++b){const R=je(p[b],T[b]);if(R!==0)return R;const D=So(m[p[b]],g[T[b]]);if(D!==0)return D}return je(p.length,T.length)}(r.mapValue,e.mapValue);default:throw Se()}}function Gv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return je(r,e);const n=vs(r),s=vs(e),o=je(n.seconds,s.seconds);return o!==0?o:je(n.nanos,s.nanos)}function $v(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=So(n[o],s[o]);if(u)return u}return je(n.length,s.length)}function bo(r){return Lm(r)}function Lm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=vs(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Es(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ye.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Lm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Lm(n.fields[f])}`;return o+"}"}(r.mapValue):Se()}function uh(r){switch(Ts(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fh(r);return e?16+uh(e):16;case 5:return 2*r.stringValue.length;case 6:return Es(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+uh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return bs(s.fields,(u,f)=>{o+=u.length+uh(f)}),o}(r.mapValue);default:throw Se()}}function Kv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Um(r){return!!r&&"integerValue"in r}function _p(r){return!!r&&"arrayValue"in r}function Qv(r){return!!r&&"nullValue"in r}function Yv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ch(r){return!!r&&"mapValue"in r}function PI(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[GT])===null||n===void 0?void 0:n.stringValue)===$T}function eu(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return bs(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=eu(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=eu(r.arrayValue.values[n]);return e}return Object.assign({},r)}function kI(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===MI}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tn{constructor(e){this.value=e}static empty(){return new Tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ch(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=eu(n)}setAll(e){let n=Kt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=eu(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ch(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Di(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ch(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){bs(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new Tn(eu(this.value))}}function KT(r){const e=[];return bs(r.fields,(n,s)=>{const o=new Kt([n]);if(ch(s)){const u=KT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new rn(e,0,be.min(),be.min(),be.min(),Tn.empty(),0)}static newFoundDocument(e,n,s,o){return new rn(e,1,n,be.min(),s,o,0)}static newNoDocument(e,n){return new rn(e,2,n,be.min(),be.min(),Tn.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,be.min(),be.min(),Tn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(be.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=be.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n){this.position=e,this.inclusive=n}}function Xv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=So(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Wv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Di(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,n="asc"){this.field=e,this.dir=n}}function VI(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{}class bt extends QT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new LI(e,n,s):n==="array-contains"?new BI(e,s):n==="in"?new qI(e,s):n==="not-in"?new HI(e,s):n==="array-contains-any"?new FI(e,s):new bt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new UI(e,s):new zI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(So(n,this.value)):n!==null&&Ts(this.value)===Ts(n)&&this.matchesComparison(So(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class si extends QT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new si(e,n)}matches(e){return YT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function YT(r){return r.op==="and"}function XT(r){return jI(r)&&YT(r)}function jI(r){for(const e of r.filters)if(e instanceof si)return!1;return!0}function zm(r){if(r instanceof bt)return r.field.canonicalString()+r.op.toString()+bo(r.value);if(XT(r))return r.filters.map(e=>zm(e)).join(",");{const e=r.filters.map(n=>zm(n)).join(",");return`${r.op}(${e})`}}function WT(r,e){return r instanceof bt?function(s,o){return o instanceof bt&&s.op===o.op&&s.field.isEqual(o.field)&&Di(s.value,o.value)}(r,e):r instanceof si?function(s,o){return o instanceof si&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&WT(f,o.filters[m]),!0):!1}(r,e):void Se()}function ZT(r){return r instanceof bt?function(n){return`${n.field.canonicalString()} ${n.op} ${bo(n.value)}`}(r):r instanceof si?function(n){return n.op.toString()+" {"+n.getFilters().map(ZT).join(" ,")+"}"}(r):"Filter"}class LI extends bt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class UI extends bt{constructor(e,n){super(e,"in",n),this.keys=JT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zI extends bt{constructor(e,n){super(e,"not-in",n),this.keys=JT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function JT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class BI extends bt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return _p(n)&&cu(n.arrayValue,this.value)}}class qI extends bt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cu(this.value.arrayValue,n)}}class HI extends bt{constructor(e,n){super(e,"not-in",n)}matches(e){if(cu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!cu(this.value.arrayValue,n)}}class FI extends bt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!_p(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>cu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function Zv(r,e=null,n=[],s=[],o=null,u=null,f=null){return new GI(r,e,n,s,o,u,f)}function yp(r){const e=Re(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>zm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Hh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>bo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>bo(s)).join(",")),e.le=n}return e.le}function vp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!VI(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!WT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Wv(r.startAt,e.startAt)&&Wv(r.endAt,e.endAt)}function Bm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function $I(r,e,n,s,o,u,f,m){return new Eu(r,e,n,s,o,u,f,m)}function Ep(r){return new Eu(r)}function Jv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function e0(r){return r.collectionGroup!==null}function tu(r){const e=Re(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ot(Kt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new Ah(u,s))}),n.has(Kt.keyField().canonicalString())||e.he.push(new Ah(Kt.keyField(),s))}return e.he}function Ri(r){const e=Re(r);return e.Pe||(e.Pe=KI(e,tu(r))),e.Pe}function KI(r,e){if(r.limitType==="F")return Zv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Ah(o.field,u)});const n=r.endAt?new bh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new bh(r.startAt.position,r.startAt.inclusive):null;return Zv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function qm(r,e){const n=r.filters.concat([e]);return new Eu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Hm(r,e,n){return new Eu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Gh(r,e){return vp(Ri(r),Ri(e))&&r.limitType===e.limitType}function t0(r){return`${yp(Ri(r))}|lt:${r.limitType}`}function ho(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>ZT(o)).join(", ")}]`),Hh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>bo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>bo(o)).join(",")),`Target(${s})`}(Ri(r))}; limitType=${r.limitType})`}function $h(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of tu(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const g=Xv(f,m,p);return f.inclusive?g<=0:g<0}(s.startAt,tu(s),o)||s.endAt&&!function(f,m,p){const g=Xv(f,m,p);return f.inclusive?g>=0:g>0}(s.endAt,tu(s),o))}(r,e)}function QI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function n0(r){return(e,n)=>{let s=!1;for(const o of tu(r)){const u=YI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function YI(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?So(p,g):Se()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Se()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){bs(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return UT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI=new ot(ye.comparator);function gr(){return XI}const i0=new ot(ye.comparator);function Wl(...r){let e=i0;for(const n of r)e=e.insert(n.key,n);return e}function r0(r){let e=i0;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function la(){return nu()}function s0(){return nu()}function nu(){return new pa(r=>r.toString(),(r,e)=>r.isEqual(e))}const WI=new ot(ye.comparator),ZI=new Ot(ye.comparator);function ke(...r){let e=ZI;for(const n of r)e=e.add(n);return e}const JI=new Ot(je);function eC(){return JI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Th(e)?"-0":e}}function a0(r){return{integerValue:""+r}}function o0(r,e){return CI(e)?a0(e):Tp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this._=void 0}}function tC(r,e,n){return r instanceof Rh?function(o,u){const f={fields:{[qT]:{stringValue:BT},[FT]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&gp(u)&&(u=Fh(u)),u&&(f.fields[HT]=u),{mapValue:f}}(n,e):r instanceof Ao?u0(r,e):r instanceof hu?c0(r,e):function(o,u){const f=l0(o,u),m=eE(f)+eE(o.Ie);return Um(f)&&Um(o.Ie)?a0(m):Tp(o.serializer,m)}(r,e)}function nC(r,e,n){return r instanceof Ao?u0(r,e):r instanceof hu?c0(r,e):n}function l0(r,e){return r instanceof fu?function(s){return Um(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Rh extends Kh{}class Ao extends Kh{constructor(e){super(),this.elements=e}}function u0(r,e){const n=h0(e);for(const s of r.elements)n.some(o=>Di(o,s))||n.push(s);return{arrayValue:{values:n}}}class hu extends Kh{constructor(e){super(),this.elements=e}}function c0(r,e){let n=h0(e);for(const s of r.elements)n=n.filter(o=>!Di(o,s));return{arrayValue:{values:n}}}class fu extends Kh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function eE(r){return _t(r.integerValue||r.doubleValue)}function h0(r){return _p(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f0{constructor(e,n){this.field=e,this.transform=n}}function iC(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Ao&&o instanceof Ao||s instanceof hu&&o instanceof hu?wo(s.elements,o.elements,Di):s instanceof fu&&o instanceof fu?Di(s.Ie,o.Ie):s instanceof Rh&&o instanceof Rh}(r.transform,e.transform)}class rC{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function hh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Qh{}function d0(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new wp(r.key,Xn.none()):new Tu(r.key,r.data,Xn.none());{const n=r.data,s=Tn.empty();let o=new Ot(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new As(r.key,s,new Nn(o.toArray()),Xn.none())}}function sC(r,e,n){r instanceof Tu?function(o,u,f){const m=o.value.clone(),p=nE(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof As?function(o,u,f){if(!hh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=nE(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(m0(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function iu(r,e,n,s){return r instanceof Tu?function(u,f,m,p){if(!hh(u.precondition,f))return m;const g=u.value.clone(),T=iE(u.fieldTransforms,p,f);return g.setAll(T),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null}(r,e,n,s):r instanceof As?function(u,f,m,p){if(!hh(u.precondition,f))return m;const g=iE(u.fieldTransforms,p,f),T=f.data;return T.setAll(m0(u)),T.setAll(g),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,e,n,s):function(u,f,m){return hh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function aC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=l0(s.transform,o||null);u!=null&&(n===null&&(n=Tn.empty()),n.set(s.field,u))}return n||null}function tE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&wo(s,o,(u,f)=>iC(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Tu extends Qh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class As extends Qh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function m0(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function nE(r,e,n){const s=new Map;Qe(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,nC(f,m,n[o]))}return s}function iE(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,tC(u,f,e))}return s}class wp extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class oC extends Qh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&sC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=iu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=iu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=s0();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=d0(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(be.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&wo(this.mutations,e.mutations,(n,s)=>tE(n,s))&&wo(this.baseMutations,e.baseMutations,(n,s)=>tE(n,s))}}class Sp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Qe(e.mutations.length===s.length);let o=function(){return WI}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Sp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,Be;function hC(r){switch(r){case J.OK:return Se();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Se()}}function p0(r){if(r===void 0)return pr("GRPC error has no .code"),J.UNKNOWN;switch(r){case St.OK:return J.OK;case St.CANCELLED:return J.CANCELLED;case St.UNKNOWN:return J.UNKNOWN;case St.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case St.INTERNAL:return J.INTERNAL;case St.UNAVAILABLE:return J.UNAVAILABLE;case St.UNAUTHENTICATED:return J.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case St.NOT_FOUND:return J.NOT_FOUND;case St.ALREADY_EXISTS:return J.ALREADY_EXISTS;case St.PERMISSION_DENIED:return J.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case St.ABORTED:return J.ABORTED;case St.OUT_OF_RANGE:return J.OUT_OF_RANGE;case St.UNIMPLEMENTED:return J.UNIMPLEMENTED;case St.DATA_LOSS:return J.DATA_LOSS;default:return Se()}}(Be=St||(St={}))[Be.OK=0]="OK",Be[Be.CANCELLED=1]="CANCELLED",Be[Be.UNKNOWN=2]="UNKNOWN",Be[Be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Be[Be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Be[Be.NOT_FOUND=5]="NOT_FOUND",Be[Be.ALREADY_EXISTS=6]="ALREADY_EXISTS",Be[Be.PERMISSION_DENIED=7]="PERMISSION_DENIED",Be[Be.UNAUTHENTICATED=16]="UNAUTHENTICATED",Be[Be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Be[Be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Be[Be.ABORTED=10]="ABORTED",Be[Be.OUT_OF_RANGE=11]="OUT_OF_RANGE",Be[Be.UNIMPLEMENTED=12]="UNIMPLEMENTED",Be[Be.INTERNAL=13]="INTERNAL",Be[Be.UNAVAILABLE=14]="UNAVAILABLE",Be[Be.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dC=new ps([4294967295,4294967295],0);function rE(r){const e=fC().encode(r),n=new NT;return n.update(e),new Uint8Array(n.digest())}function sE(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ps([n,s],0),new ps([o,u],0)]}class bp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Zl(`Invalid padding: ${n}`);if(s<0)throw new Zl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Zl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Zl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ps.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(ps.fromNumber(s)));return o.compare(dC)===1&&(o=new ps([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=rE(e),[s,o]=sE(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new bp(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=rE(e),[s,o]=sE(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Zl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,wu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Yh(be.min(),o,new ot(je),gr(),ke())}}class wu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new wu(s,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class g0{constructor(e,n){this.targetId=e,this.ge=n}}class _0{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class aE{constructor(){this.pe=0,this.ye=oE(),this.we=Xt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=ke(),n=ke(),s=ke();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Se()}}),new wu(this.we,this.be,e,n,s)}Me(){this.Se=!1,this.ye=oE()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Qe(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class mC{constructor(e){this.ke=e,this.qe=new Map,this.Qe=gr(),this.$e=nh(),this.Ke=nh(),this.Ue=new ot(je)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Se()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Bm(u))if(s===0){const f=new ye(u.path);this.ze(n,f,rn.newNoDocument(f,be.min()))}else Qe(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=Es(s).toUint8Array()}catch(p){if(p instanceof zT)return To("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new bp(f,o,u)}catch(p){return To(p instanceof Zl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Bm(m.target)){const p=new ye(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,rn.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=ke();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Yh(e,n,this.Ue,this.Qe,s);return this.Qe=gr(),this.$e=nh(),this.Ke=nh(),this.Ue=new ot(je),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new aE,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Ot(je),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Ot(je),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new aE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function nh(){return new ot(ye.comparator)}function oE(){return new ot(ye.comparator)}const pC={asc:"ASCENDING",desc:"DESCENDING"},gC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_C={and:"AND",or:"OR"};class yC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Fm(r,e){return r.useProto3Json||Hh(e)?e:{value:e}}function Ih(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function y0(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function vC(r,e){return Ih(r,e.toTimestamp())}function Ii(r){return Qe(!!r),be.fromTimestamp(function(n){const s=vs(n);return new Dt(s.seconds,s.nanos)}(r))}function Ap(r,e){return Gm(r,e).canonicalString()}function Gm(r,e){const n=function(o){return new nt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function v0(r){const e=nt.fromString(r);return Qe(b0(e)),e}function $m(r,e){return Ap(r.databaseId,e.path)}function Sm(r,e){const n=v0(e);if(n.get(1)!==r.databaseId.projectId)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(T0(n))}function E0(r,e){return Ap(r.databaseId,e)}function EC(r){const e=v0(r);return e.length===4?nt.emptyPath():T0(e)}function Km(r){return new nt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function T0(r){return Qe(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function lE(r,e,n){return{name:$m(r,e),fields:n.value.mapValue.fields}}function TC(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,T){return g.useProto3Json?(Qe(T===void 0||typeof T=="string"),Xt.fromBase64String(T||"")):(Qe(T===void 0||T instanceof Buffer||T instanceof Uint8Array),Xt.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(g){const T=g.code===void 0?J.UNKNOWN:p0(g.code);return new he(T,g.message||"")}(f);n=new _0(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Sm(r,s.document.name),u=Ii(s.document.updateTime),f=s.document.createTime?Ii(s.document.createTime):be.min(),m=new Tn({mapValue:{fields:s.document.fields}}),p=rn.newFoundDocument(o,u,f,m),g=s.targetIds||[],T=s.removedTargetIds||[];n=new fh(g,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Sm(r,s.document),u=s.readTime?Ii(s.readTime):be.min(),f=rn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new fh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Sm(r,s.document),u=s.removedTargetIds||[];n=new fh([],u,o,null)}else{if(!("filter"in e))return Se();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new cC(o,u),m=s.targetId;n=new g0(m,f)}}return n}function wC(r,e){let n;if(e instanceof Tu)n={update:lE(r,e.key,e.value)};else if(e instanceof wp)n={delete:$m(r,e.key)};else if(e instanceof As)n={update:lE(r,e.key,e.data),updateMask:DC(e.fieldMask)};else{if(!(e instanceof oC))return Se();n={verify:$m(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof Rh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Ao)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof hu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof fu)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Se()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:vC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se()}(r,e.precondition)),n}function SC(r,e){return r&&r.length>0?(Qe(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?Ii(o.updateTime):Ii(u);return f.isEqual(be.min())&&(f=Ii(u)),new rC(f,o.transformResults||[])}(n,e))):[]}function bC(r,e){return{documents:[E0(r,e.path)]}}function AC(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=E0(r,o);const u=function(g){if(g.length!==0)return S0(si.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(g){if(g.length!==0)return g.map(T=>function(R){return{field:fo(R.field),direction:CC(R.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=Fm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function RC(r){let e=EC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Qe(s===1);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=function(b){const R=w0(b);return R instanceof si&&XT(R)?R.getFilters():[R]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(R=>function(M){return new Ah(mo(M.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(R))}(n.orderBy));let m=null;n.limit&&(m=function(b){let R;return R=typeof b=="object"?b.value:b,Hh(R)?null:R}(n.limit));let p=null;n.startAt&&(p=function(b){const R=!!b.before,D=b.values||[];return new bh(D,R)}(n.startAt));let g=null;return n.endAt&&(g=function(b){const R=!b.before,D=b.values||[];return new bh(D,R)}(n.endAt)),$I(e,o,f,u,m,"F",p,g)}function IC(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function w0(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=mo(n.unaryFilter.field);return bt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=mo(n.unaryFilter.field);return bt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=mo(n.unaryFilter.field);return bt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=mo(n.unaryFilter.field);return bt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Se()}}(r):r.fieldFilter!==void 0?function(n){return bt.create(mo(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Se()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return si.create(n.compositeFilter.filters.map(s=>w0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se()}}(n.compositeFilter.op))}(r):Se()}function CC(r){return pC[r]}function xC(r){return gC[r]}function NC(r){return _C[r]}function fo(r){return{fieldPath:r.canonicalString()}}function mo(r){return Kt.fromServerFormat(r.fieldPath)}function S0(r){return r instanceof bt?function(n){if(n.op==="=="){if(Yv(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NAN"}};if(Qv(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Yv(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NAN"}};if(Qv(n.value))return{unaryFilter:{field:fo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fo(n.field),op:xC(n.op),value:n.value}}}(r):r instanceof si?function(n){const s=n.getFilters().map(o=>S0(o));return s.length===1?s[0]:{compositeFilter:{op:NC(n.op),filters:s}}}(r):Se()}function DC(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function b0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e,n,s,o,u=be.min(),f=be.min(),m=Xt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new hs(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OC{constructor(e){this.Tt=e}}function MC(r){const e=RC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Hm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(){this.Tn=new kC}addToCollectionParentIndex(e,n){return this.Tn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(ys.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(ys.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class kC{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ot(nt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ot(nt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},A0=41943040;class En{static withCacheSize(e){return new En(e,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(A0,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new Ro(0)}static Un(){return new Ro(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="LruGarbageCollector",VC=1048576;function hE([r,e],[n,s]){const o=je(r,n);return o===0?je(e,s):o}class jC{constructor(e){this.Hn=e,this.buffer=new Ot(hE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();hE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class LC{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ue(cE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Po(n)?ue(cE,"Ignoring IndexedDB error during garbage collection: ",n):await Mo(n)}await this.er(3e5)})}}class UC{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return W.resolve(qh.ae);const s=new jC(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(uE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uE):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(g=Date.now(),co()<=Pe.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function zC(r,e){return new UC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(){this.changes=new pa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&iu(s.mutation,o,Nn.empty(),Dt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ke()){const o=la();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Wl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=la();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ke()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=gr();const f=nu(),m=function(){return nu()}();return n.forEach((p,g)=>{const T=s.get(g.key);o.has(g.key)&&(T===void 0||T.mutation instanceof As)?u=u.insert(g.key,g):T!==void 0?(f.set(g.key,T.mutation.getFieldMask()),iu(T.mutation,g,T.mutation.getFieldMask(),Dt.now())):f.set(g.key,Nn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,T)=>f.set(g,T)),n.forEach((g,T)=>{var b;return m.set(g,new qC(T,(b=f.get(g))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,n){const s=nu();let o=new ot((f,m)=>f-m),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let T=s.get(p)||Nn.empty();T=m.applyToLocalView(g,T),s.set(p,T);const b=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,T=p.value,b=s0();T.forEach(R=>{if(!u.has(R)){const D=d0(n.get(R),s.get(R));D!==null&&b.set(R,D),u=u.add(R)}}),f.push(this.documentOverlayCache.saveOverlays(e,g,b))}return W.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):e0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):W.resolve(la());let m=ou,p=u;return f.next(g=>W.forEach(g,(T,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(T)?W.resolve():this.remoteDocumentCache.getEntry(e,T).next(R=>{p=p.insert(T,R)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,ke())).next(T=>({batchId:m,changes:r0(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let o=Wl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Wl();return this.indexManager.getCollectionParents(e,u).next(m=>W.forEach(m,p=>{const g=function(b,R){return new Eu(R,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(T=>{T.forEach((b,R)=>{f=f.insert(b,R)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,g)=>{const T=g.getKey();f.get(T)===null&&(f=f.insert(T,rn.newInvalidDocument(T)))});let m=Wl();return f.forEach((p,g)=>{const T=u.get(p);T!==void 0&&iu(T.mutation,g,Nn.empty(),Dt.now()),$h(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return W.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ii(o.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:MC(o.bundledQuery),readTime:Ii(o.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.overlays=new ot(ye.comparator),this.Rr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=la();return W.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),W.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const o=la(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ot((g,T)=>g-T);const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let T=u.get(g.largestBatchId);T===null&&(T=la(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=la(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,T)=>m.set(g,T)),!(m.size()>=o)););return W.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new uC(n,s));let u=this.Rr.get(n);u===void 0&&(u=ke(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(){this.Vr=new Ot(zt.mr),this.gr=new Ot(zt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new zt(e,n))}br(e,n){e.forEach(s=>this.removeReference(s,n))}Sr(e){const n=new ye(new nt([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ye(new nt([])),s=new zt(n,e),o=new zt(n,e+1);let u=ke();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new zt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ye.comparator(e.key,n.key)||je(e.Cr,n.Cr)}static pr(e,n){return je(e.Cr,n.Cr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ot(zt.mr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new lC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,n){return W.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?pp:this.Fr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ot(je);return n.forEach(o=>{const u=new zt(o,0),f=new zt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),W.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new zt(new ye(u),0);let m=new Ot(je);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Cr)),!0)},f),W.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Qe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return W.forEach(n.mutations,o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new zt(n,0),o=this.Mr.firstAfterOrEqual(s);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.kr=e,this.docs=function(){return new ot(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let s=gr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():rn.newInvalidDocument(o))}),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=gr();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||bI(SI(T),s)<=0||(o.has(T.key)||$h(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Se()}qr(e,n){return W.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new YC(this)}getSize(e){return W.resolve(this.size)}}class YC extends BC{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),W.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e){this.persistence=e,this.Qr=new pa(n=>yp(n),vp),this.lastRemoteSnapshotVersion=be.min(),this.highestTargetId=0,this.$r=0,this.Kr=new Rp,this.targetCount=0,this.Ur=Ro.Kn()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),W.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new Ro(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.zn(n),W.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),W.waitFor(u).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this.Kr.yr(n,s),W.resolve()}removeMatchingKeys(e,n,s){this.Kr.br(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Kr.vr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new qh(0),this.zr=!1,this.zr=!0,this.jr=new $C,this.referenceDelegate=e(this),this.Hr=new XC(this),this.indexManager=new PC,this.remoteDocumentCache=function(o){return new QC(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new OC(n),this.Yr=new FC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new GC,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new KC(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new WC(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return W.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class WC extends RI{constructor(e){super(),this.currentSequenceNumber=e}}class Ip{constructor(e){this.persistence=e,this.ti=new Rp,this.ni=null}static ri(e){return new Ip(e)}get ii(){if(this.ni)return this.ni;throw Se()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),W.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ii,s=>{const o=ye.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,be.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return W.or([()=>W.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Ch{constructor(e,n){this.persistence=e,this.oi=new pa(s=>xI(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=zC(this,n)}static ri(e,n){return new Ch(e,n)}Zr(){}Xr(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return W.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?W.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,be.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),W.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=uh(e.data.value)),n}ar(e,n,s){return W.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Cp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JC{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return XR()?8:II(sn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new ZC;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(co()<=Pe.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",ho(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),W.resolve()):(co()<=Pe.DEBUG&&ue("QueryEngine","Query:",ho(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(co()<=Pe.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",ho(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ri(n))):W.resolve())}rs(e,n){if(Jv(n))return W.resolve(null);let s=Ri(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Hm(n,null,"F"),s=Ri(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=ke(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(n,m);return this.ls(n,g,f,p.readTime)?this.rs(e,Hm(n,null,"F")):this.hs(e,g,n,p)}))})))}ss(e,n,s,o){return Jv(n)||o.isEqual(be.min())?W.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?W.resolve(null):(co()<=Pe.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ho(n)),this.hs(e,f,n,wI(o,ou)).next(m=>m))})}cs(e,n){let s=new Ot(n0(e));return n.forEach((o,u)=>{$h(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return co()<=Pe.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",ho(n)),this.ns.getDocumentsMatchingQuery(e,n,ys.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xp="LocalStore",ex=3e8;class tx{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new ot(je),this.Is=new pa(u=>yp(u),vp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new HC(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function nx(r,e,n,s){return new tx(r,e,n,s)}async function I0(r,e){const n=Re(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=ke();for(const g of o){f.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of u){m.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:f,addedBatchIds:m}))})})}function ix(r,e){const n=Re(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,g,T){const b=g.batch,R=b.keys();let D=W.resolve();return R.forEach(M=>{D=D.next(()=>T.getEntry(p,M)).next($=>{const q=g.docVersions.get(M);Qe(q!==null),$.version.compareTo(q)<0&&(b.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),T.addEntry($)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function C0(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function rx(r,e){const n=Re(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((T,b)=>{const R=o.get(b);if(!R)return;m.push(n.Hr.removeMatchingKeys(u,T.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(u,T.addedDocuments,b)));let D=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?D=D.withResumeToken(Xt.EMPTY_BYTE_STRING,be.min()).withLastLimboFreeSnapshotVersion(be.min()):T.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(T.resumeToken,s)),o=o.insert(b,D),function($,q,G){return $.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=ex?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(R,D,T)&&m.push(n.Hr.updateTargetData(u,D))});let p=gr(),g=ke();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(sx(u,f,e.documentUpdates).next(T=>{p=T.Vs,g=T.fs})),!s.isEqual(be.min())){const T=n.Hr.getLastRemoteSnapshotVersion(u).next(b=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return W.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function sx(r,e,n){let s=ke(),o=ke();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=gr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(be.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ue(xp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function ax(r,e){const n=Re(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=pp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function ox(r,e){const n=Re(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,W.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new hs(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Qm(r,e,n){const s=Re(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Po(f))throw f;ue(xp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function fE(r,e,n){const s=Re(r);let o=be.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,g,T){const b=Re(p),R=b.Is.get(T);return R!==void 0?W.resolve(b.Ts.get(R)):b.Hr.getTargetData(g,T)}(s,f,Ri(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:be.min(),n?u:ke())).next(m=>(lx(s,QI(e),m),{documents:m,gs:u})))}function lx(r,e,n){let s=r.Es.get(e)||be.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class dE{constructor(){this.activeTargetIds=eC()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ux{constructor(){this.ho=new dE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new dE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="ConnectivityMonitor";class pE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ue(mE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ue(mE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ih=null;function Ym(){return ih===null?ih=function(){return 268435456+Math.round(2147483648*Math.random())}():ih++,"0x"+ih.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="RestConnection",hx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fx{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===wh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,n,s,o,u){const f=Ym(),m=this.So(e,n.toUriEncodedString());ue(bm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(g=>(ue(bm,`Received RPC '${e}' ${f}: `,g),g),g=>{throw To(bm,`RPC '${e}' ${f} failed with error: `,g,"url: ",m,"request:",s),g})}Co(e,n,s,o,u,f){return this.bo(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Oo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}So(e,n){const s=hx[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class mx extends fx{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=Ym();return new Promise((f,m)=>{const p=new DT;p.setWithCredentials(!0),p.listenOnce(OT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case lh.NO_ERROR:const T=p.getResponseJson();ue(en,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),f(T);break;case lh.TIMEOUT:ue(en,`RPC '${e}' ${u} timed out`),m(new he(J.DEADLINE_EXCEEDED,"Request time out"));break;case lh.HTTP_ERROR:const b=p.getStatus();if(ue(en,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const D=R==null?void 0:R.error;if(D&&D.status&&D.message){const M=function(q){const G=q.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(G)>=0?G:J.UNKNOWN}(D.status);m(new he(M,D.message))}else m(new he(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new he(J.UNAVAILABLE,"Connection failed."));break;default:Se()}}finally{ue(en,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ue(en,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}Wo(e,n,s){const o=Ym(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=kT(),m=PT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");ue(en,`Creating RPC '${e}' stream ${o}: ${T}`,p);const b=f.createWebChannel(T,p);let R=!1,D=!1;const M=new dx({Fo:q=>{D?ue(en,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(R||(ue(en,`Opening RPC '${e}' stream ${o} transport.`),b.open(),R=!0),ue(en,`RPC '${e}' stream ${o} sending:`,q),b.send(q))},Mo:()=>b.close()}),$=(q,G,te)=>{q.listen(G,ee=>{try{te(ee)}catch(ce){setTimeout(()=>{throw ce},0)}})};return $(b,Xl.EventType.OPEN,()=>{D||(ue(en,`RPC '${e}' stream ${o} transport opened.`),M.Qo())}),$(b,Xl.EventType.CLOSE,()=>{D||(D=!0,ue(en,`RPC '${e}' stream ${o} transport closed`),M.Ko())}),$(b,Xl.EventType.ERROR,q=>{D||(D=!0,To(en,`RPC '${e}' stream ${o} transport errored:`,q),M.Ko(new he(J.UNAVAILABLE,"The operation could not be completed")))}),$(b,Xl.EventType.MESSAGE,q=>{var G;if(!D){const te=q.data[0];Qe(!!te);const ee=te,ce=(ee==null?void 0:ee.error)||((G=ee[0])===null||G===void 0?void 0:G.error);if(ce){ue(en,`RPC '${e}' stream ${o} received error:`,ce);const ie=ce.status;let ae=function(A){const x=St[A];if(x!==void 0)return p0(x)}(ie),O=ce.message;ae===void 0&&(ae=J.INTERNAL,O="Unknown error status: "+ie+" with message "+ce.message),D=!0,M.Ko(new he(ae,O)),b.close()}else ue(en,`RPC '${e}' stream ${o} received:`,te),M.Uo(te)}}),$(m,MT.STAT_EVENT,q=>{q.stat===jm.PROXY?ue(en,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===jm.NOPROXY&&ue(en,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{M.$o()},0),M}}function Am(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(r){return new yC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gE="PersistentStream";class N0{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new x0(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new he(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ue(gE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ue(gE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class px extends N0{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=TC(this.serializer,e),s=function(u){if(!("targetChange"in u))return be.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?be.min():f.readTime?Ii(f.readTime):be.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Km(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Bm(p)?{documents:bC(u,p)}:{query:AC(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=y0(u,f.resumeToken);const g=Fm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(be.min())>0){m.readTime=Ih(u,f.snapshotVersion.toTimestamp());const g=Fm(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=IC(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Km(this.serializer),n.removeTarget=e,this.I_(n)}}class gx extends N0{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,Qe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=SC(e.writeResults,e.commitTime),s=Ii(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Km(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>wC(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _x{}class yx extends _x{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(e,Gm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(J.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Gm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new he(J.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class vx{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(pr(n),this.N_=!1):ue("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ha="RemoteStore";class Ex{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{ga(this)&&(ue(ha,"Restarting streams for network reachability change."),await async function(p){const g=Re(p);g.W_.add(4),await Su(g),g.j_.set("Unknown"),g.W_.delete(4),await Wh(g)}(this))})}),this.j_=new vx(s,o)}}async function Wh(r){if(ga(r))for(const e of r.G_)await e(!0)}async function Su(r){for(const e of r.G_)await e(!1)}function D0(r,e){const n=Re(r);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Mp(n)?Op(n):ko(n).c_()&&Dp(n,e))}function Np(r,e){const n=Re(r),s=ko(n);n.U_.delete(e),s.c_()&&O0(n,e),n.U_.size===0&&(s.c_()?s.P_():ga(n)&&n.j_.set("Unknown"))}function Dp(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(be.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ko(r).y_(e)}function O0(r,e){r.H_.Ne(e),ko(r).w_(e)}function Op(r){r.H_=new mC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),ko(r).start(),r.j_.B_()}function Mp(r){return ga(r)&&!ko(r).u_()&&r.U_.size>0}function ga(r){return Re(r).W_.size===0}function M0(r){r.H_=void 0}async function Tx(r){r.j_.set("Online")}async function wx(r){r.U_.forEach((e,n)=>{Dp(r,e)})}async function Sx(r,e){M0(r),Mp(r)?(r.j_.q_(e),Op(r)):r.j_.set("Unknown")}async function bx(r,e,n){if(r.j_.set("Online"),e instanceof _0&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){ue(ha,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await xh(r,s)}else if(e instanceof fh?r.H_.We(e):e instanceof g0?r.H_.Ze(e):r.H_.je(e),!n.isEqual(be.min()))try{const s=await C0(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.U_.get(g);T&&u.U_.set(g,T.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,g)=>{const T=u.U_.get(p);if(!T)return;u.U_.set(p,T.withResumeToken(Xt.EMPTY_BYTE_STRING,T.snapshotVersion)),O0(u,p);const b=new hs(T.target,p,g,T.sequenceNumber);Dp(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ue(ha,"Failed to raise snapshot:",s),await xh(r,s)}}async function xh(r,e,n){if(!Po(e))throw e;r.W_.add(1),await Su(r),r.j_.set("Offline"),n||(n=()=>C0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ue(ha,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Wh(r)})}function P0(r,e){return e().catch(n=>xh(r,n,e))}async function Zh(r){const e=Re(r),n=ws(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:pp;for(;Ax(e);)try{const o=await ax(e.localStore,s);if(o===null){e.K_.length===0&&n.P_();break}s=o.batchId,Rx(e,o)}catch(o){await xh(e,o)}k0(e)&&V0(e)}function Ax(r){return ga(r)&&r.K_.length<10}function Rx(r,e){r.K_.push(e);const n=ws(r);n.c_()&&n.b_&&n.S_(e.mutations)}function k0(r){return ga(r)&&!ws(r).u_()&&r.K_.length>0}function V0(r){ws(r).start()}async function Ix(r){ws(r).C_()}async function Cx(r){const e=ws(r);for(const n of r.K_)e.S_(n.mutations)}async function xx(r,e,n){const s=r.K_.shift(),o=Sp.from(s,e,n);await P0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Zh(r)}async function Nx(r,e){e&&ws(r).b_&&await async function(s,o){if(function(f){return hC(f)&&f!==J.ABORTED}(o.code)){const u=s.K_.shift();ws(s).h_(),await P0(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Zh(s)}}(r,e),k0(r)&&V0(r)}async function _E(r,e){const n=Re(r);n.asyncQueue.verifyOperationInProgress(),ue(ha,"RemoteStore received new credentials");const s=ga(n);n.W_.add(3),await Su(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Wh(n)}async function Dx(r,e){const n=Re(r);e?(n.W_.delete(2),await Wh(n)):e||(n.W_.add(2),await Su(n),n.j_.set("Unknown"))}function ko(r){return r.J_||(r.J_=function(n,s,o){const u=Re(n);return u.M_(),new px(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:Tx.bind(null,r),No:wx.bind(null,r),Lo:Sx.bind(null,r),p_:bx.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Mp(r)?Op(r):r.j_.set("Unknown")):(await r.J_.stop(),M0(r))})),r.J_}function ws(r){return r.Y_||(r.Y_=function(n,s,o){const u=Re(n);return u.M_(),new gx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:Ix.bind(null,r),Lo:Nx.bind(null,r),D_:Cx.bind(null,r),v_:xx.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Zh(r)):(await r.Y_.stop(),r.K_.length>0&&(ue(ha,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Pp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function kp(r,e){if(pr("AsyncQueue",`${e}: ${r}`),Po(r))return new he(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{static emptySet(e){return new go(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Wl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new go;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.Z_=new ot(ye.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Se():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Io{constructor(e,n,s,o,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Io(e,n,go.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Gh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ox{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Mx{constructor(){this.queries=vE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Re(n),u=o.queries;o.queries=vE(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new he(J.ABORTED,"Firestore shutting down"))}}function vE(){return new pa(r=>t0(r),Gh)}async function j0(r,e){const n=Re(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new Ox,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=kp(f,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&Vp(n)}async function L0(r,e){const n=Re(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Px(r,e){const n=Re(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&Vp(n)}function kx(r,e,n){const s=Re(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function Vp(r){r.ia.forEach(e=>{e.next()})}var Xm,EE;(EE=Xm||(Xm={}))._a="default",EE.Cache="cache";class U0{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Io(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Xm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e){this.key=e}}class B0{constructor(e){this.key=e}}class Vx{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=ke(),this.mutatedKeys=ke(),this.ya=n0(e),this.wa=new go(this.ya)}get ba(){return this.fa}Sa(e,n){const s=n?n.Da:new yE,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,b)=>{const R=o.get(T),D=$h(this.query,b)?b:null,M=!!R&&this.mutatedKeys.has(R.key),$=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let q=!1;R&&D?R.data.isEqual(D.data)?M!==$&&(s.track({type:3,doc:D}),q=!0):this.va(R,D)||(s.track({type:2,doc:D}),q=!0,(p&&this.ya(D,p)>0||g&&this.ya(D,g)<0)&&(m=!0)):!R&&D?(s.track({type:0,doc:D}),q=!0):R&&!D&&(s.track({type:1,doc:R}),q=!0,(p||g)&&(m=!0)),q&&(D?(f=f.add(D),u=$?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((T,b)=>function(D,M){const $=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se()}};return $(D)-$(M)}(T.type,b.type)||this.ya(T.doc,b.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,f.length!==0||g?{snapshot:new Io(this.query,e.wa,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new yE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=ke(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new B0(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new z0(s))}),n}Oa(e){this.fa=e.gs,this.pa=ke();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return Io.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const jp="SyncEngine";class jx{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Lx{constructor(e){this.key=e,this.Ba=!1}}class Ux{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new pa(m=>t0(m),Gh),this.qa=new Map,this.Qa=new Set,this.$a=new ot(ye.comparator),this.Ka=new Map,this.Ua=new Rp,this.Wa={},this.Ga=new Map,this.za=Ro.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function zx(r,e,n=!0){const s=K0(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await q0(s,e,n,!0),o}async function Bx(r,e){const n=K0(r);await q0(n,e,!0,!1)}async function q0(r,e,n,s){const o=await ox(r.localStore,Ri(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await qx(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&D0(r.remoteStore,o),m}async function qx(r,e,n,s,o){r.Ha=(b,R,D)=>async function($,q,G,te){let ee=q.view.Sa(G);ee.ls&&(ee=await fE($.localStore,q.query,!1).then(({documents:O})=>q.view.Sa(O,ee)));const ce=te&&te.targetChanges.get(q.targetId),ie=te&&te.targetMismatches.get(q.targetId)!=null,ae=q.view.applyChanges(ee,$.isPrimaryClient,ce,ie);return wE($,q.targetId,ae.Ma),ae.snapshot}(r,b,R,D);const u=await fE(r.localStore,e,!0),f=new Vx(e,u.gs),m=f.Sa(u.documents),p=wu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),g=f.applyChanges(m,r.isPrimaryClient,p);wE(r,n,g.Ma);const T=new jx(e,n,f);return r.ka.set(e,T),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),g.snapshot}async function Hx(r,e,n){const s=Re(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Gh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Qm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Np(s.remoteStore,o.targetId),Wm(s,o.targetId)}).catch(Mo)):(Wm(s,o.targetId),await Qm(s.localStore,o.targetId,!0))}async function Fx(r,e){const n=Re(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Np(n.remoteStore,s.targetId))}async function Gx(r,e,n){const s=Zx(r);try{const o=await function(f,m){const p=Re(f),g=Dt.now(),T=m.reduce((D,M)=>D.add(M.key),ke());let b,R;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let M=gr(),$=ke();return p.ds.getEntries(D,T).next(q=>{M=q,M.forEach((G,te)=>{te.isValidDocument()||($=$.add(G))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,M)).next(q=>{b=q;const G=[];for(const te of m){const ee=aC(te,b.get(te.key).overlayedDocument);ee!=null&&G.push(new As(te.key,ee,KT(ee.value.mapValue),Xn.exists(!0)))}return p.mutationQueue.addMutationBatch(D,g,G,m)}).next(q=>{R=q;const G=q.applyToLocalDocumentSet(b,$);return p.documentOverlayCache.saveOverlays(D,q.batchId,G)})}).then(()=>({batchId:R.batchId,changes:r0(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let g=f.Wa[f.currentUser.toKey()];g||(g=new ot(je)),g=g.insert(m,p),f.Wa[f.currentUser.toKey()]=g}(s,o.batchId,n),await bu(s,o.changes),await Zh(s.remoteStore)}catch(o){const u=kp(o,"Failed to persist write");n.reject(u)}}async function H0(r,e){const n=Re(r);try{const s=await rx(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&(Qe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Qe(f.Ba):o.removedDocuments.size>0&&(Qe(f.Ba),f.Ba=!1))}),await bu(n,s,e)}catch(s){await Mo(s)}}function TE(r,e,n){const s=Re(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Re(f);p.onlineState=m;let g=!1;p.queries.forEach((T,b)=>{for(const R of b.ta)R.sa(m)&&(g=!0)}),g&&Vp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function $x(r,e,n){const s=Re(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ka.get(e),u=o&&o.key;if(u){let f=new ot(ye.comparator);f=f.insert(u,rn.newNoDocument(u,be.min()));const m=ke().add(u),p=new Yh(be.min(),new Map,new ot(je),f,m);await H0(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),Lp(s)}else await Qm(s.localStore,e,!1).then(()=>Wm(s,e,n)).catch(Mo)}async function Kx(r,e){const n=Re(r),s=e.batch.batchId;try{const o=await ix(n.localStore,e);G0(n,s,null),F0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await bu(n,o)}catch(o){await Mo(o)}}async function Qx(r,e,n){const s=Re(r);try{const o=await function(f,m){const p=Re(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let T;return p.mutationQueue.lookupMutationBatch(g,m).next(b=>(Qe(b!==null),T=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T)).next(()=>p.localDocuments.getDocuments(g,T))})}(s.localStore,e);G0(s,e,n),F0(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await bu(s,o)}catch(o){await Mo(o)}}function F0(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function G0(r,e,n){const s=Re(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Wm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ua.Sr(e).forEach(s=>{r.Ua.containsKey(s)||$0(r,s)})}function $0(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(Np(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ka.delete(n),Lp(r))}function wE(r,e,n){for(const s of n)s instanceof z0?(r.Ua.addReference(s.key,e),Yx(r,s)):s instanceof B0?(ue(jp,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||$0(r,s.key)):Se()}function Yx(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(ue(jp,"New document in limbo: "+n),r.Qa.add(s),Lp(r))}function Lp(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new ye(nt.fromString(e)),s=r.za.next();r.Ka.set(s,new Lx(n)),r.$a=r.$a.insert(n,s),D0(r.remoteStore,new hs(Ri(Ep(n.path)),s,"TargetPurposeLimboResolution",qh.ae))}}async function bu(r,e,n){const s=Re(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(g=>{var T;if((g||n)&&s.isPrimaryClient){const b=g?!g.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=Cp.Yi(p.targetId,g);u.push(b)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,g){const T=Re(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>W.forEach(g,R=>W.forEach(R.Hi,D=>T.persistence.referenceDelegate.addReference(b,R.targetId,D)).next(()=>W.forEach(R.Ji,D=>T.persistence.referenceDelegate.removeReference(b,R.targetId,D)))))}catch(b){if(!Po(b))throw b;ue(xp,"Failed to update sequence numbers: "+b)}for(const b of g){const R=b.targetId;if(!b.fromCache){const D=T.Ts.get(R),M=D.snapshotVersion,$=D.withLastLimboFreeSnapshotVersion(M);T.Ts=T.Ts.insert(R,$)}}}(s.localStore,u))}async function Xx(r,e){const n=Re(r);if(!n.currentUser.isEqual(e)){ue(jp,"User change. New user:",e.toKey());const s=await I0(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new he(J.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await bu(n,s.Rs)}}function Wx(r,e){const n=Re(r),s=n.Ka.get(e);if(s&&s.Ba)return ke().add(s.key);{let o=ke();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.ba)}return o}}function K0(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=H0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$x.bind(null,e),e.La.p_=Px.bind(null,e.eventManager),e.La.Ja=kx.bind(null,e.eventManager),e}function Zx(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Kx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Qx.bind(null,e),e}class Nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Xh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return nx(this.persistence,new JC,e.initialUser,this.serializer)}Xa(e){return new R0(Ip.ri,this.serializer)}Za(e){return new ux}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nh.provider={build:()=>new Nh};class Jx extends Nh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Qe(this.persistence.referenceDelegate instanceof Ch);const s=this.persistence.referenceDelegate.garbageCollector;return new LC(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new R0(s=>Ch.ri(s,n),this.serializer)}}class Zm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>TE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=Xx.bind(null,this.syncEngine),await Dx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Mx}()}createDatastore(e){const n=Xh(e.databaseInfo.databaseId),s=function(u){return new mx(u)}(e.databaseInfo);return function(u,f,m,p){return new yx(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new Ex(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>TE(this.syncEngine,n,0),function(){return pE.D()?new pE:new cx}())}createSyncEngine(e,n){return function(o,u,f,m,p,g,T){const b=new Ux(o,u,f,m,p,g);return T&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Re(o);ue(ha,"RemoteStore shutting down."),u.W_.add(5),await Su(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Zm.provider={build:()=>new Zm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="FirestoreClient";class eN{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=jT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ue(Ss,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ue(Ss,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=kp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Rm(r,e){r.asyncQueue.verifyOperationInProgress(),ue(Ss,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await I0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function SE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await tN(r);ue(Ss,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>_E(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>_E(e.remoteStore,o)),r._onlineComponents=e}async function tN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(Ss,"Using user provided OfflineComponentProvider");try{await Rm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;To("Error using user provided cache. Falling back to memory cache: "+n),await Rm(r,new Nh)}}else ue(Ss,"Using default OfflineComponentProvider"),await Rm(r,new Jx(void 0));return r._offlineComponents}async function Y0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(Ss,"Using user provided OnlineComponentProvider"),await SE(r,r._uninitializedComponentsProvider._online)):(ue(Ss,"Using default OnlineComponentProvider"),await SE(r,new Zm))),r._onlineComponents}function nN(r){return Y0(r).then(e=>e.syncEngine)}async function X0(r){const e=await Y0(r),n=e.eventManager;return n.onListen=zx.bind(null,e.syncEngine),n.onUnlisten=Hx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Bx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Fx.bind(null,e.syncEngine),n}function iN(r,e,n={}){const s=new hr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const T=new Q0({next:R=>{T.su(),f.enqueueAndForget(()=>L0(u,b));const D=R.docs.has(m);!D&&R.fromCache?g.reject(new he(J.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&R.fromCache&&p&&p.source==="server"?g.reject(new he(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(R)},error:R=>g.reject(R)}),b=new U0(Ep(m.path),T,{includeMetadataChanges:!0,Ta:!0});return j0(u,b)}(await X0(r),r.asyncQueue,e,n,s)),s.promise}function rN(r,e,n={}){const s=new hr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,g){const T=new Q0({next:R=>{T.su(),f.enqueueAndForget(()=>L0(u,b)),R.fromCache&&p.source==="server"?g.reject(new he(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(R)},error:R=>g.reject(R)}),b=new U0(m,T,{includeMetadataChanges:!0,Ta:!0});return j0(u,b)}(await X0(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z0(r,e,n){if(!n)throw new he(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function sN(r,e,n,s){if(e===!0&&s===!0)throw new he(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function AE(r){if(!ye.isDocumentKey(r))throw new he(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function RE(r){if(ye.isDocumentKey(r))throw new he(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Jh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Se()}function ai(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jh(r);throw new he(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J0="firestore.googleapis.com",IE=!0;class CE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new he(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=J0,this.ssl=IE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:IE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=A0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<VC)throw new he(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sN("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=W0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ef{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new mI;switch(s.type){case"firstParty":return new yI(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=bE.get(n);s&&(ue("ComponentProvider","Removing Datastore"),bE.delete(n),s.terminate())}(this),Promise.resolve()}}function aN(r,e,n,s={}){var o;const u=(r=ai(r,ef))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==J0&&u.host!==m&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!_s(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,T;if(typeof s.mockUserToken=="string")g=s.mockUserToken,T=nn.MOCK_USER;else{g=HR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new he(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new nn(b)}r._authCredentials=new pI(new VT(g,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Vo(this.firestore,e,this._query)}}class pn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new pn(this.firestore,e,this._key)}}class gs extends Vo{constructor(e,n,s){super(e,n,Ep(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new pn(this.firestore,null,new ye(e))}withConverter(e){return new gs(this.firestore,e,this._path)}}function Au(r,e,...n){if(r=Yt(r),Z0("collection","path",e),r instanceof ef){const s=nt.fromString(e,...n);return RE(s),new gs(r,null,s)}{if(!(r instanceof pn||r instanceof gs))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return RE(s),new gs(r.firestore,null,s)}}function Dn(r,e,...n){if(r=Yt(r),arguments.length===1&&(e=jT.newId()),Z0("doc","path",e),r instanceof ef){const s=nt.fromString(e,...n);return AE(s),new pn(r,null,new ye(s))}{if(!(r instanceof pn||r instanceof gs))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(nt.fromString(e,...n));return AE(s),new pn(r.firestore,r instanceof gs?r.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xE="AsyncQueue";class NE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new x0(this,"async_queue_retry"),this.bu=()=>{const s=Am();s&&ue(xE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const n=Am();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=Am();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new hr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Po(e))throw e;ue(xE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw pr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Pp.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Se()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class _a extends ef{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new NE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new NE(e),this._firestoreClient=void 0,await e}}}function oN(r,e){const n=typeof r=="object"?r:IT(),s=typeof r=="string"?r:wh,o=dp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=BR("firestore");u&&aN(o,...u)}return o}function Up(r){if(r._terminated)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||lN(r),r._firestoreClient}function lN(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,g,T){return new OI(m,p,g,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,W0(T.experimentalLongPollingOptions),T.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new eN(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Co(Xt.fromBase64String(e))}catch(n){throw new he(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Co(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return je(this._lat,e._lat)||je(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN=/^__.*__$/;class cN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new As(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tu(e,this.data,n,this.fieldTransforms)}}class ew{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new As(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function tw(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se()}}class nf{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new nf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Dh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(tw(this.Lu)&&uN.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class hN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Xh(e)}ju(e,n,s,o=!1){return new nf({Lu:e,methodName:n,zu:s,path:Kt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rf(r){const e=r._freezeSettings(),n=Xh(r._databaseId);return new hN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function nw(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);Fp("Data must be an object, but it was:",f,s);const m=iw(s,f);let p,g;if(u.merge)p=new Nn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const R=Jm(e,b,n);if(!f.contains(R))throw new he(J.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);sw(T,R)||T.push(R)}p=new Nn(T),g=f.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=f.fieldTransforms;return new cN(new Tn(m),p,g)}class sf extends Ru{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof sf}}function fN(r,e,n){return new nf({Lu:3,zu:e.settings.zu,methodName:r._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class qp extends Ru{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=fN(this,e,!0),s=this.Hu.map(u=>jo(u,n)),o=new Ao(s);return new f0(e.path,o)}isEqual(e){return e instanceof qp&&_s(this.Hu,e.Hu)}}class Hp extends Ru{constructor(e,n){super(e),this.Ju=n}_toFieldTransform(e){const n=new fu(e.serializer,o0(e.serializer,this.Ju));return new f0(e.path,n)}isEqual(e){return e instanceof Hp&&this.Ju===e.Ju}}function dN(r,e,n,s){const o=r.ju(1,e,n);Fp("Data must be an object, but it was:",o,s);const u=[],f=Tn.empty();bs(s,(p,g)=>{const T=Gp(e,p,n);g=Yt(g);const b=o.Ku(T);if(g instanceof sf)u.push(T);else{const R=jo(g,b);R!=null&&(u.push(T),f.set(T,R))}});const m=new Nn(u);return new ew(f,m,o.fieldTransforms)}function mN(r,e,n,s,o,u){const f=r.ju(1,e,n),m=[Jm(e,s,n)],p=[o];if(u.length%2!=0)throw new he(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(Jm(e,u[R])),p.push(u[R+1]);const g=[],T=Tn.empty();for(let R=m.length-1;R>=0;--R)if(!sw(g,m[R])){const D=m[R];let M=p[R];M=Yt(M);const $=f.Ku(D);if(M instanceof sf)g.push(D);else{const q=jo(M,$);q!=null&&(g.push(D),T.set(D,q))}}const b=new Nn(g);return new ew(T,b,f.fieldTransforms)}function pN(r,e,n,s=!1){return jo(n,r.ju(s?4:3,e))}function jo(r,e){if(rw(r=Yt(r)))return Fp("Unsupported field value:",e,r),iw(r,e);if(r instanceof Ru)return function(s,o){if(!tw(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=jo(m,o.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=Yt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return o0(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Dt.fromDate(s);return{timestampValue:Ih(o.serializer,u)}}if(s instanceof Dt){const u=new Dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ih(o.serializer,u)}}if(s instanceof zp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Co)return{bytesValue:y0(o.serializer,s._byteString)};if(s instanceof pn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Ap(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Bp)return function(f,m){return{mapValue:{fields:{[GT]:{stringValue:$T},[Sh]:{arrayValue:{values:f.toArray().map(g=>{if(typeof g!="number")throw m.Wu("VectorValues must only contain numeric values.");return Tp(m.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Jh(s)}`)}(r,e)}function iw(r,e){const n={};return UT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bs(r,(s,o)=>{const u=jo(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function rw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Dt||r instanceof zp||r instanceof Co||r instanceof pn||r instanceof Ru||r instanceof Bp)}function Fp(r,e,n){if(!rw(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Jh(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function Jm(r,e,n){if((e=Yt(e))instanceof tf)return e._internalPath;if(typeof e=="string")return Gp(r,e);throw Dh("Field path arguments must be of type string or ",r,!1,void 0,n)}const gN=new RegExp("[~\\*/\\[\\]]");function Gp(r,e,n){if(e.search(gN)>=0)throw Dh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new tf(...e.split("."))._internalPath}catch{throw Dh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Dh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new he(J.INVALID_ARGUMENT,m+r+p)}function sw(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new pn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new _N(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field($p("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class _N extends aw{data(){return super.data()}}function $p(r,e){return typeof e=="string"?Gp(r,e):e instanceof tf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kp{}class vN extends Kp{}function ow(r,e,...n){let s=[];e instanceof Kp&&s.push(e),s=s.concat(n),function(u){const f=u.filter(p=>p instanceof Qp).length,m=u.filter(p=>p instanceof af).length;if(f>1||f>0&&m>0)throw new he(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class af extends vN{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new af(e,n,s)}_apply(e){const n=this._parse(e);return uw(e._query,n),new Vo(e.firestore,e.converter,qm(e._query,n))}_parse(e){const n=rf(e.firestore);return function(u,f,m,p,g,T,b){let R;if(g.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new he(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){OE(b,T);const M=[];for(const $ of b)M.push(DE(p,u,$));R={arrayValue:{values:M}}}else R=DE(p,u,b)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||OE(b,T),R=pN(m,f,b,T==="in"||T==="not-in");return bt.create(g,T,R)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function lw(r,e,n){const s=e,o=$p("where",r);return af._create(o,s,n)}class Qp extends Kp{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Qp(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:si.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let f=o;const m=u.getFlattenedFilters();for(const p of m)uw(f,p),f=qm(f,p)}(e._query,n),new Vo(e.firestore,e.converter,qm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function DE(r,e,n){if(typeof(n=Yt(n))=="string"){if(n==="")throw new he(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!e0(e)&&n.indexOf("/")!==-1)throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(nt.fromString(n));if(!ye.isDocumentKey(s))throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Kv(r,new ye(s))}if(n instanceof pn)return Kv(r,n._key);throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jh(n)}.`)}function OE(r,e){if(!Array.isArray(r)||r.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function uw(r,e){const n=function(o,u){for(const f of o)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class EN{convertValue(e,n="none"){switch(Ts(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Es(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return bs(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Sh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>_t(f.doubleValue));return new Bp(u)}convertGeoPoint(e){return new zp(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Fh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(lu(e));default:return null}}convertTimestamp(e){const n=vs(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=nt.fromString(e);Qe(b0(s));const o=new uu(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||pr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hw extends aw{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new dh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field($p("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class dh extends hw{data(e={}){return super.data(e)}}class TN{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Jl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new dh(this._firestore,this._userDataWriter,s.key,s,new Jl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new dh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Jl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,T=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:wN(m.type),doc:p,oldIndex:g,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function wN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fw(r){r=ai(r,pn);const e=ai(r.firestore,_a);return iN(Up(e),r._key).then(n=>AN(e,r,n))}class dw extends EN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Co(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new pn(this.firestore,null,n)}}function of(r){r=ai(r,Vo);const e=ai(r.firestore,_a),n=Up(e),s=new dw(e);return yN(r._query),rN(n,r._query).then(o=>new TN(e,s,r,o))}function mw(r,e,n){r=ai(r,pn);const s=ai(r.firestore,_a),o=cw(r.converter,e);return lf(s,[nw(rf(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Xn.none())])}function fa(r,e,n,...s){r=ai(r,pn);const o=ai(r.firestore,_a),u=rf(o);let f;return f=typeof(e=Yt(e))=="string"||e instanceof tf?mN(u,"updateDoc",r._key,e,n,s):dN(u,"updateDoc",r._key,e),lf(o,[f.toMutation(r._key,Xn.exists(!0))])}function SN(r){return lf(ai(r.firestore,_a),[new wp(r._key,Xn.none())])}function bN(r,e){const n=ai(r.firestore,_a),s=Dn(r),o=cw(r.converter,e);return lf(n,[nw(rf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Xn.exists(!1))]).then(()=>s)}function lf(r,e){return function(s,o){const u=new hr;return s.asyncQueue.enqueueAndForget(async()=>Gx(await nN(s),o,u)),u.promise}(Up(r),e)}function AN(r,e,n){const s=n.docs.get(e._key),o=new dw(r);return new hw(r,o,e._key,s,new Jl(n.hasPendingWrites,n.fromCache),e.converter)}function Yp(...r){return new qp("arrayUnion",r)}function Xp(r){return new Hp("increment",r)}(function(e,n=!0){(function(o){Oo=o})(Do),Eo(new ua("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new _a(new gI(s.getProvider("auth-internal")),new vI(f,s.getProvider("app-check-internal")),function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new he(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uu(g.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),ms(Vv,jv,e),ms(Vv,jv,"esm2017")})();function Wp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function pw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const RN=pw,gw=new yu("auth","Firebase",pw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new hp("@firebase/auth");function IN(r,...e){Oh.logLevel<=Pe.WARN&&Oh.warn(`Auth (${Do}): ${r}`,...e)}function mh(r,...e){Oh.logLevel<=Pe.ERROR&&Oh.error(`Auth (${Do}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oi(r,...e){throw Zp(r,...e)}function Ci(r,...e){return Zp(r,...e)}function _w(r,e,n){const s=Object.assign(Object.assign({},RN()),{[e]:n});return new yu("auth","Firebase",s).create(e,{appName:r.name})}function fr(r){return _w(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Zp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return gw.create(r,...e)}function we(r,e,...n){if(!r)throw Zp(e,...n)}function or(r){const e="INTERNAL ASSERTION FAILED: "+r;throw mh(e),new Error(e)}function _r(r,e){r||or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function CN(){return ME()==="http:"||ME()==="https:"}function ME(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(CN()||KR()||"connection"in navigator)?navigator.onLine:!0}function NN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n){this.shortDelay=e,this.longDelay=n,_r(n>e,"Short delay should be less than long delay!"),this.isMobile=FR()||QR()}get(){return xN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(r,e){_r(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON=new Iu(3e4,6e4);function Rs(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Is(r,e,n,s,o={}){return vw(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=vu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:p},u);return $R()||(g.referrerPolicy="no-referrer"),yw.fetch()(Ew(r,r.config.apiHost,n,m),g)})}async function vw(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},DN),e);try{const o=new PN(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw rh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw rh(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw rh(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw rh(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw _w(r,T,g);oi(r,T)}}catch(o){if(o instanceof Er)throw o;oi(r,"network-request-failed",{message:String(o)})}}async function Cu(r,e,n,s,o={}){const u=await Is(r,e,n,s,o);return"mfaPendingCredential"in u&&oi(r,"multi-factor-auth-required",{_serverResponse:u}),u}function Ew(r,e,n,s){const o=`${e}${n}?${s}`;return r.config.emulator?Jp(r.config,o):`${r.config.apiScheme}://${o}`}function MN(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class PN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ci(this.auth,"network-request-failed")),ON.get())})}}function rh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ci(r,e,s);return o.customData._tokenResponse=n,o}function PE(r){return r!==void 0&&r.enterprise!==void 0}class kN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return MN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function VN(r,e){return Is(r,"GET","/v2/recaptchaConfig",Rs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jN(r,e){return Is(r,"POST","/v1/accounts:delete",e)}async function Tw(r,e){return Is(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LN(r,e=!1){const n=Yt(r),s=await n.getIdToken(e),o=eg(s);we(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:ru(Im(o.auth_time)),issuedAtTime:ru(Im(o.iat)),expirationTime:ru(Im(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Im(r){return Number(r)*1e3}function eg(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return mh("JWT malformed, contained fewer than 3 sections"),null;try{const o=ET(n);return o?JSON.parse(o):(mh("Failed to decode base64 JWT payload"),null)}catch(o){return mh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function kE(r){const e=eg(r);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function du(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Er&&UN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function UN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ru(this.lastLoginAt),this.creationTime=ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await du(r,Tw(n,{idToken:s}));we(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?ww(u.providerUserInfo):[],m=qN(r.providerData,f),p=r.isAnonymous,g=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),T=p?g:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new tp(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,b)}async function BN(r){const e=Yt(r);await Mh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function qN(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function ww(r){return r.map(e=>{var{providerId:n}=e,s=Wp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HN(r,e){const n=await vw(r,{},async()=>{const s=vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=Ew(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",yw.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function FN(r,e){return Is(r,"POST","/v2/accounts:revokeToken",Rs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):kE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=kE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await HN(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new _o;return s&&(we(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(we(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(we(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new _o,this.toJSON())}_performRefresh(){return or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rs(r,e){we(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class lr{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Wp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new tp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await du(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return LN(this,e)}reload(){return BN(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new lr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Mh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(fr(this.auth));const e=await this.getIdToken();return await du(this,jN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,g,T;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,R=(o=n.email)!==null&&o!==void 0?o:void 0,D=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,M=(f=n.photoURL)!==null&&f!==void 0?f:void 0,$=(m=n.tenantId)!==null&&m!==void 0?m:void 0,q=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,G=(g=n.createdAt)!==null&&g!==void 0?g:void 0,te=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:ee,emailVerified:ce,isAnonymous:ie,providerData:ae,stsTokenManager:O}=n;we(ee&&O,e,"internal-error");const I=_o.fromJSON(this.name,O);we(typeof ee=="string",e,"internal-error"),rs(b,e.name),rs(R,e.name),we(typeof ce=="boolean",e,"internal-error"),we(typeof ie=="boolean",e,"internal-error"),rs(D,e.name),rs(M,e.name),rs($,e.name),rs(q,e.name),rs(G,e.name),rs(te,e.name);const A=new lr({uid:ee,auth:e,email:R,emailVerified:ce,displayName:b,isAnonymous:ie,photoURL:M,phoneNumber:D,tenantId:$,stsTokenManager:I,createdAt:G,lastLoginAt:te});return ae&&Array.isArray(ae)&&(A.providerData=ae.map(x=>Object.assign({},x))),q&&(A._redirectEventId=q),A}static async _fromIdTokenResponse(e,n,s=!1){const o=new _o;o.updateFromServerResponse(n);const u=new lr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Mh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];we(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?ww(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new _o;m.updateFromIdToken(s);const p=new lr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new tp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VE=new Map;function ur(r){_r(r instanceof Function,"Expected a class definition");let e=VE.get(r);return e?(_r(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,VE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Sw.type="NONE";const jE=Sw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ph(r,e,n){return`firebase:${r}:${e}:${n}`}class yo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ph(this.userKey,o.apiKey,u),this.fullPersistenceKey=ph("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?lr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new yo(ur(jE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ur(jE);const f=ph(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const T=await g._get(f);if(T){const b=lr._fromJSON(e,T);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new yo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new yo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Iw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(xw(e))return"Blackberry";if(Nw(e))return"Webos";if(Aw(e))return"Safari";if((e.includes("chrome/")||Rw(e))&&!e.includes("edge/"))return"Chrome";if(Cw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function bw(r=sn()){return/firefox\//i.test(r)}function Aw(r=sn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Rw(r=sn()){return/crios\//i.test(r)}function Iw(r=sn()){return/iemobile/i.test(r)}function Cw(r=sn()){return/android/i.test(r)}function xw(r=sn()){return/blackberry/i.test(r)}function Nw(r=sn()){return/webos/i.test(r)}function tg(r=sn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function GN(r=sn()){var e;return tg(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function $N(){return YR()&&document.documentMode===10}function Dw(r=sn()){return tg(r)||Cw(r)||Nw(r)||xw(r)||/windows phone/i.test(r)||Iw(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ow(r,e=[]){let n;switch(r){case"Browser":n=LE(sn());break;case"Worker":n=`${LE(sn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Do}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QN(r,e={}){return Is(r,"GET","/v2/passwordPolicy",Rs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=6;class XN{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:YN,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WN{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UE(this),this.idTokenSubscription=new UE(this),this.beforeStateQueue=new KN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ur(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await yo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Tw(this,{idToken:e}),s=await lr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Yn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Mh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=NN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yn(this.app))return Promise.reject(fr(this));const n=e?Yt(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yn(this.app)?Promise.reject(fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QN(this),n=new XN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new yu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await FN(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ur(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await yo.create(this,[ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ow(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&IN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ya(r){return Yt(r)}class UE{constructor(e){this.auth=e,this.observer=null,this.addObserver=i1(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZN(r){uf=r}function Mw(r){return uf.loadJS(r)}function JN(){return uf.recaptchaEnterpriseScript}function eD(){return uf.gapiScript}function tD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class nD{constructor(){this.enterprise=new iD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class iD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const rD="recaptcha-enterprise",Pw="NO_RECAPTCHA";class sD{constructor(e){this.type=rD,this.auth=ya(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{VN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new kN(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;PE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(Pw)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new nD().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&PE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=JN();p.length!==0&&(p+=m),Mw(p).then(()=>{o(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function zE(r,e,n,s=!1,o=!1){const u=new sD(r);let f;if(o)f=Pw;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function np(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await zE(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await zE(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aD(r,e){const n=dp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(_s(u,e??{}))return o;oi(o,"already-initialized")}return n.initialize({options:e})}function oD(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ur);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function lD(r,e,n){const s=ya(r);we(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=kw(e),{host:f,port:m}=uD(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){we(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),we(_s(g,s.config.emulator)&&_s(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,cD()}function kw(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function uD(r){const e=kw(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:BE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:BE(f)}}}function BE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function cD(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ng{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}}async function hD(r,e){return Is(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(r,e){return Cu(r,"POST","/v1/accounts:signInWithPassword",Rs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dD(r,e){return Cu(r,"POST","/v1/accounts:signInWithEmailLink",Rs(r,e))}async function mD(r,e){return Cu(r,"POST","/v1/accounts:signInWithEmailLink",Rs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends ng{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new mu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new mu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return np(e,n,"signInWithPassword",fD);case"emailLink":return dD(e,{email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return np(e,s,"signUpPassword",hD);case"emailLink":return mD(e,{idToken:n,email:this._email,oobCode:this._password});default:oi(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(r,e){return Cu(r,"POST","/v1/accounts:signInWithIdp",Rs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pD="http://localhost";class da extends ng{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new da(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):oi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Wp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new da(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return vo(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,vo(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,vo(e,n)}buildRequest(){const e={requestUri:pD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _D(r){const e=Ql(Yl(r)).link,n=e?Ql(Yl(e)).deep_link_id:null,s=Ql(Yl(r)).deep_link_id;return(s?Ql(Yl(s)).link:null)||s||n||e||r}class ig{constructor(e){var n,s,o,u,f,m;const p=Ql(Yl(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,b=gD((o=p.mode)!==null&&o!==void 0?o:null);we(g&&T&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=_D(e);try{return new ig(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.providerId=Lo.PROVIDER_ID}static credential(e,n){return mu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=ig.parseLink(n);return we(s,"argument-error"),mu._fromEmailAndCode(e,s.code,s.tenantId)}}Lo.PROVIDER_ID="password";Lo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Lo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu extends Vw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends xu{constructor(){super("facebook.com")}static credential(e){return da._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.FACEBOOK_SIGN_IN_METHOD="facebook.com";os.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends xu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return da._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ls.credential(n,s)}catch{return null}}}ls.GOOGLE_SIGN_IN_METHOD="google.com";ls.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us extends xu{constructor(){super("github.com")}static credential(e){return da._fromParams({providerId:us.PROVIDER_ID,signInMethod:us.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return us.credentialFromTaggedObject(e)}static credentialFromError(e){return us.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return us.credential(e.oauthAccessToken)}catch{return null}}}us.GITHUB_SIGN_IN_METHOD="github.com";us.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cs extends xu{constructor(){super("twitter.com")}static credential(e,n){return da._fromParams({providerId:cs.PROVIDER_ID,signInMethod:cs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return cs.credentialFromTaggedObject(e)}static credentialFromError(e){return cs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return cs.credential(n,s)}catch{return null}}}cs.TWITTER_SIGN_IN_METHOD="twitter.com";cs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(r,e){return Cu(r,"POST","/v1/accounts:signUp",Rs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await lr._fromIdTokenResponse(e,s,o),f=qE(s);return new ma({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=qE(s);return new ma({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function qE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph extends Er{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Ph.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Ph(e,n,s,o)}}function jw(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Ph._fromErrorAndOperation(r,u,e,s):u})}async function vD(r,e,n=!1){const s=await du(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ma._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ED(r,e,n=!1){const{auth:s}=r;if(Yn(s.app))return Promise.reject(fr(s));const o="reauthenticate";try{const u=await du(r,jw(s,o,e,r),n);we(u.idToken,s,"internal-error");const f=eg(u.idToken);we(f,s,"internal-error");const{sub:m}=f;return we(r.uid===m,s,"user-mismatch"),ma._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&oi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lw(r,e,n=!1){if(Yn(r.app))return Promise.reject(fr(r));const s="signIn",o=await jw(r,s,e),u=await ma._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function TD(r,e){return Lw(ya(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Uw(r){const e=ya(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wD(r,e,n){if(Yn(r.app))return Promise.reject(fr(r));const s=ya(r),f=await np(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",yD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Uw(r),p}),m=await ma._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function SD(r,e,n){return Yn(r.app)?Promise.reject(fr(r)):TD(Yt(r),Lo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Uw(r),s})}function bD(r,e,n,s){return Yt(r).onIdTokenChanged(e,n,s)}function AD(r,e,n){return Yt(r).beforeAuthStateChanged(e,n)}function RD(r){return Yt(r).signOut()}const kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(kh,"1"),this.storage.removeItem(kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=1e3,CD=10;class Bw extends zw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Dw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);$N()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,CD):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},ID)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Bw.type="LOCAL";const xD=Bw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qw extends zw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}qw.type="SESSION";const Hw=qw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ND(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new cf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await ND(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rg(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=rg("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const R=b;if(R.data.eventId===g)switch(R.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xi(){return window}function OD(r){xi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(){return typeof xi().WorkerGlobalScope<"u"&&typeof xi().importScripts=="function"}async function MD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PD(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function kD(){return Fw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gw="firebaseLocalStorageDb",VD=1,Vh="firebaseLocalStorage",$w="fbase_key";class Nu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function hf(r,e){return r.transaction([Vh],e?"readwrite":"readonly").objectStore(Vh)}function jD(){const r=indexedDB.deleteDatabase(Gw);return new Nu(r).toPromise()}function ip(){const r=indexedDB.open(Gw,VD);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Vh,{keyPath:$w})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Vh)?e(s):(s.close(),await jD(),e(await ip()))})})}async function HE(r,e,n){const s=hf(r,!0).put({[$w]:e,value:n});return new Nu(s).toPromise()}async function LD(r,e){const n=hf(r,!1).get(e),s=await new Nu(n).toPromise();return s===void 0?null:s.value}function FE(r,e){const n=hf(r,!0).delete(e);return new Nu(n).toPromise()}const UD=800,zD=3;class Kw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ip(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>zD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Fw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cf._getInstance(kD()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await MD(),!this.activeServiceWorker)return;this.sender=new DD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ip();return await HE(e,kh,"1"),await FE(e,kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>HE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>LD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>FE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=hf(o,!1).getAll();return new Nu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),UD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Kw.type="LOCAL";const BD=Kw;new Iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qD(r,e){return e?ur(e):(we(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg extends ng{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return vo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function HD(r){return Lw(r.auth,new sg(r),r.bypassAuthState)}function FD(r){const{auth:e,user:n}=r;return we(n,e,"internal-error"),ED(n,new sg(r),r.bypassAuthState)}async function GD(r){const{auth:e,user:n}=r;return we(n,e,"internal-error"),vD(n,new sg(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return HD;case"linkViaPopup":case"linkViaRedirect":return GD;case"reauthViaPopup":case"reauthViaRedirect":return FD;default:oi(this.auth,"internal-error")}}resolve(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D=new Iu(2e3,1e4);class po extends Qw{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,po.currentPopupAction&&po.currentPopupAction.cancel(),po.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){_r(this.filter.length===1,"Popup operations only handle one event");const e=rg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,po.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$D.get())};e()}}po.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="pendingRedirect",gh=new Map;class QD extends Qw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=gh.get(this.auth._key());if(!e){try{const s=await YD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}gh.set(this.auth._key(),e)}return this.bypassAuthState||gh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YD(r,e){const n=ZD(e),s=WD(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function XD(r,e){gh.set(r._key(),e)}function WD(r){return ur(r._redirectPersistence)}function ZD(r){return ph(KD,r.config.apiKey,r.name)}async function JD(r,e,n=!1){if(Yn(r.app))return Promise.reject(fr(r));const s=ya(r),o=qD(s,e),f=await new QD(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=10*60*1e3;class t2{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n2(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Yw(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ci(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e2&&this.cachedEventUids.clear(),this.cachedEventUids.has(GE(e))}saveEventToCache(e){this.cachedEventUids.add(GE(e)),this.lastProcessedEventTime=Date.now()}}function GE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Yw({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function n2(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Yw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function i2(r,e={}){return Is(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s2=/^https?/;async function a2(r){if(r.config.emulator)return;const{authorizedDomains:e}=await i2(r);for(const n of e)try{if(o2(n))return}catch{}oi(r,"unauthorized-domain")}function o2(r){const e=ep(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!s2.test(n))return!1;if(r2.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l2=new Iu(3e4,6e4);function $E(){const r=xi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function u2(r){return new Promise((e,n)=>{var s,o,u;function f(){$E(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$E(),n(Ci(r,"network-request-failed"))},timeout:l2.get()})}if(!((o=(s=xi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=xi().gapi)===null||u===void 0)&&u.load)f();else{const m=tD("iframefcb");return xi()[m]=()=>{gapi.load?f():n(Ci(r,"network-request-failed"))},Mw(`${eD()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw _h=null,e})}let _h=null;function c2(r){return _h=_h||u2(r),_h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2=new Iu(5e3,15e3),f2="__/auth/iframe",d2="emulator/auth/iframe",m2={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},p2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g2(r){const e=r.config;we(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Jp(e,d2):`https://${r.config.authDomain}/${f2}`,s={apiKey:e.apiKey,appName:r.name,v:Do},o=p2.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${vu(s).slice(1)}`}async function _2(r){const e=await c2(r),n=xi().gapi;return we(n,r,"internal-error"),e.open({where:document.body,url:g2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m2,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ci(r,"network-request-failed"),m=xi().setTimeout(()=>{u(f)},h2.get());function p(){xi().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},v2=500,E2=600,T2="_blank",w2="http://localhost";class KE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function S2(r,e,n,s=v2,o=E2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},y2),{width:s.toString(),height:o.toString(),top:u,left:f}),g=sn().toLowerCase();n&&(m=Rw(g)?T2:n),bw(g)&&(e=e||w2,p.scrollbars="yes");const T=Object.entries(p).reduce((R,[D,M])=>`${R}${D}=${M},`,"");if(GN(g)&&m!=="_self")return b2(e||"",m),new KE(null);const b=window.open(e||"",m,T);we(b,r,"popup-blocked");try{b.focus()}catch{}return new KE(b)}function b2(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A2="__/auth/handler",R2="emulator/auth/handler",I2=encodeURIComponent("fac");async function QE(r,e,n,s,o,u){we(r.config.authDomain,r,"auth-domain-config-required"),we(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Do,eventId:o};if(e instanceof Vw){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",n1(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))f[T]=b}if(e instanceof xu){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),g=p?`#${I2}=${encodeURIComponent(p)}`:"";return`${C2(r)}?${vu(m).slice(1)}${g}`}function C2({config:r}){return r.emulator?Jp(r,R2):`https://${r.authDomain}/${A2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cm="webStorageSupport";class x2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hw,this._completeRedirectFn=JD,this._overrideRedirectResult=XD}async _openPopup(e,n,s,o){var u;_r((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await QE(e,n,s,ep(),o);return S2(e,f,rg())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await QE(e,n,s,ep(),o);return OD(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(_r(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await _2(e),s=new t2(e);return n.register("authEvent",o=>(we(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cm,{type:Cm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Cm];f!==void 0&&n(!!f),oi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=a2(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Dw()||Aw()||tg()}}const N2=x2;var YE="@firebase/auth",XE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function M2(r){Eo(new ua("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;we(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ow(r)},g=new WN(s,o,u,p);return oD(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Eo(new ua("auth-internal",e=>{const n=ya(e.getProvider("auth").getImmediate());return(s=>new D2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ms(YE,XE,O2(r)),ms(YE,XE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=5*60,k2=ST("authIdTokenMaxAge")||P2;let WE=null;const V2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>k2)return;const o=n==null?void 0:n.token;WE!==o&&(WE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function j2(r=IT()){const e=dp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=aD(r,{popupRedirectResolver:N2,persistence:[BD,xD,Hw]}),s=ST("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=V2(u.toString());AD(n,f,()=>f(n.currentUser)),bD(n,m=>f(m))}}const o=TT("auth");return o&&lD(n,`http://${o}`),n}function L2(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}ZN({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ci("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",L2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});M2("Browser");var U2="firebase",z2="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ms(U2,z2,"app");const B2={apiKey:"AIzaSyCSjbxL9N2DMxDdY5VYHIgSS8xcEXT54xE",authDomain:"my-first-project-7cbf9.firebaseapp.com",databaseURL:"https://my-first-project-7cbf9-default-rtdb.europe-west1.firebasedatabase.app",projectId:"my-first-project-7cbf9",storageBucket:"my-first-project-7cbf9.firebasestorage.app",messagingSenderId:"424606795900",appId:"1:424606795900:web:61a3a0683433959a3da1f9"},Xw=RT(B2),Qt=oN(Xw),ag=j2(Xw);function Ww(r=6){const[e,n]=j.useState(!1),[s,o]=j.useState(1);return{fetchPosts:async(p,g)=>{try{const T=Au(Qt,"posts"),R=(await of(T)).docs.map(D=>D.data());R.sort((D,M)=>new Date(M.meta.date)-new Date(D.meta.date)),p(R),g(R.slice(0,r))}catch(T){console.error("Грешка при взимане на постовете:",T)}},loadMorePosts:(p,g,T)=>{if(e||g.length>=p.length)return;n(!0);const b=s+1,R=p.slice(s*r,b*r);R.length>0&&(T(D=>[...D,...R]),o(b)),n(!1)},loading:e,handleSearch:(p,g,T)=>{const b=p.trim().toLowerCase();if(b==="")o(1),g(T.slice(0,s*r));else{const R=T.filter(D=>{var M;return(M=D.content)==null?void 0:M.toLowerCase().includes(b)});g(R)}}}}function Zw(r,e){j.useEffect(()=>{if(!(r!=null&&r.current))return;const n=()=>{const s=r.current;if(!s)return;const o=s.scrollHeight;s.scrollTop+s.clientHeight+5>=o&&e()};return r.current.addEventListener("scroll",n),()=>{r.current&&r.current.removeEventListener("scroll",n)}},[r,e])}const q2="_loader_1ojyy_11",H2={loader:q2};function va(){return y.jsx("div",{className:H2.loader})}function F2(){const r=j.useRef(),[e,n]=j.useState([]),[s,o]=j.useState([]),{fetchPosts:u,loadMorePosts:f}=Ww();j.useRef(!1);const m=j.useRef(),[p,g]=j.useState(!1),T=()=>{const b=r.current.value.trim().toLowerCase();if(r.current.value="",b==="")o(e);else{const R=e.filter(D=>{var M;return(M=D.content)==null?void 0:M.toLowerCase().includes(b)});o(R)}};return j.useEffect(()=>{g(!0),(async()=>{await u(n,o),g(!1)})()},[]),Zw(m,()=>f(e,s,o)),y.jsxs("div",{className:ri.container,children:[y.jsxs("nav",{className:ri.nav,children:[y.jsx("h1",{children:"At"}),y.jsxs("ul",{children:[y.jsx("li",{children:y.jsxs(ve,{to:"/react-regular-exam/login",children:[y.jsx("i",{className:`fa-solid fa-arrow-right-to-bracket ${ri.i}`}),y.jsx("span",{children:"Sign in"})]})}),y.jsx("li",{children:y.jsxs(ve,{to:"/react-regular-exam/create",children:[y.jsx("i",{className:`fa-regular fa-id-badge ${ri.i}`}),y.jsx("span",{children:"Create account"})]})}),y.jsx("li",{children:y.jsxs(ve,{to:"/react-regular-exam",children:[y.jsx("i",{className:`fa-solid fa-person-through-window ${ri.i}`}),y.jsx("span",{children:"Leave"})]})})]}),y.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Guest"}),y.jsx("p",{children:"Guest"})]}),y.jsxs("main",{className:ri.main,ref:m,children:[p&&y.jsx(va,{}),y.jsxs("section",{id:"search",className:ri.search,children:[y.jsx("h3",{children:"What do you need?"}),y.jsx("input",{type:"search",ref:r,name:"search",id:"search",placeholder:"search"}),y.jsx("button",{onClick:T,children:"🔍"})]}),y.jsx("section",{id:"posts",className:ri.posts,children:s.length>0?s.map((b,R)=>{const D=b.meta.date;return y.jsxs("div",{id:"post",className:ri.post,children:[y.jsxs("div",{id:"meta",className:ri.meta,children:[y.jsx("img",{src:b.meta.profileImg?b.meta.profileImg:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg"}),y.jsx("h4",{children:b.meta.author}),y.jsx("p",{children:D})]}),y.jsx("p",{children:b.content}),b.img&&y.jsx("img",{src:b.img,alt:""}),y.jsxs("div",{id:"feedback",className:ri.feedback,children:[y.jsxs("p",{children:[y.jsx("i",{className:"fa-regular fa-comment"}),y.jsx("span",{children:b.feedback.comments})]}),y.jsxs("p",{children:[y.jsx("i",{className:"fa-regular fa-heart"}),y.jsx("span",{children:b.feedback.likes})]}),y.jsxs("p",{children:[y.jsx("i",{className:"fa-solid fa-magnifying-glass"}),y.jsx("span",{children:b.feedback.views})]})]})]},R)}):y.jsx("p",{children:"No posts found"})})]})]})}const G2="_wrapperMajor_12wpi_1",$2="_header_12wpi_11",K2="_logo_12wpi_73",Q2="_main_12wpi_83",Y2="_mainDiv_12wpi_95",X2="_nav_12wpi_107",W2="_button_12wpi_121",Z2="_google_12wpi_141",J2="_awesome_12wpi_175",eO="_separator_12wpi_201",tO="_hr_12wpi_223",nO="_input_12wpi_231",iO="_next_12wpi_245",rO="_lastParagraph_12wpi_263",dt={wrapperMajor:G2,header:$2,logo:K2,main:Q2,mainDiv:Y2,nav:X2,button:W2,google:Z2,awesome:J2,separator:eO,hr:tO,input:nO,next:iO,lastParagraph:rO};function sO(){const r=Wn(),{updateForm:e}=j.useContext(vr),n=async s=>{var u;s.preventDefault();const o={email:((u=s.target.elements.email)==null?void 0:u.value)||""};if(!o.email)return alert("You must enter a valid email address");await e(o),r("/react-regular-exam/login/pass")};return y.jsx("form",{onSubmit:n,children:y.jsxs("div",{className:dt.wrapperMajor,children:[y.jsxs("header",{className:dt.header,children:[y.jsx(ve,{className:dt.x,to:"/react-regular-exam",children:y.jsx("i",{className:"fa-solid fa-xmark"})}),y.jsx("h1",{className:dt.logo,children:"At"})]}),y.jsx("main",{className:dt.main,children:y.jsxs("div",{className:dt.mainDiv,children:[y.jsx("h1",{children:"Sign in to At"}),y.jsxs("nav",{className:dt.nav,children:[y.jsxs("button",{type:"button",className:`${dt.button} ${dt.awesome} ${dt.google}`,children:[y.jsx("i",{className:"fa-brands fa-google"}),"Sign in with Google"]}),y.jsxs("button",{type:"button",className:`${dt.button} ${dt.awesome}`,children:[y.jsx("i",{className:"fa-brands fa-apple"}),"Sign in with Apple"]}),y.jsxs("div",{className:dt.separator,children:[y.jsx("hr",{className:dt.hr}),y.jsx("p",{children:"or"}),y.jsx("hr",{className:dt.hr})]}),y.jsx("input",{name:"email",className:dt.input,type:"email",placeholder:"email"}),y.jsx("button",{className:`${dt.button} ${dt.awesome} ${dt.next}`,children:"Next"}),y.jsx("button",{type:"button",className:`${dt.button} ${dt.awesome}`,to:"/react-regular-exam/guest",children:"Forgot password?"}),y.jsxs("p",{className:dt.lastParagraph,children:["Don't have an account?",y.jsx(ve,{to:"/react-regular-exam/create",children:"Sign up"})]})]})]})})]})})}const aO="_wrapperMajor_1qz1e_1",oO="_header_1qz1e_21",lO="_logo_1qz1e_83",uO="_main_1qz1e_93",cO="_mainDiv_1qz1e_107",hO="_upperDiv_1qz1e_121",fO="_emailState_1qz1e_131",dO="_password_1qz1e_159",mO="_arrow_1qz1e_177",pO="_inputWrapper_1qz1e_189",gO="_pass_1qz1e_159",_O="_forgot_1qz1e_219",yO="_login_1qz1e_247",vO="_signup_1qz1e_289",fn={wrapperMajor:aO,header:oO,logo:lO,main:uO,mainDiv:cO,upperDiv:hO,emailState:fO,password:dO,arrow:mO,inputWrapper:pO,pass:gO,forgot:_O,login:yO,signup:vO};function Jw(r,e){localStorage.setItem("user",JSON.stringify(r)),localStorage.setItem("userToken",e)}function EO(r){localStorage.setItem("user",JSON.stringify(r))}function eS(){return localStorage.getItem("userToken")}function Cs(){return localStorage.getItem("user")}function TO(){localStorage.removeItem("userToken"),localStorage.removeItem("user")}const wO=async r=>{const{email:e,password:n}=r;try{const o=(await wD(ag,e,n)).user;await mw(Dn(Qt,"users",o.uid),{...r,createdAt:new Date,userId:o.uid});const u=await o.getIdToken(),f=await og(o.uid);return Jw(f,u),f}catch(s){console.error("Error registering user:",s.message)}},SO=async r=>{const{email:e,password:n}=r;try{const o=(await SD(ag,e,n)).user,u=await o.getIdToken(),f=await og(o.uid);return Jw(f,u),f}catch(s){console.error("Error login user:",s.message)}},bO=async r=>{try{const n=await Lh(r.img,"my_unsigned_preset");n?(r.img=n.url,r.imgId=n.id):(r.img="",r.imgId="");const s=await bN(Au(Qt,"posts"),r),o={...r,id:s.id};await mw(Dn(Qt,"posts",s.id),o)}catch(e){console.error("Error adding document:",e)}},AO=async r=>{try{const e=Dn(Qt,"posts",r);await SN(e),console.log("Post deleted successfully!")}catch(e){console.error("Error deleting post:",e)}},RO=async(r,e,n,s,o)=>{let u="";e&&(u=await Lh(e,"my_unsigned_preset"));const m=Dn(Qt,"posts",r);try{await fa(m,{content:n,img:u.url?u.url:s,imgId:u.id?u.id:o})}catch(p){console.error("Error adding comment: ",p)}},IO=async(r,e,n,s,o)=>{console.log(r),console.log(e);let u="";const f="profile_upload",m="wall_upload";if(s){u=await Lh(s,f);const T=Au(Qt,"posts"),b=ow(T,lw("meta.author","==",r)),D=(await of(b)).docs.map(async M=>{const $=Dn(Qt,"posts",M.id);await fa($,{"meta.profileImg":u.url})});await Promise.all(D)}let p="";o&&(p=await Lh(o,m));const g=Dn(Qt,"users",e);try{await fa(g,{...n,updatesHistory:Yp(new Date().toLocaleString()),profileImg:u.url?u.url:"",profileImgID:u.id?u.id:"",wallImg:p.url?p.url:"",wallImgId:p.id?p.id:""})}catch(T){console.error("Error adding comment: ",T)}},tS=async(r,e)=>{const n=Dn(Qt,"posts",r);try{await fa(n,{comments:Yp({data:e}),"feedback.comments":Xp(1)})}catch(s){console.error("Error adding comment: ",s)}},CO=async r=>{const e=Dn(Qt,"posts",r);try{await fa(e,{img:"",imgId:""})}catch(n){console.error("Error adding comment: ",n)}},ZE=async(r,e)=>{const n=Dn(Qt,"posts",r);try{await fa(n,{"feedback.likes":Xp(1),"feedback.likedPeople":Yp(e)})}catch(s){console.error("Error adding like: ",s)}},xO=async r=>{const e=Dn(Qt,"posts",r);try{await fa(e,{"feedback.views":Xp(1)})}catch(n){console.error("Error adding like: ",n)}},jh=async r=>{try{const e=Dn(Qt,"posts",r),n=await fw(e);return n.exists()?n.data():(console.log("No such document!"),null)}catch(e){return console.error("Error fetching post:",e),null}},rp=async()=>{try{const r=Au(Qt,"posts"),n=(await of(r)).docs.map(o=>o.data());return n.sort((o,u)=>new Date(u.meta.date)-new Date(o.meta.date)),{postsArray:n,filteredArray:o=>n.filter(u=>u.meta.author===o)}}catch(r){console.error("Error loading posts",r)}};async function og(r){try{const e=Dn(Qt,"users",r),n=await fw(e);if(n.exists())return n.data();throw new Error("no such user!")}catch(e){return console.error("Error fetching user:",e.message),null}}const Lh=async(r,e)=>{if(!r)return;const n=new FormData;n.append("file",r),n.append("upload_preset",e);try{const o=await(await fetch("https://api.cloudinary.com/v1_1/dsqegonee/image/upload",{method:"POST",body:n})).json();if(o.secure_url)return{url:o.secure_url,id:o.public_id};console.error("Error uploading your media: ",o)}catch(s){console.error("Error uploading your media: ",s)}};async function NO(r){const e=Au(Qt,"users"),n=ow(e,lw("name","==",r)),o=(await of(n)).docs.find(u=>u.data().name===r);return o?o.id:(alert("Somthing went wrong! Please report the mistake!"),null)}function DO(){const{formData:r,updateForm:e}=j.useContext(vr),n=Wn(),[s,o]=j.useState(!1),[u,f]=j.useState(!1),m=async g=>{var b;g.preventDefault(),f(!0);const T={password:(b=g.target.elements.password)==null?void 0:b.value};if(!T)return alert("You need to provide a password");await e(T)};j.useEffect(()=>{if(!r.password)return;(async()=>{try{const T=await SO(r);await e(T),n("/react-regular-exam/welcome"),f(!1)}catch(T){alert(T.message)}})()},[r.password]);const p=()=>{const g=document.getElementById("password");g.type==="password"?g.type="text":g.type="password"};return y.jsx("form",{onSubmit:m,children:y.jsxs("div",{className:fn.wrapperMajor,children:[u&&y.jsx(va,{}),y.jsxs("header",{className:fn.header,children:[y.jsx(ve,{className:fn.x,to:"/react-regular-exam",children:y.jsx("i",{className:"fa-solid fa-xmark"})}),y.jsx("h1",{className:fn.logo,children:"At"})]}),y.jsx("main",{className:fn.main,children:y.jsxs("div",{className:fn.mainDiv,children:[y.jsxs("div",{className:fn.upperDiv,children:[y.jsx("h1",{children:"Enter your password"}),y.jsxs("div",{className:fn.emailState,children:[y.jsx("p",{children:"Email"}),y.jsx("p",{children:r.email})]}),y.jsxs("div",{className:fn.password,children:[y.jsxs("div",{className:fn.arrow,children:[y.jsx("p",{children:"Password"}),y.jsx("i",{className:"fa-solid fa-arrow-down"})]}),y.jsxs("div",{className:fn.inputWrapper,children:[y.jsx("input",{className:fn.pass,type:"password",name:"password",id:"password",placeholder:""}),y.jsx("i",{onClick:p,className:"fa-regular fa-eye"})]})]}),y.jsx("p",{className:fn.forgot,children:y.jsx(ve,{children:"Forgot password?"})})]}),y.jsxs("div",{className:fn.login,children:[y.jsx("input",{name:"login",type:"submit",value:"Log in"}),y.jsxs("div",{className:fn.signup,children:[y.jsx("p",{children:"Don't have an account?"}),y.jsx(ve,{to:"/create",children:"Sign up"})]})]})]})})]})})}const OO="_wrapperMajor_1j10v_1",MO="_header_1j10v_21",PO="_logo_1j10v_83",kO="_main_1j10v_93",VO="_mainDiv_1j10v_107",jO="_upperDiv_1j10v_121",LO="_password_1j10v_133",UO="_arrow_1j10v_151",zO="_inputWrapper_1j10v_163",BO="_pass_1j10v_133",qO="_login_1j10v_193",HO="_birth_1j10v_239",FO="_birthday_1j10v_271",GO="_month_1j10v_281",$O="_day_1j10v_307",KO="_year_1j10v_307",Xe={wrapperMajor:OO,header:MO,logo:PO,main:kO,mainDiv:VO,upperDiv:jO,password:LO,arrow:UO,inputWrapper:zO,pass:BO,login:qO,birth:HO,birthday:FO,month:GO,day:$O,year:KO};function QO({submit:r,clickPass:e,clickRep:n}){return y.jsx(y.Fragment,{children:y.jsx("form",{onSubmit:r,children:y.jsxs("div",{className:Xe.wrapperMajor,children:[y.jsxs("header",{className:Xe.header,children:[y.jsx(ve,{className:Xe.x,to:"/react-regular-exam",children:y.jsx("i",{className:"fa-solid fa-xmark"})}),y.jsx("h1",{className:Xe.logo,children:"At"})]}),y.jsx("main",{className:Xe.main,children:y.jsxs("div",{className:Xe.mainDiv,children:[y.jsxs("div",{className:Xe.upperDiv,children:[y.jsx("h1",{children:"Create your account"}),y.jsxs("div",{className:Xe.password,children:[y.jsxs("div",{className:Xe.arrow,children:[y.jsx("p",{children:"Name"}),y.jsx("i",{className:"fa-solid fa-arrow-down"})]}),y.jsx("div",{className:Xe.inputWrapper,children:y.jsx("input",{className:Xe.pass,type:"text",name:"name",id:"name",placeholder:""})})]}),y.jsxs("div",{className:Xe.password,children:[y.jsxs("div",{className:Xe.arrow,children:[y.jsx("p",{children:"Email"}),y.jsx("i",{className:"fa-solid fa-arrow-down"})]}),y.jsx("div",{className:Xe.inputWrapper,children:y.jsx("input",{className:Xe.pass,type:"email",name:"email",id:"email",placeholder:""})})]}),y.jsxs("div",{className:Xe.password,children:[y.jsxs("div",{className:Xe.arrow,children:[y.jsx("p",{children:"Password"}),y.jsx("i",{className:"fa-solid fa-arrow-down"})]}),y.jsxs("div",{className:Xe.inputWrapper,children:[y.jsx("input",{className:Xe.pass,type:"password",name:"password",id:"password",placeholder:"At least 6 characters"}),y.jsx("i",{onClick:e,className:"fa-regular fa-eye"})]})]}),y.jsxs("div",{className:Xe.password,children:[y.jsxs("div",{className:Xe.arrow,children:[y.jsx("p",{children:"Repeat password"}),y.jsx("i",{className:"fa-solid fa-arrow-down"})]}),y.jsxs("div",{className:Xe.inputWrapper,children:[y.jsx("input",{className:Xe.pass,type:"password",name:"repeat",id:"repeat",placeholder:""}),y.jsx("i",{onClick:n,className:"fa-regular fa-eye"})]})]}),y.jsxs("div",{className:Xe.birth,children:[y.jsx("p",{children:"Date of Birth"}),y.jsx("p",{children:"This will not be shown publicly. Confirm your own age, even if this account is for a business, a pet, or something else."}),y.jsxs("div",{className:Xe.birthday,children:[y.jsxs("div",{className:Xe.month,children:[y.jsx("p",{children:"month"}),y.jsxs("select",{name:"month",id:"month",children:[y.jsx("option",{value:""}),y.jsx("option",{value:"January",children:"January"}),y.jsx("option",{value:"February",children:"February"}),y.jsx("option",{value:"March",children:"March"}),y.jsx("option",{value:"April",children:"April"}),y.jsx("option",{value:"May",children:"May"}),y.jsx("option",{value:"June",children:"June"}),y.jsx("option",{value:"July",children:"July"}),y.jsx("option",{value:"August",children:"August"}),y.jsx("option",{value:"September",children:"September"}),y.jsx("option",{value:"October",children:"October"}),y.jsx("option",{value:"November",children:"November"}),y.jsx("option",{value:"December",children:"December"})]})]}),y.jsxs("div",{className:Xe.day,children:[y.jsx("p",{children:"Day"}),y.jsxs("select",{name:"day",id:"day",children:[y.jsx("option",{value:""}),Array.from({length:31},(s,o)=>y.jsx("option",{value:o+1,children:o+1},o+1))]})]}),y.jsxs("div",{className:Xe.year,children:[y.jsx("p",{children:"Year"}),y.jsxs("select",{name:"year",id:"year",children:[y.jsx("option",{value:""}),Array.from({length:121},(s,o)=>y.jsx("option",{value:o+1905,children:o+1905},o+1905))]})]})]})]})]}),y.jsx("div",{className:Xe.login,children:y.jsx("button",{children:"Next"})})]})})]})})})}function YO(){const{updateForm:r}=j.useContext(vr),e=Wn(),n=/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/,s=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[!@#$%^&*])[A-Za-z\d!@#$%^&*]{6,}$/,o=async m=>{var g,T,b,R,D,M,$;m.preventDefault();const p={name:((g=m.target.elements.name)==null?void 0:g.value)||"",email:((T=m.target.elements.email)==null?void 0:T.value)||"",password:((b=m.target.elements.password)==null?void 0:b.value)||"",birthday:{month:((R=m.target.elements.month)==null?void 0:R.value)||"",day:((D=m.target.elements.day)==null?void 0:D.value)||"",year:((M=m.target.elements.year)==null?void 0:M.value)||""}};if(!p.name)return alert("You must enter a name!");if(!p.email||!n.test(p.email))return alert("You must enter a valid email address!");if(!p.password||p.password.length<6||!s.test(p.password))return alert("Your password must be at least 6 characters long and contain at least one uppercase letter, one number, and one special character!");if(p.password!==(($=m.target.elements.repeat)==null?void 0:$.value))return alert("Password Missmatch!");if(p.birthday.month)if(p.birthday.day){if(!p.birthday.year)return alert("You must choose an year!")}else return alert("You must choose a day!");else return alert("You must choose a month!");await r(p),e("/react-regular-exam/create/submit")},u=()=>{const m=document.getElementById("password");m.type==="password"?m.type="text":m.type="password"},f=()=>{const m=document.getElementById("repeat");m.type==="password"?m.type="text":m.type="password"};return y.jsx(QO,{submit:o,clickPass:u,clickRep:f})}const XO="_wrapperMajor_ewi7d_1",WO="_header_ewi7d_33",ZO="_logo_ewi7d_95",JO="_main_ewi7d_105",eM="_wrapper_ewi7d_1",tM="_checkBoxWrapper_ewi7d_135",nM="_button_ewi7d_267",ss={wrapperMajor:XO,header:WO,logo:ZO,main:JO,wrapper:eM,checkBoxWrapper:tM,button:nM},iM="_button_uw3we_1",rM={button:iM};function sM(r){return y.jsx("button",{onClick:r.onClick,className:rM.button,children:"Abort"})}const aM="_timer_17wgr_1",oM={timer:aM};function lM(r){return y.jsx("p",{className:oM.timer,children:r.onTimer})}function uM(){const r=Wn(),{formData:e,updateForm:n,resetFormData:s}=j.useContext(vr),[o,u]=j.useState(!1),[f,m]=j.useState(0),p=async T=>{var R,D,M;T.preventDefault(),u(!0),m(10);const b={checkbox:{getMore:(R=T.target.elements.getMore)!=null&&R.checked?"yes":"no",connectWith:(D=T.target.elements.connectWith)!=null&&D.checked?"yes":"no",peronalizedAds:(M=T.target.elements.peronalizedAds)!=null&&M.checked?"yes":"no"}};try{n(b)}catch($){console.error("Error registering user:",$.message)}};j.useEffect(()=>{if(!o||f===0)return;const T=setTimeout(()=>{m(b=>b-1)},1e3);return()=>{clearTimeout(T)}},[f,o]),j.useEffect(()=>{if(!e.checkbox.getMore)return;const T=new AbortController,b=T.signal,R=setTimeout(()=>{(async()=>{try{await wO(e,{signal:b}),u(!1),r("/react-regular-exam/welcome")}catch(M){alert(M.message)}})()},1e4);return()=>{clearTimeout(R),T.abort()}},[e.checkbox.getMore]);const g=()=>{r("/react-regular-exam")};return y.jsx("form",{onSubmit:p,children:y.jsxs("div",{className:ss.wrapperMajor,children:[o&&y.jsx(va,{}),o&&y.jsx(lM,{onTimer:f}),o&&y.jsx(sM,{onClick:g}),y.jsxs("header",{className:ss.header,children:[y.jsx(ve,{className:ss.x,to:"/react-regular-exam",children:y.jsx("i",{className:"fa-solid fa-xmark"})}),y.jsx("h1",{className:ss.logo,children:"At"})]}),y.jsxs("main",{className:ss.main,children:[y.jsxs("div",{className:ss.wrapper,children:[y.jsx("h1",{children:"Customize your experience"}),y.jsxs("div",{className:ss.checkBoxWrapper,children:[y.jsxs("div",{children:[y.jsx("h3",{children:"Get more out of At"}),y.jsxs("div",{children:[y.jsx("p",{children:"Receive email about your At activity and recommendations."}),y.jsx("input",{type:"checkbox",name:"getMore"})]})]}),y.jsxs("div",{children:[y.jsx("h3",{children:"Connect with people you know"}),y.jsxs("div",{children:[y.jsx("p",{children:"Let others find your At account by your email address."}),y.jsx("input",{type:"checkbox",name:"connectWith"})]})]}),y.jsxs("div",{children:[y.jsx("h3",{children:"Personalized ads"}),y.jsxs("div",{children:[y.jsx("p",{children:"You will always see ads on At based on your At activity. When this setting is enabled, At may further personalize ads from At advertisers, on and off At, by combining your At activity with other online activity and information from our partners."}),y.jsx("input",{type:"checkbox",name:"peronalizedAds"})]})]})]}),y.jsxs("p",{children:["By signing up, you agree to our ",y.jsx(ve,{children:"Terms"}),", ",y.jsx(ve,{children:"Privacy Policy"}),", and ",y.jsx(ve,{children:"Cookie Use"}),". At may use your contact information, including your email address and phone number for purposes outlined in our Privacy Policy. ",y.jsx(ve,{children:"Learn more"})]})]}),y.jsx("div",{className:ss.button,children:y.jsx("input",{type:"submit",value:"Next"})})]})]})})}const cM="_container_h5fhp_1",hM="_main_h5fhp_19",JE={container:cM,main:hM},fM="_nav_1kjlf_1",dM="_i_1kjlf_11",mM="_pic_1kjlf_147",as={nav:fM,i:dM,pic:mM};function pM(){const{formData:r,updateForm:e}=j.useContext(vr),[n,s]=j.useState("Loading..."),[o,u]=j.useState(""),f=Wn(),m=async p=>{p.preventDefault();try{await RD(ag),e({name:"",email:"",password:"",birthday:{month:"",day:"",year:""},checkbox:{getMore:"",connectWith:"",peronalizedAds:"",noThanks:""}}),TO(),f("/react-regular-exam")}catch(g){console.error("Logout error:",g)}};return j.useEffect(()=>{const p=JSON.parse(Cs());p&&p.name?(s(p.name),u(p.profileImg)):s("Guest")},[]),y.jsxs("nav",{className:as.nav,children:[y.jsx("h1",{children:"At"}),y.jsxs("ul",{children:[y.jsx("li",{children:y.jsxs(ve,{to:"/react-regular-exam/welcome",children:[y.jsx("i",{className:`fa-solid fa-house-flag ${as.i}`}),y.jsx("span",{children:"Welcome"})]})}),y.jsx("li",{children:y.jsxs(ve,{to:"/react-regular-exam/about",children:[y.jsx("i",{className:`fa-solid fa-bell ${as.i}`}),y.jsx("span",{children:"Notification"})]})}),y.jsx("li",{children:y.jsxs(ve,{to:"/react-regular-exam/about",children:[y.jsx("i",{className:`fa-solid fa-envelope ${as.i}`}),y.jsx("span",{children:"Messages"})]})}),y.jsx("li",{children:y.jsxs(ve,{to:"/react-regular-exam/welcome/profile",children:[y.jsx("i",{className:`fa-solid fa-user ${as.i}`}),y.jsx("span",{children:"Profile"})]})}),y.jsx("li",{children:y.jsxs(ve,{to:"/react-regular-exam/about",children:[y.jsx("i",{className:`fa-solid fa-suitcase ${as.i}`}),y.jsx("span",{children:"Jobs"})]})}),y.jsx("li",{children:y.jsxs(ve,{onClick:m,to:"#",children:[y.jsx("i",{className:`fa-solid fa-circle-xmark ${as.i}`}),y.jsx("span",{children:"Logout"})]})}),y.jsx("li",{children:y.jsx(ve,{to:"/react-regular-exam/welcome/post",children:y.jsx("span",{children:"Post"})})})]}),y.jsxs("div",{className:as.pic,children:[y.jsx("img",{src:o||"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Guest"}),y.jsx("p",{children:n})]})]})}function gM(){const r=j.useRef(null);return y.jsxs("div",{className:JE.container,children:[y.jsx(pM,{}),y.jsx("main",{ref:r,className:JE.main,children:y.jsx(CA,{context:{mainRef:r}})})]})}const _M="_search_1o9ft_1",yM="_meta_1o9ft_39",vM="_post_1o9ft_69",EM="_postWrapper_1o9ft_77",TM="_feedback_1o9ft_123",wM="_imgWrap_1o9ft_151",SM="_modalOverlay_1o9ft_169",bM="_modalContent_1o9ft_195",AM="_commentBox_1o9ft_215",RM="_modalButtons_1o9ft_235",IM="_sendBtn_1o9ft_247",CM="_closeBtn_1o9ft_273",vn={search:_M,meta:yM,post:vM,postWrapper:EM,feedback:TM,imgWrap:wM,modalOverlay:SM,modalContent:bM,commentBox:AM,modalButtons:RM,sendBtn:IM,closeBtn:CM};function xM(r,e){return y.jsx(y.Fragment,{children:y.jsxs("section",{id:"search",className:vn.search,children:[y.jsx("h3",{children:"What do you need?"}),y.jsx("input",{type:"search",ref:e,name:"search",id:"search",placeholder:"search"}),y.jsx("button",{onClick:r.onSearch,children:"🔍"})]})})}const NM=j.forwardRef(xM);function DM(){const r=Wn();return{handleDetailsClick:n=>{r(`/react-regular-exam/welcome/${n}/details`,{state:{postId:n}})}}}const Gt=[];for(let r=0;r<256;++r)Gt.push((r+256).toString(16).slice(1));function OM(r,e=0){return(Gt[r[e+0]]+Gt[r[e+1]]+Gt[r[e+2]]+Gt[r[e+3]]+"-"+Gt[r[e+4]]+Gt[r[e+5]]+"-"+Gt[r[e+6]]+Gt[r[e+7]]+"-"+Gt[r[e+8]]+Gt[r[e+9]]+"-"+Gt[r[e+10]]+Gt[r[e+11]]+Gt[r[e+12]]+Gt[r[e+13]]+Gt[r[e+14]]+Gt[r[e+15]]).toLowerCase()}let xm;const MM=new Uint8Array(16);function PM(){if(!xm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");xm=crypto.getRandomValues.bind(crypto)}return xm(MM)}const kM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),eT={randomUUID:kM};function nS(r,e,n){var o;if(eT.randomUUID&&!r)return eT.randomUUID();r=r||{};const s=r.random??((o=r.rng)==null?void 0:o.call(r))??PM();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,OM(s)}function iS(){return{handleLike:async e=>{try{const s=JSON.parse(Cs()).name,u=(await jh(e)).feedback.likedPeople;if(!u){await ZE(e,s);return}if(u.filter(m=>m===s).length>0)return alert("You  can like only once");await ZE(e,s)}catch(n){alert("Error adding like: "+n.message)}}}}function VM(){return{handleView:async e=>{try{await xO(e)}catch(n){alert("Error adding like: "+n.message)}}}}function jM(){const[r,e]=j.useState([]),[n,s]=j.useState([]),o=j.useRef(),{fetchPosts:u,loadMorePosts:f,loading:m,handleSearch:p}=Ww(),{mainRef:g}=dA(),{handleDetailsClick:T}=DM(),{handleView:b}=VM(),{handleLike:R}=iS(),[D,M]=j.useState(!1),$=async ie=>{const O=ie.target.closest("#closestID").getAttribute("data-key");await b(O),T(O)};j.useEffect(()=>{M(!0),(async()=>{await u(e,s),M(!1)})()},[]);const q=()=>{o.current&&p(o.current.value,s,r)};Zw(g,()=>f(r,n,s));const G=ie=>{const O=ie.target.closest("#closestID").getAttribute("data-key"),I=document.getElementById(O);I.style.display="block"},te=ie=>{const O=ie.target.closest("#closestID").getAttribute("data-key"),I=document.getElementById(O);I.style.display="none"},ee=async ie=>{const ae=ie.target.closest("#closestID"),O=ae.getAttribute("data-key"),I=JSON.parse(Cs()),A={id:nS(),author:I.name,text:ae.querySelector("textarea").value,date:new Date().toLocaleString()};if(ae.querySelector("textarea").value="",!A.text)return alert("Your reply is empty!");await tS(O,A);const x=document.getElementById(O);x.style.display="none";const k=await rp();k&&s(k)},ce=async ie=>{const O=ie.target.closest("#closestID").getAttribute("data-key");await R(O);const I=await rp();I&&s(I)};return y.jsxs(y.Fragment,{children:[y.jsx(NM,{ref:o,onSearch:q}),D&&y.jsx(va,{}),y.jsx("section",{id:"posts",className:vn.posts,children:n.length>0?n.map(ie=>y.jsxs("div",{id:"closestID","data-key":ie.id,className:vn.postWrapper,children:[y.jsx("div",{onClick:ae=>$(ae),className:vn.post,children:y.jsxs("div",{className:vn.imgWrap,children:[y.jsxs("div",{className:vn.meta,children:[y.jsx("img",{src:ie.meta.profileImg?ie.meta.profileImg:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Profile"}),y.jsx("h4",{children:ie.meta.author}),y.jsx("p",{children:ie.meta.date})]}),y.jsx("p",{children:ie.content}),ie.img&&y.jsx("img",{src:ie.img,alt:""})]})},ie.id),y.jsxs("div",{className:vn.feedback,children:[y.jsxs("p",{onClick:ae=>G(ae),children:[y.jsx("i",{className:"fa-regular fa-comment"}),y.jsx("span",{children:ie.feedback.comments})]}),y.jsxs("p",{onClick:ae=>ce(ae),children:[y.jsx("i",{className:"fa-regular fa-heart"}),y.jsx("span",{children:ie.feedback.likes})]}),y.jsxs("p",{onClick:ae=>$(ae),children:[y.jsx("i",{className:"fa-solid fa-magnifying-glass"}),y.jsx("span",{children:ie.feedback.views})]})]}),y.jsx("div",{"data-key":ie.id,id:ie.id,style:{display:"none"},className:vn.modalOverlay,children:y.jsxs("div",{className:vn.modalContent,onClick:ae=>ae.stopPropagation(),children:[y.jsx("textarea",{className:vn.commentBox,placeholder:"Post your reply"}),y.jsxs("div",{className:vn.modalButtons,children:[y.jsx("button",{className:vn.sendBtn,onClick:ae=>ee(ae),children:"Reply"}),y.jsx("button",{className:vn.closeBtn,onClick:ae=>te(ae),children:"X"})]})]})})]},ie.id)):y.jsx("p",{children:"No posts found"})}),m&&y.jsx("p",{className:vn.loading,children:"Loading more posts..."})]})}function LM({children:r}){const e=eS(),n=Wn();return j.useEffect(()=>{if(!e)return n("/react-regular-exam")}),y.jsx(y.Fragment,{children:r})}function UM(r){const e=document.createElement("div");return e.textContent=r,e.innerHTML}const zM="_postFormContainer_19kdp_3",BM="_postForm_19kdp_3",qM="_avatar_19kdp_43",HM="_formContent_19kdp_57",FM="_textarea_19kdp_71",GM="_mediaPreview_19kdp_93",$M="_footer_19kdp_117",KM="_mediaButton_19kdp_133",QM="_button_19kdp_161",YM="_removeButton_19kdp_191",bi={postFormContainer:zM,postForm:BM,avatar:qM,formContent:HM,textarea:FM,mediaPreview:GM,footer:$M,mediaButton:KM,button:QM,removeButton:YM};function XM(){const[r,e]=j.useState(null),[n,s]=j.useState(null),o=j.useRef(null),u=j.useRef(null),{formData:f}=j.useContext(vr),[m,p]=j.useState(!1),g=Wn(),[T,b]=j.useState({});j.useEffect(()=>{const $=JSON.parse(Cs());b($)},[]);const R=$=>{const q=$.target.files[0],G=5;if(q){if(!/^image\/[a-zA-Z0-9.+-]+$/.test(q.type)){alert("Please, upload only images!");return}if(q.size>G*1024*1024){alert("Your file is too big! Max size: 5MB.");return}const ee=URL.createObjectURL(q);e(q),s(ee)}},D=()=>{e(null),u.current&&(u.current.value="")},M=async $=>{$.preventDefault();const q=o.current.value.trim(),G=UM(q);if(!G||G.length<3){alert("👉 Please enter at least 3 characters.");return}if(G.length>500){alert("👉 The post cannot exceed 500 characters.");return}p(!0);const te={content:G,feedback:{comments:0,likes:0,views:0},img:r,meta:{author:f.name,date:new Date().toLocaleString(),avatar:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",profileImg:T.profileImg},comments:[]};await bO(te),o.current.value="",e(null),u.current&&(u.current.value=""),g("/react-regular-exam/welcome"),p(!1)};return y.jsxs("div",{className:bi.postFormContainer,children:[m&&y.jsx(va,{}),y.jsxs("div",{className:bi.postForm,children:[y.jsx("img",{src:T.profileImg||"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"User avatar",className:bi.avatar}),y.jsxs("form",{onSubmit:M,className:bi.formContent,children:[y.jsx("textarea",{ref:o,placeholder:"What's happening?",className:bi.textarea}),r&&y.jsx("div",{className:bi.mediaPreview,children:y.jsx("img",{src:n,alt:"Uploaded media preview"})}),y.jsxs("div",{className:bi.footer,children:[y.jsxs("label",{className:bi.mediaButton,children:["📷 Add Media",y.jsx("input",{type:"file",accept:"image/*",onChange:R,hidden:!0,ref:u})]}),r&&y.jsx("button",{type:"button",onClick:D,className:bi.removeButton,children:"❌ Remove"}),y.jsx("button",{type:"submit",className:bi.button,children:"Post"})]})]})]})]})}const WM="_container_4dbl9_1",ZM="_text_4dbl9_19",JM="_link_4dbl9_31",sh={container:WM,text:ZM,link:JM},eP=()=>{const[r,e]=j.useState(!1);return j.useEffect(()=>{const n=()=>{eS()};n(),n&&e(!0)},[]),y.jsxs("div",{className:sh.container,children:[y.jsx("h1",{className:sh.text,children:"Under Construction"}),r?y.jsx(ve,{to:"/react-regular-exam/welcome",className:sh.link,children:"Go Back"}):y.jsx(ve,{to:"/react-regular-exam",className:sh.link,children:"Go Back"})]})},tP="_post_1z0jj_1",nP="_meta_1z0jj_17",iP="_imgWrap_1z0jj_55",rP="_feedback_1z0jj_93",sP="_actions_1z0jj_119",aP="_editButton_1z0jj_131",oP="_deleteButton_1z0jj_131",lP="_commentSection_1z0jj_165",uP="_commentInput_1z0jj_179",cP="_commentButton_1z0jj_195",hP="_commentsContainer_1z0jj_215",fP="_comment_1z0jj_165",dP="_commentHeader_1z0jj_253",mP="_commentDate_1z0jj_289",pP="_commentText_1z0jj_299",gP="_noComments_1z0jj_309",tn={post:tP,meta:nP,imgWrap:iP,feedback:rP,actions:sP,editButton:aP,deleteButton:oP,commentSection:lP,commentInput:uP,commentButton:cP,commentsContainer:hP,comment:fP,commentHeader:dP,commentDate:mP,commentText:pP,noComments:gP};function _P(){const e=JSON.parse(Cs()).name;return{handleComment:async(s,o)=>{const u=s.id,f={id:nS(),author:e,text:o.current.value,date:new Date().toLocaleString()};return o.current.value="",f.text?(await tS(u,f),f):alert("Your reply is empty!")}}}function yP(){var q;const r=yr(),{handleComment:e}=_P(),n=(q=r.state)==null?void 0:q.postId,s=j.useRef(),[o,u]=j.useState(null),[f,m]=j.useState([]),[p,g]=j.useState(!1),T=Wn(),{handleLike:b}=iS();if(!n)return y.jsx("p",{children:"No post data found"});const R=async()=>{const G=await e(o,s);G&&m(te=>[...te,G])};j.useEffect(()=>{(async()=>{const te=await jh(n);JSON.parse(Cs()).name===te.meta.author&&g(!0),u(te)})()},[f]);const D=async()=>{const G=o.id;AO(G),T("/react-regular-exam/welcome")},M=()=>{o&&T(`/react-regular-exam/welcome/${o.id}/details/edit`,{state:{postData:o}})},$=async G=>{const ee=G.target.closest("#closestId").getAttribute("data-id");await b(ee);const ce=await jh(n);ce&&u(ce)};return y.jsxs(y.Fragment,{children:[o?y.jsxs("div",{id:"closestId","data-id":o.id,"data-imgid":o.imgId,className:tn.post,children:[y.jsxs("div",{className:tn.imgWrap,children:[y.jsxs("div",{className:tn.meta,children:[y.jsx("img",{src:o.meta.img||o.meta.avatar||"https://example.com/default-avatar.jpg",alt:"Profile"}),y.jsx("h4",{children:o.meta.author}),y.jsx("p",{children:o.meta.date})]}),y.jsx("p",{children:o.content}),y.jsx("img",{src:o.img||"https://example.com/default-avatar.jpg",alt:"Img or Video"})]}),y.jsxs("div",{className:tn.feedback,children:[y.jsxs("p",{children:[y.jsx("i",{className:"fa-regular fa-comment"}),y.jsx("span",{children:o.feedback.comments})]}),y.jsxs("p",{onClick:G=>$(G),children:[y.jsx("i",{className:"fa-regular fa-heart"}),y.jsx("span",{children:o.feedback.likes})]}),y.jsxs("p",{children:[y.jsx("i",{className:"fa-solid fa-magnifying-glass"}),y.jsx("span",{children:o.feedback.views})]})]}),p&&y.jsxs("div",{className:tn.actions,children:[y.jsx("button",{className:tn.editButton,onClick:()=>M(),children:"Edit"}),y.jsx("button",{className:tn.deleteButton,onClick:()=>D(),children:"Delete"})]}),y.jsxs("div",{className:tn.commentSection,children:[y.jsx("textarea",{ref:s,placeholder:"Post your reply",className:tn.commentInput}),y.jsx("button",{className:tn.commentButton,onClick:()=>R(),children:"Reply"})]})]},o.id):y.jsx("p",{children:"Loading post data..."}),o?y.jsx("div",{className:tn.commentsContainer,children:o.comments&&o.comments.length>0?o.comments.map(G=>y.jsxs("div",{className:tn.comment,children:[y.jsxs("div",{className:tn.commentHeader,children:[y.jsx("h5",{children:G.data.author}),y.jsx("p",{className:tn.commentDate,children:G.data.date})]}),y.jsx("p",{className:tn.commentText,children:G.data.text})]},G.data.id)):y.jsx("p",{className:tn.noComments,children:"No comments yet. Be the first to reply!"})}):y.jsx("p",{children:"Loading post data..."})]})}const vP="_profileContainer_z6qvq_1",EP="_header_z6qvq_17",TP="_coverPhoto_z6qvq_27",wP="_profileInfo_z6qvq_53",SP="_avatar_z6qvq_63",bP="_details_z6qvq_79",AP="_name_z6qvq_87",RP="_username_z6qvq_97",IP="_bio_z6qvq_107",CP="_editProfile_z6qvq_117",xP="_content_z6qvq_137",NP="_posts_z6qvq_145",DP="_post_z6qvq_145",xn={profileContainer:vP,header:EP,coverPhoto:TP,profileInfo:wP,avatar:SP,details:bP,name:AP,username:RP,bio:IP,editProfile:CP,content:xP,posts:NP,post:DP};function OP(){const[r,e]=j.useState([]),[n,s]=j.useState(!1),o=JSON.parse(Cs());return j.useEffect(()=>{s(!0),(async()=>{const{postsArray:f}=await rp(),m=f.filter(p=>p.meta.author===o.name);e(m),s(!1)})()},[]),y.jsxs("div",{className:xn.profileContainer,children:[n&&y.jsx(va,{}),y.jsxs("div",{className:xn.header,children:[y.jsx("div",{className:xn.coverPhoto,children:y.jsx("img",{src:o.wallImg?o.wallImg:"No image",alt:"wall_img"})}),y.jsxs("div",{className:xn.profileInfo,children:[y.jsx("img",{src:o.profileImg?o.profileImg:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Profile",className:xn.avatar}),y.jsxs("div",{className:xn.details,children:[y.jsx("h2",{className:xn.name,children:o.name}),y.jsx("p",{className:xn.username,children:o.email}),y.jsx("p",{className:xn.bio,children:o.bio})]}),y.jsx(ve,{to:"/react-regular-exam/welcome/profile/edit",className:xn.editProfile,children:"Edit"})]})]}),y.jsxs("div",{className:xn.content,children:[y.jsx("h3",{children:"Posts:"}),y.jsx("div",{className:xn.posts,children:r.map(u=>y.jsxs("div",{className:xn.post,children:[y.jsx("p",{children:u.content}),u.img&&y.jsx("img",{src:u.img,alt:""})]},u.id))})]})]})}const MP="_editProfileContainer_1yp8s_1",PP="_editProfileTitle_1yp8s_21",kP="_editProfileForm_1yp8s_31",VP="_editProfileLabel_1yp8s_43",jP="_editProfileInput_1yp8s_55",LP="_editProfileTextarea_1yp8s_57",UP="_editProfileSelect_1yp8s_59",zP="_editProfileSaveButton_1yp8s_87",BP="_imageUploadContainer_1yp8s_123",qP="_coverPhotoLabel_1yp8s_139",HP="_profileImageLabel_1yp8s_141",FP="_coverPhotoPreview_1yp8s_159",GP="_profileImagePreview_1yp8s_175",$P="_birthdateContainer_1yp8s_195",KP="_checkboxContainer_1yp8s_219",wt={editProfileContainer:MP,editProfileTitle:PP,editProfileForm:kP,editProfileLabel:VP,editProfileInput:jP,editProfileTextarea:LP,editProfileSelect:UP,editProfileSaveButton:zP,imageUploadContainer:BP,coverPhotoLabel:qP,profileImageLabel:HP,coverPhotoPreview:FP,profileImagePreview:GP,birthdateContainer:$P,checkboxContainer:KP},QP=()=>{const[r,e]=j.useState(""),[n,s]=j.useState(""),[o,u]=j.useState(null),[f,m]=j.useState(null),[p,g]=j.useState(null),[T,b]=j.useState(null),[R,D]=j.useState(""),[M,$]=j.useState(""),[q,G]=j.useState(""),[te,ee]=j.useState({day:"",month:"",year:""}),[ce,ie]=j.useState({connectWith:"",getMore:"",peronalizedAds:""}),ae=Wn(),{formData:O,updateForm:I,resetFormData:A}=j.useContext(vr),[x,k]=j.useState(!1);j.useEffect(()=>{(async()=>{const Z=JSON.parse(Cs());e(Z.name);const ge=await NO(Z.name);s(ge),console.log(n),D(Z.name),$(Z.email),G(Z.bio||""),ee(Z.birthday||{day:"",month:"",year:""}),Z.wallImg&&g(Z.wallImg),Z.profileImg&&u(Z.profileImg),ie({connectWith:Z.checkbox.connectWith||"",getMore:Z.checkbox.getMore||"",peronalizedAds:Z.checkbox.peronalizedAds||""})})()},[n]);const z=(Ee,Z,ge)=>{const de=Ee.target.files[0];de&&(Z(de),ge(URL.createObjectURL(de)))},N=Ee=>{const{name:Z,checked:ge}=Ee.target;ie(de=>({...de,[Z]:ge?"yes":"no"}))},mt=async Ee=>{Ee.preventDefault(),k(!0);const Z={name:R,email:M,bio:q,birthDay:te,preferences:ce};I(Z),await IO(r,n,Z,o,p);const ge=await og(n);EO(ge),ae("/react-regular-exam/welcome/profile"),k(!1)};return y.jsxs("div",{className:wt.editProfileContainer,children:[x&&y.jsx(va,{}),y.jsx("h2",{className:wt.editProfileTitle,children:"Edit Profile"}),y.jsxs("form",{onSubmit:mt,className:wt.editProfileForm,children:[y.jsxs("div",{className:wt.imageUploadContainer,children:[y.jsxs("label",{className:wt.coverPhotoLabel,children:["Cover Photo:",y.jsx("input",{type:"file",accept:"image/*",onChange:Ee=>z(Ee,g,b)}),p&&y.jsx("img",{src:T||p,alt:"Cover",className:wt.coverPhotoPreview})]}),y.jsxs("label",{className:wt.profileImageLabel,children:["Profile Image:",y.jsx("input",{type:"file",accept:"image/*",onChange:Ee=>z(Ee,u,m)}),o&&y.jsx("img",{src:f||o||"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Profile",className:wt.profileImagePreview})]})]}),y.jsxs("label",{className:wt.editProfileLabel,children:["Name:",y.jsx("input",{type:"text",value:R||"",onChange:Ee=>D(Ee.target.value),className:wt.editProfileInput})]}),y.jsxs("label",{className:wt.editProfileLabel,children:["Email:",y.jsx("input",{type:"email",value:M||"",onChange:Ee=>$(Ee.target.value),className:wt.editProfileInput})]}),y.jsxs("label",{className:wt.editProfileLabel,children:["Bio:",y.jsx("textarea",{value:q||"",onChange:Ee=>G(Ee.target.value),className:wt.editProfileTextarea})]}),y.jsxs("div",{className:wt.birthdateContainer,children:[y.jsxs("select",{value:te.day||"",onChange:Ee=>ee(Z=>({...Z,day:Ee.target.value})),className:wt.editProfileSelect,children:[y.jsx("option",{value:""}),Array.from({length:31},(Ee,Z)=>y.jsx("option",{value:Z+1||"",children:Z+1},Z+1))]}),y.jsxs("select",{value:te.month||"",onChange:Ee=>ee(Z=>({...Z,month:Ee.target.value})),className:wt.editProfileSelect,children:[y.jsx("option",{value:""}),y.jsx("option",{value:"January",children:"January"}),y.jsx("option",{value:"February",children:"February"}),y.jsx("option",{value:"March",children:"March"}),y.jsx("option",{value:"April",children:"April"}),y.jsx("option",{value:"May",children:"May"}),y.jsx("option",{value:"June",children:"June"}),y.jsx("option",{value:"July",children:"July"}),y.jsx("option",{value:"August",children:"August"}),y.jsx("option",{value:"September",children:"September"}),y.jsx("option",{value:"October",children:"October"}),y.jsx("option",{value:"November",children:"November"}),y.jsx("option",{value:"December",children:"December"})]}),y.jsxs("select",{value:te.year||"",onChange:Ee=>ee(Z=>({...Z,year:Ee.target.value})),className:wt.editProfileSelect,children:[y.jsx("option",{value:""}),Array.from({length:121},(Ee,Z)=>y.jsx("option",{value:Z+1905||"",children:Z+1905},Z+1905))]})]}),y.jsxs("div",{className:wt.checkboxContainer,children:[y.jsxs("label",{children:[y.jsx("input",{type:"checkbox",name:"connectWith",checked:ce.connectWith==="yes",onChange:Ee=>N(Ee)})," Connect"]}),y.jsxs("label",{children:[y.jsx("input",{type:"checkbox",name:"getMore",checked:ce.getMore==="yes",onChange:Ee=>N(Ee)})," More"]}),y.jsxs("label",{children:[y.jsx("input",{type:"checkbox",name:"peronalizedAds",checked:ce.peronalizedAds==="yes",onChange:Ee=>N(Ee)})," Ads"]})]}),y.jsx("button",{type:"submit",className:wt.editProfileSaveButton,children:"Save"})]})]})},YP="_editContainer_juuuu_1",XP="_editTitle_juuuu_19",WP="_editForm_juuuu_31",ZP="_editLabel_juuuu_41",JP="_editTextarea_juuuu_53",ek="_imageUploadContainer_juuuu_69",tk="_existingImage_juuuu_81",nk="_removeOldImageButton_juuuu_89",ik="_addButton_juuuu_115",rk="_imagePreviewContainer_juuuu_145",sk="_imagePreview_juuuu_145",ak="_removeButton_juuuu_175",ok="_saveButton_juuuu_201",dn={editContainer:YP,editTitle:XP,editForm:WP,editLabel:ZP,editTextarea:JP,imageUploadContainer:ek,existingImage:tk,removeOldImageButton:nk,addButton:ik,imagePreviewContainer:rk,imagePreview:sk,removeButton:ak,saveButton:ok},lk=()=>{var ce;const[r,e]=j.useState(!1),[n,s]=j.useState(""),[o,u]=j.useState(null),m=(ce=yr().state)==null?void 0:ce.postData,[p,g]=j.useState(""),[T,b]=j.useState(""),R=Wn();j.useEffect(()=>{(async()=>{const ae=await jh(m.id);b(ae.content),g(ae),ae.img&&e(!0)})()},[r]);const D=ie=>{b(ie.target.value)},M=j.useRef(null),$=ie=>{const ae=ie.target.files[0];if(ae){const O=URL.createObjectURL(ae);s(ae),u(O)}},q=()=>{s("")},G=()=>{CO(p.id),e(!1)},te=async ie=>{ie.preventDefault(),await RO(p.id,n,T,p.img,p.imgId);const ae=p.id;R(`/react-regular-exam/welcome/${ae}/details`,{state:{postId:ae}})},ee=()=>{M.current.click()};return y.jsxs("div",{className:dn.editContainer,children:[y.jsx("h2",{className:dn.editTitle,children:"Edit Post"}),y.jsxs("form",{onSubmit:te,className:dn.editForm,children:[y.jsx("label",{className:dn.editLabel,children:"Content:"}),y.jsx("textarea",{value:T,onChange:D,className:dn.editTextarea}),y.jsx("label",{className:dn.editLabel,children:"Image:"}),y.jsxs("div",{className:dn.imageUploadContainer,children:[p.img&&y.jsxs("div",{className:dn.existingImageContainer,children:[y.jsx("img",{src:p.img,alt:"Existing Post Image",className:dn.existingImage}),y.jsx("button",{type:"button",className:dn.removeOldImageButton,onClick:G,children:"Remove Old Image"})]}),y.jsx("button",{type:"button",className:dn.addButton,onClick:ee,children:"Add Image"}),y.jsx("input",{type:"file",accept:"image/*",onChange:$,ref:M,style:{display:"none"}})]}),n&&y.jsxs("div",{className:dn.imagePreviewContainer,children:[y.jsx("img",{src:o,alt:"Preview",className:dn.imagePreview}),y.jsx("button",{type:"button",className:dn.removeButton,onClick:q,children:"Remove Image"})]}),y.jsx("button",{type:"submit",className:dn.saveButton,children:"Save"})]})]})};function uk(){return y.jsx(SR,{children:y.jsxs(NA,{children:[y.jsx(mn,{path:"/react-regular-exam/about",element:y.jsx(eP,{})}),y.jsx(mn,{path:"/react-regular-exam",element:y.jsx(bR,{})}),y.jsx(mn,{path:"/react-regular-exam/guest",element:y.jsx(F2,{})}),y.jsx(mn,{path:"/react-regular-exam/login",element:y.jsx(sO,{})}),y.jsx(mn,{path:"/react-regular-exam/login/pass",element:y.jsx(DO,{})}),y.jsx(mn,{path:"/react-regular-exam/create",element:y.jsx(YO,{})}),y.jsx(mn,{path:"/react-regular-exam/create/submit",element:y.jsx(uM,{})}),y.jsxs(mn,{path:"/react-regular-exam/welcome",element:y.jsx(LM,{children:y.jsx(gM,{})}),children:[y.jsx(mn,{index:!0,element:y.jsx(jM,{})}),y.jsx(mn,{path:":postId/details",element:y.jsx(yP,{})}),y.jsx(mn,{path:":postId/details/edit",element:y.jsx(lk,{})}),y.jsx(mn,{path:"post",element:y.jsx(XM,{})}),y.jsx(mn,{path:"profile",element:y.jsx(OP,{})}),y.jsx(mn,{path:"profile/edit",element:y.jsx(QP,{})})]})]})})}jb.createRoot(document.getElementById("root")).render(y.jsx(j.StrictMode,{children:y.jsx(JA,{children:y.jsx(uk,{})})}));
