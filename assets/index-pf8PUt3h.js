(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Xd={exports:{}},Pl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gy;function iA(){if(Gy)return Pl;Gy=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Pl.Fragment=e,Pl.jsx=n,Pl.jsxs=n,Pl}var $y;function rA(){return $y||($y=1,Xd.exports=iA()),Xd.exports}var E=rA(),Wd={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ky;function sA(){if(Ky)return Ce;Ky=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.iterator;function R(O){return O===null||typeof O!="object"?null:(O=A&&O[A]||O["@@iterator"],typeof O=="function"?O:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,$={};function q(O,te,he){this.props=O,this.context=te,this.refs=$,this.updater=he||N}q.prototype.isReactComponent={},q.prototype.setState=function(O,te){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,te,"setState")},q.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function Y(){}Y.prototype=q.prototype;function ne(O,te,he){this.props=O,this.context=te,this.refs=$,this.updater=he||N}var ee=ne.prototype=new Y;ee.constructor=ne,k(ee,q.prototype),ee.isPureReactComponent=!0;var me=Array.isArray,ue={H:null,A:null,T:null,S:null},be=Object.prototype.hasOwnProperty;function V(O,te,he,se,ae,Ie){return he=Ie.ref,{$$typeof:r,type:O,key:te,ref:he!==void 0?he:null,props:Ie}}function C(O,te){return V(O.type,te,void 0,void 0,void 0,O.props)}function b(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function x(O){var te={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(he){return te[he]})}var P=/\/+/g;function z(O,te){return typeof O=="object"&&O!==null&&O.key!=null?x(""+O.key):te.toString(36)}function D(){}function St(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(D,D):(O.status="pending",O.then(function(te){O.status==="pending"&&(O.status="fulfilled",O.value=te)},function(te){O.status==="pending"&&(O.status="rejected",O.reason=te)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function gt(O,te,he,se,ae){var Ie=typeof O;(Ie==="undefined"||Ie==="boolean")&&(O=null);var Re=!1;if(O===null)Re=!0;else switch(Ie){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(O.$$typeof){case r:case e:Re=!0;break;case T:return Re=O._init,gt(Re(O._payload),te,he,se,ae)}}if(Re)return ae=ae(O),Re=se===""?"."+z(O,0):se,me(ae)?(he="",Re!=null&&(he=Re.replace(P,"$&/")+"/"),gt(ae,te,he,"",function(ot){return ot})):ae!=null&&(b(ae)&&(ae=C(ae,he+(ae.key==null||O&&O.key===ae.key?"":(""+ae.key).replace(P,"$&/")+"/")+Re)),te.push(ae)),1;Re=0;var _t=se===""?".":se+":";if(me(O))for(var Be=0;Be<O.length;Be++)se=O[Be],Ie=_t+z(se,Be),Re+=gt(se,te,he,Ie,ae);else if(Be=R(O),typeof Be=="function")for(O=Be.call(O),Be=0;!(se=O.next()).done;)se=se.value,Ie=_t+z(se,Be++),Re+=gt(se,te,he,Ie,ae);else if(Ie==="object"){if(typeof O.then=="function")return gt(St(O),te,he,se,ae);throw te=String(O),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Re}function re(O,te,he){if(O==null)return O;var se=[],ae=0;return gt(O,se,"","",function(Ie){return te.call(he,Ie,ae++)}),se}function Ee(O){if(O._status===-1){var te=O._result;te=te(),te.then(function(he){(O._status===0||O._status===-1)&&(O._status=1,O._result=he)},function(he){(O._status===0||O._status===-1)&&(O._status=2,O._result=he)}),O._status===-1&&(O._status=0,O._result=te)}if(O._status===1)return O._result.default;throw O._result}var pe=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Ge(){}return Ce.Children={map:re,forEach:function(O,te,he){re(O,function(){te.apply(this,arguments)},he)},count:function(O){var te=0;return re(O,function(){te++}),te},toArray:function(O){return re(O,function(te){return te})||[]},only:function(O){if(!b(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ce.Component=q,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=ne,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=ue,Ce.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ce.cache=function(O){return function(){return O.apply(null,arguments)}},Ce.cloneElement=function(O,te,he){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var se=k({},O.props),ae=O.key,Ie=void 0;if(te!=null)for(Re in te.ref!==void 0&&(Ie=void 0),te.key!==void 0&&(ae=""+te.key),te)!be.call(te,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&te.ref===void 0||(se[Re]=te[Re]);var Re=arguments.length-2;if(Re===1)se.children=he;else if(1<Re){for(var _t=Array(Re),Be=0;Be<Re;Be++)_t[Be]=arguments[Be+2];se.children=_t}return V(O.type,ae,void 0,void 0,Ie,se)},Ce.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Ce.createElement=function(O,te,he){var se,ae={},Ie=null;if(te!=null)for(se in te.key!==void 0&&(Ie=""+te.key),te)be.call(te,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ae[se]=te[se]);var Re=arguments.length-2;if(Re===1)ae.children=he;else if(1<Re){for(var _t=Array(Re),Be=0;Be<Re;Be++)_t[Be]=arguments[Be+2];ae.children=_t}if(O&&O.defaultProps)for(se in Re=O.defaultProps,Re)ae[se]===void 0&&(ae[se]=Re[se]);return V(O,Ie,void 0,void 0,null,ae)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(O){return{$$typeof:m,render:O}},Ce.isValidElement=b,Ce.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:Ee}},Ce.memo=function(O,te){return{$$typeof:_,type:O,compare:te===void 0?null:te}},Ce.startTransition=function(O){var te=ue.T,he={};ue.T=he;try{var se=O(),ae=ue.S;ae!==null&&ae(he,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(Ge,pe)}catch(Ie){pe(Ie)}finally{ue.T=te}},Ce.unstable_useCacheRefresh=function(){return ue.H.useCacheRefresh()},Ce.use=function(O){return ue.H.use(O)},Ce.useActionState=function(O,te,he){return ue.H.useActionState(O,te,he)},Ce.useCallback=function(O,te){return ue.H.useCallback(O,te)},Ce.useContext=function(O){return ue.H.useContext(O)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(O,te){return ue.H.useDeferredValue(O,te)},Ce.useEffect=function(O,te){return ue.H.useEffect(O,te)},Ce.useId=function(){return ue.H.useId()},Ce.useImperativeHandle=function(O,te,he){return ue.H.useImperativeHandle(O,te,he)},Ce.useInsertionEffect=function(O,te){return ue.H.useInsertionEffect(O,te)},Ce.useLayoutEffect=function(O,te){return ue.H.useLayoutEffect(O,te)},Ce.useMemo=function(O,te){return ue.H.useMemo(O,te)},Ce.useOptimistic=function(O,te){return ue.H.useOptimistic(O,te)},Ce.useReducer=function(O,te,he){return ue.H.useReducer(O,te,he)},Ce.useRef=function(O){return ue.H.useRef(O)},Ce.useState=function(O){return ue.H.useState(O)},Ce.useSyncExternalStore=function(O,te,he){return ue.H.useSyncExternalStore(O,te,he)},Ce.useTransition=function(){return ue.H.useTransition()},Ce.version="19.0.0",Ce}var Qy;function qm(){return Qy||(Qy=1,Wd.exports=sA()),Wd.exports}var H=qm(),Zd={exports:{}},Ll={},Jd={exports:{}},em={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yy;function aA(){return Yy||(Yy=1,function(r){function e(re,Ee){var pe=re.length;re.push(Ee);e:for(;0<pe;){var Ge=pe-1>>>1,O=re[Ge];if(0<o(O,Ee))re[Ge]=Ee,re[pe]=O,pe=Ge;else break e}}function n(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var Ee=re[0],pe=re.pop();if(pe!==Ee){re[0]=pe;e:for(var Ge=0,O=re.length,te=O>>>1;Ge<te;){var he=2*(Ge+1)-1,se=re[he],ae=he+1,Ie=re[ae];if(0>o(se,pe))ae<O&&0>o(Ie,se)?(re[Ge]=Ie,re[ae]=pe,Ge=ae):(re[Ge]=se,re[he]=pe,Ge=he);else if(ae<O&&0>o(Ie,pe))re[Ge]=Ie,re[ae]=pe,Ge=ae;else break e}}return Ee}function o(re,Ee){var pe=re.sortIndex-Ee.sortIndex;return pe!==0?pe:re.id-Ee.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],_=[],T=1,A=null,R=3,N=!1,k=!1,$=!1,q=typeof setTimeout=="function"?setTimeout:null,Y=typeof clearTimeout=="function"?clearTimeout:null,ne=typeof setImmediate<"u"?setImmediate:null;function ee(re){for(var Ee=n(_);Ee!==null;){if(Ee.callback===null)s(_);else if(Ee.startTime<=re)s(_),Ee.sortIndex=Ee.expirationTime,e(p,Ee);else break;Ee=n(_)}}function me(re){if($=!1,ee(re),!k)if(n(p)!==null)k=!0,St();else{var Ee=n(_);Ee!==null&&gt(me,Ee.startTime-re)}}var ue=!1,be=-1,V=5,C=-1;function b(){return!(r.unstable_now()-C<V)}function x(){if(ue){var re=r.unstable_now();C=re;var Ee=!0;try{e:{k=!1,$&&($=!1,Y(be),be=-1),N=!0;var pe=R;try{t:{for(ee(re),A=n(p);A!==null&&!(A.expirationTime>re&&b());){var Ge=A.callback;if(typeof Ge=="function"){A.callback=null,R=A.priorityLevel;var O=Ge(A.expirationTime<=re);if(re=r.unstable_now(),typeof O=="function"){A.callback=O,ee(re),Ee=!0;break t}A===n(p)&&s(p),ee(re)}else s(p);A=n(p)}if(A!==null)Ee=!0;else{var te=n(_);te!==null&&gt(me,te.startTime-re),Ee=!1}}break e}finally{A=null,R=pe,N=!1}Ee=void 0}}finally{Ee?P():ue=!1}}}var P;if(typeof ne=="function")P=function(){ne(x)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,D=z.port2;z.port1.onmessage=x,P=function(){D.postMessage(null)}}else P=function(){q(x,0)};function St(){ue||(ue=!0,P())}function gt(re,Ee){be=q(function(){re(r.unstable_now())},Ee)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(re){re.callback=null},r.unstable_continueExecution=function(){k||N||(k=!0,St())},r.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<re?Math.floor(1e3/re):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(re){switch(R){case 1:case 2:case 3:var Ee=3;break;default:Ee=R}var pe=R;R=Ee;try{return re()}finally{R=pe}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(re,Ee){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var pe=R;R=re;try{return Ee()}finally{R=pe}},r.unstable_scheduleCallback=function(re,Ee,pe){var Ge=r.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Ge+pe:Ge):pe=Ge,re){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=pe+O,re={id:T++,callback:Ee,priorityLevel:re,startTime:pe,expirationTime:O,sortIndex:-1},pe>Ge?(re.sortIndex=pe,e(_,re),n(p)===null&&re===n(_)&&($?(Y(be),be=-1):$=!0,gt(me,pe-Ge))):(re.sortIndex=O,e(p,re),k||N||(k=!0,St())),re},r.unstable_shouldYield=b,r.unstable_wrapCallback=function(re){var Ee=R;return function(){var pe=R;R=Ee;try{return re.apply(this,arguments)}finally{R=pe}}}}(em)),em}var Xy;function oA(){return Xy||(Xy=1,Jd.exports=aA()),Jd.exports}var tm={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wy;function lA(){if(Wy)return Xt;Wy=1;var r=qm();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,_,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:p,containerInfo:_,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(p,_,null,T)},Xt.flushSync=function(p){var _=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=_,s.p=T,s.d.f()}},Xt.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},Xt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xt.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,A=m(T,_.crossOrigin),R=typeof _.integrity=="string"?_.integrity:void 0,N=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:A,integrity:R,fetchPriority:N}):T==="script"&&s.d.X(p,{crossOrigin:A,integrity:R,fetchPriority:N,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Xt.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=m(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},Xt.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,A=m(T,_.crossOrigin);s.d.L(p,T,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Xt.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=m(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},Xt.requestFormReset=function(p){s.d.r(p)},Xt.unstable_batchedUpdates=function(p,_){return p(_)},Xt.useFormState=function(p,_,T){return f.H.useFormState(p,_,T)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.0.0",Xt}var Zy;function uA(){if(Zy)return tm.exports;Zy=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),tm.exports=lA(),tm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jy;function cA(){if(Jy)return Ll;Jy=1;var r=oA(),e=qm(),n=uA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),A=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),N=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),Y=Symbol.for("react.memo"),ne=Symbol.for("react.lazy"),ee=Symbol.for("react.offscreen"),me=Symbol.for("react.memo_cache_sentinel"),ue=Symbol.iterator;function be(t){return t===null||typeof t!="object"?null:(t=ue&&t[ue]||t["@@iterator"],typeof t=="function"?t:null)}var V=Symbol.for("react.client.reference");function C(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===V?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case T:return"Profiler";case _:return"StrictMode";case $:return"Suspense";case q:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N:return(t.displayName||"Context")+".Provider";case R:return(t._context.displayName||"Context")+".Consumer";case k:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Y:return i=t.displayName||null,i!==null?i:C(t.type)||"Memo";case ne:i=t._payload,t=t._init;try{return C(t(i))}catch{}}return null}var b=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,x=Object.assign,P,z;function D(t){if(P===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);P=i&&i[1]||"",z=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+P+t+z}var St=!1;function gt(t,i){if(!t||St)return"";St=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(K){var F=K}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(K){F=K}t.call(Z.prototype)}}else{try{throw Error()}catch(K){F=K}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(K){if(K&&F&&typeof K.stack=="string")return[K.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],S=d[1];if(v&&S){var I=v.split(`
`),L=S.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===L.length)for(l=I.length-1,h=L.length-1;1<=l&&0<=h&&I[l]!==L[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==L[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==L[h]){var Q=`
`+I[l].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=l&&0<=h);break}}}finally{St=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?D(a):""}function re(t){switch(t.tag){case 26:case 27:case 5:return D(t.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 15:return t=gt(t.type,!1),t;case 11:return t=gt(t.type.render,!1),t;case 1:return t=gt(t.type,!0),t;default:return""}}function Ee(t){try{var i="";do i+=re(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function pe(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function Ge(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function O(t){if(pe(t)!==t)throw Error(s(188))}function te(t){var i=t.alternate;if(!i){if(i=pe(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return O(h),t;if(d===l)return O(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,S=h.child;S;){if(S===a){v=!0,a=h,l=d;break}if(S===l){v=!0,l=h,a=d;break}S=S.sibling}if(!v){for(S=d.child;S;){if(S===a){v=!0,a=d,l=h;break}if(S===l){v=!0,l=d,a=h;break}S=S.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function he(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=he(t),i!==null)return i;t=t.sibling}return null}var se=Array.isArray,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},Re=[],_t=-1;function Be(t){return{current:t}}function ot(t){0>_t||(t.current=Re[_t],Re[_t]=null,_t--)}function Qe(t,i){_t++,Re[_t]=t.current,t.current=i}var rn=Be(null),Ii=Be(null),Cn=Be(null),dr=Be(null);function mr(t,i){switch(Qe(Cn,i),Qe(Ii,t),Qe(rn,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?Ey(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=Ey(t),i=Ty(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ot(rn),Qe(rn,i)}function xi(){ot(rn),ot(Ii),ot(Cn)}function No(t){t.memoizedState!==null&&Qe(dr,t);var i=rn.current,a=Ty(i,t.type);i!==a&&(Qe(Ii,t),Qe(rn,a))}function fa(t){Ii.current===t&&(ot(rn),ot(Ii)),dr.current===t&&(ot(dr),Nl._currentValue=Ie)}var da=Object.prototype.hasOwnProperty,Ss=r.unstable_scheduleCallback,ma=r.unstable_cancelCallback,Wh=r.unstable_shouldYield,Oo=r.unstable_requestPaint,hn=r.unstable_now,Su=r.unstable_getCurrentPriorityLevel,wt=r.unstable_ImmediatePriority,Ot=r.unstable_UserBlockingPriority,Di=r.unstable_NormalPriority,wu=r.unstable_LowPriority,Mo=r.unstable_IdlePriority,Zh=r.log,ws=r.unstable_setDisableYieldValue,pr=null,Qt=null;function Vo(t){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(pr,t,void 0,(t.current.flags&128)===128)}catch{}}function ei(t){if(typeof Zh=="function"&&ws(t),Qt&&typeof Qt.setStrictMode=="function")try{Qt.setStrictMode(pr,t)}catch{}}var sn=Math.clz32?Math.clz32:bu,ko=Math.log,Au=Math.LN2;function bu(t){return t>>>=0,t===0?32:31-(ko(t)/Au|0)|0}var ti=128,gr=4194304;function $n(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function In(t,i){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,v=t.warmLanes;t=t.finishedLanes!==0;var S=a&134217727;return S!==0?(a=S&~h,a!==0?l=$n(a):(d&=S,d!==0?l=$n(d):t||(v=S&~v,v!==0&&(l=$n(v))))):(S=a&~h,S!==0?l=$n(S):d!==0?l=$n(d):t||(v=a&~v,v!==0&&(l=$n(v)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,v=i&-i,h>=v||h===32&&(v&4194176)!==0)?i:l}function _r(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function pa(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Po(){var t=ti;return ti<<=1,(ti&4194176)===0&&(ti=128),t}function yr(){var t=gr;return gr<<=1,(gr&62914560)===0&&(gr=4194304),t}function ga(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function dt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Ru(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,I=t.expirationTimes,L=t.hiddenUpdates;for(a=v&~a;0<a;){var Q=31-sn(a),Z=1<<Q;S[Q]=0,I[Q]=-1;var F=L[Q];if(F!==null)for(L[Q]=null,Q=0;Q<F.length;Q++){var K=F[Q];K!==null&&(K.lane&=-536870913)}a&=~Z}l!==0&&vr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function vr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-sn(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function Er(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-sn(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Cu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Iu(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:jy(t.type))}function Tr(t,i){var a=ae.p;try{return ae.p=t,i()}finally{ae.p=a}}var ni=Math.random().toString(36).slice(2),Mt="__reactFiber$"+ni,At="__reactProps$"+ni,Ni="__reactContainer$"+ni,As="__reactEvents$"+ni,_a="__reactListeners$"+ni,ii="__reactHandles$"+ni,Lo="__reactResources$"+ni,Sr="__reactMarker$"+ni;function bs(t){delete t[Mt],delete t[At],delete t[As],delete t[_a],delete t[ii]}function Kn(t){var i=t[Mt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ni]||a[Mt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Ay(t);t!==null;){if(a=t[Mt])return a;t=Ay(t)}return i}t=a,a=t.parentNode}return null}function Oi(t){if(t=t[Mt]||t[Ni]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function wr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Ar(t){var i=t[Lo];return i||(i=t[Lo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function nt(t){t[Sr]=!0}var Uo=new Set,ya={};function vn(t,i){fn(t,i),fn(t+"Capture",i)}function fn(t,i){for(ya[t]=i,t=0;t<i.length;t++)Uo.add(i[t])}var En=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jh=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jo={},zo={};function xu(t){return da.call(zo,t)?!0:da.call(jo,t)?!1:Jh.test(t)?zo[t]=!0:(jo[t]=!0,!1)}function br(t,i,a){if(xu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Rr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function xn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function an(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Du(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ef(t){var i=Du(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){l=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Rs(t){t._valueTracker||(t._valueTracker=ef(t))}function Bo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=Du(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function va(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Mi=/[\n"\\]/g;function lt(t){return t.replace(Mi,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Cr(t,i,a,l,h,d,v,S){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+an(i)):t.value!==""+an(i)&&(t.value=""+an(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?Ea(t,v,an(i)):a!=null?Ea(t,v,an(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+an(S):t.removeAttribute("name")}function Cs(t,i,a,l,h,d,v,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+an(a):"",i=i!=null?""+an(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function Ea(t,i,a){i==="number"&&va(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function He(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+an(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Is(t,i,a){if(i!=null&&(i=""+an(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+an(a):""}function Ir(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(se(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=an(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Dn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var tf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ho(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||tf.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Nu(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&Ho(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&Ho(t,d,i[d])}function qo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ri(t){return rf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Nn=null;function Ta(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vi=null,ki=null;function Pi(t){var i=Oi(t);if(i&&(t=i.stateNode)){var a=t[At]||null;e:switch(t=i.stateNode,i.type){case"input":if(Cr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+lt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[At]||null;if(!h)throw Error(s(90));Cr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Bo(l)}break e;case"textarea":Is(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&He(t,!!a.multiple,i,!1)}}}var Fo=!1;function Ou(t,i,a){if(Fo)return t(i,a);Fo=!0;try{var l=t(i);return l}finally{if(Fo=!1,(Vi!==null||ki!==null)&&(wc(),Vi&&(i=Vi,t=ki,ki=Vi=null,Pi(i),t)))for(i=0;i<t.length;i++)Pi(t[i])}}function xs(t,i){var a=t.stateNode;if(a===null)return null;var l=a[At]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var On=!1;if(En)try{var Ds={};Object.defineProperty(Ds,"passive",{get:function(){On=!0}}),window.addEventListener("test",Ds,Ds),window.removeEventListener("test",Ds,Ds)}catch{On=!1}var si=null,xr=null,Li=null;function Go(){if(Li)return Li;var t,i=xr,a=i.length,l,h="value"in si?si.value:si.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Li=h.slice(t,1<l?1-l:void 0)}function ai(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function oi(){return!0}function $o(){return!1}function Vt(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?oi:$o,this.isPropagationStopped=$o,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=oi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=oi)},persist:function(){},isPersistent:oi}),i}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sa=Vt($e),Ns=x({},$e,{view:0,detail:0}),Mu=Vt(Ns),wa,Aa,li,Os=x({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ks,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==li&&(li&&t.type==="mousemove"?(wa=t.screenX-li.screenX,Aa=t.screenY-li.screenY):Aa=wa=0,li=t),wa)},movementY:function(t){return"movementY"in t?t.movementY:Aa}}),Mn=Vt(Os),Vu=x({},Os,{dataTransfer:0}),sf=Vt(Vu),Ms=x({},Ns,{relatedTarget:0}),ba=Vt(Ms),Ko=x({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),Ra=Vt(Ko),ku=x({},$e,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ca=Vt(ku),af=x({},$e,{data:0}),Qo=Vt(af),Vs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Lu[t])?!!i[t]:!1}function ks(){return Yo}var Uu=x({},Ns,{key:function(t){if(t.key){var i=Vs[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ai(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Pu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ks,charCode:function(t){return t.type==="keypress"?ai(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ai(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Ia=Vt(Uu),ju=x({},Os,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xo=Vt(ju),Ui=x({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ks}),zu=Vt(Ui),Bu=x({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hu=Vt(Bu),qu=x({},Os,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xa=Vt(qu),on=x({},$e,{newState:0,oldState:0}),Fu=Vt(on),Gu=[9,13,27,32],ui=En&&"CompositionEvent"in window,c=null;En&&"documentMode"in document&&(c=document.documentMode);var g=En&&"TextEvent"in window&&!c,y=En&&(!ui||c&&8<c&&11>=c),w=" ",j=!1;function G(t,i){switch(t){case"keyup":return Gu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Le=!1;function bt(t,i){switch(t){case"compositionend":return ie(i);case"keypress":return i.which!==32?null:(j=!0,w);case"textInput":return t=i.data,t===w&&j?null:t;default:return null}}function Ue(t,i){if(Le)return t==="compositionend"||!ui&&G(t,i)?(t=Go(),Li=xr=si=null,Le=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return y&&i.locale!=="ko"?null:i.data;default:return null}}var kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!kt[t.type]:i==="textarea"}function ji(t,i,a,l){Vi?ki?ki.push(l):ki=[l]:Vi=l,i=Ic(i,"onChange"),0<i.length&&(a=new Sa("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var zt=null,ci=null;function Wo(t){py(t,0)}function $u(t){var i=wr(t);if(Bo(i))return t}function Fp(t,i){if(t==="change")return i}var Gp=!1;if(En){var of;if(En){var lf="oninput"in document;if(!lf){var $p=document.createElement("div");$p.setAttribute("oninput","return;"),lf=typeof $p.oninput=="function"}of=lf}else of=!1;Gp=of&&(!document.documentMode||9<document.documentMode)}function Kp(){zt&&(zt.detachEvent("onpropertychange",Qp),ci=zt=null)}function Qp(t){if(t.propertyName==="value"&&$u(ci)){var i=[];ji(i,ci,t,Ta(t)),Ou(Wo,i)}}function MS(t,i,a){t==="focusin"?(Kp(),zt=i,ci=a,zt.attachEvent("onpropertychange",Qp)):t==="focusout"&&Kp()}function VS(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $u(ci)}function kS(t,i){if(t==="click")return $u(i)}function PS(t,i){if(t==="input"||t==="change")return $u(i)}function LS(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var Tn=typeof Object.is=="function"?Object.is:LS;function Zo(t,i){if(Tn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!da.call(i,h)||!Tn(t[h],i[h]))return!1}return!0}function Yp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Xp(t,i){var a=Yp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Yp(a)}}function Wp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Wp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Zp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=va(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=va(t.document)}return i}function uf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function US(t,i){var a=Zp(i);i=t.focusedElem;var l=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&Wp(i.ownerDocument.documentElement,i)){if(l!==null&&uf(i)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=Xp(i,d);var v=Xp(i,l);h&&v&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==v.node||a.focusOffset!==v.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(v.node,v.offset)):(t.setEnd(v.node,v.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var jS=En&&"documentMode"in document&&11>=document.documentMode,Da=null,cf=null,Jo=null,hf=!1;function Jp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;hf||Da==null||Da!==va(l)||(l=Da,"selectionStart"in l&&uf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jo&&Zo(Jo,l)||(Jo=l,l=Ic(cf,"onSelect"),0<l.length&&(i=new Sa("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Da)))}function Ps(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Na={animationend:Ps("Animation","AnimationEnd"),animationiteration:Ps("Animation","AnimationIteration"),animationstart:Ps("Animation","AnimationStart"),transitionrun:Ps("Transition","TransitionRun"),transitionstart:Ps("Transition","TransitionStart"),transitioncancel:Ps("Transition","TransitionCancel"),transitionend:Ps("Transition","TransitionEnd")},ff={},eg={};En&&(eg=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Ls(t){if(ff[t])return ff[t];if(!Na[t])return t;var i=Na[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in eg)return ff[t]=i[a];return t}var tg=Ls("animationend"),ng=Ls("animationiteration"),ig=Ls("animationstart"),zS=Ls("transitionrun"),BS=Ls("transitionstart"),HS=Ls("transitioncancel"),rg=Ls("transitionend"),sg=new Map,ag="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Qn(t,i){sg.set(t,i),vn(i,[t])}var Vn=[],Oa=0,df=0;function Ku(){for(var t=Oa,i=df=Oa=0;i<t;){var a=Vn[i];Vn[i++]=null;var l=Vn[i];Vn[i++]=null;var h=Vn[i];Vn[i++]=null;var d=Vn[i];if(Vn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&og(a,h,d)}}function Qu(t,i,a,l){Vn[Oa++]=t,Vn[Oa++]=i,Vn[Oa++]=a,Vn[Oa++]=l,df|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function mf(t,i,a,l){return Qu(t,i,a,l),Yu(t)}function Dr(t,i){return Qu(t,null,null,i),Yu(t)}function og(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&i!==null&&t.tag===3&&(d=t.stateNode,h=31-sn(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[i]:t.push(i),i.lane=a|536870912)}function Yu(t){if(50<Al)throw Al=0,Ed=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ma={},lg=new WeakMap;function kn(t,i){if(typeof t=="object"&&t!==null){var a=lg.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ee(i)},lg.set(t,i),i)}return{value:t,source:i,stack:Ee(i)}}var Va=[],ka=0,Xu=null,Wu=0,Pn=[],Ln=0,Us=null,zi=1,Bi="";function js(t,i){Va[ka++]=Wu,Va[ka++]=Xu,Xu=t,Wu=i}function ug(t,i,a){Pn[Ln++]=zi,Pn[Ln++]=Bi,Pn[Ln++]=Us,Us=t;var l=zi;t=Bi;var h=32-sn(l)-1;l&=~(1<<h),a+=1;var d=32-sn(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,zi=1<<32-sn(i)+h|a<<h|l,Bi=d+t}else zi=1<<d|a<<h|l,Bi=t}function pf(t){t.return!==null&&(js(t,1),ug(t,1,0))}function gf(t){for(;t===Xu;)Xu=Va[--ka],Va[ka]=null,Wu=Va[--ka],Va[ka]=null;for(;t===Us;)Us=Pn[--Ln],Pn[Ln]=null,Bi=Pn[--Ln],Pn[Ln]=null,zi=Pn[--Ln],Pn[Ln]=null}var ln=null,Bt=null,qe=!1,Yn=null,hi=!1,_f=Error(s(519));function zs(t){var i=Error(s(418,""));throw nl(kn(i,t)),_f}function cg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Mt]=t,i[At]=l,a){case"dialog":ke("cancel",i),ke("close",i);break;case"iframe":case"object":case"embed":ke("load",i);break;case"video":case"audio":for(a=0;a<Rl.length;a++)ke(Rl[a],i);break;case"source":ke("error",i);break;case"img":case"image":case"link":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"input":ke("invalid",i),Cs(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Rs(i);break;case"select":ke("invalid",i);break;case"textarea":ke("invalid",i),Ir(i,l.value,l.defaultValue,l.children),Rs(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||vy(i.textContent,a)?(l.popover!=null&&(ke("beforetoggle",i),ke("toggle",i)),l.onScroll!=null&&ke("scroll",i),l.onScrollEnd!=null&&ke("scrollend",i),l.onClick!=null&&(i.onclick=xc),i=!0):i=!1,i||zs(t)}function hg(t){for(ln=t.return;ln;)switch(ln.tag){case 3:case 27:hi=!0;return;case 5:case 13:hi=!1;return;default:ln=ln.return}}function el(t){if(t!==ln)return!1;if(!qe)return hg(t),qe=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ld(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&Bt&&zs(t),hg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Bt=Wn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Bt=null}}else Bt=ln?Wn(t.stateNode.nextSibling):null;return!0}function tl(){Bt=ln=null,qe=!1}function nl(t){Yn===null?Yn=[t]:Yn.push(t)}var il=Error(s(460)),fg=Error(s(474)),yf={then:function(){}};function dg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Zu(){}function mg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Zu,Zu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===il?Error(s(483)):t;default:if(typeof i.status=="string")i.then(Zu,Zu);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===il?Error(s(483)):t}throw rl=i,il}}var rl=null;function pg(){if(rl===null)throw Error(s(459));var t=rl;return rl=null,t}var Pa=null,sl=0;function Ju(t){var i=sl;return sl+=1,Pa===null&&(Pa=[]),mg(Pa,t,i)}function al(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function ec(t,i){throw i.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function gg(t){var i=t._init;return i(t._payload)}function _g(t){function i(U,M){if(t){var B=U.deletions;B===null?(U.deletions=[M],U.flags|=16):B.push(M)}}function a(U,M){if(!t)return null;for(;M!==null;)i(U,M),M=M.sibling;return null}function l(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=Hr(U,M),U.index=0,U.sibling=null,U}function d(U,M,B){return U.index=B,t?(B=U.alternate,B!==null?(B=B.index,B<M?(U.flags|=33554434,M):B):(U.flags|=33554434,M)):(U.flags|=1048576,M)}function v(U){return t&&U.alternate===null&&(U.flags|=33554434),U}function S(U,M,B,X){return M===null||M.tag!==6?(M=fd(B,U.mode,X),M.return=U,M):(M=h(M,B),M.return=U,M)}function I(U,M,B,X){var le=B.type;return le===p?Q(U,M,B.props.children,X,B.key):M!==null&&(M.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ne&&gg(le)===M.type)?(M=h(M,B.props),al(M,B),M.return=U,M):(M=yc(B.type,B.key,B.props,null,U.mode,X),al(M,B),M.return=U,M)}function L(U,M,B,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=dd(B,U.mode,X),M.return=U,M):(M=h(M,B.children||[]),M.return=U,M)}function Q(U,M,B,X,le){return M===null||M.tag!==7?(M=Xs(B,U.mode,X,le),M.return=U,M):(M=h(M,B),M.return=U,M)}function Z(U,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=fd(""+M,U.mode,B),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case f:return B=yc(M.type,M.key,M.props,null,U.mode,B),al(B,M),B.return=U,B;case m:return M=dd(M,U.mode,B),M.return=U,M;case ne:var X=M._init;return M=X(M._payload),Z(U,M,B)}if(se(M)||be(M))return M=Xs(M,U.mode,B,null),M.return=U,M;if(typeof M.then=="function")return Z(U,Ju(M),B);if(M.$$typeof===N)return Z(U,pc(U,M),B);ec(U,M)}return null}function F(U,M,B,X){var le=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return le!==null?null:S(U,M,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case f:return B.key===le?I(U,M,B,X):null;case m:return B.key===le?L(U,M,B,X):null;case ne:return le=B._init,B=le(B._payload),F(U,M,B,X)}if(se(B)||be(B))return le!==null?null:Q(U,M,B,X,null);if(typeof B.then=="function")return F(U,M,Ju(B),X);if(B.$$typeof===N)return F(U,M,pc(U,B),X);ec(U,B)}return null}function K(U,M,B,X,le){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(B)||null,S(M,U,""+X,le);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case f:return U=U.get(X.key===null?B:X.key)||null,I(M,U,X,le);case m:return U=U.get(X.key===null?B:X.key)||null,L(M,U,X,le);case ne:var De=X._init;return X=De(X._payload),K(U,M,B,X,le)}if(se(X)||be(X))return U=U.get(B)||null,Q(M,U,X,le,null);if(typeof X.then=="function")return K(U,M,B,Ju(X),le);if(X.$$typeof===N)return K(U,M,B,pc(M,X),le);ec(M,X)}return null}function ce(U,M,B,X){for(var le=null,De=null,de=M,ye=M=0,Ut=null;de!==null&&ye<B.length;ye++){de.index>ye?(Ut=de,de=null):Ut=de.sibling;var Fe=F(U,de,B[ye],X);if(Fe===null){de===null&&(de=Ut);break}t&&de&&Fe.alternate===null&&i(U,de),M=d(Fe,M,ye),De===null?le=Fe:De.sibling=Fe,De=Fe,de=Ut}if(ye===B.length)return a(U,de),qe&&js(U,ye),le;if(de===null){for(;ye<B.length;ye++)de=Z(U,B[ye],X),de!==null&&(M=d(de,M,ye),De===null?le=de:De.sibling=de,De=de);return qe&&js(U,ye),le}for(de=l(de);ye<B.length;ye++)Ut=K(de,U,ye,B[ye],X),Ut!==null&&(t&&Ut.alternate!==null&&de.delete(Ut.key===null?ye:Ut.key),M=d(Ut,M,ye),De===null?le=Ut:De.sibling=Ut,De=Ut);return t&&de.forEach(function(Yr){return i(U,Yr)}),qe&&js(U,ye),le}function we(U,M,B,X){if(B==null)throw Error(s(151));for(var le=null,De=null,de=M,ye=M=0,Ut=null,Fe=B.next();de!==null&&!Fe.done;ye++,Fe=B.next()){de.index>ye?(Ut=de,de=null):Ut=de.sibling;var Yr=F(U,de,Fe.value,X);if(Yr===null){de===null&&(de=Ut);break}t&&de&&Yr.alternate===null&&i(U,de),M=d(Yr,M,ye),De===null?le=Yr:De.sibling=Yr,De=Yr,de=Ut}if(Fe.done)return a(U,de),qe&&js(U,ye),le;if(de===null){for(;!Fe.done;ye++,Fe=B.next())Fe=Z(U,Fe.value,X),Fe!==null&&(M=d(Fe,M,ye),De===null?le=Fe:De.sibling=Fe,De=Fe);return qe&&js(U,ye),le}for(de=l(de);!Fe.done;ye++,Fe=B.next())Fe=K(de,U,ye,Fe.value,X),Fe!==null&&(t&&Fe.alternate!==null&&de.delete(Fe.key===null?ye:Fe.key),M=d(Fe,M,ye),De===null?le=Fe:De.sibling=Fe,De=Fe);return t&&de.forEach(function(nA){return i(U,nA)}),qe&&js(U,ye),le}function ht(U,M,B,X){if(typeof B=="object"&&B!==null&&B.type===p&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case f:e:{for(var le=B.key;M!==null;){if(M.key===le){if(le=B.type,le===p){if(M.tag===7){a(U,M.sibling),X=h(M,B.props.children),X.return=U,U=X;break e}}else if(M.elementType===le||typeof le=="object"&&le!==null&&le.$$typeof===ne&&gg(le)===M.type){a(U,M.sibling),X=h(M,B.props),al(X,B),X.return=U,U=X;break e}a(U,M);break}else i(U,M);M=M.sibling}B.type===p?(X=Xs(B.props.children,U.mode,X,B.key),X.return=U,U=X):(X=yc(B.type,B.key,B.props,null,U.mode,X),al(X,B),X.return=U,U=X)}return v(U);case m:e:{for(le=B.key;M!==null;){if(M.key===le)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){a(U,M.sibling),X=h(M,B.children||[]),X.return=U,U=X;break e}else{a(U,M);break}else i(U,M);M=M.sibling}X=dd(B,U.mode,X),X.return=U,U=X}return v(U);case ne:return le=B._init,B=le(B._payload),ht(U,M,B,X)}if(se(B))return ce(U,M,B,X);if(be(B)){if(le=be(B),typeof le!="function")throw Error(s(150));return B=le.call(B),we(U,M,B,X)}if(typeof B.then=="function")return ht(U,M,Ju(B),X);if(B.$$typeof===N)return ht(U,M,pc(U,B),X);ec(U,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(a(U,M.sibling),X=h(M,B),X.return=U,U=X):(a(U,M),X=fd(B,U.mode,X),X.return=U,U=X),v(U)):a(U,M)}return function(U,M,B,X){try{sl=0;var le=ht(U,M,B,X);return Pa=null,le}catch(de){if(de===il)throw de;var De=Bn(29,de,null,U.mode);return De.lanes=X,De.return=U,De}finally{}}}var Bs=_g(!0),yg=_g(!1),La=Be(null),tc=Be(0);function vg(t,i){t=Zi,Qe(tc,t),Qe(La,i),Zi=t|i.baseLanes}function vf(){Qe(tc,Zi),Qe(La,La.current)}function Ef(){Zi=tc.current,ot(La),ot(tc)}var Un=Be(null),fi=null;function Nr(t){var i=t.alternate;Qe(Ct,Ct.current&1),Qe(Un,t),fi===null&&(i===null||La.current!==null||i.memoizedState!==null)&&(fi=t)}function Eg(t){if(t.tag===22){if(Qe(Ct,Ct.current),Qe(Un,t),fi===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(fi=t)}}else Or()}function Or(){Qe(Ct,Ct.current),Qe(Un,Un.current)}function Hi(t){ot(Un),fi===t&&(fi=null),ot(Ct)}var Ct=Be(0);function nc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var qS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},FS=r.unstable_scheduleCallback,GS=r.unstable_NormalPriority,It={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Tf(){return{controller:new qS,data:new Map,refCount:0}}function ol(t){t.refCount--,t.refCount===0&&FS(GS,function(){t.controller.abort()})}var ll=null,Sf=0,Ua=0,ja=null;function $S(t,i){if(ll===null){var a=ll=[];Sf=0,Ua=Id(),ja={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Sf++,i.then(Tg,Tg),i}function Tg(){if(--Sf===0&&ll!==null){ja!==null&&(ja.status="fulfilled");var t=ll;ll=null,Ua=0,ja=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function KS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Sg=b.S;b.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&$S(t,i),Sg!==null&&Sg(t,i)};var Hs=Be(null);function wf(){var t=Hs.current;return t!==null?t:Je.pooledCache}function ic(t,i){i===null?Qe(Hs,Hs.current):Qe(Hs,i.pool)}function wg(){var t=wf();return t===null?null:{parent:It._currentValue,pool:t}}var Mr=0,xe=null,Xe=null,yt=null,rc=!1,za=!1,qs=!1,sc=0,ul=0,Ba=null,QS=0;function mt(){throw Error(s(321))}function Af(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!Tn(t[a],i[a]))return!1;return!0}function bf(t,i,a,l,h,d){return Mr=d,xe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,b.H=t===null||t.memoizedState===null?Fs:Vr,qs=!1,d=a(l,h),qs=!1,za&&(d=bg(i,a,l,h)),Ag(t),d}function Ag(t){b.H=di;var i=Xe!==null&&Xe.next!==null;if(Mr=0,yt=Xe=xe=null,rc=!1,ul=0,Ba=null,i)throw Error(s(300));t===null||Pt||(t=t.dependencies,t!==null&&mc(t)&&(Pt=!0))}function bg(t,i,a,l){xe=t;var h=0;do{if(za&&(Ba=null),ul=0,za=!1,25<=h)throw Error(s(301));if(h+=1,yt=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}b.H=Gs,d=i(a,l)}while(za);return d}function YS(){var t=b.H,i=t.useState()[0];return i=typeof i.then=="function"?cl(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(xe.flags|=1024),i}function Rf(){var t=sc!==0;return sc=0,t}function Cf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function If(t){if(rc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}rc=!1}Mr=0,yt=Xe=xe=null,za=!1,ul=sc=0,Ba=null}function dn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?xe.memoizedState=yt=t:yt=yt.next=t,yt}function vt(){if(Xe===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=yt===null?xe.memoizedState:yt.next;if(i!==null)yt=i,Xe=t;else{if(t===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},yt===null?xe.memoizedState=yt=t:yt=yt.next=t}return yt}var ac;ac=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function cl(t){var i=ul;return ul+=1,Ba===null&&(Ba=[]),t=mg(Ba,t,i),i=xe,(yt===null?i.memoizedState:yt.next)===null&&(i=i.alternate,b.H=i===null||i.memoizedState===null?Fs:Vr),t}function oc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return cl(t);if(t.$$typeof===N)return Yt(t)}throw Error(s(438,String(t)))}function xf(t){var i=null,a=xe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=ac(),xe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=me;return i.index++,a}function qi(t,i){return typeof i=="function"?i(t):i}function lc(t){var i=vt();return Df(i,Xe,t)}function Df(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=v=null,I=null,L=i,Q=!1;do{var Z=L.lane&-536870913;if(Z!==L.lane?(je&Z)===Z:(Mr&Z)===Z){var F=L.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),Z===Ua&&(Q=!0);else if((Mr&F)===F){L=L.next,F===Ua&&(Q=!0);continue}else Z={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},I===null?(S=I=Z,v=d):I=I.next=Z,xe.lanes|=F,qr|=F;Z=L.action,qs&&a(d,Z),d=L.hasEagerState?L.eagerState:a(d,Z)}else F={lane:Z,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},I===null?(S=I=F,v=d):I=I.next=F,xe.lanes|=Z,qr|=Z;L=L.next}while(L!==null&&L!==i);if(I===null?v=d:I.next=S,!Tn(d,t.memoizedState)&&(Pt=!0,Q&&(a=ja,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Nf(t){var i=vt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);Tn(d,i.memoizedState)||(Pt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Rg(t,i,a){var l=xe,h=vt(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!Tn((Xe||h).memoizedState,a);if(v&&(h.memoizedState=a,Pt=!0),h=h.queue,Vf(xg.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,Ha(9,Ig.bind(null,l,h,a,i),{destroy:void 0},null),Je===null)throw Error(s(349));d||(Mr&60)!==0||Cg(l,i,a)}return a}function Cg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=xe.updateQueue,i===null?(i=ac(),xe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Ig(t,i,a,l){i.value=a,i.getSnapshot=l,Dg(i)&&Ng(t)}function xg(t,i,a){return a(function(){Dg(i)&&Ng(t)})}function Dg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!Tn(t,a)}catch{return!0}}function Ng(t){var i=Dr(t,2);i!==null&&un(i,t,2)}function Of(t){var i=dn();if(typeof t=="function"){var a=t;if(t=a(),qs){ei(!0);try{a()}finally{ei(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:t},i}function Og(t,i,a,l){return t.baseState=a,Df(t,Xe,typeof l=="function"?l:qi)}function XS(t,i,a,l,h){if(hc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};b.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Mg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Mg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=b.T,v={};b.T=v;try{var S=a(h,l),I=b.S;I!==null&&I(v,S),Vg(t,i,S)}catch(L){Mf(t,i,L)}finally{b.T=d}}else try{d=a(h,l),Vg(t,i,d)}catch(L){Mf(t,i,L)}}function Vg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){kg(t,i,l)},function(l){return Mf(t,i,l)}):kg(t,i,a)}function kg(t,i,a){i.status="fulfilled",i.value=a,Pg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Mg(t,a)))}function Mf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Pg(i),i=i.next;while(i!==l)}t.action=null}function Pg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Lg(t,i){return i}function Ug(t,i){if(qe){var a=Je.formState;if(a!==null){e:{var l=xe;if(qe){if(Bt){t:{for(var h=Bt,d=hi;h.nodeType!==8;){if(!d){h=null;break t}if(h=Wn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Bt=Wn(h.nextSibling),l=h.data==="F!";break e}}zs(l)}l=!1}l&&(i=a[0])}}return a=dn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lg,lastRenderedState:i},a.queue=l,a=n_.bind(null,xe,l),l.dispatch=a,l=Of(!1),d=jf.bind(null,xe,!1,l.queue),l=dn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=XS.bind(null,xe,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function jg(t){var i=vt();return zg(i,Xe,t)}function zg(t,i,a){i=Df(t,i,Lg)[0],t=lc(qi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?cl(i):i;var l=vt(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(xe.flags|=2048,Ha(9,WS.bind(null,h,a),{destroy:void 0},null)),[i,d,t]}function WS(t,i){t.action=i}function Bg(t){var i=vt(),a=Xe;if(a!==null)return zg(i,a,t);vt(),i=i.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Ha(t,i,a,l){return t={tag:t,create:i,inst:a,deps:l,next:null},i=xe.updateQueue,i===null&&(i=ac(),xe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Hg(){return vt().memoizedState}function uc(t,i,a,l){var h=dn();xe.flags|=t,h.memoizedState=Ha(1|i,a,{destroy:void 0},l===void 0?null:l)}function cc(t,i,a,l){var h=vt();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&Af(l,Xe.memoizedState.deps)?h.memoizedState=Ha(i,a,d,l):(xe.flags|=t,h.memoizedState=Ha(1|i,a,d,l))}function qg(t,i){uc(8390656,8,t,i)}function Vf(t,i){cc(2048,8,t,i)}function Fg(t,i){return cc(4,2,t,i)}function Gg(t,i){return cc(4,4,t,i)}function $g(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Kg(t,i,a){a=a!=null?a.concat([t]):null,cc(4,4,$g.bind(null,i,t),a)}function kf(){}function Qg(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Af(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Yg(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Af(i,l[1]))return l[0];if(l=t(),qs){ei(!0);try{t()}finally{ei(!1)}}return a.memoizedState=[l,i],l}function Pf(t,i,a){return a===void 0||(Mr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=W_(),xe.lanes|=t,qr|=t,a)}function Xg(t,i,a,l){return Tn(a,i)?a:La.current!==null?(t=Pf(t,a,l),Tn(t,i)||(Pt=!0),t):(Mr&42)===0?(Pt=!0,t.memoizedState=a):(t=W_(),xe.lanes|=t,qr|=t,i)}function Wg(t,i,a,l,h){var d=ae.p;ae.p=d!==0&&8>d?d:8;var v=b.T,S={};b.T=S,jf(t,!1,i,a);try{var I=h(),L=b.S;if(L!==null&&L(S,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=KS(I,l);hl(t,i,Q,bn(t))}else hl(t,i,l,bn(t))}catch(Z){hl(t,i,{then:function(){},status:"rejected",reason:Z},bn())}finally{ae.p=d,b.T=v}}function ZS(){}function Lf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Zg(t).queue;Wg(t,h,i,Ie,a===null?ZS:function(){return Jg(t),a(l)})}function Zg(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:Ie},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Jg(t){var i=Zg(t).next.queue;hl(t,i,{},bn())}function Uf(){return Yt(Nl)}function e_(){return vt().memoizedState}function t_(){return vt().memoizedState}function JS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=bn();t=Lr(a);var l=Ur(i,t,a);l!==null&&(un(l,i,a),ml(l,i,a)),i={cache:Tf()},t.payload=i;return}i=i.return}}function ew(t,i,a){var l=bn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},hc(t)?i_(i,a):(a=mf(t,i,a,l),a!==null&&(un(a,t,l),r_(a,i,l)))}function n_(t,i,a){var l=bn();hl(t,i,a,l)}function hl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(hc(t))i_(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,S=d(v,a);if(h.hasEagerState=!0,h.eagerState=S,Tn(S,v))return Qu(t,i,h,0),Je===null&&Ku(),!1}catch{}finally{}if(a=mf(t,i,h,l),a!==null)return un(a,t,l),r_(a,i,l),!0}return!1}function jf(t,i,a,l){if(l={lane:2,revertLane:Id(),action:l,hasEagerState:!1,eagerState:null,next:null},hc(t)){if(i)throw Error(s(479))}else i=mf(t,a,l,2),i!==null&&un(i,t,2)}function hc(t){var i=t.alternate;return t===xe||i!==null&&i===xe}function i_(t,i){za=rc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function r_(t,i,a){if((a&4194176)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Er(t,a)}}var di={readContext:Yt,use:oc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt};di.useCacheRefresh=mt,di.useMemoCache=mt,di.useHostTransitionStatus=mt,di.useFormState=mt,di.useActionState=mt,di.useOptimistic=mt;var Fs={readContext:Yt,use:oc,useCallback:function(t,i){return dn().memoizedState=[t,i===void 0?null:i],t},useContext:Yt,useEffect:qg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,uc(4194308,4,$g.bind(null,i,t),a)},useLayoutEffect:function(t,i){return uc(4194308,4,t,i)},useInsertionEffect:function(t,i){uc(4,2,t,i)},useMemo:function(t,i){var a=dn();i=i===void 0?null:i;var l=t();if(qs){ei(!0);try{t()}finally{ei(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=dn();if(a!==void 0){var h=a(i);if(qs){ei(!0);try{a(i)}finally{ei(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=ew.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var i=dn();return t={current:t},i.memoizedState=t},useState:function(t){t=Of(t);var i=t.queue,a=n_.bind(null,xe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:kf,useDeferredValue:function(t,i){var a=dn();return Pf(a,t,i)},useTransition:function(){var t=Of(!1);return t=Wg.bind(null,xe,t.queue,!0,!1),dn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=xe,h=dn();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Je===null)throw Error(s(349));(je&60)!==0||Cg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,qg(xg.bind(null,l,d,t),[t]),l.flags|=2048,Ha(9,Ig.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var t=dn(),i=Je.identifierPrefix;if(qe){var a=Bi,l=zi;a=(l&~(1<<32-sn(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=sc++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=QS++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return dn().memoizedState=JS.bind(null,xe)}};Fs.useMemoCache=xf,Fs.useHostTransitionStatus=Uf,Fs.useFormState=Ug,Fs.useActionState=Ug,Fs.useOptimistic=function(t){var i=dn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=jf.bind(null,xe,!0,a),a.dispatch=i,[t,i]};var Vr={readContext:Yt,use:oc,useCallback:Qg,useContext:Yt,useEffect:Vf,useImperativeHandle:Kg,useInsertionEffect:Fg,useLayoutEffect:Gg,useMemo:Yg,useReducer:lc,useRef:Hg,useState:function(){return lc(qi)},useDebugValue:kf,useDeferredValue:function(t,i){var a=vt();return Xg(a,Xe.memoizedState,t,i)},useTransition:function(){var t=lc(qi)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:Rg,useId:e_};Vr.useCacheRefresh=t_,Vr.useMemoCache=xf,Vr.useHostTransitionStatus=Uf,Vr.useFormState=jg,Vr.useActionState=jg,Vr.useOptimistic=function(t,i){var a=vt();return Og(a,Xe,t,i)};var Gs={readContext:Yt,use:oc,useCallback:Qg,useContext:Yt,useEffect:Vf,useImperativeHandle:Kg,useInsertionEffect:Fg,useLayoutEffect:Gg,useMemo:Yg,useReducer:Nf,useRef:Hg,useState:function(){return Nf(qi)},useDebugValue:kf,useDeferredValue:function(t,i){var a=vt();return Xe===null?Pf(a,t,i):Xg(a,Xe.memoizedState,t,i)},useTransition:function(){var t=Nf(qi)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:cl(t),i]},useSyncExternalStore:Rg,useId:e_};Gs.useCacheRefresh=t_,Gs.useMemoCache=xf,Gs.useHostTransitionStatus=Uf,Gs.useFormState=Bg,Gs.useActionState=Bg,Gs.useOptimistic=function(t,i){var a=vt();return Xe!==null?Og(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])};function zf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:x({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Bf={isMounted:function(t){return(t=t._reactInternals)?pe(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var l=bn(),h=Lr(l);h.payload=i,a!=null&&(h.callback=a),i=Ur(t,h,l),i!==null&&(un(i,t,l),ml(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=bn(),h=Lr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Ur(t,h,l),i!==null&&(un(i,t,l),ml(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=bn(),l=Lr(a);l.tag=2,i!=null&&(l.callback=i),i=Ur(t,l,a),i!==null&&(un(i,t,a),ml(i,t,a))}};function s_(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!Zo(a,l)||!Zo(h,d):!0}function a_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Bf.enqueueReplaceState(i,i.state,null)}function $s(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=x({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var fc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function o_(t){fc(t)}function l_(t){console.error(t)}function u_(t){fc(t)}function dc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function c_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Hf(t,i,a){return a=Lr(a),a.tag=3,a.payload={element:null},a.callback=function(){dc(t,i)},a}function h_(t){return t=Lr(t),t.tag=3,t}function f_(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){c_(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){c_(i,a,l),typeof h!="function"&&(Fr===null?Fr=new Set([this]):Fr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function tw(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&dl(i,a,h,!0),a=Un.current,a!==null){switch(a.tag){case 13:return fi===null?wd():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===yf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),bd(t,l,h)),!1;case 22:return a.flags|=65536,l===yf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),bd(t,l,h)),!1}throw Error(s(435,a.tag))}return bd(t,l,h),wd(),!1}if(qe)return i=Un.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==_f&&(t=Error(s(422),{cause:l}),nl(kn(t,a)))):(l!==_f&&(i=Error(s(423),{cause:l}),nl(kn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=kn(l,a),h=Hf(t.stateNode,l,h),id(t,h),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=kn(d,a),Sl===null?Sl=[d]:Sl.push(d),ct!==4&&(ct=2),i===null)return!0;l=kn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Hf(a.stateNode,l,t),id(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fr===null||!Fr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=h_(h),f_(h,t,a,l),id(a,h),!1}a=a.return}while(a!==null);return!1}var d_=Error(s(461)),Pt=!1;function Ht(t,i,a,l){i.child=t===null?yg(i,null,a,l):Bs(i,t.child,a,l)}function m_(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var S in l)S!=="ref"&&(v[S]=l[S])}else v=l;return Qs(i),l=bf(t,i,a,v,d,h),S=Rf(),t!==null&&!Pt?(Cf(t,i,h),Fi(t,i,h)):(qe&&S&&pf(i),i.flags|=1,Ht(t,i,l,h),i.child)}function p_(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!hd(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,g_(t,i,d,l,h)):(t=yc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Wf(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:Zo,a(v,l)&&t.ref===i.ref)return Fi(t,i,h)}return i.flags|=1,t=Hr(d,l),t.ref=i.ref,t.return=i,i.child=t}function g_(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(Zo(d,l)&&t.ref===i.ref)if(Pt=!1,i.pendingProps=l=d,Wf(t,h))(t.flags&131072)!==0&&(Pt=!0);else return i.lanes=t.lanes,Fi(t,i,h)}return qf(t,i,a,l,h)}function __(t,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,v=t!==null?t.memoizedState:null;if(fl(t,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=v!==null?v.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return y_(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&ic(i,v!==null?v.cachePool:null),v!==null?vg(i,v):vf(),Eg(i);else return i.lanes=i.childLanes=536870912,y_(t,i,v!==null?v.baseLanes|a:a,a)}else v!==null?(ic(i,v.cachePool),vg(i,v),Or(),i.memoizedState=null):(t!==null&&ic(i,null),vf(),Or());return Ht(t,i,h,a),i.child}function y_(t,i,a,l){var h=wf();return h=h===null?null:{parent:It._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&ic(i,null),vf(),Eg(i),t!==null&&dl(t,i,l,!0),null}function fl(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function qf(t,i,a,l,h){return Qs(i),a=bf(t,i,a,l,void 0,h),l=Rf(),t!==null&&!Pt?(Cf(t,i,h),Fi(t,i,h)):(qe&&l&&pf(i),i.flags|=1,Ht(t,i,a,h),i.child)}function v_(t,i,a,l,h,d){return Qs(i),i.updateQueue=null,a=bg(i,l,a,h),Ag(t),l=Rf(),t!==null&&!Pt?(Cf(t,i,d),Fi(t,i,d)):(qe&&l&&pf(i),i.flags|=1,Ht(t,i,a,d),i.child)}function E_(t,i,a,l,h){if(Qs(i),i.stateNode===null){var d=Ma,v=a.contextType;typeof v=="object"&&v!==null&&(d=Yt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Bf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},td(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Yt(v):Ma,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(zf(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&Bf.enqueueReplaceState(d,d.state,null),gl(i,l,d,h),pl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,I=$s(a,S);d.props=I;var L=d.context,Q=a.contextType;v=Ma,typeof Q=="object"&&Q!==null&&(v=Yt(Q));var Z=a.getDerivedStateFromProps;Q=typeof Z=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||L!==v)&&a_(i,d,l,v),Pr=!1;var F=i.memoizedState;d.state=F,gl(i,l,d,h),pl(),L=i.memoizedState,S||F!==L||Pr?(typeof Z=="function"&&(zf(i,a,Z,l),L=i.memoizedState),(I=Pr||s_(i,a,I,l,F,L,v))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=L),d.props=l,d.state=L,d.context=v,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,nd(t,i),v=i.memoizedProps,Q=$s(a,v),d.props=Q,Z=i.pendingProps,F=d.context,L=a.contextType,I=Ma,typeof L=="object"&&L!==null&&(I=Yt(L)),S=a.getDerivedStateFromProps,(L=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==Z||F!==I)&&a_(i,d,l,I),Pr=!1,F=i.memoizedState,d.state=F,gl(i,l,d,h),pl();var K=i.memoizedState;v!==Z||F!==K||Pr||t!==null&&t.dependencies!==null&&mc(t.dependencies)?(typeof S=="function"&&(zf(i,a,S,l),K=i.memoizedState),(Q=Pr||s_(i,a,Q,l,F,K,I)||t!==null&&t.dependencies!==null&&mc(t.dependencies))?(L||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,K,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,K,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=K),d.props=l,d.state=K,d.context=I,l=Q):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,fl(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Bs(i,t.child,null,h),i.child=Bs(i,null,a,h)):Ht(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Fi(t,i,h),t}function T_(t,i,a,l){return tl(),i.flags|=256,Ht(t,i,a,l),i.child}var Ff={dehydrated:null,treeContext:null,retryLane:0};function Gf(t){return{baseLanes:t,cachePool:wg()}}function $f(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Hn),t}function S_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(Ct.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(qe){if(h?Nr(i):Or(),qe){var S=Bt,I;if(I=S){e:{for(I=S,S=hi;I.nodeType!==8;){if(!S){S=null;break e}if(I=Wn(I.nextSibling),I===null){S=null;break e}}S=I}S!==null?(i.memoizedState={dehydrated:S,treeContext:Us!==null?{id:zi,overflow:Bi}:null,retryLane:536870912},I=Bn(18,null,null,0),I.stateNode=S,I.return=i,i.child=I,ln=i,Bt=null,I=!0):I=!1}I||zs(i)}if(S=i.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return S.data==="$!"?i.lanes=16:i.lanes=536870912,null;Hi(i)}return S=l.children,l=l.fallback,h?(Or(),h=i.mode,S=Qf({mode:"hidden",children:S},h),l=Xs(l,h,a,null),S.return=i,l.return=i,S.sibling=l,i.child=S,h=i.child,h.memoizedState=Gf(a),h.childLanes=$f(t,v,a),i.memoizedState=Ff,l):(Nr(i),Kf(i,S))}if(I=t.memoizedState,I!==null&&(S=I.dehydrated,S!==null)){if(d)i.flags&256?(Nr(i),i.flags&=-257,i=Yf(t,i,a)):i.memoizedState!==null?(Or(),i.child=t.child,i.flags|=128,i=null):(Or(),h=l.fallback,S=i.mode,l=Qf({mode:"visible",children:l.children},S),h=Xs(h,S,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Bs(i,t.child,null,a),l=i.child,l.memoizedState=Gf(a),l.childLanes=$f(t,v,a),i.memoizedState=Ff,i=h);else if(Nr(i),S.data==="$!"){if(v=S.nextSibling&&S.nextSibling.dataset,v)var L=v.dgst;v=L,l=Error(s(419)),l.stack="",l.digest=v,nl({value:l,source:null,stack:null}),i=Yf(t,i,a)}else if(Pt||dl(t,i,a,!1),v=(a&t.childLanes)!==0,Pt||v){if(v=Je,v!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane)throw I.retryLane=l,Dr(t,l),un(v,t,l),d_}S.data==="$?"||wd(),i=Yf(t,i,a)}else S.data==="$?"?(i.flags|=128,i.child=t.child,i=gw.bind(null,t),S._reactRetry=i,i=null):(t=I.treeContext,Bt=Wn(S.nextSibling),ln=i,qe=!0,Yn=null,hi=!1,t!==null&&(Pn[Ln++]=zi,Pn[Ln++]=Bi,Pn[Ln++]=Us,zi=t.id,Bi=t.overflow,Us=i),i=Kf(i,l.children),i.flags|=4096);return i}return h?(Or(),h=l.fallback,S=i.mode,I=t.child,L=I.sibling,l=Hr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&31457280,L!==null?h=Hr(L,h):(h=Xs(h,S,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,S=t.child.memoizedState,S===null?S=Gf(a):(I=S.cachePool,I!==null?(L=It._currentValue,I=I.parent!==L?{parent:L,pool:L}:I):I=wg(),S={baseLanes:S.baseLanes|a,cachePool:I}),h.memoizedState=S,h.childLanes=$f(t,v,a),i.memoizedState=Ff,l):(Nr(i),a=t.child,t=a.sibling,a=Hr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Kf(t,i){return i=Qf({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Qf(t,i){return Q_(t,i,0,null)}function Yf(t,i,a){return Bs(i,t.child,null,a),t=Kf(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function w_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Jf(t.return,i,a)}function Xf(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function A_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(Ht(t,i,l.children,a),l=Ct.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&w_(t,a,i);else if(t.tag===19)w_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Qe(Ct,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&nc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Xf(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&nc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Xf(i,!0,a,null,d);break;case"together":Xf(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Fi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),qr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(dl(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Hr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Hr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Wf(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&mc(t)))}function nw(t,i,a){switch(i.tag){case 3:mr(i,i.stateNode.containerInfo),kr(i,It,t.memoizedState.cache),tl();break;case 27:case 5:No(i);break;case 4:mr(i,i.stateNode.containerInfo);break;case 10:kr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Nr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?S_(t,i,a):(Nr(i),t=Fi(t,i,a),t!==null?t.sibling:null);Nr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(dl(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return A_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Qe(Ct,Ct.current),l)break;return null;case 22:case 23:return i.lanes=0,__(t,i,a);case 24:kr(i,It,t.memoizedState.cache)}return Fi(t,i,a)}function b_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Pt=!0;else{if(!Wf(t,a)&&(i.flags&128)===0)return Pt=!1,nw(t,i,a);Pt=(t.flags&131072)!==0}else Pt=!1,qe&&(i.flags&1048576)!==0&&ug(i,Wu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")hd(l)?(t=$s(l,t),i.tag=1,i=E_(null,i,l,t,a)):(i.tag=0,i=qf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===k){i.tag=11,i=m_(null,i,l,t,a);break e}else if(h===Y){i.tag=14,i=p_(null,i,l,t,a);break e}}throw i=C(l)||l,Error(s(306,i,""))}}return i;case 0:return qf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=$s(l,i.pendingProps),E_(t,i,l,h,a);case 3:e:{if(mr(i,i.stateNode.containerInfo),t===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,nd(t,i),gl(i,d,null,a);var v=i.memoizedState;if(d=v.cache,kr(i,It,d),d!==h.cache&&ed(i,[It],a,!0),pl(),d=v.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=T_(t,i,d,a);break e}else if(d!==l){l=kn(Error(s(424)),i),nl(l),i=T_(t,i,d,a);break e}else for(Bt=Wn(i.stateNode.containerInfo.firstChild),ln=i,qe=!0,Yn=null,hi=!0,a=yg(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(tl(),d===l){i=Fi(t,i,a);break e}Ht(t,i,d,a)}i=i.child}return i;case 26:return fl(t,i),t===null?(a=Iy(i.type,null,i.pendingProps,null))?i.memoizedState=a:qe||(a=i.type,t=i.pendingProps,l=Dc(Cn.current).createElement(a),l[Mt]=i,l[At]=t,qt(l,a,t),nt(l),i.stateNode=l):i.memoizedState=Iy(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return No(i),t===null&&qe&&(l=i.stateNode=by(i.type,i.pendingProps,Cn.current),ln=i,hi=!0,Bt=Wn(l.firstChild)),l=i.pendingProps.children,t!==null||qe?Ht(t,i,l,a):i.child=Bs(i,null,l,a),fl(t,i),i.child;case 5:return t===null&&qe&&((h=l=Bt)&&(l=Ow(l,i.type,i.pendingProps,hi),l!==null?(i.stateNode=l,ln=i,Bt=Wn(l.firstChild),hi=!1,h=!0):h=!1),h||zs(i)),No(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,Ld(h,d)?l=null:v!==null&&Ld(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=bf(t,i,YS,null,null,a),Nl._currentValue=h),fl(t,i),Ht(t,i,l,a),i.child;case 6:return t===null&&qe&&((t=a=Bt)&&(a=Mw(a,i.pendingProps,hi),a!==null?(i.stateNode=a,ln=i,Bt=null,t=!0):t=!1),t||zs(i)),null;case 13:return S_(t,i,a);case 4:return mr(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Bs(i,null,l,a):Ht(t,i,l,a),i.child;case 11:return m_(t,i,i.type,i.pendingProps,a);case 7:return Ht(t,i,i.pendingProps,a),i.child;case 8:return Ht(t,i,i.pendingProps.children,a),i.child;case 12:return Ht(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,kr(i,i.type,l.value),Ht(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Qs(i),h=Yt(h),l=l(h),i.flags|=1,Ht(t,i,l,a),i.child;case 14:return p_(t,i,i.type,i.pendingProps,a);case 15:return g_(t,i,i.type,i.pendingProps,a);case 19:return A_(t,i,a);case 22:return __(t,i,a);case 24:return Qs(i),l=Yt(It),t===null?(h=wf(),h===null&&(h=Je,d=Tf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},td(i),kr(i,It,h)):((t.lanes&a)!==0&&(nd(t,i),gl(i,null,null,a),pl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),kr(i,It,l)):(l=d.cache,kr(i,It,l),l!==h.cache&&ed(i,[It],a,!0))),Ht(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var Zf=Be(null),Ks=null,Gi=null;function kr(t,i,a){Qe(Zf,i._currentValue),i._currentValue=a}function $i(t){t._currentValue=Zf.current,ot(Zf)}function Jf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function ed(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var I=0;I<i.length;I++)if(S.context===i[I]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Jf(d.return,a,t),l||(v=null);break e}d=S.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Jf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function dl(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var S=h.type;Tn(h.pendingProps.value,v.value)||(t!==null?t.push(S):t=[S])}}else if(h===dr.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Nl):t=[Nl])}h=h.return}t!==null&&ed(i,t,a,l),i.flags|=262144}function mc(t){for(t=t.firstContext;t!==null;){if(!Tn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Qs(t){Ks=t,Gi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return R_(Ks,t)}function pc(t,i){return Ks===null&&Qs(t),R_(t,i)}function R_(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Gi===null){if(t===null)throw Error(s(308));Gi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Gi=Gi.next=i;return a}var Pr=!1;function td(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Lr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Ur(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(rt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Yu(t),og(t,null,a),i}return Qu(t,l,i,a),Yu(t)}function ml(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Er(t,a)}}function id(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var rd=!1;function pl(){if(rd){var t=ja;if(t!==null)throw t}}function gl(t,i,a,l){rd=!1;var h=t.updateQueue;Pr=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var I=S,L=I.next;I.next=null,v===null?d=L:v.next=L,v=I;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,S=Q.lastBaseUpdate,S!==v&&(S===null?Q.firstBaseUpdate=L:S.next=L,Q.lastBaseUpdate=I))}if(d!==null){var Z=h.baseState;v=0,Q=L=I=null,S=d;do{var F=S.lane&-536870913,K=F!==S.lane;if(K?(je&F)===F:(l&F)===F){F!==0&&F===Ua&&(rd=!0),Q!==null&&(Q=Q.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ce=t,we=S;F=i;var ht=a;switch(we.tag){case 1:if(ce=we.payload,typeof ce=="function"){Z=ce.call(ht,Z,F);break e}Z=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=we.payload,F=typeof ce=="function"?ce.call(ht,Z,F):ce,F==null)break e;Z=x({},Z,F);break e;case 2:Pr=!0}}F=S.callback,F!==null&&(t.flags|=64,K&&(t.flags|=8192),K=h.callbacks,K===null?h.callbacks=[F]:K.push(F))}else K={lane:F,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Q===null?(L=Q=K,I=Z):Q=Q.next=K,v|=F;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;K=S,S=K.next,K.next=null,h.lastBaseUpdate=K,h.shared.pending=null}}while(!0);Q===null&&(I=Z),h.baseState=I,h.firstBaseUpdate=L,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),qr|=v,t.lanes=v,t.memoizedState=Z}}function C_(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function I_(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)C_(a[t],i)}function _l(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(S){Ze(i,i.return,S)}}function jr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,h=i;var I=a;try{S()}catch(L){Ze(h,I,L)}}}l=l.next}while(l!==d)}}catch(L){Ze(i,i.return,L)}}function x_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{I_(i,a)}catch(l){Ze(t,t.return,l)}}}function D_(t,i,a){a.props=$s(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,i,l)}}function Ys(t,i){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){Ze(t,i,d)}}function Sn(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,i,h)}else a.current=null}function N_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function O_(t,i,a){try{var l=t.stateNode;Cw(l,t.type,a,i),l[At]=i}catch(h){Ze(t,t.return,h)}}function M_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function sd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||M_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ad(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=xc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(ad(t,i,a),t=t.sibling;t!==null;)ad(t,i,a),t=t.sibling}function gc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(gc(t,i,a),t=t.sibling;t!==null;)gc(t,i,a),t=t.sibling}var Ki=!1,ut=!1,od=!1,V_=typeof WeakSet=="function"?WeakSet:Set,Lt=null,k_=!1;function iw(t,i){if(t=t.containerInfo,kd=Pc,t=Zp(t),uf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,S=-1,I=-1,L=0,Q=0,Z=t,F=null;t:for(;;){for(var K;Z!==a||h!==0&&Z.nodeType!==3||(S=v+h),Z!==d||l!==0&&Z.nodeType!==3||(I=v+l),Z.nodeType===3&&(v+=Z.nodeValue.length),(K=Z.firstChild)!==null;)F=Z,Z=K;for(;;){if(Z===t)break t;if(F===a&&++L===h&&(S=v),F===d&&++Q===l&&(I=v),(K=Z.nextSibling)!==null)break;Z=F,F=Z.parentNode}Z=K}a=S===-1||I===-1?null:{start:S,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Pd={focusedElem:t,selectionRange:a},Pc=!1,Lt=i;Lt!==null;)if(i=Lt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Lt=t;else for(;Lt!==null;){switch(i=Lt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var ce=$s(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(ce,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(we){Ze(a,a.return,we)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)zd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":zd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Lt=t;break}Lt=i.return}return ce=k_,k_=!1,ce}function P_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Yi(t,a),l&4&&_l(5,a);break;case 1:if(Yi(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(S){Ze(a,a.return,S)}else{var h=$s(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(S){Ze(a,a.return,S)}}l&64&&x_(a),l&512&&Ys(a,a.return);break;case 3:if(Yi(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{I_(l,t)}catch(S){Ze(a,a.return,S)}}break;case 26:Yi(t,a),l&512&&Ys(a,a.return);break;case 27:case 5:Yi(t,a),i===null&&l&4&&N_(a),l&512&&Ys(a,a.return);break;case 12:Yi(t,a);break;case 13:Yi(t,a),l&4&&j_(t,a);break;case 22:if(h=a.memoizedState!==null||Ki,!h){i=i!==null&&i.memoizedState!==null||ut;var d=Ki,v=ut;Ki=h,(ut=i)&&!v?zr(t,a,(a.subtreeFlags&8772)!==0):Yi(t,a),Ki=d,ut=v}l&512&&(a.memoizedProps.mode==="manual"?Ys(a,a.return):Sn(a,a.return));break;default:Yi(t,a)}}function L_(t){var i=t.alternate;i!==null&&(t.alternate=null,L_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&bs(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Et=null,wn=!1;function Qi(t,i,a){for(a=a.child;a!==null;)U_(t,i,a),a=a.sibling}function U_(t,i,a){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(pr,a)}catch{}switch(a.tag){case 26:ut||Sn(a,i),Qi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ut||Sn(a,i);var l=Et,h=wn;for(Et=a.stateNode,Qi(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);bs(a),Et=l,wn=h;break;case 5:ut||Sn(a,i);case 6:h=Et;var d=wn;if(Et=null,Qi(t,i,a),Et=h,wn=d,Et!==null)if(wn)try{t=Et,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(v){Ze(a,i,v)}else try{Et.removeChild(a.stateNode)}catch(v){Ze(a,i,v)}break;case 18:Et!==null&&(wn?(i=Et,a=a.stateNode,i.nodeType===8?jd(i.parentNode,a):i.nodeType===1&&jd(i,a),kl(i)):jd(Et,a.stateNode));break;case 4:l=Et,h=wn,Et=a.stateNode.containerInfo,wn=!0,Qi(t,i,a),Et=l,wn=h;break;case 0:case 11:case 14:case 15:ut||jr(2,a,i),ut||jr(4,a,i),Qi(t,i,a);break;case 1:ut||(Sn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&D_(a,i,l)),Qi(t,i,a);break;case 21:Qi(t,i,a);break;case 22:ut||Sn(a,i),ut=(l=ut)||a.memoizedState!==null,Qi(t,i,a),ut=l;break;default:Qi(t,i,a)}}function j_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{kl(t)}catch(a){Ze(i,i.return,a)}}function rw(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new V_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new V_),i;default:throw Error(s(435,t.tag))}}function ld(t,i){var a=rw(t);i.forEach(function(l){var h=_w.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function jn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,S=v;e:for(;S!==null;){switch(S.tag){case 27:case 5:Et=S.stateNode,wn=!1;break e;case 3:Et=S.stateNode.containerInfo,wn=!0;break e;case 4:Et=S.stateNode.containerInfo,wn=!0;break e}S=S.return}if(Et===null)throw Error(s(160));U_(d,v,h),Et=null,wn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)z_(i,t),i=i.sibling}var Xn=null;function z_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:jn(i,t),zn(t),l&4&&(jr(3,t,t.return),_l(3,t),jr(5,t,t.return));break;case 1:jn(i,t),zn(t),l&512&&(ut||a===null||Sn(a,a.return)),l&64&&Ki&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Xn;if(jn(i,t),zn(t),l&512&&(ut||a===null||Sn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[Sr]||d[Mt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),qt(d,l,a),d[Mt]=t,nt(d),l=d;break e;case"link":var v=Ny("link","href",h).get(l+(a.href||""));if(v){for(var S=0;S<v.length;S++)if(d=v[S],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(S,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Ny("meta","content",h).get(l+(a.content||""))){for(S=0;S<v.length;S++)if(d=v[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(S,1);break t}}d=h.createElement(l),qt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Mt]=t,nt(d),l=d}t.stateNode=l}else Oy(h,t.type,t.stateNode);else t.stateNode=Dy(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Oy(h,t.type,t.stateNode):Dy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&O_(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var I=h.firstChild;I;){var L=I.nextSibling,Q=I.nodeName;I[Sr]||Q==="HEAD"||Q==="BODY"||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&I.rel.toLowerCase()==="stylesheet"||h.removeChild(I),I=L}for(var Z=t.type,F=h.attributes;F.length;)h.removeAttributeNode(F[0]);qt(h,Z,d),h[Mt]=t,h[At]=d}catch(ce){Ze(t,t.return,ce)}}case 5:if(jn(i,t),zn(t),l&512&&(ut||a===null||Sn(a,a.return)),t.flags&32){h=t.stateNode;try{Dn(h,"")}catch(ce){Ze(t,t.return,ce)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,O_(t,h,a!==null?a.memoizedProps:h)),l&1024&&(od=!0);break;case 6:if(jn(i,t),zn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(ce){Ze(t,t.return,ce)}}break;case 3:if(Mc=null,h=Xn,Xn=Nc(i.containerInfo),jn(i,t),Xn=h,zn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{kl(i.containerInfo)}catch(ce){Ze(t,t.return,ce)}od&&(od=!1,B_(t));break;case 4:l=Xn,Xn=Nc(t.stateNode.containerInfo),jn(i,t),zn(t),Xn=l;break;case 12:jn(i,t),zn(t);break;case 13:jn(i,t),zn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_d=hn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ld(t,l)));break;case 22:if(l&512&&(ut||a===null||Sn(a,a.return)),I=t.memoizedState!==null,L=a!==null&&a.memoizedState!==null,Q=Ki,Z=ut,Ki=Q||I,ut=Z||L,jn(i,t),ut=Z,Ki=Q,zn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=I?i._visibility&-2:i._visibility|1,I&&(i=Ki||ut,a===null||L||i||qa(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){L=a=i;try{if(h=L.stateNode,I)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{v=L.stateNode,S=L.memoizedProps.style;var K=S!=null&&S.hasOwnProperty("display")?S.display:null;v.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(ce){Ze(L,L.return,ce)}}}else if(i.tag===6){if(a===null){L=i;try{L.stateNode.nodeValue=I?"":L.memoizedProps}catch(ce){Ze(L,L.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,ld(t,a))));break;case 19:jn(i,t),zn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,ld(t,l)));break;case 21:break;default:jn(i,t),zn(t)}}function zn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(M_(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=sd(t);gc(t,d,h);break;case 5:var v=l.stateNode;l.flags&32&&(Dn(v,""),l.flags&=-33);var S=sd(t);gc(t,S,v);break;case 3:case 4:var I=l.stateNode.containerInfo,L=sd(t);ad(t,L,I);break;default:throw Error(s(161))}}}catch(Q){Ze(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function B_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;B_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Yi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)P_(t,i.alternate,i),i=i.sibling}function qa(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:jr(4,i,i.return),qa(i);break;case 1:Sn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&D_(i,i.return,a),qa(i);break;case 26:case 27:case 5:Sn(i,i.return),qa(i);break;case 22:Sn(i,i.return),i.memoizedState===null&&qa(i);break;default:qa(i)}t=t.sibling}}function zr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:zr(h,d,a),_l(4,d);break;case 1:if(zr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){Ze(l,l.return,L)}if(l=d,h=l.updateQueue,h!==null){var S=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)C_(I[h],S)}catch(L){Ze(l,l.return,L)}}a&&v&64&&x_(d),Ys(d,d.return);break;case 26:case 27:case 5:zr(h,d,a),a&&l===null&&v&4&&N_(d),Ys(d,d.return);break;case 12:zr(h,d,a);break;case 13:zr(h,d,a),a&&v&4&&j_(h,d);break;case 22:d.memoizedState===null&&zr(h,d,a),Ys(d,d.return);break;default:zr(h,d,a)}i=i.sibling}}function ud(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ol(a))}function cd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ol(t))}function Br(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)H_(t,i,a,l),i=i.sibling}function H_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Br(t,i,a,l),h&2048&&_l(9,i);break;case 3:Br(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ol(t)));break;case 12:if(h&2048){Br(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,S=d.onPostCommit;typeof S=="function"&&S(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ze(i,i.return,I)}}else Br(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Br(t,i,a,l):yl(t,i):d._visibility&4?Br(t,i,a,l):(d._visibility|=4,Fa(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&ud(i.alternate,i);break;case 24:Br(t,i,a,l),h&2048&&cd(i.alternate,i);break;default:Br(t,i,a,l)}}function Fa(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,v=i,S=a,I=l,L=v.flags;switch(v.tag){case 0:case 11:case 15:Fa(d,v,S,I,h),_l(8,v);break;case 23:break;case 22:var Q=v.stateNode;v.memoizedState!==null?Q._visibility&4?Fa(d,v,S,I,h):yl(d,v):(Q._visibility|=4,Fa(d,v,S,I,h)),h&&L&2048&&ud(v.alternate,v);break;case 24:Fa(d,v,S,I,h),h&&L&2048&&cd(v.alternate,v);break;default:Fa(d,v,S,I,h)}i=i.sibling}}function yl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:yl(a,l),h&2048&&ud(l.alternate,l);break;case 24:yl(a,l),h&2048&&cd(l.alternate,l);break;default:yl(a,l)}i=i.sibling}}var vl=8192;function Ga(t){if(t.subtreeFlags&vl)for(t=t.child;t!==null;)q_(t),t=t.sibling}function q_(t){switch(t.tag){case 26:Ga(t),t.flags&vl&&t.memoizedState!==null&&$w(Xn,t.memoizedState,t.memoizedProps);break;case 5:Ga(t);break;case 3:case 4:var i=Xn;Xn=Nc(t.stateNode.containerInfo),Ga(t),Xn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=vl,vl=16777216,Ga(t),vl=i):Ga(t));break;default:Ga(t)}}function F_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function El(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,$_(l,t)}F_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)G_(t),t=t.sibling}function G_(t){switch(t.tag){case 0:case 11:case 15:El(t),t.flags&2048&&jr(9,t,t.return);break;case 3:El(t);break;case 12:El(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,_c(t)):El(t);break;default:El(t)}}function _c(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,$_(l,t)}F_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:jr(8,i,i.return),_c(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,_c(i));break;default:_c(i)}t=t.sibling}}function $_(t,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:jr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ol(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=t;Lt!==null;){l=Lt;var h=l.sibling,d=l.return;if(L_(l),l===a){Lt=null;break e}if(h!==null){h.return=d,Lt=h;break e}Lt=d}}}function sw(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bn(t,i,a,l){return new sw(t,i,a,l)}function hd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hr(t,i){var a=t.alternate;return a===null?(a=Bn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function K_(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function yc(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")hd(t)&&(v=1);else if(typeof t=="string")v=Fw(t,a,rn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Xs(a.children,h,d,i);case _:v=8,h|=24;break;case T:return t=Bn(12,a,i,h|2),t.elementType=T,t.lanes=d,t;case $:return t=Bn(13,a,i,h),t.elementType=$,t.lanes=d,t;case q:return t=Bn(19,a,i,h),t.elementType=q,t.lanes=d,t;case ee:return Q_(a,h,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A:case N:v=10;break e;case R:v=9;break e;case k:v=11;break e;case Y:v=14;break e;case ne:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Bn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Xs(t,i,a,l){return t=Bn(7,t,l,i),t.lanes=a,t}function Q_(t,i,a,l){t=Bn(22,t,l,i),t.elementType=ee,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var v=Dr(d,2);v!==null&&(h._pendingVisibility|=2,un(v,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var v=Dr(d,2);v!==null&&(h._pendingVisibility&=-3,un(v,d,2))}}};return t.stateNode=h,t}function fd(t,i,a){return t=Bn(6,t,null,i),t.lanes=a,t}function dd(t,i,a){return i=Bn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function Xi(t){t.flags|=4}function Y_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!My(i)){if(i=Un.current,i!==null&&((je&4194176)===je?fi!==null:(je&62914560)!==je&&(je&536870912)===0||i!==fi))throw rl=yf,fg;t.flags|=8192}}function vc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?yr():536870912,t.lanes|=i,Ka|=i)}function Tl(t,i){if(!qe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function aw(t,i,a){var l=i.pendingProps;switch(gf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),$i(It),xi(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(el(i)?Xi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Yn!==null&&(Td(Yn),Yn=null))),it(i),null;case 26:return a=i.memoizedState,t===null?(Xi(i),a!==null?(it(i),Y_(i,a)):(it(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Xi(i),it(i),Y_(i,a)):(it(i),i.flags&=-16777217):(t.memoizedProps!==l&&Xi(i),it(i),i.flags&=-16777217),null;case 27:fa(i),a=Cn.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Xi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}t=rn.current,el(i)?cg(i):(t=by(h,l,a),i.stateNode=t,Xi(i))}return it(i),null;case 5:if(fa(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Xi(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(t=rn.current,el(i))cg(i);else{switch(h=Dc(Cn.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Mt]=i,t[At]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(qt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Xi(i)}}return it(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Xi(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Cn.current,el(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=ln,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Mt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||vy(t.nodeValue,a)),t||zs(i)}else t=Dc(t).createTextNode(l),t[Mt]=i,i.stateNode=t}return it(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=el(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Mt]=i}else tl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else Yn!==null&&(Td(Yn),Yn=null),h=!0;if(!h)return i.flags&256?(Hi(i),i):(Hi(i),null)}if(Hi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),vc(i,i.updateQueue),it(i),null;case 4:return xi(),t===null&&Od(i.stateNode.containerInfo),it(i),null;case 10:return $i(i.type),it(i),null;case 19:if(ot(Ct),h=i.memoizedState,h===null)return it(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Tl(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=nc(t),d!==null){for(i.flags|=128,Tl(h,!1),t=d.updateQueue,i.updateQueue=t,vc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)K_(a,t),a=a.sibling;return Qe(Ct,Ct.current&1|2),i.child}t=t.sibling}h.tail!==null&&hn()>Ec&&(i.flags|=128,l=!0,Tl(h,!1),i.lanes=4194304)}else{if(!l)if(t=nc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,vc(i,t),Tl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return it(i),null}else 2*hn()-h.renderingStartTime>Ec&&a!==536870912&&(i.flags|=128,l=!0,Tl(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=hn(),i.sibling=null,t=Ct.current,Qe(Ct,l?t&1|2:t&1),i):(it(i),null);case 22:case 23:return Hi(i),Ef(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&vc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ot(Hs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),$i(It),it(i),null;case 25:return null}throw Error(s(156,i.tag))}function ow(t,i){switch(gf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return $i(It),xi(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return fa(i),null;case 13:if(Hi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));tl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ot(Ct),null;case 4:return xi(),null;case 10:return $i(i.type),null;case 22:case 23:return Hi(i),Ef(),t!==null&&ot(Hs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return $i(It),null;case 25:return null;default:return null}}function X_(t,i){switch(gf(i),i.tag){case 3:$i(It),xi();break;case 26:case 27:case 5:fa(i);break;case 4:xi();break;case 13:Hi(i);break;case 19:ot(Ct);break;case 10:$i(i.type);break;case 22:case 23:Hi(i),Ef(),t!==null&&ot(Hs);break;case 24:$i(It)}}var lw={getCacheForType:function(t){var i=Yt(It),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},uw=typeof WeakMap=="function"?WeakMap:Map,rt=0,Je=null,Ne=null,je=0,et=0,An=null,Wi=!1,$a=!1,md=!1,Zi=0,ct=0,qr=0,Ws=0,pd=0,Hn=0,Ka=0,Sl=null,mi=null,gd=!1,_d=0,Ec=1/0,Tc=null,Fr=null,Sc=!1,Zs=null,wl=0,yd=0,vd=null,Al=0,Ed=null;function bn(){if((rt&2)!==0&&je!==0)return je&-je;if(b.T!==null){var t=Ua;return t!==0?t:Id()}return Iu()}function W_(){Hn===0&&(Hn=(je&536870912)===0||qe?Po():536870912);var t=Un.current;return t!==null&&(t.flags|=32),Hn}function un(t,i,a){(t===Je&&et===2||t.cancelPendingCommit!==null)&&(Qa(t,0),Ji(t,je,Hn,!1)),dt(t,a),((rt&2)===0||t!==Je)&&(t===Je&&((rt&2)===0&&(Ws|=a),ct===4&&Ji(t,je,Hn,!1)),pi(t))}function Z_(t,i,a){if((rt&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&t.expiredLanes)===0||_r(t,i),h=l?fw(t,i):Ad(t,i,!0),d=l;do{if(h===0){$a&&!l&&Ji(t,i,0,!1);break}else if(h===6)Ji(t,i,0,!Wi);else{if(a=t.current.alternate,d&&!cw(a)){h=Ad(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var S=t;h=Sl;var I=S.current.memoizedState.isDehydrated;if(I&&(Qa(S,v).flags|=256),v=Ad(S,v,!1),v!==2){if(md&&!I){S.errorRecoveryDisabledLanes|=d,Ws|=d,h=4;break e}d=mi,mi=h,d!==null&&Td(d)}h=v}if(d=!1,h!==2)continue}}if(h===1){Qa(t,0),Ji(t,i,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){Ji(l,i,Hn,!Wi);break e}break;case 2:mi=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=_d+300-hn(),10<d)){if(Ji(l,i,Hn,!Wi),In(l,0)!==0)break e;l.timeoutHandle=Sy(J_.bind(null,l,a,mi,Tc,gd,i,Hn,Ws,Ka,Wi,2,-0,0),d);break e}J_(l,a,mi,Tc,gd,i,Hn,Ws,Ka,Wi,0,-0,0)}}break}while(!0);pi(t)}function Td(t){mi===null?mi=t:mi.push.apply(mi,t)}function J_(t,i,a,l,h,d,v,S,I,L,Q,Z,F){var K=i.subtreeFlags;if((K&8192||(K&16785408)===16785408)&&(Dl={stylesheets:null,count:0,unsuspend:Gw},q_(i),i=Kw(),i!==null)){t.cancelPendingCommit=i(ay.bind(null,t,a,l,h,v,S,I,1,Z,F)),Ji(t,d,v,!L);return}ay(t,a,l,h,v,S,I,Q,Z,F)}function cw(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!Tn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ji(t,i,a,l){i&=~pd,i&=~Ws,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-sn(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&vr(t,a,i)}function wc(){return(rt&6)===0?(bl(0),!1):!0}function Sd(){if(Ne!==null){if(et===0)var t=Ne.return;else t=Ne,Gi=Ks=null,If(t),Pa=null,sl=0,t=Ne;for(;t!==null;)X_(t.alternate,t),t=t.return;Ne=null}}function Qa(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,xw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Sd(),Je=t,Ne=a=Hr(t.current,null),je=i,et=0,An=null,Wi=!1,$a=_r(t,i),md=!1,Ka=Hn=pd=Ws=qr=ct=0,mi=Sl=null,gd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-sn(l),d=1<<h;i|=t[h],l&=~d}return Zi=i,Ku(),a}function ey(t,i){xe=null,b.H=di,i===il?(i=pg(),et=3):i===fg?(i=pg(),et=4):et=i===d_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,An=i,Ne===null&&(ct=1,dc(t,kn(i,t.current)))}function ty(){var t=b.H;return b.H=di,t===null?di:t}function ny(){var t=b.A;return b.A=lw,t}function wd(){ct=4,Wi||(je&4194176)!==je&&Un.current!==null||($a=!0),(qr&134217727)===0&&(Ws&134217727)===0||Je===null||Ji(Je,je,Hn,!1)}function Ad(t,i,a){var l=rt;rt|=2;var h=ty(),d=ny();(Je!==t||je!==i)&&(Tc=null,Qa(t,i)),i=!1;var v=ct;e:do try{if(et!==0&&Ne!==null){var S=Ne,I=An;switch(et){case 8:Sd(),v=6;break e;case 3:case 2:case 6:Un.current===null&&(i=!0);var L=et;if(et=0,An=null,Ya(t,S,I,L),a&&$a){v=0;break e}break;default:L=et,et=0,An=null,Ya(t,S,I,L)}}hw(),v=ct;break}catch(Q){ey(t,Q)}while(!0);return i&&t.shellSuspendCounter++,Gi=Ks=null,rt=l,b.H=h,b.A=d,Ne===null&&(Je=null,je=0,Ku()),v}function hw(){for(;Ne!==null;)iy(Ne)}function fw(t,i){var a=rt;rt|=2;var l=ty(),h=ny();Je!==t||je!==i?(Tc=null,Ec=hn()+500,Qa(t,i)):$a=_r(t,i);e:do try{if(et!==0&&Ne!==null){i=Ne;var d=An;t:switch(et){case 1:et=0,An=null,Ya(t,i,d,1);break;case 2:if(dg(d)){et=0,An=null,ry(i);break}i=function(){et===2&&Je===t&&(et=7),pi(t)},d.then(i,i);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:dg(d)?(et=0,An=null,ry(i)):(et=0,An=null,Ya(t,i,d,7));break;case 5:var v=null;switch(Ne.tag){case 26:v=Ne.memoizedState;case 5:case 27:var S=Ne;if(!v||My(v)){et=0,An=null;var I=S.sibling;if(I!==null)Ne=I;else{var L=S.return;L!==null?(Ne=L,Ac(L)):Ne=null}break t}}et=0,An=null,Ya(t,i,d,5);break;case 6:et=0,An=null,Ya(t,i,d,6);break;case 8:Sd(),ct=6;break e;default:throw Error(s(462))}}dw();break}catch(Q){ey(t,Q)}while(!0);return Gi=Ks=null,b.H=l,b.A=h,rt=a,Ne!==null?0:(Je=null,je=0,Ku(),ct)}function dw(){for(;Ne!==null&&!Wh();)iy(Ne)}function iy(t){var i=b_(t.alternate,t,Zi);t.memoizedProps=t.pendingProps,i===null?Ac(t):Ne=i}function ry(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=v_(a,i,i.pendingProps,i.type,void 0,je);break;case 11:i=v_(a,i,i.pendingProps,i.type.render,i.ref,je);break;case 5:If(i);default:X_(a,i),i=Ne=K_(i,Zi),i=b_(a,i,Zi)}t.memoizedProps=t.pendingProps,i===null?Ac(t):Ne=i}function Ya(t,i,a,l){Gi=Ks=null,If(i),Pa=null,sl=0;var h=i.return;try{if(tw(t,h,i,a,je)){ct=1,dc(t,kn(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ct=1,dc(t,kn(a,t.current)),Ne=null;return}i.flags&32768?(qe||l===1?t=!0:$a||(je&536870912)!==0?t=!1:(Wi=t=!0,(l===2||l===3||l===6)&&(l=Un.current,l!==null&&l.tag===13&&(l.flags|=16384))),sy(i,t)):Ac(i)}function Ac(t){var i=t;do{if((i.flags&32768)!==0){sy(i,Wi);return}t=i.return;var a=aw(i.alternate,i,Zi);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ct===0&&(ct=5)}function sy(t,i){do{var a=ow(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ct=6,Ne=null}function ay(t,i,a,l,h,d,v,S,I,L){var Q=b.T,Z=ae.p;try{ae.p=2,b.T=null,mw(t,i,a,l,Z,h,d,v,S,I,L)}finally{b.T=Q,ae.p=Z}}function mw(t,i,a,l,h,d,v,S){do Xa();while(Zs!==null);if((rt&6)!==0)throw Error(s(327));var I=t.finishedWork;if(l=t.finishedLanes,I===null)return null;if(t.finishedWork=null,t.finishedLanes=0,I===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var L=I.lanes|I.childLanes;if(L|=df,Ru(t,l,L,d,v,S),t===Je&&(Ne=Je=null,je=0),(I.subtreeFlags&10256)===0&&(I.flags&10256)===0||Sc||(Sc=!0,yd=L,vd=a,yw(Di,function(){return Xa(),null})),a=(I.flags&15990)!==0,(I.subtreeFlags&15990)!==0||a?(a=b.T,b.T=null,d=ae.p,ae.p=2,v=rt,rt|=4,iw(t,I),z_(I,t),US(Pd,t.containerInfo),Pc=!!kd,Pd=kd=null,t.current=I,P_(t,I.alternate,I),Oo(),rt=v,ae.p=d,b.T=a):t.current=I,Sc?(Sc=!1,Zs=t,wl=l):oy(t,L),L=t.pendingLanes,L===0&&(Fr=null),Vo(I.stateNode),pi(t),i!==null)for(h=t.onRecoverableError,I=0;I<i.length;I++)L=i[I],h(L.value,{componentStack:L.stack});return(wl&3)!==0&&Xa(),L=t.pendingLanes,(l&4194218)!==0&&(L&42)!==0?t===Ed?Al++:(Al=0,Ed=t):Al=0,bl(0),null}function oy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ol(i)))}function Xa(){if(Zs!==null){var t=Zs,i=yd;yd=0;var a=Cu(wl),l=b.T,h=ae.p;try{if(ae.p=32>a?32:a,b.T=null,Zs===null)var d=!1;else{a=vd,vd=null;var v=Zs,S=wl;if(Zs=null,wl=0,(rt&6)!==0)throw Error(s(331));var I=rt;if(rt|=4,G_(v.current),H_(v,v.current,S,a),rt=I,bl(0,!1),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(pr,v)}catch{}d=!0}return d}finally{ae.p=h,b.T=l,oy(t,i)}}return!1}function ly(t,i,a){i=kn(a,i),i=Hf(t.stateNode,i,2),t=Ur(t,i,2),t!==null&&(dt(t,2),pi(t))}function Ze(t,i,a){if(t.tag===3)ly(t,t,a);else for(;i!==null;){if(i.tag===3){ly(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fr===null||!Fr.has(l))){t=kn(a,t),a=h_(2),l=Ur(i,a,2),l!==null&&(f_(a,l,i,t),dt(l,2),pi(l));break}}i=i.return}}function bd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new uw;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(md=!0,h.add(a),t=pw.bind(null,t,i,a),i.then(t,t))}function pw(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(je&a)===a&&(ct===4||ct===3&&(je&62914560)===je&&300>hn()-_d?(rt&2)===0&&Qa(t,0):pd|=a,Ka===je&&(Ka=0)),pi(t)}function uy(t,i){i===0&&(i=yr()),t=Dr(t,i),t!==null&&(dt(t,i),pi(t))}function gw(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),uy(t,a)}function _w(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),uy(t,a)}function yw(t,i){return Ss(t,i)}var bc=null,Wa=null,Rd=!1,Rc=!1,Cd=!1,Js=0;function pi(t){t!==Wa&&t.next===null&&(Wa===null?bc=Wa=t:Wa=Wa.next=t),Rc=!0,Rd||(Rd=!0,Ew(vw))}function bl(t,i){if(!Cd&&Rc){Cd=!0;do for(var a=!1,l=bc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-sn(42|t)+1)-1,d&=h&~(v&~S),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,fy(l,d))}else d=je,d=In(l,l===Je?d:0),(d&3)===0||_r(l,d)||(a=!0,fy(l,d));l=l.next}while(a);Cd=!1}}function vw(){Rc=Rd=!1;var t=0;Js!==0&&(Iw()&&(t=Js),Js=0);for(var i=hn(),a=null,l=bc;l!==null;){var h=l.next,d=cy(l,i);d===0?(l.next=null,a===null?bc=h:a.next=h,h===null&&(Wa=a)):(a=l,(t!==0||(d&3)!==0)&&(Rc=!0)),l=h}bl(t)}function cy(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-sn(d),S=1<<v,I=h[v];I===-1?((S&a)===0||(S&l)!==0)&&(h[v]=pa(S,i)):I<=i&&(t.expiredLanes|=S),d&=~S}if(i=Je,a=je,a=In(t,t===i?a:0),l=t.callbackNode,a===0||t===i&&et===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&ma(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||_r(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&ma(l),Cu(a)){case 2:case 8:a=Ot;break;case 32:a=Di;break;case 268435456:a=Mo;break;default:a=Di}return l=hy.bind(null,t),a=Ss(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&ma(l),t.callbackPriority=2,t.callbackNode=null,2}function hy(t,i){var a=t.callbackNode;if(Xa()&&t.callbackNode!==a)return null;var l=je;return l=In(t,t===Je?l:0),l===0?null:(Z_(t,l,i),cy(t,hn()),t.callbackNode!=null&&t.callbackNode===a?hy.bind(null,t):null)}function fy(t,i){if(Xa())return null;Z_(t,i,!0)}function Ew(t){Dw(function(){(rt&6)!==0?Ss(wt,t):t()})}function Id(){return Js===0&&(Js=Po()),Js}function dy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ri(""+t)}function my(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function Tw(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=dy((h[At]||null).action),v=l.submitter;v&&(i=(i=v[At]||null)?dy(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var S=new Sa("action","action",null,l,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Js!==0){var I=v?my(h,v):new FormData(h);Lf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(S.preventDefault(),I=v?my(h,v):new FormData(h),Lf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var xd=0;xd<ag.length;xd++){var Dd=ag[xd],Sw=Dd.toLowerCase(),ww=Dd[0].toUpperCase()+Dd.slice(1);Qn(Sw,"on"+ww)}Qn(tg,"onAnimationEnd"),Qn(ng,"onAnimationIteration"),Qn(ig,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(zS,"onTransitionRun"),Qn(BS,"onTransitionStart"),Qn(HS,"onTransitionCancel"),Qn(rg,"onTransitionEnd"),fn("onMouseEnter",["mouseout","mouseover"]),fn("onMouseLeave",["mouseout","mouseover"]),fn("onPointerEnter",["pointerout","pointerover"]),fn("onPointerLeave",["pointerout","pointerover"]),vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Aw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Rl));function py(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var S=l[v],I=S.instance,L=S.currentTarget;if(S=S.listener,I!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=L;try{d(h)}catch(Q){fc(Q)}h.currentTarget=null,d=I}else for(v=0;v<l.length;v++){if(S=l[v],I=S.instance,L=S.currentTarget,S=S.listener,I!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=L;try{d(h)}catch(Q){fc(Q)}h.currentTarget=null,d=I}}}}function ke(t,i){var a=i[As];a===void 0&&(a=i[As]=new Set);var l=t+"__bubble";a.has(l)||(gy(i,t,2,!1),a.add(l))}function Nd(t,i,a){var l=0;i&&(l|=4),gy(a,t,l,i)}var Cc="_reactListening"+Math.random().toString(36).slice(2);function Od(t){if(!t[Cc]){t[Cc]=!0,Uo.forEach(function(a){a!=="selectionchange"&&(Aw.has(a)||Nd(a,!1,t),Nd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Cc]||(i[Cc]=!0,Nd("selectionchange",!1,i))}}function gy(t,i,a,l){switch(jy(i)){case 2:var h=Xw;break;case 8:h=Ww;break;default:h=Gd}a=h.bind(null,i,a,t),h=void 0,!On||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Md(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var S=l.stateNode.containerInfo;if(S===h||S.nodeType===8&&S.parentNode===h)break;if(v===4)for(v=l.return;v!==null;){var I=v.tag;if((I===3||I===4)&&(I=v.stateNode.containerInfo,I===h||I.nodeType===8&&I.parentNode===h))return;v=v.return}for(;S!==null;){if(v=Kn(S),v===null)return;if(I=v.tag,I===5||I===6||I===26||I===27){l=d=v;continue e}S=S.parentNode}}l=l.return}Ou(function(){var L=d,Q=Ta(a),Z=[];e:{var F=sg.get(t);if(F!==void 0){var K=Sa,ce=t;switch(t){case"keypress":if(ai(a)===0)break e;case"keydown":case"keyup":K=Ia;break;case"focusin":ce="focus",K=ba;break;case"focusout":ce="blur",K=ba;break;case"beforeblur":case"afterblur":K=ba;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=Mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=sf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=zu;break;case tg:case ng:case ig:K=Ra;break;case rg:K=Hu;break;case"scroll":case"scrollend":K=Mu;break;case"wheel":K=xa;break;case"copy":case"cut":case"paste":K=Ca;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=Xo;break;case"toggle":case"beforetoggle":K=Fu}var we=(i&4)!==0,ht=!we&&(t==="scroll"||t==="scrollend"),U=we?F!==null?F+"Capture":null:F;we=[];for(var M=L,B;M!==null;){var X=M;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||U===null||(X=xs(M,U),X!=null&&we.push(Cl(M,X,B))),ht)break;M=M.return}0<we.length&&(F=new K(F,ce,null,a,Q),Z.push({event:F,listeners:we}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",K=t==="mouseout"||t==="pointerout",F&&a!==Nn&&(ce=a.relatedTarget||a.fromElement)&&(Kn(ce)||ce[Ni]))break e;if((K||F)&&(F=Q.window===Q?Q:(F=Q.ownerDocument)?F.defaultView||F.parentWindow:window,K?(ce=a.relatedTarget||a.toElement,K=L,ce=ce?Kn(ce):null,ce!==null&&(ht=pe(ce),we=ce.tag,ce!==ht||we!==5&&we!==27&&we!==6)&&(ce=null)):(K=null,ce=L),K!==ce)){if(we=Mn,X="onMouseLeave",U="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(we=Xo,X="onPointerLeave",U="onPointerEnter",M="pointer"),ht=K==null?F:wr(K),B=ce==null?F:wr(ce),F=new we(X,M+"leave",K,a,Q),F.target=ht,F.relatedTarget=B,X=null,Kn(Q)===L&&(we=new we(U,M+"enter",ce,a,Q),we.target=B,we.relatedTarget=ht,X=we),ht=X,K&&ce)t:{for(we=K,U=ce,M=0,B=we;B;B=Za(B))M++;for(B=0,X=U;X;X=Za(X))B++;for(;0<M-B;)we=Za(we),M--;for(;0<B-M;)U=Za(U),B--;for(;M--;){if(we===U||U!==null&&we===U.alternate)break t;we=Za(we),U=Za(U)}we=null}else we=null;K!==null&&_y(Z,F,K,we,!1),ce!==null&&ht!==null&&_y(Z,ht,ce,we,!0)}}e:{if(F=L?wr(L):window,K=F.nodeName&&F.nodeName.toLowerCase(),K==="select"||K==="input"&&F.type==="file")var le=Fp;else if(Rt(F))if(Gp)le=PS;else{le=VS;var De=MS}else K=F.nodeName,!K||K.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?L&&qo(L.elementType)&&(le=Fp):le=kS;if(le&&(le=le(t,L))){ji(Z,le,a,Q);break e}De&&De(t,F,L),t==="focusout"&&L&&F.type==="number"&&L.memoizedProps.value!=null&&Ea(F,"number",F.value)}switch(De=L?wr(L):window,t){case"focusin":(Rt(De)||De.contentEditable==="true")&&(Da=De,cf=L,Jo=null);break;case"focusout":Jo=cf=Da=null;break;case"mousedown":hf=!0;break;case"contextmenu":case"mouseup":case"dragend":hf=!1,Jp(Z,a,Q);break;case"selectionchange":if(jS)break;case"keydown":case"keyup":Jp(Z,a,Q)}var de;if(ui)e:{switch(t){case"compositionstart":var ye="onCompositionStart";break e;case"compositionend":ye="onCompositionEnd";break e;case"compositionupdate":ye="onCompositionUpdate";break e}ye=void 0}else Le?G(t,a)&&(ye="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ye="onCompositionStart");ye&&(y&&a.locale!=="ko"&&(Le||ye!=="onCompositionStart"?ye==="onCompositionEnd"&&Le&&(de=Go()):(si=Q,xr="value"in si?si.value:si.textContent,Le=!0)),De=Ic(L,ye),0<De.length&&(ye=new Qo(ye,t,null,a,Q),Z.push({event:ye,listeners:De}),de?ye.data=de:(de=ie(a),de!==null&&(ye.data=de)))),(de=g?bt(t,a):Ue(t,a))&&(ye=Ic(L,"onBeforeInput"),0<ye.length&&(De=new Qo("onBeforeInput","beforeinput",null,a,Q),Z.push({event:De,listeners:ye}),De.data=de)),Tw(Z,t,L,a,Q)}py(Z,i)})}function Cl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Ic(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=xs(t,a),h!=null&&l.unshift(Cl(t,h,d)),h=xs(t,i),h!=null&&l.push(Cl(t,h,d))),t=t.return}return l}function Za(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function _y(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var S=a,I=S.alternate,L=S.stateNode;if(S=S.tag,I!==null&&I===l)break;S!==5&&S!==26&&S!==27||L===null||(I=L,h?(L=xs(a,d),L!=null&&v.unshift(Cl(a,L,I))):h||(L=xs(a,d),L!=null&&v.push(Cl(a,L,I)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var bw=/\r\n?/g,Rw=/\u0000|\uFFFD/g;function yy(t){return(typeof t=="string"?t:""+t).replace(bw,`
`).replace(Rw,"")}function vy(t,i){return i=yy(i),yy(t)===i}function xc(){}function We(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||Dn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&Dn(t,""+l);break;case"className":Rr(t,"class",l);break;case"tabIndex":Rr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Rr(t,a,l);break;case"style":Nu(t,l,d);break;case"data":if(i!=="object"){Rr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ri(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=ri(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=xc);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=ri(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),br(t,"popover",l);break;case"xlinkActuate":xn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":br(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=nf.get(a)||a,br(t,a,l))}}function Vd(t,i,a,l,h,d){switch(a){case"style":Nu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Dn(t,l):(typeof l=="number"||typeof l=="bigint")&&Dn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=xc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ya.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[At]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):br(t,a,l)}}}function qt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,d,v,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":ke("invalid",t);var S=d=v=h=null,I=null,L=null;for(l in a)if(a.hasOwnProperty(l)){var Q=a[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":v=Q;break;case"checked":I=Q;break;case"defaultChecked":L=Q;break;case"value":d=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:We(t,i,l,Q,a,null)}}Cs(t,d,S,I,L,v,h,!1),Rs(t);return;case"select":ke("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":v=S;break;case"multiple":l=S;default:We(t,i,h,S,a,null)}i=d,a=v,t.multiple=!!l,i!=null?He(t,!!l,i,!1):a!=null&&He(t,!!l,a,!0);return;case"textarea":ke("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(S=a[v],S!=null))switch(v){case"value":l=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:We(t,i,v,S,a,null)}Ir(t,l,h,d),Rs(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,i,I,l,a,null)}return;case"dialog":ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<Rl.length;l++)ke(Rl[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(l=a[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,L,l,a,null)}return;default:if(qo(i)){for(Q in a)a.hasOwnProperty(Q)&&(l=a[Q],l!==void 0&&Vd(t,i,Q,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&We(t,i,S,l,a,null))}function Cw(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,S=null,I=null,L=null,Q=null;for(K in a){var Z=a[K];if(a.hasOwnProperty(K)&&Z!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(K)||We(t,i,K,null,l,Z)}}for(var F in l){var K=l[F];if(Z=a[F],l.hasOwnProperty(F)&&(K!=null||Z!=null))switch(F){case"type":d=K;break;case"name":h=K;break;case"checked":L=K;break;case"defaultChecked":Q=K;break;case"value":v=K;break;case"defaultValue":S=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,i));break;default:K!==Z&&We(t,i,F,K,l,Z)}}Cr(t,v,S,I,L,Q,d,h);return;case"select":K=v=S=F=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":K=I;default:l.hasOwnProperty(d)||We(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":F=d;break;case"defaultValue":S=d;break;case"multiple":v=d;default:d!==I&&We(t,i,h,d,l,I)}i=S,a=v,l=K,F!=null?He(t,!!a,F,!1):!!l!=!!a&&(i!=null?He(t,!!a,i,!0):He(t,!!a,a?[]:"",!1));return;case"textarea":K=F=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:We(t,i,S,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":F=h;break;case"defaultValue":K=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,i,v,h,l,d)}Is(t,F,K);return;case"option":for(var ce in a)if(F=a[ce],a.hasOwnProperty(ce)&&F!=null&&!l.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:We(t,i,ce,null,l,F)}for(I in l)if(F=l[I],K=a[I],l.hasOwnProperty(I)&&F!==K&&(F!=null||K!=null))switch(I){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:We(t,i,I,F,l,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var we in a)F=a[we],a.hasOwnProperty(we)&&F!=null&&!l.hasOwnProperty(we)&&We(t,i,we,null,l,F);for(L in l)if(F=l[L],K=a[L],l.hasOwnProperty(L)&&F!==K&&(F!=null||K!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:We(t,i,L,F,l,K)}return;default:if(qo(i)){for(var ht in a)F=a[ht],a.hasOwnProperty(ht)&&F!==void 0&&!l.hasOwnProperty(ht)&&Vd(t,i,ht,void 0,l,F);for(Q in l)F=l[Q],K=a[Q],!l.hasOwnProperty(Q)||F===K||F===void 0&&K===void 0||Vd(t,i,Q,F,l,K);return}}for(var U in a)F=a[U],a.hasOwnProperty(U)&&F!=null&&!l.hasOwnProperty(U)&&We(t,i,U,null,l,F);for(Z in l)F=l[Z],K=a[Z],!l.hasOwnProperty(Z)||F===K||F==null&&K==null||We(t,i,Z,F,l,K)}var kd=null,Pd=null;function Dc(t){return t.nodeType===9?t:t.ownerDocument}function Ey(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ty(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ld(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ud=null;function Iw(){var t=window.event;return t&&t.type==="popstate"?t===Ud?!1:(Ud=t,!0):(Ud=null,!1)}var Sy=typeof setTimeout=="function"?setTimeout:void 0,xw=typeof clearTimeout=="function"?clearTimeout:void 0,wy=typeof Promise=="function"?Promise:void 0,Dw=typeof queueMicrotask=="function"?queueMicrotask:typeof wy<"u"?function(t){return wy.resolve(null).then(t).catch(Nw)}:Sy;function Nw(t){setTimeout(function(){throw t})}function jd(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),kl(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);kl(i)}function zd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":zd(a),bs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function Ow(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Sr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Wn(t.nextSibling),t===null)break}return null}function Mw(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Wn(t.nextSibling),t===null))return null;return t}function Wn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function Ay(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function by(t,i,a){switch(i=Dc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var qn=new Map,Ry=new Set;function Nc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var er=ae.d;ae.d={f:Vw,r:kw,D:Pw,C:Lw,L:Uw,m:jw,X:Bw,S:zw,M:Hw};function Vw(){var t=er.f(),i=wc();return t||i}function kw(t){var i=Oi(t);i!==null&&i.tag===5&&i.type==="form"?Jg(i):er.r(t)}var Ja=typeof document>"u"?null:document;function Cy(t,i,a){var l=Ja;if(l&&typeof i=="string"&&i){var h=lt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ry.has(h)||(Ry.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),qt(i,"link",t),nt(i),l.head.appendChild(i)))}}function Pw(t){er.D(t),Cy("dns-prefetch",t,null)}function Lw(t,i){er.C(t,i),Cy("preconnect",t,i)}function Uw(t,i,a){er.L(t,i,a);var l=Ja;if(l&&t&&i){var h='link[rel="preload"][as="'+lt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+lt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+lt(a.imageSizes)+'"]')):h+='[href="'+lt(t)+'"]';var d=h;switch(i){case"style":d=eo(t);break;case"script":d=to(t)}qn.has(d)||(t=x({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),qn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Il(d))||i==="script"&&l.querySelector(xl(d))||(i=l.createElement("link"),qt(i,"link",t),nt(i),l.head.appendChild(i)))}}function jw(t,i){er.m(t,i);var a=Ja;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+lt(l)+'"][href="'+lt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=to(t)}if(!qn.has(d)&&(t=x({rel:"modulepreload",href:t},i),qn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(xl(d)))return}l=a.createElement("link"),qt(l,"link",t),nt(l),a.head.appendChild(l)}}}function zw(t,i,a){er.S(t,i,a);var l=Ja;if(l&&t){var h=Ar(l).hoistableStyles,d=eo(t);i=i||"default";var v=h.get(d);if(!v){var S={loading:0,preload:null};if(v=l.querySelector(Il(d)))S.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":i},a),(a=qn.get(d))&&Bd(t,a);var I=v=l.createElement("link");nt(I),qt(I,"link",t),I._p=new Promise(function(L,Q){I.onload=L,I.onerror=Q}),I.addEventListener("load",function(){S.loading|=1}),I.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Oc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:S},h.set(d,v)}}}function Bw(t,i){er.X(t,i);var a=Ja;if(a&&t){var l=Ar(a).hoistableScripts,h=to(t),d=l.get(h);d||(d=a.querySelector(xl(h)),d||(t=x({src:t,async:!0},i),(i=qn.get(h))&&Hd(t,i),d=a.createElement("script"),nt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Hw(t,i){er.M(t,i);var a=Ja;if(a&&t){var l=Ar(a).hoistableScripts,h=to(t),d=l.get(h);d||(d=a.querySelector(xl(h)),d||(t=x({src:t,async:!0,type:"module"},i),(i=qn.get(h))&&Hd(t,i),d=a.createElement("script"),nt(d),qt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Iy(t,i,a,l){var h=(h=Cn.current)?Nc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=eo(a.href),a=Ar(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=eo(a.href);var d=Ar(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Il(t)))&&!d._p&&(v.instance=d,v.state.loading=5),qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(t,a),d||qw(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=to(a),a=Ar(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function eo(t){return'href="'+lt(t)+'"'}function Il(t){return'link[rel="stylesheet"]['+t+"]"}function xy(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function qw(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),qt(i,"link",a),nt(i),t.head.appendChild(i))}function to(t){return'[src="'+lt(t)+'"]'}function xl(t){return"script[async]"+t}function Dy(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+lt(a.href)+'"]');if(l)return i.instance=l,nt(l),l;var h=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),nt(l),qt(l,"style",h),Oc(l,a.precedence,t),i.instance=l;case"stylesheet":h=eo(a.href);var d=t.querySelector(Il(h));if(d)return i.state.loading|=4,i.instance=d,nt(d),d;l=xy(a),(h=qn.get(h))&&Bd(l,h),d=(t.ownerDocument||t).createElement("link"),nt(d);var v=d;return v._p=new Promise(function(S,I){v.onload=S,v.onerror=I}),qt(d,"link",l),i.state.loading|=4,Oc(d,a.precedence,t),i.instance=d;case"script":return d=to(a.src),(h=t.querySelector(xl(d)))?(i.instance=h,nt(h),h):(l=a,(h=qn.get(d))&&(l=x({},a),Hd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),nt(h),qt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Oc(l,a.precedence,t));return i.instance}function Oc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var S=l[v];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Bd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Hd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Mc=null;function Ny(t,i,a){if(Mc===null){var l=new Map,h=Mc=new Map;h.set(a,l)}else h=Mc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[Sr]||d[Mt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var S=l.get(v);S?S.push(d):l.set(v,[d])}}return l}function Oy(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Fw(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function My(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Dl=null;function Gw(){}function $w(t,i,a){if(Dl===null)throw Error(s(475));var l=Dl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=eo(a.href),d=t.querySelector(Il(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Vc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,nt(d);return}d=t.ownerDocument||t,a=xy(a),(h=qn.get(h))&&Bd(a,h),d=d.createElement("link"),nt(d);var v=d;v._p=new Promise(function(S,I){v.onload=S,v.onerror=I}),qt(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Vc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function Kw(){if(Dl===null)throw Error(s(475));var t=Dl;return t.stylesheets&&t.count===0&&qd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&qd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Vc(){if(this.count--,this.count===0){if(this.stylesheets)qd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var kc=null;function qd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,kc=new Map,i.forEach(Qw,t),kc=null,Vc.call(t))}function Qw(t,i){if(!(i.state.loading&4)){var a=kc.get(t);if(a)var l=a.get(null);else{a=new Map,kc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=Vc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Nl={$$typeof:N,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function Yw(t,i,a,l,h,d,v,S){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ga(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ga(0),this.hiddenUpdates=ga(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function Vy(t,i,a,l,h,d,v,S,I,L,Q,Z){return t=new Yw(t,i,a,v,S,I,L,Z),i=1,d===!0&&(i|=24),d=Bn(3,null,null,i),t.current=d,d.stateNode=t,i=Tf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},td(d),t}function ky(t){return t?(t=Ma,t):Ma}function Py(t,i,a,l,h,d){h=ky(h),l.context===null?l.context=h:l.pendingContext=h,l=Lr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Ur(t,l,i),a!==null&&(un(a,t,i),ml(a,t,i))}function Ly(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Fd(t,i){Ly(t,i),(t=t.alternate)&&Ly(t,i)}function Uy(t){if(t.tag===13){var i=Dr(t,67108864);i!==null&&un(i,t,67108864),Fd(t,67108864)}}var Pc=!0;function Xw(t,i,a,l){var h=b.T;b.T=null;var d=ae.p;try{ae.p=2,Gd(t,i,a,l)}finally{ae.p=d,b.T=h}}function Ww(t,i,a,l){var h=b.T;b.T=null;var d=ae.p;try{ae.p=8,Gd(t,i,a,l)}finally{ae.p=d,b.T=h}}function Gd(t,i,a,l){if(Pc){var h=$d(l);if(h===null)Md(t,i,l,Lc,a),zy(t,l);else if(Jw(h,t,i,a,l))l.stopPropagation();else if(zy(t,l),i&4&&-1<Zw.indexOf(t)){for(;h!==null;){var d=Oi(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=$n(d.pendingLanes);if(v!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var I=1<<31-sn(v);S.entanglements[1]|=I,v&=~I}pi(d),(rt&6)===0&&(Ec=hn()+500,bl(0))}}break;case 13:S=Dr(d,2),S!==null&&un(S,d,2),wc(),Fd(d,2)}if(d=$d(l),d===null&&Md(t,i,l,Lc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Md(t,i,l,null,a)}}function $d(t){return t=Ta(t),Kd(t)}var Lc=null;function Kd(t){if(Lc=null,t=Kn(t),t!==null){var i=pe(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=Ge(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Lc=t,null}function jy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Su()){case wt:return 2;case Ot:return 8;case Di:case wu:return 32;case Mo:return 268435456;default:return 32}default:return 32}}var Qd=!1,Gr=null,$r=null,Kr=null,Ol=new Map,Ml=new Map,Qr=[],Zw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zy(t,i){switch(t){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":$r=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Ol.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(i.pointerId)}}function Vl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Oi(i),i!==null&&Uy(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function Jw(t,i,a,l,h){switch(i){case"focusin":return Gr=Vl(Gr,t,i,a,l,h),!0;case"dragenter":return $r=Vl($r,t,i,a,l,h),!0;case"mouseover":return Kr=Vl(Kr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Ol.set(d,Vl(Ol.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Ml.set(d,Vl(Ml.get(d)||null,t,i,a,l,h)),!0}return!1}function By(t){var i=Kn(t.target);if(i!==null){var a=pe(i);if(a!==null){if(i=a.tag,i===13){if(i=Ge(a),i!==null){t.blockedOn=i,Tr(t.priority,function(){if(a.tag===13){var l=bn(),h=Dr(a,l);h!==null&&un(h,a,l),Fd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Uc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=$d(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Nn=l,a.target.dispatchEvent(l),Nn=null}else return i=Oi(a),i!==null&&Uy(i),t.blockedOn=a,!1;i.shift()}return!0}function Hy(t,i,a){Uc(t)&&a.delete(i)}function eA(){Qd=!1,Gr!==null&&Uc(Gr)&&(Gr=null),$r!==null&&Uc($r)&&($r=null),Kr!==null&&Uc(Kr)&&(Kr=null),Ol.forEach(Hy),Ml.forEach(Hy)}function jc(t,i){t.blockedOn===i&&(t.blockedOn=null,Qd||(Qd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,eA)))}var zc=null;function qy(t){zc!==t&&(zc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){zc===t&&(zc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Kd(l||a)===null)continue;break}var d=Oi(a);d!==null&&(t.splice(i,3),i-=3,Lf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function kl(t){function i(I){return jc(I,t)}Gr!==null&&jc(Gr,t),$r!==null&&jc($r,t),Kr!==null&&jc(Kr,t),Ol.forEach(i),Ml.forEach(i);for(var a=0;a<Qr.length;a++){var l=Qr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Qr.length&&(a=Qr[0],a.blockedOn===null);)By(a),a.blockedOn===null&&Qr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[At]||null;if(typeof d=="function")v||qy(a);else if(v){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[At]||null)S=v.formAction;else if(Kd(h)!==null)continue}else S=v.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),qy(a)}}}function Yd(t){this._internalRoot=t}Bc.prototype.render=Yd.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=bn();Py(a,l,t,i,null,null)},Bc.prototype.unmount=Yd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&Xa(),Py(t.current,2,null,t,null,null),wc(),i[Ni]=null}};function Bc(t){this._internalRoot=t}Bc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Iu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Qr.length&&i!==0&&i<Qr[a].priority;a++);Qr.splice(a,0,t),a===0&&By(t)}};var Fy=e.version;if(Fy!=="19.0.0")throw Error(s(527,Fy,"19.0.0"));ae.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=te(i),t=t!==null?he(t):null,t=t===null?null:t.stateNode,t};var tA={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:b,findFiberByHostInstance:Kn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{pr=Hc.inject(tA),Qt=Hc}catch{}}return Ll.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=o_,d=l_,v=u_,S=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(S=i.unstable_transitionCallbacks)),i=Vy(t,1,!1,null,null,a,l,h,d,v,S,null),t[Ni]=i.current,Od(t.nodeType===8?t.parentNode:t),new Yd(i)},Ll.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=o_,v=l_,S=u_,I=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),i=Vy(t,1,!0,i,a??null,l,h,d,v,S,I,L),i.context=ky(null),a=i.current,l=bn(),h=Lr(l),h.callback=null,Ur(a,h,l),i.current.lanes=l,dt(i,l),pi(i),t[Ni]=i.current,Od(t),new Bc(i)},Ll.version="19.0.0",Ll}var ev;function hA(){if(ev)return Zd.exports;ev=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Zd.exports=cA(),Zd.exports}var fA=hA(),Ul={},tv;function dA(){if(tv)return Ul;tv=1,Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.parse=f,Ul.serialize=_;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function f(R,N){const k=new u,$=R.length;if($<2)return k;const q=(N==null?void 0:N.decode)||T;let Y=0;do{const ne=R.indexOf("=",Y);if(ne===-1)break;const ee=R.indexOf(";",Y),me=ee===-1?$:ee;if(ne>me){Y=R.lastIndexOf(";",ne-1)+1;continue}const ue=m(R,Y,ne),be=p(R,ne,ue),V=R.slice(ue,be);if(k[V]===void 0){let C=m(R,ne+1,me),b=p(R,me,C);const x=q(R.slice(C,b));k[V]=x}Y=me+1}while(Y<$);return k}function m(R,N,k){do{const $=R.charCodeAt(N);if($!==32&&$!==9)return N}while(++N<k);return k}function p(R,N,k){for(;N>k;){const $=R.charCodeAt(--N);if($!==32&&$!==9)return N+1}return k}function _(R,N,k){const $=(k==null?void 0:k.encode)||encodeURIComponent;if(!r.test(R))throw new TypeError(`argument name is invalid: ${R}`);const q=$(N);if(!e.test(q))throw new TypeError(`argument val is invalid: ${N}`);let Y=R+"="+q;if(!k)return Y;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);Y+="; Max-Age="+k.maxAge}if(k.domain){if(!n.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);Y+="; Domain="+k.domain}if(k.path){if(!s.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);Y+="; Path="+k.path}if(k.expires){if(!A(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);Y+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(Y+="; HttpOnly"),k.secure&&(Y+="; Secure"),k.partitioned&&(Y+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":Y+="; Priority=Low";break;case"medium":Y+="; Priority=Medium";break;case"high":Y+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":Y+="; SameSite=Strict";break;case"lax":Y+="; SameSite=Lax";break;case"none":Y+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return Y}function T(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function A(R){return o.call(R)==="[object Date]"}return Ul}dA();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var nv="popstate";function mA(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return gm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Wl(o)}return gA(e,n,null,r)}function st(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Si(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pA(){return Math.random().toString(36).substring(2,10)}function iv(r,e){return{usr:r.state,key:r.key,idx:e}}function gm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?To(e):e,state:n,key:e&&e.key||s||pA()}}function Wl({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function To(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function gA(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,_=T();_==null&&(_=0,f.replaceState({...f.state,idx:_},""));function T(){return(f.state||{idx:null}).idx}function A(){m="POP";let q=T(),Y=q==null?null:q-_;_=q,p&&p({action:m,location:$.location,delta:Y})}function R(q,Y){m="PUSH";let ne=gm($.location,q,Y);_=T()+1;let ee=iv(ne,_),me=$.createHref(ne);try{f.pushState(ee,"",me)}catch(ue){if(ue instanceof DOMException&&ue.name==="DataCloneError")throw ue;o.location.assign(me)}u&&p&&p({action:m,location:$.location,delta:1})}function N(q,Y){m="REPLACE";let ne=gm($.location,q,Y);_=T();let ee=iv(ne,_),me=$.createHref(ne);f.replaceState(ee,"",me),u&&p&&p({action:m,location:$.location,delta:0})}function k(q){let Y=o.location.origin!=="null"?o.location.origin:o.location.href,ne=typeof q=="string"?q:Wl(q);return ne=ne.replace(/ $/,"%20"),st(Y,`No window.location.(origin|href) available to create URL for href: ${ne}`),new URL(ne,Y)}let $={get action(){return m},get location(){return r(o,f)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(nv,A),p=q,()=>{o.removeEventListener(nv,A),p=null}},createHref(q){return e(o,q)},createURL:k,encodeLocation(q){let Y=k(q);return{pathname:Y.pathname,search:Y.search,hash:Y.hash}},push:R,replace:N,go(q){return f.go(q)}};return $}function ME(r,e,n="/"){return _A(r,e,n,!1)}function _A(r,e,n,s){let o=typeof e=="string"?To(e):e,u=or(o.pathname||"/",n);if(u==null)return null;let f=VE(r);yA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let _=xA(u);m=CA(f[p],_,s)}return m}function VE(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(st(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let _=rr([s,p.relativePath]),T=n.concat(p);u.children&&u.children.length>0&&(st(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),VE(u.children,e,T,_)),!(u.path==null&&!u.index)&&e.push({path:_,score:bA(_,u.index),routesMeta:T})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of kE(u.path))o(u,f,p)}),e}function kE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=kE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function yA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:RA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var vA=/^:[\w-]+$/,EA=3,TA=2,SA=1,wA=10,AA=-2,rv=r=>r==="*";function bA(r,e){let n=r.split("/"),s=n.length;return n.some(rv)&&(s+=AA),e&&(s+=TA),n.filter(o=>!rv(o)).reduce((o,u)=>o+(vA.test(u)?EA:u===""?SA:wA),s)}function RA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function CA(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],_=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",A=uh({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},T),R=p.route;if(!A&&_&&n&&!s[s.length-1].route.index&&(A=uh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:rr([u,A.pathname]),pathnameBase:MA(rr([u,A.pathnameBase])),route:R}),A.pathnameBase!=="/"&&(u=rr([u,A.pathnameBase]))}return f}function uh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=IA(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((_,{paramName:T,isOptional:A},R)=>{if(T==="*"){let k=m[R]||"";f=u.slice(0,u.length-k.length).replace(/(.)\/+$/,"$1")}const N=m[R];return A&&!N?_[T]=void 0:_[T]=(N||"").replace(/%2F/g,"/"),_},{}),pathname:u,pathnameBase:f,pattern:r}}function IA(r,e=!1,n=!0){Si(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function xA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Si(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function or(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function DA(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?To(r):r;return{pathname:n?n.startsWith("/")?n:NA(n,e):e,search:VA(s),hash:kA(o)}}function NA(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function nm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function OA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function PE(r){let e=OA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function LE(r,e,n,s=!1){let o;typeof r=="string"?o=To(r):(o={...r},st(!o.pathname||!o.pathname.includes("?"),nm("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),nm("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),nm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),A-=1;o.pathname=R.join("/")}m=A>=0?e[A]:"/"}let p=DA(o,m),_=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(_||T)&&(p.pathname+="/"),p}var rr=r=>r.join("/").replace(/\/\/+/g,"/"),MA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),VA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,kA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function PA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var UE=["POST","PUT","PATCH","DELETE"];new Set(UE);var LA=["GET",...UE];new Set(LA);var So=H.createContext(null);So.displayName="DataRouter";var Ih=H.createContext(null);Ih.displayName="DataRouterState";var jE=H.createContext({isTransitioning:!1});jE.displayName="ViewTransition";var UA=H.createContext(new Map);UA.displayName="Fetchers";var jA=H.createContext(null);jA.displayName="Await";var Ri=H.createContext(null);Ri.displayName="Navigation";var ou=H.createContext(null);ou.displayName="Location";var Ci=H.createContext({outlet:null,matches:[],isDataRoute:!1});Ci.displayName="Route";var Fm=H.createContext(null);Fm.displayName="RouteError";function zA(r,{relative:e}={}){st(lu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=H.useContext(Ri),{hash:o,pathname:u,search:f}=uu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:rr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function lu(){return H.useContext(ou)!=null}function gs(){return st(lu(),"useLocation() may be used only in the context of a <Router> component."),H.useContext(ou).location}var zE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function BE(r){H.useContext(Ri).static||H.useLayoutEffect(r)}function _s(){let{isDataRoute:r}=H.useContext(Ci);return r?tb():BA()}function BA(){st(lu(),"useNavigate() may be used only in the context of a <Router> component.");let r=H.useContext(So),{basename:e,navigator:n}=H.useContext(Ri),{matches:s}=H.useContext(Ci),{pathname:o}=gs(),u=JSON.stringify(PE(s)),f=H.useRef(!1);return BE(()=>{f.current=!0}),H.useCallback((p,_={})=>{if(Si(f.current,zE),!f.current)return;if(typeof p=="number"){n.go(p);return}let T=LE(p,JSON.parse(u),o,_.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:rr([e,T.pathname])),(_.replace?n.replace:n.push)(T,_.state,_)},[e,n,u,o,r])}var HE=H.createContext(null);function HA(){return H.useContext(HE)}function qA(r){let e=H.useContext(Ci).outlet;return e&&H.createElement(HE.Provider,{value:r},e)}function uu(r,{relative:e}={}){let{matches:n}=H.useContext(Ci),{pathname:s}=gs(),o=JSON.stringify(PE(n));return H.useMemo(()=>LE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function FA(r,e){return qE(r,e)}function qE(r,e,n,s){var ne;st(lu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=H.useContext(Ri),{matches:f}=H.useContext(Ci),m=f[f.length-1],p=m?m.params:{},_=m?m.pathname:"/",T=m?m.pathnameBase:"/",A=m&&m.route;{let ee=A&&A.path||"";FE(_,!A||ee.endsWith("*")||ee.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${ee}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ee}"> to <Route path="${ee==="/"?"*":`${ee}/*`}">.`)}let R=gs(),N;if(e){let ee=typeof e=="string"?To(e):e;st(T==="/"||((ne=ee.pathname)==null?void 0:ne.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${ee.pathname}" was given in the \`location\` prop.`),N=ee}else N=R;let k=N.pathname||"/",$=k;if(T!=="/"){let ee=T.replace(/^\//,"").split("/");$="/"+k.replace(/^\//,"").split("/").slice(ee.length).join("/")}let q=!u&&n&&n.matches&&n.matches.length>0?n.matches:ME(r,{pathname:$});Si(A||q!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Si(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Y=YA(q&&q.map(ee=>Object.assign({},ee,{params:Object.assign({},p,ee.params),pathname:rr([T,o.encodeLocation?o.encodeLocation(ee.pathname).pathname:ee.pathname]),pathnameBase:ee.pathnameBase==="/"?T:rr([T,o.encodeLocation?o.encodeLocation(ee.pathnameBase).pathname:ee.pathnameBase])})),f,n,s);return e&&Y?H.createElement(ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},Y):Y}function GA(){let r=eb(),e=PA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=H.createElement(H.Fragment,null,H.createElement("p",null,"💿 Hey developer 👋"),H.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",H.createElement("code",{style:u},"ErrorBoundary")," or"," ",H.createElement("code",{style:u},"errorElement")," prop on your route.")),H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),n?H.createElement("pre",{style:o},n):null,f)}var $A=H.createElement(GA,null),KA=class extends H.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?H.createElement(Ci.Provider,{value:this.props.routeContext},H.createElement(Fm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function QA({routeContext:r,match:e,children:n}){let s=H.useContext(So);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),H.createElement(Ci.Provider,{value:r},n)}function YA(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);st(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let _=o[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=p),_.route.id){let{loaderData:T,errors:A}=n,R=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!A||A[_.route.id]===void 0);if(_.route.lazy||R){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,_,T)=>{let A,R=!1,N=null,k=null;n&&(A=u&&_.route.id?u[_.route.id]:void 0,N=_.route.errorElement||$A,f&&(m<0&&T===0?(FE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,k=null):m===T&&(R=!0,k=_.route.hydrateFallbackElement||null)));let $=e.concat(o.slice(0,T+1)),q=()=>{let Y;return A?Y=N:R?Y=k:_.route.Component?Y=H.createElement(_.route.Component,null):_.route.element?Y=_.route.element:Y=p,H.createElement(QA,{match:_,routeContext:{outlet:p,matches:$,isDataRoute:n!=null},children:Y})};return n&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?H.createElement(KA,{location:n.location,revalidation:n.revalidation,component:N,error:A,children:q(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):q()},null)}function Gm(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function XA(r){let e=H.useContext(So);return st(e,Gm(r)),e}function WA(r){let e=H.useContext(Ih);return st(e,Gm(r)),e}function ZA(r){let e=H.useContext(Ci);return st(e,Gm(r)),e}function $m(r){let e=ZA(r),n=e.matches[e.matches.length-1];return st(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function JA(){return $m("useRouteId")}function eb(){var s;let r=H.useContext(Fm),e=WA("useRouteError"),n=$m("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function tb(){let{router:r}=XA("useNavigate"),e=$m("useNavigate"),n=H.useRef(!1);return BE(()=>{n.current=!0}),H.useCallback(async(o,u={})=>{Si(n.current,zE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var sv={};function FE(r,e,n){!e&&!sv[r]&&(sv[r]=!0,Si(!1,n))}H.memo(nb);function nb({routes:r,future:e,state:n}){return qE(r,void 0,n,e)}function ib(r){return qA(r.context)}function Fn(r){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function rb({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){st(!lu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=H.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=To(n));let{pathname:p="/",search:_="",hash:T="",state:A=null,key:R="default"}=n,N=H.useMemo(()=>{let k=or(p,f);return k==null?null:{location:{pathname:k,search:_,hash:T,state:A,key:R},navigationType:s}},[f,p,_,T,A,R,s]);return Si(N!=null,`<Router basename="${f}"> is not able to match the URL "${p}${_}${T}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:H.createElement(Ri.Provider,{value:m},H.createElement(ou.Provider,{children:e,value:N}))}function sb({children:r,location:e}){return FA(_m(r),e)}function _m(r,e=[]){let n=[];return H.Children.forEach(r,(s,o)=>{if(!H.isValidElement(s))return;let u=[...e,o];if(s.type===H.Fragment){n.push.apply(n,_m(s.props.children,u));return}st(s.type===Fn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=_m(s.props.children,u)),n.push(f)}),n}var Wc="get",Zc="application/x-www-form-urlencoded";function xh(r){return r!=null&&typeof r.tagName=="string"}function ab(r){return xh(r)&&r.tagName.toLowerCase()==="button"}function ob(r){return xh(r)&&r.tagName.toLowerCase()==="form"}function lb(r){return xh(r)&&r.tagName.toLowerCase()==="input"}function ub(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function cb(r,e){return r.button===0&&(!e||e==="_self")&&!ub(r)}var qc=null;function hb(){if(qc===null)try{new FormData(document.createElement("form"),0),qc=!1}catch{qc=!0}return qc}var fb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function im(r){return r!=null&&!fb.has(r)?(Si(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zc}"`),null):r}function db(r,e){let n,s,o,u,f;if(ob(r)){let m=r.getAttribute("action");s=m?or(m,e):null,n=r.getAttribute("method")||Wc,o=im(r.getAttribute("enctype"))||Zc,u=new FormData(r)}else if(ab(r)||lb(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?or(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||Wc,o=im(r.getAttribute("formenctype"))||im(m.getAttribute("enctype"))||Zc,u=new FormData(m,r),!hb()){let{name:_,type:T,value:A}=r;if(T==="image"){let R=_?`${_}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else _&&u.append(_,A)}}else{if(xh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Wc,s=null,o=Zc,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function Km(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function mb(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function pb(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function gb(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await mb(u,n);return f.links?f.links():[]}return[]}));return Eb(s.flat(1).filter(pb).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function av(r,e,n,s,o,u){let f=(p,_)=>n[_]?p.route.id!==n[_].route.id:!0,m=(p,_)=>{var T;return n[_].pathname!==p.pathname||((T=n[_].route.path)==null?void 0:T.endsWith("*"))&&n[_].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,_)=>f(p,_)||m(p,_)):u==="data"?e.filter((p,_)=>{var A;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,_)||m(p,_))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((A=n[0])==null?void 0:A.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function _b(r,e,{includeHydrateFallback:n}={}){return yb(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function yb(r){return[...new Set(r)]}function vb(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function Eb(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(vb(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function Tb(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&or(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function GE(){let r=H.useContext(So);return Km(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function Sb(){let r=H.useContext(Ih);return Km(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Qm=H.createContext(void 0);Qm.displayName="FrameworkContext";function $E(){let r=H.useContext(Qm);return Km(r,"You must render this element inside a <HydratedRouter> element"),r}function wb(r,e){let n=H.useContext(Qm),[s,o]=H.useState(!1),[u,f]=H.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:_,onMouseLeave:T,onTouchStart:A}=e,R=H.useRef(null);H.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let $=Y=>{Y.forEach(ne=>{f(ne.isIntersecting)})},q=new IntersectionObserver($,{threshold:.5});return R.current&&q.observe(R.current),()=>{q.disconnect()}}},[r]),H.useEffect(()=>{if(s){let $=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout($)}}},[s]);let N=()=>{o(!0)},k=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:jl(m,N),onBlur:jl(p,k),onMouseEnter:jl(_,N),onMouseLeave:jl(T,k),onTouchStart:jl(A,N)}]:[!1,R,{}]}function jl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function Ab({page:r,...e}){let{router:n}=GE(),s=H.useMemo(()=>ME(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?H.createElement(Rb,{page:r,matches:s,...e}):null}function bb(r){let{manifest:e,routeModules:n}=$E(),[s,o]=H.useState([]);return H.useEffect(()=>{let u=!1;return gb(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function Rb({page:r,matches:e,...n}){let s=gs(),{manifest:o,routeModules:u}=$E(),{basename:f}=GE(),{loaderData:m,matches:p}=Sb(),_=H.useMemo(()=>av(r,e,p,o,s,"data"),[r,e,p,o,s]),T=H.useMemo(()=>av(r,e,p,o,s,"assets"),[r,e,p,o,s]),A=H.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let k=new Set,$=!1;if(e.forEach(Y=>{var ee;let ne=o.routes[Y.route.id];!ne||!ne.hasLoader||(!_.some(me=>me.route.id===Y.route.id)&&Y.route.id in m&&((ee=u[Y.route.id])!=null&&ee.shouldRevalidate)||ne.hasClientLoader?$=!0:k.add(Y.route.id))}),k.size===0)return[];let q=Tb(r,f);return $&&k.size>0&&q.searchParams.set("_routes",e.filter(Y=>k.has(Y.route.id)).map(Y=>Y.route.id).join(",")),[q.pathname+q.search]},[f,m,s,o,_,e,r,u]),R=H.useMemo(()=>_b(T,o),[T,o]),N=bb(T);return H.createElement(H.Fragment,null,A.map(k=>H.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),R.map(k=>H.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),N.map(({key:k,link:$})=>H.createElement("link",{key:k,...$})))}function Cb(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var KE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{KE&&(window.__reactRouterVersion="7.3.0")}catch{}function Ib({basename:r,children:e,window:n}){let s=H.useRef();s.current==null&&(s.current=mA({window:n,v5Compat:!0}));let o=s.current,[u,f]=H.useState({action:o.action,location:o.location}),m=H.useCallback(p=>{H.startTransition(()=>f(p))},[f]);return H.useLayoutEffect(()=>o.listen(m),[o,m]),H.createElement(rb,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var QE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=H.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:_,preventScrollReset:T,viewTransition:A,...R},N){let{basename:k}=H.useContext(Ri),$=typeof _=="string"&&QE.test(_),q,Y=!1;if(typeof _=="string"&&$&&(q=_,KE))try{let b=new URL(window.location.href),x=_.startsWith("//")?new URL(b.protocol+_):new URL(_),P=or(x.pathname,k);x.origin===b.origin&&P!=null?_=P+x.search+x.hash:Y=!0}catch{Si(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=zA(_,{relative:o}),[ee,me,ue]=wb(s,R),be=Ob(_,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:A});function V(b){e&&e(b),b.defaultPrevented||be(b)}let C=H.createElement("a",{...R,...ue,href:q||ne,onClick:Y||u?e:V,ref:Cb(N,me),target:p,"data-discover":!$&&n==="render"?"true":void 0});return ee&&!$?H.createElement(H.Fragment,null,C,H.createElement(Ab,{page:ne})):C});_e.displayName="Link";var xb=H.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,..._},T){let A=uu(f,{relative:_.relative}),R=gs(),N=H.useContext(Ih),{navigator:k,basename:$}=H.useContext(Ri),q=N!=null&&Lb(A)&&m===!0,Y=k.encodeLocation?k.encodeLocation(A).pathname:A.pathname,ne=R.pathname,ee=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),ee=ee?ee.toLowerCase():null,Y=Y.toLowerCase()),ee&&$&&(ee=or(ee,$)||ee);const me=Y!=="/"&&Y.endsWith("/")?Y.length-1:Y.length;let ue=ne===Y||!o&&ne.startsWith(Y)&&ne.charAt(me)==="/",be=ee!=null&&(ee===Y||!o&&ee.startsWith(Y)&&ee.charAt(Y.length)==="/"),V={isActive:ue,isPending:be,isTransitioning:q},C=ue?e:void 0,b;typeof s=="function"?b=s(V):b=[s,ue?"active":null,be?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(V):u;return H.createElement(_e,{..._,"aria-current":C,className:b,ref:T,style:x,to:f,viewTransition:m},typeof p=="function"?p(V):p)});xb.displayName="NavLink";var Db=H.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=Wc,action:m,onSubmit:p,relative:_,preventScrollReset:T,viewTransition:A,...R},N)=>{let k=kb(),$=Pb(m,{relative:_}),q=f.toLowerCase()==="get"?"get":"post",Y=typeof m=="string"&&QE.test(m),ne=ee=>{if(p&&p(ee),ee.defaultPrevented)return;ee.preventDefault();let me=ee.nativeEvent.submitter,ue=(me==null?void 0:me.getAttribute("formmethod"))||f;k(me||ee.currentTarget,{fetcherKey:e,method:ue,navigate:n,replace:o,state:u,relative:_,preventScrollReset:T,viewTransition:A})};return H.createElement("form",{ref:N,method:q,action:$,onSubmit:s?p:ne,...R,"data-discover":!Y&&r==="render"?"true":void 0})});Db.displayName="Form";function Nb(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function YE(r){let e=H.useContext(So);return st(e,Nb(r)),e}function Ob(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=_s(),p=gs(),_=uu(r,{relative:u});return H.useCallback(T=>{if(cb(T,e)){T.preventDefault();let A=n!==void 0?n:Wl(p)===Wl(_);m(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,_,n,s,e,r,o,u,f])}var Mb=0,Vb=()=>`__${String(++Mb)}__`;function kb(){let{router:r}=YE("useSubmit"),{basename:e}=H.useContext(Ri),n=JA();return H.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:_}=db(s,e);if(o.navigate===!1){let T=o.fetcherKey||Vb();await r.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function Pb(r,{relative:e}={}){let{basename:n}=H.useContext(Ri),s=H.useContext(Ci);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...uu(r||".",{relative:e})},f=gs();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(A=>A).forEach(A=>m.append("index",A));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:rr([n,u.pathname])),Wl(u)}function Lb(r,e={}){let n=H.useContext(jE);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=YE("useViewTransitionState"),o=uu(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=or(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=or(n.nextLocation.pathname,s)||n.nextLocation.pathname;return uh(o.pathname,f)!=null||uh(o.pathname,u)!=null}new TextEncoder;const Ub="_container_pir9d_11",jb="_main_pir9d_29",zb="_logo_pir9d_43",Bb="_h2_pir9d_51",Hb="_happening_pir9d_61",qb="_nav_pir9d_73",Fb="_button_pir9d_87",Gb="_awesome_pir9d_123",$b="_separator_pir9d_229",Kb="_hr_pir9d_251",Qb="_terms_pir9d_259",Yb="_ul_pir9d_277",Xb="_li_pir9d_303",Wb="_flexli_pir9d_311",Oe={container:Ub,main:jb,logo:zb,h2:Bb,happening:Hb,nav:qb,button:Fb,awesome:Gb,separator:$b,hr:Kb,terms:Qb,ul:Yb,li:Xb,flexli:Wb};function Zb(){return E.jsxs("div",{className:Oe.container,children:[E.jsxs("main",{className:Oe.main,children:[E.jsx("h1",{className:Oe.logo,children:"At"}),E.jsxs("div",{children:[E.jsx("h1",{className:Oe.happening,children:"Happening now"}),E.jsx("h2",{className:Oe.h2,children:"Join Today."}),E.jsxs("nav",{className:Oe.nav,children:[E.jsxs(_e,{to:"/react-regular-exam/about",className:`${Oe.button} ${Oe.awesome}`,children:[E.jsx("i",{className:"fa-brands fa-google"}),"Sign up with Google"]}),E.jsxs(_e,{to:"/react-regular-exam/about",className:`${Oe.button} ${Oe.awesome}`,children:[E.jsx("i",{className:"fa-brands fa-apple"}),"Sign up with Apple"]}),E.jsxs("div",{className:Oe.separator,children:[E.jsx("hr",{className:Oe.hr}),E.jsx("p",{children:"or"}),E.jsx("hr",{className:Oe.hr})]}),E.jsx(_e,{to:"/react-regular-exam/create",className:Oe.button,children:"Create account"}),E.jsxs("p",{className:Oe.terms,children:["By signing up, you agree of the ",E.jsx(_e,{to:"/react-regular-exam/about",children:"Term of Service"}),"and ",E.jsx(_e,{to:"/react-regular-exam/about",children:"Privacy Policy"}),", incliding ",E.jsx(_e,{to:"/react-regular-exam/about",children:"Cookie Use."})]}),E.jsx("p",{id:"account",children:"Already have an account?"}),E.jsx(_e,{to:"/react-regular-exam/login",className:Oe.button,children:"Sign in"}),E.jsx("p",{children:"Take a look:"}),E.jsx(_e,{to:"/react-regular-exam/guest",className:Oe.button,children:"Guest"})]})]})]}),E.jsx("footer",{children:E.jsxs("ul",{className:Oe.ul,children:[E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"About"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Download the At app"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Help Center"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Terms of Service"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Privacy Policy"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Cookie Policy"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Accessibillity"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Ads Info"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Blog"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Careers"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Brand Resources"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Advertising"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Marketing"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"At for Business"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Developers"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Directory"})}),E.jsx("li",{className:Oe.li,children:E.jsx(_e,{to:"/react-regular-exam/about",children:"Settings"})}),E.jsx("li",{className:Oe.li,children:E.jsxs(_e,{to:"/react-regular-exam/about",className:Oe.flexli,href:"#",children:[E.jsx("i",{className:"fa-regular fa-copyright"}),"2025 X Corp"]})})]})})]})}const Jb="_container_t0tol_1",eR="_nav_t0tol_15",tR="_i_t0tol_25",nR="_main_t0tol_125",iR="_search_t0tol_143",rR="_meta_t0tol_181",sR="_post_t0tol_211",aR="_feedback_t0tol_245",mn={container:Jb,nav:eR,i:tR,main:nR,search:iR,meta:rR,post:sR,feedback:aR},oR=()=>{};var ov={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},lR=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},WE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,_=p?r[o+2]:0,T=u>>2,A=(u&3)<<4|m>>4;let R=(m&15)<<2|_>>6,N=_&63;p||(N=64,f||(R=64)),s.push(n[T],n[A],n[R],n[N])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(XE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):lR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const _=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||_==null||A==null)throw new uR;const R=u<<2|m>>4;if(s.push(R),_!==64){const N=m<<4&240|_>>2;if(s.push(N),A!==64){const k=_<<6&192|A;s.push(k)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class uR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const cR=function(r){const e=XE(r);return WE.encodeByteArray(e,!0)},ch=function(r){return cR(r).replace(/\./g,"")},ZE=function(r){try{return WE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=()=>hR().__FIREBASE_DEFAULTS__,dR=()=>{if(typeof process>"u"||typeof ov>"u")return;const r=ov.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},mR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&ZE(r[1]);return e&&JSON.parse(e)},Dh=()=>{try{return oR()||fR()||dR()||mR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},JE=r=>{var e,n;return(n=(e=Dh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},pR=r=>{const e=JE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},eT=()=>{var r;return(r=Dh())===null||r===void 0?void 0:r.config},tT=r=>{var e;return(e=Dh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _R(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[ch(JSON.stringify(n)),ch(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function vR(){var r;const e=(r=Dh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ER(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function SR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wR(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function AR(){return!vR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bR(){try{return typeof indexedDB=="object"}catch{return!1}}function RR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CR="FirebaseError";class fr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=CR,Object.setPrototypeOf(this,fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?IR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new fr(o,m,s)}}function IR(r,e){return r.replace(xR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const xR=/\{\$([^}]+)}/g;function DR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ls(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(lv(u)&&lv(f)){if(!ls(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function lv(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function zl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Bl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function NR(r,e){const n=new OR(r,e);return n.subscribe.bind(n)}class OR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");MR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=rm),o.error===void 0&&(o.error=rm),o.complete===void 0&&(o.complete=rm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function rm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(r){return r&&r._delegate?r._delegate:r}class ia{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ta="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new gR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(PR(e))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ta){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ta){return this.instances.has(e)}getOptions(e=ta){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:kR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ta){return this.component?this.component.multipleInstances?e:ta:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kR(r){return r===ta?void 0:r}function PR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const UR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},jR=Me.INFO,zR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},BR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=zR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ym{constructor(e){this.name=e,this._logLevel=jR,this._logHandler=BR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?UR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const HR=(r,e)=>e.some(n=>r instanceof n);let uv,cv;function qR(){return uv||(uv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function FR(){return cv||(cv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const nT=new WeakMap,ym=new WeakMap,iT=new WeakMap,sm=new WeakMap,Xm=new WeakMap;function GR(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(is(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&nT.set(n,r)}).catch(()=>{}),Xm.set(e,r),e}function $R(r){if(ym.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});ym.set(r,e)}let vm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return ym.get(r);if(e==="objectStoreNames")return r.objectStoreNames||iT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return is(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function KR(r){vm=r(vm)}function QR(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(am(this),e,...n);return iT.set(s,e.sort?e.sort():[e]),is(s)}:FR().includes(r)?function(...e){return r.apply(am(this),e),is(nT.get(this))}:function(...e){return is(r.apply(am(this),e))}}function YR(r){return typeof r=="function"?QR(r):(r instanceof IDBTransaction&&$R(r),HR(r,qR())?new Proxy(r,vm):r)}function is(r){if(r instanceof IDBRequest)return GR(r);if(sm.has(r))return sm.get(r);const e=YR(r);return e!==r&&(sm.set(r,e),Xm.set(e,r)),e}const am=r=>Xm.get(r);function XR(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=is(f);return s&&f.addEventListener("upgradeneeded",p=>{s(is(f.result),p.oldVersion,p.newVersion,is(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const WR=["get","getKey","getAll","getAllKeys","count"],ZR=["put","add","delete","clear"],om=new Map;function hv(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(om.get(e))return om.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=ZR.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||WR.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),o&&p.done]))[0]};return om.set(e,u),u}KR(r=>({...r,get:(e,n,s)=>hv(e,n)||r.get(e,n,s),has:(e,n)=>!!hv(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(e1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function e1(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Em="@firebase/app",fv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr=new Ym("@firebase/app"),t1="@firebase/app-compat",n1="@firebase/analytics-compat",i1="@firebase/analytics",r1="@firebase/app-check-compat",s1="@firebase/app-check",a1="@firebase/auth",o1="@firebase/auth-compat",l1="@firebase/database",u1="@firebase/data-connect",c1="@firebase/database-compat",h1="@firebase/functions",f1="@firebase/functions-compat",d1="@firebase/installations",m1="@firebase/installations-compat",p1="@firebase/messaging",g1="@firebase/messaging-compat",_1="@firebase/performance",y1="@firebase/performance-compat",v1="@firebase/remote-config",E1="@firebase/remote-config-compat",T1="@firebase/storage",S1="@firebase/storage-compat",w1="@firebase/firestore",A1="@firebase/vertexai",b1="@firebase/firestore-compat",R1="firebase",C1="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm="[DEFAULT]",I1={[Em]:"fire-core",[t1]:"fire-core-compat",[i1]:"fire-analytics",[n1]:"fire-analytics-compat",[s1]:"fire-app-check",[r1]:"fire-app-check-compat",[a1]:"fire-auth",[o1]:"fire-auth-compat",[l1]:"fire-rtdb",[u1]:"fire-data-connect",[c1]:"fire-rtdb-compat",[h1]:"fire-fn",[f1]:"fire-fn-compat",[d1]:"fire-iid",[m1]:"fire-iid-compat",[p1]:"fire-fcm",[g1]:"fire-fcm-compat",[_1]:"fire-perf",[y1]:"fire-perf-compat",[v1]:"fire-rc",[E1]:"fire-rc-compat",[T1]:"fire-gcs",[S1]:"fire-gcs-compat",[w1]:"fire-fst",[b1]:"fire-fst-compat",[A1]:"fire-vertex","fire-js":"fire-js",[R1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hh=new Map,x1=new Map,Sm=new Map;function dv(r,e){try{r.container.addComponent(e)}catch(n){lr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function ho(r){const e=r.name;if(Sm.has(e))return lr.debug(`There were multiple attempts to register component ${e}.`),!1;Sm.set(e,r);for(const n of hh.values())dv(n,r);for(const n of x1.values())dv(n,r);return!0}function Wm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Gn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new cu("app","Firebase",D1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wo=C1;function rT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Tm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw rs.create("bad-app-name",{appName:String(o)});if(n||(n=eT()),!n)throw rs.create("no-options");const u=hh.get(o);if(u){if(ls(n,u.options)&&ls(s,u.config))return u;throw rs.create("duplicate-app",{appName:o})}const f=new LR(o);for(const p of Sm.values())f.addComponent(p);const m=new N1(n,s,f);return hh.set(o,m),m}function sT(r=Tm){const e=hh.get(r);if(!e&&r===Tm&&eT())return rT();if(!e)throw rs.create("no-app",{appName:r});return e}function ss(r,e,n){var s;let o=(s=I1[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),lr.warn(m.join(" "));return}ho(new ia(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="firebase-heartbeat-database",M1=1,Zl="firebase-heartbeat-store";let lm=null;function aT(){return lm||(lm=XR(O1,M1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Zl)}catch(n){console.warn(n)}}}}).catch(r=>{throw rs.create("idb-open",{originalErrorMessage:r.message})})),lm}async function V1(r){try{const n=(await aT()).transaction(Zl),s=await n.objectStore(Zl).get(oT(r));return await n.done,s}catch(e){if(e instanceof fr)lr.warn(e.message);else{const n=rs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});lr.warn(n.message)}}}async function mv(r,e){try{const s=(await aT()).transaction(Zl,"readwrite");await s.objectStore(Zl).put(e,oT(r)),await s.done}catch(n){if(n instanceof fr)lr.warn(n.message);else{const s=rs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});lr.warn(s.message)}}}function oT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1=1024,P1=30;class L1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new j1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=pv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>P1){const f=z1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){lr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=pv(),{heartbeatsToSend:s,unsentEntries:o}=U1(this._heartbeatsCache.heartbeats),u=ch(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return lr.warn(n),""}}}function pv(){return new Date().toISOString().substring(0,10)}function U1(r,e=k1){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),gv(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),gv(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class j1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bR()?RR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await V1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return mv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return mv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function gv(r){return ch(JSON.stringify({version:2,heartbeats:r})).length}function z1(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(r){ho(new ia("platform-logger",e=>new JR(e),"PRIVATE")),ho(new ia("heartbeat",e=>new L1(e),"PRIVATE")),ss(Em,fv,r),ss(Em,fv,"esm2017"),ss("fire-js","")}B1("");var _v=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var as,lT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(V,C){function b(){}b.prototype=C.prototype,V.D=C.prototype,V.prototype=new b,V.prototype.constructor=V,V.C=function(x,P,z){for(var D=Array(arguments.length-2),St=2;St<arguments.length;St++)D[St-2]=arguments[St];return C.prototype[P].apply(x,D)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(V,C,b){b||(b=0);var x=Array(16);if(typeof C=="string")for(var P=0;16>P;++P)x[P]=C.charCodeAt(b++)|C.charCodeAt(b++)<<8|C.charCodeAt(b++)<<16|C.charCodeAt(b++)<<24;else for(P=0;16>P;++P)x[P]=C[b++]|C[b++]<<8|C[b++]<<16|C[b++]<<24;C=V.g[0],b=V.g[1],P=V.g[2];var z=V.g[3],D=C+(z^b&(P^z))+x[0]+3614090360&4294967295;C=b+(D<<7&4294967295|D>>>25),D=z+(P^C&(b^P))+x[1]+3905402710&4294967295,z=C+(D<<12&4294967295|D>>>20),D=P+(b^z&(C^b))+x[2]+606105819&4294967295,P=z+(D<<17&4294967295|D>>>15),D=b+(C^P&(z^C))+x[3]+3250441966&4294967295,b=P+(D<<22&4294967295|D>>>10),D=C+(z^b&(P^z))+x[4]+4118548399&4294967295,C=b+(D<<7&4294967295|D>>>25),D=z+(P^C&(b^P))+x[5]+1200080426&4294967295,z=C+(D<<12&4294967295|D>>>20),D=P+(b^z&(C^b))+x[6]+2821735955&4294967295,P=z+(D<<17&4294967295|D>>>15),D=b+(C^P&(z^C))+x[7]+4249261313&4294967295,b=P+(D<<22&4294967295|D>>>10),D=C+(z^b&(P^z))+x[8]+1770035416&4294967295,C=b+(D<<7&4294967295|D>>>25),D=z+(P^C&(b^P))+x[9]+2336552879&4294967295,z=C+(D<<12&4294967295|D>>>20),D=P+(b^z&(C^b))+x[10]+4294925233&4294967295,P=z+(D<<17&4294967295|D>>>15),D=b+(C^P&(z^C))+x[11]+2304563134&4294967295,b=P+(D<<22&4294967295|D>>>10),D=C+(z^b&(P^z))+x[12]+1804603682&4294967295,C=b+(D<<7&4294967295|D>>>25),D=z+(P^C&(b^P))+x[13]+4254626195&4294967295,z=C+(D<<12&4294967295|D>>>20),D=P+(b^z&(C^b))+x[14]+2792965006&4294967295,P=z+(D<<17&4294967295|D>>>15),D=b+(C^P&(z^C))+x[15]+1236535329&4294967295,b=P+(D<<22&4294967295|D>>>10),D=C+(P^z&(b^P))+x[1]+4129170786&4294967295,C=b+(D<<5&4294967295|D>>>27),D=z+(b^P&(C^b))+x[6]+3225465664&4294967295,z=C+(D<<9&4294967295|D>>>23),D=P+(C^b&(z^C))+x[11]+643717713&4294967295,P=z+(D<<14&4294967295|D>>>18),D=b+(z^C&(P^z))+x[0]+3921069994&4294967295,b=P+(D<<20&4294967295|D>>>12),D=C+(P^z&(b^P))+x[5]+3593408605&4294967295,C=b+(D<<5&4294967295|D>>>27),D=z+(b^P&(C^b))+x[10]+38016083&4294967295,z=C+(D<<9&4294967295|D>>>23),D=P+(C^b&(z^C))+x[15]+3634488961&4294967295,P=z+(D<<14&4294967295|D>>>18),D=b+(z^C&(P^z))+x[4]+3889429448&4294967295,b=P+(D<<20&4294967295|D>>>12),D=C+(P^z&(b^P))+x[9]+568446438&4294967295,C=b+(D<<5&4294967295|D>>>27),D=z+(b^P&(C^b))+x[14]+3275163606&4294967295,z=C+(D<<9&4294967295|D>>>23),D=P+(C^b&(z^C))+x[3]+4107603335&4294967295,P=z+(D<<14&4294967295|D>>>18),D=b+(z^C&(P^z))+x[8]+1163531501&4294967295,b=P+(D<<20&4294967295|D>>>12),D=C+(P^z&(b^P))+x[13]+2850285829&4294967295,C=b+(D<<5&4294967295|D>>>27),D=z+(b^P&(C^b))+x[2]+4243563512&4294967295,z=C+(D<<9&4294967295|D>>>23),D=P+(C^b&(z^C))+x[7]+1735328473&4294967295,P=z+(D<<14&4294967295|D>>>18),D=b+(z^C&(P^z))+x[12]+2368359562&4294967295,b=P+(D<<20&4294967295|D>>>12),D=C+(b^P^z)+x[5]+4294588738&4294967295,C=b+(D<<4&4294967295|D>>>28),D=z+(C^b^P)+x[8]+2272392833&4294967295,z=C+(D<<11&4294967295|D>>>21),D=P+(z^C^b)+x[11]+1839030562&4294967295,P=z+(D<<16&4294967295|D>>>16),D=b+(P^z^C)+x[14]+4259657740&4294967295,b=P+(D<<23&4294967295|D>>>9),D=C+(b^P^z)+x[1]+2763975236&4294967295,C=b+(D<<4&4294967295|D>>>28),D=z+(C^b^P)+x[4]+1272893353&4294967295,z=C+(D<<11&4294967295|D>>>21),D=P+(z^C^b)+x[7]+4139469664&4294967295,P=z+(D<<16&4294967295|D>>>16),D=b+(P^z^C)+x[10]+3200236656&4294967295,b=P+(D<<23&4294967295|D>>>9),D=C+(b^P^z)+x[13]+681279174&4294967295,C=b+(D<<4&4294967295|D>>>28),D=z+(C^b^P)+x[0]+3936430074&4294967295,z=C+(D<<11&4294967295|D>>>21),D=P+(z^C^b)+x[3]+3572445317&4294967295,P=z+(D<<16&4294967295|D>>>16),D=b+(P^z^C)+x[6]+76029189&4294967295,b=P+(D<<23&4294967295|D>>>9),D=C+(b^P^z)+x[9]+3654602809&4294967295,C=b+(D<<4&4294967295|D>>>28),D=z+(C^b^P)+x[12]+3873151461&4294967295,z=C+(D<<11&4294967295|D>>>21),D=P+(z^C^b)+x[15]+530742520&4294967295,P=z+(D<<16&4294967295|D>>>16),D=b+(P^z^C)+x[2]+3299628645&4294967295,b=P+(D<<23&4294967295|D>>>9),D=C+(P^(b|~z))+x[0]+4096336452&4294967295,C=b+(D<<6&4294967295|D>>>26),D=z+(b^(C|~P))+x[7]+1126891415&4294967295,z=C+(D<<10&4294967295|D>>>22),D=P+(C^(z|~b))+x[14]+2878612391&4294967295,P=z+(D<<15&4294967295|D>>>17),D=b+(z^(P|~C))+x[5]+4237533241&4294967295,b=P+(D<<21&4294967295|D>>>11),D=C+(P^(b|~z))+x[12]+1700485571&4294967295,C=b+(D<<6&4294967295|D>>>26),D=z+(b^(C|~P))+x[3]+2399980690&4294967295,z=C+(D<<10&4294967295|D>>>22),D=P+(C^(z|~b))+x[10]+4293915773&4294967295,P=z+(D<<15&4294967295|D>>>17),D=b+(z^(P|~C))+x[1]+2240044497&4294967295,b=P+(D<<21&4294967295|D>>>11),D=C+(P^(b|~z))+x[8]+1873313359&4294967295,C=b+(D<<6&4294967295|D>>>26),D=z+(b^(C|~P))+x[15]+4264355552&4294967295,z=C+(D<<10&4294967295|D>>>22),D=P+(C^(z|~b))+x[6]+2734768916&4294967295,P=z+(D<<15&4294967295|D>>>17),D=b+(z^(P|~C))+x[13]+1309151649&4294967295,b=P+(D<<21&4294967295|D>>>11),D=C+(P^(b|~z))+x[4]+4149444226&4294967295,C=b+(D<<6&4294967295|D>>>26),D=z+(b^(C|~P))+x[11]+3174756917&4294967295,z=C+(D<<10&4294967295|D>>>22),D=P+(C^(z|~b))+x[2]+718787259&4294967295,P=z+(D<<15&4294967295|D>>>17),D=b+(z^(P|~C))+x[9]+3951481745&4294967295,V.g[0]=V.g[0]+C&4294967295,V.g[1]=V.g[1]+(P+(D<<21&4294967295|D>>>11))&4294967295,V.g[2]=V.g[2]+P&4294967295,V.g[3]=V.g[3]+z&4294967295}s.prototype.u=function(V,C){C===void 0&&(C=V.length);for(var b=C-this.blockSize,x=this.B,P=this.h,z=0;z<C;){if(P==0)for(;z<=b;)o(this,V,z),z+=this.blockSize;if(typeof V=="string"){for(;z<C;)if(x[P++]=V.charCodeAt(z++),P==this.blockSize){o(this,x),P=0;break}}else for(;z<C;)if(x[P++]=V[z++],P==this.blockSize){o(this,x),P=0;break}}this.h=P,this.o+=C},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var C=1;C<V.length-8;++C)V[C]=0;var b=8*this.o;for(C=V.length-8;C<V.length;++C)V[C]=b&255,b/=256;for(this.u(V),V=Array(16),C=b=0;4>C;++C)for(var x=0;32>x;x+=8)V[b++]=this.g[C]>>>x&255;return V};function u(V,C){var b=m;return Object.prototype.hasOwnProperty.call(b,V)?b[V]:b[V]=C(V)}function f(V,C){this.h=C;for(var b=[],x=!0,P=V.length-1;0<=P;P--){var z=V[P]|0;x&&z==C||(b[P]=z,x=!1)}this.g=b}var m={};function p(V){return-128<=V&&128>V?u(V,function(C){return new f([C|0],0>C?-1:0)}):new f([V|0],0>V?-1:0)}function _(V){if(isNaN(V)||!isFinite(V))return A;if(0>V)return q(_(-V));for(var C=[],b=1,x=0;V>=b;x++)C[x]=V/b|0,b*=4294967296;return new f(C,0)}function T(V,C){if(V.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(V.charAt(0)=="-")return q(T(V.substring(1),C));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=_(Math.pow(C,8)),x=A,P=0;P<V.length;P+=8){var z=Math.min(8,V.length-P),D=parseInt(V.substring(P,P+z),C);8>z?(z=_(Math.pow(C,z)),x=x.j(z).add(_(D))):(x=x.j(b),x=x.add(_(D)))}return x}var A=p(0),R=p(1),N=p(16777216);r=f.prototype,r.m=function(){if($(this))return-q(this).m();for(var V=0,C=1,b=0;b<this.g.length;b++){var x=this.i(b);V+=(0<=x?x:4294967296+x)*C,C*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(k(this))return"0";if($(this))return"-"+q(this).toString(V);for(var C=_(Math.pow(V,6)),b=this,x="";;){var P=me(b,C).g;b=Y(b,P.j(C));var z=((0<b.g.length?b.g[0]:b.h)>>>0).toString(V);if(b=P,k(b))return z+x;for(;6>z.length;)z="0"+z;x=z+x}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function k(V){if(V.h!=0)return!1;for(var C=0;C<V.g.length;C++)if(V.g[C]!=0)return!1;return!0}function $(V){return V.h==-1}r.l=function(V){return V=Y(this,V),$(V)?-1:k(V)?0:1};function q(V){for(var C=V.g.length,b=[],x=0;x<C;x++)b[x]=~V.g[x];return new f(b,~V.h).add(R)}r.abs=function(){return $(this)?q(this):this},r.add=function(V){for(var C=Math.max(this.g.length,V.g.length),b=[],x=0,P=0;P<=C;P++){var z=x+(this.i(P)&65535)+(V.i(P)&65535),D=(z>>>16)+(this.i(P)>>>16)+(V.i(P)>>>16);x=D>>>16,z&=65535,D&=65535,b[P]=D<<16|z}return new f(b,b[b.length-1]&-2147483648?-1:0)};function Y(V,C){return V.add(q(C))}r.j=function(V){if(k(this)||k(V))return A;if($(this))return $(V)?q(this).j(q(V)):q(q(this).j(V));if($(V))return q(this.j(q(V)));if(0>this.l(N)&&0>V.l(N))return _(this.m()*V.m());for(var C=this.g.length+V.g.length,b=[],x=0;x<2*C;x++)b[x]=0;for(x=0;x<this.g.length;x++)for(var P=0;P<V.g.length;P++){var z=this.i(x)>>>16,D=this.i(x)&65535,St=V.i(P)>>>16,gt=V.i(P)&65535;b[2*x+2*P]+=D*gt,ne(b,2*x+2*P),b[2*x+2*P+1]+=z*gt,ne(b,2*x+2*P+1),b[2*x+2*P+1]+=D*St,ne(b,2*x+2*P+1),b[2*x+2*P+2]+=z*St,ne(b,2*x+2*P+2)}for(x=0;x<C;x++)b[x]=b[2*x+1]<<16|b[2*x];for(x=C;x<2*C;x++)b[x]=0;return new f(b,0)};function ne(V,C){for(;(V[C]&65535)!=V[C];)V[C+1]+=V[C]>>>16,V[C]&=65535,C++}function ee(V,C){this.g=V,this.h=C}function me(V,C){if(k(C))throw Error("division by zero");if(k(V))return new ee(A,A);if($(V))return C=me(q(V),C),new ee(q(C.g),q(C.h));if($(C))return C=me(V,q(C)),new ee(q(C.g),C.h);if(30<V.g.length){if($(V)||$(C))throw Error("slowDivide_ only works with positive integers.");for(var b=R,x=C;0>=x.l(V);)b=ue(b),x=ue(x);var P=be(b,1),z=be(x,1);for(x=be(x,2),b=be(b,2);!k(x);){var D=z.add(x);0>=D.l(V)&&(P=P.add(b),z=D),x=be(x,1),b=be(b,1)}return C=Y(V,P.j(C)),new ee(P,C)}for(P=A;0<=V.l(C);){for(b=Math.max(1,Math.floor(V.m()/C.m())),x=Math.ceil(Math.log(b)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),z=_(b),D=z.j(C);$(D)||0<D.l(V);)b-=x,z=_(b),D=z.j(C);k(z)&&(z=R),P=P.add(z),V=Y(V,D)}return new ee(P,V)}r.A=function(V){return me(this,V).h},r.and=function(V){for(var C=Math.max(this.g.length,V.g.length),b=[],x=0;x<C;x++)b[x]=this.i(x)&V.i(x);return new f(b,this.h&V.h)},r.or=function(V){for(var C=Math.max(this.g.length,V.g.length),b=[],x=0;x<C;x++)b[x]=this.i(x)|V.i(x);return new f(b,this.h|V.h)},r.xor=function(V){for(var C=Math.max(this.g.length,V.g.length),b=[],x=0;x<C;x++)b[x]=this.i(x)^V.i(x);return new f(b,this.h^V.h)};function ue(V){for(var C=V.g.length+1,b=[],x=0;x<C;x++)b[x]=V.i(x)<<1|V.i(x-1)>>>31;return new f(b,V.h)}function be(V,C){var b=C>>5;C%=32;for(var x=V.g.length-b,P=[],z=0;z<x;z++)P[z]=0<C?V.i(z+b)>>>C|V.i(z+b+1)<<32-C:V.i(z+b);return new f(P,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,lT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=T,as=f}).apply(typeof _v<"u"?_v:typeof self<"u"?self:typeof window<"u"?window:{});var Fc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var uT,Hl,cT,Jc,wm,hT,fT,dT;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,y){return c==Array.prototype||c==Object.prototype||(c[g]=y.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fc=="object"&&Fc];for(var g=0;g<c.length;++g){var y=c[g];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var y=s;c=c.split(".");for(var w=0;w<c.length-1;w++){var j=c[w];if(!(j in y))break e;y=y[j]}c=c[c.length-1],w=y[c],g=g(w),g!=w&&g!=null&&e(y,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var y=0,w=!1,j={next:function(){if(!w&&y<c.length){var G=y++;return{value:g(G,c[G]),done:!1}}return w=!0,{done:!0,value:void 0}}};return j[Symbol.iterator]=function(){return j},j}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function _(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function T(c,g,y){return c.call.apply(c.bind,arguments)}function A(c,g,y){if(!c)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var j=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(j,w),c.apply(g,j)}}return function(){return c.apply(g,arguments)}}function R(c,g,y){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:A,R.apply(null,arguments)}function N(c,g){var y=Array.prototype.slice.call(arguments,1);return function(){var w=y.slice();return w.push.apply(w,arguments),c.apply(this,w)}}function k(c,g){function y(){}y.prototype=g.prototype,c.aa=g.prototype,c.prototype=new y,c.prototype.constructor=c,c.Qb=function(w,j,G){for(var ie=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)ie[Le-2]=arguments[Le];return g.prototype[j].apply(w,ie)}}function $(c){const g=c.length;if(0<g){const y=Array(g);for(let w=0;w<g;w++)y[w]=c[w];return y}return[]}function q(c,g){for(let y=1;y<arguments.length;y++){const w=arguments[y];if(p(w)){const j=c.length||0,G=w.length||0;c.length=j+G;for(let ie=0;ie<G;ie++)c[j+ie]=w[ie]}else c.push(w)}}class Y{constructor(g,y){this.i=g,this.j=y,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function ne(c){return/^[\s\xa0]*$/.test(c)}function ee(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function me(c){return me[" "](c),c}me[" "]=function(){};var ue=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function be(c,g,y){for(const w in c)g.call(y,c[w],w,c)}function V(c,g){for(const y in c)g.call(void 0,c[y],y,c)}function C(c){const g={};for(const y in c)g[y]=c[y];return g}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,g){let y,w;for(let j=1;j<arguments.length;j++){w=arguments[j];for(y in w)c[y]=w[y];for(let G=0;G<b.length;G++)y=b[G],Object.prototype.hasOwnProperty.call(w,y)&&(c[y]=w[y])}}function P(c){var g=1;c=c.split(":");const y=[];for(;0<g&&c.length;)y.push(c.shift()),g--;return c.length&&y.push(c.join(":")),y}function z(c){m.setTimeout(()=>{throw c},0)}function D(){var c=Ge;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class St{constructor(){this.h=this.g=null}add(g,y){const w=gt.get();w.set(g,y),this.h?this.h.next=w:this.g=w,this.h=w}}var gt=new Y(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(g,y){this.h=g,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,pe=!1,Ge=new St,O=()=>{const c=m.Promise.resolve(void 0);Ee=()=>{c.then(te)}};var te=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(y){z(y)}var g=gt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}pe=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function se(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}se.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const y=()=>{};m.addEventListener("test",y,g),m.removeEventListener("test",y,g)}catch{}return c}();function Ie(c,g){if(se.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var y=this.type=c.type,w=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ue){e:{try{me(g.nodeName);var j=!0;break e}catch{}j=!1}j||(g=null)}}else y=="mouseover"?g=c.fromElement:y=="mouseout"&&(g=c.toElement);this.relatedTarget=g,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Re[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}k(Ie,se);var Re={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var _t="closure_listenable_"+(1e6*Math.random()|0),Be=0;function ot(c,g,y,w,j){this.listener=c,this.proxy=null,this.src=g,this.type=y,this.capture=!!w,this.ha=j,this.key=++Be,this.da=this.fa=!1}function Qe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function rn(c){this.src=c,this.g={},this.h=0}rn.prototype.add=function(c,g,y,w,j){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var ie=Cn(c,g,w,j);return-1<ie?(g=c[ie],y||(g.fa=!1)):(g=new ot(g,this.src,G,!!w,j),g.fa=y,c.push(g)),g};function Ii(c,g){var y=g.type;if(y in c.g){var w=c.g[y],j=Array.prototype.indexOf.call(w,g,void 0),G;(G=0<=j)&&Array.prototype.splice.call(w,j,1),G&&(Qe(g),c.g[y].length==0&&(delete c.g[y],c.h--))}}function Cn(c,g,y,w){for(var j=0;j<c.length;++j){var G=c[j];if(!G.da&&G.listener==g&&G.capture==!!y&&G.ha==w)return j}return-1}var dr="closure_lm_"+(1e6*Math.random()|0),mr={};function xi(c,g,y,w,j){if(Array.isArray(g)){for(var G=0;G<g.length;G++)xi(c,g[G],y,w,j);return null}return y=Su(y),c&&c[_t]?c.K(g,y,_(w)?!!w.capture:!1,j):No(c,g,y,!1,w,j)}function No(c,g,y,w,j,G){if(!g)throw Error("Invalid event type");var ie=_(j)?!!j.capture:!!j,Le=Oo(c);if(Le||(c[dr]=Le=new rn(c)),y=Le.add(g,y,w,ie,G),y.proxy)return y;if(w=fa(),y.proxy=w,w.src=c,w.listener=y,c.addEventListener)ae||(j=ie),j===void 0&&(j=!1),c.addEventListener(g.toString(),w,j);else if(c.attachEvent)c.attachEvent(ma(g.toString()),w);else if(c.addListener&&c.removeListener)c.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return y}function fa(){function c(y){return g.call(c.src,c.listener,y)}const g=Wh;return c}function da(c,g,y,w,j){if(Array.isArray(g))for(var G=0;G<g.length;G++)da(c,g[G],y,w,j);else w=_(w)?!!w.capture:!!w,y=Su(y),c&&c[_t]?(c=c.i,g=String(g).toString(),g in c.g&&(G=c.g[g],y=Cn(G,y,w,j),-1<y&&(Qe(G[y]),Array.prototype.splice.call(G,y,1),G.length==0&&(delete c.g[g],c.h--)))):c&&(c=Oo(c))&&(g=c.g[g.toString()],c=-1,g&&(c=Cn(g,y,w,j)),(y=-1<c?g[c]:null)&&Ss(y))}function Ss(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[_t])Ii(g.i,c);else{var y=c.type,w=c.proxy;g.removeEventListener?g.removeEventListener(y,w,c.capture):g.detachEvent?g.detachEvent(ma(y),w):g.addListener&&g.removeListener&&g.removeListener(w),(y=Oo(g))?(Ii(y,c),y.h==0&&(y.src=null,g[dr]=null)):Qe(c)}}}function ma(c){return c in mr?mr[c]:mr[c]="on"+c}function Wh(c,g){if(c.da)c=!0;else{g=new Ie(g,this);var y=c.listener,w=c.ha||c.src;c.fa&&Ss(c),c=y.call(w,g)}return c}function Oo(c){return c=c[dr],c instanceof rn?c:null}var hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Su(c){return typeof c=="function"?c:(c[hn]||(c[hn]=function(g){return c.handleEvent(g)}),c[hn])}function wt(){he.call(this),this.i=new rn(this),this.M=this,this.F=null}k(wt,he),wt.prototype[_t]=!0,wt.prototype.removeEventListener=function(c,g,y,w){da(this,c,g,y,w)};function Ot(c,g){var y,w=c.F;if(w)for(y=[];w;w=w.F)y.push(w);if(c=c.M,w=g.type||g,typeof g=="string")g=new se(g,c);else if(g instanceof se)g.target=g.target||c;else{var j=g;g=new se(w,c),x(g,j)}if(j=!0,y)for(var G=y.length-1;0<=G;G--){var ie=g.g=y[G];j=Di(ie,w,!0,g)&&j}if(ie=g.g=c,j=Di(ie,w,!0,g)&&j,j=Di(ie,w,!1,g)&&j,y)for(G=0;G<y.length;G++)ie=g.g=y[G],j=Di(ie,w,!1,g)&&j}wt.prototype.N=function(){if(wt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var y=c.g[g],w=0;w<y.length;w++)Qe(y[w]);delete c.g[g],c.h--}}this.F=null},wt.prototype.K=function(c,g,y,w){return this.i.add(String(c),g,!1,y,w)},wt.prototype.L=function(c,g,y,w){return this.i.add(String(c),g,!0,y,w)};function Di(c,g,y,w){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var j=!0,G=0;G<g.length;++G){var ie=g[G];if(ie&&!ie.da&&ie.capture==y){var Le=ie.listener,bt=ie.ha||ie.src;ie.fa&&Ii(c.i,ie),j=Le.call(bt,w)!==!1&&j}}return j&&!w.defaultPrevented}function wu(c,g,y){if(typeof c=="function")y&&(c=R(c,y));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function Mo(c){c.g=wu(()=>{c.g=null,c.i&&(c.i=!1,Mo(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Zh extends he{constructor(g,y){super(),this.m=g,this.l=y,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:Mo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ws(c){he.call(this),this.h=c,this.g={}}k(ws,he);var pr=[];function Qt(c){be(c.g,function(g,y){this.g.hasOwnProperty(y)&&Ss(g)},c),c.g={}}ws.prototype.N=function(){ws.aa.N.call(this),Qt(this)},ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Vo=m.JSON.stringify,ei=m.JSON.parse,sn=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function ko(){}ko.prototype.h=null;function Au(c){return c.h||(c.h=c.i())}function bu(){}var ti={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gr(){se.call(this,"d")}k(gr,se);function $n(){se.call(this,"c")}k($n,se);var In={},_r=null;function pa(){return _r=_r||new wt}In.La="serverreachability";function Po(c){se.call(this,In.La,c)}k(Po,se);function yr(c){const g=pa();Ot(g,new Po(g))}In.STAT_EVENT="statevent";function ga(c,g){se.call(this,In.STAT_EVENT,c),this.stat=g}k(ga,se);function dt(c){const g=pa();Ot(g,new ga(g,c))}In.Ma="timingevent";function Ru(c,g){se.call(this,In.Ma,c),this.size=g}k(Ru,se);function vr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function Er(){this.g=!0}Er.prototype.xa=function(){this.g=!1};function Cu(c,g,y,w,j,G){c.info(function(){if(c.g)if(G)for(var ie="",Le=G.split("&"),bt=0;bt<Le.length;bt++){var Ue=Le[bt].split("=");if(1<Ue.length){var kt=Ue[0];Ue=Ue[1];var Rt=kt.split("_");ie=2<=Rt.length&&Rt[1]=="type"?ie+(kt+"="+Ue+"&"):ie+(kt+"=redacted&")}}else ie=null;else ie=G;return"XMLHTTP REQ ("+w+") [attempt "+j+"]: "+g+`
`+y+`
`+ie})}function Iu(c,g,y,w,j,G,ie){c.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+j+"]: "+g+`
`+y+`
`+G+" "+ie})}function Tr(c,g,y,w){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Mt(c,y)+(w?" "+w:"")})}function ni(c,g){c.info(function(){return"TIMEOUT: "+g})}Er.prototype.info=function(){};function Mt(c,g){if(!c.g)return g;if(!g)return null;try{var y=JSON.parse(g);if(y){for(c=0;c<y.length;c++)if(Array.isArray(y[c])){var w=y[c];if(!(2>w.length)){var j=w[1];if(Array.isArray(j)&&!(1>j.length)){var G=j[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ie=1;ie<j.length;ie++)j[ie]=""}}}}return Vo(y)}catch{return g}}var At={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ni={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},As;function _a(){}k(_a,ko),_a.prototype.g=function(){return new XMLHttpRequest},_a.prototype.i=function(){return{}},As=new _a;function ii(c,g,y,w){this.j=c,this.i=g,this.l=y,this.R=w||1,this.U=new ws(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Lo}function Lo(){this.i=null,this.g="",this.h=!1}var Sr={},bs={};function Kn(c,g,y){c.L=1,c.v=Is(lt(g)),c.m=y,c.P=!0,Oi(c,null)}function Oi(c,g){c.F=Date.now(),nt(c),c.A=lt(c.v);var y=c.A,w=c.R;Array.isArray(w)||(w=[String(w)]),ki(y.i,"t",w),c.C=0,y=c.j.J,c.h=new Lo,c.g=Hu(c.j,y?g:null,!c.m),0<c.O&&(c.M=new Zh(R(c.Y,c,c.g),c.O)),g=c.U,y=c.g,w=c.ca;var j="readystatechange";Array.isArray(j)||(j&&(pr[0]=j.toString()),j=pr);for(var G=0;G<j.length;G++){var ie=xi(y,j[G],w||g.handleEvent,!1,g.h||g);if(!ie)break;g.g[ie.key]=ie}g=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),yr(),Cu(c.i,c.u,c.A,c.l,c.R,c.m)}ii.prototype.ca=function(c){c=c.target;const g=this.M;g&&Mn(c)==3?g.j():this.Y(c)},ii.prototype.Y=function(c){try{if(c==this.g)e:{const Rt=Mn(this.g);var g=this.g.Ba();const ji=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||Vu(this.g)))){this.J||Rt!=4||g==7||(g==8||0>=ji?yr(3):yr(2)),ya(this);var y=this.g.Z();this.X=y;t:if(wr(this)){var w=Vu(this.g);c="";var j=w.length,G=Mn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){fn(this),vn(this);var ie="";break t}this.h.i=new m.TextDecoder}for(g=0;g<j;g++)this.h.h=!0,c+=this.h.i.decode(w[g],{stream:!(G&&g==j-1)});w.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=y==200,Iu(this.i,this.u,this.A,this.l,this.R,Rt,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,bt=this.g;if((Le=bt.g?bt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ne(Le)){var Ue=Le;break t}}Ue=null}if(y=Ue)Tr(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,En(this,y);else{this.o=!1,this.s=3,dt(12),fn(this),vn(this);break e}}if(this.P){y=!0;let zt;for(;!this.J&&this.C<ie.length;)if(zt=Ar(this,ie),zt==bs){Rt==4&&(this.s=4,dt(14),y=!1),Tr(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Sr){this.s=4,dt(15),Tr(this.i,this.l,ie,"[Invalid Chunk]"),y=!1;break}else Tr(this.i,this.l,zt,null),En(this,zt);if(wr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||ie.length!=0||this.h.h||(this.s=1,dt(16),y=!1),this.o=this.o&&y,!y)Tr(this.i,this.l,ie,"[Invalid Chunked Response]"),fn(this),vn(this);else if(0<ie.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),ks(kt),kt.M=!0,dt(11))}}else Tr(this.i,this.l,ie,null),En(this,ie);Rt==4&&fn(this),this.o&&!this.J&&(Rt==4?ju(this.j,this):(this.o=!1,nt(this)))}else sf(this.g),y==400&&0<ie.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),fn(this),vn(this)}}}catch{}finally{}};function wr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ar(c,g){var y=c.C,w=g.indexOf(`
`,y);return w==-1?bs:(y=Number(g.substring(y,w)),isNaN(y)?Sr:(w+=1,w+y>g.length?bs:(g=g.slice(w,w+y),c.C=w+y,g)))}ii.prototype.cancel=function(){this.J=!0,fn(this)};function nt(c){c.S=Date.now()+c.I,Uo(c,c.I)}function Uo(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=vr(R(c.ba,c),g)}function ya(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ii.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ni(this.i,this.A),this.L!=2&&(yr(),dt(17)),fn(this),this.s=2,vn(this)):Uo(this,this.S-c)};function vn(c){c.j.G==0||c.J||ju(c.j,c)}function fn(c){ya(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Qt(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function En(c,g){try{var y=c.j;if(y.G!=0&&(y.g==c||br(y.h,c))){if(!c.K&&br(y.h,c)&&y.G==3){try{var w=y.Da.g.parse(g)}catch{w=null}if(Array.isArray(w)&&w.length==3){var j=w;if(j[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<c.F)Ia(y),Ra(y);else break e;Yo(y),dt(18)}}else y.za=j[1],0<y.za-y.T&&37500>j[2]&&y.F&&y.v==0&&!y.C&&(y.C=vr(R(y.Za,y),6e3));if(1>=xu(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else Ui(y,11)}else if((c.K||y.g==c)&&Ia(y),!ne(g))for(j=y.Da.g.parse(g),g=0;g<j.length;g++){let Ue=j[g];if(y.T=Ue[0],Ue=Ue[1],y.G==2)if(Ue[0]=="c"){y.K=Ue[1],y.ia=Ue[2];const kt=Ue[3];kt!=null&&(y.la=kt,y.j.info("VER="+y.la));const Rt=Ue[4];Rt!=null&&(y.Aa=Rt,y.j.info("SVER="+y.Aa));const ji=Ue[5];ji!=null&&typeof ji=="number"&&0<ji&&(w=1.5*ji,y.L=w,y.j.info("backChannelRequestTimeoutMs_="+w)),w=y;const zt=c.g;if(zt){const ci=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ci){var G=w.h;G.g||ci.indexOf("spdy")==-1&&ci.indexOf("quic")==-1&&ci.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Rr(G,G.h),G.h=null))}if(w.D){const Wo=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Wo&&(w.ya=Wo,He(w.I,w.D,Wo))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-c.F,y.j.info("Handshake RTT: "+y.R+"ms")),w=y;var ie=c;if(w.qa=Bu(w,w.J?w.ia:null,w.W),ie.K){xn(w.h,ie);var Le=ie,bt=w.L;bt&&(Le.I=bt),Le.B&&(ya(Le),nt(Le)),w.g=ie}else Lu(w);0<y.i.length&&Ca(y)}else Ue[0]!="stop"&&Ue[0]!="close"||Ui(y,7);else y.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Ui(y,7):Ko(y):Ue[0]!="noop"&&y.l&&y.l.ta(Ue),y.v=0)}}yr(4)}catch{}}var Jh=class{constructor(c,g){this.g=c,this.map=g}};function jo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function zo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function xu(c){return c.h?1:c.g?c.g.size:0}function br(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Rr(c,g){c.g?c.g.add(g):c.h=g}function xn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}jo.prototype.cancel=function(){if(this.i=an(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function an(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const y of c.g.values())g=g.concat(y.D);return g}return $(c.i)}function Du(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],y=c.length,w=0;w<y;w++)g.push(c[w]);return g}g=[],y=0;for(w in c)g[y++]=c[w];return g}function ef(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var y=0;y<c;y++)g.push(y);return g}g=[],y=0;for(const w in c)g[y++]=w;return g}}}function Rs(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var y=ef(c),w=Du(c),j=w.length,G=0;G<j;G++)g.call(void 0,w[G],y&&y[G],c)}var Bo=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function va(c,g){if(c){c=c.split("&");for(var y=0;y<c.length;y++){var w=c[y].indexOf("="),j=null;if(0<=w){var G=c[y].substring(0,w);j=c[y].substring(w+1)}else G=c[y];g(G,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function Mi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Mi){this.h=c.h,Cr(this,c.j),this.o=c.o,this.g=c.g,Cs(this,c.s),this.l=c.l;var g=c.i,y=new ri;y.i=g.i,g.g&&(y.g=new Map(g.g),y.h=g.h),Ea(this,y),this.m=c.m}else c&&(g=String(c).match(Bo))?(this.h=!1,Cr(this,g[1]||"",!0),this.o=Ir(g[2]||""),this.g=Ir(g[3]||"",!0),Cs(this,g[4]),this.l=Ir(g[5]||"",!0),Ea(this,g[6]||"",!0),this.m=Ir(g[7]||"")):(this.h=!1,this.i=new ri(null,this.h))}Mi.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Dn(g,Ho,!0),":");var y=this.g;return(y||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Dn(g,Ho,!0),"@"),c.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&c.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&c.push("/"),c.push(Dn(y,y.charAt(0)=="/"?qo:Nu,!0))),(y=this.i.toString())&&c.push("?",y),(y=this.m)&&c.push("#",Dn(y,rf)),c.join("")};function lt(c){return new Mi(c)}function Cr(c,g,y){c.j=y?Ir(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Cs(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Ea(c,g,y){g instanceof ri?(c.i=g,Fo(c.i,c.h)):(y||(g=Dn(g,nf)),c.i=new ri(g,c.h))}function He(c,g,y){c.i.set(g,y)}function Is(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Ir(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Dn(c,g,y){return typeof c=="string"?(c=encodeURI(c).replace(g,tf),y&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function tf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ho=/[#\/\?@]/g,Nu=/[#\?:]/g,qo=/[#\?]/g,nf=/[#\?@]/g,rf=/#/g;function ri(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Nn(c){c.g||(c.g=new Map,c.h=0,c.i&&va(c.i,function(g,y){c.add(decodeURIComponent(g.replace(/\+/g," ")),y)}))}r=ri.prototype,r.add=function(c,g){Nn(this),this.i=null,c=Pi(this,c);var y=this.g.get(c);return y||this.g.set(c,y=[]),y.push(g),this.h+=1,this};function Ta(c,g){Nn(c),g=Pi(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Vi(c,g){return Nn(c),g=Pi(c,g),c.g.has(g)}r.forEach=function(c,g){Nn(this),this.g.forEach(function(y,w){y.forEach(function(j){c.call(g,j,w,this)},this)},this)},r.na=function(){Nn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),y=[];for(let w=0;w<g.length;w++){const j=c[w];for(let G=0;G<j.length;G++)y.push(g[w])}return y},r.V=function(c){Nn(this);let g=[];if(typeof c=="string")Vi(this,c)&&(g=g.concat(this.g.get(Pi(this,c))));else{c=Array.from(this.g.values());for(let y=0;y<c.length;y++)g=g.concat(c[y])}return g},r.set=function(c,g){return Nn(this),this.i=null,c=Pi(this,c),Vi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function ki(c,g,y){Ta(c,g),0<y.length&&(c.i=null,c.g.set(Pi(c,g),$(y)),c.h+=y.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var y=0;y<g.length;y++){var w=g[y];const G=encodeURIComponent(String(w)),ie=this.V(w);for(w=0;w<ie.length;w++){var j=G;ie[w]!==""&&(j+="="+encodeURIComponent(String(ie[w]))),c.push(j)}}return this.i=c.join("&")};function Pi(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Fo(c,g){g&&!c.j&&(Nn(c),c.i=null,c.g.forEach(function(y,w){var j=w.toLowerCase();w!=j&&(Ta(this,w),ki(this,j,y))},c)),c.j=g}function Ou(c,g){const y=new Er;if(m.Image){const w=new Image;w.onload=N(On,y,"TestLoadImage: loaded",!0,g,w),w.onerror=N(On,y,"TestLoadImage: error",!1,g,w),w.onabort=N(On,y,"TestLoadImage: abort",!1,g,w),w.ontimeout=N(On,y,"TestLoadImage: timeout",!1,g,w),m.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=c}else g(!1)}function xs(c,g){const y=new Er,w=new AbortController,j=setTimeout(()=>{w.abort(),On(y,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:w.signal}).then(G=>{clearTimeout(j),G.ok?On(y,"TestPingServer: ok",!0,g):On(y,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(j),On(y,"TestPingServer: error",!1,g)})}function On(c,g,y,w,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),w(y)}catch{}}function Ds(){this.g=new sn}function si(c,g,y){const w=y||"";try{Rs(c,function(j,G){let ie=j;_(j)&&(ie=Vo(j)),g.push(w+G+"="+encodeURIComponent(ie))})}catch(j){throw g.push(w+"type="+encodeURIComponent("_badmap")),j}}function xr(c){this.l=c.Ub||null,this.j=c.eb||!1}k(xr,ko),xr.prototype.g=function(){return new Li(this.l,this.j)},xr.prototype.i=function(c){return function(){return c}}({});function Li(c,g){wt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Li,wt),r=Li.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,oi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ai(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Go(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Go(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?ai(this):oi(this),this.readyState==3&&Go(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ai(this))},r.Qa=function(c){this.g&&(this.response=c,ai(this))},r.ga=function(){this.g&&ai(this)};function ai(c){c.readyState=4,c.l=null,c.j=null,c.v=null,oi(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var y=g.next();!y.done;)y=y.value,c.push(y[0]+": "+y[1]),y=g.next();return c.join(`\r
`)};function oi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Li.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function $o(c){let g="";return be(c,function(y,w){g+=w,g+=":",g+=y,g+=`\r
`}),g}function Vt(c,g,y){e:{for(w in y){var w=!1;break e}w=!0}w||(y=$o(y),typeof c=="string"?y!=null&&encodeURIComponent(String(y)):He(c,g,y))}function $e(c){wt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k($e,wt);var Sa=/^https?$/i,Ns=["POST","PUT"];r=$e.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,y,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():As.g(),this.v=this.o?Au(this.o):Au(As),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){Mu(this,G);return}if(c=y||"",y=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var j in w)y.set(j,w[j]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const G of w.keys())y.set(G,w.get(G));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(y.keys()).find(G=>G.toLowerCase()=="content-type"),j=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Ns,g,void 0))||w||j||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ie]of y)this.g.setRequestHeader(G,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Os(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){Mu(this,G)}};function Mu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,wa(c),li(c)}function wa(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ot(this,"complete"),Ot(this,"abort"),li(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),li(this,!0)),$e.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Aa(this):this.bb())},r.bb=function(){Aa(this)};function Aa(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Mn(c)!=4||c.Z()!=2)){if(c.u&&Mn(c)==4)wu(c.Ea,0,c);else if(Ot(c,"readystatechange"),Mn(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var y;if(!(y=g)){var w;if(w=ie===0){var j=String(c.D).match(Bo)[1]||null;!j&&m.self&&m.self.location&&(j=m.self.location.protocol.slice(0,-1)),w=!Sa.test(j?j.toLowerCase():"")}y=w}if(y)Ot(c,"complete"),Ot(c,"success");else{c.m=6;try{var G=2<Mn(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",wa(c)}}finally{li(c)}}}}function li(c,g){if(c.g){Os(c);const y=c.g,w=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Ot(c,"ready");try{y.onreadystatechange=w}catch{}}}function Os(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Mn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Mn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),ei(g)}};function Vu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function sf(c){const g={};c=(c.g&&2<=Mn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<c.length;w++){if(ne(c[w]))continue;var y=P(c[w]);const j=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const G=g[j]||[];g[j]=G,G.push(y)}V(g,function(w){return w.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ms(c,g,y){return y&&y.internalChannelParams&&y.internalChannelParams[c]||g}function ba(c){this.Aa=0,this.i=[],this.j=new Er,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ms("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ms("baseRetryDelayMs",5e3,c),this.cb=Ms("retryDelaySeedMs",1e4,c),this.Wa=Ms("forwardChannelMaxRetries",2,c),this.wa=Ms("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new jo(c&&c.concurrentRequestLimit),this.Da=new Ds,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ba.prototype,r.la=8,r.G=1,r.connect=function(c,g,y,w){dt(0),this.W=c,this.H=g||{},y&&w!==void 0&&(this.H.OSID=y,this.H.OAID=w),this.F=this.X,this.I=Bu(this,null,this.W),Ca(this)};function Ko(c){if(ku(c),c.G==3){var g=c.U++,y=lt(c.I);if(He(y,"SID",c.K),He(y,"RID",g),He(y,"TYPE","terminate"),Vs(c,y),g=new ii(c,c.j,g),g.L=2,g.v=Is(lt(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=g.v,y=!0),y||(g.g=Hu(g.j,null),g.g.ea(g.v)),g.F=Date.now(),nt(g)}zu(c)}function Ra(c){c.g&&(ks(c),c.g.cancel(),c.g=null)}function ku(c){Ra(c),c.u&&(m.clearTimeout(c.u),c.u=null),Ia(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ca(c){if(!zo(c.h)&&!c.s){c.s=!0;var g=c.Ga;Ee||O(),pe||(Ee(),pe=!0),Ge.add(g,c),c.B=0}}function af(c,g){return xu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=vr(R(c.Ga,c,g),Xo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const j=new ii(this,this.j,c);let G=this.o;if(this.S&&(G?(G=C(G),x(G,this.S)):G=this.S),this.m!==null||this.O||(j.H=G,G=null),this.P)e:{for(var g=0,y=0;y<this.i.length;y++){t:{var w=this.i[y];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(g+=w,4096<g){g=y;break e}if(g===4096||y===this.i.length-1){g=y+1;break e}}g=1e3}else g=1e3;g=Pu(this,j,g),y=lt(this.I),He(y,"RID",c),He(y,"CVER",22),this.D&&He(y,"X-HTTP-Session-Id",this.D),Vs(this,y),G&&(this.O?g="headers="+encodeURIComponent(String($o(G)))+"&"+g:this.m&&Vt(y,this.m,G)),Rr(this.h,j),this.Ua&&He(y,"TYPE","init"),this.P?(He(y,"$req",g),He(y,"SID","null"),j.T=!0,Kn(j,y,null)):Kn(j,y,g),this.G=2}}else this.G==3&&(c?Qo(this,c):this.i.length==0||zo(this.h)||Qo(this))};function Qo(c,g){var y;g?y=g.l:y=c.U++;const w=lt(c.I);He(w,"SID",c.K),He(w,"RID",y),He(w,"AID",c.T),Vs(c,w),c.m&&c.o&&Vt(w,c.m,c.o),y=new ii(c,c.j,y,c.B+1),c.m===null&&(y.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Pu(c,y,1e3),y.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Rr(c.h,y),Kn(y,w,g)}function Vs(c,g){c.H&&be(c.H,function(y,w){He(g,w,y)}),c.l&&Rs({},function(y,w){He(g,w,y)})}function Pu(c,g,y){y=Math.min(c.i.length,y);var w=c.l?R(c.l.Na,c.l,c):null;e:{var j=c.i;let G=-1;for(;;){const ie=["count="+y];G==-1?0<y?(G=j[0].g,ie.push("ofs="+G)):G=0:ie.push("ofs="+G);let Le=!0;for(let bt=0;bt<y;bt++){let Ue=j[bt].g;const kt=j[bt].map;if(Ue-=G,0>Ue)G=Math.max(0,j[bt].g-100),Le=!1;else try{si(kt,ie,"req"+Ue+"_")}catch{w&&w(kt)}}if(Le){w=ie.join("&");break e}}}return c=c.i.splice(0,y),g.D=c,w}function Lu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Ee||O(),pe||(Ee(),pe=!0),Ge.add(g,c),c.v=0}}function Yo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=vr(R(c.Fa,c),Xo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,Uu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=vr(R(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Ra(this),Uu(this))};function ks(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Uu(c){c.g=new ii(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=lt(c.qa);He(g,"RID","rpc"),He(g,"SID",c.K),He(g,"AID",c.T),He(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(g,"TO",c.ja),He(g,"TYPE","xmlhttp"),Vs(c,g),c.m&&c.o&&Vt(g,c.m,c.o),c.L&&(c.g.I=c.L);var y=c.g;c=c.ia,y.L=1,y.v=Is(lt(g)),y.m=null,y.P=!0,Oi(y,c)}r.Za=function(){this.C!=null&&(this.C=null,Ra(this),Yo(this),dt(19))};function Ia(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function ju(c,g){var y=null;if(c.g==g){Ia(c),ks(c),c.g=null;var w=2}else if(br(c.h,g))y=g.D,xn(c.h,g),w=1;else return;if(c.G!=0){if(g.o)if(w==1){y=g.m?g.m.length:0,g=Date.now()-g.F;var j=c.B;w=pa(),Ot(w,new Ru(w,y)),Ca(c)}else Lu(c);else if(j=g.s,j==3||j==0&&0<g.X||!(w==1&&af(c,g)||w==2&&Yo(c)))switch(y&&0<y.length&&(g=c.h,g.i=g.i.concat(y)),j){case 1:Ui(c,5);break;case 4:Ui(c,10);break;case 3:Ui(c,6);break;default:Ui(c,2)}}}function Xo(c,g){let y=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(y*=2),y*g}function Ui(c,g){if(c.j.info("Error code "+g),g==2){var y=R(c.fb,c),w=c.Xa;const j=!w;w=new Mi(w||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Cr(w,"https"),Is(w),j?Ou(w.toString(),y):xs(w.toString(),y)}else dt(2);c.G=0,c.l&&c.l.sa(g),zu(c),ku(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function zu(c){if(c.G=0,c.ka=[],c.l){const g=an(c.h);(g.length!=0||c.i.length!=0)&&(q(c.ka,g),q(c.ka,c.i),c.h.i.length=0,$(c.i),c.i.length=0),c.l.ra()}}function Bu(c,g,y){var w=y instanceof Mi?lt(y):new Mi(y);if(w.g!="")g&&(w.g=g+"."+w.g),Cs(w,w.s);else{var j=m.location;w=j.protocol,g=g?g+"."+j.hostname:j.hostname,j=+j.port;var G=new Mi(null);w&&Cr(G,w),g&&(G.g=g),j&&Cs(G,j),y&&(G.l=y),w=G}return y=c.D,g=c.ya,y&&g&&He(w,y,g),He(w,"VER",c.la),Vs(c,w),w}function Hu(c,g,y){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new $e(new xr({eb:y})):new $e(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function qu(){}r=qu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function xa(){}xa.prototype.g=function(c,g){return new on(c,g)};function on(c,g){wt.call(this),this.g=new ba(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!ne(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!ne(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new ui(this)}k(on,wt),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Ko(this.g)},on.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var y={};y.__data__=c,c=y}else this.u&&(y={},y.__data__=Vo(c),c=y);g.i.push(new Jh(g.Ya++,c)),g.G==3&&Ca(g)},on.prototype.N=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,on.aa.N.call(this)};function Fu(c){gr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const y in g){c=y;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}k(Fu,gr);function Gu(){$n.call(this),this.status=1}k(Gu,$n);function ui(c){this.g=c}k(ui,qu),ui.prototype.ua=function(){Ot(this.g,"a")},ui.prototype.ta=function(c){Ot(this.g,new Fu(c))},ui.prototype.sa=function(c){Ot(this.g,new Gu)},ui.prototype.ra=function(){Ot(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,dT=function(){return new xa},fT=function(){return pa()},hT=In,wm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},At.NO_ERROR=0,At.TIMEOUT=8,At.HTTP_ERROR=6,Jc=At,Ni.COMPLETE="complete",cT=Ni,bu.EventType=ti,ti.OPEN="a",ti.CLOSE="b",ti.ERROR="c",ti.MESSAGE="d",wt.prototype.listen=wt.prototype.K,Hl=bu,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,uT=$e}).apply(typeof Fc<"u"?Fc:typeof self<"u"?self:typeof window<"u"?window:{});const yv="@firebase/firestore",vv="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ao="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new Ym("@firebase/firestore");function no(){return ra.logLevel}function oe(r,...e){if(ra.logLevel<=Me.DEBUG){const n=e.map(Zm);ra.debug(`Firestore (${Ao}): ${r}`,...n)}}function ur(r,...e){if(ra.logLevel<=Me.ERROR){const n=e.map(Zm);ra.error(`Firestore (${Ao}): ${r}`,...n)}}function fo(r,...e){if(ra.logLevel<=Me.WARN){const n=e.map(Zm);ra.warn(`Firestore (${Ao}): ${r}`,...n)}}function Zm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r="Unexpected state"){const e=`FIRESTORE (${Ao}) INTERNAL ASSERTION FAILED: `+r;throw ur(e),new Error(e)}function Ke(r,e){r||Te()}function Ae(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class fe extends fr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class H1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Jt.UNAUTHENTICATED))}shutdown(){}}class q1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class F1{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new sr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new sr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new sr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string"),new mT(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new Jt(e)}}class G1{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class $1{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new G1(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Jt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ev{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class K1{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Gn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0);const s=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Ev(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new Ev(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Q1(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Pe(r,e){return r<e?-1:r>e?1:0}function mo(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=-62135596800,Sv=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Sv);return new Dt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new fe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Tv)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new fe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Sv}_compareTo(e){return this.seconds===e.seconds?Pe(this.nanoseconds,e.nanoseconds):Pe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Tv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Dt(0,0))}static max(){return new Se(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="__name__";class _i{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(),s===void 0?s=e.length-n:s>e.length-n&&Te(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return _i.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _i?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=_i.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=_i.isNumericId(e),o=_i.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?_i.extractNumericId(e).compare(_i.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return as.fromString(e.substring(4,e.length-2))}}class tt extends _i{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new fe(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const Y1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $t extends _i{construct(e,n,s){return new $t(e,n,s)}static isValidIdentifier(e){return Y1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===wv}static keyField(){return new $t([wv])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new fe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new fe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new fe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new fe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $t(n)}static emptyPath(){return new $t([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(tt.fromString(e))}static fromName(e){return new ge(tt.fromString(e).popFirst(5))}static empty(){return new ge(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jl=-1;function X1(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new Dt(n+1,0):new Dt(n,s));return new us(o,ge.empty(),e)}function W1(r){return new us(r.readTime,r.key,Jl)}class us{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new us(Se.min(),ge.empty(),Jl)}static max(){return new us(Se.max(),ge.empty(),Jl)}}function Z1(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ge.comparator(r.documentKey,e.documentKey),n!==0?n:Pe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==J1)throw r;oe("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,s)=>{n(e)})}static reject(e){return new W((n,s)=>{s(e)})}static waitFor(e){return new W((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next(o=>o?W.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new W((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const _=p;n(e[_]).next(T=>{f[_]=T,++m,m===u&&s(f)},T=>o(T))}})}static doWhile(e,n){return new W((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function tC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ro(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Nh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm=-1;function Oh(r){return r==null}function fh(r){return r===0&&1/r==-1/0}function nC(r){return typeof r=="number"&&Number.isInteger(r)&&!fh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="";function iC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Av(e)),e=rC(r.get(n),e);return Av(e)}function rC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case gT:n+="";break;default:n+=u}}return n}function Av(r){return r+gT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ys(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function _T(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Gc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Gc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Gc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Gc(this.root,e,this.comparator,!0)}}class Gc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Gt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Te();const e=this.left.check();if(e!==this.right.check())throw Te();return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te()}get value(){throw Te()}get color(){throw Te()}get left(){throw Te()}get right(){throw Te()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nt{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Rv(this.data.getIterator())}getIteratorFrom(e){return new Rv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Nt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nt(this.comparator);return n.data=e,n}}class Rv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort($t.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Nt($t.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return mo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new yT("Invalid base64 string: "+u):u}}(e);return new Kt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Pe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const sC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(r){if(Ke(!!r),typeof r=="string"){let e=0;const n=sC.exec(r);if(Ke(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(r.seconds),nanos:pt(r.nanos)}}function pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function hs(r){return typeof r=="string"?Kt.fromBase64String(r):Kt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="server_timestamp",ET="__type__",TT="__previous_value__",ST="__local_write_time__";function ep(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[ET])===null||n===void 0?void 0:n.stringValue)===vT}function Mh(r){const e=r.mapValue.fields[TT];return ep(e)?Mh(e):e}function eu(r){const e=cs(r.mapValue.fields[ST].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e,n,s,o,u,f,m,p,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=_}}const dh="(default)";class tu{constructor(e,n){this.projectId=e,this.database=n||dh}static empty(){return new tu("","")}get isDefaultDatabase(){return this.database===dh}isEqual(e){return e instanceof tu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wT="__type__",oC="__max__",$c={mapValue:{}},AT="__vector__",mh="value";function fs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?ep(r)?4:uC(r)?9007199254740991:lC(r)?10:11:Te()}function wi(r,e){if(r===e)return!0;const n=fs(r);if(n!==fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return eu(r).isEqual(eu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=cs(o.timestampValue),m=cs(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return hs(o.bytesValue).isEqual(hs(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return pt(o.geoPointValue.latitude)===pt(u.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pt(o.integerValue)===pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pt(o.doubleValue),m=pt(u.doubleValue);return f===m?fh(f)===fh(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return mo(r.arrayValue.values||[],e.arrayValue.values||[],wi);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(bv(f)!==bv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!wi(f[p],m[p])))return!1;return!0}(r,e);default:return Te()}}function nu(r,e){return(r.values||[]).find(n=>wi(n,e))!==void 0}function po(r,e){if(r===e)return 0;const n=fs(r),s=fs(e);if(n!==s)return Pe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Pe(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=pt(u.integerValue||u.doubleValue),p=pt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return Cv(r.timestampValue,e.timestampValue);case 4:return Cv(eu(r),eu(e));case 5:return Pe(r.stringValue,e.stringValue);case 6:return function(u,f){const m=hs(u),p=hs(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let _=0;_<m.length&&_<p.length;_++){const T=Pe(m[_],p[_]);if(T!==0)return T}return Pe(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Pe(pt(u.latitude),pt(f.latitude));return m!==0?m:Pe(pt(u.longitude),pt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return Iv(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,_,T;const A=u.fields||{},R=f.fields||{},N=(m=A[mh])===null||m===void 0?void 0:m.arrayValue,k=(p=R[mh])===null||p===void 0?void 0:p.arrayValue,$=Pe(((_=N==null?void 0:N.values)===null||_===void 0?void 0:_.length)||0,((T=k==null?void 0:k.values)===null||T===void 0?void 0:T.length)||0);return $!==0?$:Iv(N,k)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===$c.mapValue&&f===$c.mapValue)return 0;if(u===$c.mapValue)return 1;if(f===$c.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),_=f.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let A=0;A<p.length&&A<T.length;++A){const R=Pe(p[A],T[A]);if(R!==0)return R;const N=po(m[p[A]],_[T[A]]);if(N!==0)return N}return Pe(p.length,T.length)}(r.mapValue,e.mapValue);default:throw Te()}}function Cv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Pe(r,e);const n=cs(r),s=cs(e),o=Pe(n.seconds,s.seconds);return o!==0?o:Pe(n.nanos,s.nanos)}function Iv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=po(n[o],s[o]);if(u)return u}return Pe(n.length,s.length)}function go(r){return Am(r)}function Am(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=cs(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return hs(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ge.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Am(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Am(n.fields[f])}`;return o+"}"}(r.mapValue):Te()}function eh(r){switch(fs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Mh(r);return e?16+eh(e):16;case 5:return 2*r.stringValue.length;case 6:return hs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+eh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ys(s.fields,(u,f)=>{o+=u.length+eh(f)}),o}(r.mapValue);default:throw Te()}}function bm(r){return!!r&&"integerValue"in r}function tp(r){return!!r&&"arrayValue"in r}function xv(r){return!!r&&"nullValue"in r}function Dv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function th(r){return!!r&&"mapValue"in r}function lC(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[wT])===null||n===void 0?void 0:n.stringValue)===AT}function $l(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ys(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=$l(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$l(r.arrayValue.values[n]);return e}return Object.assign({},r)}function uC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===oC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.value=e}static empty(){return new _n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$l(n)}setAll(e){let n=$t.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=$l(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ys(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new _n($l(this.value))}}function bT(r){const e=[];return ys(r.fields,(n,s)=>{const o=new $t([n]);if(th(s)){const u=bT(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new en(e,0,Se.min(),Se.min(),Se.min(),_n.empty(),0)}static newFoundDocument(e,n,s,o){return new en(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new en(e,2,n,Se.min(),Se.min(),_n.empty(),0)}static newUnknownDocument(e,n){return new en(e,3,n,Se.min(),Se.min(),_n.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=_n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=_n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof en&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new en(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n){this.position=e,this.inclusive=n}}function Nv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ge.comparator(ge.fromName(f.referenceValue),n.key):s=po(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Ov(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!wi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,n="asc"){this.field=e,this.dir=n}}function cC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{}class xt extends RT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new fC(e,n,s):n==="array-contains"?new pC(e,s):n==="in"?new gC(e,s):n==="not-in"?new _C(e,s):n==="array-contains-any"?new yC(e,s):new xt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new dC(e,s):new mC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(po(n,this.value)):n!==null&&fs(this.value)===fs(n)&&this.matchesComparison(po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ai extends RT{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Ai(e,n)}matches(e){return CT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function CT(r){return r.op==="and"}function IT(r){return hC(r)&&CT(r)}function hC(r){for(const e of r.filters)if(e instanceof Ai)return!1;return!0}function Rm(r){if(r instanceof xt)return r.field.canonicalString()+r.op.toString()+go(r.value);if(IT(r))return r.filters.map(e=>Rm(e)).join(",");{const e=r.filters.map(n=>Rm(n)).join(",");return`${r.op}(${e})`}}function xT(r,e){return r instanceof xt?function(s,o){return o instanceof xt&&s.op===o.op&&s.field.isEqual(o.field)&&wi(s.value,o.value)}(r,e):r instanceof Ai?function(s,o){return o instanceof Ai&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&xT(f,o.filters[m]),!0):!1}(r,e):void Te()}function DT(r){return r instanceof xt?function(n){return`${n.field.canonicalString()} ${n.op} ${go(n.value)}`}(r):r instanceof Ai?function(n){return n.op.toString()+" {"+n.getFilters().map(DT).join(" ,")+"}"}(r):"Filter"}class fC extends xt{constructor(e,n,s){super(e,n,s),this.key=ge.fromName(s.referenceValue)}matches(e){const n=ge.comparator(e.key,this.key);return this.matchesComparison(n)}}class dC extends xt{constructor(e,n){super(e,"in",n),this.keys=NT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class mC extends xt{constructor(e,n){super(e,"not-in",n),this.keys=NT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function NT(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ge.fromName(s.referenceValue))}class pC extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return tp(n)&&nu(n.arrayValue,this.value)}}class gC extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&nu(this.value.arrayValue,n)}}class _C extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(nu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!nu(this.value.arrayValue,n)}}class yC extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!tp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>nu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function Mv(r,e=null,n=[],s=[],o=null,u=null,f=null){return new vC(r,e,n,s,o,u,f)}function np(r){const e=Ae(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Rm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Oh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>go(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>go(s)).join(",")),e.le=n}return e.le}function ip(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!cC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!xT(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Ov(r.startAt,e.startAt)&&Ov(r.endAt,e.endAt)}function Cm(r){return ge.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function EC(r,e,n,s,o,u,f,m){return new Vh(r,e,n,s,o,u,f,m)}function rp(r){return new Vh(r)}function Vv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function TC(r){return r.collectionGroup!==null}function Kl(r){const e=Ae(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Nt($t.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new gh(u,s))}),n.has($t.keyField().canonicalString())||e.he.push(new gh($t.keyField(),s))}return e.he}function yi(r){const e=Ae(r);return e.Pe||(e.Pe=SC(e,Kl(r))),e.Pe}function SC(r,e){if(r.limitType==="F")return Mv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new gh(o.field,u)});const n=r.endAt?new ph(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new ph(r.startAt.position,r.startAt.inclusive):null;return Mv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Im(r,e,n){return new Vh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function kh(r,e){return ip(yi(r),yi(e))&&r.limitType===e.limitType}function OT(r){return`${np(yi(r))}|lt:${r.limitType}`}function io(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>DT(o)).join(", ")}]`),Oh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>go(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>go(o)).join(",")),`Target(${s})`}(yi(r))}; limitType=${r.limitType})`}function Ph(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ge.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Kl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const _=Nv(f,m,p);return f.inclusive?_<=0:_<0}(s.startAt,Kl(s),o)||s.endAt&&!function(f,m,p){const _=Nv(f,m,p);return f.inclusive?_>=0:_>0}(s.endAt,Kl(s),o))}(r,e)}function wC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function MT(r){return(e,n)=>{let s=!1;for(const o of Kl(r)){const u=AC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function AC(r,e,n){const s=r.field.isKeyField()?ge.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),_=m.data.field(u);return p!==null&&_!==null?po(p,_):Te()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ys(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return _T(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC=new at(ge.comparator);function cr(){return bC}const VT=new at(ge.comparator);function ql(...r){let e=VT;for(const n of r)e=e.insert(n.key,n);return e}function kT(r){let e=VT;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function na(){return Ql()}function PT(){return Ql()}function Ql(){return new la(r=>r.toString(),(r,e)=>r.isEqual(e))}const RC=new at(ge.comparator),CC=new Nt(ge.comparator);function Ve(...r){let e=CC;for(const n of r)e=e.add(n);return e}const IC=new Nt(Pe);function xC(){return IC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function LT(r){return{integerValue:""+r}}function UT(r,e){return nC(e)?LT(e):sp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(){this._=void 0}}function DC(r,e,n){return r instanceof _h?function(o,u){const f={fields:{[ET]:{stringValue:vT},[ST]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&ep(u)&&(u=Mh(u)),u&&(f.fields[TT]=u),{mapValue:f}}(n,e):r instanceof _o?zT(r,e):r instanceof iu?BT(r,e):function(o,u){const f=jT(o,u),m=kv(f)+kv(o.Ie);return bm(f)&&bm(o.Ie)?LT(m):sp(o.serializer,m)}(r,e)}function NC(r,e,n){return r instanceof _o?zT(r,e):r instanceof iu?BT(r,e):n}function jT(r,e){return r instanceof ru?function(s){return bm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class _h extends Lh{}class _o extends Lh{constructor(e){super(),this.elements=e}}function zT(r,e){const n=HT(e);for(const s of r.elements)n.some(o=>wi(o,s))||n.push(s);return{arrayValue:{values:n}}}class iu extends Lh{constructor(e){super(),this.elements=e}}function BT(r,e){let n=HT(e);for(const s of r.elements)n=n.filter(o=>!wi(o,s));return{arrayValue:{values:n}}}class ru extends Lh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function kv(r){return pt(r.integerValue||r.doubleValue)}function HT(r){return tp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(e,n){this.field=e,this.transform=n}}function OC(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof _o&&o instanceof _o||s instanceof iu&&o instanceof iu?mo(s.elements,o.elements,wi):s instanceof ru&&o instanceof ru?wi(s.Ie,o.Ie):s instanceof _h&&o instanceof _h}(r.transform,e.transform)}class MC{constructor(e,n){this.version=e,this.transformResults=n}}class Zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Uh{}function FT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new $T(r.key,Zn.none()):new fu(r.key,r.data,Zn.none());{const n=r.data,s=_n.empty();let o=new Nt($t.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new vs(r.key,s,new Rn(o.toArray()),Zn.none())}}function VC(r,e,n){r instanceof fu?function(o,u,f){const m=o.value.clone(),p=Lv(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof vs?function(o,u,f){if(!nh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=Lv(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(GT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Yl(r,e,n,s){return r instanceof fu?function(u,f,m,p){if(!nh(u.precondition,f))return m;const _=u.value.clone(),T=Uv(u.fieldTransforms,p,f);return _.setAll(T),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(r,e,n,s):r instanceof vs?function(u,f,m,p){if(!nh(u.precondition,f))return m;const _=Uv(u.fieldTransforms,p,f),T=f.data;return T.setAll(GT(u)),T.setAll(_),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(A=>A.field))}(r,e,n,s):function(u,f,m){return nh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function kC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=jT(s.transform,o||null);u!=null&&(n===null&&(n=_n.empty()),n.set(s.field,u))}return n||null}function Pv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&mo(s,o,(u,f)=>OC(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class fu extends Uh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class vs extends Uh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function GT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function Lv(r,e,n){const s=new Map;Ke(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,NC(f,m,n[o]))}return s}function Uv(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,DC(u,f,e))}return s}class $T extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PC extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&VC(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Yl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Yl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=PT();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=FT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ve())}isEqual(e){return this.batchId===e.batchId&&mo(this.mutations,e.mutations,(n,s)=>Pv(n,s))&&mo(this.baseMutations,e.baseMutations,(n,s)=>Pv(n,s))}}class ap{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length);let o=function(){return RC}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new ap(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,ze;function zC(r){switch(r){case J.OK:return Te();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Te()}}function KT(r){if(r===void 0)return ur("GRPC error has no .code"),J.UNKNOWN;switch(r){case Tt.OK:return J.OK;case Tt.CANCELLED:return J.CANCELLED;case Tt.UNKNOWN:return J.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return J.INTERNAL;case Tt.UNAVAILABLE:return J.UNAVAILABLE;case Tt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Tt.NOT_FOUND:return J.NOT_FOUND;case Tt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Tt.ABORTED:return J.ABORTED;case Tt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Tt.DATA_LOSS:return J.DATA_LOSS;default:return Te()}}(ze=Tt||(Tt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=new as([4294967295,4294967295],0);function jv(r){const e=BC().encode(r),n=new lT;return n.update(e),new Uint8Array(n.digest())}function zv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new as([n,s],0),new as([o,u],0)]}class op{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Fl(`Invalid padding: ${n}`);if(s<0)throw new Fl(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Fl(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Fl(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=as.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(as.fromNumber(s)));return o.compare(HC)===1&&(o=new as([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=jv(e),[s,o]=zv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new op(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=jv(e),[s,o]=zv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Fl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,du.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new jh(Se.min(),o,new at(Pe),cr(),Ve())}}class du{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new du(s,n,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class QT{constructor(e,n){this.targetId=e,this.ge=n}}class YT{constructor(e,n,s=Kt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Bv{constructor(){this.pe=0,this.ye=Hv(),this.we=Kt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Ve(),n=Ve(),s=Ve();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te()}}),new du(this.we,this.be,e,n,s)}Me(){this.Se=!1,this.ye=Hv()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ke(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class qC{constructor(e){this.ke=e,this.qe=new Map,this.Qe=cr(),this.$e=Kc(),this.Ke=Kc(),this.Ue=new at(Pe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:Te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(Cm(u))if(s===0){const f=new ge(u.path);this.ze(n,f,en.newNoDocument(f,Se.min()))}else Ke(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,_)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=hs(s).toUint8Array()}catch(p){if(p instanceof yT)return fo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new op(f,o,u)}catch(p){return fo(p instanceof Fl?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&Cm(m.target)){const p=new ge(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,en.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Ve();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const _=this.Xe(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new jh(e,n,this.Ue,this.Qe,s);return this.Qe=cr(),this.$e=Kc(),this.Ke=Kc(),this.Ue=new at(Pe),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Bv,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Nt(Pe),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Nt(Pe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Bv),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Kc(){return new at(ge.comparator)}function Hv(){return new at(ge.comparator)}const FC={asc:"ASCENDING",desc:"DESCENDING"},GC={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$C={and:"AND",or:"OR"};class KC{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function xm(r,e){return r.useProto3Json||Oh(e)?e:{value:e}}function yh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function QC(r,e){return yh(r,e.toTimestamp())}function vi(r){return Ke(!!r),Se.fromTimestamp(function(n){const s=cs(n);return new Dt(s.seconds,s.nanos)}(r))}function lp(r,e){return Dm(r,e).canonicalString()}function Dm(r,e){const n=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function WT(r){const e=tt.fromString(r);return Ke(n0(e)),e}function Nm(r,e){return lp(r.databaseId,e.path)}function um(r,e){const n=WT(e);if(n.get(1)!==r.databaseId.projectId)throw new fe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new fe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ge(JT(n))}function ZT(r,e){return lp(r.databaseId,e)}function YC(r){const e=WT(r);return e.length===4?tt.emptyPath():JT(e)}function Om(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function JT(r){return Ke(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function qv(r,e,n){return{name:Nm(r,e),fields:n.value.mapValue.fields}}function XC(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Te()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(_,T){return _.useProto3Json?(Ke(T===void 0||typeof T=="string"),Kt.fromBase64String(T||"")):(Ke(T===void 0||T instanceof Buffer||T instanceof Uint8Array),Kt.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(_){const T=_.code===void 0?J.UNKNOWN:KT(_.code);return new fe(T,_.message||"")}(f);n=new YT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=um(r,s.document.name),u=vi(s.document.updateTime),f=s.document.createTime?vi(s.document.createTime):Se.min(),m=new _n({mapValue:{fields:s.document.fields}}),p=en.newFoundDocument(o,u,f,m),_=s.targetIds||[],T=s.removedTargetIds||[];n=new ih(_,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=um(r,s.document),u=s.readTime?vi(s.readTime):Se.min(),f=en.newNoDocument(o,u),m=s.removedTargetIds||[];n=new ih([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=um(r,s.document),u=s.removedTargetIds||[];n=new ih([],u,o,null)}else{if(!("filter"in e))return Te();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new jC(o,u),m=s.targetId;n=new QT(m,f)}}return n}function WC(r,e){let n;if(e instanceof fu)n={update:qv(r,e.key,e.value)};else if(e instanceof $T)n={delete:Nm(r,e.key)};else if(e instanceof vs)n={update:qv(r,e.key,e.data),updateMask:aI(e.fieldMask)};else{if(!(e instanceof PC))return Te();n={verify:Nm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof _h)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof _o)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof iu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof ru)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw Te()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:QC(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te()}(r,e.precondition)),n}function ZC(r,e){return r&&r.length>0?(Ke(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?vi(o.updateTime):vi(u);return f.isEqual(Se.min())&&(f=vi(u)),new MC(f,o.transformResults||[])}(n,e))):[]}function JC(r,e){return{documents:[ZT(r,e.path)]}}function eI(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ZT(r,o);const u=function(_){if(_.length!==0)return t0(Ai.create(_,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(_){if(_.length!==0)return _.map(T=>function(R){return{field:ro(R.field),direction:iI(R.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=xm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ht:n,parent:o}}function tI(r){let e=YC(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=function(A){const R=e0(A);return R instanceof Ai&&IT(R)?R.getFilters():[R]}(n.where));let f=[];n.orderBy&&(f=function(A){return A.map(R=>function(k){return new gh(so(k.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(R))}(n.orderBy));let m=null;n.limit&&(m=function(A){let R;return R=typeof A=="object"?A.value:A,Oh(R)?null:R}(n.limit));let p=null;n.startAt&&(p=function(A){const R=!!A.before,N=A.values||[];return new ph(N,R)}(n.startAt));let _=null;return n.endAt&&(_=function(A){const R=!A.before,N=A.values||[];return new ph(N,R)}(n.endAt)),EC(e,o,f,u,m,"F",p,_)}function nI(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function e0(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=so(n.unaryFilter.field);return xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=so(n.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=so(n.unaryFilter.field);return xt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=so(n.unaryFilter.field);return xt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return Te()}}(r):r.fieldFilter!==void 0?function(n){return xt.create(so(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Te()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Ai.create(n.compositeFilter.filters.map(s=>e0(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te()}}(n.compositeFilter.op))}(r):Te()}function iI(r){return FC[r]}function rI(r){return GC[r]}function sI(r){return $C[r]}function ro(r){return{fieldPath:r.canonicalString()}}function so(r){return $t.fromServerFormat(r.fieldPath)}function t0(r){return r instanceof xt?function(n){if(n.op==="=="){if(Dv(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NAN"}};if(xv(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Dv(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NAN"}};if(xv(n.value))return{unaryFilter:{field:ro(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ro(n.field),op:rI(n.op),value:n.value}}}(r):r instanceof Ai?function(n){const s=n.getFilters().map(o=>t0(o));return s.length===1?s[0]:{compositeFilter:{op:sI(n.op),filters:s}}}(r):Te()}function aI(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function n0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns{constructor(e,n,s,o,u=Se.min(),f=Se.min(),m=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.Tt=e}}function lI(r){const e=tI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Im(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{constructor(){this.Tn=new cI}addToCollectionParentIndex(e,n){return this.Tn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(us.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(us.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class cI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Nt(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Nt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},i0=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(i0,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new yo(0)}static Un(){return new yo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gv="LruGarbageCollector",hI=1048576;function $v([r,e],[n,s]){const o=Pe(r,n);return o===0?Pe(e,s):o}class fI{constructor(e){this.Hn=e,this.buffer=new Nt($v),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();$v(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class dI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){oe(Gv,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ro(n)?oe(Gv,"Ignoring IndexedDB error during garbage collection: ",n):await bo(n)}await this.er(3e5)})}}class mI{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Nh.ae);const s=new fI(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(Fv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fv):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o))).next(A=>(s=A,m=Date.now(),this.removeTargets(e,s,n))).next(A=>(u=A,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(A=>(_=Date.now(),no()<=Me.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${A} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A})))}}function pI(r,e){return new mI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.changes=new la(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,en.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Yl(s.mutation,o,Rn.empty(),Dt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ve()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ve()){const o=na();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=ql();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=na();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ve()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=cr();const f=Ql(),m=function(){return Ql()}();return n.forEach((p,_)=>{const T=s.get(_.key);o.has(_.key)&&(T===void 0||T.mutation instanceof vs)?u=u.insert(_.key,_):T!==void 0?(f.set(_.key,T.mutation.getFieldMask()),Yl(T.mutation,_,T.mutation.getFieldMask(),Dt.now())):f.set(_.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((_,T)=>f.set(_,T)),n.forEach((_,T)=>{var A;return m.set(_,new _I(T,(A=f.get(_))!==null&&A!==void 0?A:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Ql();let o=new at((f,m)=>f-m),u=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let T=s.get(p)||Rn.empty();T=m.applyToLocalView(_,T),s.set(p,T);const A=(o.get(m.batchId)||Ve()).add(p);o=o.insert(m.batchId,A)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),_=p.key,T=p.value,A=PT();T.forEach(R=>{if(!u.has(R)){const N=FT(n.get(R),s.get(R));N!==null&&A.set(R,N),u=u.add(R)}}),f.push(this.documentOverlayCache.saveOverlays(e,_,A))}return W.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ge.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):TC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):W.resolve(na());let m=Jl,p=u;return f.next(_=>W.forEach(_,(T,A)=>(m<A.largestBatchId&&(m=A.largestBatchId),u.get(T)?W.resolve():this.remoteDocumentCache.getEntry(e,T).next(R=>{p=p.insert(T,R)}))).next(()=>this.populateOverlays(e,_,u)).next(()=>this.computeViews(e,p,_,Ve())).next(T=>({batchId:m,changes:kT(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ge(n)).next(s=>{let o=ql();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=ql();return this.indexManager.getCollectionParents(e,u).next(m=>W.forEach(m,p=>{const _=function(A,R){return new Vh(R,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next(T=>{T.forEach((A,R)=>{f=f.insert(A,R)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,_)=>{const T=_.getKey();f.get(T)===null&&(f=f.insert(T,en.newInvalidDocument(T)))});let m=ql();return f.forEach((p,_)=>{const T=u.get(p);T!==void 0&&Yl(T.mutation,_,Rn.empty(),Dt.now()),Ph(n,_)&&(m=m.insert(p,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return W.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:vi(o.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:lI(o.bundledQuery),readTime:vi(o.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(){this.overlays=new at(ge.comparator),this.Rr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=na();return W.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),W.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const o=na(),u=n.length+1,f=new ge(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return W.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new at((_,T)=>_-T);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let T=u.get(_.largestBatchId);T===null&&(T=na(),u=u.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const m=na(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,T)=>m.set(_,T)),!(m.size()>=o)););return W.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new UC(n,s));let u=this.Rr.get(n);u===void 0&&(u=Ve(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(){this.Vr=new Nt(jt.mr),this.gr=new Nt(jt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new jt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new jt(e,n))}br(e,n){e.forEach(s=>this.removeReference(s,n))}Sr(e){const n=new ge(new tt([])),s=new jt(n,e),o=new jt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ge(new tt([])),s=new jt(n,e),o=new jt(n,e+1);let u=Ve();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new jt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class jt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ge.comparator(e.key,n.key)||Pe(e.Cr,n.Cr)}static pr(e,n){return Pe(e.Cr,n.Cr)||ge.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Nt(jt.mr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new LC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new jt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(f)}lookupMutationBatch(e,n){return W.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Jm:this.Fr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new jt(n,0),o=new jt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Nt(Pe);return n.forEach(o=>{const u=new jt(o,0),f=new jt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),W.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ge.isDocumentKey(u)||(u=u.child(""));const f=new jt(new ge(u),0);let m=new Nt(Pe);return this.Mr.forEachWhile(p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(m=m.add(p.Cr)),!0)},f),W.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ke(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return W.forEach(n.mutations,o=>{const u=new jt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new jt(n,0),o=this.Mr.firstAfterOrEqual(s);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI{constructor(e){this.kr=e,this.docs=function(){return new at(ge.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():en.newInvalidDocument(n))}getEntries(e,n){let s=cr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():en.newInvalidDocument(o))}),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=cr();const f=n.path,m=new ge(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||Z1(W1(T),s)<=0||(o.has(T.key)||Ph(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te()}qr(e,n){return W.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new AI(this)}getSize(e){return W.resolve(this.size)}}class AI extends gI{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),W.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.persistence=e,this.Qr=new la(n=>np(n),ip),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.$r=0,this.Kr=new up,this.targetCount=0,this.Ur=yo.Kn()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),W.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new yo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.zn(n),W.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),W.waitFor(u).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this.Kr.yr(n,s),W.resolve()}removeMatchingKeys(e,n,s){this.Kr.br(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Kr.vr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Nh(0),this.zr=!1,this.zr=!0,this.jr=new TI,this.referenceDelegate=e(this),this.Hr=new bI(this),this.indexManager=new uI,this.remoteDocumentCache=function(o){return new wI(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new oI(n),this.Yr=new vI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new EI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new SI(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const o=new RI(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return W.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class RI extends eC{constructor(e){super(),this.currentSequenceNumber=e}}class cp{constructor(e){this.persistence=e,this.ti=new up,this.ni=null}static ri(e){return new cp(e)}get ii(){if(this.ni)return this.ni;throw Te()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),W.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.ii,s=>{const o=ge.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Se.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return W.or([()=>W.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class vh{constructor(e,n){this.persistence=e,this.oi=new la(s=>iC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=pI(this,n)}static ri(e,n){return new vh(e,n)}Zr(){}Xr(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return W.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?W.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),W.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=eh(e.data.value)),n}ar(e,n,s){return W.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Ve(),o=Ve();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new hp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return AR()?8:tC(tn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new CI;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(no()<=Me.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",io(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),W.resolve()):(no()<=Me.DEBUG&&oe("QueryEngine","Query:",io(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(no()<=Me.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",io(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yi(n))):W.resolve())}rs(e,n){if(Vv(n))return W.resolve(null);let s=yi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Im(n,null,"F"),s=yi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Ve(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const _=this.cs(n,m);return this.ls(n,_,f,p.readTime)?this.rs(e,Im(n,null,"F")):this.hs(e,_,n,p)}))})))}ss(e,n,s,o){return Vv(n)||o.isEqual(Se.min())?W.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?W.resolve(null):(no()<=Me.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),io(n)),this.hs(e,f,n,X1(o,Jl)).next(m=>m))})}cs(e,n){let s=new Nt(MT(e));return n.forEach((o,u)=>{Ph(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return no()<=Me.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",io(n)),this.ns.getDocumentsMatchingQuery(e,n,us.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fp="LocalStore",xI=3e8;class DI{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new at(Pe),this.Is=new la(u=>np(u),ip),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yI(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function NI(r,e,n,s){return new DI(r,e,n,s)}async function s0(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Ve();for(const _ of o){f.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of u){m.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(_=>({Rs:_,removedBatchIds:f,addedBatchIds:m}))})})}function OI(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,_,T){const A=_.batch,R=A.keys();let N=W.resolve();return R.forEach(k=>{N=N.next(()=>T.getEntry(p,k)).next($=>{const q=_.docVersions.get(k);Ke(q!==null),$.version.compareTo(q)<0&&(A.applyToRemoteDocument($,_),$.isValidDocument()&&($.setReadTime(_.commitVersion),T.addEntry($)))})}),N.next(()=>m.mutationQueue.removeMutationBatch(p,A))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Ve();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(p=p.add(m.batch.mutations[_].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function a0(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function MI(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((T,A)=>{const R=o.get(A);if(!R)return;m.push(n.Hr.removeMatchingKeys(u,T.removedDocuments,A).next(()=>n.Hr.addMatchingKeys(u,T.addedDocuments,A)));let N=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?N=N.withResumeToken(Kt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):T.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(T.resumeToken,s)),o=o.insert(A,N),function($,q,Y){return $.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=xI?!0:Y.addedDocuments.size+Y.modifiedDocuments.size+Y.removedDocuments.size>0}(R,N,T)&&m.push(n.Hr.updateTargetData(u,N))});let p=cr(),_=Ve();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push(VI(u,f,e.documentUpdates).next(T=>{p=T.Vs,_=T.fs})),!s.isEqual(Se.min())){const T=n.Hr.getLastRemoteSnapshotVersion(u).next(A=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return W.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,_)).next(()=>p)}).then(u=>(n.Ts=o,u))}function VI(r,e,n){let s=Ve(),o=Ve();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=cr();return n.forEach((m,p)=>{const _=u.get(m);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):oe(fp,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function kI(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Jm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function PI(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,W.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new ns(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Mm(r,e,n){const s=Ae(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Ro(f))throw f;oe(fp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function Kv(r,e,n){const s=Ae(r);let o=Se.min(),u=Ve();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,_,T){const A=Ae(p),R=A.Is.get(T);return R!==void 0?W.resolve(A.Ts.get(R)):A.Hr.getTargetData(_,T)}(s,f,yi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:Ve())).next(m=>(LI(s,wC(e),m),{documents:m,gs:u})))}function LI(r,e,n){let s=r.Es.get(e)||Se.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class Qv{constructor(){this.activeTargetIds=xC()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UI{constructor(){this.ho=new Qv,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Qv,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="ConnectivityMonitor";class Xv{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){oe(Yv,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){oe(Yv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc=null;function Vm(){return Qc===null?Qc=function(){return 268435456+Math.round(2147483648*Math.random())}():Qc++,"0x"+Qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm="RestConnection",zI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BI{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===dh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,n,s,o,u){const f=Vm(),m=this.So(e,n.toUriEncodedString());oe(cm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(_=>(oe(cm,`Received RPC '${e}' ${f}: `,_),_),_=>{throw fo(cm,`RPC '${e}' ${f} failed with error: `,_,"url: ",m,"request:",s),_})}Co(e,n,s,o,u,f){return this.bo(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ao}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}So(e,n){const s=zI[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class qI extends BI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=Vm();return new Promise((f,m)=>{const p=new uT;p.setWithCredentials(!0),p.listenOnce(cT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Jc.NO_ERROR:const T=p.getResponseJson();oe(Wt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),f(T);break;case Jc.TIMEOUT:oe(Wt,`RPC '${e}' ${u} timed out`),m(new fe(J.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const A=p.getStatus();if(oe(Wt,`RPC '${e}' ${u} failed with status:`,A,"response text:",p.getResponseText()),A>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const N=R==null?void 0:R.error;if(N&&N.status&&N.message){const k=function(q){const Y=q.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Y)>=0?Y:J.UNKNOWN}(N.status);m(new fe(k,N.message))}else m(new fe(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new fe(J.UNAVAILABLE,"Connection failed."));break;default:Te()}}finally{oe(Wt,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(o);oe(Wt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",_,s,15)})}Wo(e,n,s){const o=Vm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=dT(),m=fT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");oe(Wt,`Creating RPC '${e}' stream ${o}: ${T}`,p);const A=f.createWebChannel(T,p);let R=!1,N=!1;const k=new HI({Fo:q=>{N?oe(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(R||(oe(Wt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),R=!0),oe(Wt,`RPC '${e}' stream ${o} sending:`,q),A.send(q))},Mo:()=>A.close()}),$=(q,Y,ne)=>{q.listen(Y,ee=>{try{ne(ee)}catch(me){setTimeout(()=>{throw me},0)}})};return $(A,Hl.EventType.OPEN,()=>{N||(oe(Wt,`RPC '${e}' stream ${o} transport opened.`),k.Qo())}),$(A,Hl.EventType.CLOSE,()=>{N||(N=!0,oe(Wt,`RPC '${e}' stream ${o} transport closed`),k.Ko())}),$(A,Hl.EventType.ERROR,q=>{N||(N=!0,fo(Wt,`RPC '${e}' stream ${o} transport errored:`,q),k.Ko(new fe(J.UNAVAILABLE,"The operation could not be completed")))}),$(A,Hl.EventType.MESSAGE,q=>{var Y;if(!N){const ne=q.data[0];Ke(!!ne);const ee=ne,me=(ee==null?void 0:ee.error)||((Y=ee[0])===null||Y===void 0?void 0:Y.error);if(me){oe(Wt,`RPC '${e}' stream ${o} received error:`,me);const ue=me.status;let be=function(b){const x=Tt[b];if(x!==void 0)return KT(x)}(ue),V=me.message;be===void 0&&(be=J.INTERNAL,V="Unknown error status: "+ue+" with message "+me.message),N=!0,k.Ko(new fe(be,V)),A.close()}else oe(Wt,`RPC '${e}' stream ${o} received:`,ne),k.Uo(ne)}}),$(m,hT.STAT_EVENT,q=>{q.stat===wm.PROXY?oe(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===wm.NOPROXY&&oe(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{k.$o()},0),k}}function hm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(r){return new KC(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&oe("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="PersistentStream";class l0{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new o0(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(ur(n.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new fe(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return oe(Wv,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(oe(Wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class FI extends l0{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=XC(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?vi(f.readTime):Se.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=Om(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=Cm(p)?{documents:JC(u,p)}:{query:eI(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=XT(u,f.resumeToken);const _=xm(u,f.expectedCount);_!==null&&(m.expectedCount=_)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=yh(u,f.snapshotVersion.toTimestamp());const _=xm(u,f.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const s=nI(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=Om(this.serializer),n.removeTarget=e,this.I_(n)}}class GI extends l0{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=ZC(e.writeResults,e.commitTime),s=vi(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=Om(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>WC(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{}class KI extends $I{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(e,Dm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new fe(J.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Dm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new fe(J.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class QI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ur(n),this.N_=!1):oe("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="RemoteStore";class YI{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{ua(this)&&(oe(sa,"Restarting streams for network reachability change."),await async function(p){const _=Ae(p);_.W_.add(4),await mu(_),_.j_.set("Unknown"),_.W_.delete(4),await Bh(_)}(this))})}),this.j_=new QI(s,o)}}async function Bh(r){if(ua(r))for(const e of r.G_)await e(!0)}async function mu(r){for(const e of r.G_)await e(!1)}function u0(r,e){const n=Ae(r);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),gp(n)?pp(n):Co(n).c_()&&mp(n,e))}function dp(r,e){const n=Ae(r),s=Co(n);n.U_.delete(e),s.c_()&&c0(n,e),n.U_.size===0&&(s.c_()?s.P_():ua(n)&&n.j_.set("Unknown"))}function mp(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Co(r).y_(e)}function c0(r,e){r.H_.Ne(e),Co(r).w_(e)}function pp(r){r.H_=new qC({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Co(r).start(),r.j_.B_()}function gp(r){return ua(r)&&!Co(r).u_()&&r.U_.size>0}function ua(r){return Ae(r).W_.size===0}function h0(r){r.H_=void 0}async function XI(r){r.j_.set("Online")}async function WI(r){r.U_.forEach((e,n)=>{mp(r,e)})}async function ZI(r,e){h0(r),gp(r)?(r.j_.q_(e),pp(r)):r.j_.set("Unknown")}async function JI(r,e,n){if(r.j_.set("Online"),e instanceof YT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){oe(sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Eh(r,s)}else if(e instanceof ih?r.H_.We(e):e instanceof QT?r.H_.Ze(e):r.H_.je(e),!n.isEqual(Se.min()))try{const s=await a0(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.U_.get(_);T&&u.U_.set(_,T.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,_)=>{const T=u.U_.get(p);if(!T)return;u.U_.set(p,T.withResumeToken(Kt.EMPTY_BYTE_STRING,T.snapshotVersion)),c0(u,p);const A=new ns(T.target,p,_,T.sequenceNumber);mp(u,A)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){oe(sa,"Failed to raise snapshot:",s),await Eh(r,s)}}async function Eh(r,e,n){if(!Ro(e))throw e;r.W_.add(1),await mu(r),r.j_.set("Offline"),n||(n=()=>a0(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{oe(sa,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Bh(r)})}function f0(r,e){return e().catch(n=>Eh(r,n,e))}async function Hh(r){const e=Ae(r),n=ds(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:Jm;for(;ex(e);)try{const o=await kI(e.localStore,s);if(o===null){e.K_.length===0&&n.P_();break}s=o.batchId,tx(e,o)}catch(o){await Eh(e,o)}d0(e)&&m0(e)}function ex(r){return ua(r)&&r.K_.length<10}function tx(r,e){r.K_.push(e);const n=ds(r);n.c_()&&n.b_&&n.S_(e.mutations)}function d0(r){return ua(r)&&!ds(r).u_()&&r.K_.length>0}function m0(r){ds(r).start()}async function nx(r){ds(r).C_()}async function ix(r){const e=ds(r);for(const n of r.K_)e.S_(n.mutations)}async function rx(r,e,n){const s=r.K_.shift(),o=ap.from(s,e,n);await f0(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Hh(r)}async function sx(r,e){e&&ds(r).b_&&await async function(s,o){if(function(f){return zC(f)&&f!==J.ABORTED}(o.code)){const u=s.K_.shift();ds(s).h_(),await f0(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Hh(s)}}(r,e),d0(r)&&m0(r)}async function Zv(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),oe(sa,"RemoteStore received new credentials");const s=ua(n);n.W_.add(3),await mu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Bh(n)}async function ax(r,e){const n=Ae(r);e?(n.W_.delete(2),await Bh(n)):e||(n.W_.add(2),await mu(n),n.j_.set("Unknown"))}function Co(r){return r.J_||(r.J_=function(n,s,o){const u=Ae(n);return u.M_(),new FI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:XI.bind(null,r),No:WI.bind(null,r),Lo:ZI.bind(null,r),p_:JI.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),gp(r)?pp(r):r.j_.set("Unknown")):(await r.J_.stop(),h0(r))})),r.J_}function ds(r){return r.Y_||(r.Y_=function(n,s,o){const u=Ae(n);return u.M_(),new GI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:nx.bind(null,r),Lo:sx.bind(null,r),D_:ix.bind(null,r),v_:rx.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Hh(r)):(await r.Y_.stop(),r.K_.length>0&&(oe(sa,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new sr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new _p(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new fe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yp(r,e){if(ur("AsyncQueue",`${e}: ${r}`),Ro(r))return new fe(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{static emptySet(e){return new oo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ge.comparator(n.key,s.key):(n,s)=>ge.comparator(n.key,s.key),this.keyedMap=ql(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof oo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new oo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(){this.Z_=new at(ge.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):Te():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class vo{constructor(e,n,s,o,u,f,m,p,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new vo(e,n,oo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&kh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class lx{constructor(){this.queries=eE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=eE(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new fe(J.ABORTED,"Firestore shutting down"))}}function eE(){return new la(r=>OT(r),kh)}async function p0(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new ox,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=yp(f,`Initialization of query '${io(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&vp(n)}async function g0(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function ux(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&vp(n)}function cx(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function vp(r){r.ia.forEach(e=>{e.next()})}var km,tE;(tE=km||(km={}))._a="default",tE.Cache="cache";class _0{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new vo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=vo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==km.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e){this.key=e}}class v0{constructor(e){this.key=e}}class hx{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ve(),this.mutatedKeys=Ve(),this.ya=MT(e),this.wa=new oo(this.ya)}get ba(){return this.fa}Sa(e,n){const s=n?n.Da:new Jv,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,A)=>{const R=o.get(T),N=Ph(this.query,A)?A:null,k=!!R&&this.mutatedKeys.has(R.key),$=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let q=!1;R&&N?R.data.isEqual(N.data)?k!==$&&(s.track({type:3,doc:N}),q=!0):this.va(R,N)||(s.track({type:2,doc:N}),q=!0,(p&&this.ya(N,p)>0||_&&this.ya(N,_)<0)&&(m=!0)):!R&&N?(s.track({type:0,doc:N}),q=!0):R&&!N&&(s.track({type:1,doc:R}),q=!0,(p||_)&&(m=!0)),q&&(N?(f=f.add(N),u=$?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((T,A)=>function(N,k){const $=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te()}};return $(N)-$(k)}(T.type,A.type)||this.ya(T.doc,A.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,_=p!==this.ga;return this.ga=p,f.length!==0||_?{snapshot:new vo(this.query,e.wa,u,f,e.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Jv,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ve(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new v0(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new y0(s))}),n}Oa(e){this.fa=e.gs,this.pa=Ve();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return vo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Ep="SyncEngine";class fx{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class dx{constructor(e){this.key=e,this.Ba=!1}}class mx{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new la(m=>OT(m),kh),this.qa=new Map,this.Qa=new Set,this.$a=new at(ge.comparator),this.Ka=new Map,this.Ua=new up,this.Wa={},this.Ga=new Map,this.za=yo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function px(r,e,n=!0){const s=b0(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await E0(s,e,n,!0),o}async function gx(r,e){const n=b0(r);await E0(n,e,!0,!1)}async function E0(r,e,n,s){const o=await PI(r.localStore,yi(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await _x(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&u0(r.remoteStore,o),m}async function _x(r,e,n,s,o){r.Ha=(A,R,N)=>async function($,q,Y,ne){let ee=q.view.Sa(Y);ee.ls&&(ee=await Kv($.localStore,q.query,!1).then(({documents:V})=>q.view.Sa(V,ee)));const me=ne&&ne.targetChanges.get(q.targetId),ue=ne&&ne.targetMismatches.get(q.targetId)!=null,be=q.view.applyChanges(ee,$.isPrimaryClient,me,ue);return iE($,q.targetId,be.Ma),be.snapshot}(r,A,R,N);const u=await Kv(r.localStore,e,!0),f=new hx(e,u.gs),m=f.Sa(u.documents),p=du.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),_=f.applyChanges(m,r.isPrimaryClient,p);iE(r,n,_.Ma);const T=new fx(e,n,f);return r.ka.set(e,T),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),_.snapshot}async function yx(r,e,n){const s=Ae(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!kh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Mm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&dp(s.remoteStore,o.targetId),Pm(s,o.targetId)}).catch(bo)):(Pm(s,o.targetId),await Mm(s.localStore,o.targetId,!0))}async function vx(r,e){const n=Ae(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),dp(n.remoteStore,s.targetId))}async function Ex(r,e,n){const s=Cx(r);try{const o=await function(f,m){const p=Ae(f),_=Dt.now(),T=m.reduce((N,k)=>N.add(k.key),Ve());let A,R;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let k=cr(),$=Ve();return p.ds.getEntries(N,T).next(q=>{k=q,k.forEach((Y,ne)=>{ne.isValidDocument()||($=$.add(Y))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,k)).next(q=>{A=q;const Y=[];for(const ne of m){const ee=kC(ne,A.get(ne.key).overlayedDocument);ee!=null&&Y.push(new vs(ne.key,ee,bT(ee.value.mapValue),Zn.exists(!0)))}return p.mutationQueue.addMutationBatch(N,_,Y,m)}).next(q=>{R=q;const Y=q.applyToLocalDocumentSet(A,$);return p.documentOverlayCache.saveOverlays(N,q.batchId,Y)})}).then(()=>({batchId:R.batchId,changes:kT(A)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let _=f.Wa[f.currentUser.toKey()];_||(_=new at(Pe)),_=_.insert(m,p),f.Wa[f.currentUser.toKey()]=_}(s,o.batchId,n),await pu(s,o.changes),await Hh(s.remoteStore)}catch(o){const u=yp(o,"Failed to persist write");n.reject(u)}}async function T0(r,e){const n=Ae(r);try{const s=await MI(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Ke(f.Ba):o.removedDocuments.size>0&&(Ke(f.Ba),f.Ba=!1))}),await pu(n,s,e)}catch(s){await bo(s)}}function nE(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ae(f);p.onlineState=m;let _=!1;p.queries.forEach((T,A)=>{for(const R of A.ta)R.sa(m)&&(_=!0)}),_&&vp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Tx(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ka.get(e),u=o&&o.key;if(u){let f=new at(ge.comparator);f=f.insert(u,en.newNoDocument(u,Se.min()));const m=Ve().add(u),p=new jh(Se.min(),new Map,new at(Pe),f,m);await T0(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),Tp(s)}else await Mm(s.localStore,e,!1).then(()=>Pm(s,e,n)).catch(bo)}async function Sx(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await OI(n.localStore,e);w0(n,s,null),S0(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await pu(n,o)}catch(o){await bo(o)}}async function wx(r,e,n){const s=Ae(r);try{const o=await function(f,m){const p=Ae(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let T;return p.mutationQueue.lookupMutationBatch(_,m).next(A=>(Ke(A!==null),T=A.keys(),p.mutationQueue.removeMutationBatch(_,A))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T)).next(()=>p.localDocuments.getDocuments(_,T))})}(s.localStore,e);w0(s,e,n),S0(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await pu(s,o)}catch(o){await bo(o)}}function S0(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function w0(r,e,n){const s=Ae(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Pm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ua.Sr(e).forEach(s=>{r.Ua.containsKey(s)||A0(r,s)})}function A0(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(dp(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ka.delete(n),Tp(r))}function iE(r,e,n){for(const s of n)s instanceof y0?(r.Ua.addReference(s.key,e),Ax(r,s)):s instanceof v0?(oe(Ep,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||A0(r,s.key)):Te()}function Ax(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(oe(Ep,"New document in limbo: "+n),r.Qa.add(s),Tp(r))}function Tp(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new ge(tt.fromString(e)),s=r.za.next();r.Ka.set(s,new dx(n)),r.$a=r.$a.insert(n,s),u0(r.remoteStore,new ns(yi(rp(n.path)),s,"TargetPurposeLimboResolution",Nh.ae))}}async function pu(r,e,n){const s=Ae(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(_=>{var T;if((_||n)&&s.isPrimaryClient){const A=_?!_.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,A?"current":"not-current")}if(_){o.push(_);const A=hp.Yi(p.targetId,_);u.push(A)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,_){const T=Ae(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>W.forEach(_,R=>W.forEach(R.Hi,N=>T.persistence.referenceDelegate.addReference(A,R.targetId,N)).next(()=>W.forEach(R.Ji,N=>T.persistence.referenceDelegate.removeReference(A,R.targetId,N)))))}catch(A){if(!Ro(A))throw A;oe(fp,"Failed to update sequence numbers: "+A)}for(const A of _){const R=A.targetId;if(!A.fromCache){const N=T.Ts.get(R),k=N.snapshotVersion,$=N.withLastLimboFreeSnapshotVersion(k);T.Ts=T.Ts.insert(R,$)}}}(s.localStore,u))}async function bx(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){oe(Ep,"User change. New user:",e.toKey());const s=await s0(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new fe(J.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await pu(n,s.Rs)}}function Rx(r,e){const n=Ae(r),s=n.Ka.get(e);if(s&&s.Ba)return Ve().add(s.key);{let o=Ve();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.ba)}return o}}function b0(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=T0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Tx.bind(null,e),e.La.p_=ux.bind(null,e.eventManager),e.La.Ja=cx.bind(null,e.eventManager),e}function Cx(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Sx.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wx.bind(null,e),e}class Th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=zh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return NI(this.persistence,new II,e.initialUser,this.serializer)}Xa(e){return new r0(cp.ri,this.serializer)}Za(e){return new UI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Th.provider={build:()=>new Th};class Ix extends Th{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ke(this.persistence.referenceDelegate instanceof vh);const s=this.persistence.referenceDelegate.garbageCollector;return new dI(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new r0(s=>vh.ri(s,n),this.serializer)}}class Lm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>nE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=bx.bind(null,this.syncEngine),await ax(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lx}()}createDatastore(e){const n=zh(e.databaseInfo.databaseId),s=function(u){return new qI(u)}(e.databaseInfo);return function(u,f,m,p){return new KI(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new YI(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>nE(this.syncEngine,n,0),function(){return Xv.D()?new Xv:new jI}())}createSyncEngine(e,n){return function(o,u,f,m,p,_,T){const A=new mx(o,u,f,m,p,_);return T&&(A.ja=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ae(o);oe(sa,"RemoteStore shutting down."),u.W_.add(5),await mu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Lm.provider={build:()=>new Lm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="FirestoreClient";class xx{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Jt.UNAUTHENTICATED,this.clientId=pT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{oe(ms,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(oe(ms,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=yp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function fm(r,e){r.asyncQueue.verifyOperationInProgress(),oe(ms,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await s0(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function rE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await Dx(r);oe(ms,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>Zv(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>Zv(e.remoteStore,o)),r._onlineComponents=e}async function Dx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(ms,"Using user provided OfflineComponentProvider");try{await fm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;fo("Error using user provided cache. Falling back to memory cache: "+n),await fm(r,new Th)}}else oe(ms,"Using default OfflineComponentProvider"),await fm(r,new Ix(void 0));return r._offlineComponents}async function C0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(ms,"Using user provided OnlineComponentProvider"),await rE(r,r._uninitializedComponentsProvider._online)):(oe(ms,"Using default OnlineComponentProvider"),await rE(r,new Lm))),r._onlineComponents}function Nx(r){return C0(r).then(e=>e.syncEngine)}async function I0(r){const e=await C0(r),n=e.eventManager;return n.onListen=px.bind(null,e.syncEngine),n.onUnlisten=yx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=gx.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=vx.bind(null,e.syncEngine),n}function Ox(r,e,n={}){const s=new sr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,_){const T=new R0({next:R=>{T.su(),f.enqueueAndForget(()=>g0(u,A));const N=R.docs.has(m);!N&&R.fromCache?_.reject(new fe(J.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&R.fromCache&&p&&p.source==="server"?_.reject(new fe(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(R)},error:R=>_.reject(R)}),A=new _0(rp(m.path),T,{includeMetadataChanges:!0,Ta:!0});return p0(u,A)}(await I0(r),r.asyncQueue,e,n,s)),s.promise}function Mx(r,e,n={}){const s=new sr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,_){const T=new R0({next:R=>{T.su(),f.enqueueAndForget(()=>g0(u,A)),R.fromCache&&p.source==="server"?_.reject(new fe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(R)},error:R=>_.reject(R)}),A=new _0(m,T,{includeMetadataChanges:!0,Ta:!0});return p0(u,A)}(await I0(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x0(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(r,e,n){if(!n)throw new fe(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Vx(r,e,n,s){if(e===!0&&s===!0)throw new fe(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function aE(r){if(!ge.isDocumentKey(r))throw new fe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function oE(r){if(ge.isDocumentKey(r))throw new fe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Sp(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te()}function bi(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new fe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Sp(r);throw new fe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="firestore.googleapis.com",lE=!0;class uE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new fe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=N0,this.ssl=lE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:lE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=i0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hI)throw new fe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Vx("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=x0((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new fe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class qh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new fe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new fe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new H1;switch(s.type){case"firstParty":return new $1(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new fe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=sE.get(n);s&&(oe("ComponentProvider","Removing Datastore"),sE.delete(n),s.terminate())}(this),Promise.resolve()}}function kx(r,e,n,s={}){var o;const u=(r=bi(r,qh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==N0&&u.host!==m&&fo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!ls(p,f)&&(r._setSettings(p),s.mockUserToken)){let _,T;if(typeof s.mockUserToken=="string")_=s.mockUserToken,T=Jt.MOCK_USER;else{_=_R(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new fe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Jt(A)}r._authCredentials=new q1(new mT(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Fh(this.firestore,e,this._query)}}class yn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new os(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yn(this.firestore,e,this._key)}}class os extends Fh{constructor(e,n,s){super(e,n,rp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yn(this.firestore,null,new ge(e))}withConverter(e){return new os(this.firestore,e,this._path)}}function wp(r,e,...n){if(r=nn(r),D0("collection","path",e),r instanceof qh){const s=tt.fromString(e,...n);return oE(s),new os(r,null,s)}{if(!(r instanceof yn||r instanceof os))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return oE(s),new os(r.firestore,null,s)}}function Io(r,e,...n){if(r=nn(r),arguments.length===1&&(e=pT.newId()),D0("doc","path",e),r instanceof qh){const s=tt.fromString(e,...n);return aE(s),new yn(r,null,new ge(s))}{if(!(r instanceof yn||r instanceof os))throw new fe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return aE(s),new yn(r.firestore,r instanceof os?r.converter:null,new ge(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="AsyncQueue";class hE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new o0(this,"async_queue_retry"),this.bu=()=>{const s=hm();s&&oe(cE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const n=hm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=hm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new sr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Ro(e))throw e;oe(cE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw ur("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=_p.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Te()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class xo extends qh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new hE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hE(e),this._firestoreClient=void 0,await e}}}function Px(r,e){const n=typeof r=="object"?r:sT(),s=typeof r=="string"?r:dh,o=Wm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=pR("firestore");u&&kx(o,...u)}return o}function Ap(r){if(r._terminated)throw new fe(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Lx(r),r._firestoreClient}function Lx(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,_,T){return new aC(m,p,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,x0(T.experimentalLongPollingOptions),T.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new xx(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Eo(Kt.fromBase64String(e))}catch(n){throw new fe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Eo(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new fe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new fe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new fe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Pe(this._lat,e._lat)||Pe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux=/^__.*__$/;class jx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new vs(e,this.data,this.fieldMask,n,this.fieldTransforms):new fu(e,this.data,n,this.fieldTransforms)}}class O0{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new vs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function M0(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te()}}class $h{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new $h(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Sh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(M0(this.Lu)&&Ux.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class zx{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||zh(e)}ju(e,n,s,o=!1){return new $h({Lu:e,methodName:n,zu:s,path:$t.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cp(r){const e=r._freezeSettings(),n=zh(r._databaseId);return new zx(r._databaseId,!!e.ignoreUndefinedProperties,n)}function V0(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);Dp("Data must be an object, but it was:",f,s);const m=k0(s,f);let p,_;if(u.merge)p=new Rn(f.fieldMask),_=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const A of u.mergeFields){const R=Um(e,A,n);if(!f.contains(R))throw new fe(J.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);L0(T,R)||T.push(R)}p=new Rn(T),_=f.fieldTransforms.filter(A=>p.covers(A.field))}else p=null,_=f.fieldTransforms;return new jx(new _n(m),p,_)}class Kh extends gu{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Kh}}function Bx(r,e,n){return new $h({Lu:3,zu:e.settings.zu,methodName:r._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class Ip extends gu{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=Bx(this,e,!0),s=this.Hu.map(u=>_u(u,n)),o=new _o(s);return new qT(e.path,o)}isEqual(e){return e instanceof Ip&&ls(this.Hu,e.Hu)}}class xp extends gu{constructor(e,n){super(e),this.Ju=n}_toFieldTransform(e){const n=new ru(e.serializer,UT(e.serializer,this.Ju));return new qT(e.path,n)}isEqual(e){return e instanceof xp&&this.Ju===e.Ju}}function Hx(r,e,n,s){const o=r.ju(1,e,n);Dp("Data must be an object, but it was:",o,s);const u=[],f=_n.empty();ys(s,(p,_)=>{const T=Np(e,p,n);_=nn(_);const A=o.Ku(T);if(_ instanceof Kh)u.push(T);else{const R=_u(_,A);R!=null&&(u.push(T),f.set(T,R))}});const m=new Rn(u);return new O0(f,m,o.fieldTransforms)}function qx(r,e,n,s,o,u){const f=r.ju(1,e,n),m=[Um(e,s,n)],p=[o];if(u.length%2!=0)throw new fe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push(Um(e,u[R])),p.push(u[R+1]);const _=[],T=_n.empty();for(let R=m.length-1;R>=0;--R)if(!L0(_,m[R])){const N=m[R];let k=p[R];k=nn(k);const $=f.Ku(N);if(k instanceof Kh)_.push(N);else{const q=_u(k,$);q!=null&&(_.push(N),T.set(N,q))}}const A=new Rn(_);return new O0(T,A,f.fieldTransforms)}function _u(r,e){if(P0(r=nn(r)))return Dp("Unsupported field value:",e,r),k0(r,e);if(r instanceof gu)return function(s,o){if(!M0(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=_u(m,o.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=nn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return UT(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Dt.fromDate(s);return{timestampValue:yh(o.serializer,u)}}if(s instanceof Dt){const u=new Dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:yh(o.serializer,u)}}if(s instanceof bp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Eo)return{bytesValue:XT(o.serializer,s._byteString)};if(s instanceof yn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:lp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Rp)return function(f,m){return{mapValue:{fields:{[wT]:{stringValue:AT},[mh]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw m.Wu("VectorValues must only contain numeric values.");return sp(m.serializer,_)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Sp(s)}`)}(r,e)}function k0(r,e){const n={};return _T(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ys(r,(s,o)=>{const u=_u(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function P0(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Dt||r instanceof bp||r instanceof Eo||r instanceof yn||r instanceof gu||r instanceof Rp)}function Dp(r,e,n){if(!P0(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Sp(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function Um(r,e,n){if((e=nn(e))instanceof Gh)return e._internalPath;if(typeof e=="string")return Np(r,e);throw Sh("Field path arguments must be of type string or ",r,!1,void 0,n)}const Fx=new RegExp("[~\\*/\\[\\]]");function Np(r,e,n){if(e.search(Fx)>=0)throw Sh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Gh(...e.split("."))._internalPath}catch{throw Sh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Sh(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new fe(J.INVALID_ARGUMENT,m+r+p)}function L0(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Gx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(j0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class Gx extends U0{data(){return super.data()}}function j0(r,e){return typeof e=="string"?Np(r,e):e instanceof Gh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $x(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new fe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Kx{convertValue(e,n="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ys(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[mh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>pt(f.doubleValue));return new Rp(u)}convertGeoPoint(e){return new bp(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Mh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(eu(e));default:return null}}convertTimestamp(e){const n=cs(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Ke(n0(s));const o=new tu(s.get(1),s.get(3)),u=new ge(s.popFirst(5));return o.isEqual(n)||ur(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class B0 extends U0{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new rh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(j0("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class rh extends B0{data(e={}){return super.data(e)}}class Qx{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Gl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new rh(this._firestore,this._userDataWriter,s.key,s,new Gl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new fe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new rh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Gl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return m.type!==0&&(_=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:Yx(m.type),doc:p,oldIndex:_,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Yx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(r){r=bi(r,yn);const e=bi(r.firestore,xo);return Ox(Ap(e),r._key).then(n=>Zx(e,r,n))}class q0 extends Kx{constructor(e){super(),this.firestore=e}convertBytes(e){return new Eo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yn(this.firestore,null,n)}}function F0(r){r=bi(r,Fh);const e=bi(r.firestore,xo),n=Ap(e),s=new q0(e);return $x(r._query),Mx(n,r._query).then(o=>new Qx(e,s,r,o))}function G0(r,e,n){r=bi(r,yn);const s=bi(r.firestore,xo),o=z0(r.converter,e);return Op(s,[V0(Cp(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Zn.none())])}function Xx(r,e,n,...s){r=bi(r,yn);const o=bi(r.firestore,xo),u=Cp(o);let f;return f=typeof(e=nn(e))=="string"||e instanceof Gh?qx(u,"updateDoc",r._key,e,n,s):Hx(u,"updateDoc",r._key,e),Op(o,[f.toMutation(r._key,Zn.exists(!0))])}function Wx(r,e){const n=bi(r.firestore,xo),s=Io(r),o=z0(r.converter,e);return Op(n,[V0(Cp(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Zn.exists(!1))]).then(()=>s)}function Op(r,e){return function(s,o){const u=new sr;return s.asyncQueue.enqueueAndForget(async()=>Ex(await Nx(s),o,u)),u.promise}(Ap(r),e)}function Zx(r,e,n){const s=n.docs.get(e._key),o=new q0(r);return new B0(r,o,e._key,s,new Gl(n.hasPendingWrites,n.fromCache),e.converter)}function Jx(...r){return new Ip("arrayUnion",r)}function eD(r){return new xp("increment",r)}(function(e,n=!0){(function(o){Ao=o})(wo),ho(new ia("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new xo(new F1(s.getProvider("auth-internal")),new K1(f,s.getProvider("app-check-internal")),function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new fe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new tu(_.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),ss(yv,vv,e),ss(yv,vv,"esm2017")})();function Mp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function $0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const tD=$0,K0=new cu("auth","Firebase",$0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Ym("@firebase/auth");function nD(r,...e){wh.logLevel<=Me.WARN&&wh.warn(`Auth (${wo}): ${r}`,...e)}function sh(r,...e){wh.logLevel<=Me.ERROR&&wh.error(`Auth (${wo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jn(r,...e){throw Vp(r,...e)}function Ei(r,...e){return Vp(r,...e)}function Q0(r,e,n){const s=Object.assign(Object.assign({},tD()),{[e]:n});return new cu("auth","Firebase",s).create(e,{appName:r.name})}function ar(r){return Q0(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return K0.create(r,...e)}function ve(r,e,...n){if(!r)throw Vp(e,...n)}function tr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw sh(e),new Error(e)}function hr(r,e){r||tr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jm(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function iD(){return fE()==="http:"||fE()==="https:"}function fE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iD()||TR()||"connection"in navigator)?navigator.onLine:!0}function sD(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n){this.shortDelay=e,this.longDelay=n,hr(n>e,"Short delay should be less than long delay!"),this.isMobile=yR()||SR()}get(){return rD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(r,e){hr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;tr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;tr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;tr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD=new yu(3e4,6e4);function Es(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function Ts(r,e,n,s,o={}){return X0(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=hu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:e,headers:p},u);return ER()||(_.referrerPolicy="no-referrer"),Y0.fetch()(W0(r,r.config.apiHost,n,m),_)})}async function X0(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},aD),e);try{const o=new uD(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Yc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,_]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Yc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Yc(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw Q0(r,T,_);Jn(r,T)}}catch(o){if(o instanceof fr)throw o;Jn(r,"network-request-failed",{message:String(o)})}}async function vu(r,e,n,s,o={}){const u=await Ts(r,e,n,s,o);return"mfaPendingCredential"in u&&Jn(r,"multi-factor-auth-required",{_serverResponse:u}),u}function W0(r,e,n,s){const o=`${e}${n}?${s}`;return r.config.emulator?kp(r.config,o):`${r.config.apiScheme}://${o}`}function lD(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ei(this.auth,"network-request-failed")),oD.get())})}}function Yc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ei(r,e,s);return o.customData._tokenResponse=n,o}function dE(r){return r!==void 0&&r.enterprise!==void 0}class cD{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return lD(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function hD(r,e){return Ts(r,"GET","/v2/recaptchaConfig",Es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(r,e){return Ts(r,"POST","/v1/accounts:delete",e)}async function Z0(r,e){return Ts(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function dD(r,e=!1){const n=nn(r),s=await n.getIdToken(e),o=Pp(s);ve(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Xl(dm(o.auth_time)),issuedAtTime:Xl(dm(o.iat)),expirationTime:Xl(dm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function dm(r){return Number(r)*1e3}function Pp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return sh("JWT malformed, contained fewer than 3 sections"),null;try{const o=ZE(n);return o?JSON.parse(o):(sh("Failed to decode base64 JWT payload"),null)}catch(o){return sh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function mE(r){const e=Pp(r);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function su(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof fr&&mD(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function mD({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pD{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xl(this.lastLoginAt),this.creationTime=Xl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ah(r){var e;const n=r.auth,s=await r.getIdToken(),o=await su(r,Z0(n,{idToken:s}));ve(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?J0(u.providerUserInfo):[],m=_D(r.providerData,f),p=r.isAnonymous,_=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),T=p?_:!1,A={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new zm(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,A)}async function gD(r){const e=nn(r);await Ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function _D(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function J0(r){return r.map(e=>{var{providerId:n}=e,s=Mp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yD(r,e){const n=await X0(r,{},async()=>{const s=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=W0(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",Y0.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vD(r,e){return Ts(r,"POST","/v2/accounts:revokeToken",Es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):mE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const n=mE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await yD(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new lo;return s&&(ve(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(ve(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(ve(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new lo,this.toJSON())}_performRefresh(){return tr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(r,e){ve(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class nr{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Mp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pD(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new zm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await su(this,this.stsTokenManager.getToken(this.auth,e));return ve(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return dD(this,e)}reload(){return gD(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new nr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ah(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(ar(this.auth));const e=await this.getIdToken();return await su(this,fD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,_,T;const A=(s=n.displayName)!==null&&s!==void 0?s:void 0,R=(o=n.email)!==null&&o!==void 0?o:void 0,N=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,k=(f=n.photoURL)!==null&&f!==void 0?f:void 0,$=(m=n.tenantId)!==null&&m!==void 0?m:void 0,q=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,Y=(_=n.createdAt)!==null&&_!==void 0?_:void 0,ne=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:ee,emailVerified:me,isAnonymous:ue,providerData:be,stsTokenManager:V}=n;ve(ee&&V,e,"internal-error");const C=lo.fromJSON(this.name,V);ve(typeof ee=="string",e,"internal-error"),Xr(A,e.name),Xr(R,e.name),ve(typeof me=="boolean",e,"internal-error"),ve(typeof ue=="boolean",e,"internal-error"),Xr(N,e.name),Xr(k,e.name),Xr($,e.name),Xr(q,e.name),Xr(Y,e.name),Xr(ne,e.name);const b=new nr({uid:ee,auth:e,email:R,emailVerified:me,displayName:A,isAnonymous:ue,photoURL:k,phoneNumber:N,tenantId:$,stsTokenManager:C,createdAt:Y,lastLoginAt:ne});return be&&Array.isArray(be)&&(b.providerData=be.map(x=>Object.assign({},x))),q&&(b._redirectEventId=q),b}static async _fromIdTokenResponse(e,n,s=!1){const o=new lo;o.updateFromServerResponse(n);const u=new nr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ah(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];ve(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?J0(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new lo;m.updateFromIdToken(s);const p=new nr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new zm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=new Map;function ir(r){hr(r instanceof Function,"Expected a class definition");let e=pE.get(r);return e?(hr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,pE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}eS.type="NONE";const gE=eS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(r,e,n){return`firebase:${r}:${e}:${n}`}class uo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=ah(this.userKey,o.apiKey,u),this.fullPersistenceKey=ah("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?nr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new uo(ir(gE),e,s);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||ir(gE);const f=ah(s,e.config.apiKey,e.name);let m=null;for(const _ of n)try{const T=await _._get(f);if(T){const A=nr._fromJSON(e,T);_!==u&&(m=A),u=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new uo(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new uo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(aS(e))return"Blackberry";if(oS(e))return"Webos";if(nS(e))return"Safari";if((e.includes("chrome/")||iS(e))&&!e.includes("edge/"))return"Chrome";if(sS(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function tS(r=tn()){return/firefox\//i.test(r)}function nS(r=tn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function iS(r=tn()){return/crios\//i.test(r)}function rS(r=tn()){return/iemobile/i.test(r)}function sS(r=tn()){return/android/i.test(r)}function aS(r=tn()){return/blackberry/i.test(r)}function oS(r=tn()){return/webos/i.test(r)}function Lp(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function ED(r=tn()){var e;return Lp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function TD(){return wR()&&document.documentMode===10}function lS(r=tn()){return Lp(r)||sS(r)||oS(r)||aS(r)||/windows phone/i.test(r)||rS(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(r,e=[]){let n;switch(r){case"Browser":n=_E(tn());break;case"Worker":n=`${_E(tn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${wo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SD{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wD(r,e={}){return Ts(r,"GET","/v2/passwordPolicy",Es(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AD=6;class bD{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:AD,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yE(this),this.idTokenSubscription=new yE(this),this.beforeStateQueue=new SD(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=K0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ir(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await uo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Z0(this,{idToken:e}),s=await nr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Gn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ah(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=sD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(ar(this));const n=e?nn(e):null;return n&&ve(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wD(this),n=new bD(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await vD(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ir(e)||this._popupRedirectResolver;ve(n,this,"argument-error"),this.redirectPersistenceManager=await uo.create(this,[ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&nD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ca(r){return nn(r)}class yE{constructor(e){this.auth=e,this.observer=null,this.addObserver=NR(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CD(r){Qh=r}function cS(r){return Qh.loadJS(r)}function ID(){return Qh.recaptchaEnterpriseScript}function xD(){return Qh.gapiScript}function DD(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class ND{constructor(){this.enterprise=new OD}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class OD{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const MD="recaptcha-enterprise",hS="NO_RECAPTCHA";class VD{constructor(e){this.type=MD,this.auth=ca(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{hD(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new cD(p);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,f(_.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;dE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(_=>{f(_)}).catch(()=>{f(hS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new ND().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&dE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=ID();p.length!==0&&(p+=m),cS(p).then(()=>{o(m,u,f)}).catch(_=>{f(_)})}}).catch(m=>{f(m)})})}}async function vE(r,e,n,s=!1,o=!1){const u=new VD(r);let f;if(o)f=hS;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Bm(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await vE(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await vE(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kD(r,e){const n=Wm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ls(u,e??{}))return o;Jn(o,"already-initialized")}return n.initialize({options:e})}function PD(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ir);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function LD(r,e,n){const s=ca(r);ve(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=fS(e),{host:f,port:m}=UD(e),p=m===null?"":`:${m}`,_={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){ve(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ve(ls(_,s.config.emulator)&&ls(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,jD()}function fS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function UD(r){const e=fS(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:EE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:EE(f)}}}function EE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function jD(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Up{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return tr("not implemented")}_getIdTokenResponse(e){return tr("not implemented")}_linkToIdToken(e,n){return tr("not implemented")}_getReauthenticationResolver(e){return tr("not implemented")}}async function zD(r,e){return Ts(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BD(r,e){return vu(r,"POST","/v1/accounts:signInWithPassword",Es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(r,e){return vu(r,"POST","/v1/accounts:signInWithEmailLink",Es(r,e))}async function qD(r,e){return vu(r,"POST","/v1/accounts:signInWithEmailLink",Es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends Up{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new au(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new au(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(e,n,"signInWithPassword",BD);case"emailLink":return HD(e,{email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(e,s,"signUpPassword",zD);case"emailLink":return qD(e,{idToken:n,email:this._email,oobCode:this._password});default:Jn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function co(r,e){return vu(r,"POST","/v1/accounts:signInWithIdp",Es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FD="http://localhost";class aa extends Up{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new aa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Jn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Mp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new aa(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return co(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,co(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,co(e,n)}buildRequest(){const e={requestUri:FD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function $D(r){const e=zl(Bl(r)).link,n=e?zl(Bl(e)).deep_link_id:null,s=zl(Bl(r)).deep_link_id;return(s?zl(Bl(s)).link:null)||s||n||e||r}class jp{constructor(e){var n,s,o,u,f,m;const p=zl(Bl(e)),_=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,A=GD((o=p.mode)!==null&&o!==void 0?o:null);ve(_&&T&&A,"argument-error"),this.apiKey=_,this.operation=A,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=$D(e);try{return new jp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(){this.providerId=Do.PROVIDER_ID}static credential(e,n){return au._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=jp.parseLink(n);return ve(s,"argument-error"),au._fromEmailAndCode(e,s.code,s.tenantId)}}Do.PROVIDER_ID="password";Do.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Do.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu extends dS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends Eu{constructor(){super("facebook.com")}static credential(e){return aa._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return aa._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Jr.credential(n,s)}catch{return null}}}Jr.GOOGLE_SIGN_IN_METHOD="google.com";Jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends Eu{constructor(){super("github.com")}static credential(e){return aa._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.GITHUB_SIGN_IN_METHOD="github.com";es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Eu{constructor(){super("twitter.com")}static credential(e,n){return aa._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ts.credential(n,s)}catch{return null}}}ts.TWITTER_SIGN_IN_METHOD="twitter.com";ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KD(r,e){return vu(r,"POST","/v1/accounts:signUp",Es(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await nr._fromIdTokenResponse(e,s,o),f=TE(s);return new oa({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=TE(s);return new oa({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function TE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends fr{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,bh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new bh(e,n,s,o)}}function mS(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?bh._fromErrorAndOperation(r,u,e,s):u})}async function QD(r,e,n=!1){const s=await su(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return oa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YD(r,e,n=!1){const{auth:s}=r;if(Gn(s.app))return Promise.reject(ar(s));const o="reauthenticate";try{const u=await su(r,mS(s,o,e,r),n);ve(u.idToken,s,"internal-error");const f=Pp(u.idToken);ve(f,s,"internal-error");const{sub:m}=f;return ve(r.uid===m,s,"user-mismatch"),oa._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Jn(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pS(r,e,n=!1){if(Gn(r.app))return Promise.reject(ar(r));const s="signIn",o=await mS(r,s,e),u=await oa._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function XD(r,e){return pS(ca(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gS(r){const e=ca(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function WD(r,e,n){if(Gn(r.app))return Promise.reject(ar(r));const s=ca(r),f=await Bm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",KD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&gS(r),p}),m=await oa._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function ZD(r,e,n){return Gn(r.app)?Promise.reject(ar(r)):XD(nn(r),Do.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&gS(r),s})}function JD(r,e,n,s){return nn(r).onIdTokenChanged(e,n,s)}function eN(r,e,n){return nn(r).beforeAuthStateChanged(e,n)}function tN(r){return nn(r).signOut()}const Rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _S{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nN=1e3,iN=10;class yS extends _S{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=lS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);TD()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,iN):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},nN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}yS.type="LOCAL";const rN=yS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS extends _S{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}vS.type="SESSION";const ES=vS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Yh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async _=>_(n.origin,u)),p=await sN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const _=zp("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const R=A;if(R.data.eventId===_)switch(R.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(){return window}function oN(r){Ti().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TS(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function lN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function uN(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function cN(){return TS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="firebaseLocalStorageDb",hN=1,Ch="firebaseLocalStorage",wS="fbase_key";class Tu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xh(r,e){return r.transaction([Ch],e?"readwrite":"readonly").objectStore(Ch)}function fN(){const r=indexedDB.deleteDatabase(SS);return new Tu(r).toPromise()}function Hm(){const r=indexedDB.open(SS,hN);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Ch,{keyPath:wS})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Ch)?e(s):(s.close(),await fN(),e(await Hm()))})})}async function SE(r,e,n){const s=Xh(r,!0).put({[wS]:e,value:n});return new Tu(s).toPromise()}async function dN(r,e){const n=Xh(r,!1).get(e),s=await new Tu(n).toPromise();return s===void 0?null:s.value}function wE(r,e){const n=Xh(r,!0).delete(e);return new Tu(n).toPromise()}const mN=800,pN=3;class AS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Hm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>pN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(cN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await lN(),!this.activeServiceWorker)return;this.sender=new aN(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||uN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Hm();return await SE(e,Rh,"1"),await wE(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>SE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>dN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>wE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Xh(o,!1).getAll();return new Tu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AS.type="LOCAL";const gN=AS;new yu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(r,e){return e?ir(e):(ve(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp extends Up{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return co(e,this._buildIdpRequest())}_linkToIdToken(e,n){return co(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return co(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function yN(r){return pS(r.auth,new Bp(r),r.bypassAuthState)}function vN(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),YD(n,new Bp(r),r.bypassAuthState)}async function EN(r){const{auth:e,user:n}=r;return ve(n,e,"internal-error"),QD(n,new Bp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return yN;case"linkViaPopup":case"linkViaRedirect":return EN;case"reauthViaPopup":case"reauthViaRedirect":return vN;default:Jn(this.auth,"internal-error")}}resolve(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN=new yu(2e3,1e4);class ao extends bS{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ao.currentPopupAction&&ao.currentPopupAction.cancel(),ao.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const e=zp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ao.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,TN.get())};e()}}ao.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN="pendingRedirect",oh=new Map;class wN extends bS{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=oh.get(this.auth._key());if(!e){try{const s=await AN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}oh.set(this.auth._key(),e)}return this.bypassAuthState||oh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function AN(r,e){const n=CN(e),s=RN(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function bN(r,e){oh.set(r._key(),e)}function RN(r){return ir(r._redirectPersistence)}function CN(r){return ah(SN,r.config.apiKey,r.name)}async function IN(r,e,n=!1){if(Gn(r.app))return Promise.reject(ar(r));const s=ca(r),o=_N(s,e),f=await new wN(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xN=10*60*1e3;class DN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!NN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!RS(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ei(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xN&&this.cachedEventUids.clear(),this.cachedEventUids.has(AE(e))}saveEventToCache(e){this.cachedEventUids.add(AE(e)),this.lastProcessedEventTime=Date.now()}}function AE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function RS({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function NN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RS(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ON(r,e={}){return Ts(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VN=/^https?/;async function kN(r){if(r.config.emulator)return;const{authorizedDomains:e}=await ON(r);for(const n of e)try{if(PN(n))return}catch{}Jn(r,"unauthorized-domain")}function PN(r){const e=jm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!VN.test(n))return!1;if(MN.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LN=new yu(3e4,6e4);function bE(){const r=Ti().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function UN(r){return new Promise((e,n)=>{var s,o,u;function f(){bE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bE(),n(Ei(r,"network-request-failed"))},timeout:LN.get()})}if(!((o=(s=Ti().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ti().gapi)===null||u===void 0)&&u.load)f();else{const m=DD("iframefcb");return Ti()[m]=()=>{gapi.load?f():n(Ei(r,"network-request-failed"))},cS(`${xD()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw lh=null,e})}let lh=null;function jN(r){return lh=lh||UN(r),lh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zN=new yu(5e3,15e3),BN="__/auth/iframe",HN="emulator/auth/iframe",qN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},FN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GN(r){const e=r.config;ve(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?kp(e,HN):`https://${r.config.authDomain}/${BN}`,s={apiKey:e.apiKey,appName:r.name,v:wo},o=FN.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${hu(s).slice(1)}`}async function $N(r){const e=await jN(r),n=Ti().gapi;return ve(n,r,"internal-error"),e.open({where:document.body,url:GN(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:qN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ei(r,"network-request-failed"),m=Ti().setTimeout(()=>{u(f)},zN.get());function p(){Ti().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QN=500,YN=600,XN="_blank",WN="http://localhost";class RE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ZN(r,e,n,s=QN,o=YN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},KN),{width:s.toString(),height:o.toString(),top:u,left:f}),_=tn().toLowerCase();n&&(m=iS(_)?XN:n),tS(_)&&(e=e||WN,p.scrollbars="yes");const T=Object.entries(p).reduce((R,[N,k])=>`${R}${N}=${k},`,"");if(ED(_)&&m!=="_self")return JN(e||"",m),new RE(null);const A=window.open(e||"",m,T);ve(A,r,"popup-blocked");try{A.focus()}catch{}return new RE(A)}function JN(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2="__/auth/handler",t2="emulator/auth/handler",n2=encodeURIComponent("fac");async function CE(r,e,n,s,o,u){ve(r.config.authDomain,r,"auth-domain-config-required"),ve(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:wo,eventId:o};if(e instanceof dS){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",DR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,A]of Object.entries({}))f[T]=A}if(e instanceof Eu){const T=e.getScopes().filter(A=>A!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),_=p?`#${n2}=${encodeURIComponent(p)}`:"";return`${i2(r)}?${hu(m).slice(1)}${_}`}function i2({config:r}){return r.emulator?kp(r,t2):`https://${r.authDomain}/${e2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm="webStorageSupport";class r2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ES,this._completeRedirectFn=IN,this._overrideRedirectResult=bN}async _openPopup(e,n,s,o){var u;hr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await CE(e,n,s,jm(),o);return ZN(e,f,zp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await CE(e,n,s,jm(),o);return oN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(hr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await $N(e),s=new DN(e);return n.register("authEvent",o=>(ve(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(mm,{type:mm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[mm];f!==void 0&&n(!!f),Jn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return lS()||nS()||Lp()}}const s2=r2;var IE="@firebase/auth",xE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function l2(r){ho(new ia("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ve(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uS(r)},_=new RD(s,o,u,p);return PD(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),ho(new ia("auth-internal",e=>{const n=ca(e.getProvider("auth").getImmediate());return(s=>new a2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ss(IE,xE,o2(r)),ss(IE,xE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2=5*60,c2=tT("authIdTokenMaxAge")||u2;let DE=null;const h2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>c2)return;const o=n==null?void 0:n.token;DE!==o&&(DE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function f2(r=sT()){const e=Wm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=kD(r,{popupRedirectResolver:s2,persistence:[gN,rN,ES]}),s=tT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=h2(u.toString());eN(n,f,()=>f(n.currentUser)),JD(n,m=>f(m))}}const o=JE("auth");return o&&LD(n,`http://${o}`),n}function d2(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}CD({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ei("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",d2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});l2("Browser");var m2="firebase",p2="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ss(m2,p2,"app");const g2={apiKey:"AIzaSyCSjbxL9N2DMxDdY5VYHIgSS8xcEXT54xE",authDomain:"my-first-project-7cbf9.firebaseapp.com",databaseURL:"https://my-first-project-7cbf9-default-rtdb.europe-west1.firebasedatabase.app",projectId:"my-first-project-7cbf9",storageBucket:"my-first-project-7cbf9.firebasestorage.app",messagingSenderId:"424606795900",appId:"1:424606795900:web:61a3a0683433959a3da1f9"},CS=rT(g2),ps=Px(CS),Hp=f2(CS);function _2(){const r=H.useRef(),[e,n]=H.useState([]),[s,o]=H.useState([]),u=H.useRef(!1),f=()=>{const m=r.current.value.trim().toLowerCase();if(r.current.value="",m==="")o(e);else{const p=e.filter(_=>{var T;return(T=_.content)==null?void 0:T.toLowerCase().includes(m)});o(p)}};return H.useEffect(()=>{if(u.current)return;u.current=!0,(async()=>{try{const p=wp(ps,"posts"),T=(await F0(p)).docs.map(A=>A.data());n(T),o(T)}catch(p){console.error("Грешка при взимане на постовете:",p)}})()},[]),E.jsxs("div",{className:mn.container,children:[E.jsxs("nav",{className:mn.nav,children:[E.jsx("h1",{children:"At"}),E.jsxs("ul",{children:[E.jsx("li",{children:E.jsxs(_e,{to:"/react-regular-exam/login",children:[E.jsx("i",{className:`fa-solid fa-arrow-right-to-bracket ${mn.i}`}),E.jsx("span",{children:"Sign in"})]})}),E.jsx("li",{children:E.jsxs(_e,{to:"/react-regular-exam/create",children:[E.jsx("i",{className:`fa-regular fa-id-badge ${mn.i}`}),E.jsx("span",{children:"Create account"})]})}),E.jsx("li",{children:E.jsxs(_e,{to:"/react-regular-exam",children:[E.jsx("i",{className:`fa-solid fa-person-through-window ${mn.i}`}),E.jsx("span",{children:"Leave"})]})})]}),E.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Guest"}),E.jsx("p",{children:"Guest"})]}),E.jsxs("main",{className:mn.main,children:[E.jsxs("section",{id:"search",className:mn.search,children:[E.jsx("h3",{children:"What do you need?"}),E.jsx("input",{type:"search",ref:r,name:"search",id:"search",placeholder:"search"}),E.jsx("button",{onClick:f,children:"🔍"})]}),E.jsxs("section",{id:"posts",className:mn.posts,children:[E.jsxs("div",{id:"post",className:mn.post,children:[E.jsxs("div",{id:"meta",className:mn.meta,children:[E.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Profile image"}),E.jsx("h4",{children:"Author"}),E.jsx("p",{children:"Date"})]}),E.jsx("p",{children:"Text content. This is my first post is text content, which is going to become viral!"}),E.jsx("img",{src:"https://images.indianexpress.com/2017/12/2017-viral-photos-main_759_combo.jpg?w=350",alt:"Img or Video"}),E.jsxs("div",{id:"feedback",className:mn.feedback,children:[E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-comment"}),E.jsx("span",{children:"5"})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-heart"}),E.jsx("span",{children:"12"})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-solid fa-magnifying-glass"}),E.jsx("span",{children:"57"})]})]})]}),s.length>0?s.map((m,p)=>{const _=m.meta.date;return E.jsxs("div",{id:"post",className:mn.post,children:[E.jsxs("div",{id:"meta",className:mn.meta,children:[E.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Profile image"}),E.jsx("h4",{children:m.meta.author}),E.jsx("p",{children:_})]}),E.jsx("p",{children:m.content}),E.jsx("img",{src:m.img||"https://example.com/default-image.jpg",alt:"Img or Video"}),E.jsxs("div",{id:"feedback",className:mn.feedback,children:[E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-comment"}),E.jsx("span",{children:m.feedback.comments})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-heart"}),E.jsx("span",{children:m.feedback.likes})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-solid fa-magnifying-glass"}),E.jsx("span",{children:m.feedback.views})]})]})]},p)}):E.jsx("p",{children:"No posts found"})]})]})]})}const y2="_wrapperMajor_12wpi_1",v2="_header_12wpi_11",E2="_logo_12wpi_73",T2="_main_12wpi_83",S2="_mainDiv_12wpi_95",w2="_nav_12wpi_107",A2="_button_12wpi_121",b2="_google_12wpi_141",R2="_awesome_12wpi_175",C2="_separator_12wpi_201",I2="_hr_12wpi_223",x2="_input_12wpi_231",D2="_next_12wpi_245",N2="_lastParagraph_12wpi_263",ft={wrapperMajor:y2,header:v2,logo:E2,main:T2,mainDiv:S2,nav:w2,button:A2,google:b2,awesome:R2,separator:C2,hr:I2,input:x2,next:D2,lastParagraph:N2},ha=H.createContext();function O2({children:r}){const[e,n]=H.useState({name:"",email:"",password:"",birthday:{month:"",day:"",year:""},checkbox:{getMore:"",connectWith:"",peronalizedAds:"",noThanks:""}}),s=o=>{n(u=>({...u,...o}))};return E.jsx(ha.Provider,{value:{formData:e,updateForm:s},children:r})}function M2(){const r=_s(),{updateForm:e}=H.useContext(ha),n=async s=>{var u;s.preventDefault();const o={email:((u=s.target.elements.email)==null?void 0:u.value)||""};if(!o.email)return alert("You must enter a valid email address");await e(o),r("/react-regular-exam/login/pass")};return E.jsx("form",{onSubmit:n,children:E.jsxs("div",{className:ft.wrapperMajor,children:[E.jsxs("header",{className:ft.header,children:[E.jsx(_e,{className:ft.x,to:"/react-regular-exam",children:E.jsx("i",{className:"fa-solid fa-xmark"})}),E.jsx("h1",{className:ft.logo,children:"At"})]}),E.jsx("main",{className:ft.main,children:E.jsxs("div",{className:ft.mainDiv,children:[E.jsx("h1",{children:"Sign in to At"}),E.jsxs("nav",{className:ft.nav,children:[E.jsxs("button",{type:"button",className:`${ft.button} ${ft.awesome} ${ft.google}`,children:[E.jsx("i",{className:"fa-brands fa-google"}),"Sign in with Google"]}),E.jsxs("button",{type:"button",className:`${ft.button} ${ft.awesome}`,children:[E.jsx("i",{className:"fa-brands fa-apple"}),"Sign in with Apple"]}),E.jsxs("div",{className:ft.separator,children:[E.jsx("hr",{className:ft.hr}),E.jsx("p",{children:"or"}),E.jsx("hr",{className:ft.hr})]}),E.jsx("input",{name:"email",className:ft.input,type:"email",placeholder:"email"}),E.jsx("button",{className:`${ft.button} ${ft.awesome} ${ft.next}`,children:"Next"}),E.jsx("button",{type:"button",className:`${ft.button} ${ft.awesome}`,to:"/react-regular-exam/guest",children:"Forgot password?"}),E.jsxs("p",{className:ft.lastParagraph,children:["Don't have an account?",E.jsx(_e,{to:"/react-regular-exam/create",children:"Sign up"})]})]})]})})]})})}const V2="_wrapperMajor_1qz1e_1",k2="_header_1qz1e_21",P2="_logo_1qz1e_83",L2="_main_1qz1e_93",U2="_mainDiv_1qz1e_107",j2="_upperDiv_1qz1e_121",z2="_emailState_1qz1e_131",B2="_password_1qz1e_159",H2="_arrow_1qz1e_177",q2="_inputWrapper_1qz1e_189",F2="_pass_1qz1e_159",G2="_forgot_1qz1e_219",$2="_login_1qz1e_247",K2="_signup_1qz1e_289",cn={wrapperMajor:V2,header:k2,logo:P2,main:L2,mainDiv:U2,upperDiv:j2,emailState:z2,password:B2,arrow:H2,inputWrapper:q2,pass:F2,forgot:G2,login:$2,signup:K2};function Q2(r,e){localStorage.setItem("user",JSON.stringify(r)),localStorage.setItem("userToken",e)}function IS(){return localStorage.getItem("userToken")}function qp(){return localStorage.getItem("user")}function Y2(){localStorage.removeItem("userToken"),localStorage.removeItem("user")}const X2=async r=>{const{email:e,password:n}=r;try{const o=(await WD(Hp,e,n)).user;await G0(Io(ps,"users",o.uid),{...r,createdAt:new Date,userId:o.uid})}catch(s){console.error("Error registering user:",s.message)}},W2=async r=>{const{email:e,password:n}=r;try{const o=(await ZD(Hp,e,n)).user,u=await o.getIdToken(),f=await J2(o.uid);return Q2(f,u),f}catch(s){console.error("Error login user:",s.message)}},Z2=async r=>{try{const e=await eO(r.img);e?r.img=e:r.img="";const n=await Wx(wp(ps,"posts"),r),s={...r,id:n.id};await G0(Io(ps,"posts",n.id),s)}catch(e){console.error("Error adding document:",e)}},xS=async(r,e)=>{const n=Io(ps,"posts",r);try{await Xx(n,{comments:Jx({data:e}),"feedback.comments":eD(1)})}catch(s){console.error("Error adding comment: ",s)}},DS=async r=>{try{const e=Io(ps,"posts",r),n=await H0(e);return n.exists()?n.data():(console.log("No such document!"),null)}catch(e){return console.error("Error fetching post:",e),null}};async function J2(r){try{const e=Io(ps,"users",r),n=await H0(e);if(n.exists())return n.data();throw new Error("no such user!")}catch(e){return console.error("Error fetching user:",e.message),null}}const eO=async r=>{if(!r)return;const e=new FormData;e.append("file",r),e.append("upload_preset","my_unsigned_preset");try{const s=await(await fetch("https://api.cloudinary.com/v1_1/dsqegonee/image/upload",{method:"POST",body:e})).json();if(s.secure_url)return console.log("Изображението е качено успешно:",s.secure_url),s.secure_url;console.error("Грешка при качването на изображението",s)}catch(n){console.error("Грешка при качването на изображението:",n)}},tO="_loader_1ojyy_11",nO={loader:tO};function NS(){return E.jsx("div",{className:nO.loader})}function iO(){const{formData:r,updateForm:e}=H.useContext(ha),n=_s(),[s,o]=H.useState(!1),[u,f]=H.useState(!1),m=async p=>{var T;p.preventDefault(),f(!0);const _={password:(T=p.target.elements.password)==null?void 0:T.value};if(!_)return alert("You need to provide a password");await e(_)};return H.useEffect(()=>{if(!r.password)return;(async()=>{try{const _=await W2(r);await e(_),n("/react-regular-exam/welcome"),f(!1)}catch(_){alert(_.message)}})()},[r.password]),E.jsx("form",{onSubmit:m,children:E.jsxs("div",{className:cn.wrapperMajor,children:[u&&E.jsx(NS,{}),E.jsxs("header",{className:cn.header,children:[E.jsx(_e,{className:cn.x,to:"/react-regular-exam",children:E.jsx("i",{className:"fa-solid fa-xmark"})}),E.jsx("h1",{className:cn.logo,children:"At"})]}),E.jsx("main",{className:cn.main,children:E.jsxs("div",{className:cn.mainDiv,children:[E.jsxs("div",{className:cn.upperDiv,children:[E.jsx("h1",{children:"Enter your password"}),E.jsxs("div",{className:cn.emailState,children:[E.jsx("p",{children:"Email"}),E.jsx("p",{children:r.email})]}),E.jsxs("div",{className:cn.password,children:[E.jsxs("div",{className:cn.arrow,children:[E.jsx("p",{children:"Password"}),E.jsx("i",{className:"fa-solid fa-arrow-down"})]}),E.jsxs("div",{className:cn.inputWrapper,children:[E.jsx("input",{className:cn.pass,type:"password",name:"password",id:"",placeholder:""}),E.jsx("i",{className:"fa-regular fa-eye"})]})]}),E.jsx("p",{className:cn.forgot,children:E.jsx(_e,{children:"Forgot password?"})})]}),E.jsxs("div",{className:cn.login,children:[E.jsx("input",{name:"login",type:"submit",value:"Log in"}),E.jsxs("div",{className:cn.signup,children:[E.jsx("p",{children:"Don't have an account?"}),E.jsx(_e,{to:"/create",children:"Sign up"})]})]})]})})]})})}const rO="_wrapperMajor_1bczb_1",sO="_header_1bczb_21",aO="_logo_1bczb_83",oO="_main_1bczb_93",lO="_mainDiv_1bczb_107",uO="_upperDiv_1bczb_121",cO="_password_1bczb_133",hO="_arrow_1bczb_151",fO="_inputWrapper_1bczb_163",dO="_pass_1bczb_133",mO="_login_1bczb_185",pO="_birth_1bczb_223",gO="_birthday_1bczb_255",_O="_month_1bczb_265",yO="_day_1bczb_291",vO="_year_1bczb_291",Ye={wrapperMajor:rO,header:sO,logo:aO,main:oO,mainDiv:lO,upperDiv:uO,password:cO,arrow:hO,inputWrapper:fO,pass:dO,login:mO,birth:pO,birthday:gO,month:_O,day:yO,year:vO};function EO(){const{updateForm:r}=H.useContext(ha),e=_s(),n=async s=>{var u,f,m,p,_,T,A;s.preventDefault();const o={name:((u=s.target.elements.name)==null?void 0:u.value)||"",email:((f=s.target.elements.email)==null?void 0:f.value)||"",password:((m=s.target.elements.password)==null?void 0:m.value)||"",birthday:{month:((p=s.target.elements.month)==null?void 0:p.value)||"",day:((_=s.target.elements.day)==null?void 0:_.value)||"",year:((T=s.target.elements.year)==null?void 0:T.value)||""}};if(o.name)if(o.email){if(!o.password||o.password.length<6)return alert("You must enter a valid password!");if(o.password!==((A=s.target.elements.repeat)==null?void 0:A.value))return alert("Password Missmatch!");if(o.birthday.month)if(o.birthday.day){if(!o.birthday.year)return alert("You must choose an year!")}else return alert("You must choose a day!");else return alert("You must choose a month!")}else return alert("You must enter a valid email address!");else return alert("You must enter a name!");await r(o),e("/react-regular-exam/create/submit")};return E.jsx("form",{onSubmit:n,children:E.jsxs("div",{className:Ye.wrapperMajor,children:[E.jsxs("header",{className:Ye.header,children:[E.jsx(_e,{className:Ye.x,to:"/react-regular-exam",children:E.jsx("i",{className:"fa-solid fa-xmark"})}),E.jsx("h1",{className:Ye.logo,children:"At"})]}),E.jsx("main",{className:Ye.main,children:E.jsxs("div",{className:Ye.mainDiv,children:[E.jsxs("div",{className:Ye.upperDiv,children:[E.jsx("h1",{children:"Create your account"}),E.jsxs("div",{className:Ye.password,children:[E.jsxs("div",{className:Ye.arrow,children:[E.jsx("p",{children:"Name"}),E.jsx("i",{className:"fa-solid fa-arrow-down"})]}),E.jsx("div",{className:Ye.inputWrapper,children:E.jsx("input",{className:Ye.pass,type:"text",name:"name",id:"",placeholder:""})})]}),E.jsxs("div",{className:Ye.password,children:[E.jsxs("div",{className:Ye.arrow,children:[E.jsx("p",{children:"Email"}),E.jsx("i",{className:"fa-solid fa-arrow-down"})]}),E.jsx("div",{className:Ye.inputWrapper,children:E.jsx("input",{className:Ye.pass,type:"email",name:"email",id:"",placeholder:""})})]}),E.jsxs("div",{className:Ye.password,children:[E.jsxs("div",{className:Ye.arrow,children:[E.jsx("p",{children:"Password"}),E.jsx("i",{className:"fa-solid fa-arrow-down"})]}),E.jsx("div",{className:Ye.inputWrapper,children:E.jsx("input",{className:Ye.pass,type:"password",name:"password",id:"",placeholder:"At least 6 characters"})})]}),E.jsxs("div",{className:Ye.password,children:[E.jsxs("div",{className:Ye.arrow,children:[E.jsx("p",{children:"Repeat password"}),E.jsx("i",{className:"fa-solid fa-arrow-down"})]}),E.jsx("div",{className:Ye.inputWrapper,children:E.jsx("input",{className:Ye.pass,type:"password",name:"repeat",id:"",placeholder:""})})]}),E.jsxs("div",{className:Ye.birth,children:[E.jsx("p",{children:"Date of Birth"}),E.jsx("p",{children:"This will not be shown publicly. Confirm your own age, even if this account is for a business, a pet, or something else."}),E.jsxs("div",{className:Ye.birthday,children:[E.jsxs("div",{className:Ye.month,children:[E.jsx("p",{children:"month"}),E.jsxs("select",{name:"month",id:"month",children:[E.jsx("option",{value:""}),E.jsx("option",{value:"January",children:"January"}),E.jsx("option",{value:"February",children:"February"}),E.jsx("option",{value:"March",children:"March"}),E.jsx("option",{value:"April",children:"April"}),E.jsx("option",{value:"May",children:"May"}),E.jsx("option",{value:"June",children:"June"}),E.jsx("option",{value:"July",children:"July"}),E.jsx("option",{value:"August",children:"August"}),E.jsx("option",{value:"September",children:"September"}),E.jsx("option",{value:"October",children:"October"}),E.jsx("option",{value:"November",children:"November"}),E.jsx("option",{value:"December",children:"December"})]})]}),E.jsxs("div",{className:Ye.day,children:[E.jsx("p",{children:"Day"}),E.jsxs("select",{name:"day",id:"day",children:[E.jsx("option",{value:""}),Array.from({length:31},(s,o)=>E.jsx("option",{value:o+1,children:o+1},o+1))]})]}),E.jsxs("div",{className:Ye.year,children:[E.jsx("p",{children:"Year"}),E.jsxs("select",{name:"year",id:"year",children:[E.jsx("option",{value:""}),Array.from({length:121},(s,o)=>E.jsx("option",{value:o+1905,children:o+1905},o+1905))]})]})]})]})]}),E.jsx("div",{className:Ye.login,children:E.jsx("button",{children:"Next"})})]})})]})})}const TO="_wrapperMajor_ewi7d_1",SO="_header_ewi7d_33",wO="_logo_ewi7d_95",AO="_main_ewi7d_105",bO="_wrapper_ewi7d_1",RO="_checkBoxWrapper_ewi7d_135",CO="_button_ewi7d_267",Wr={wrapperMajor:TO,header:SO,logo:wO,main:AO,wrapper:bO,checkBoxWrapper:RO,button:CO};function IO(){const r=_s(),{formData:e,updateForm:n}=H.useContext(ha),[s,o]=H.useState(!1),u=async f=>{var p,_,T;f.preventDefault(),o(!0);const m={checkbox:{getMore:(p=f.target.elements.getMore)!=null&&p.checked?"yes":"no",connectWith:(_=f.target.elements.connectWith)!=null&&_.checked?"yes":"no",peronalizedAds:(T=f.target.elements.peronalizedAds)!=null&&T.checked?"yes":"no"}};try{n(m)}catch(A){console.error("Error registering user:",A.message)}};return H.useEffect(()=>{if(!e.checkbox.getMore)return;(async()=>{try{await X2(e),o(!1),r("/react-regular-exam/guest")}catch(m){alert(m.message)}})()},[e.checkbox.getMore]),E.jsx("form",{onSubmit:u,children:E.jsxs("div",{className:Wr.wrapperMajor,children:[s&&E.jsx(NS,{}),E.jsxs("header",{className:Wr.header,children:[E.jsx(_e,{className:Wr.x,to:"/react-regular-exam",children:E.jsx("i",{className:"fa-solid fa-xmark"})}),E.jsx("h1",{className:Wr.logo,children:"At"})]}),E.jsxs("main",{className:Wr.main,children:[E.jsxs("div",{className:Wr.wrapper,children:[E.jsx("h1",{children:"Customize your experience"}),E.jsxs("div",{className:Wr.checkBoxWrapper,children:[E.jsxs("div",{children:[E.jsx("h3",{children:"Get more out of At"}),E.jsxs("div",{children:[E.jsx("p",{children:"Receive email about your At activity and recommendations."}),E.jsx("input",{type:"checkbox",name:"getMore"})]})]}),E.jsxs("div",{children:[E.jsx("h3",{children:"Connect with people you know"}),E.jsxs("div",{children:[E.jsx("p",{children:"Let others find your At account by your email address."}),E.jsx("input",{type:"checkbox",name:"connectWith"})]})]}),E.jsxs("div",{children:[E.jsx("h3",{children:"Personalized ads"}),E.jsxs("div",{children:[E.jsx("p",{children:"You will always see ads on At based on your At activity. When this setting is enabled, At may further personalize ads from At advertisers, on and off At, by combining your At activity with other online activity and information from our partners."}),E.jsx("input",{type:"checkbox",name:"peronalizedAds"})]})]})]}),E.jsxs("p",{children:["By signing up, you agree to our ",E.jsx(_e,{children:"Terms"}),", ",E.jsx(_e,{children:"Privacy Policy"}),", and ",E.jsx(_e,{children:"Cookie Use"}),". At may use your contact information, including your email address and phone number for purposes outlined in our Privacy Policy. ",E.jsx(_e,{children:"Learn more"})]})]}),E.jsx("div",{className:Wr.button,children:E.jsx("input",{type:"submit",value:"Next"})})]})]})})}const xO="_container_1491b_1",DO="_main_1491b_159",NE={container:xO,main:DO},NO="_nav_tg84o_1",OO="_i_tg84o_11",ea={nav:NO,i:OO};function MO(){const{formData:r,updateForm:e}=H.useContext(ha),[n,s]=H.useState("Loading..."),o=_s(),u=async f=>{f.preventDefault();try{await tN(Hp),e({name:"",email:"",password:"",birthday:{month:"",day:"",year:""},checkbox:{getMore:"",connectWith:"",peronalizedAds:"",noThanks:""}}),Y2(),o("/react-regular-exam")}catch(m){console.error("Logout error:",m)}};return H.useEffect(()=>{const f=JSON.parse(qp());f&&f.name?s(f.name):s("Guest")},[]),E.jsxs("nav",{className:ea.nav,children:[E.jsx("h1",{children:"At"}),E.jsxs("ul",{children:[E.jsx("li",{children:E.jsxs(_e,{to:"/react-regular-exam/welcome",children:[E.jsx("i",{className:`fa-solid fa-house-flag ${ea.i}`}),E.jsx("span",{children:"Welcome"})]})}),E.jsx("li",{children:E.jsxs(_e,{to:"/react-regular-exam/about",children:[E.jsx("i",{className:`fa-solid fa-bell ${ea.i}`}),E.jsx("span",{children:"Notification"})]})}),E.jsx("li",{children:E.jsxs(_e,{to:"/react-regular-exam/about",children:[E.jsx("i",{className:`fa-solid fa-envelope ${ea.i}`}),E.jsx("span",{children:"Messages"})]})}),E.jsx("li",{children:E.jsxs(_e,{to:"/react-regular-exam/about",children:[E.jsx("i",{className:`fa-solid fa-user ${ea.i}`}),E.jsx("span",{children:"Profile"})]})}),E.jsx("li",{children:E.jsxs(_e,{to:"/react-regular-exam/about",children:[E.jsx("i",{className:`fa-solid fa-suitcase ${ea.i}`}),E.jsx("span",{children:"Jobs"})]})}),E.jsx("li",{children:E.jsxs(_e,{onClick:u,to:"#",children:[E.jsx("i",{className:`fa-solid fa-circle-xmark ${ea.i}`}),E.jsx("span",{children:"Logout"})]})}),E.jsx("li",{children:E.jsx(_e,{to:"/react-regular-exam/welcome/post",children:E.jsx("span",{children:"Post"})})})]}),E.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Guest"}),E.jsx("p",{children:n})]})}function VO(){const r=H.useRef(null);return E.jsxs("div",{className:NE.container,children:[E.jsx(MO,{}),E.jsx("main",{ref:r,className:NE.main,children:E.jsx(ib,{context:{mainRef:r}})})]})}const kO="_search_jvbo2_1",PO="_meta_jvbo2_39",LO="_post_jvbo2_69",UO="_postWrapper_jvbo2_77",jO="_feedback_jvbo2_113",zO="_imgWrap_jvbo2_141",BO="_modalOverlay_jvbo2_149",HO="_modalContent_jvbo2_175",qO="_commentBox_jvbo2_195",FO="_modalButtons_jvbo2_215",GO="_sendBtn_jvbo2_225",$O="_closeBtn_jvbo2_247",pn={search:kO,meta:PO,post:LO,postWrapper:UO,feedback:jO,imgWrap:zO,modalOverlay:BO,modalContent:HO,commentBox:qO,modalButtons:FO,sendBtn:GO,closeBtn:$O};function KO(r,e){return E.jsx(E.Fragment,{children:E.jsxs("section",{id:"search",className:pn.search,children:[E.jsx("h3",{children:"What do you need?"}),E.jsx("input",{type:"search",ref:e,name:"search",id:"search",placeholder:"search"}),E.jsx("button",{onClick:r.onSearch,children:"🔍"})]})})}const QO=H.forwardRef(KO);function YO(r=6){const[e,n]=H.useState([]),[s,o]=H.useState([]),[u,f]=H.useState(!1),[m,p]=H.useState(1),_=A=>{const R=A.trim().toLowerCase();if(R==="")p(1),o(e.slice(0,m*r));else{const N=e.filter(k=>{var $;return($=k.content)==null?void 0:$.toLowerCase().includes(R)});o(N)}};return H.useEffect(()=>{(async()=>{try{const R=wp(ps,"posts"),k=(await F0(R)).docs.map($=>$.data());k.sort(($,q)=>new Date(q.meta.date)-new Date($.meta.date)),n(k),o(k.slice(0,r))}catch(R){console.error("Грешка при взимане на постовете:",R)}})()},[r]),{posts:e,filteredPosts:s,loadMorePosts:()=>{if(u||s.length>=e.length)return;f(!0);const A=m+1,R=e.slice(m*r,A*r);R.length>0&&(o(N=>[...N,...R]),p(A)),f(!1)},loading:u,handleSearch:_}}function XO(r,e){H.useEffect(()=>{if(!(r!=null&&r.current))return;const n=()=>{const s=r.current;if(!s)return;const o=s.scrollHeight;s.scrollTop+s.clientHeight+5>=o&&e()};return r.current.addEventListener("scroll",n),()=>{r.current&&r.current.removeEventListener("scroll",n)}},[r,e])}function WO(){const r=_s();return{handleDetailsClick:n=>{r(`/react-regular-exam/welcome/${n.id}/details`,{state:{post:n}})}}}const Ft=[];for(let r=0;r<256;++r)Ft.push((r+256).toString(16).slice(1));function ZO(r,e=0){return(Ft[r[e+0]]+Ft[r[e+1]]+Ft[r[e+2]]+Ft[r[e+3]]+"-"+Ft[r[e+4]]+Ft[r[e+5]]+"-"+Ft[r[e+6]]+Ft[r[e+7]]+"-"+Ft[r[e+8]]+Ft[r[e+9]]+"-"+Ft[r[e+10]]+Ft[r[e+11]]+Ft[r[e+12]]+Ft[r[e+13]]+Ft[r[e+14]]+Ft[r[e+15]]).toLowerCase()}let pm;const JO=new Uint8Array(16);function eM(){if(!pm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");pm=crypto.getRandomValues.bind(crypto)}return pm(JO)}const tM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),OE={randomUUID:tM};function OS(r,e,n){var o;if(OE.randomUUID&&!r)return OE.randomUUID();r=r||{};const s=r.random??((o=r.rng)==null?void 0:o.call(r))??eM();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,ZO(s)}function nM(){const r=H.useRef(),{filteredPosts:e,loadMorePosts:n,loading:s,handleSearch:o}=YO(),{mainRef:u}=HA(),{handleDetailsClick:f}=WO(),[m,p]=H.useState(""),_=()=>{r.current&&o(r.current.value)};XO(u,n);const T=N=>{const $=N.target.closest("#closestID").getAttribute("data-key"),q=document.getElementById($);q.style.display="block"},A=N=>{const $=N.target.closest("#closestID").getAttribute("data-key"),q=document.getElementById($);q.style.display="none"},R=async N=>{const k=N.target.closest("#closestID"),$=k.getAttribute("data-key"),q=JSON.parse(qp()),Y={id:OS(),author:q.name,text:k.querySelector("textarea").value,date:new Date().toLocaleString()};if(k.querySelector("textarea").value="",!Y.text)return alert("Your reply is empty!");await xS($,Y);const ne=document.getElementById($);ne.style.display="none";const ee=await DS($);if(ee){const me=ee.feedback.comments;p(me)}};return E.jsxs(E.Fragment,{children:[E.jsx(QO,{ref:r,onSearch:_}),E.jsx("section",{id:"posts",className:pn.posts,children:e.length>0?e.map(N=>E.jsxs("div",{id:"closestID","data-key":N.id,className:pn.postWrapper,children:[E.jsx("div",{onClick:()=>f(N),className:pn.post,children:E.jsxs("div",{className:pn.imgWrap,children:[E.jsxs("div",{className:pn.meta,children:[E.jsx("img",{src:N.meta.img||N.meta.avatar||"https://example.com/default-avatar.jpg",alt:"Profile"}),E.jsx("h4",{children:N.meta.author}),E.jsx("p",{children:N.meta.date})]}),E.jsx("p",{children:N.content}),E.jsx("img",{src:N.img||"https://example.com/default-avatar.jpg",alt:"Img or Video"})]})},N.id),E.jsxs("div",{className:pn.feedback,children:[E.jsxs("p",{onClick:k=>T(k),children:[E.jsx("i",{className:"fa-regular fa-comment"}),E.jsx("span",{children:m||N.feedback.comments})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-heart"}),E.jsx("span",{children:N.feedback.likes})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-solid fa-magnifying-glass"}),E.jsx("span",{children:N.feedback.views})]})]}),E.jsx("div",{"data-key":N.id,id:N.id,style:{display:"none"},className:pn.modalOverlay,children:E.jsxs("div",{className:pn.modalContent,onClick:k=>k.stopPropagation(),children:[E.jsx("textarea",{className:pn.commentBox,placeholder:"Post your reply"}),E.jsxs("div",{className:pn.modalButtons,children:[E.jsx("button",{className:pn.sendBtn,onClick:k=>R(k),children:"Reply"}),E.jsx("button",{className:pn.closeBtn,onClick:k=>A(k),children:"X"})]})]})})]},N.id)):E.jsx("p",{children:"No posts found"})}),s&&E.jsx("p",{className:pn.loading,children:"Loading more posts..."})]})}function iM({children:r}){const e=IS(),n=_s();return H.useEffect(()=>{if(!e)return n("/react-regular-exam")}),E.jsx(E.Fragment,{children:r})}const rM="_postFormContainer_19kdp_3",sM="_postForm_19kdp_3",aM="_avatar_19kdp_43",oM="_formContent_19kdp_57",lM="_textarea_19kdp_71",uM="_mediaPreview_19kdp_93",cM="_footer_19kdp_117",hM="_mediaButton_19kdp_133",fM="_button_19kdp_161",dM="_removeButton_19kdp_191",gi={postFormContainer:rM,postForm:sM,avatar:aM,formContent:oM,textarea:lM,mediaPreview:uM,footer:cM,mediaButton:hM,button:fM,removeButton:dM};function mM(){const[r,e]=H.useState(null),[n,s]=H.useState(null),o=H.useRef(null),u=H.useRef(null),{formData:f}=H.useContext(ha),m=T=>{const A=T.target.files[0];if(A){const R=URL.createObjectURL(A);e(A),s(R)}},p=()=>{e(null),u.current&&(u.current.value="")},_=async T=>{T.preventDefault();const A=o.current.value.trim();if(!A)return;const R={content:A,feedback:{comments:0,likes:0,views:0},img:r,meta:{author:f.name,date:new Date().toLocaleString(),avatar:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg"},comments:[]};await Z2(R),o.current.value="",e(null),u.current&&(u.current.value="")};return E.jsx("div",{className:gi.postFormContainer,children:E.jsxs("div",{className:gi.postForm,children:[E.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"User avatar",className:gi.avatar}),E.jsxs("form",{onSubmit:_,className:gi.formContent,children:[E.jsx("textarea",{ref:o,placeholder:"What's happening?",className:gi.textarea}),r&&E.jsx("div",{className:gi.mediaPreview,children:E.jsx("img",{src:n,alt:"Uploaded media preview"})}),E.jsxs("div",{className:gi.footer,children:[E.jsxs("label",{className:gi.mediaButton,children:["📷 Add Media",E.jsx("input",{type:"file",accept:"image/*",onChange:m,hidden:!0,ref:u})]}),r&&E.jsx("button",{type:"button",onClick:p,className:gi.removeButton,children:"❌ Remove"}),E.jsx("button",{type:"submit",className:gi.button,children:"Post"})]})]})]})})}const pM="_container_4dbl9_1",gM="_text_4dbl9_19",_M="_link_4dbl9_31",Xc={container:pM,text:gM,link:_M},yM=()=>{const[r,e]=H.useState(!1);return H.useEffect(()=>{const n=()=>{IS()};n(),n&&e(!0)},[]),E.jsxs("div",{className:Xc.container,children:[E.jsx("h1",{className:Xc.text,children:"Under Construction"}),r?E.jsx(_e,{to:"/react-regular-exam/welcome",className:Xc.link,children:"Go Back"}):E.jsx(_e,{to:"/react-regular-exam",className:Xc.link,children:"Go Back"})]})},vM="_meta_1t8iz_1",EM="_post_1t8iz_31",TM="_imgWrap_1t8iz_39",SM="_feedback_1t8iz_65",wM="_actions_1t8iz_91",AM="_editButton_1t8iz_103",bM="_deleteButton_1t8iz_103",RM="_commentSection_1t8iz_135",CM="_commentInput_1t8iz_149",IM="_commentButton_1t8iz_165",xM="_commentsContainer_1t8iz_185",DM="_comment_1t8iz_135",NM="_commentHeader_1t8iz_223",OM="_commentDate_1t8iz_259",MM="_commentText_1t8iz_269",VM="_noComments_1t8iz_279",Zt={meta:vM,post:EM,imgWrap:TM,feedback:SM,actions:wM,editButton:AM,deleteButton:bM,commentSection:RM,commentInput:CM,commentButton:IM,commentsContainer:xM,comment:DM,commentHeader:NM,commentDate:OM,commentText:MM,noComments:VM};function kM(){const e=JSON.parse(qp()).name;return{handleComment:async(s,o)=>{const u=s.id,f={id:OS(),author:e,text:o.current.value,date:new Date().toLocaleString()};return o.current.value="",f.text?(await xS(u,f),f):alert("Your reply is empty!")}}}function PM(){var _;const r=gs(),{handleComment:e}=kM(),n=(_=r.state)==null?void 0:_.post,s=H.useRef(),[o,u]=H.useState(null),[f,m]=H.useState([]);if(!n)return E.jsx("p",{children:"No post data found"});const p=async()=>{const T=await e(o,s);T&&m(A=>[...A,T])};return H.useEffect(()=>{(async()=>{const A=await DS(n.id);u(A)})()},[f]),E.jsxs(E.Fragment,{children:[o?E.jsxs("div",{className:Zt.post,children:[E.jsxs("div",{className:Zt.imgWrap,children:[E.jsxs("div",{className:Zt.meta,children:[E.jsx("img",{src:o.meta.img||o.meta.avatar||"https://example.com/default-avatar.jpg",alt:"Profile"}),E.jsx("h4",{children:o.meta.author}),E.jsx("p",{children:o.meta.date})]}),E.jsx("p",{children:o.content}),E.jsx("img",{src:o.img||"https://example.com/default-avatar.jpg",alt:"Img or Video"})]}),E.jsxs("div",{className:Zt.feedback,children:[E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-comment"}),E.jsx("span",{children:o.feedback.comments})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-regular fa-heart"}),E.jsx("span",{children:o.feedback.likes})]}),E.jsxs("p",{children:[E.jsx("i",{className:"fa-solid fa-magnifying-glass"}),E.jsx("span",{children:o.feedback.views})]})]}),E.jsxs("div",{className:Zt.actions,children:[E.jsx("button",{className:Zt.editButton,onClick:()=>handleEdit(n.id),children:"Edit"}),E.jsx("button",{className:Zt.deleteButton,onClick:()=>handleDelete(n.id),children:"Delete"})]}),E.jsxs("div",{className:Zt.commentSection,children:[E.jsx("textarea",{ref:s,placeholder:"Post your reply",className:Zt.commentInput}),E.jsx("button",{className:Zt.commentButton,onClick:()=>p(),children:"Reply"})]})]},o.id):E.jsx("p",{children:"Loading post data..."}),o?E.jsx("div",{className:Zt.commentsContainer,children:o.comments&&o.comments.length>0?o.comments.map(T=>E.jsxs("div",{className:Zt.comment,children:[E.jsxs("div",{className:Zt.commentHeader,children:[E.jsx("h5",{children:T.data.author}),E.jsx("p",{className:Zt.commentDate,children:T.data.date})]}),E.jsx("p",{className:Zt.commentText,children:T.data.text})]},T.data.id)):E.jsx("p",{className:Zt.noComments,children:"No comments yet. Be the first to reply!"})}):E.jsx("p",{children:"Loading post data..."})]})}function LM(){return E.jsx(O2,{children:E.jsxs(sb,{children:[E.jsx(Fn,{path:"/react-regular-exam/about",element:E.jsx(yM,{})}),E.jsx(Fn,{path:"/react-regular-exam",element:E.jsx(Zb,{})}),E.jsx(Fn,{path:"/react-regular-exam/guest",element:E.jsx(_2,{})}),E.jsx(Fn,{path:"/react-regular-exam/login",element:E.jsx(M2,{})}),E.jsx(Fn,{path:"/react-regular-exam/login/pass",element:E.jsx(iO,{})}),E.jsx(Fn,{path:"/react-regular-exam/create",element:E.jsx(EO,{})}),E.jsx(Fn,{path:"/react-regular-exam/create/submit",element:E.jsx(IO,{})}),E.jsxs(Fn,{path:"/react-regular-exam/welcome",element:E.jsx(iM,{children:E.jsx(VO,{})}),children:[E.jsx(Fn,{index:!0,element:E.jsx(nM,{})}),E.jsx(Fn,{path:":postId/details",element:E.jsx(PM,{})}),E.jsx(Fn,{path:"post",element:E.jsx(mM,{})})]})]})})}fA.createRoot(document.getElementById("root")).render(E.jsx(H.StrictMode,{children:E.jsx(Ib,{children:E.jsx(LM,{})})}));
