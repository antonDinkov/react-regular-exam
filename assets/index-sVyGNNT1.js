(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var rm={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ev;function pb(){if(ev)return zl;ev=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return zl.Fragment=e,zl.jsx=n,zl.jsxs=n,zl}var tv;function gb(){return tv||(tv=1,rm.exports=pb()),rm.exports}var y=gb(),sm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nv;function _b(){if(nv)return Ce;nv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.iterator;function R(O){return O===null||typeof O!="object"?null:(O=b&&O[b]||O["@@iterator"],typeof O=="function"?O:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,Y={};function q(O,ne,de){this.props=O,this.context=ne,this.refs=Y,this.updater=de||D}q.prototype.isReactComponent={},q.prototype.setState=function(O,ne){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,ne,"setState")},q.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function $(){}$.prototype=q.prototype;function te(O,ne,de){this.props=O,this.context=ne,this.refs=Y,this.updater=de||D}var K=te.prototype=new $;K.constructor=te,j(K,q.prototype),K.isPureReactComponent=!0;var re=Array.isArray,se={H:null,A:null,T:null,S:null},he=Object.prototype.hasOwnProperty;function M(O,ne,de,oe,le,Ie){return de=Ie.ref,{$$typeof:r,type:O,key:ne,ref:de!==void 0?de:null,props:Ie}}function C(O,ne){return M(O.type,ne,void 0,void 0,void 0,O.props)}function A(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function x(O){var ne={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(de){return ne[de]})}var k=/\/+/g;function B(O,ne){return typeof O=="object"&&O!==null&&O.key!=null?x(""+O.key):ne.toString(36)}function N(){}function St(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(N,N):(O.status="pending",O.then(function(ne){O.status==="pending"&&(O.status="fulfilled",O.value=ne)},function(ne){O.status==="pending"&&(O.status="rejected",O.reason=ne)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function gt(O,ne,de,oe,le){var Ie=typeof O;(Ie==="undefined"||Ie==="boolean")&&(O=null);var Re=!1;if(O===null)Re=!0;else switch(Ie){case"bigint":case"string":case"number":Re=!0;break;case"object":switch(O.$$typeof){case r:case e:Re=!0;break;case T:return Re=O._init,gt(Re(O._payload),ne,de,oe,le)}}if(Re)return le=le(O),Re=oe===""?"."+B(O,0):oe,re(le)?(de="",Re!=null&&(de=Re.replace(k,"$&/")+"/"),gt(le,ne,de,"",function(ot){return ot})):le!=null&&(A(le)&&(le=C(le,de+(le.key==null||O&&O.key===le.key?"":(""+le.key).replace(k,"$&/")+"/")+Re)),ne.push(le)),1;Re=0;var _t=oe===""?".":oe+":";if(re(O))for(var Be=0;Be<O.length;Be++)oe=O[Be],Ie=_t+B(oe,Be),Re+=gt(oe,ne,de,Ie,le);else if(Be=R(O),typeof Be=="function")for(O=Be.call(O),Be=0;!(oe=O.next()).done;)oe=oe.value,Ie=_t+B(oe,Be++),Re+=gt(oe,ne,de,Ie,le);else if(Ie==="object"){if(typeof O.then=="function")return gt(St(O),ne,de,oe,le);throw ne=String(O),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Re}function ae(O,ne,de){if(O==null)return O;var oe=[],le=0;return gt(O,oe,"","",function(Ie){return ne.call(de,Ie,le++)}),oe}function Te(O){if(O._status===-1){var ne=O._result;ne=ne(),ne.then(function(de){(O._status===0||O._status===-1)&&(O._status=1,O._result=de)},function(de){(O._status===0||O._status===-1)&&(O._status=2,O._result=de)}),O._status===-1&&(O._status=0,O._result=ne)}if(O._status===1)return O._result.default;throw O._result}var ge=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function Ge(){}return Ce.Children={map:ae,forEach:function(O,ne,de){ae(O,function(){ne.apply(this,arguments)},de)},count:function(O){var ne=0;return ae(O,function(){ne++}),ne},toArray:function(O){return ae(O,function(ne){return ne})||[]},only:function(O){if(!A(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},Ce.Component=q,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=te,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,Ce.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ce.cache=function(O){return function(){return O.apply(null,arguments)}},Ce.cloneElement=function(O,ne,de){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var oe=j({},O.props),le=O.key,Ie=void 0;if(ne!=null)for(Re in ne.ref!==void 0&&(Ie=void 0),ne.key!==void 0&&(le=""+ne.key),ne)!he.call(ne,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&ne.ref===void 0||(oe[Re]=ne[Re]);var Re=arguments.length-2;if(Re===1)oe.children=de;else if(1<Re){for(var _t=Array(Re),Be=0;Be<Re;Be++)_t[Be]=arguments[Be+2];oe.children=_t}return M(O.type,le,void 0,void 0,Ie,oe)},Ce.createContext=function(O){return O={$$typeof:f,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:u,_context:O},O},Ce.createElement=function(O,ne,de){var oe,le={},Ie=null;if(ne!=null)for(oe in ne.key!==void 0&&(Ie=""+ne.key),ne)he.call(ne,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(le[oe]=ne[oe]);var Re=arguments.length-2;if(Re===1)le.children=de;else if(1<Re){for(var _t=Array(Re),Be=0;Be<Re;Be++)_t[Be]=arguments[Be+2];le.children=_t}if(O&&O.defaultProps)for(oe in Re=O.defaultProps,Re)le[oe]===void 0&&(le[oe]=Re[oe]);return M(O,Ie,void 0,void 0,null,le)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(O){return{$$typeof:m,render:O}},Ce.isValidElement=A,Ce.lazy=function(O){return{$$typeof:T,_payload:{_status:-1,_result:O},_init:Te}},Ce.memo=function(O,ne){return{$$typeof:_,type:O,compare:ne===void 0?null:ne}},Ce.startTransition=function(O){var ne=se.T,de={};se.T=de;try{var oe=O(),le=se.S;le!==null&&le(de,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Ge,ge)}catch(Ie){ge(Ie)}finally{se.T=ne}},Ce.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},Ce.use=function(O){return se.H.use(O)},Ce.useActionState=function(O,ne,de){return se.H.useActionState(O,ne,de)},Ce.useCallback=function(O,ne){return se.H.useCallback(O,ne)},Ce.useContext=function(O){return se.H.useContext(O)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(O,ne){return se.H.useDeferredValue(O,ne)},Ce.useEffect=function(O,ne){return se.H.useEffect(O,ne)},Ce.useId=function(){return se.H.useId()},Ce.useImperativeHandle=function(O,ne,de){return se.H.useImperativeHandle(O,ne,de)},Ce.useInsertionEffect=function(O,ne){return se.H.useInsertionEffect(O,ne)},Ce.useLayoutEffect=function(O,ne){return se.H.useLayoutEffect(O,ne)},Ce.useMemo=function(O,ne){return se.H.useMemo(O,ne)},Ce.useOptimistic=function(O,ne){return se.H.useOptimistic(O,ne)},Ce.useReducer=function(O,ne,de){return se.H.useReducer(O,ne,de)},Ce.useRef=function(O){return se.H.useRef(O)},Ce.useState=function(O){return se.H.useState(O)},Ce.useSyncExternalStore=function(O,ne,de){return se.H.useSyncExternalStore(O,ne,de)},Ce.useTransition=function(){return se.H.useTransition()},Ce.version="19.0.0",Ce}var iv;function Zm(){return iv||(iv=1,sm.exports=_b()),sm.exports}var z=Zm(),am={exports:{}},Bl={},om={exports:{}},lm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rv;function yb(){return rv||(rv=1,function(r){function e(ae,Te){var ge=ae.length;ae.push(Te);e:for(;0<ge;){var Ge=ge-1>>>1,O=ae[Ge];if(0<o(O,Te))ae[Ge]=Te,ae[ge]=O,ge=Ge;else break e}}function n(ae){return ae.length===0?null:ae[0]}function s(ae){if(ae.length===0)return null;var Te=ae[0],ge=ae.pop();if(ge!==Te){ae[0]=ge;e:for(var Ge=0,O=ae.length,ne=O>>>1;Ge<ne;){var de=2*(Ge+1)-1,oe=ae[de],le=de+1,Ie=ae[le];if(0>o(oe,ge))le<O&&0>o(Ie,oe)?(ae[Ge]=Ie,ae[le]=ge,Ge=le):(ae[Ge]=oe,ae[de]=ge,Ge=de);else if(le<O&&0>o(Ie,ge))ae[Ge]=Ie,ae[le]=ge,Ge=le;else break e}}return Te}function o(ae,Te){var ge=ae.sortIndex-Te.sortIndex;return ge!==0?ge:ae.id-Te.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],_=[],T=1,b=null,R=3,D=!1,j=!1,Y=!1,q=typeof setTimeout=="function"?setTimeout:null,$=typeof clearTimeout=="function"?clearTimeout:null,te=typeof setImmediate<"u"?setImmediate:null;function K(ae){for(var Te=n(_);Te!==null;){if(Te.callback===null)s(_);else if(Te.startTime<=ae)s(_),Te.sortIndex=Te.expirationTime,e(p,Te);else break;Te=n(_)}}function re(ae){if(Y=!1,K(ae),!j)if(n(p)!==null)j=!0,St();else{var Te=n(_);Te!==null&&gt(re,Te.startTime-ae)}}var se=!1,he=-1,M=5,C=-1;function A(){return!(r.unstable_now()-C<M)}function x(){if(se){var ae=r.unstable_now();C=ae;var Te=!0;try{e:{j=!1,Y&&(Y=!1,$(he),he=-1),D=!0;var ge=R;try{t:{for(K(ae),b=n(p);b!==null&&!(b.expirationTime>ae&&A());){var Ge=b.callback;if(typeof Ge=="function"){b.callback=null,R=b.priorityLevel;var O=Ge(b.expirationTime<=ae);if(ae=r.unstable_now(),typeof O=="function"){b.callback=O,K(ae),Te=!0;break t}b===n(p)&&s(p),K(ae)}else s(p);b=n(p)}if(b!==null)Te=!0;else{var ne=n(_);ne!==null&&gt(re,ne.startTime-ae),Te=!1}}break e}finally{b=null,R=ge,D=!1}Te=void 0}}finally{Te?k():se=!1}}}var k;if(typeof te=="function")k=function(){te(x)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,N=B.port2;B.port1.onmessage=x,k=function(){N.postMessage(null)}}else k=function(){q(x,0)};function St(){se||(se=!0,k())}function gt(ae,Te){he=q(function(){ae(r.unstable_now())},Te)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ae){ae.callback=null},r.unstable_continueExecution=function(){j||D||(j=!0,St())},r.unstable_forceFrameRate=function(ae){0>ae||125<ae?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<ae?Math.floor(1e3/ae):5},r.unstable_getCurrentPriorityLevel=function(){return R},r.unstable_getFirstCallbackNode=function(){return n(p)},r.unstable_next=function(ae){switch(R){case 1:case 2:case 3:var Te=3;break;default:Te=R}var ge=R;R=Te;try{return ae()}finally{R=ge}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ae,Te){switch(ae){case 1:case 2:case 3:case 4:case 5:break;default:ae=3}var ge=R;R=ae;try{return Te()}finally{R=ge}},r.unstable_scheduleCallback=function(ae,Te,ge){var Ge=r.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?Ge+ge:Ge):ge=Ge,ae){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ge+O,ae={id:T++,callback:Te,priorityLevel:ae,startTime:ge,expirationTime:O,sortIndex:-1},ge>Ge?(ae.sortIndex=ge,e(_,ae),n(p)===null&&ae===n(_)&&(Y?($(he),he=-1):Y=!0,gt(re,ge-Ge))):(ae.sortIndex=O,e(p,ae),j||D||(j=!0,St())),ae},r.unstable_shouldYield=A,r.unstable_wrapCallback=function(ae){var Te=R;return function(){var ge=R;R=Te;try{return ae.apply(this,arguments)}finally{R=ge}}}}(lm)),lm}var sv;function vb(){return sv||(sv=1,om.exports=yb()),om.exports}var um={exports:{}},Wt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var av;function Eb(){if(av)return Wt;av=1;var r=Zm();function e(p){var _="https://react.dev/errors/"+p;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)_+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,_,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:_,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,_){if(p==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Wt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Wt.createPortal=function(p,_){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return u(p,_,null,T)},Wt.flushSync=function(p){var _=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=_,s.p=T,s.d.f()}},Wt.preconnect=function(p,_){typeof p=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(p,_))},Wt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Wt.preinit=function(p,_){if(typeof p=="string"&&_&&typeof _.as=="string"){var T=_.as,b=m(T,_.crossOrigin),R=typeof _.integrity=="string"?_.integrity:void 0,D=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;T==="style"?s.d.S(p,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:b,integrity:R,fetchPriority:D}):T==="script"&&s.d.X(p,{crossOrigin:b,integrity:R,fetchPriority:D,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Wt.preinitModule=function(p,_){if(typeof p=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var T=m(_.as,_.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(p)},Wt.preload=function(p,_){if(typeof p=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var T=_.as,b=m(T,_.crossOrigin);s.d.L(p,T,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Wt.preloadModule=function(p,_){if(typeof p=="string")if(_){var T=m(_.as,_.crossOrigin);s.d.m(p,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:T,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(p)},Wt.requestFormReset=function(p){s.d.r(p)},Wt.unstable_batchedUpdates=function(p,_){return p(_)},Wt.useFormState=function(p,_,T){return f.H.useFormState(p,_,T)},Wt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Wt.version="19.0.0",Wt}var ov;function Tb(){if(ov)return um.exports;ov=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),um.exports=Eb(),um.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lv;function wb(){if(lv)return Bl;lv=1;var r=vb(),e=Zm(),n=Tb();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),R=Symbol.for("react.consumer"),D=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),Y=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),re=Symbol.for("react.memo_cache_sentinel"),se=Symbol.iterator;function he(t){return t===null||typeof t!="object"?null:(t=se&&t[se]||t["@@iterator"],typeof t=="function"?t:null)}var M=Symbol.for("react.client.reference");function C(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===M?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case m:return"Portal";case T:return"Profiler";case _:return"StrictMode";case Y:return"Suspense";case q:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case D:return(t.displayName||"Context")+".Provider";case R:return(t._context.displayName||"Context")+".Consumer";case j:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $:return i=t.displayName||null,i!==null?i:C(t.type)||"Memo";case te:i=t._payload,t=t._init;try{return C(t(i))}catch{}}return null}var A=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,x=Object.assign,k,B;function N(t){if(k===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);k=i&&i[1]||"",B=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+k+t+B}var St=!1;function gt(t,i){if(!t||St)return"";St=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Q){var F=Q}Reflect.construct(t,[],J)}else{try{J.call()}catch(Q){F=Q}t.call(J.prototype)}}else{try{throw Error()}catch(Q){F=Q}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Q){if(Q&&F&&typeof Q.stack=="string")return[Q.stack,F.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),E=d[0],w=d[1];if(E&&w){var I=E.split(`
`),V=w.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<V.length&&!V[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===V.length)for(l=I.length-1,h=V.length-1;1<=l&&0<=h&&I[l]!==V[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==V[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==V[h]){var X=`
`+I[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{St=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?N(a):""}function ae(t){switch(t.tag){case 26:case 27:case 5:return N(t.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return t=gt(t.type,!1),t;case 11:return t=gt(t.type.render,!1),t;case 1:return t=gt(t.type,!0),t;default:return""}}function Te(t){try{var i="";do i+=ae(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function ge(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function Ge(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function O(t){if(ge(t)!==t)throw Error(s(188))}function ne(t){var i=t.alternate;if(!i){if(i=ge(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return O(h),t;if(d===l)return O(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var E=!1,w=h.child;w;){if(w===a){E=!0,a=h,l=d;break}if(w===l){E=!0,l=h,a=d;break}w=w.sibling}if(!E){for(w=d.child;w;){if(w===a){E=!0,a=d,l=h;break}if(w===l){E=!0,l=d,a=h;break}w=w.sibling}if(!E)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function de(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=de(t),i!==null)return i;t=t.sibling}return null}var oe=Array.isArray,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ie={pending:!1,data:null,method:null,action:null},Re=[],_t=-1;function Be(t){return{current:t}}function ot(t){0>_t||(t.current=Re[_t],Re[_t]=null,_t--)}function Qe(t,i){_t++,Re[_t]=t.current,t.current=i}var sn=Be(null),Pi=Be(null),On=Be(null),Er=Be(null);function Tr(t,i){switch(Qe(On,i),Qe(Pi,t),Qe(sn,null),t=i.nodeType,t){case 9:case 11:i=(i=i.documentElement)&&(i=i.namespaceURI)?xy(i):0;break;default:if(t=t===8?i.parentNode:i,i=t.tagName,t=t.namespaceURI)t=xy(t),i=Ny(t,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ot(sn),Qe(sn,i)}function ki(){ot(sn),ot(Pi),ot(On)}function ko(t){t.memoizedState!==null&&Qe(Er,t);var i=sn.current,a=Ny(i,t.type);i!==a&&(Qe(Pi,t),Qe(sn,a))}function ya(t){Pi.current===t&&(ot(sn),ot(Pi)),Er.current===t&&(ot(Er),kl._currentValue=Ie)}var va=Object.prototype.hasOwnProperty,Rs=r.unstable_scheduleCallback,Ea=r.unstable_cancelCallback,af=r.unstable_shouldYield,Vo=r.unstable_requestPaint,mn=r.unstable_now,Cu=r.unstable_getCurrentPriorityLevel,bt=r.unstable_ImmediatePriority,Mt=r.unstable_UserBlockingPriority,Vi=r.unstable_NormalPriority,Iu=r.unstable_LowPriority,jo=r.unstable_IdlePriority,of=r.log,Cs=r.unstable_setDisableYieldValue,wr=null,Yt=null;function Lo(t){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(wr,t,void 0,(t.current.flags&128)===128)}catch{}}function oi(t){if(typeof of=="function"&&Cs(t),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(wr,t)}catch{}}var an=Math.clz32?Math.clz32:Nu,Uo=Math.log,xu=Math.LN2;function Nu(t){return t>>>=0,t===0?32:31-(Uo(t)/xu|0)|0}var li=128,Sr=4194304;function Wn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Mn(t,i){var a=t.pendingLanes;if(a===0)return 0;var l=0,h=t.suspendedLanes,d=t.pingedLanes,E=t.warmLanes;t=t.finishedLanes!==0;var w=a&134217727;return w!==0?(a=w&~h,a!==0?l=Wn(a):(d&=w,d!==0?l=Wn(d):t||(E=w&~E,E!==0&&(l=Wn(E))))):(w=a&~h,w!==0?l=Wn(w):d!==0?l=Wn(d):t||(E=a&~E,E!==0&&(l=Wn(E)))),l===0?0:i!==0&&i!==l&&(i&h)===0&&(h=l&-l,E=i&-i,h>=E||h===32&&(E&4194176)!==0)?i:l}function br(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Ta(t,i){switch(t){case 1:case 2:case 4:case 8:return i+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zo(){var t=li;return li<<=1,(li&4194176)===0&&(li=128),t}function Ar(){var t=Sr;return Sr<<=1,(Sr&62914560)===0&&(Sr=4194304),t}function wa(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function dt(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Du(t,i,a,l,h,d){var E=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var w=t.entanglements,I=t.expirationTimes,V=t.hiddenUpdates;for(a=E&~a;0<a;){var X=31-an(a),J=1<<X;w[X]=0,I[X]=-1;var F=V[X];if(F!==null)for(V[X]=null,X=0;X<F.length;X++){var Q=F[X];Q!==null&&(Q.lane&=-536870913)}a&=~J}l!==0&&Rr(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(E&~i))}function Rr(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-an(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function Cr(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-an(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Ou(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Mu(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:Qy(t.type))}function Ir(t,i){var a=le.p;try{return le.p=t,i()}finally{le.p=a}}var ui=Math.random().toString(36).slice(2),Pt="__reactFiber$"+ui,At="__reactProps$"+ui,ji="__reactContainer$"+ui,Is="__reactEvents$"+ui,Sa="__reactListeners$"+ui,ci="__reactHandles$"+ui,Bo="__reactResources$"+ui,xr="__reactMarker$"+ui;function xs(t){delete t[Pt],delete t[At],delete t[Is],delete t[Sa],delete t[ci]}function Zn(t){var i=t[Pt];if(i)return i;for(var a=t.parentNode;a;){if(i=a[ji]||a[Pt]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=My(t);t!==null;){if(a=t[Pt])return a;t=My(t)}return i}t=a,a=t.parentNode}return null}function Li(t){if(t=t[Pt]||t[ji]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Nr(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function Dr(t){var i=t[Bo];return i||(i=t[Bo]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function nt(t){t[xr]=!0}var Ho=new Set,ba={};function Sn(t,i){pn(t,i),pn(t+"Capture",i)}function pn(t,i){for(ba[t]=i,t=0;t<i.length;t++)Ho.add(i[t])}var bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),qo={},Fo={};function Pu(t){return va.call(Fo,t)?!0:va.call(qo,t)?!1:lf.test(t)?Fo[t]=!0:(qo[t]=!0,!1)}function Or(t,i,a){if(Pu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Mr(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Pn(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function on(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ku(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function uf(t){var i=ku(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,d=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(E){l=""+E,d.call(this,E)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(E){l=""+E},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ns(t){t._valueTracker||(t._valueTracker=uf(t))}function Go(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=ku(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Aa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ui=/[\n"\\]/g;function lt(t){return t.replace(Ui,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Pr(t,i,a,l,h,d,E,w){t.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.type=E:t.removeAttribute("type"),i!=null?E==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+on(i)):t.value!==""+on(i)&&(t.value=""+on(i)):E!=="submit"&&E!=="reset"||t.removeAttribute("value"),i!=null?Ra(t,E,on(i)):a!=null?Ra(t,E,on(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?t.name=""+on(w):t.removeAttribute("name")}function Ds(t,i,a,l,h,d,E,w){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null))return;a=a!=null?""+on(a):"",i=i!=null?""+on(i):a,w||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=w?t.checked:!!l,t.defaultChecked=!!l,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(t.name=E)}function Ra(t,i,a){i==="number"&&Aa(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function He(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+on(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Os(t,i,a){if(i!=null&&(i=""+on(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+on(a):""}function kr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=on(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function kn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var cf=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $o(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||cf.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Vu(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&$o(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&$o(t,d,i[d])}function Ko(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ff=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hi(t){return ff.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Vn=null;function Ca(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zi=null,Bi=null;function Hi(t){var i=Li(t);if(i&&(t=i.stateNode)){var a=t[At]||null;e:switch(t=i.stateNode,i.type){case"input":if(Pr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+lt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[At]||null;if(!h)throw Error(s(90));Pr(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Go(l)}break e;case"textarea":Os(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&He(t,!!a.multiple,i,!1)}}}var Qo=!1;function ju(t,i,a){if(Qo)return t(i,a);Qo=!0;try{var l=t(i);return l}finally{if(Qo=!1,(zi!==null||Bi!==null)&&(Ic(),zi&&(i=zi,t=Bi,Bi=zi=null,Hi(i),t)))for(i=0;i<t.length;i++)Hi(t[i])}}function Ms(t,i){var a=t.stateNode;if(a===null)return null;var l=a[At]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var jn=!1;if(bn)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){jn=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{jn=!1}var fi=null,Vr=null,qi=null;function Yo(){if(qi)return qi;var t,i=Vr,a=i.length,l,h="value"in fi?fi.value:fi.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var E=a-t;for(l=1;l<=E&&i[a-l]===h[d-l];l++);return qi=h.slice(t,1<l?1-l:void 0)}function di(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function mi(){return!0}function Xo(){return!1}function kt(t){function i(a,l,h,d,E){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=E,this.currentTarget=null;for(var w in t)t.hasOwnProperty(w)&&(a=t[w],this[w]=a?a(d):d[w]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?mi:Xo,this.isPropagationStopped=Xo,this}return x(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),i}var $e={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ia=kt($e),ks=x({},$e,{view:0,detail:0}),Lu=kt(ks),xa,Na,pi,Vs=x({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pi&&(pi&&t.type==="mousemove"?(xa=t.screenX-pi.screenX,Na=t.screenY-pi.screenY):Na=xa=0,pi=t),xa)},movementY:function(t){return"movementY"in t?t.movementY:Na}}),Ln=kt(Vs),Uu=x({},Vs,{dataTransfer:0}),df=kt(Uu),js=x({},ks,{relatedTarget:0}),Da=kt(js),Wo=x({},$e,{animationName:0,elapsedTime:0,pseudoElement:0}),Oa=kt(Wo),zu=x({},$e,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ma=kt(zu),mf=x({},$e,{data:0}),Zo=kt(mf),Ls={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jo(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Hu[t])?!!i[t]:!1}function Us(){return Jo}var qu=x({},ks,{key:function(t){if(t.key){var i=Ls[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=di(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Bu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(t){return t.type==="keypress"?di(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?di(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pa=kt(qu),Fu=x({},Vs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=kt(Fu),Fi=x({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),Gu=kt(Fi),$u=x({},$e,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ku=kt($u),Qu=x({},Vs,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ka=kt(Qu),ln=x({},$e,{newState:0,oldState:0}),Yu=kt(ln),Xu=[9,13,27,32],gi=bn&&"CompositionEvent"in window,c=null;bn&&"documentMode"in document&&(c=document.documentMode);var g=bn&&"TextEvent"in window&&!c,v=bn&&(!gi||c&&8<c&&11>=c),S=" ",U=!1;function G(t,i){switch(t){case"keyup":return Xu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ie(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var je=!1;function Rt(t,i){switch(t){case"compositionend":return ie(i);case"keypress":return i.which!==32?null:(U=!0,S);case"textInput":return t=i.data,t===S&&U?null:t;default:return null}}function Le(t,i){if(je)return t==="compositionend"||!gi&&G(t,i)?(t=Yo(),qi=Vr=fi=null,je=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var Vt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ct(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Vt[t.type]:i==="textarea"}function Gi(t,i,a,l){zi?Bi?Bi.push(l):Bi=[l]:zi=l,i=Mc(i,"onChange"),0<i.length&&(a=new Ia("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var Bt=null,_i=null;function tl(t){by(t,0)}function Wu(t){var i=Nr(t);if(Go(i))return t}function Jp(t,i){if(t==="change")return i}var eg=!1;if(bn){var pf;if(bn){var gf="oninput"in document;if(!gf){var tg=document.createElement("div");tg.setAttribute("oninput","return;"),gf=typeof tg.oninput=="function"}pf=gf}else pf=!1;eg=pf&&(!document.documentMode||9<document.documentMode)}function ng(){Bt&&(Bt.detachEvent("onpropertychange",ig),_i=Bt=null)}function ig(t){if(t.propertyName==="value"&&Wu(_i)){var i=[];Gi(i,_i,t,Ca(t)),ju(tl,i)}}function Gw(t,i,a){t==="focusin"?(ng(),Bt=i,_i=a,Bt.attachEvent("onpropertychange",ig)):t==="focusout"&&ng()}function $w(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Wu(_i)}function Kw(t,i){if(t==="click")return Wu(i)}function Qw(t,i){if(t==="input"||t==="change")return Wu(i)}function Yw(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var An=typeof Object.is=="function"?Object.is:Yw;function nl(t,i){if(An(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!va.call(i,h)||!An(t[h],i[h]))return!1}return!0}function rg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function sg(t,i){var a=rg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=rg(a)}}function ag(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?ag(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function og(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Aa(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Aa(t.document)}return i}function _f(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}function Xw(t,i){var a=og(i);i=t.focusedElem;var l=t.selectionRange;if(a!==i&&i&&i.ownerDocument&&ag(i.ownerDocument.documentElement,i)){if(l!==null&&_f(i)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in i)i.selectionStart=t,i.selectionEnd=Math.min(a,i.value.length);else if(a=(t=i.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var h=i.textContent.length,d=Math.min(l.start,h);l=l.end===void 0?d:Math.min(l.end,h),!a.extend&&d>l&&(h=l,l=d,d=h),h=sg(i,d);var E=sg(i,l);h&&E&&(a.rangeCount!==1||a.anchorNode!==h.node||a.anchorOffset!==h.offset||a.focusNode!==E.node||a.focusOffset!==E.offset)&&(t=t.createRange(),t.setStart(h.node,h.offset),a.removeAllRanges(),d>l?(a.addRange(t),a.extend(E.node,E.offset)):(t.setEnd(E.node,E.offset),a.addRange(t)))}}for(t=[],a=i;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<t.length;i++)a=t[i],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var Ww=bn&&"documentMode"in document&&11>=document.documentMode,Va=null,yf=null,il=null,vf=!1;function lg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;vf||Va==null||Va!==Aa(l)||(l=Va,"selectionStart"in l&&_f(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),il&&nl(il,l)||(il=l,l=Mc(yf,"onSelect"),0<l.length&&(i=new Ia("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Va)))}function zs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ja={animationend:zs("Animation","AnimationEnd"),animationiteration:zs("Animation","AnimationIteration"),animationstart:zs("Animation","AnimationStart"),transitionrun:zs("Transition","TransitionRun"),transitionstart:zs("Transition","TransitionStart"),transitioncancel:zs("Transition","TransitionCancel"),transitionend:zs("Transition","TransitionEnd")},Ef={},ug={};bn&&(ug=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function Bs(t){if(Ef[t])return Ef[t];if(!ja[t])return t;var i=ja[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in ug)return Ef[t]=i[a];return t}var cg=Bs("animationend"),hg=Bs("animationiteration"),fg=Bs("animationstart"),Zw=Bs("transitionrun"),Jw=Bs("transitionstart"),eS=Bs("transitioncancel"),dg=Bs("transitionend"),mg=new Map,pg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Jn(t,i){mg.set(t,i),Sn(i,[t])}var Un=[],La=0,Tf=0;function Zu(){for(var t=La,i=Tf=La=0;i<t;){var a=Un[i];Un[i++]=null;var l=Un[i];Un[i++]=null;var h=Un[i];Un[i++]=null;var d=Un[i];if(Un[i++]=null,l!==null&&h!==null){var E=l.pending;E===null?h.next=h:(h.next=E.next,E.next=h),l.pending=h}d!==0&&gg(a,h,d)}}function Ju(t,i,a,l){Un[La++]=t,Un[La++]=i,Un[La++]=a,Un[La++]=l,Tf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function wf(t,i,a,l){return Ju(t,i,a,l),ec(t)}function jr(t,i){return Ju(t,null,null,i),ec(t)}function gg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;h&&i!==null&&t.tag===3&&(d=t.stateNode,h=31-an(a),d=d.hiddenUpdates,t=d[h],t===null?d[h]=[i]:t.push(i),i.lane=a|536870912)}function ec(t){if(50<Il)throw Il=0,Id=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ua={},_g=new WeakMap;function zn(t,i){if(typeof t=="object"&&t!==null){var a=_g.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Te(i)},_g.set(t,i),i)}return{value:t,source:i,stack:Te(i)}}var za=[],Ba=0,tc=null,nc=0,Bn=[],Hn=0,Hs=null,$i=1,Ki="";function qs(t,i){za[Ba++]=nc,za[Ba++]=tc,tc=t,nc=i}function yg(t,i,a){Bn[Hn++]=$i,Bn[Hn++]=Ki,Bn[Hn++]=Hs,Hs=t;var l=$i;t=Ki;var h=32-an(l)-1;l&=~(1<<h),a+=1;var d=32-an(i)+h;if(30<d){var E=h-h%5;d=(l&(1<<E)-1).toString(32),l>>=E,h-=E,$i=1<<32-an(i)+h|a<<h|l,Ki=d+t}else $i=1<<d|a<<h|l,Ki=t}function Sf(t){t.return!==null&&(qs(t,1),yg(t,1,0))}function bf(t){for(;t===tc;)tc=za[--Ba],za[Ba]=null,nc=za[--Ba],za[Ba]=null;for(;t===Hs;)Hs=Bn[--Hn],Bn[Hn]=null,Ki=Bn[--Hn],Bn[Hn]=null,$i=Bn[--Hn],Bn[Hn]=null}var un=null,Ht=null,qe=!1,ei=null,yi=!1,Af=Error(s(519));function Fs(t){var i=Error(s(418,""));throw al(zn(i,t)),Af}function vg(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[Pt]=t,i[At]=l,a){case"dialog":ke("cancel",i),ke("close",i);break;case"iframe":case"object":case"embed":ke("load",i);break;case"video":case"audio":for(a=0;a<Nl.length;a++)ke(Nl[a],i);break;case"source":ke("error",i);break;case"img":case"image":case"link":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"input":ke("invalid",i),Ds(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ns(i);break;case"select":ke("invalid",i);break;case"textarea":ke("invalid",i),kr(i,l.value,l.defaultValue,l.children),Ns(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Iy(i.textContent,a)?(l.popover!=null&&(ke("beforetoggle",i),ke("toggle",i)),l.onScroll!=null&&ke("scroll",i),l.onScrollEnd!=null&&ke("scrollend",i),l.onClick!=null&&(i.onclick=Pc),i=!0):i=!1,i||Fs(t)}function Eg(t){for(un=t.return;un;)switch(un.tag){case 3:case 27:yi=!0;return;case 5:case 13:yi=!1;return;default:un=un.return}}function rl(t){if(t!==un)return!1;if(!qe)return Eg(t),qe=!0,!1;var i=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Gd(t.type,t.memoizedProps)),a=!a),a&&(i=!0),i&&Ht&&Fs(t),Eg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Ht=ni(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Ht=null}}else Ht=un?ni(t.stateNode.nextSibling):null;return!0}function sl(){Ht=un=null,qe=!1}function al(t){ei===null?ei=[t]:ei.push(t)}var ol=Error(s(460)),Tg=Error(s(474)),Rf={then:function(){}};function wg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ic(){}function Sg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ic,ic),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===ol?Error(s(483)):t;default:if(typeof i.status=="string")i.then(ic,ic);else{if(t=Je,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,t===ol?Error(s(483)):t}throw ll=i,ol}}var ll=null;function bg(){if(ll===null)throw Error(s(459));var t=ll;return ll=null,t}var Ha=null,ul=0;function rc(t){var i=ul;return ul+=1,Ha===null&&(Ha=[]),Sg(Ha,t,i)}function cl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function sc(t,i){throw i.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Ag(t){var i=t._init;return i(t._payload)}function Rg(t){function i(L,P){if(t){var H=L.deletions;H===null?(L.deletions=[P],L.flags|=16):H.push(P)}}function a(L,P){if(!t)return null;for(;P!==null;)i(L,P),P=P.sibling;return null}function l(L){for(var P=new Map;L!==null;)L.key!==null?P.set(L.key,L):P.set(L.index,L),L=L.sibling;return P}function h(L,P){return L=Yr(L,P),L.index=0,L.sibling=null,L}function d(L,P,H){return L.index=H,t?(H=L.alternate,H!==null?(H=H.index,H<P?(L.flags|=33554434,P):H):(L.flags|=33554434,P)):(L.flags|=1048576,P)}function E(L){return t&&L.alternate===null&&(L.flags|=33554434),L}function w(L,P,H,W){return P===null||P.tag!==6?(P=Ed(H,L.mode,W),P.return=L,P):(P=h(P,H),P.return=L,P)}function I(L,P,H,W){var ce=H.type;return ce===p?X(L,P,H.props.children,W,H.key):P!==null&&(P.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===te&&Ag(ce)===P.type)?(P=h(P,H.props),cl(P,H),P.return=L,P):(P=Sc(H.type,H.key,H.props,null,L.mode,W),cl(P,H),P.return=L,P)}function V(L,P,H,W){return P===null||P.tag!==4||P.stateNode.containerInfo!==H.containerInfo||P.stateNode.implementation!==H.implementation?(P=Td(H,L.mode,W),P.return=L,P):(P=h(P,H.children||[]),P.return=L,P)}function X(L,P,H,W,ce){return P===null||P.tag!==7?(P=ea(H,L.mode,W,ce),P.return=L,P):(P=h(P,H),P.return=L,P)}function J(L,P,H){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return P=Ed(""+P,L.mode,H),P.return=L,P;if(typeof P=="object"&&P!==null){switch(P.$$typeof){case f:return H=Sc(P.type,P.key,P.props,null,L.mode,H),cl(H,P),H.return=L,H;case m:return P=Td(P,L.mode,H),P.return=L,P;case te:var W=P._init;return P=W(P._payload),J(L,P,H)}if(oe(P)||he(P))return P=ea(P,L.mode,H,null),P.return=L,P;if(typeof P.then=="function")return J(L,rc(P),H);if(P.$$typeof===D)return J(L,Ec(L,P),H);sc(L,P)}return null}function F(L,P,H,W){var ce=P!==null?P.key:null;if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return ce!==null?null:w(L,P,""+H,W);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case f:return H.key===ce?I(L,P,H,W):null;case m:return H.key===ce?V(L,P,H,W):null;case te:return ce=H._init,H=ce(H._payload),F(L,P,H,W)}if(oe(H)||he(H))return ce!==null?null:X(L,P,H,W,null);if(typeof H.then=="function")return F(L,P,rc(H),W);if(H.$$typeof===D)return F(L,P,Ec(L,H),W);sc(L,H)}return null}function Q(L,P,H,W,ce){if(typeof W=="string"&&W!==""||typeof W=="number"||typeof W=="bigint")return L=L.get(H)||null,w(P,L,""+W,ce);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case f:return L=L.get(W.key===null?H:W.key)||null,I(P,L,W,ce);case m:return L=L.get(W.key===null?H:W.key)||null,V(P,L,W,ce);case te:var Ne=W._init;return W=Ne(W._payload),Q(L,P,H,W,ce)}if(oe(W)||he(W))return L=L.get(H)||null,X(P,L,W,ce,null);if(typeof W.then=="function")return Q(L,P,H,rc(W),ce);if(W.$$typeof===D)return Q(L,P,H,Ec(P,W),ce);sc(P,W)}return null}function fe(L,P,H,W){for(var ce=null,Ne=null,pe=P,ve=P=0,Ut=null;pe!==null&&ve<H.length;ve++){pe.index>ve?(Ut=pe,pe=null):Ut=pe.sibling;var Fe=F(L,pe,H[ve],W);if(Fe===null){pe===null&&(pe=Ut);break}t&&pe&&Fe.alternate===null&&i(L,pe),P=d(Fe,P,ve),Ne===null?ce=Fe:Ne.sibling=Fe,Ne=Fe,pe=Ut}if(ve===H.length)return a(L,pe),qe&&qs(L,ve),ce;if(pe===null){for(;ve<H.length;ve++)pe=J(L,H[ve],W),pe!==null&&(P=d(pe,P,ve),Ne===null?ce=pe:Ne.sibling=pe,Ne=pe);return qe&&qs(L,ve),ce}for(pe=l(pe);ve<H.length;ve++)Ut=Q(pe,L,ve,H[ve],W),Ut!==null&&(t&&Ut.alternate!==null&&pe.delete(Ut.key===null?ve:Ut.key),P=d(Ut,P,ve),Ne===null?ce=Ut:Ne.sibling=Ut,Ne=Ut);return t&&pe.forEach(function(ns){return i(L,ns)}),qe&&qs(L,ve),ce}function be(L,P,H,W){if(H==null)throw Error(s(151));for(var ce=null,Ne=null,pe=P,ve=P=0,Ut=null,Fe=H.next();pe!==null&&!Fe.done;ve++,Fe=H.next()){pe.index>ve?(Ut=pe,pe=null):Ut=pe.sibling;var ns=F(L,pe,Fe.value,W);if(ns===null){pe===null&&(pe=Ut);break}t&&pe&&ns.alternate===null&&i(L,pe),P=d(ns,P,ve),Ne===null?ce=ns:Ne.sibling=ns,Ne=ns,pe=Ut}if(Fe.done)return a(L,pe),qe&&qs(L,ve),ce;if(pe===null){for(;!Fe.done;ve++,Fe=H.next())Fe=J(L,Fe.value,W),Fe!==null&&(P=d(Fe,P,ve),Ne===null?ce=Fe:Ne.sibling=Fe,Ne=Fe);return qe&&qs(L,ve),ce}for(pe=l(pe);!Fe.done;ve++,Fe=H.next())Fe=Q(pe,L,ve,Fe.value,W),Fe!==null&&(t&&Fe.alternate!==null&&pe.delete(Fe.key===null?ve:Fe.key),P=d(Fe,P,ve),Ne===null?ce=Fe:Ne.sibling=Fe,Ne=Fe);return t&&pe.forEach(function(mb){return i(L,mb)}),qe&&qs(L,ve),ce}function ht(L,P,H,W){if(typeof H=="object"&&H!==null&&H.type===p&&H.key===null&&(H=H.props.children),typeof H=="object"&&H!==null){switch(H.$$typeof){case f:e:{for(var ce=H.key;P!==null;){if(P.key===ce){if(ce=H.type,ce===p){if(P.tag===7){a(L,P.sibling),W=h(P,H.props.children),W.return=L,L=W;break e}}else if(P.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===te&&Ag(ce)===P.type){a(L,P.sibling),W=h(P,H.props),cl(W,H),W.return=L,L=W;break e}a(L,P);break}else i(L,P);P=P.sibling}H.type===p?(W=ea(H.props.children,L.mode,W,H.key),W.return=L,L=W):(W=Sc(H.type,H.key,H.props,null,L.mode,W),cl(W,H),W.return=L,L=W)}return E(L);case m:e:{for(ce=H.key;P!==null;){if(P.key===ce)if(P.tag===4&&P.stateNode.containerInfo===H.containerInfo&&P.stateNode.implementation===H.implementation){a(L,P.sibling),W=h(P,H.children||[]),W.return=L,L=W;break e}else{a(L,P);break}else i(L,P);P=P.sibling}W=Td(H,L.mode,W),W.return=L,L=W}return E(L);case te:return ce=H._init,H=ce(H._payload),ht(L,P,H,W)}if(oe(H))return fe(L,P,H,W);if(he(H)){if(ce=he(H),typeof ce!="function")throw Error(s(150));return H=ce.call(H),be(L,P,H,W)}if(typeof H.then=="function")return ht(L,P,rc(H),W);if(H.$$typeof===D)return ht(L,P,Ec(L,H),W);sc(L,H)}return typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint"?(H=""+H,P!==null&&P.tag===6?(a(L,P.sibling),W=h(P,H),W.return=L,L=W):(a(L,P),W=Ed(H,L.mode,W),W.return=L,L=W),E(L)):a(L,P)}return function(L,P,H,W){try{ul=0;var ce=ht(L,P,H,W);return Ha=null,ce}catch(pe){if(pe===ol)throw pe;var Ne=$n(29,pe,null,L.mode);return Ne.lanes=W,Ne.return=L,Ne}finally{}}}var Gs=Rg(!0),Cg=Rg(!1),qa=Be(null),ac=Be(0);function Ig(t,i){t=rr,Qe(ac,t),Qe(qa,i),rr=t|i.baseLanes}function Cf(){Qe(ac,rr),Qe(qa,qa.current)}function If(){rr=ac.current,ot(qa),ot(ac)}var qn=Be(null),vi=null;function Lr(t){var i=t.alternate;Qe(It,It.current&1),Qe(qn,t),vi===null&&(i===null||qa.current!==null||i.memoizedState!==null)&&(vi=t)}function xg(t){if(t.tag===22){if(Qe(It,It.current),Qe(qn,t),vi===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(vi=t)}}else Ur()}function Ur(){Qe(It,It.current),Qe(qn,qn.current)}function Qi(t){ot(qn),vi===t&&(vi=null),ot(It)}var It=Be(0);function oc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var tS=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},nS=r.unstable_scheduleCallback,iS=r.unstable_NormalPriority,xt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function xf(){return{controller:new tS,data:new Map,refCount:0}}function hl(t){t.refCount--,t.refCount===0&&nS(iS,function(){t.controller.abort()})}var fl=null,Nf=0,Fa=0,Ga=null;function rS(t,i){if(fl===null){var a=fl=[];Nf=0,Fa=Vd(),Ga={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Nf++,i.then(Ng,Ng),i}function Ng(){if(--Nf===0&&fl!==null){Ga!==null&&(Ga.status="fulfilled");var t=fl;fl=null,Fa=0,Ga=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function sS(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var Dg=A.S;A.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&rS(t,i),Dg!==null&&Dg(t,i)};var $s=Be(null);function Df(){var t=$s.current;return t!==null?t:Je.pooledCache}function lc(t,i){i===null?Qe($s,$s.current):Qe($s,i.pool)}function Og(){var t=Df();return t===null?null:{parent:xt._currentValue,pool:t}}var zr=0,xe=null,Xe=null,yt=null,uc=!1,$a=!1,Ks=!1,cc=0,dl=0,Ka=null,aS=0;function mt(){throw Error(s(321))}function Of(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!An(t[a],i[a]))return!1;return!0}function Mf(t,i,a,l,h,d){return zr=d,xe=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,A.H=t===null||t.memoizedState===null?Qs:Br,Ks=!1,d=a(l,h),Ks=!1,$a&&(d=Pg(i,a,l,h)),Mg(t),d}function Mg(t){A.H=Ei;var i=Xe!==null&&Xe.next!==null;if(zr=0,yt=Xe=xe=null,uc=!1,dl=0,Ka=null,i)throw Error(s(300));t===null||jt||(t=t.dependencies,t!==null&&vc(t)&&(jt=!0))}function Pg(t,i,a,l){xe=t;var h=0;do{if($a&&(Ka=null),dl=0,$a=!1,25<=h)throw Error(s(301));if(h+=1,yt=Xe=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}A.H=Ys,d=i(a,l)}while($a);return d}function oS(){var t=A.H,i=t.useState()[0];return i=typeof i.then=="function"?ml(i):i,t=t.useState()[0],(Xe!==null?Xe.memoizedState:null)!==t&&(xe.flags|=1024),i}function Pf(){var t=cc!==0;return cc=0,t}function kf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Vf(t){if(uc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}uc=!1}zr=0,yt=Xe=xe=null,$a=!1,dl=cc=0,Ka=null}function gn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yt===null?xe.memoizedState=yt=t:yt=yt.next=t,yt}function vt(){if(Xe===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Xe.next;var i=yt===null?xe.memoizedState:yt.next;if(i!==null)yt=i,Xe=t;else{if(t===null)throw xe.alternate===null?Error(s(467)):Error(s(310));Xe=t,t={memoizedState:Xe.memoizedState,baseState:Xe.baseState,baseQueue:Xe.baseQueue,queue:Xe.queue,next:null},yt===null?xe.memoizedState=yt=t:yt=yt.next=t}return yt}var hc;hc=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ml(t){var i=dl;return dl+=1,Ka===null&&(Ka=[]),t=Sg(Ka,t,i),i=xe,(yt===null?i.memoizedState:yt.next)===null&&(i=i.alternate,A.H=i===null||i.memoizedState===null?Qs:Br),t}function fc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ml(t);if(t.$$typeof===D)return Xt(t)}throw Error(s(438,String(t)))}function jf(t){var i=null,a=xe.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=xe.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=hc(),xe.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=re;return i.index++,a}function Yi(t,i){return typeof i=="function"?i(t):i}function dc(t){var i=vt();return Lf(i,Xe,t)}function Lf(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var E=h.next;h.next=d.next,d.next=E}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var w=E=null,I=null,V=i,X=!1;do{var J=V.lane&-536870913;if(J!==V.lane?(Ue&J)===J:(zr&J)===J){var F=V.revertLane;if(F===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),J===Fa&&(X=!0);else if((zr&F)===F){V=V.next,F===Fa&&(X=!0);continue}else J={lane:0,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},I===null?(w=I=J,E=d):I=I.next=J,xe.lanes|=F,Xr|=F;J=V.action,Ks&&a(d,J),d=V.hasEagerState?V.eagerState:a(d,J)}else F={lane:J,revertLane:V.revertLane,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},I===null?(w=I=F,E=d):I=I.next=F,xe.lanes|=J,Xr|=J;V=V.next}while(V!==null&&V!==i);if(I===null?E=d:I.next=w,!An(d,t.memoizedState)&&(jt=!0,X&&(a=Ga,a!==null)))throw a;t.memoizedState=d,t.baseState=E,t.baseQueue=I,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Uf(t){var i=vt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var E=h=h.next;do d=t(d,E.action),E=E.next;while(E!==h);An(d,i.memoizedState)||(jt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function kg(t,i,a){var l=xe,h=vt(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var E=!An((Xe||h).memoizedState,a);if(E&&(h.memoizedState=a,jt=!0),h=h.queue,Hf(Lg.bind(null,l,h,t),[t]),h.getSnapshot!==i||E||yt!==null&&yt.memoizedState.tag&1){if(l.flags|=2048,Qa(9,jg.bind(null,l,h,a,i),{destroy:void 0},null),Je===null)throw Error(s(349));d||(zr&60)!==0||Vg(l,i,a)}return a}function Vg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=xe.updateQueue,i===null?(i=hc(),xe.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function jg(t,i,a,l){i.value=a,i.getSnapshot=l,Ug(i)&&zg(t)}function Lg(t,i,a){return a(function(){Ug(i)&&zg(t)})}function Ug(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!An(t,a)}catch{return!0}}function zg(t){var i=jr(t,2);i!==null&&cn(i,t,2)}function zf(t){var i=gn();if(typeof t=="function"){var a=t;if(t=a(),Ks){oi(!0);try{a()}finally{oi(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:t},i}function Bg(t,i,a,l){return t.baseState=a,Lf(t,Xe,typeof l=="function"?l:Yi)}function lS(t,i,a,l,h){if(gc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){d.listeners.push(E)}};A.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Hg(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Hg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=A.T,E={};A.T=E;try{var w=a(h,l),I=A.S;I!==null&&I(E,w),qg(t,i,w)}catch(V){Bf(t,i,V)}finally{A.T=d}}else try{d=a(h,l),qg(t,i,d)}catch(V){Bf(t,i,V)}}function qg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Fg(t,i,l)},function(l){return Bf(t,i,l)}):Fg(t,i,a)}function Fg(t,i,a){i.status="fulfilled",i.value=a,Gg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Hg(t,a)))}function Bf(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Gg(i),i=i.next;while(i!==l)}t.action=null}function Gg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function $g(t,i){return i}function Kg(t,i){if(qe){var a=Je.formState;if(a!==null){e:{var l=xe;if(qe){if(Ht){t:{for(var h=Ht,d=yi;h.nodeType!==8;){if(!d){h=null;break t}if(h=ni(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){Ht=ni(h.nextSibling),l=h.data==="F!";break e}}Fs(l)}l=!1}l&&(i=a[0])}}return a=gn(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$g,lastRenderedState:i},a.queue=l,a=h_.bind(null,xe,l),l.dispatch=a,l=zf(!1),d=Kf.bind(null,xe,!1,l.queue),l=gn(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=lS.bind(null,xe,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Qg(t){var i=vt();return Yg(i,Xe,t)}function Yg(t,i,a){i=Lf(t,i,$g)[0],t=dc(Yi)[0],i=typeof i=="object"&&i!==null&&typeof i.then=="function"?ml(i):i;var l=vt(),h=l.queue,d=h.dispatch;return a!==l.memoizedState&&(xe.flags|=2048,Qa(9,uS.bind(null,h,a),{destroy:void 0},null)),[i,d,t]}function uS(t,i){t.action=i}function Xg(t){var i=vt(),a=Xe;if(a!==null)return Yg(i,a,t);vt(),i=i.memoizedState,a=vt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function Qa(t,i,a,l){return t={tag:t,create:i,inst:a,deps:l,next:null},i=xe.updateQueue,i===null&&(i=hc(),xe.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Wg(){return vt().memoizedState}function mc(t,i,a,l){var h=gn();xe.flags|=t,h.memoizedState=Qa(1|i,a,{destroy:void 0},l===void 0?null:l)}function pc(t,i,a,l){var h=vt();l=l===void 0?null:l;var d=h.memoizedState.inst;Xe!==null&&l!==null&&Of(l,Xe.memoizedState.deps)?h.memoizedState=Qa(i,a,d,l):(xe.flags|=t,h.memoizedState=Qa(1|i,a,d,l))}function Zg(t,i){mc(8390656,8,t,i)}function Hf(t,i){pc(2048,8,t,i)}function Jg(t,i){return pc(4,2,t,i)}function e_(t,i){return pc(4,4,t,i)}function t_(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function n_(t,i,a){a=a!=null?a.concat([t]):null,pc(4,4,t_.bind(null,i,t),a)}function qf(){}function i_(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&Of(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function r_(t,i){var a=vt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&Of(i,l[1]))return l[0];if(l=t(),Ks){oi(!0);try{t()}finally{oi(!1)}}return a.memoizedState=[l,i],l}function Ff(t,i,a){return a===void 0||(zr&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=ay(),xe.lanes|=t,Xr|=t,a)}function s_(t,i,a,l){return An(a,i)?a:qa.current!==null?(t=Ff(t,a,l),An(t,i)||(jt=!0),t):(zr&42)===0?(jt=!0,t.memoizedState=a):(t=ay(),xe.lanes|=t,Xr|=t,i)}function a_(t,i,a,l,h){var d=le.p;le.p=d!==0&&8>d?d:8;var E=A.T,w={};A.T=w,Kf(t,!1,i,a);try{var I=h(),V=A.S;if(V!==null&&V(w,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=sS(I,l);pl(t,i,X,xn(t))}else pl(t,i,l,xn(t))}catch(J){pl(t,i,{then:function(){},status:"rejected",reason:J},xn())}finally{le.p=d,A.T=E}}function cS(){}function Gf(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=o_(t).queue;a_(t,h,i,Ie,a===null?cS:function(){return l_(t),a(l)})}function o_(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:Ie,baseState:Ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:Ie},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function l_(t){var i=o_(t).next.queue;pl(t,i,{},xn())}function $f(){return Xt(kl)}function u_(){return vt().memoizedState}function c_(){return vt().memoizedState}function hS(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=xn();t=Fr(a);var l=Gr(i,t,a);l!==null&&(cn(l,i,a),yl(l,i,a)),i={cache:xf()},t.payload=i;return}i=i.return}}function fS(t,i,a){var l=xn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},gc(t)?f_(i,a):(a=wf(t,i,a,l),a!==null&&(cn(a,t,l),d_(a,i,l)))}function h_(t,i,a){var l=xn();pl(t,i,a,l)}function pl(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(gc(t))f_(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var E=i.lastRenderedState,w=d(E,a);if(h.hasEagerState=!0,h.eagerState=w,An(w,E))return Ju(t,i,h,0),Je===null&&Zu(),!1}catch{}finally{}if(a=wf(t,i,h,l),a!==null)return cn(a,t,l),d_(a,i,l),!0}return!1}function Kf(t,i,a,l){if(l={lane:2,revertLane:Vd(),action:l,hasEagerState:!1,eagerState:null,next:null},gc(t)){if(i)throw Error(s(479))}else i=wf(t,a,l,2),i!==null&&cn(i,t,2)}function gc(t){var i=t.alternate;return t===xe||i!==null&&i===xe}function f_(t,i){$a=uc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function d_(t,i,a){if((a&4194176)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Cr(t,a)}}var Ei={readContext:Xt,use:fc,useCallback:mt,useContext:mt,useEffect:mt,useImperativeHandle:mt,useLayoutEffect:mt,useInsertionEffect:mt,useMemo:mt,useReducer:mt,useRef:mt,useState:mt,useDebugValue:mt,useDeferredValue:mt,useTransition:mt,useSyncExternalStore:mt,useId:mt};Ei.useCacheRefresh=mt,Ei.useMemoCache=mt,Ei.useHostTransitionStatus=mt,Ei.useFormState=mt,Ei.useActionState=mt,Ei.useOptimistic=mt;var Qs={readContext:Xt,use:fc,useCallback:function(t,i){return gn().memoizedState=[t,i===void 0?null:i],t},useContext:Xt,useEffect:Zg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,mc(4194308,4,t_.bind(null,i,t),a)},useLayoutEffect:function(t,i){return mc(4194308,4,t,i)},useInsertionEffect:function(t,i){mc(4,2,t,i)},useMemo:function(t,i){var a=gn();i=i===void 0?null:i;var l=t();if(Ks){oi(!0);try{t()}finally{oi(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=gn();if(a!==void 0){var h=a(i);if(Ks){oi(!0);try{a(i)}finally{oi(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=fS.bind(null,xe,t),[l.memoizedState,t]},useRef:function(t){var i=gn();return t={current:t},i.memoizedState=t},useState:function(t){t=zf(t);var i=t.queue,a=h_.bind(null,xe,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:qf,useDeferredValue:function(t,i){var a=gn();return Ff(a,t,i)},useTransition:function(){var t=zf(!1);return t=a_.bind(null,xe,t.queue,!0,!1),gn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=xe,h=gn();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),Je===null)throw Error(s(349));(Ue&60)!==0||Vg(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Zg(Lg.bind(null,l,d,t),[t]),l.flags|=2048,Qa(9,jg.bind(null,l,d,a,i),{destroy:void 0},null),a},useId:function(){var t=gn(),i=Je.identifierPrefix;if(qe){var a=Ki,l=$i;a=(l&~(1<<32-an(l)-1)).toString(32)+a,i=":"+i+"R"+a,a=cc++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=aS++,i=":"+i+"r"+a.toString(32)+":";return t.memoizedState=i},useCacheRefresh:function(){return gn().memoizedState=hS.bind(null,xe)}};Qs.useMemoCache=jf,Qs.useHostTransitionStatus=$f,Qs.useFormState=Kg,Qs.useActionState=Kg,Qs.useOptimistic=function(t){var i=gn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Kf.bind(null,xe,!0,a),a.dispatch=i,[t,i]};var Br={readContext:Xt,use:fc,useCallback:i_,useContext:Xt,useEffect:Hf,useImperativeHandle:n_,useInsertionEffect:Jg,useLayoutEffect:e_,useMemo:r_,useReducer:dc,useRef:Wg,useState:function(){return dc(Yi)},useDebugValue:qf,useDeferredValue:function(t,i){var a=vt();return s_(a,Xe.memoizedState,t,i)},useTransition:function(){var t=dc(Yi)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:ml(t),i]},useSyncExternalStore:kg,useId:u_};Br.useCacheRefresh=c_,Br.useMemoCache=jf,Br.useHostTransitionStatus=$f,Br.useFormState=Qg,Br.useActionState=Qg,Br.useOptimistic=function(t,i){var a=vt();return Bg(a,Xe,t,i)};var Ys={readContext:Xt,use:fc,useCallback:i_,useContext:Xt,useEffect:Hf,useImperativeHandle:n_,useInsertionEffect:Jg,useLayoutEffect:e_,useMemo:r_,useReducer:Uf,useRef:Wg,useState:function(){return Uf(Yi)},useDebugValue:qf,useDeferredValue:function(t,i){var a=vt();return Xe===null?Ff(a,t,i):s_(a,Xe.memoizedState,t,i)},useTransition:function(){var t=Uf(Yi)[0],i=vt().memoizedState;return[typeof t=="boolean"?t:ml(t),i]},useSyncExternalStore:kg,useId:u_};Ys.useCacheRefresh=c_,Ys.useMemoCache=jf,Ys.useHostTransitionStatus=$f,Ys.useFormState=Xg,Ys.useActionState=Xg,Ys.useOptimistic=function(t,i){var a=vt();return Xe!==null?Bg(a,Xe,t,i):(a.baseState=t,[t,a.queue.dispatch])};function Qf(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:x({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Yf={isMounted:function(t){return(t=t._reactInternals)?ge(t)===t:!1},enqueueSetState:function(t,i,a){t=t._reactInternals;var l=xn(),h=Fr(l);h.payload=i,a!=null&&(h.callback=a),i=Gr(t,h,l),i!==null&&(cn(i,t,l),yl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=xn(),h=Fr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Gr(t,h,l),i!==null&&(cn(i,t,l),yl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=xn(),l=Fr(a);l.tag=2,i!=null&&(l.callback=i),i=Gr(t,l,a),i!==null&&(cn(i,t,a),yl(i,t,a))}};function m_(t,i,a,l,h,d,E){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,E):i.prototype&&i.prototype.isPureReactComponent?!nl(a,l)||!nl(h,d):!0}function p_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Yf.enqueueReplaceState(i,i.state,null)}function Xs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=x({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var _c=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function g_(t){_c(t)}function __(t){console.error(t)}function y_(t){_c(t)}function yc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function v_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Xf(t,i,a){return a=Fr(a),a.tag=3,a.payload={element:null},a.callback=function(){yc(t,i)},a}function E_(t){return t=Fr(t),t.tag=3,t}function T_(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){v_(i,a,l)}}var E=a.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(t.callback=function(){v_(i,a,l),typeof h!="function"&&(Wr===null?Wr=new Set([this]):Wr.add(this));var w=l.stack;this.componentDidCatch(l.value,{componentStack:w!==null?w:""})})}function dS(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&_l(i,a,h,!0),a=qn.current,a!==null){switch(a.tag){case 13:return vi===null?Dd():a.alternate===null&&ct===0&&(ct=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===Rf?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Md(t,l,h)),!1;case 22:return a.flags|=65536,l===Rf?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Md(t,l,h)),!1}throw Error(s(435,a.tag))}return Md(t,l,h),Dd(),!1}if(qe)return i=qn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Af&&(t=Error(s(422),{cause:l}),al(zn(t,a)))):(l!==Af&&(i=Error(s(423),{cause:l}),al(zn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=zn(l,a),h=Xf(t.stateNode,l,h),hd(t,h),ct!==4&&(ct=2)),!1;var d=Error(s(520),{cause:l});if(d=zn(d,a),Rl===null?Rl=[d]:Rl.push(d),ct!==4&&(ct=2),i===null)return!0;l=zn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Xf(a.stateNode,l,t),hd(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Wr===null||!Wr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=E_(h),T_(h,t,a,l),hd(a,h),!1}a=a.return}while(a!==null);return!1}var w_=Error(s(461)),jt=!1;function qt(t,i,a,l){i.child=t===null?Cg(i,null,a,l):Gs(i,t.child,a,l)}function S_(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var E={};for(var w in l)w!=="ref"&&(E[w]=l[w])}else E=l;return Zs(i),l=Mf(t,i,a,E,d,h),w=Pf(),t!==null&&!jt?(kf(t,i,h),Xi(t,i,h)):(qe&&w&&Sf(i),i.flags|=1,qt(t,i,l,h),i.child)}function b_(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!vd(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,A_(t,i,d,l,h)):(t=Sc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!sd(t,h)){var E=d.memoizedProps;if(a=a.compare,a=a!==null?a:nl,a(E,l)&&t.ref===i.ref)return Xi(t,i,h)}return i.flags|=1,t=Yr(d,l),t.ref=i.ref,t.return=i,i.child=t}function A_(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(nl(d,l)&&t.ref===i.ref)if(jt=!1,i.pendingProps=l=d,sd(t,h))(t.flags&131072)!==0&&(jt=!0);else return i.lanes=t.lanes,Xi(t,i,h)}return Wf(t,i,a,l,h)}function R_(t,i,a){var l=i.pendingProps,h=l.children,d=(i.stateNode._pendingVisibility&2)!==0,E=t!==null?t.memoizedState:null;if(gl(t,i),l.mode==="hidden"||d){if((i.flags&128)!==0){if(l=E!==null?E.baseLanes|a:a,t!==null){for(h=i.child=t.child,d=0;h!==null;)d=d|h.lanes|h.childLanes,h=h.sibling;i.childLanes=d&~l}else i.childLanes=0,i.child=null;return C_(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&lc(i,E!==null?E.cachePool:null),E!==null?Ig(i,E):Cf(),xg(i);else return i.lanes=i.childLanes=536870912,C_(t,i,E!==null?E.baseLanes|a:a,a)}else E!==null?(lc(i,E.cachePool),Ig(i,E),Ur(),i.memoizedState=null):(t!==null&&lc(i,null),Cf(),Ur());return qt(t,i,h,a),i.child}function C_(t,i,a,l){var h=Df();return h=h===null?null:{parent:xt._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&lc(i,null),Cf(),xg(i),t!==null&&_l(t,i,l,!0),null}function gl(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=2097664)}}function Wf(t,i,a,l,h){return Zs(i),a=Mf(t,i,a,l,void 0,h),l=Pf(),t!==null&&!jt?(kf(t,i,h),Xi(t,i,h)):(qe&&l&&Sf(i),i.flags|=1,qt(t,i,a,h),i.child)}function I_(t,i,a,l,h,d){return Zs(i),i.updateQueue=null,a=Pg(i,l,a,h),Mg(t),l=Pf(),t!==null&&!jt?(kf(t,i,d),Xi(t,i,d)):(qe&&l&&Sf(i),i.flags|=1,qt(t,i,a,d),i.child)}function x_(t,i,a,l,h){if(Zs(i),i.stateNode===null){var d=Ua,E=a.contextType;typeof E=="object"&&E!==null&&(d=Xt(E)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Yf,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},ud(i),E=a.contextType,d.context=typeof E=="object"&&E!==null?Xt(E):Ua,d.state=i.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(Qf(i,a,E,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(E=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),E!==d.state&&Yf.enqueueReplaceState(d,d.state,null),El(i,l,d,h),vl(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var w=i.memoizedProps,I=Xs(a,w);d.props=I;var V=d.context,X=a.contextType;E=Ua,typeof X=="object"&&X!==null&&(E=Xt(X));var J=a.getDerivedStateFromProps;X=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",w=i.pendingProps!==w,X||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(w||V!==E)&&p_(i,d,l,E),qr=!1;var F=i.memoizedState;d.state=F,El(i,l,d,h),vl(),V=i.memoizedState,w||F!==V||qr?(typeof J=="function"&&(Qf(i,a,J,l),V=i.memoizedState),(I=qr||m_(i,a,I,l,F,V,E))?(X||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=V),d.props=l,d.state=V,d.context=E,l=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,cd(t,i),E=i.memoizedProps,X=Xs(a,E),d.props=X,J=i.pendingProps,F=d.context,V=a.contextType,I=Ua,typeof V=="object"&&V!==null&&(I=Xt(V)),w=a.getDerivedStateFromProps,(V=typeof w=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E!==J||F!==I)&&p_(i,d,l,I),qr=!1,F=i.memoizedState,d.state=F,El(i,l,d,h),vl();var Q=i.memoizedState;E!==J||F!==Q||qr||t!==null&&t.dependencies!==null&&vc(t.dependencies)?(typeof w=="function"&&(Qf(i,a,w,l),Q=i.memoizedState),(X=qr||m_(i,a,X,l,F,Q,I)||t!==null&&t.dependencies!==null&&vc(t.dependencies))?(V||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=I,l=X):(typeof d.componentDidUpdate!="function"||E===t.memoizedProps&&F===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||E===t.memoizedProps&&F===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,gl(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Gs(i,t.child,null,h),i.child=Gs(i,null,a,h)):qt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Xi(t,i,h),t}function N_(t,i,a,l){return sl(),i.flags|=256,qt(t,i,a,l),i.child}var Zf={dehydrated:null,treeContext:null,retryLane:0};function Jf(t){return{baseLanes:t,cachePool:Og()}}function ed(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Kn),t}function D_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,E;if((E=d)||(E=t!==null&&t.memoizedState===null?!1:(It.current&2)!==0),E&&(h=!0,i.flags&=-129),E=(i.flags&32)!==0,i.flags&=-33,t===null){if(qe){if(h?Lr(i):Ur(),qe){var w=Ht,I;if(I=w){e:{for(I=w,w=yi;I.nodeType!==8;){if(!w){w=null;break e}if(I=ni(I.nextSibling),I===null){w=null;break e}}w=I}w!==null?(i.memoizedState={dehydrated:w,treeContext:Hs!==null?{id:$i,overflow:Ki}:null,retryLane:536870912},I=$n(18,null,null,0),I.stateNode=w,I.return=i,i.child=I,un=i,Ht=null,I=!0):I=!1}I||Fs(i)}if(w=i.memoizedState,w!==null&&(w=w.dehydrated,w!==null))return w.data==="$!"?i.lanes=16:i.lanes=536870912,null;Qi(i)}return w=l.children,l=l.fallback,h?(Ur(),h=i.mode,w=nd({mode:"hidden",children:w},h),l=ea(l,h,a,null),w.return=i,l.return=i,w.sibling=l,i.child=w,h=i.child,h.memoizedState=Jf(a),h.childLanes=ed(t,E,a),i.memoizedState=Zf,l):(Lr(i),td(i,w))}if(I=t.memoizedState,I!==null&&(w=I.dehydrated,w!==null)){if(d)i.flags&256?(Lr(i),i.flags&=-257,i=id(t,i,a)):i.memoizedState!==null?(Ur(),i.child=t.child,i.flags|=128,i=null):(Ur(),h=l.fallback,w=i.mode,l=nd({mode:"visible",children:l.children},w),h=ea(h,w,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Gs(i,t.child,null,a),l=i.child,l.memoizedState=Jf(a),l.childLanes=ed(t,E,a),i.memoizedState=Zf,i=h);else if(Lr(i),w.data==="$!"){if(E=w.nextSibling&&w.nextSibling.dataset,E)var V=E.dgst;E=V,l=Error(s(419)),l.stack="",l.digest=E,al({value:l,source:null,stack:null}),i=id(t,i,a)}else if(jt||_l(t,i,a,!1),E=(a&t.childLanes)!==0,jt||E){if(E=Je,E!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(E.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane)throw I.retryLane=l,jr(t,l),cn(E,t,l),w_}w.data==="$?"||Dd(),i=id(t,i,a)}else w.data==="$?"?(i.flags|=128,i.child=t.child,i=IS.bind(null,t),w._reactRetry=i,i=null):(t=I.treeContext,Ht=ni(w.nextSibling),un=i,qe=!0,ei=null,yi=!1,t!==null&&(Bn[Hn++]=$i,Bn[Hn++]=Ki,Bn[Hn++]=Hs,$i=t.id,Ki=t.overflow,Hs=i),i=td(i,l.children),i.flags|=4096);return i}return h?(Ur(),h=l.fallback,w=i.mode,I=t.child,V=I.sibling,l=Yr(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&31457280,V!==null?h=Yr(V,h):(h=ea(h,w,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,w=t.child.memoizedState,w===null?w=Jf(a):(I=w.cachePool,I!==null?(V=xt._currentValue,I=I.parent!==V?{parent:V,pool:V}:I):I=Og(),w={baseLanes:w.baseLanes|a,cachePool:I}),h.memoizedState=w,h.childLanes=ed(t,E,a),i.memoizedState=Zf,l):(Lr(i),a=t.child,t=a.sibling,a=Yr(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(E=i.deletions,E===null?(i.deletions=[t],i.flags|=16):E.push(t)),i.child=a,i.memoizedState=null,a)}function td(t,i){return i=nd({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function nd(t,i){return iy(t,i,0,null)}function id(t,i,a){return Gs(i,t.child,null,a),t=td(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function O_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),od(t.return,i,a)}function rd(t,i,a,l,h){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(d.isBackwards=i,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=h)}function M_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;if(qt(t,i,l.children,a),l=It.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&O_(t,a,i);else if(t.tag===19)O_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(Qe(It,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&oc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),rd(i,!1,h,a,d);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&oc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}rd(i,!0,a,null,d);break;case"together":rd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Xi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Xr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(_l(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Yr(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Yr(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function sd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&vc(t)))}function mS(t,i,a){switch(i.tag){case 3:Tr(i,i.stateNode.containerInfo),Hr(i,xt,t.memoizedState.cache),sl();break;case 27:case 5:ko(i);break;case 4:Tr(i,i.stateNode.containerInfo);break;case 10:Hr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(Lr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?D_(t,i,a):(Lr(i),t=Xi(t,i,a),t!==null?t.sibling:null);Lr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(_l(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return M_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Qe(It,It.current),l)break;return null;case 22:case 23:return i.lanes=0,R_(t,i,a);case 24:Hr(i,xt,t.memoizedState.cache)}return Xi(t,i,a)}function P_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)jt=!0;else{if(!sd(t,a)&&(i.flags&128)===0)return jt=!1,mS(t,i,a);jt=(t.flags&131072)!==0}else jt=!1,qe&&(i.flags&1048576)!==0&&yg(i,nc,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")vd(l)?(t=Xs(l,t),i.tag=1,i=x_(null,i,l,t,a)):(i.tag=0,i=Wf(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===j){i.tag=11,i=S_(null,i,l,t,a);break e}else if(h===$){i.tag=14,i=b_(null,i,l,t,a);break e}}throw i=C(l)||l,Error(s(306,i,""))}}return i;case 0:return Wf(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Xs(l,i.pendingProps),x_(t,i,l,h,a);case 3:e:{if(Tr(i,i.stateNode.containerInfo),t===null)throw Error(s(387));var d=i.pendingProps;h=i.memoizedState,l=h.element,cd(t,i),El(i,d,null,a);var E=i.memoizedState;if(d=E.cache,Hr(i,xt,d),d!==h.cache&&ld(i,[xt],a,!0),vl(),d=E.element,h.isDehydrated)if(h={element:d,isDehydrated:!1,cache:E.cache},i.updateQueue.baseState=h,i.memoizedState=h,i.flags&256){i=N_(t,i,d,a);break e}else if(d!==l){l=zn(Error(s(424)),i),al(l),i=N_(t,i,d,a);break e}else for(Ht=ni(i.stateNode.containerInfo.firstChild),un=i,qe=!0,ei=null,yi=!0,a=Cg(i,null,d,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(sl(),d===l){i=Xi(t,i,a);break e}qt(t,i,d,a)}i=i.child}return i;case 26:return gl(t,i),t===null?(a=jy(i.type,null,i.pendingProps,null))?i.memoizedState=a:qe||(a=i.type,t=i.pendingProps,l=kc(On.current).createElement(a),l[Pt]=i,l[At]=t,Ft(l,a,t),nt(l),i.stateNode=l):i.memoizedState=jy(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return ko(i),t===null&&qe&&(l=i.stateNode=Py(i.type,i.pendingProps,On.current),un=i,yi=!0,Ht=ni(l.firstChild)),l=i.pendingProps.children,t!==null||qe?qt(t,i,l,a):i.child=Gs(i,null,l,a),gl(t,i),i.child;case 5:return t===null&&qe&&((h=l=Ht)&&(l=FS(l,i.type,i.pendingProps,yi),l!==null?(i.stateNode=l,un=i,Ht=ni(l.firstChild),yi=!1,h=!0):h=!1),h||Fs(i)),ko(i),h=i.type,d=i.pendingProps,E=t!==null?t.memoizedProps:null,l=d.children,Gd(h,d)?l=null:E!==null&&Gd(h,E)&&(i.flags|=32),i.memoizedState!==null&&(h=Mf(t,i,oS,null,null,a),kl._currentValue=h),gl(t,i),qt(t,i,l,a),i.child;case 6:return t===null&&qe&&((t=a=Ht)&&(a=GS(a,i.pendingProps,yi),a!==null?(i.stateNode=a,un=i,Ht=null,t=!0):t=!1),t||Fs(i)),null;case 13:return D_(t,i,a);case 4:return Tr(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Gs(i,null,l,a):qt(t,i,l,a),i.child;case 11:return S_(t,i,i.type,i.pendingProps,a);case 7:return qt(t,i,i.pendingProps,a),i.child;case 8:return qt(t,i,i.pendingProps.children,a),i.child;case 12:return qt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Hr(i,i.type,l.value),qt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,Zs(i),h=Xt(h),l=l(h),i.flags|=1,qt(t,i,l,a),i.child;case 14:return b_(t,i,i.type,i.pendingProps,a);case 15:return A_(t,i,i.type,i.pendingProps,a);case 19:return M_(t,i,a);case 22:return R_(t,i,a);case 24:return Zs(i),l=Xt(xt),t===null?(h=Df(),h===null&&(h=Je,d=xf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},ud(i),Hr(i,xt,h)):((t.lanes&a)!==0&&(cd(t,i),El(i,null,null,a),vl()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Hr(i,xt,l)):(l=d.cache,Hr(i,xt,l),l!==h.cache&&ld(i,[xt],a,!0))),qt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}var ad=Be(null),Ws=null,Wi=null;function Hr(t,i,a){Qe(ad,i._currentValue),i._currentValue=a}function Zi(t){t._currentValue=ad.current,ot(ad)}function od(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function ld(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var E=h.child;d=d.firstContext;e:for(;d!==null;){var w=d;d=h;for(var I=0;I<i.length;I++)if(w.context===i[I]){d.lanes|=a,w=d.alternate,w!==null&&(w.lanes|=a),od(d.return,a,t),l||(E=null);break e}d=w.next}}else if(h.tag===18){if(E=h.return,E===null)throw Error(s(341));E.lanes|=a,d=E.alternate,d!==null&&(d.lanes|=a),od(E,a,t),E=null}else E=h.child;if(E!==null)E.return=h;else for(E=h;E!==null;){if(E===t){E=null;break}if(h=E.sibling,h!==null){h.return=E.return,E=h;break}E=E.return}h=E}}function _l(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var E=h.alternate;if(E===null)throw Error(s(387));if(E=E.memoizedProps,E!==null){var w=h.type;An(h.pendingProps.value,E.value)||(t!==null?t.push(w):t=[w])}}else if(h===Er.current){if(E=h.alternate,E===null)throw Error(s(387));E.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(kl):t=[kl])}h=h.return}t!==null&&ld(i,t,a,l),i.flags|=262144}function vc(t){for(t=t.firstContext;t!==null;){if(!An(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Zs(t){Ws=t,Wi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Xt(t){return k_(Ws,t)}function Ec(t,i){return Ws===null&&Zs(t),k_(t,i)}function k_(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Wi===null){if(t===null)throw Error(s(308));Wi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Wi=Wi.next=i;return a}var qr=!1;function ud(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Fr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Gr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(rt&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=ec(t),gg(t,null,a),i}return Ju(t,l,i,a),ec(t)}function yl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194176)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Cr(t,a)}}function hd(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var E={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=E:d=d.next=E,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var fd=!1;function vl(){if(fd){var t=Ga;if(t!==null)throw t}}function El(t,i,a,l){fd=!1;var h=t.updateQueue;qr=!1;var d=h.firstBaseUpdate,E=h.lastBaseUpdate,w=h.shared.pending;if(w!==null){h.shared.pending=null;var I=w,V=I.next;I.next=null,E===null?d=V:E.next=V,E=I;var X=t.alternate;X!==null&&(X=X.updateQueue,w=X.lastBaseUpdate,w!==E&&(w===null?X.firstBaseUpdate=V:w.next=V,X.lastBaseUpdate=I))}if(d!==null){var J=h.baseState;E=0,X=V=I=null,w=d;do{var F=w.lane&-536870913,Q=F!==w.lane;if(Q?(Ue&F)===F:(l&F)===F){F!==0&&F===Fa&&(fd=!0),X!==null&&(X=X.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});e:{var fe=t,be=w;F=i;var ht=a;switch(be.tag){case 1:if(fe=be.payload,typeof fe=="function"){J=fe.call(ht,J,F);break e}J=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=be.payload,F=typeof fe=="function"?fe.call(ht,J,F):fe,F==null)break e;J=x({},J,F);break e;case 2:qr=!0}}F=w.callback,F!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[F]:Q.push(F))}else Q={lane:F,tag:w.tag,payload:w.payload,callback:w.callback,next:null},X===null?(V=X=Q,I=J):X=X.next=Q,E|=F;if(w=w.next,w===null){if(w=h.shared.pending,w===null)break;Q=w,w=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);X===null&&(I=J),h.baseState=I,h.firstBaseUpdate=V,h.lastBaseUpdate=X,d===null&&(h.shared.lanes=0),Xr|=E,t.lanes=E,t.memoizedState=J}}function V_(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function j_(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)V_(a[t],i)}function Tl(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,E=a.inst;l=d(),E.destroy=l}a=a.next}while(a!==h)}}catch(w){Ze(i,i.return,w)}}function $r(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var E=l.inst,w=E.destroy;if(w!==void 0){E.destroy=void 0,h=i;var I=a;try{w()}catch(V){Ze(h,I,V)}}}l=l.next}while(l!==d)}}catch(V){Ze(i,i.return,V)}}function L_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{j_(i,a)}catch(l){Ze(t,t.return,l)}}}function U_(t,i,a){a.props=Xs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,i,l)}}function Js(t,i){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var h=l;break;default:h=l}typeof a=="function"?t.refCleanup=a(h):a.current=h}}catch(d){Ze(t,i,d)}}function Rn(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,i,h)}else a.current=null}function z_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function B_(t,i,a){try{var l=t.stateNode;US(l,t.type,a,i),l[At]=i}catch(h){Ze(t,t.return,h)}}function H_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function dd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||H_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function md(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(t,i):a.insertBefore(t,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(t,a)):(i=a,i.appendChild(t)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Pc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(md(t,i,a),t=t.sibling;t!==null;)md(t,i,a),t=t.sibling}function Tc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Tc(t,i,a),t=t.sibling;t!==null;)Tc(t,i,a),t=t.sibling}var Ji=!1,ut=!1,pd=!1,q_=typeof WeakSet=="function"?WeakSet:Set,Lt=null,F_=!1;function pS(t,i){if(t=t.containerInfo,qd=Bc,t=og(t),_f(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var E=0,w=-1,I=-1,V=0,X=0,J=t,F=null;t:for(;;){for(var Q;J!==a||h!==0&&J.nodeType!==3||(w=E+h),J!==d||l!==0&&J.nodeType!==3||(I=E+l),J.nodeType===3&&(E+=J.nodeValue.length),(Q=J.firstChild)!==null;)F=J,J=Q;for(;;){if(J===t)break t;if(F===a&&++V===h&&(w=E),F===d&&++X===l&&(I=E),(Q=J.nextSibling)!==null)break;J=F,F=J.parentNode}J=Q}a=w===-1||I===-1?null:{start:w,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(Fd={focusedElem:t,selectionRange:a},Bc=!1,Lt=i;Lt!==null;)if(i=Lt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Lt=t;else for(;Lt!==null;){switch(i=Lt,d=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Xs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){Ze(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Qd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Qd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Lt=t;break}Lt=i.return}return fe=F_,F_=!1,fe}function G_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:tr(t,a),l&4&&Tl(5,a);break;case 1:if(tr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(w){Ze(a,a.return,w)}else{var h=Xs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(w){Ze(a,a.return,w)}}l&64&&L_(a),l&512&&Js(a,a.return);break;case 3:if(tr(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{j_(l,t)}catch(w){Ze(a,a.return,w)}}break;case 26:tr(t,a),l&512&&Js(a,a.return);break;case 27:case 5:tr(t,a),i===null&&l&4&&z_(a),l&512&&Js(a,a.return);break;case 12:tr(t,a);break;case 13:tr(t,a),l&4&&Q_(t,a);break;case 22:if(h=a.memoizedState!==null||Ji,!h){i=i!==null&&i.memoizedState!==null||ut;var d=Ji,E=ut;Ji=h,(ut=i)&&!E?Kr(t,a,(a.subtreeFlags&8772)!==0):tr(t,a),Ji=d,ut=E}l&512&&(a.memoizedProps.mode==="manual"?Js(a,a.return):Rn(a,a.return));break;default:tr(t,a)}}function $_(t){var i=t.alternate;i!==null&&(t.alternate=null,$_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&xs(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Et=null,Cn=!1;function er(t,i,a){for(a=a.child;a!==null;)K_(t,i,a),a=a.sibling}function K_(t,i,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(wr,a)}catch{}switch(a.tag){case 26:ut||Rn(a,i),er(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ut||Rn(a,i);var l=Et,h=Cn;for(Et=a.stateNode,er(t,i,a),a=a.stateNode,i=a.attributes;i.length;)a.removeAttributeNode(i[0]);xs(a),Et=l,Cn=h;break;case 5:ut||Rn(a,i);case 6:h=Et;var d=Cn;if(Et=null,er(t,i,a),Et=h,Cn=d,Et!==null)if(Cn)try{t=Et,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(E){Ze(a,i,E)}else try{Et.removeChild(a.stateNode)}catch(E){Ze(a,i,E)}break;case 18:Et!==null&&(Cn?(i=Et,a=a.stateNode,i.nodeType===8?Kd(i.parentNode,a):i.nodeType===1&&Kd(i,a),Ul(i)):Kd(Et,a.stateNode));break;case 4:l=Et,h=Cn,Et=a.stateNode.containerInfo,Cn=!0,er(t,i,a),Et=l,Cn=h;break;case 0:case 11:case 14:case 15:ut||$r(2,a,i),ut||$r(4,a,i),er(t,i,a);break;case 1:ut||(Rn(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&U_(a,i,l)),er(t,i,a);break;case 21:er(t,i,a);break;case 22:ut||Rn(a,i),ut=(l=ut)||a.memoizedState!==null,er(t,i,a),ut=l;break;default:er(t,i,a)}}function Q_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Ul(t)}catch(a){Ze(i,i.return,a)}}function gS(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new q_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new q_),i;default:throw Error(s(435,t.tag))}}function gd(t,i){var a=gS(t);i.forEach(function(l){var h=xS.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function Fn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,E=i,w=E;e:for(;w!==null;){switch(w.tag){case 27:case 5:Et=w.stateNode,Cn=!1;break e;case 3:Et=w.stateNode.containerInfo,Cn=!0;break e;case 4:Et=w.stateNode.containerInfo,Cn=!0;break e}w=w.return}if(Et===null)throw Error(s(160));K_(d,E,h),Et=null,Cn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)Y_(i,t),i=i.sibling}var ti=null;function Y_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Fn(i,t),Gn(t),l&4&&($r(3,t,t.return),Tl(3,t),$r(5,t,t.return));break;case 1:Fn(i,t),Gn(t),l&512&&(ut||a===null||Rn(a,a.return)),l&64&&Ji&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ti;if(Fn(i,t),Gn(t),l&512&&(ut||a===null||Rn(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[xr]||d[Pt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Ft(d,l,a),d[Pt]=t,nt(d),l=d;break e;case"link":var E=zy("link","href",h).get(l+(a.href||""));if(E){for(var w=0;w<E.length;w++)if(d=E[w],d.getAttribute("href")===(a.href==null?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){E.splice(w,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;case"meta":if(E=zy("meta","content",h).get(l+(a.content||""))){for(w=0;w<E.length;w++)if(d=E[w],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){E.splice(w,1);break t}}d=h.createElement(l),Ft(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[Pt]=t,nt(d),l=d}t.stateNode=l}else By(h,t.type,t.stateNode);else t.stateNode=Uy(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?By(h,t.type,t.stateNode):Uy(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&B_(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){h=t.stateNode,d=t.memoizedProps;try{for(var I=h.firstChild;I;){var V=I.nextSibling,X=I.nodeName;I[xr]||X==="HEAD"||X==="BODY"||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&I.rel.toLowerCase()==="stylesheet"||h.removeChild(I),I=V}for(var J=t.type,F=h.attributes;F.length;)h.removeAttributeNode(F[0]);Ft(h,J,d),h[Pt]=t,h[At]=d}catch(fe){Ze(t,t.return,fe)}}case 5:if(Fn(i,t),Gn(t),l&512&&(ut||a===null||Rn(a,a.return)),t.flags&32){h=t.stateNode;try{kn(h,"")}catch(fe){Ze(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,B_(t,h,a!==null?a.memoizedProps:h)),l&1024&&(pd=!0);break;case 6:if(Fn(i,t),Gn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){Ze(t,t.return,fe)}}break;case 3:if(Lc=null,h=ti,ti=Vc(i.containerInfo),Fn(i,t),ti=h,Gn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Ul(i.containerInfo)}catch(fe){Ze(t,t.return,fe)}pd&&(pd=!1,X_(t));break;case 4:l=ti,ti=Vc(t.stateNode.containerInfo),Fn(i,t),Gn(t),ti=l;break;case 12:Fn(i,t),Gn(t);break;case 13:Fn(i,t),Gn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ad=mn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gd(t,l)));break;case 22:if(l&512&&(ut||a===null||Rn(a,a.return)),I=t.memoizedState!==null,V=a!==null&&a.memoizedState!==null,X=Ji,J=ut,Ji=X||I,ut=J||V,Fn(i,t),ut=J,Ji=X,Gn(t),i=t.stateNode,i._current=t,i._visibility&=-3,i._visibility|=i._pendingVisibility&2,l&8192&&(i._visibility=I?i._visibility&-2:i._visibility|1,I&&(i=Ji||ut,a===null||V||i||Ya(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,i=t;;){if(i.tag===5||i.tag===26||i.tag===27){if(a===null){V=a=i;try{if(h=V.stateNode,I)d=h.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none";else{E=V.stateNode,w=V.memoizedProps.style;var Q=w!=null&&w.hasOwnProperty("display")?w.display:null;E.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(fe){Ze(V,V.return,fe)}}}else if(i.tag===6){if(a===null){V=i;try{V.stateNode.nodeValue=I?"":V.memoizedProps}catch(fe){Ze(V,V.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,gd(t,a))));break;case 19:Fn(i,t),Gn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,gd(t,l)));break;case 21:break;default:Fn(i,t),Gn(t)}}function Gn(t){var i=t.flags;if(i&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(H_(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var h=l.stateNode,d=dd(t);Tc(t,d,h);break;case 5:var E=l.stateNode;l.flags&32&&(kn(E,""),l.flags&=-33);var w=dd(t);Tc(t,w,E);break;case 3:case 4:var I=l.stateNode.containerInfo,V=dd(t);md(t,V,I);break;default:throw Error(s(161))}}}catch(X){Ze(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function X_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;X_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function tr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)G_(t,i.alternate,i),i=i.sibling}function Ya(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:$r(4,i,i.return),Ya(i);break;case 1:Rn(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&U_(i,i.return,a),Ya(i);break;case 26:case 27:case 5:Rn(i,i.return),Ya(i);break;case 22:Rn(i,i.return),i.memoizedState===null&&Ya(i);break;default:Ya(i)}t=t.sibling}}function Kr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,E=d.flags;switch(d.tag){case 0:case 11:case 15:Kr(h,d,a),Tl(4,d);break;case 1:if(Kr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(V){Ze(l,l.return,V)}if(l=d,h=l.updateQueue,h!==null){var w=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)V_(I[h],w)}catch(V){Ze(l,l.return,V)}}a&&E&64&&L_(d),Js(d,d.return);break;case 26:case 27:case 5:Kr(h,d,a),a&&l===null&&E&4&&z_(d),Js(d,d.return);break;case 12:Kr(h,d,a);break;case 13:Kr(h,d,a),a&&E&4&&Q_(h,d);break;case 22:d.memoizedState===null&&Kr(h,d,a),Js(d,d.return);break;default:Kr(h,d,a)}i=i.sibling}}function _d(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&hl(a))}function yd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&hl(t))}function Qr(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)W_(t,i,a,l),i=i.sibling}function W_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Qr(t,i,a,l),h&2048&&Tl(9,i);break;case 3:Qr(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&hl(t)));break;case 12:if(h&2048){Qr(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,E=d.id,w=d.onPostCommit;typeof w=="function"&&w(E,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ze(i,i.return,I)}}else Qr(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,i.memoizedState!==null?d._visibility&4?Qr(t,i,a,l):wl(t,i):d._visibility&4?Qr(t,i,a,l):(d._visibility|=4,Xa(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&_d(i.alternate,i);break;case 24:Qr(t,i,a,l),h&2048&&yd(i.alternate,i);break;default:Qr(t,i,a,l)}}function Xa(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var d=t,E=i,w=a,I=l,V=E.flags;switch(E.tag){case 0:case 11:case 15:Xa(d,E,w,I,h),Tl(8,E);break;case 23:break;case 22:var X=E.stateNode;E.memoizedState!==null?X._visibility&4?Xa(d,E,w,I,h):wl(d,E):(X._visibility|=4,Xa(d,E,w,I,h)),h&&V&2048&&_d(E.alternate,E);break;case 24:Xa(d,E,w,I,h),h&&V&2048&&yd(E.alternate,E);break;default:Xa(d,E,w,I,h)}i=i.sibling}}function wl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:wl(a,l),h&2048&&_d(l.alternate,l);break;case 24:wl(a,l),h&2048&&yd(l.alternate,l);break;default:wl(a,l)}i=i.sibling}}var Sl=8192;function Wa(t){if(t.subtreeFlags&Sl)for(t=t.child;t!==null;)Z_(t),t=t.sibling}function Z_(t){switch(t.tag){case 26:Wa(t),t.flags&Sl&&t.memoizedState!==null&&rb(ti,t.memoizedState,t.memoizedProps);break;case 5:Wa(t);break;case 3:case 4:var i=ti;ti=Vc(t.stateNode.containerInfo),Wa(t),ti=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=Sl,Sl=16777216,Wa(t),Sl=i):Wa(t));break;default:Wa(t)}}function J_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function bl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,ty(l,t)}J_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)ey(t),t=t.sibling}function ey(t){switch(t.tag){case 0:case 11:case 15:bl(t),t.flags&2048&&$r(9,t,t.return);break;case 3:bl(t);break;case 12:bl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&4&&(t.return===null||t.return.tag!==13)?(i._visibility&=-5,wc(t)):bl(t);break;default:bl(t)}}function wc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Lt=l,ty(l,t)}J_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:$r(8,i,i.return),wc(i);break;case 22:a=i.stateNode,a._visibility&4&&(a._visibility&=-5,wc(i));break;default:wc(i)}t=t.sibling}}function ty(t,i){for(;Lt!==null;){var a=Lt;switch(a.tag){case 0:case 11:case 15:$r(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Lt=l;else e:for(a=t;Lt!==null;){l=Lt;var h=l.sibling,d=l.return;if($_(l),l===a){Lt=null;break e}if(h!==null){h.return=d,Lt=h;break e}Lt=d}}}function _S(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $n(t,i,a,l){return new _S(t,i,a,l)}function vd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Yr(t,i){var a=t.alternate;return a===null?(a=$n(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function ny(t,i){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Sc(t,i,a,l,h,d){var E=0;if(l=t,typeof t=="function")vd(t)&&(E=1);else if(typeof t=="string")E=nb(t,a,sn.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return ea(a.children,h,d,i);case _:E=8,h|=24;break;case T:return t=$n(12,a,i,h|2),t.elementType=T,t.lanes=d,t;case Y:return t=$n(13,a,i,h),t.elementType=Y,t.lanes=d,t;case q:return t=$n(19,a,i,h),t.elementType=q,t.lanes=d,t;case K:return iy(a,h,d,i);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case b:case D:E=10;break e;case R:E=9;break e;case j:E=11;break e;case $:E=14;break e;case te:E=16,l=null;break e}E=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=$n(E,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function ea(t,i,a,l){return t=$n(7,t,l,i),t.lanes=a,t}function iy(t,i,a,l){t=$n(22,t,l,i),t.elementType=K,t.lanes=a;var h={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)===0){var E=jr(d,2);E!==null&&(h._pendingVisibility|=2,cn(E,d,2))}},attach:function(){var d=h._current;if(d===null)throw Error(s(456));if((h._pendingVisibility&2)!==0){var E=jr(d,2);E!==null&&(h._pendingVisibility&=-3,cn(E,d,2))}}};return t.stateNode=h,t}function Ed(t,i,a){return t=$n(6,t,null,i),t.lanes=a,t}function Td(t,i,a){return i=$n(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}function nr(t){t.flags|=4}function ry(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Hy(i)){if(i=qn.current,i!==null&&((Ue&4194176)===Ue?vi!==null:(Ue&62914560)!==Ue&&(Ue&536870912)===0||i!==vi))throw ll=Rf,Tg;t.flags|=8192}}function bc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ar():536870912,t.lanes|=i,Ja|=i)}function Al(t,i){if(!qe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function it(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&31457280,l|=h.flags&31457280,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function yS(t,i,a){var l=i.pendingProps;switch(bf(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return it(i),null;case 1:return it(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Zi(xt),ki(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(rl(i)?nr(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,ei!==null&&(xd(ei),ei=null))),it(i),null;case 26:return a=i.memoizedState,t===null?(nr(i),a!==null?(it(i),ry(i,a)):(it(i),i.flags&=-16777217)):a?a!==t.memoizedState?(nr(i),it(i),ry(i,a)):(it(i),i.flags&=-16777217):(t.memoizedProps!==l&&nr(i),it(i),i.flags&=-16777217),null;case 27:ya(i),a=On.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&nr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}t=sn.current,rl(i)?vg(i):(t=Py(h,l,a),i.stateNode=t,nr(i))}return it(i),null;case 5:if(ya(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&nr(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return it(i),null}if(t=sn.current,rl(i))vg(i);else{switch(h=kc(On.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[Pt]=i,t[At]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Ft(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&nr(i)}}return it(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&nr(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=On.current,rl(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=un,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[Pt]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Iy(t.nodeValue,a)),t||Fs(i)}else t=kc(t).createTextNode(l),t[Pt]=i,i.stateNode=t}return it(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=rl(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Pt]=i}else sl(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;it(i),h=!1}else ei!==null&&(xd(ei),ei=null),h=!0;if(!h)return i.flags&256?(Qi(i),i):(Qi(i),null)}if(Qi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),bc(i,i.updateQueue),it(i),null;case 4:return ki(),t===null&&zd(i.stateNode.containerInfo),it(i),null;case 10:return Zi(i.type),it(i),null;case 19:if(ot(It),h=i.memoizedState,h===null)return it(i),null;if(l=(i.flags&128)!==0,d=h.rendering,d===null)if(l)Al(h,!1);else{if(ct!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=oc(t),d!==null){for(i.flags|=128,Al(h,!1),t=d.updateQueue,i.updateQueue=t,bc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)ny(a,t),a=a.sibling;return Qe(It,It.current&1|2),i.child}t=t.sibling}h.tail!==null&&mn()>Ac&&(i.flags|=128,l=!0,Al(h,!1),i.lanes=4194304)}else{if(!l)if(t=oc(d),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,bc(i,t),Al(h,!0),h.tail===null&&h.tailMode==="hidden"&&!d.alternate&&!qe)return it(i),null}else 2*mn()-h.renderingStartTime>Ac&&a!==536870912&&(i.flags|=128,l=!0,Al(h,!1),i.lanes=4194304);h.isBackwards?(d.sibling=i.child,i.child=d):(t=h.last,t!==null?t.sibling=d:i.child=d,h.last=d)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=mn(),i.sibling=null,t=It.current,Qe(It,l?t&1|2:t&1),i):(it(i),null);case 22:case 23:return Qi(i),If(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(it(i),i.subtreeFlags&6&&(i.flags|=8192)):it(i),a=i.updateQueue,a!==null&&bc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&ot($s),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Zi(xt),it(i),null;case 25:return null}throw Error(s(156,i.tag))}function vS(t,i){switch(bf(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Zi(xt),ki(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ya(i),null;case 13:if(Qi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));sl()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return ot(It),null;case 4:return ki(),null;case 10:return Zi(i.type),null;case 22:case 23:return Qi(i),If(),t!==null&&ot($s),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Zi(xt),null;case 25:return null;default:return null}}function sy(t,i){switch(bf(i),i.tag){case 3:Zi(xt),ki();break;case 26:case 27:case 5:ya(i);break;case 4:ki();break;case 13:Qi(i);break;case 19:ot(It);break;case 10:Zi(i.type);break;case 22:case 23:Qi(i),If(),t!==null&&ot($s);break;case 24:Zi(xt)}}var ES={getCacheForType:function(t){var i=Xt(xt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},TS=typeof WeakMap=="function"?WeakMap:Map,rt=0,Je=null,De=null,Ue=0,et=0,In=null,ir=!1,Za=!1,wd=!1,rr=0,ct=0,Xr=0,ta=0,Sd=0,Kn=0,Ja=0,Rl=null,Ti=null,bd=!1,Ad=0,Ac=1/0,Rc=null,Wr=null,Cc=!1,na=null,Cl=0,Rd=0,Cd=null,Il=0,Id=null;function xn(){if((rt&2)!==0&&Ue!==0)return Ue&-Ue;if(A.T!==null){var t=Fa;return t!==0?t:Vd()}return Mu()}function ay(){Kn===0&&(Kn=(Ue&536870912)===0||qe?zo():536870912);var t=qn.current;return t!==null&&(t.flags|=32),Kn}function cn(t,i,a){(t===Je&&et===2||t.cancelPendingCommit!==null)&&(eo(t,0),sr(t,Ue,Kn,!1)),dt(t,a),((rt&2)===0||t!==Je)&&(t===Je&&((rt&2)===0&&(ta|=a),ct===4&&sr(t,Ue,Kn,!1)),wi(t))}function oy(t,i,a){if((rt&6)!==0)throw Error(s(327));var l=!a&&(i&60)===0&&(i&t.expiredLanes)===0||br(t,i),h=l?bS(t,i):Od(t,i,!0),d=l;do{if(h===0){Za&&!l&&sr(t,i,0,!1);break}else if(h===6)sr(t,i,0,!ir);else{if(a=t.current.alternate,d&&!wS(a)){h=Od(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var E=0;else E=t.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){i=E;e:{var w=t;h=Rl;var I=w.current.memoizedState.isDehydrated;if(I&&(eo(w,E).flags|=256),E=Od(w,E,!1),E!==2){if(wd&&!I){w.errorRecoveryDisabledLanes|=d,ta|=d,h=4;break e}d=Ti,Ti=h,d!==null&&xd(d)}h=E}if(d=!1,h!==2)continue}}if(h===1){eo(t,0),sr(t,i,0,!0);break}e:{switch(l=t,h){case 0:case 1:throw Error(s(345));case 4:if((i&4194176)===i){sr(l,i,Kn,!ir);break e}break;case 2:Ti=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=i,(i&62914560)===i&&(d=Ad+300-mn(),10<d)){if(sr(l,i,Kn,!ir),Mn(l,0)!==0)break e;l.timeoutHandle=Dy(ly.bind(null,l,a,Ti,Rc,bd,i,Kn,ta,Ja,ir,2,-0,0),d);break e}ly(l,a,Ti,Rc,bd,i,Kn,ta,Ja,ir,0,-0,0)}}break}while(!0);wi(t)}function xd(t){Ti===null?Ti=t:Ti.push.apply(Ti,t)}function ly(t,i,a,l,h,d,E,w,I,V,X,J,F){var Q=i.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(Pl={stylesheets:null,count:0,unsuspend:ib},Z_(i),i=sb(),i!==null)){t.cancelPendingCommit=i(py.bind(null,t,a,l,h,E,w,I,1,J,F)),sr(t,d,E,!V);return}py(t,a,l,h,E,w,I,X,J,F)}function wS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!An(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function sr(t,i,a,l){i&=~Sd,i&=~ta,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-an(h),E=1<<d;l[d]=-1,h&=~E}a!==0&&Rr(t,a,i)}function Ic(){return(rt&6)===0?(xl(0),!1):!0}function Nd(){if(De!==null){if(et===0)var t=De.return;else t=De,Wi=Ws=null,Vf(t),Ha=null,ul=0,t=De;for(;t!==null;)sy(t.alternate,t),t=t.return;De=null}}function eo(t,i){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,BS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Nd(),Je=t,De=a=Yr(t.current,null),Ue=i,et=0,In=null,ir=!1,Za=br(t,i),wd=!1,Ja=Kn=Sd=ta=Xr=ct=0,Ti=Rl=null,bd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-an(l),d=1<<h;i|=t[h],l&=~d}return rr=i,Zu(),a}function uy(t,i){xe=null,A.H=Ei,i===ol?(i=bg(),et=3):i===Tg?(i=bg(),et=4):et=i===w_?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,In=i,De===null&&(ct=1,yc(t,zn(i,t.current)))}function cy(){var t=A.H;return A.H=Ei,t===null?Ei:t}function hy(){var t=A.A;return A.A=ES,t}function Dd(){ct=4,ir||(Ue&4194176)!==Ue&&qn.current!==null||(Za=!0),(Xr&134217727)===0&&(ta&134217727)===0||Je===null||sr(Je,Ue,Kn,!1)}function Od(t,i,a){var l=rt;rt|=2;var h=cy(),d=hy();(Je!==t||Ue!==i)&&(Rc=null,eo(t,i)),i=!1;var E=ct;e:do try{if(et!==0&&De!==null){var w=De,I=In;switch(et){case 8:Nd(),E=6;break e;case 3:case 2:case 6:qn.current===null&&(i=!0);var V=et;if(et=0,In=null,to(t,w,I,V),a&&Za){E=0;break e}break;default:V=et,et=0,In=null,to(t,w,I,V)}}SS(),E=ct;break}catch(X){uy(t,X)}while(!0);return i&&t.shellSuspendCounter++,Wi=Ws=null,rt=l,A.H=h,A.A=d,De===null&&(Je=null,Ue=0,Zu()),E}function SS(){for(;De!==null;)fy(De)}function bS(t,i){var a=rt;rt|=2;var l=cy(),h=hy();Je!==t||Ue!==i?(Rc=null,Ac=mn()+500,eo(t,i)):Za=br(t,i);e:do try{if(et!==0&&De!==null){i=De;var d=In;t:switch(et){case 1:et=0,In=null,to(t,i,d,1);break;case 2:if(wg(d)){et=0,In=null,dy(i);break}i=function(){et===2&&Je===t&&(et=7),wi(t)},d.then(i,i);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:wg(d)?(et=0,In=null,dy(i)):(et=0,In=null,to(t,i,d,7));break;case 5:var E=null;switch(De.tag){case 26:E=De.memoizedState;case 5:case 27:var w=De;if(!E||Hy(E)){et=0,In=null;var I=w.sibling;if(I!==null)De=I;else{var V=w.return;V!==null?(De=V,xc(V)):De=null}break t}}et=0,In=null,to(t,i,d,5);break;case 6:et=0,In=null,to(t,i,d,6);break;case 8:Nd(),ct=6;break e;default:throw Error(s(462))}}AS();break}catch(X){uy(t,X)}while(!0);return Wi=Ws=null,A.H=l,A.A=h,rt=a,De!==null?0:(Je=null,Ue=0,Zu(),ct)}function AS(){for(;De!==null&&!af();)fy(De)}function fy(t){var i=P_(t.alternate,t,rr);t.memoizedProps=t.pendingProps,i===null?xc(t):De=i}function dy(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=I_(a,i,i.pendingProps,i.type,void 0,Ue);break;case 11:i=I_(a,i,i.pendingProps,i.type.render,i.ref,Ue);break;case 5:Vf(i);default:sy(a,i),i=De=ny(i,rr),i=P_(a,i,rr)}t.memoizedProps=t.pendingProps,i===null?xc(t):De=i}function to(t,i,a,l){Wi=Ws=null,Vf(i),Ha=null,ul=0;var h=i.return;try{if(dS(t,h,i,a,Ue)){ct=1,yc(t,zn(a,t.current)),De=null;return}}catch(d){if(h!==null)throw De=h,d;ct=1,yc(t,zn(a,t.current)),De=null;return}i.flags&32768?(qe||l===1?t=!0:Za||(Ue&536870912)!==0?t=!1:(ir=t=!0,(l===2||l===3||l===6)&&(l=qn.current,l!==null&&l.tag===13&&(l.flags|=16384))),my(i,t)):xc(i)}function xc(t){var i=t;do{if((i.flags&32768)!==0){my(i,ir);return}t=i.return;var a=yS(i.alternate,i,rr);if(a!==null){De=a;return}if(i=i.sibling,i!==null){De=i;return}De=i=t}while(i!==null);ct===0&&(ct=5)}function my(t,i){do{var a=vS(t.alternate,t);if(a!==null){a.flags&=32767,De=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){De=t;return}De=t=a}while(t!==null);ct=6,De=null}function py(t,i,a,l,h,d,E,w,I,V){var X=A.T,J=le.p;try{le.p=2,A.T=null,RS(t,i,a,l,J,h,d,E,w,I,V)}finally{A.T=X,le.p=J}}function RS(t,i,a,l,h,d,E,w){do no();while(na!==null);if((rt&6)!==0)throw Error(s(327));var I=t.finishedWork;if(l=t.finishedLanes,I===null)return null;if(t.finishedWork=null,t.finishedLanes=0,I===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var V=I.lanes|I.childLanes;if(V|=Tf,Du(t,l,V,d,E,w),t===Je&&(De=Je=null,Ue=0),(I.subtreeFlags&10256)===0&&(I.flags&10256)===0||Cc||(Cc=!0,Rd=V,Cd=a,NS(Vi,function(){return no(),null})),a=(I.flags&15990)!==0,(I.subtreeFlags&15990)!==0||a?(a=A.T,A.T=null,d=le.p,le.p=2,E=rt,rt|=4,pS(t,I),Y_(I,t),Xw(Fd,t.containerInfo),Bc=!!qd,Fd=qd=null,t.current=I,G_(t,I.alternate,I),Vo(),rt=E,le.p=d,A.T=a):t.current=I,Cc?(Cc=!1,na=t,Cl=l):gy(t,V),V=t.pendingLanes,V===0&&(Wr=null),Lo(I.stateNode),wi(t),i!==null)for(h=t.onRecoverableError,I=0;I<i.length;I++)V=i[I],h(V.value,{componentStack:V.stack});return(Cl&3)!==0&&no(),V=t.pendingLanes,(l&4194218)!==0&&(V&42)!==0?t===Id?Il++:(Il=0,Id=t):Il=0,xl(0),null}function gy(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,hl(i)))}function no(){if(na!==null){var t=na,i=Rd;Rd=0;var a=Ou(Cl),l=A.T,h=le.p;try{if(le.p=32>a?32:a,A.T=null,na===null)var d=!1;else{a=Cd,Cd=null;var E=na,w=Cl;if(na=null,Cl=0,(rt&6)!==0)throw Error(s(331));var I=rt;if(rt|=4,ey(E.current),W_(E,E.current,w,a),rt=I,xl(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(wr,E)}catch{}d=!0}return d}finally{le.p=h,A.T=l,gy(t,i)}}return!1}function _y(t,i,a){i=zn(a,i),i=Xf(t.stateNode,i,2),t=Gr(t,i,2),t!==null&&(dt(t,2),wi(t))}function Ze(t,i,a){if(t.tag===3)_y(t,t,a);else for(;i!==null;){if(i.tag===3){_y(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Wr===null||!Wr.has(l))){t=zn(a,t),a=E_(2),l=Gr(i,a,2),l!==null&&(T_(a,l,i,t),dt(l,2),wi(l));break}}i=i.return}}function Md(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new TS;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(wd=!0,h.add(a),t=CS.bind(null,t,i,a),i.then(t,t))}function CS(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Je===t&&(Ue&a)===a&&(ct===4||ct===3&&(Ue&62914560)===Ue&&300>mn()-Ad?(rt&2)===0&&eo(t,0):Sd|=a,Ja===Ue&&(Ja=0)),wi(t)}function yy(t,i){i===0&&(i=Ar()),t=jr(t,i),t!==null&&(dt(t,i),wi(t))}function IS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),yy(t,a)}function xS(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),yy(t,a)}function NS(t,i){return Rs(t,i)}var Nc=null,io=null,Pd=!1,Dc=!1,kd=!1,ia=0;function wi(t){t!==io&&t.next===null&&(io===null?Nc=io=t:io=io.next=t),Dc=!0,Pd||(Pd=!0,OS(DS))}function xl(t,i){if(!kd&&Dc){kd=!0;do for(var a=!1,l=Nc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var E=l.suspendedLanes,w=l.pingedLanes;d=(1<<31-an(42|t)+1)-1,d&=h&~(E&~w),d=d&201326677?d&201326677|1:d?d|2:0}d!==0&&(a=!0,Ty(l,d))}else d=Ue,d=Mn(l,l===Je?d:0),(d&3)===0||br(l,d)||(a=!0,Ty(l,d));l=l.next}while(a);kd=!1}}function DS(){Dc=Pd=!1;var t=0;ia!==0&&(zS()&&(t=ia),ia=0);for(var i=mn(),a=null,l=Nc;l!==null;){var h=l.next,d=vy(l,i);d===0?(l.next=null,a===null?Nc=h:a.next=h,h===null&&(io=a)):(a=l,(t!==0||(d&3)!==0)&&(Dc=!0)),l=h}xl(t)}function vy(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var E=31-an(d),w=1<<E,I=h[E];I===-1?((w&a)===0||(w&l)!==0)&&(h[E]=Ta(w,i)):I<=i&&(t.expiredLanes|=w),d&=~w}if(i=Je,a=Ue,a=Mn(t,t===i?a:0),l=t.callbackNode,a===0||t===i&&et===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ea(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||br(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&Ea(l),Ou(a)){case 2:case 8:a=Mt;break;case 32:a=Vi;break;case 268435456:a=jo;break;default:a=Vi}return l=Ey.bind(null,t),a=Rs(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&Ea(l),t.callbackPriority=2,t.callbackNode=null,2}function Ey(t,i){var a=t.callbackNode;if(no()&&t.callbackNode!==a)return null;var l=Ue;return l=Mn(t,t===Je?l:0),l===0?null:(oy(t,l,i),vy(t,mn()),t.callbackNode!=null&&t.callbackNode===a?Ey.bind(null,t):null)}function Ty(t,i){if(no())return null;oy(t,i,!0)}function OS(t){HS(function(){(rt&6)!==0?Rs(bt,t):t()})}function Vd(){return ia===0&&(ia=zo()),ia}function wy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:hi(""+t)}function Sy(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function MS(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=wy((h[At]||null).action),E=l.submitter;E&&(i=(i=E[At]||null)?wy(i.formAction):E.getAttribute("formAction"),i!==null&&(d=i,E=null));var w=new Ia("action","action",null,l,h);t.push({event:w,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ia!==0){var I=E?Sy(h,E):new FormData(h);Gf(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(w.preventDefault(),I=E?Sy(h,E):new FormData(h),Gf(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var jd=0;jd<pg.length;jd++){var Ld=pg[jd],PS=Ld.toLowerCase(),kS=Ld[0].toUpperCase()+Ld.slice(1);Jn(PS,"on"+kS)}Jn(cg,"onAnimationEnd"),Jn(hg,"onAnimationIteration"),Jn(fg,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(Zw,"onTransitionRun"),Jn(Jw,"onTransitionStart"),Jn(eS,"onTransitionCancel"),Jn(dg,"onTransitionEnd"),pn("onMouseEnter",["mouseout","mouseover"]),pn("onMouseLeave",["mouseout","mouseover"]),pn("onPointerEnter",["pointerout","pointerover"]),pn("onPointerLeave",["pointerout","pointerover"]),Sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function by(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var E=l.length-1;0<=E;E--){var w=l[E],I=w.instance,V=w.currentTarget;if(w=w.listener,I!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=V;try{d(h)}catch(X){_c(X)}h.currentTarget=null,d=I}else for(E=0;E<l.length;E++){if(w=l[E],I=w.instance,V=w.currentTarget,w=w.listener,I!==d&&h.isPropagationStopped())break e;d=w,h.currentTarget=V;try{d(h)}catch(X){_c(X)}h.currentTarget=null,d=I}}}}function ke(t,i){var a=i[Is];a===void 0&&(a=i[Is]=new Set);var l=t+"__bubble";a.has(l)||(Ay(i,t,2,!1),a.add(l))}function Ud(t,i,a){var l=0;i&&(l|=4),Ay(a,t,l,i)}var Oc="_reactListening"+Math.random().toString(36).slice(2);function zd(t){if(!t[Oc]){t[Oc]=!0,Ho.forEach(function(a){a!=="selectionchange"&&(VS.has(a)||Ud(a,!1,t),Ud(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Oc]||(i[Oc]=!0,Ud("selectionchange",!1,i))}}function Ay(t,i,a,l){switch(Qy(i)){case 2:var h=lb;break;case 8:h=ub;break;default:h=Jd}a=h.bind(null,i,a,t),h=void 0,!jn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Bd(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var E=l.tag;if(E===3||E===4){var w=l.stateNode.containerInfo;if(w===h||w.nodeType===8&&w.parentNode===h)break;if(E===4)for(E=l.return;E!==null;){var I=E.tag;if((I===3||I===4)&&(I=E.stateNode.containerInfo,I===h||I.nodeType===8&&I.parentNode===h))return;E=E.return}for(;w!==null;){if(E=Zn(w),E===null)return;if(I=E.tag,I===5||I===6||I===26||I===27){l=d=E;continue e}w=w.parentNode}}l=l.return}ju(function(){var V=d,X=Ca(a),J=[];e:{var F=mg.get(t);if(F!==void 0){var Q=Ia,fe=t;switch(t){case"keypress":if(di(a)===0)break e;case"keydown":case"keyup":Q=Pa;break;case"focusin":fe="focus",Q=Da;break;case"focusout":fe="blur",Q=Da;break;case"beforeblur":case"afterblur":Q=Da;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Ln;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=df;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Gu;break;case cg:case hg:case fg:Q=Oa;break;case dg:Q=Ku;break;case"scroll":case"scrollend":Q=Lu;break;case"wheel":Q=ka;break;case"copy":case"cut":case"paste":Q=Ma;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=el;break;case"toggle":case"beforetoggle":Q=Yu}var be=(i&4)!==0,ht=!be&&(t==="scroll"||t==="scrollend"),L=be?F!==null?F+"Capture":null:F;be=[];for(var P=V,H;P!==null;){var W=P;if(H=W.stateNode,W=W.tag,W!==5&&W!==26&&W!==27||H===null||L===null||(W=Ms(P,L),W!=null&&be.push(Dl(P,W,H))),ht)break;P=P.return}0<be.length&&(F=new Q(F,fe,null,a,X),J.push({event:F,listeners:be}))}}if((i&7)===0){e:{if(F=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",F&&a!==Vn&&(fe=a.relatedTarget||a.fromElement)&&(Zn(fe)||fe[ji]))break e;if((Q||F)&&(F=X.window===X?X:(F=X.ownerDocument)?F.defaultView||F.parentWindow:window,Q?(fe=a.relatedTarget||a.toElement,Q=V,fe=fe?Zn(fe):null,fe!==null&&(ht=ge(fe),be=fe.tag,fe!==ht||be!==5&&be!==27&&be!==6)&&(fe=null)):(Q=null,fe=V),Q!==fe)){if(be=Ln,W="onMouseLeave",L="onMouseEnter",P="mouse",(t==="pointerout"||t==="pointerover")&&(be=el,W="onPointerLeave",L="onPointerEnter",P="pointer"),ht=Q==null?F:Nr(Q),H=fe==null?F:Nr(fe),F=new be(W,P+"leave",Q,a,X),F.target=ht,F.relatedTarget=H,W=null,Zn(X)===V&&(be=new be(L,P+"enter",fe,a,X),be.target=H,be.relatedTarget=ht,W=be),ht=W,Q&&fe)t:{for(be=Q,L=fe,P=0,H=be;H;H=ro(H))P++;for(H=0,W=L;W;W=ro(W))H++;for(;0<P-H;)be=ro(be),P--;for(;0<H-P;)L=ro(L),H--;for(;P--;){if(be===L||L!==null&&be===L.alternate)break t;be=ro(be),L=ro(L)}be=null}else be=null;Q!==null&&Ry(J,F,Q,be,!1),fe!==null&&ht!==null&&Ry(J,ht,fe,be,!0)}}e:{if(F=V?Nr(V):window,Q=F.nodeName&&F.nodeName.toLowerCase(),Q==="select"||Q==="input"&&F.type==="file")var ce=Jp;else if(Ct(F))if(eg)ce=Qw;else{ce=$w;var Ne=Gw}else Q=F.nodeName,!Q||Q.toLowerCase()!=="input"||F.type!=="checkbox"&&F.type!=="radio"?V&&Ko(V.elementType)&&(ce=Jp):ce=Kw;if(ce&&(ce=ce(t,V))){Gi(J,ce,a,X);break e}Ne&&Ne(t,F,V),t==="focusout"&&V&&F.type==="number"&&V.memoizedProps.value!=null&&Ra(F,"number",F.value)}switch(Ne=V?Nr(V):window,t){case"focusin":(Ct(Ne)||Ne.contentEditable==="true")&&(Va=Ne,yf=V,il=null);break;case"focusout":il=yf=Va=null;break;case"mousedown":vf=!0;break;case"contextmenu":case"mouseup":case"dragend":vf=!1,lg(J,a,X);break;case"selectionchange":if(Ww)break;case"keydown":case"keyup":lg(J,a,X)}var pe;if(gi)e:{switch(t){case"compositionstart":var ve="onCompositionStart";break e;case"compositionend":ve="onCompositionEnd";break e;case"compositionupdate":ve="onCompositionUpdate";break e}ve=void 0}else je?G(t,a)&&(ve="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(ve="onCompositionStart");ve&&(v&&a.locale!=="ko"&&(je||ve!=="onCompositionStart"?ve==="onCompositionEnd"&&je&&(pe=Yo()):(fi=X,Vr="value"in fi?fi.value:fi.textContent,je=!0)),Ne=Mc(V,ve),0<Ne.length&&(ve=new Zo(ve,t,null,a,X),J.push({event:ve,listeners:Ne}),pe?ve.data=pe:(pe=ie(a),pe!==null&&(ve.data=pe)))),(pe=g?Rt(t,a):Le(t,a))&&(ve=Mc(V,"onBeforeInput"),0<ve.length&&(Ne=new Zo("onBeforeInput","beforeinput",null,a,X),J.push({event:Ne,listeners:ve}),Ne.data=pe)),MS(J,t,V,a,X)}by(J,i)})}function Dl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Mc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Ms(t,a),h!=null&&l.unshift(Dl(t,h,d)),h=Ms(t,i),h!=null&&l.push(Dl(t,h,d))),t=t.return}return l}function ro(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ry(t,i,a,l,h){for(var d=i._reactName,E=[];a!==null&&a!==l;){var w=a,I=w.alternate,V=w.stateNode;if(w=w.tag,I!==null&&I===l)break;w!==5&&w!==26&&w!==27||V===null||(I=V,h?(V=Ms(a,d),V!=null&&E.unshift(Dl(a,V,I))):h||(V=Ms(a,d),V!=null&&E.push(Dl(a,V,I)))),a=a.return}E.length!==0&&t.push({event:i,listeners:E})}var jS=/\r\n?/g,LS=/\u0000|\uFFFD/g;function Cy(t){return(typeof t=="string"?t:""+t).replace(jS,`
`).replace(LS,"")}function Iy(t,i){return i=Cy(i),Cy(t)===i}function Pc(){}function We(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||kn(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&kn(t,""+l);break;case"className":Mr(t,"class",l);break;case"tabIndex":Mr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Mr(t,a,l);break;case"style":Vu(t,l,d);break;case"data":if(i!=="object"){Mr(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=hi(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&We(t,i,"name",h.name,h,null),We(t,i,"formEncType",h.formEncType,h,null),We(t,i,"formMethod",h.formMethod,h,null),We(t,i,"formTarget",h.formTarget,h,null)):(We(t,i,"encType",h.encType,h,null),We(t,i,"method",h.method,h,null),We(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=hi(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Pc);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=hi(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ke("beforetoggle",t),ke("toggle",t),Or(t,"popover",l);break;case"xlinkActuate":Pn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Pn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Pn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Pn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Pn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Pn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Pn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Pn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Pn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Or(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=hf.get(a)||a,Or(t,a,l))}}function Hd(t,i,a,l,h,d){switch(a){case"style":Vu(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?kn(t,l):(typeof l=="number"||typeof l=="bigint")&&kn(t,""+l);break;case"onScroll":l!=null&&ke("scroll",t);break;case"onScrollEnd":l!=null&&ke("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Pc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ba.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[At]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Or(t,a,l)}}}function Ft(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",t),ke("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var E=a[d];if(E!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,d,E,a,null)}}h&&We(t,i,"srcSet",a.srcSet,a,null),l&&We(t,i,"src",a.src,a,null);return;case"input":ke("invalid",t);var w=d=E=h=null,I=null,V=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":E=X;break;case"checked":I=X;break;case"defaultChecked":V=X;break;case"value":d=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:We(t,i,l,X,a,null)}}Ds(t,d,w,I,V,E,h,!1),Ns(t);return;case"select":ke("invalid",t),l=E=d=null;for(h in a)if(a.hasOwnProperty(h)&&(w=a[h],w!=null))switch(h){case"value":d=w;break;case"defaultValue":E=w;break;case"multiple":l=w;default:We(t,i,h,w,a,null)}i=d,a=E,t.multiple=!!l,i!=null?He(t,!!l,i,!1):a!=null&&He(t,!!l,a,!0);return;case"textarea":ke("invalid",t),d=h=l=null;for(E in a)if(a.hasOwnProperty(E)&&(w=a[E],w!=null))switch(E){case"value":l=w;break;case"defaultValue":h=w;break;case"children":d=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(s(91));break;default:We(t,i,E,w,a,null)}kr(t,l,h,d),Ns(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:We(t,i,I,l,a,null)}return;case"dialog":ke("cancel",t),ke("close",t);break;case"iframe":case"object":ke("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)ke(Nl[l],t);break;case"image":ke("error",t),ke("load",t);break;case"details":ke("toggle",t);break;case"embed":case"source":case"link":ke("error",t),ke("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in a)if(a.hasOwnProperty(V)&&(l=a[V],l!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:We(t,i,V,l,a,null)}return;default:if(Ko(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&Hd(t,i,X,l,a,void 0));return}}for(w in a)a.hasOwnProperty(w)&&(l=a[w],l!=null&&We(t,i,w,l,a,null))}function US(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,E=null,w=null,I=null,V=null,X=null;for(Q in a){var J=a[Q];if(a.hasOwnProperty(Q)&&J!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":I=J;default:l.hasOwnProperty(Q)||We(t,i,Q,null,l,J)}}for(var F in l){var Q=l[F];if(J=a[F],l.hasOwnProperty(F)&&(Q!=null||J!=null))switch(F){case"type":d=Q;break;case"name":h=Q;break;case"checked":V=Q;break;case"defaultChecked":X=Q;break;case"value":E=Q;break;case"defaultValue":w=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==J&&We(t,i,F,Q,l,J)}}Pr(t,E,w,I,V,X,d,h);return;case"select":Q=E=w=F=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Q=I;default:l.hasOwnProperty(d)||We(t,i,d,null,l,I)}for(h in l)if(d=l[h],I=a[h],l.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":F=d;break;case"defaultValue":w=d;break;case"multiple":E=d;default:d!==I&&We(t,i,h,d,l,I)}i=w,a=E,l=Q,F!=null?He(t,!!a,F,!1):!!l!=!!a&&(i!=null?He(t,!!a,i,!0):He(t,!!a,a?[]:"",!1));return;case"textarea":Q=F=null;for(w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:We(t,i,w,null,l,h)}for(E in l)if(h=l[E],d=a[E],l.hasOwnProperty(E)&&(h!=null||d!=null))switch(E){case"value":F=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&We(t,i,E,h,l,d)}Os(t,F,Q);return;case"option":for(var fe in a)if(F=a[fe],a.hasOwnProperty(fe)&&F!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:We(t,i,fe,null,l,F)}for(I in l)if(F=l[I],Q=a[I],l.hasOwnProperty(I)&&F!==Q&&(F!=null||Q!=null))switch(I){case"selected":t.selected=F&&typeof F!="function"&&typeof F!="symbol";break;default:We(t,i,I,F,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)F=a[be],a.hasOwnProperty(be)&&F!=null&&!l.hasOwnProperty(be)&&We(t,i,be,null,l,F);for(V in l)if(F=l[V],Q=a[V],l.hasOwnProperty(V)&&F!==Q&&(F!=null||Q!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,i));break;default:We(t,i,V,F,l,Q)}return;default:if(Ko(i)){for(var ht in a)F=a[ht],a.hasOwnProperty(ht)&&F!==void 0&&!l.hasOwnProperty(ht)&&Hd(t,i,ht,void 0,l,F);for(X in l)F=l[X],Q=a[X],!l.hasOwnProperty(X)||F===Q||F===void 0&&Q===void 0||Hd(t,i,X,F,l,Q);return}}for(var L in a)F=a[L],a.hasOwnProperty(L)&&F!=null&&!l.hasOwnProperty(L)&&We(t,i,L,null,l,F);for(J in l)F=l[J],Q=a[J],!l.hasOwnProperty(J)||F===Q||F==null&&Q==null||We(t,i,J,F,l,Q)}var qd=null,Fd=null;function kc(t){return t.nodeType===9?t:t.ownerDocument}function xy(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ny(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Gd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var $d=null;function zS(){var t=window.event;return t&&t.type==="popstate"?t===$d?!1:($d=t,!0):($d=null,!1)}var Dy=typeof setTimeout=="function"?setTimeout:void 0,BS=typeof clearTimeout=="function"?clearTimeout:void 0,Oy=typeof Promise=="function"?Promise:void 0,HS=typeof queueMicrotask=="function"?queueMicrotask:typeof Oy<"u"?function(t){return Oy.resolve(null).then(t).catch(qS)}:Dy;function qS(t){setTimeout(function(){throw t})}function Kd(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"){if(l===0){t.removeChild(h),Ul(i);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=h}while(a);Ul(i)}function Qd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Qd(a),xs(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function FS(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[xr])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=ni(t.nextSibling),t===null)break}return null}function GS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ni(t.nextSibling),t===null))return null;return t}function ni(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}function My(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Py(t,i,a){switch(i=kc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Qn=new Map,ky=new Set;function Vc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var ar=le.d;le.d={f:$S,r:KS,D:QS,C:YS,L:XS,m:WS,X:JS,S:ZS,M:eb};function $S(){var t=ar.f(),i=Ic();return t||i}function KS(t){var i=Li(t);i!==null&&i.tag===5&&i.type==="form"?l_(i):ar.r(t)}var so=typeof document>"u"?null:document;function Vy(t,i,a){var l=so;if(l&&typeof i=="string"&&i){var h=lt(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),ky.has(h)||(ky.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ft(i,"link",t),nt(i),l.head.appendChild(i)))}}function QS(t){ar.D(t),Vy("dns-prefetch",t,null)}function YS(t,i){ar.C(t,i),Vy("preconnect",t,i)}function XS(t,i,a){ar.L(t,i,a);var l=so;if(l&&t&&i){var h='link[rel="preload"][as="'+lt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+lt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+lt(a.imageSizes)+'"]')):h+='[href="'+lt(t)+'"]';var d=h;switch(i){case"style":d=ao(t);break;case"script":d=oo(t)}Qn.has(d)||(t=x({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Qn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ol(d))||i==="script"&&l.querySelector(Ml(d))||(i=l.createElement("link"),Ft(i,"link",t),nt(i),l.head.appendChild(i)))}}function WS(t,i){ar.m(t,i);var a=so;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+lt(l)+'"][href="'+lt(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=oo(t)}if(!Qn.has(d)&&(t=x({rel:"modulepreload",href:t},i),Qn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(d)))return}l=a.createElement("link"),Ft(l,"link",t),nt(l),a.head.appendChild(l)}}}function ZS(t,i,a){ar.S(t,i,a);var l=so;if(l&&t){var h=Dr(l).hoistableStyles,d=ao(t);i=i||"default";var E=h.get(d);if(!E){var w={loading:0,preload:null};if(E=l.querySelector(Ol(d)))w.loading=5;else{t=x({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Qn.get(d))&&Yd(t,a);var I=E=l.createElement("link");nt(I),Ft(I,"link",t),I._p=new Promise(function(V,X){I.onload=V,I.onerror=X}),I.addEventListener("load",function(){w.loading|=1}),I.addEventListener("error",function(){w.loading|=2}),w.loading|=4,jc(E,i,l)}E={type:"stylesheet",instance:E,count:1,state:w},h.set(d,E)}}}function JS(t,i){ar.X(t,i);var a=so;if(a&&t){var l=Dr(a).hoistableScripts,h=oo(t),d=l.get(h);d||(d=a.querySelector(Ml(h)),d||(t=x({src:t,async:!0},i),(i=Qn.get(h))&&Xd(t,i),d=a.createElement("script"),nt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function eb(t,i){ar.M(t,i);var a=so;if(a&&t){var l=Dr(a).hoistableScripts,h=oo(t),d=l.get(h);d||(d=a.querySelector(Ml(h)),d||(t=x({src:t,async:!0,type:"module"},i),(i=Qn.get(h))&&Xd(t,i),d=a.createElement("script"),nt(d),Ft(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function jy(t,i,a,l){var h=(h=On.current)?Vc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ao(a.href),a=Dr(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ao(a.href);var d=Dr(h).hoistableStyles,E=d.get(t);if(E||(h=h.ownerDocument||h,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,E),(d=h.querySelector(Ol(t)))&&!d._p&&(E.instance=d,E.state.loading=5),Qn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qn.set(t,a),d||tb(h,t,a,E.state))),i&&l===null)throw Error(s(528,""));return E}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=oo(a),a=Dr(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ao(t){return'href="'+lt(t)+'"'}function Ol(t){return'link[rel="stylesheet"]['+t+"]"}function Ly(t){return x({},t,{"data-precedence":t.precedence,precedence:null})}function tb(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ft(i,"link",a),nt(i),t.head.appendChild(i))}function oo(t){return'[src="'+lt(t)+'"]'}function Ml(t){return"script[async]"+t}function Uy(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+lt(a.href)+'"]');if(l)return i.instance=l,nt(l),l;var h=x({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),nt(l),Ft(l,"style",h),jc(l,a.precedence,t),i.instance=l;case"stylesheet":h=ao(a.href);var d=t.querySelector(Ol(h));if(d)return i.state.loading|=4,i.instance=d,nt(d),d;l=Ly(a),(h=Qn.get(h))&&Yd(l,h),d=(t.ownerDocument||t).createElement("link"),nt(d);var E=d;return E._p=new Promise(function(w,I){E.onload=w,E.onerror=I}),Ft(d,"link",l),i.state.loading|=4,jc(d,a.precedence,t),i.instance=d;case"script":return d=oo(a.src),(h=t.querySelector(Ml(d)))?(i.instance=h,nt(h),h):(l=a,(h=Qn.get(d))&&(l=x({},a),Xd(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),nt(h),Ft(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,jc(l,a.precedence,t));return i.instance}function jc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,E=0;E<l.length;E++){var w=l[E];if(w.dataset.precedence===i)d=w;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function Yd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Xd(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Lc=null;function zy(t,i,a){if(Lc===null){var l=new Map,h=Lc=new Map;h.set(a,l)}else h=Lc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[xr]||d[Pt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var E=d.getAttribute(i)||"";E=t+E;var w=l.get(E);w?w.push(d):l.set(E,[d])}}return l}function By(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function nb(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Hy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Pl=null;function ib(){}function rb(t,i,a){if(Pl===null)throw Error(s(475));var l=Pl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ao(a.href),d=t.querySelector(Ol(h));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Uc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=d,nt(d);return}d=t.ownerDocument||t,a=Ly(a),(h=Qn.get(h))&&Yd(a,h),d=d.createElement("link"),nt(d);var E=d;E._p=new Promise(function(w,I){E.onload=w,E.onerror=I}),Ft(d,"link",a),i.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=Uc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function sb(){if(Pl===null)throw Error(s(475));var t=Pl;return t.stylesheets&&t.count===0&&Wd(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&Wd(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Uc(){if(this.count--,this.count===0){if(this.stylesheets)Wd(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var zc=null;function Wd(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,zc=new Map,i.forEach(ab,t),zc=null,Uc.call(t))}function ab(t,i){if(!(i.state.loading&4)){var a=zc.get(t);if(a)var l=a.get(null);else{a=new Map,zc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var E=h[d];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(a.set(E.dataset.precedence,E),l=E)}l&&a.set(null,l)}h=i.instance,E=h.getAttribute("data-precedence"),d=a.get(E)||l,d===l&&a.set(null,h),a.set(E,h),this.count++,l=Uc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var kl={$$typeof:D,Provider:null,Consumer:null,_currentValue:Ie,_currentValue2:Ie,_threadCount:0};function ob(t,i,a,l,h,d,E,w){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wa(0),this.hiddenUpdates=wa(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=w,this.incompleteTransitions=new Map}function qy(t,i,a,l,h,d,E,w,I,V,X,J){return t=new ob(t,i,a,E,w,I,V,J),i=1,d===!0&&(i|=24),d=$n(3,null,null,i),t.current=d,d.stateNode=t,i=xf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},ud(d),t}function Fy(t){return t?(t=Ua,t):Ua}function Gy(t,i,a,l,h,d){h=Fy(h),l.context===null?l.context=h:l.pendingContext=h,l=Fr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Gr(t,l,i),a!==null&&(cn(a,t,i),yl(a,t,i))}function $y(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Zd(t,i){$y(t,i),(t=t.alternate)&&$y(t,i)}function Ky(t){if(t.tag===13){var i=jr(t,67108864);i!==null&&cn(i,t,67108864),Zd(t,67108864)}}var Bc=!0;function lb(t,i,a,l){var h=A.T;A.T=null;var d=le.p;try{le.p=2,Jd(t,i,a,l)}finally{le.p=d,A.T=h}}function ub(t,i,a,l){var h=A.T;A.T=null;var d=le.p;try{le.p=8,Jd(t,i,a,l)}finally{le.p=d,A.T=h}}function Jd(t,i,a,l){if(Bc){var h=em(l);if(h===null)Bd(t,i,l,Hc,a),Yy(t,l);else if(hb(h,t,i,a,l))l.stopPropagation();else if(Yy(t,l),i&4&&-1<cb.indexOf(t)){for(;h!==null;){var d=Li(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var E=Wn(d.pendingLanes);if(E!==0){var w=d;for(w.pendingLanes|=2,w.entangledLanes|=2;E;){var I=1<<31-an(E);w.entanglements[1]|=I,E&=~I}wi(d),(rt&6)===0&&(Ac=mn()+500,xl(0))}}break;case 13:w=jr(d,2),w!==null&&cn(w,d,2),Ic(),Zd(d,2)}if(d=em(l),d===null&&Bd(t,i,l,Hc,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else Bd(t,i,l,null,a)}}function em(t){return t=Ca(t),tm(t)}var Hc=null;function tm(t){if(Hc=null,t=Zn(t),t!==null){var i=ge(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=Ge(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Hc=t,null}function Qy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Cu()){case bt:return 2;case Mt:return 8;case Vi:case Iu:return 32;case jo:return 268435456;default:return 32}default:return 32}}var nm=!1,Zr=null,Jr=null,es=null,Vl=new Map,jl=new Map,ts=[],cb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yy(t,i){switch(t){case"focusin":case"focusout":Zr=null;break;case"dragenter":case"dragleave":Jr=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":Vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":jl.delete(i.pointerId)}}function Ll(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Li(i),i!==null&&Ky(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function hb(t,i,a,l,h){switch(i){case"focusin":return Zr=Ll(Zr,t,i,a,l,h),!0;case"dragenter":return Jr=Ll(Jr,t,i,a,l,h),!0;case"mouseover":return es=Ll(es,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return Vl.set(d,Ll(Vl.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,jl.set(d,Ll(jl.get(d)||null,t,i,a,l,h)),!0}return!1}function Xy(t){var i=Zn(t.target);if(i!==null){var a=ge(i);if(a!==null){if(i=a.tag,i===13){if(i=Ge(a),i!==null){t.blockedOn=i,Ir(t.priority,function(){if(a.tag===13){var l=xn(),h=jr(a,l);h!==null&&cn(h,a,l),Zd(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=em(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Vn=l,a.target.dispatchEvent(l),Vn=null}else return i=Li(a),i!==null&&Ky(i),t.blockedOn=a,!1;i.shift()}return!0}function Wy(t,i,a){qc(t)&&a.delete(i)}function fb(){nm=!1,Zr!==null&&qc(Zr)&&(Zr=null),Jr!==null&&qc(Jr)&&(Jr=null),es!==null&&qc(es)&&(es=null),Vl.forEach(Wy),jl.forEach(Wy)}function Fc(t,i){t.blockedOn===i&&(t.blockedOn=null,nm||(nm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,fb)))}var Gc=null;function Zy(t){Gc!==t&&(Gc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Gc===t&&(Gc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(tm(l||a)===null)continue;break}var d=Li(a);d!==null&&(t.splice(i,3),i-=3,Gf(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function Ul(t){function i(I){return Fc(I,t)}Zr!==null&&Fc(Zr,t),Jr!==null&&Fc(Jr,t),es!==null&&Fc(es,t),Vl.forEach(i),jl.forEach(i);for(var a=0;a<ts.length;a++){var l=ts[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ts.length&&(a=ts[0],a.blockedOn===null);)Xy(a),a.blockedOn===null&&ts.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],E=h[At]||null;if(typeof d=="function")E||Zy(a);else if(E){var w=null;if(d&&d.hasAttribute("formAction")){if(h=d,E=d[At]||null)w=E.formAction;else if(tm(h)!==null)continue}else w=E.action;typeof w=="function"?a[l+1]=w:(a.splice(l,3),l-=3),Zy(a)}}}function im(t){this._internalRoot=t}$c.prototype.render=im.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=xn();Gy(a,l,t,i,null,null)},$c.prototype.unmount=im.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;t.tag===0&&no(),Gy(t.current,2,null,t,null,null),Ic(),i[ji]=null}};function $c(t){this._internalRoot=t}$c.prototype.unstable_scheduleHydration=function(t){if(t){var i=Mu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<ts.length&&i!==0&&i<ts[a].priority;a++);ts.splice(a,0,t),a===0&&Xy(t)}};var Jy=e.version;if(Jy!=="19.0.0")throw Error(s(527,Jy,"19.0.0"));le.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=ne(i),t=t!==null?de(t):null,t=t===null?null:t.stateNode,t};var db={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Zn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Kc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Kc.isDisabled&&Kc.supportsFiber)try{wr=Kc.inject(db),Yt=Kc}catch{}}return Bl.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=g_,d=__,E=y_,w=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(E=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(w=i.unstable_transitionCallbacks)),i=qy(t,1,!1,null,null,a,l,h,d,E,w,null),t[ji]=i.current,zd(t.nodeType===8?t.parentNode:t),new im(i)},Bl.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=g_,E=__,w=y_,I=null,V=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(E=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(V=a.formState)),i=qy(t,1,!0,i,a??null,l,h,d,E,w,I,V),i.context=Fy(null),a=i.current,l=xn(),h=Fr(l),h.callback=null,Gr(a,h,l),i.current.lanes=l,dt(i,l),wi(i),t[ji]=i.current,zd(t),new $c(i)},Bl.version="19.0.0",Bl}var uv;function Sb(){if(uv)return am.exports;uv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),am.exports=wb(),am.exports}var bb=Sb(),Hl={},cv;function Ab(){if(cv)return Hl;cv=1,Object.defineProperty(Hl,"__esModule",{value:!0}),Hl.parse=f,Hl.serialize=_;const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function f(R,D){const j=new u,Y=R.length;if(Y<2)return j;const q=(D==null?void 0:D.decode)||T;let $=0;do{const te=R.indexOf("=",$);if(te===-1)break;const K=R.indexOf(";",$),re=K===-1?Y:K;if(te>re){$=R.lastIndexOf(";",te-1)+1;continue}const se=m(R,$,te),he=p(R,te,se),M=R.slice(se,he);if(j[M]===void 0){let C=m(R,te+1,re),A=p(R,re,C);const x=q(R.slice(C,A));j[M]=x}$=re+1}while($<Y);return j}function m(R,D,j){do{const Y=R.charCodeAt(D);if(Y!==32&&Y!==9)return D}while(++D<j);return j}function p(R,D,j){for(;D>j;){const Y=R.charCodeAt(--D);if(Y!==32&&Y!==9)return D+1}return j}function _(R,D,j){const Y=(j==null?void 0:j.encode)||encodeURIComponent;if(!r.test(R))throw new TypeError(`argument name is invalid: ${R}`);const q=Y(D);if(!e.test(q))throw new TypeError(`argument val is invalid: ${D}`);let $=R+"="+q;if(!j)return $;if(j.maxAge!==void 0){if(!Number.isInteger(j.maxAge))throw new TypeError(`option maxAge is invalid: ${j.maxAge}`);$+="; Max-Age="+j.maxAge}if(j.domain){if(!n.test(j.domain))throw new TypeError(`option domain is invalid: ${j.domain}`);$+="; Domain="+j.domain}if(j.path){if(!s.test(j.path))throw new TypeError(`option path is invalid: ${j.path}`);$+="; Path="+j.path}if(j.expires){if(!b(j.expires)||!Number.isFinite(j.expires.valueOf()))throw new TypeError(`option expires is invalid: ${j.expires}`);$+="; Expires="+j.expires.toUTCString()}if(j.httpOnly&&($+="; HttpOnly"),j.secure&&($+="; Secure"),j.partitioned&&($+="; Partitioned"),j.priority)switch(typeof j.priority=="string"?j.priority.toLowerCase():void 0){case"low":$+="; Priority=Low";break;case"medium":$+="; Priority=Medium";break;case"high":$+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${j.priority}`)}if(j.sameSite)switch(typeof j.sameSite=="string"?j.sameSite.toLowerCase():j.sameSite){case!0:case"strict":$+="; SameSite=Strict";break;case"lax":$+="; SameSite=Lax";break;case"none":$+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${j.sameSite}`)}return $}function T(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function b(R){return o.call(R)==="[object Date]"}return Hl}Ab();/**
 * react-router v7.3.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var hv="popstate";function Rb(r={}){function e(s,o){let{pathname:u,search:f,hash:m}=s.location;return bm("",{pathname:u,search:f,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:tu(o)}return Ib(e,n,null,r)}function st(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function xi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Cb(){return Math.random().toString(36).substring(2,10)}function fv(r,e){return{usr:r.state,key:r.key,idx:e}}function bm(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?Co(e):e,state:n,key:e&&e.key||s||Cb()}}function tu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function Co(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function Ib(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,m="POP",p=null,_=T();_==null&&(_=0,f.replaceState({...f.state,idx:_},""));function T(){return(f.state||{idx:null}).idx}function b(){m="POP";let q=T(),$=q==null?null:q-_;_=q,p&&p({action:m,location:Y.location,delta:$})}function R(q,$){m="PUSH";let te=bm(Y.location,q,$);_=T()+1;let K=fv(te,_),re=Y.createHref(te);try{f.pushState(K,"",re)}catch(se){if(se instanceof DOMException&&se.name==="DataCloneError")throw se;o.location.assign(re)}u&&p&&p({action:m,location:Y.location,delta:1})}function D(q,$){m="REPLACE";let te=bm(Y.location,q,$);_=T();let K=fv(te,_),re=Y.createHref(te);f.replaceState(K,"",re),u&&p&&p({action:m,location:Y.location,delta:0})}function j(q){let $=o.location.origin!=="null"?o.location.origin:o.location.href,te=typeof q=="string"?q:tu(q);return te=te.replace(/ $/,"%20"),st($,`No window.location.(origin|href) available to create URL for href: ${te}`),new URL(te,$)}let Y={get action(){return m},get location(){return r(o,f)},listen(q){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(hv,b),p=q,()=>{o.removeEventListener(hv,b),p=null}},createHref(q){return e(o,q)},createURL:j,encodeLocation(q){let $=j(q);return{pathname:$.pathname,search:$.search,hash:$.hash}},push:R,replace:D,go(q){return f.go(q)}};return Y}function qE(r,e,n="/"){return xb(r,e,n,!1)}function xb(r,e,n,s){let o=typeof e=="string"?Co(e):e,u=dr(o.pathname||"/",n);if(u==null)return null;let f=FE(r);Nb(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let _=Bb(u);m=Ub(f[p],_,s)}return m}function FE(r,e=[],n=[],s=""){let o=(u,f,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:f,route:u};p.relativePath.startsWith("/")&&(st(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let _=cr([s,p.relativePath]),T=n.concat(p);u.children&&u.children.length>0&&(st(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),FE(u.children,e,T,_)),!(u.path==null&&!u.index)&&e.push({path:_,score:jb(_,u.index),routesMeta:T})};return r.forEach((u,f)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))o(u,f);else for(let p of GE(u.path))o(u,f,p)}),e}function GE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=GE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function Nb(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:Lb(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Db=/^:[\w-]+$/,Ob=3,Mb=2,Pb=1,kb=10,Vb=-2,dv=r=>r==="*";function jb(r,e){let n=r.split("/"),s=n.length;return n.some(dv)&&(s+=Vb),e&&(s+=Mb),n.filter(o=>!dv(o)).reduce((o,u)=>o+(Db.test(u)?Ob:u===""?Pb:kb),s)}function Lb(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function Ub(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],_=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",b=mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:_},T),R=p.route;if(!b&&_&&n&&!s[s.length-1].route.index&&(b=mh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!b)return null;Object.assign(o,b.params),f.push({params:o,pathname:cr([u,b.pathname]),pathnameBase:Gb(cr([u,b.pathnameBase])),route:R}),b.pathnameBase!=="/"&&(u=cr([u,b.pathnameBase]))}return f}function mh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=zb(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((_,{paramName:T,isOptional:b},R)=>{if(T==="*"){let j=m[R]||"";f=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const D=m[R];return b&&!D?_[T]=void 0:_[T]=(D||"").replace(/%2F/g,"/"),_},{}),pathname:u,pathnameBase:f,pattern:r}}function zb(r,e=!1,n=!0){xi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function Bb(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return xi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function dr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function Hb(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?Co(r):r;return{pathname:n?n.startsWith("/")?n:qb(n,e):e,search:$b(s),hash:Kb(o)}}function qb(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function cm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Fb(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function $E(r){let e=Fb(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function KE(r,e,n,s=!1){let o;typeof r=="string"?o=Co(r):(o={...r},st(!o.pathname||!o.pathname.includes("?"),cm("?","pathname","search",o)),st(!o.pathname||!o.pathname.includes("#"),cm("#","pathname","hash",o)),st(!o.search||!o.search.includes("#"),cm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let R=f.split("/");for(;R[0]==="..";)R.shift(),b-=1;o.pathname=R.join("/")}m=b>=0?e[b]:"/"}let p=Hb(o,m),_=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(_||T)&&(p.pathname+="/"),p}var cr=r=>r.join("/").replace(/\/\/+/g,"/"),Gb=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),$b=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Kb=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function Qb(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var QE=["POST","PUT","PATCH","DELETE"];new Set(QE);var Yb=["GET",...QE];new Set(Yb);var Io=z.createContext(null);Io.displayName="DataRouter";var Ph=z.createContext(null);Ph.displayName="DataRouterState";var YE=z.createContext({isTransitioning:!1});YE.displayName="ViewTransition";var Xb=z.createContext(new Map);Xb.displayName="Fetchers";var Wb=z.createContext(null);Wb.displayName="Await";var Oi=z.createContext(null);Oi.displayName="Navigation";var hu=z.createContext(null);hu.displayName="Location";var Mi=z.createContext({outlet:null,matches:[],isDataRoute:!1});Mi.displayName="Route";var Jm=z.createContext(null);Jm.displayName="RouteError";function Zb(r,{relative:e}={}){st(fu(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=z.useContext(Oi),{hash:o,pathname:u,search:f}=du(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:cr([n,u])),s.createHref({pathname:m,search:f,hash:o})}function fu(){return z.useContext(hu)!=null}function yr(){return st(fu(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(hu).location}var XE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function WE(r){z.useContext(Oi).static||z.useLayoutEffect(r)}function si(){let{isDataRoute:r}=z.useContext(Mi);return r?dA():Jb()}function Jb(){st(fu(),"useNavigate() may be used only in the context of a <Router> component.");let r=z.useContext(Io),{basename:e,navigator:n}=z.useContext(Oi),{matches:s}=z.useContext(Mi),{pathname:o}=yr(),u=JSON.stringify($E(s)),f=z.useRef(!1);return WE(()=>{f.current=!0}),z.useCallback((p,_={})=>{if(xi(f.current,XE),!f.current)return;if(typeof p=="number"){n.go(p);return}let T=KE(p,JSON.parse(u),o,_.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:cr([e,T.pathname])),(_.replace?n.replace:n.push)(T,_.state,_)},[e,n,u,o,r])}var ZE=z.createContext(null);function eA(){return z.useContext(ZE)}function tA(r){let e=z.useContext(Mi).outlet;return e&&z.createElement(ZE.Provider,{value:r},e)}function du(r,{relative:e}={}){let{matches:n}=z.useContext(Mi),{pathname:s}=yr(),o=JSON.stringify($E(n));return z.useMemo(()=>KE(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function nA(r,e){return JE(r,e)}function JE(r,e,n,s){var te;st(fu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=z.useContext(Oi),{matches:f}=z.useContext(Mi),m=f[f.length-1],p=m?m.params:{},_=m?m.pathname:"/",T=m?m.pathnameBase:"/",b=m&&m.route;{let K=b&&b.path||"";e0(_,!b||K.endsWith("*")||K.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${_}" (under <Route path="${K}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${K}"> to <Route path="${K==="/"?"*":`${K}/*`}">.`)}let R=yr(),D;if(e){let K=typeof e=="string"?Co(e):e;st(T==="/"||((te=K.pathname)==null?void 0:te.startsWith(T)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${K.pathname}" was given in the \`location\` prop.`),D=K}else D=R;let j=D.pathname||"/",Y=j;if(T!=="/"){let K=T.replace(/^\//,"").split("/");Y="/"+j.replace(/^\//,"").split("/").slice(K.length).join("/")}let q=!u&&n&&n.matches&&n.matches.length>0?n.matches:qE(r,{pathname:Y});xi(b||q!=null,`No routes matched location "${D.pathname}${D.search}${D.hash}" `),xi(q==null||q[q.length-1].route.element!==void 0||q[q.length-1].route.Component!==void 0||q[q.length-1].route.lazy!==void 0,`Matched leaf route at location "${D.pathname}${D.search}${D.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let $=oA(q&&q.map(K=>Object.assign({},K,{params:Object.assign({},p,K.params),pathname:cr([T,o.encodeLocation?o.encodeLocation(K.pathname).pathname:K.pathname]),pathnameBase:K.pathnameBase==="/"?T:cr([T,o.encodeLocation?o.encodeLocation(K.pathnameBase).pathname:K.pathnameBase])})),f,n,s);return e&&$?z.createElement(hu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...D},navigationType:"POP"}},$):$}function iA(){let r=fA(),e=Qb(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=z.createElement(z.Fragment,null,z.createElement("p",null," Hey developer "),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,f)}var rA=z.createElement(iA,null),sA=class extends z.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){console.error("React Router caught the following error during render",r,e)}render(){return this.state.error!==void 0?z.createElement(Mi.Provider,{value:this.props.routeContext},z.createElement(Jm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function aA({routeContext:r,match:e,children:n}){let s=z.useContext(Io);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Mi.Provider,{value:r},n)}function oA(r,e=[],n=null,s=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let o=r,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);st(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let f=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let _=o[p];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(m=p),_.route.id){let{loaderData:T,errors:b}=n,R=_.route.loader&&!T.hasOwnProperty(_.route.id)&&(!b||b[_.route.id]===void 0);if(_.route.lazy||R){f=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,_,T)=>{let b,R=!1,D=null,j=null;n&&(b=u&&_.route.id?u[_.route.id]:void 0,D=_.route.errorElement||rA,f&&(m<0&&T===0?(e0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,j=null):m===T&&(R=!0,j=_.route.hydrateFallbackElement||null)));let Y=e.concat(o.slice(0,T+1)),q=()=>{let $;return b?$=D:R?$=j:_.route.Component?$=z.createElement(_.route.Component,null):_.route.element?$=_.route.element:$=p,z.createElement(aA,{match:_,routeContext:{outlet:p,matches:Y,isDataRoute:n!=null},children:$})};return n&&(_.route.ErrorBoundary||_.route.errorElement||T===0)?z.createElement(sA,{location:n.location,revalidation:n.revalidation,component:D,error:b,children:q(),routeContext:{outlet:null,matches:Y,isDataRoute:!0}}):q()},null)}function ep(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lA(r){let e=z.useContext(Io);return st(e,ep(r)),e}function uA(r){let e=z.useContext(Ph);return st(e,ep(r)),e}function cA(r){let e=z.useContext(Mi);return st(e,ep(r)),e}function tp(r){let e=cA(r),n=e.matches[e.matches.length-1];return st(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function hA(){return tp("useRouteId")}function fA(){var s;let r=z.useContext(Jm),e=uA("useRouteError"),n=tp("useRouteError");return r!==void 0?r:(s=e.errors)==null?void 0:s[n]}function dA(){let{router:r}=lA("useNavigate"),e=tp("useNavigate"),n=z.useRef(!1);return WE(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{xi(n.current,XE),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var mv={};function e0(r,e,n){!e&&!mv[r]&&(mv[r]=!0,xi(!1,n))}z.memo(mA);function mA({routes:r,future:e,state:n}){return JE(r,void 0,n,e)}function pA(r){return tA(r.context)}function dn(r){st(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function gA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){st(!fu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=z.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=Co(n));let{pathname:p="/",search:_="",hash:T="",state:b=null,key:R="default"}=n,D=z.useMemo(()=>{let j=dr(p,f);return j==null?null:{location:{pathname:j,search:_,hash:T,state:b,key:R},navigationType:s}},[f,p,_,T,b,R,s]);return xi(D!=null,`<Router basename="${f}"> is not able to match the URL "${p}${_}${T}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:z.createElement(Oi.Provider,{value:m},z.createElement(hu.Provider,{children:e,value:D}))}function _A({children:r,location:e}){return nA(Am(r),e)}function Am(r,e=[]){let n=[];return z.Children.forEach(r,(s,o)=>{if(!z.isValidElement(s))return;let u=[...e,o];if(s.type===z.Fragment){n.push.apply(n,Am(s.props.children,u));return}st(s.type===dn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),st(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Am(s.props.children,u)),n.push(f)}),n}var nh="get",ih="application/x-www-form-urlencoded";function kh(r){return r!=null&&typeof r.tagName=="string"}function yA(r){return kh(r)&&r.tagName.toLowerCase()==="button"}function vA(r){return kh(r)&&r.tagName.toLowerCase()==="form"}function EA(r){return kh(r)&&r.tagName.toLowerCase()==="input"}function TA(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function wA(r,e){return r.button===0&&(!e||e==="_self")&&!TA(r)}var Qc=null;function SA(){if(Qc===null)try{new FormData(document.createElement("form"),0),Qc=!1}catch{Qc=!0}return Qc}var bA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function hm(r){return r!=null&&!bA.has(r)?(xi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ih}"`),null):r}function AA(r,e){let n,s,o,u,f;if(vA(r)){let m=r.getAttribute("action");s=m?dr(m,e):null,n=r.getAttribute("method")||nh,o=hm(r.getAttribute("enctype"))||ih,u=new FormData(r)}else if(yA(r)||EA(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?dr(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||nh,o=hm(r.getAttribute("formenctype"))||hm(m.getAttribute("enctype"))||ih,u=new FormData(m,r),!SA()){let{name:_,type:T,value:b}=r;if(T==="image"){let R=_?`${_}.`:"";u.append(`${R}x`,"0"),u.append(`${R}y`,"0")}else _&&u.append(_,b)}}else{if(kh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=nh,s=null,o=ih,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}function np(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}async function RA(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function CA(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function IA(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await RA(u,n);return f.links?f.links():[]}return[]}));return OA(s.flat(1).filter(CA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function pv(r,e,n,s,o,u){let f=(p,_)=>n[_]?p.route.id!==n[_].route.id:!0,m=(p,_)=>{var T;return n[_].pathname!==p.pathname||((T=n[_].route.path)==null?void 0:T.endsWith("*"))&&n[_].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,_)=>f(p,_)||m(p,_)):u==="data"?e.filter((p,_)=>{var b;let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,_)||m(p,_))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((b=n[0])==null?void 0:b.params)||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function xA(r,e,{includeHydrateFallback:n}={}){return NA(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function NA(r){return[...new Set(r)]}function DA(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function OA(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(DA(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function MA(r,e){let n=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return n.pathname==="/"?n.pathname="_root.data":e&&dr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function t0(){let r=z.useContext(Io);return np(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function PA(){let r=z.useContext(Ph);return np(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var ip=z.createContext(void 0);ip.displayName="FrameworkContext";function n0(){let r=z.useContext(ip);return np(r,"You must render this element inside a <HydratedRouter> element"),r}function kA(r,e){let n=z.useContext(ip),[s,o]=z.useState(!1),[u,f]=z.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:_,onMouseLeave:T,onTouchStart:b}=e,R=z.useRef(null);z.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let Y=$=>{$.forEach(te=>{f(te.isIntersecting)})},q=new IntersectionObserver(Y,{threshold:.5});return R.current&&q.observe(R.current),()=>{q.disconnect()}}},[r]),z.useEffect(()=>{if(s){let Y=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(Y)}}},[s]);let D=()=>{o(!0)},j=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,R,{}]:[u,R,{onFocus:ql(m,D),onBlur:ql(p,j),onMouseEnter:ql(_,D),onMouseLeave:ql(T,j),onTouchStart:ql(b,D)}]:[!1,R,{}]}function ql(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function VA({page:r,...e}){let{router:n}=t0(),s=z.useMemo(()=>qE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?z.createElement(LA,{page:r,matches:s,...e}):null}function jA(r){let{manifest:e,routeModules:n}=n0(),[s,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return IA(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function LA({page:r,matches:e,...n}){let s=yr(),{manifest:o,routeModules:u}=n0(),{basename:f}=t0(),{loaderData:m,matches:p}=PA(),_=z.useMemo(()=>pv(r,e,p,o,s,"data"),[r,e,p,o,s]),T=z.useMemo(()=>pv(r,e,p,o,s,"assets"),[r,e,p,o,s]),b=z.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let j=new Set,Y=!1;if(e.forEach($=>{var K;let te=o.routes[$.route.id];!te||!te.hasLoader||(!_.some(re=>re.route.id===$.route.id)&&$.route.id in m&&((K=u[$.route.id])!=null&&K.shouldRevalidate)||te.hasClientLoader?Y=!0:j.add($.route.id))}),j.size===0)return[];let q=MA(r,f);return Y&&j.size>0&&q.searchParams.set("_routes",e.filter($=>j.has($.route.id)).map($=>$.route.id).join(",")),[q.pathname+q.search]},[f,m,s,o,_,e,r,u]),R=z.useMemo(()=>xA(T,o),[T,o]),D=jA(T);return z.createElement(z.Fragment,null,b.map(j=>z.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...n})),R.map(j=>z.createElement("link",{key:j,rel:"modulepreload",href:j,...n})),D.map(({key:j,link:Y})=>z.createElement("link",{key:j,...Y})))}function UA(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var i0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{i0&&(window.__reactRouterVersion="7.3.0")}catch{}function zA({basename:r,children:e,window:n}){let s=z.useRef();s.current==null&&(s.current=Rb({window:n,v5Compat:!0}));let o=s.current,[u,f]=z.useState({action:o.action,location:o.location}),m=z.useCallback(p=>{z.startTransition(()=>f(p))},[f]);return z.useLayoutEffect(()=>o.listen(m),[o,m]),z.createElement(gA,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var r0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_e=z.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:m,target:p,to:_,preventScrollReset:T,viewTransition:b,...R},D){let{basename:j}=z.useContext(Oi),Y=typeof _=="string"&&r0.test(_),q,$=!1;if(typeof _=="string"&&Y&&(q=_,i0))try{let A=new URL(window.location.href),x=_.startsWith("//")?new URL(A.protocol+_):new URL(_),k=dr(x.pathname,j);x.origin===A.origin&&k!=null?_=k+x.search+x.hash:$=!0}catch{xi(!1,`<Link to="${_}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let te=Zb(_,{relative:o}),[K,re,se]=kA(s,R),he=FA(_,{replace:f,state:m,target:p,preventScrollReset:T,relative:o,viewTransition:b});function M(A){e&&e(A),A.defaultPrevented||he(A)}let C=z.createElement("a",{...R,...se,href:q||te,onClick:$||u?e:M,ref:UA(D,re),target:p,"data-discover":!Y&&n==="render"?"true":void 0});return K&&!Y?z.createElement(z.Fragment,null,C,z.createElement(VA,{page:te})):C});_e.displayName="Link";var BA=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:m,children:p,..._},T){let b=du(f,{relative:_.relative}),R=yr(),D=z.useContext(Ph),{navigator:j,basename:Y}=z.useContext(Oi),q=D!=null&&YA(b)&&m===!0,$=j.encodeLocation?j.encodeLocation(b).pathname:b.pathname,te=R.pathname,K=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(te=te.toLowerCase(),K=K?K.toLowerCase():null,$=$.toLowerCase()),K&&Y&&(K=dr(K,Y)||K);const re=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let se=te===$||!o&&te.startsWith($)&&te.charAt(re)==="/",he=K!=null&&(K===$||!o&&K.startsWith($)&&K.charAt($.length)==="/"),M={isActive:se,isPending:he,isTransitioning:q},C=se?e:void 0,A;typeof s=="function"?A=s(M):A=[s,se?"active":null,he?"pending":null,q?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(M):u;return z.createElement(_e,{..._,"aria-current":C,className:A,ref:T,style:x,to:f,viewTransition:m},typeof p=="function"?p(M):p)});BA.displayName="NavLink";var HA=z.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=nh,action:m,onSubmit:p,relative:_,preventScrollReset:T,viewTransition:b,...R},D)=>{let j=KA(),Y=QA(m,{relative:_}),q=f.toLowerCase()==="get"?"get":"post",$=typeof m=="string"&&r0.test(m),te=K=>{if(p&&p(K),K.defaultPrevented)return;K.preventDefault();let re=K.nativeEvent.submitter,se=(re==null?void 0:re.getAttribute("formmethod"))||f;j(re||K.currentTarget,{fetcherKey:e,method:se,navigate:n,replace:o,state:u,relative:_,preventScrollReset:T,viewTransition:b})};return z.createElement("form",{ref:D,method:q,action:Y,onSubmit:s?p:te,...R,"data-discover":!$&&r==="render"?"true":void 0})});HA.displayName="Form";function qA(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s0(r){let e=z.useContext(Io);return st(e,qA(r)),e}function FA(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let m=si(),p=yr(),_=du(r,{relative:u});return z.useCallback(T=>{if(wA(T,e)){T.preventDefault();let b=n!==void 0?n:tu(p)===tu(_);m(r,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[p,m,_,n,s,e,r,o,u,f])}var GA=0,$A=()=>`__${String(++GA)}__`;function KA(){let{router:r}=s0("useSubmit"),{basename:e}=z.useContext(Oi),n=hA();return z.useCallback(async(s,o={})=>{let{action:u,method:f,encType:m,formData:p,body:_}=AA(s,e);if(o.navigate===!1){let T=o.fetcherKey||$A();await r.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||f,formEncType:o.encType||m,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:_,formMethod:o.method||f,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function QA(r,{relative:e}={}){let{basename:n}=z.useContext(Oi),s=z.useContext(Mi);st(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...du(r||".",{relative:e})},f=yr();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:cr([n,u.pathname])),tu(u)}function YA(r,e={}){let n=z.useContext(YE);st(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=s0("useViewTransitionState"),o=du(r,{relative:e.relative});if(!n.isTransitioning)return!1;let u=dr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=dr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return mh(o.pathname,f)!=null||mh(o.pathname,u)!=null}new TextEncoder;const XA="_container_pir9d_11",WA="_main_pir9d_29",ZA="_logo_pir9d_43",JA="_h2_pir9d_51",eR="_happening_pir9d_61",tR="_nav_pir9d_73",nR="_button_pir9d_87",iR="_awesome_pir9d_123",rR="_separator_pir9d_229",sR="_hr_pir9d_251",aR="_terms_pir9d_259",oR="_ul_pir9d_277",lR="_li_pir9d_303",uR="_flexli_pir9d_311",Oe={container:XA,main:WA,logo:ZA,h2:JA,happening:eR,nav:tR,button:nR,awesome:iR,separator:rR,hr:sR,terms:aR,ul:oR,li:lR,flexli:uR};function cR(){return y.jsxs("div",{className:Oe.container,children:[y.jsxs("main",{className:Oe.main,children:[y.jsx("h1",{className:Oe.logo,children:"At"}),y.jsxs("div",{children:[y.jsx("h1",{className:Oe.happening,children:"Happening now"}),y.jsx("h2",{className:Oe.h2,children:"Join Today."}),y.jsxs("nav",{className:Oe.nav,children:[y.jsxs(_e,{to:"/react-regular-exam/about",className:`${Oe.button} ${Oe.awesome}`,children:[y.jsx("i",{className:"fa-brands fa-google"}),"Sign up with Google"]}),y.jsxs(_e,{to:"/react-regular-exam/about",className:`${Oe.button} ${Oe.awesome}`,children:[y.jsx("i",{className:"fa-brands fa-apple"}),"Sign up with Apple"]}),y.jsxs("div",{className:Oe.separator,children:[y.jsx("hr",{className:Oe.hr}),y.jsx("p",{children:"or"}),y.jsx("hr",{className:Oe.hr})]}),y.jsx(_e,{to:"/react-regular-exam/create",className:Oe.button,children:"Create account"}),y.jsxs("p",{className:Oe.terms,children:["By signing up, you agree of the ",y.jsx(_e,{to:"/react-regular-exam/about",children:"Term of Service"}),"and ",y.jsx(_e,{to:"/react-regular-exam/about",children:"Privacy Policy"}),", incliding ",y.jsx(_e,{to:"/react-regular-exam/about",children:"Cookie Use."})]}),y.jsx("p",{id:"account",children:"Already have an account?"}),y.jsx(_e,{to:"/react-regular-exam/login",className:Oe.button,children:"Sign in"}),y.jsx("p",{children:"Take a look:"}),y.jsx(_e,{to:"/react-regular-exam/guest",className:Oe.button,children:"Guest"})]})]})]}),y.jsx("footer",{children:y.jsxs("ul",{className:Oe.ul,children:[y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"About"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Download the At app"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Help Center"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Terms of Service"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Privacy Policy"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Cookie Policy"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Accessibillity"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Ads Info"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Blog"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Careers"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Brand Resources"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Advertising"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Marketing"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"At for Business"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Developers"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Directory"})}),y.jsx("li",{className:Oe.li,children:y.jsx(_e,{to:"/react-regular-exam/about",children:"Settings"})}),y.jsx("li",{className:Oe.li,children:y.jsxs(_e,{to:"/react-regular-exam/about",className:Oe.flexli,href:"#",children:[y.jsx("i",{className:"fa-regular fa-copyright"}),"2025 X Corp"]})})]})})]})}const hR="_container_t0tol_1",fR="_nav_t0tol_15",dR="_i_t0tol_25",mR="_main_t0tol_125",pR="_search_t0tol_143",gR="_meta_t0tol_181",_R="_post_t0tol_211",yR="_feedback_t0tol_245",_n={container:hR,nav:fR,i:dR,main:mR,search:pR,meta:gR,post:_R,feedback:yR},vR=()=>{};var gv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},ER=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],m=r[n++],p=((o&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},o0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,m=f?r[o+1]:0,p=o+2<r.length,_=p?r[o+2]:0,T=u>>2,b=(u&3)<<4|m>>4;let R=(m&15)<<2|_>>6,D=_&63;p||(D=64,f||(R=64)),s.push(n[T],n[b],n[R],n[D])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(a0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):ER(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const _=o<r.length?n[r.charAt(o)]:64;++o;const b=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||_==null||b==null)throw new TR;const R=u<<2|m>>4;if(s.push(R),_!==64){const D=m<<4&240|_>>2;if(s.push(D),b!==64){const j=_<<6&192|b;s.push(j)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class TR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wR=function(r){const e=a0(r);return o0.encodeByteArray(e,!0)},ph=function(r){return wR(r).replace(/\./g,"")},l0=function(r){try{return o0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bR=()=>SR().__FIREBASE_DEFAULTS__,AR=()=>{if(typeof process>"u"||typeof gv>"u")return;const r=gv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},RR=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&l0(r[1]);return e&&JSON.parse(e)},Vh=()=>{try{return vR()||bR()||AR()||RR()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},u0=r=>{var e,n;return(n=(e=Vh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},CR=r=>{const e=u0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},c0=()=>{var r;return(r=Vh())===null||r===void 0?void 0:r.config},h0=r=>{var e;return(e=Vh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[ph(JSON.stringify(n)),ph(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(nn())}function DR(){var r;const e=(r=Vh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function MR(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function PR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kR(){const r=nn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function VR(){return!DR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function jR(){try{return typeof indexedDB=="object"}catch{return!1}}function LR(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="FirebaseError";class vr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=UR,Object.setPrototypeOf(this,vr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,mu.prototype.create)}}class mu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?zR(u,s):"Error",m=`${this.serviceName}: ${f} (${o}).`;return new vr(o,m,s)}}function zR(r,e){return r.replace(BR,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const BR=/\{\$([^}]+)}/g;function HR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ps(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(_v(u)&&_v(f)){if(!ps(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function _v(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Fl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Gl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function qR(r,e){const n=new FR(r,e);return n.subscribe.bind(n)}class FR{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");GR(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=fm),o.error===void 0&&(o.error=fm),o.complete===void 0&&(o.complete=fm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GR(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function fm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(r){return r&&r._delegate?r._delegate:r}class oa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new IR;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QR(e))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=sa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=sa){return this.instances.has(e)}getOptions(e=sa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const f=this.instances.get(o);return f&&e(f,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:KR(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=sa){return this.component?this.component.multipleInstances?e:sa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function KR(r){return r===sa?void 0:r}function QR(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new $R(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const XR={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},WR=Me.INFO,ZR={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},JR=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=ZR[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class rp{constructor(e){this.name=e,this._logLevel=WR,this._logHandler=JR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const e1=(r,e)=>e.some(n=>r instanceof n);let yv,vv;function t1(){return yv||(yv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function n1(){return vv||(vv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const f0=new WeakMap,Rm=new WeakMap,d0=new WeakMap,dm=new WeakMap,sp=new WeakMap;function i1(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(cs(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&f0.set(n,r)}).catch(()=>{}),sp.set(e,r),e}function r1(r){if(Rm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Rm.set(r,e)}let Cm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Rm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||d0.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cs(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function s1(r){Cm=r(Cm)}function a1(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(mm(this),e,...n);return d0.set(s,e.sort?e.sort():[e]),cs(s)}:n1().includes(r)?function(...e){return r.apply(mm(this),e),cs(f0.get(this))}:function(...e){return cs(r.apply(mm(this),e))}}function o1(r){return typeof r=="function"?a1(r):(r instanceof IDBTransaction&&r1(r),e1(r,t1())?new Proxy(r,Cm):r)}function cs(r){if(r instanceof IDBRequest)return i1(r);if(dm.has(r))return dm.get(r);const e=o1(r);return e!==r&&(dm.set(r,e),sp.set(e,r)),e}const mm=r=>sp.get(r);function l1(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),m=cs(f);return s&&f.addEventListener("upgradeneeded",p=>{s(cs(f.result),p.oldVersion,p.newVersion,cs(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),m}const u1=["get","getKey","getAll","getAllKeys","count"],c1=["put","add","delete","clear"],pm=new Map;function Ev(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(pm.get(e))return pm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=c1.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||u1.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,o?"readwrite":"readonly");let _=p.store;return s&&(_=_.index(m.shift())),(await Promise.all([_[n](...m),o&&p.done]))[0]};return pm.set(e,u),u}s1(r=>({...r,get:(e,n,s)=>Ev(e,n)||r.get(e,n,s),has:(e,n)=>!!Ev(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(f1(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function f1(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Im="@firebase/app",Tv="0.11.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mr=new rp("@firebase/app"),d1="@firebase/app-compat",m1="@firebase/analytics-compat",p1="@firebase/analytics",g1="@firebase/app-check-compat",_1="@firebase/app-check",y1="@firebase/auth",v1="@firebase/auth-compat",E1="@firebase/database",T1="@firebase/data-connect",w1="@firebase/database-compat",S1="@firebase/functions",b1="@firebase/functions-compat",A1="@firebase/installations",R1="@firebase/installations-compat",C1="@firebase/messaging",I1="@firebase/messaging-compat",x1="@firebase/performance",N1="@firebase/performance-compat",D1="@firebase/remote-config",O1="@firebase/remote-config-compat",M1="@firebase/storage",P1="@firebase/storage-compat",k1="@firebase/firestore",V1="@firebase/vertexai",j1="@firebase/firestore-compat",L1="firebase",U1="11.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="[DEFAULT]",z1={[Im]:"fire-core",[d1]:"fire-core-compat",[p1]:"fire-analytics",[m1]:"fire-analytics-compat",[_1]:"fire-app-check",[g1]:"fire-app-check-compat",[y1]:"fire-auth",[v1]:"fire-auth-compat",[E1]:"fire-rtdb",[T1]:"fire-data-connect",[w1]:"fire-rtdb-compat",[S1]:"fire-fn",[b1]:"fire-fn-compat",[A1]:"fire-iid",[R1]:"fire-iid-compat",[C1]:"fire-fcm",[I1]:"fire-fcm-compat",[x1]:"fire-perf",[N1]:"fire-perf-compat",[D1]:"fire-rc",[O1]:"fire-rc-compat",[M1]:"fire-gcs",[P1]:"fire-gcs-compat",[k1]:"fire-fst",[j1]:"fire-fst-compat",[V1]:"fire-vertex","fire-js":"fire-js",[L1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gh=new Map,B1=new Map,Nm=new Map;function wv(r,e){try{r.container.addComponent(e)}catch(n){mr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function yo(r){const e=r.name;if(Nm.has(e))return mr.debug(`There were multiple attempts to register component ${e}.`),!1;Nm.set(e,r);for(const n of gh.values())wv(n,r);for(const n of B1.values())wv(n,r);return!0}function ap(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function Yn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},hs=new mu("app","Firebase",H1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new oa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw hs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xo=U1;function m0(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:xm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw hs.create("bad-app-name",{appName:String(o)});if(n||(n=c0()),!n)throw hs.create("no-options");const u=gh.get(o);if(u){if(ps(n,u.options)&&ps(s,u.config))return u;throw hs.create("duplicate-app",{appName:o})}const f=new YR(o);for(const p of Nm.values())f.addComponent(p);const m=new q1(n,s,f);return gh.set(o,m),m}function p0(r=xm){const e=gh.get(r);if(!e&&r===xm&&c0())return m0();if(!e)throw hs.create("no-app",{appName:r});return e}function fs(r,e,n){var s;let o=(s=z1[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),f=e.match(/\s|\//);if(u||f){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&f&&m.push("and"),f&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mr.warn(m.join(" "));return}yo(new oa(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1="firebase-heartbeat-database",G1=1,nu="firebase-heartbeat-store";let gm=null;function g0(){return gm||(gm=l1(F1,G1,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(nu)}catch(n){console.warn(n)}}}}).catch(r=>{throw hs.create("idb-open",{originalErrorMessage:r.message})})),gm}async function $1(r){try{const n=(await g0()).transaction(nu),s=await n.objectStore(nu).get(_0(r));return await n.done,s}catch(e){if(e instanceof vr)mr.warn(e.message);else{const n=hs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mr.warn(n.message)}}}async function Sv(r,e){try{const s=(await g0()).transaction(nu,"readwrite");await s.objectStore(nu).put(e,_0(r)),await s.done}catch(n){if(n instanceof vr)mr.warn(n.message);else{const s=hs.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mr.warn(s.message)}}}function _0(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K1=1024,Q1=30;class Y1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new W1(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=bv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(f=>f.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>Q1){const f=Z1(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(f,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){mr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bv(),{heartbeatsToSend:s,unsentEntries:o}=X1(this._heartbeatsCache.heartbeats),u=ph(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return mr.warn(n),""}}}function bv(){return new Date().toISOString().substring(0,10)}function X1(r,e=K1){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),Av(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Av(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class W1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return jR()?LR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await $1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Sv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return Sv(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Av(r){return ph(JSON.stringify({version:2,heartbeats:r})).length}function Z1(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J1(r){yo(new oa("platform-logger",e=>new h1(e),"PRIVATE")),yo(new oa("heartbeat",e=>new Y1(e),"PRIVATE")),fs(Im,Tv,r),fs(Im,Tv,"esm2017"),fs("fire-js","")}J1("");var Rv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ds,y0;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,C){function A(){}A.prototype=C.prototype,M.D=C.prototype,M.prototype=new A,M.prototype.constructor=M,M.C=function(x,k,B){for(var N=Array(arguments.length-2),St=2;St<arguments.length;St++)N[St-2]=arguments[St];return C.prototype[k].apply(x,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(M,C,A){A||(A=0);var x=Array(16);if(typeof C=="string")for(var k=0;16>k;++k)x[k]=C.charCodeAt(A++)|C.charCodeAt(A++)<<8|C.charCodeAt(A++)<<16|C.charCodeAt(A++)<<24;else for(k=0;16>k;++k)x[k]=C[A++]|C[A++]<<8|C[A++]<<16|C[A++]<<24;C=M.g[0],A=M.g[1],k=M.g[2];var B=M.g[3],N=C+(B^A&(k^B))+x[0]+3614090360&4294967295;C=A+(N<<7&4294967295|N>>>25),N=B+(k^C&(A^k))+x[1]+3905402710&4294967295,B=C+(N<<12&4294967295|N>>>20),N=k+(A^B&(C^A))+x[2]+606105819&4294967295,k=B+(N<<17&4294967295|N>>>15),N=A+(C^k&(B^C))+x[3]+3250441966&4294967295,A=k+(N<<22&4294967295|N>>>10),N=C+(B^A&(k^B))+x[4]+4118548399&4294967295,C=A+(N<<7&4294967295|N>>>25),N=B+(k^C&(A^k))+x[5]+1200080426&4294967295,B=C+(N<<12&4294967295|N>>>20),N=k+(A^B&(C^A))+x[6]+2821735955&4294967295,k=B+(N<<17&4294967295|N>>>15),N=A+(C^k&(B^C))+x[7]+4249261313&4294967295,A=k+(N<<22&4294967295|N>>>10),N=C+(B^A&(k^B))+x[8]+1770035416&4294967295,C=A+(N<<7&4294967295|N>>>25),N=B+(k^C&(A^k))+x[9]+2336552879&4294967295,B=C+(N<<12&4294967295|N>>>20),N=k+(A^B&(C^A))+x[10]+4294925233&4294967295,k=B+(N<<17&4294967295|N>>>15),N=A+(C^k&(B^C))+x[11]+2304563134&4294967295,A=k+(N<<22&4294967295|N>>>10),N=C+(B^A&(k^B))+x[12]+1804603682&4294967295,C=A+(N<<7&4294967295|N>>>25),N=B+(k^C&(A^k))+x[13]+4254626195&4294967295,B=C+(N<<12&4294967295|N>>>20),N=k+(A^B&(C^A))+x[14]+2792965006&4294967295,k=B+(N<<17&4294967295|N>>>15),N=A+(C^k&(B^C))+x[15]+1236535329&4294967295,A=k+(N<<22&4294967295|N>>>10),N=C+(k^B&(A^k))+x[1]+4129170786&4294967295,C=A+(N<<5&4294967295|N>>>27),N=B+(A^k&(C^A))+x[6]+3225465664&4294967295,B=C+(N<<9&4294967295|N>>>23),N=k+(C^A&(B^C))+x[11]+643717713&4294967295,k=B+(N<<14&4294967295|N>>>18),N=A+(B^C&(k^B))+x[0]+3921069994&4294967295,A=k+(N<<20&4294967295|N>>>12),N=C+(k^B&(A^k))+x[5]+3593408605&4294967295,C=A+(N<<5&4294967295|N>>>27),N=B+(A^k&(C^A))+x[10]+38016083&4294967295,B=C+(N<<9&4294967295|N>>>23),N=k+(C^A&(B^C))+x[15]+3634488961&4294967295,k=B+(N<<14&4294967295|N>>>18),N=A+(B^C&(k^B))+x[4]+3889429448&4294967295,A=k+(N<<20&4294967295|N>>>12),N=C+(k^B&(A^k))+x[9]+568446438&4294967295,C=A+(N<<5&4294967295|N>>>27),N=B+(A^k&(C^A))+x[14]+3275163606&4294967295,B=C+(N<<9&4294967295|N>>>23),N=k+(C^A&(B^C))+x[3]+4107603335&4294967295,k=B+(N<<14&4294967295|N>>>18),N=A+(B^C&(k^B))+x[8]+1163531501&4294967295,A=k+(N<<20&4294967295|N>>>12),N=C+(k^B&(A^k))+x[13]+2850285829&4294967295,C=A+(N<<5&4294967295|N>>>27),N=B+(A^k&(C^A))+x[2]+4243563512&4294967295,B=C+(N<<9&4294967295|N>>>23),N=k+(C^A&(B^C))+x[7]+1735328473&4294967295,k=B+(N<<14&4294967295|N>>>18),N=A+(B^C&(k^B))+x[12]+2368359562&4294967295,A=k+(N<<20&4294967295|N>>>12),N=C+(A^k^B)+x[5]+4294588738&4294967295,C=A+(N<<4&4294967295|N>>>28),N=B+(C^A^k)+x[8]+2272392833&4294967295,B=C+(N<<11&4294967295|N>>>21),N=k+(B^C^A)+x[11]+1839030562&4294967295,k=B+(N<<16&4294967295|N>>>16),N=A+(k^B^C)+x[14]+4259657740&4294967295,A=k+(N<<23&4294967295|N>>>9),N=C+(A^k^B)+x[1]+2763975236&4294967295,C=A+(N<<4&4294967295|N>>>28),N=B+(C^A^k)+x[4]+1272893353&4294967295,B=C+(N<<11&4294967295|N>>>21),N=k+(B^C^A)+x[7]+4139469664&4294967295,k=B+(N<<16&4294967295|N>>>16),N=A+(k^B^C)+x[10]+3200236656&4294967295,A=k+(N<<23&4294967295|N>>>9),N=C+(A^k^B)+x[13]+681279174&4294967295,C=A+(N<<4&4294967295|N>>>28),N=B+(C^A^k)+x[0]+3936430074&4294967295,B=C+(N<<11&4294967295|N>>>21),N=k+(B^C^A)+x[3]+3572445317&4294967295,k=B+(N<<16&4294967295|N>>>16),N=A+(k^B^C)+x[6]+76029189&4294967295,A=k+(N<<23&4294967295|N>>>9),N=C+(A^k^B)+x[9]+3654602809&4294967295,C=A+(N<<4&4294967295|N>>>28),N=B+(C^A^k)+x[12]+3873151461&4294967295,B=C+(N<<11&4294967295|N>>>21),N=k+(B^C^A)+x[15]+530742520&4294967295,k=B+(N<<16&4294967295|N>>>16),N=A+(k^B^C)+x[2]+3299628645&4294967295,A=k+(N<<23&4294967295|N>>>9),N=C+(k^(A|~B))+x[0]+4096336452&4294967295,C=A+(N<<6&4294967295|N>>>26),N=B+(A^(C|~k))+x[7]+1126891415&4294967295,B=C+(N<<10&4294967295|N>>>22),N=k+(C^(B|~A))+x[14]+2878612391&4294967295,k=B+(N<<15&4294967295|N>>>17),N=A+(B^(k|~C))+x[5]+4237533241&4294967295,A=k+(N<<21&4294967295|N>>>11),N=C+(k^(A|~B))+x[12]+1700485571&4294967295,C=A+(N<<6&4294967295|N>>>26),N=B+(A^(C|~k))+x[3]+2399980690&4294967295,B=C+(N<<10&4294967295|N>>>22),N=k+(C^(B|~A))+x[10]+4293915773&4294967295,k=B+(N<<15&4294967295|N>>>17),N=A+(B^(k|~C))+x[1]+2240044497&4294967295,A=k+(N<<21&4294967295|N>>>11),N=C+(k^(A|~B))+x[8]+1873313359&4294967295,C=A+(N<<6&4294967295|N>>>26),N=B+(A^(C|~k))+x[15]+4264355552&4294967295,B=C+(N<<10&4294967295|N>>>22),N=k+(C^(B|~A))+x[6]+2734768916&4294967295,k=B+(N<<15&4294967295|N>>>17),N=A+(B^(k|~C))+x[13]+1309151649&4294967295,A=k+(N<<21&4294967295|N>>>11),N=C+(k^(A|~B))+x[4]+4149444226&4294967295,C=A+(N<<6&4294967295|N>>>26),N=B+(A^(C|~k))+x[11]+3174756917&4294967295,B=C+(N<<10&4294967295|N>>>22),N=k+(C^(B|~A))+x[2]+718787259&4294967295,k=B+(N<<15&4294967295|N>>>17),N=A+(B^(k|~C))+x[9]+3951481745&4294967295,M.g[0]=M.g[0]+C&4294967295,M.g[1]=M.g[1]+(k+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+k&4294967295,M.g[3]=M.g[3]+B&4294967295}s.prototype.u=function(M,C){C===void 0&&(C=M.length);for(var A=C-this.blockSize,x=this.B,k=this.h,B=0;B<C;){if(k==0)for(;B<=A;)o(this,M,B),B+=this.blockSize;if(typeof M=="string"){for(;B<C;)if(x[k++]=M.charCodeAt(B++),k==this.blockSize){o(this,x),k=0;break}}else for(;B<C;)if(x[k++]=M[B++],k==this.blockSize){o(this,x),k=0;break}}this.h=k,this.o+=C},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var C=1;C<M.length-8;++C)M[C]=0;var A=8*this.o;for(C=M.length-8;C<M.length;++C)M[C]=A&255,A/=256;for(this.u(M),M=Array(16),C=A=0;4>C;++C)for(var x=0;32>x;x+=8)M[A++]=this.g[C]>>>x&255;return M};function u(M,C){var A=m;return Object.prototype.hasOwnProperty.call(A,M)?A[M]:A[M]=C(M)}function f(M,C){this.h=C;for(var A=[],x=!0,k=M.length-1;0<=k;k--){var B=M[k]|0;x&&B==C||(A[k]=B,x=!1)}this.g=A}var m={};function p(M){return-128<=M&&128>M?u(M,function(C){return new f([C|0],0>C?-1:0)}):new f([M|0],0>M?-1:0)}function _(M){if(isNaN(M)||!isFinite(M))return b;if(0>M)return q(_(-M));for(var C=[],A=1,x=0;M>=A;x++)C[x]=M/A|0,A*=4294967296;return new f(C,0)}function T(M,C){if(M.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(M.charAt(0)=="-")return q(T(M.substring(1),C));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=_(Math.pow(C,8)),x=b,k=0;k<M.length;k+=8){var B=Math.min(8,M.length-k),N=parseInt(M.substring(k,k+B),C);8>B?(B=_(Math.pow(C,B)),x=x.j(B).add(_(N))):(x=x.j(A),x=x.add(_(N)))}return x}var b=p(0),R=p(1),D=p(16777216);r=f.prototype,r.m=function(){if(Y(this))return-q(this).m();for(var M=0,C=1,A=0;A<this.g.length;A++){var x=this.i(A);M+=(0<=x?x:4294967296+x)*C,C*=4294967296}return M},r.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(j(this))return"0";if(Y(this))return"-"+q(this).toString(M);for(var C=_(Math.pow(M,6)),A=this,x="";;){var k=re(A,C).g;A=$(A,k.j(C));var B=((0<A.g.length?A.g[0]:A.h)>>>0).toString(M);if(A=k,j(A))return B+x;for(;6>B.length;)B="0"+B;x=B+x}},r.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function j(M){if(M.h!=0)return!1;for(var C=0;C<M.g.length;C++)if(M.g[C]!=0)return!1;return!0}function Y(M){return M.h==-1}r.l=function(M){return M=$(this,M),Y(M)?-1:j(M)?0:1};function q(M){for(var C=M.g.length,A=[],x=0;x<C;x++)A[x]=~M.g[x];return new f(A,~M.h).add(R)}r.abs=function(){return Y(this)?q(this):this},r.add=function(M){for(var C=Math.max(this.g.length,M.g.length),A=[],x=0,k=0;k<=C;k++){var B=x+(this.i(k)&65535)+(M.i(k)&65535),N=(B>>>16)+(this.i(k)>>>16)+(M.i(k)>>>16);x=N>>>16,B&=65535,N&=65535,A[k]=N<<16|B}return new f(A,A[A.length-1]&-2147483648?-1:0)};function $(M,C){return M.add(q(C))}r.j=function(M){if(j(this)||j(M))return b;if(Y(this))return Y(M)?q(this).j(q(M)):q(q(this).j(M));if(Y(M))return q(this.j(q(M)));if(0>this.l(D)&&0>M.l(D))return _(this.m()*M.m());for(var C=this.g.length+M.g.length,A=[],x=0;x<2*C;x++)A[x]=0;for(x=0;x<this.g.length;x++)for(var k=0;k<M.g.length;k++){var B=this.i(x)>>>16,N=this.i(x)&65535,St=M.i(k)>>>16,gt=M.i(k)&65535;A[2*x+2*k]+=N*gt,te(A,2*x+2*k),A[2*x+2*k+1]+=B*gt,te(A,2*x+2*k+1),A[2*x+2*k+1]+=N*St,te(A,2*x+2*k+1),A[2*x+2*k+2]+=B*St,te(A,2*x+2*k+2)}for(x=0;x<C;x++)A[x]=A[2*x+1]<<16|A[2*x];for(x=C;x<2*C;x++)A[x]=0;return new f(A,0)};function te(M,C){for(;(M[C]&65535)!=M[C];)M[C+1]+=M[C]>>>16,M[C]&=65535,C++}function K(M,C){this.g=M,this.h=C}function re(M,C){if(j(C))throw Error("division by zero");if(j(M))return new K(b,b);if(Y(M))return C=re(q(M),C),new K(q(C.g),q(C.h));if(Y(C))return C=re(M,q(C)),new K(q(C.g),C.h);if(30<M.g.length){if(Y(M)||Y(C))throw Error("slowDivide_ only works with positive integers.");for(var A=R,x=C;0>=x.l(M);)A=se(A),x=se(x);var k=he(A,1),B=he(x,1);for(x=he(x,2),A=he(A,2);!j(x);){var N=B.add(x);0>=N.l(M)&&(k=k.add(A),B=N),x=he(x,1),A=he(A,1)}return C=$(M,k.j(C)),new K(k,C)}for(k=b;0<=M.l(C);){for(A=Math.max(1,Math.floor(M.m()/C.m())),x=Math.ceil(Math.log(A)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),B=_(A),N=B.j(C);Y(N)||0<N.l(M);)A-=x,B=_(A),N=B.j(C);j(B)&&(B=R),k=k.add(B),M=$(M,N)}return new K(k,M)}r.A=function(M){return re(this,M).h},r.and=function(M){for(var C=Math.max(this.g.length,M.g.length),A=[],x=0;x<C;x++)A[x]=this.i(x)&M.i(x);return new f(A,this.h&M.h)},r.or=function(M){for(var C=Math.max(this.g.length,M.g.length),A=[],x=0;x<C;x++)A[x]=this.i(x)|M.i(x);return new f(A,this.h|M.h)},r.xor=function(M){for(var C=Math.max(this.g.length,M.g.length),A=[],x=0;x<C;x++)A[x]=this.i(x)^M.i(x);return new f(A,this.h^M.h)};function se(M){for(var C=M.g.length+1,A=[],x=0;x<C;x++)A[x]=M.i(x)<<1|M.i(x-1)>>>31;return new f(A,M.h)}function he(M,C){var A=C>>5;C%=32;for(var x=M.g.length-A,k=[],B=0;B<x;B++)k[B]=0<C?M.i(B+A)>>>C|M.i(B+A+1)<<32-C:M.i(B+A);return new f(k,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,y0=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.A,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=_,f.fromString=T,ds=f}).apply(typeof Rv<"u"?Rv:typeof self<"u"?self:typeof window<"u"?window:{});var Yc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var v0,$l,E0,rh,Dm,T0,w0,S0;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,v){return c==Array.prototype||c==Object.prototype||(c[g]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yc=="object"&&Yc];for(var g=0;g<c.length;++g){var v=c[g];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,g){if(g)e:{var v=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var U=c[S];if(!(U in v))break e;v=v[U]}c=c[c.length-1],S=v[c],g=g(S),g!=S&&g!=null&&e(v,c,{configurable:!0,writable:!0,value:g})}}function u(c,g){c instanceof String&&(c+="");var v=0,S=!1,U={next:function(){if(!S&&v<c.length){var G=v++;return{value:g(G,c[G]),done:!1}}return S=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}o("Array.prototype.values",function(c){return c||function(){return u(this,function(g,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var f=f||{},m=this||self;function p(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function _(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function T(c,g,v){return c.call.apply(c.bind,arguments)}function b(c,g,v){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,S),c.apply(g,U)}}return function(){return c.apply(g,arguments)}}function R(c,g,v){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?T:b,R.apply(null,arguments)}function D(c,g){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function j(c,g){function v(){}v.prototype=g.prototype,c.aa=g.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(S,U,G){for(var ie=Array(arguments.length-2),je=2;je<arguments.length;je++)ie[je-2]=arguments[je];return g.prototype[U].apply(S,ie)}}function Y(c){const g=c.length;if(0<g){const v=Array(g);for(let S=0;S<g;S++)v[S]=c[S];return v}return[]}function q(c,g){for(let v=1;v<arguments.length;v++){const S=arguments[v];if(p(S)){const U=c.length||0,G=S.length||0;c.length=U+G;for(let ie=0;ie<G;ie++)c[U+ie]=S[ie]}else c.push(S)}}class ${constructor(g,v){this.i=g,this.j=v,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function te(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function re(c){return re[" "](c),c}re[" "]=function(){};var se=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function he(c,g,v){for(const S in c)g.call(v,c[S],S,c)}function M(c,g){for(const v in c)g.call(void 0,c[v],v,c)}function C(c){const g={};for(const v in c)g[v]=c[v];return g}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(c,g){let v,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(v in S)c[v]=S[v];for(let G=0;G<A.length;G++)v=A[G],Object.prototype.hasOwnProperty.call(S,v)&&(c[v]=S[v])}}function k(c){var g=1;c=c.split(":");const v=[];for(;0<g&&c.length;)v.push(c.shift()),g--;return c.length&&v.push(c.join(":")),v}function B(c){m.setTimeout(()=>{throw c},0)}function N(){var c=Ge;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class St{constructor(){this.h=this.g=null}add(g,v){const S=gt.get();S.set(g,v),this.h?this.h.next=S:this.g=S,this.h=S}}var gt=new $(()=>new ae,c=>c.reset());class ae{constructor(){this.next=this.g=this.h=null}set(g,v){this.h=g,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,ge=!1,Ge=new St,O=()=>{const c=m.Promise.resolve(void 0);Te=()=>{c.then(ne)}};var ne=()=>{for(var c;c=N();){try{c.h.call(c.g)}catch(v){B(v)}var g=gt;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}ge=!1};function de(){this.s=this.s,this.C=this.C}de.prototype.s=!1,de.prototype.ma=function(){this.s||(this.s=!0,this.N())},de.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var le=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,g),m.removeEventListener("test",v,g)}catch{}return c}();function Ie(c,g){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(se){e:{try{re(g.nodeName);var U=!0;break e}catch{}U=!1}U||(g=null)}}else v=="mouseover"?g=c.fromElement:v=="mouseout"&&(g=c.toElement);this.relatedTarget=g,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Re[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}j(Ie,oe);var Re={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var _t="closure_listenable_"+(1e6*Math.random()|0),Be=0;function ot(c,g,v,S,U){this.listener=c,this.proxy=null,this.src=g,this.type=v,this.capture=!!S,this.ha=U,this.key=++Be,this.da=this.fa=!1}function Qe(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function sn(c){this.src=c,this.g={},this.h=0}sn.prototype.add=function(c,g,v,S,U){var G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);var ie=On(c,g,S,U);return-1<ie?(g=c[ie],v||(g.fa=!1)):(g=new ot(g,this.src,G,!!S,U),g.fa=v,c.push(g)),g};function Pi(c,g){var v=g.type;if(v in c.g){var S=c.g[v],U=Array.prototype.indexOf.call(S,g,void 0),G;(G=0<=U)&&Array.prototype.splice.call(S,U,1),G&&(Qe(g),c.g[v].length==0&&(delete c.g[v],c.h--))}}function On(c,g,v,S){for(var U=0;U<c.length;++U){var G=c[U];if(!G.da&&G.listener==g&&G.capture==!!v&&G.ha==S)return U}return-1}var Er="closure_lm_"+(1e6*Math.random()|0),Tr={};function ki(c,g,v,S,U){if(Array.isArray(g)){for(var G=0;G<g.length;G++)ki(c,g[G],v,S,U);return null}return v=Cu(v),c&&c[_t]?c.K(g,v,_(S)?!!S.capture:!1,U):ko(c,g,v,!1,S,U)}function ko(c,g,v,S,U,G){if(!g)throw Error("Invalid event type");var ie=_(U)?!!U.capture:!!U,je=Vo(c);if(je||(c[Er]=je=new sn(c)),v=je.add(g,v,S,ie,G),v.proxy)return v;if(S=ya(),v.proxy=S,S.src=c,S.listener=v,c.addEventListener)le||(U=ie),U===void 0&&(U=!1),c.addEventListener(g.toString(),S,U);else if(c.attachEvent)c.attachEvent(Ea(g.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ya(){function c(v){return g.call(c.src,c.listener,v)}const g=af;return c}function va(c,g,v,S,U){if(Array.isArray(g))for(var G=0;G<g.length;G++)va(c,g[G],v,S,U);else S=_(S)?!!S.capture:!!S,v=Cu(v),c&&c[_t]?(c=c.i,g=String(g).toString(),g in c.g&&(G=c.g[g],v=On(G,v,S,U),-1<v&&(Qe(G[v]),Array.prototype.splice.call(G,v,1),G.length==0&&(delete c.g[g],c.h--)))):c&&(c=Vo(c))&&(g=c.g[g.toString()],c=-1,g&&(c=On(g,v,S,U)),(v=-1<c?g[c]:null)&&Rs(v))}function Rs(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[_t])Pi(g.i,c);else{var v=c.type,S=c.proxy;g.removeEventListener?g.removeEventListener(v,S,c.capture):g.detachEvent?g.detachEvent(Ea(v),S):g.addListener&&g.removeListener&&g.removeListener(S),(v=Vo(g))?(Pi(v,c),v.h==0&&(v.src=null,g[Er]=null)):Qe(c)}}}function Ea(c){return c in Tr?Tr[c]:Tr[c]="on"+c}function af(c,g){if(c.da)c=!0;else{g=new Ie(g,this);var v=c.listener,S=c.ha||c.src;c.fa&&Rs(c),c=v.call(S,g)}return c}function Vo(c){return c=c[Er],c instanceof sn?c:null}var mn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Cu(c){return typeof c=="function"?c:(c[mn]||(c[mn]=function(g){return c.handleEvent(g)}),c[mn])}function bt(){de.call(this),this.i=new sn(this),this.M=this,this.F=null}j(bt,de),bt.prototype[_t]=!0,bt.prototype.removeEventListener=function(c,g,v,S){va(this,c,g,v,S)};function Mt(c,g){var v,S=c.F;if(S)for(v=[];S;S=S.F)v.push(S);if(c=c.M,S=g.type||g,typeof g=="string")g=new oe(g,c);else if(g instanceof oe)g.target=g.target||c;else{var U=g;g=new oe(S,c),x(g,U)}if(U=!0,v)for(var G=v.length-1;0<=G;G--){var ie=g.g=v[G];U=Vi(ie,S,!0,g)&&U}if(ie=g.g=c,U=Vi(ie,S,!0,g)&&U,U=Vi(ie,S,!1,g)&&U,v)for(G=0;G<v.length;G++)ie=g.g=v[G],U=Vi(ie,S,!1,g)&&U}bt.prototype.N=function(){if(bt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var v=c.g[g],S=0;S<v.length;S++)Qe(v[S]);delete c.g[g],c.h--}}this.F=null},bt.prototype.K=function(c,g,v,S){return this.i.add(String(c),g,!1,v,S)},bt.prototype.L=function(c,g,v,S){return this.i.add(String(c),g,!0,v,S)};function Vi(c,g,v,S){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var U=!0,G=0;G<g.length;++G){var ie=g[G];if(ie&&!ie.da&&ie.capture==v){var je=ie.listener,Rt=ie.ha||ie.src;ie.fa&&Pi(c.i,ie),U=je.call(Rt,S)!==!1&&U}}return U&&!S.defaultPrevented}function Iu(c,g,v){if(typeof c=="function")v&&(c=R(c,v));else if(c&&typeof c.handleEvent=="function")c=R(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:m.setTimeout(c,g||0)}function jo(c){c.g=Iu(()=>{c.g=null,c.i&&(c.i=!1,jo(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class of extends de{constructor(g,v){super(),this.m=g,this.l=v,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:jo(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Cs(c){de.call(this),this.h=c,this.g={}}j(Cs,de);var wr=[];function Yt(c){he(c.g,function(g,v){this.g.hasOwnProperty(v)&&Rs(g)},c),c.g={}}Cs.prototype.N=function(){Cs.aa.N.call(this),Yt(this)},Cs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lo=m.JSON.stringify,oi=m.JSON.parse,an=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function Uo(){}Uo.prototype.h=null;function xu(c){return c.h||(c.h=c.i())}function Nu(){}var li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Sr(){oe.call(this,"d")}j(Sr,oe);function Wn(){oe.call(this,"c")}j(Wn,oe);var Mn={},br=null;function Ta(){return br=br||new bt}Mn.La="serverreachability";function zo(c){oe.call(this,Mn.La,c)}j(zo,oe);function Ar(c){const g=Ta();Mt(g,new zo(g))}Mn.STAT_EVENT="statevent";function wa(c,g){oe.call(this,Mn.STAT_EVENT,c),this.stat=g}j(wa,oe);function dt(c){const g=Ta();Mt(g,new wa(g,c))}Mn.Ma="timingevent";function Du(c,g){oe.call(this,Mn.Ma,c),this.size=g}j(Du,oe);function Rr(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},g)}function Cr(){this.g=!0}Cr.prototype.xa=function(){this.g=!1};function Ou(c,g,v,S,U,G){c.info(function(){if(c.g)if(G)for(var ie="",je=G.split("&"),Rt=0;Rt<je.length;Rt++){var Le=je[Rt].split("=");if(1<Le.length){var Vt=Le[0];Le=Le[1];var Ct=Vt.split("_");ie=2<=Ct.length&&Ct[1]=="type"?ie+(Vt+"="+Le+"&"):ie+(Vt+"=redacted&")}}else ie=null;else ie=G;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+g+`
`+v+`
`+ie})}function Mu(c,g,v,S,U,G,ie){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+g+`
`+v+`
`+G+" "+ie})}function Ir(c,g,v,S){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+Pt(c,v)+(S?" "+S:"")})}function ui(c,g){c.info(function(){return"TIMEOUT: "+g})}Cr.prototype.info=function(){};function Pt(c,g){if(!c.g)return g;if(!g)return null;try{var v=JSON.parse(g);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var S=v[c];if(!(2>S.length)){var U=S[1];if(Array.isArray(U)&&!(1>U.length)){var G=U[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ie=1;ie<U.length;ie++)U[ie]=""}}}}return Lo(v)}catch{return g}}var At={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ji={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Is;function Sa(){}j(Sa,Uo),Sa.prototype.g=function(){return new XMLHttpRequest},Sa.prototype.i=function(){return{}},Is=new Sa;function ci(c,g,v,S){this.j=c,this.i=g,this.l=v,this.R=S||1,this.U=new Cs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bo}function Bo(){this.i=null,this.g="",this.h=!1}var xr={},xs={};function Zn(c,g,v){c.L=1,c.v=Os(lt(g)),c.m=v,c.P=!0,Li(c,null)}function Li(c,g){c.F=Date.now(),nt(c),c.A=lt(c.v);var v=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),Bi(v.i,"t",S),c.C=0,v=c.j.J,c.h=new Bo,c.g=Ku(c.j,v?g:null,!c.m),0<c.O&&(c.M=new of(R(c.Y,c,c.g),c.O)),g=c.U,v=c.g,S=c.ca;var U="readystatechange";Array.isArray(U)||(U&&(wr[0]=U.toString()),U=wr);for(var G=0;G<U.length;G++){var ie=ki(v,U[G],S||g.handleEvent,!1,g.h||g);if(!ie)break;g.g[ie.key]=ie}g=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Ar(),Ou(c.i,c.u,c.A,c.l,c.R,c.m)}ci.prototype.ca=function(c){c=c.target;const g=this.M;g&&Ln(c)==3?g.j():this.Y(c)},ci.prototype.Y=function(c){try{if(c==this.g)e:{const Ct=Ln(this.g);var g=this.g.Ba();const Gi=this.g.Z();if(!(3>Ct)&&(Ct!=3||this.g&&(this.h.h||this.g.oa()||Uu(this.g)))){this.J||Ct!=4||g==7||(g==8||0>=Gi?Ar(3):Ar(2)),ba(this);var v=this.g.Z();this.X=v;t:if(Nr(this)){var S=Uu(this.g);c="";var U=S.length,G=Ln(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){pn(this),Sn(this);var ie="";break t}this.h.i=new m.TextDecoder}for(g=0;g<U;g++)this.h.h=!0,c+=this.h.i.decode(S[g],{stream:!(G&&g==U-1)});S.length=0,this.h.g+=c,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=v==200,Mu(this.i,this.u,this.A,this.l,this.R,Ct,v),this.o){if(this.T&&!this.K){t:{if(this.g){var je,Rt=this.g;if((je=Rt.g?Rt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!te(je)){var Le=je;break t}}Le=null}if(v=Le)Ir(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bn(this,v);else{this.o=!1,this.s=3,dt(12),pn(this),Sn(this);break e}}if(this.P){v=!0;let Bt;for(;!this.J&&this.C<ie.length;)if(Bt=Dr(this,ie),Bt==xs){Ct==4&&(this.s=4,dt(14),v=!1),Ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==xr){this.s=4,dt(15),Ir(this.i,this.l,ie,"[Invalid Chunk]"),v=!1;break}else Ir(this.i,this.l,Bt,null),bn(this,Bt);if(Nr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ct!=4||ie.length!=0||this.h.h||(this.s=1,dt(16),v=!1),this.o=this.o&&v,!v)Ir(this.i,this.l,ie,"[Invalid Chunked Response]"),pn(this),Sn(this);else if(0<ie.length&&!this.W){this.W=!0;var Vt=this.j;Vt.g==this&&Vt.ba&&!Vt.M&&(Vt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Us(Vt),Vt.M=!0,dt(11))}}else Ir(this.i,this.l,ie,null),bn(this,ie);Ct==4&&pn(this),this.o&&!this.J&&(Ct==4?Fu(this.j,this):(this.o=!1,nt(this)))}else df(this.g),v==400&&0<ie.indexOf("Unknown SID")?(this.s=3,dt(12)):(this.s=0,dt(13)),pn(this),Sn(this)}}}catch{}finally{}};function Nr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Dr(c,g){var v=c.C,S=g.indexOf(`
`,v);return S==-1?xs:(v=Number(g.substring(v,S)),isNaN(v)?xr:(S+=1,S+v>g.length?xs:(g=g.slice(S,S+v),c.C=S+v,g)))}ci.prototype.cancel=function(){this.J=!0,pn(this)};function nt(c){c.S=Date.now()+c.I,Ho(c,c.I)}function Ho(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Rr(R(c.ba,c),g)}function ba(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ci.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ui(this.i,this.A),this.L!=2&&(Ar(),dt(17)),pn(this),this.s=2,Sn(this)):Ho(this,this.S-c)};function Sn(c){c.j.G==0||c.J||Fu(c.j,c)}function pn(c){ba(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Yt(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function bn(c,g){try{var v=c.j;if(v.G!=0&&(v.g==c||Or(v.h,c))){if(!c.K&&Or(v.h,c)&&v.G==3){try{var S=v.Da.g.parse(g)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Pa(v),Oa(v);else break e;Jo(v),dt(18)}}else v.za=U[1],0<v.za-v.T&&37500>U[2]&&v.F&&v.v==0&&!v.C&&(v.C=Rr(R(v.Za,v),6e3));if(1>=Pu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Fi(v,11)}else if((c.K||v.g==c)&&Pa(v),!te(g))for(U=v.Da.g.parse(g),g=0;g<U.length;g++){let Le=U[g];if(v.T=Le[0],Le=Le[1],v.G==2)if(Le[0]=="c"){v.K=Le[1],v.ia=Le[2];const Vt=Le[3];Vt!=null&&(v.la=Vt,v.j.info("VER="+v.la));const Ct=Le[4];Ct!=null&&(v.Aa=Ct,v.j.info("SVER="+v.Aa));const Gi=Le[5];Gi!=null&&typeof Gi=="number"&&0<Gi&&(S=1.5*Gi,v.L=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const Bt=c.g;if(Bt){const _i=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_i){var G=S.h;G.g||_i.indexOf("spdy")==-1&&_i.indexOf("quic")==-1&&_i.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Mr(G,G.h),G.h=null))}if(S.D){const tl=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(S.ya=tl,He(S.I,S.D,tl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),S=v;var ie=c;if(S.qa=$u(S,S.J?S.ia:null,S.W),ie.K){Pn(S.h,ie);var je=ie,Rt=S.L;Rt&&(je.I=Rt),je.B&&(ba(je),nt(je)),S.g=ie}else Hu(S);0<v.i.length&&Ma(v)}else Le[0]!="stop"&&Le[0]!="close"||Fi(v,7);else v.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Fi(v,7):Wo(v):Le[0]!="noop"&&v.l&&v.l.ta(Le),v.v=0)}}Ar(4)}catch{}}var lf=class{constructor(c,g){this.g=c,this.map=g}};function qo(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Pu(c){return c.h?1:c.g?c.g.size:0}function Or(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Mr(c,g){c.g?c.g.add(g):c.h=g}function Pn(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}qo.prototype.cancel=function(){if(this.i=on(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function on(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const v of c.g.values())g=g.concat(v.D);return g}return Y(c.i)}function ku(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var g=[],v=c.length,S=0;S<v;S++)g.push(c[S]);return g}g=[],v=0;for(S in c)g[v++]=c[S];return g}function uf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var g=[];c=c.length;for(var v=0;v<c;v++)g.push(v);return g}g=[],v=0;for(const S in c)g[v++]=S;return g}}}function Ns(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var v=uf(c),S=ku(c),U=S.length,G=0;G<U;G++)g.call(void 0,S[G],v&&v[G],c)}var Go=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Aa(c,g){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var S=c[v].indexOf("="),U=null;if(0<=S){var G=c[v].substring(0,S);U=c[v].substring(S+1)}else G=c[v];g(G,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function Ui(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ui){this.h=c.h,Pr(this,c.j),this.o=c.o,this.g=c.g,Ds(this,c.s),this.l=c.l;var g=c.i,v=new hi;v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),Ra(this,v),this.m=c.m}else c&&(g=String(c).match(Go))?(this.h=!1,Pr(this,g[1]||"",!0),this.o=kr(g[2]||""),this.g=kr(g[3]||"",!0),Ds(this,g[4]),this.l=kr(g[5]||"",!0),Ra(this,g[6]||"",!0),this.m=kr(g[7]||"")):(this.h=!1,this.i=new hi(null,this.h))}Ui.prototype.toString=function(){var c=[],g=this.j;g&&c.push(kn(g,$o,!0),":");var v=this.g;return(v||g=="file")&&(c.push("//"),(g=this.o)&&c.push(kn(g,$o,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(kn(v,v.charAt(0)=="/"?Ko:Vu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",kn(v,ff)),c.join("")};function lt(c){return new Ui(c)}function Pr(c,g,v){c.j=v?kr(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function Ds(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Ra(c,g,v){g instanceof hi?(c.i=g,Qo(c.i,c.h)):(v||(g=kn(g,hf)),c.i=new hi(g,c.h))}function He(c,g,v){c.i.set(g,v)}function Os(c){return He(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function kr(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function kn(c,g,v){return typeof c=="string"?(c=encodeURI(c).replace(g,cf),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function cf(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var $o=/[#\/\?@]/g,Vu=/[#\?:]/g,Ko=/[#\?]/g,hf=/[#\?@]/g,ff=/#/g;function hi(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Vn(c){c.g||(c.g=new Map,c.h=0,c.i&&Aa(c.i,function(g,v){c.add(decodeURIComponent(g.replace(/\+/g," ")),v)}))}r=hi.prototype,r.add=function(c,g){Vn(this),this.i=null,c=Hi(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(g),this.h+=1,this};function Ca(c,g){Vn(c),g=Hi(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function zi(c,g){return Vn(c),g=Hi(c,g),c.g.has(g)}r.forEach=function(c,g){Vn(this),this.g.forEach(function(v,S){v.forEach(function(U){c.call(g,U,S,this)},this)},this)},r.na=function(){Vn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),v=[];for(let S=0;S<g.length;S++){const U=c[S];for(let G=0;G<U.length;G++)v.push(g[S])}return v},r.V=function(c){Vn(this);let g=[];if(typeof c=="string")zi(this,c)&&(g=g.concat(this.g.get(Hi(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)g=g.concat(c[v])}return g},r.set=function(c,g){return Vn(this),this.i=null,c=Hi(this,c),zi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},r.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function Bi(c,g,v){Ca(c,g),0<v.length&&(c.i=null,c.g.set(Hi(c,g),Y(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var v=0;v<g.length;v++){var S=g[v];const G=encodeURIComponent(String(S)),ie=this.V(S);for(S=0;S<ie.length;S++){var U=G;ie[S]!==""&&(U+="="+encodeURIComponent(String(ie[S]))),c.push(U)}}return this.i=c.join("&")};function Hi(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Qo(c,g){g&&!c.j&&(Vn(c),c.i=null,c.g.forEach(function(v,S){var U=S.toLowerCase();S!=U&&(Ca(this,S),Bi(this,U,v))},c)),c.j=g}function ju(c,g){const v=new Cr;if(m.Image){const S=new Image;S.onload=D(jn,v,"TestLoadImage: loaded",!0,g,S),S.onerror=D(jn,v,"TestLoadImage: error",!1,g,S),S.onabort=D(jn,v,"TestLoadImage: abort",!1,g,S),S.ontimeout=D(jn,v,"TestLoadImage: timeout",!1,g,S),m.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else g(!1)}function Ms(c,g){const v=new Cr,S=new AbortController,U=setTimeout(()=>{S.abort(),jn(v,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(U),G.ok?jn(v,"TestPingServer: ok",!0,g):jn(v,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(U),jn(v,"TestPingServer: error",!1,g)})}function jn(c,g,v,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(v)}catch{}}function Ps(){this.g=new an}function fi(c,g,v){const S=v||"";try{Ns(c,function(U,G){let ie=U;_(U)&&(ie=Lo(U)),g.push(S+G+"="+encodeURIComponent(ie))})}catch(U){throw g.push(S+"type="+encodeURIComponent("_badmap")),U}}function Vr(c){this.l=c.Ub||null,this.j=c.eb||!1}j(Vr,Uo),Vr.prototype.g=function(){return new qi(this.l,this.j)},Vr.prototype.i=function(c){return function(){return c}}({});function qi(c,g){bt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(qi,bt),r=qi.prototype,r.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,mi(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||m).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,di(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?di(this):mi(this),this.readyState==3&&Yo(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,di(this))},r.Qa=function(c){this.g&&(this.response=c,di(this))},r.ga=function(){this.g&&di(this)};function di(c){c.readyState=4,c.l=null,c.j=null,c.v=null,mi(c)}r.setRequestHeader=function(c,g){this.u.append(c,g)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var v=g.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=g.next();return c.join(`\r
`)};function mi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(qi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Xo(c){let g="";return he(c,function(v,S){g+=S,g+=":",g+=v,g+=`\r
`}),g}function kt(c,g,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Xo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):He(c,g,v))}function $e(c){bt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j($e,bt);var Ia=/^https?$/i,ks=["POST","PUT"];r=$e.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,g,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Is.g(),this.v=this.o?xu(this.o):xu(Is),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(G){Lu(this,G);return}if(c=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)v.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())v.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),U=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(ks,g,void 0))||S||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ie]of v)this.g.setRequestHeader(G,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vs(this),this.u=!0,this.g.send(c),this.u=!1}catch(G){Lu(this,G)}};function Lu(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,xa(c),pi(c)}function xa(c){c.A||(c.A=!0,Mt(c,"complete"),Mt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Mt(this,"complete"),Mt(this,"abort"),pi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pi(this,!0)),$e.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Na(this):this.bb())},r.bb=function(){Na(this)};function Na(c){if(c.h&&typeof f<"u"&&(!c.v[1]||Ln(c)!=4||c.Z()!=2)){if(c.u&&Ln(c)==4)Iu(c.Ea,0,c);else if(Mt(c,"readystatechange"),Ln(c)==4){c.h=!1;try{const ie=c.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var v;if(!(v=g)){var S;if(S=ie===0){var U=String(c.D).match(Go)[1]||null;!U&&m.self&&m.self.location&&(U=m.self.location.protocol.slice(0,-1)),S=!Ia.test(U?U.toLowerCase():"")}v=S}if(v)Mt(c,"complete"),Mt(c,"success");else{c.m=6;try{var G=2<Ln(c)?c.g.statusText:""}catch{G=""}c.l=G+" ["+c.Z()+"]",xa(c)}}finally{pi(c)}}}}function pi(c,g){if(c.g){Vs(c);const v=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||Mt(c,"ready");try{v.onreadystatechange=S}catch{}}}function Vs(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Ln(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Ln(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),oi(g)}};function Uu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function df(c){const g={};c=(c.g&&2<=Ln(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(te(c[S]))continue;var v=k(c[S]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=g[U]||[];g[U]=G,G.push(v)}M(g,function(S){return S.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function js(c,g,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||g}function Da(c){this.Aa=0,this.i=[],this.j=new Cr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=js("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=js("baseRetryDelayMs",5e3,c),this.cb=js("retryDelaySeedMs",1e4,c),this.Wa=js("forwardChannelMaxRetries",2,c),this.wa=js("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new qo(c&&c.concurrentRequestLimit),this.Da=new Ps,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=Da.prototype,r.la=8,r.G=1,r.connect=function(c,g,v,S){dt(0),this.W=c,this.H=g||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.I=$u(this,null,this.W),Ma(this)};function Wo(c){if(zu(c),c.G==3){var g=c.U++,v=lt(c.I);if(He(v,"SID",c.K),He(v,"RID",g),He(v,"TYPE","terminate"),Ls(c,v),g=new ci(c,c.j,g),g.L=2,g.v=Os(lt(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(g.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=g.v,v=!0),v||(g.g=Ku(g.j,null),g.g.ea(g.v)),g.F=Date.now(),nt(g)}Gu(c)}function Oa(c){c.g&&(Us(c),c.g.cancel(),c.g=null)}function zu(c){Oa(c),c.u&&(m.clearTimeout(c.u),c.u=null),Pa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Ma(c){if(!Fo(c.h)&&!c.s){c.s=!0;var g=c.Ga;Te||O(),ge||(Te(),ge=!0),Ge.add(g,c),c.B=0}}function mf(c,g){return Pu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Rr(R(c.Ga,c,g),el(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const U=new ci(this,this.j,c);let G=this.o;if(this.S&&(G?(G=C(G),x(G,this.S)):G=this.S),this.m!==null||this.O||(U.H=G,G=null),this.P)e:{for(var g=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(g+=S,4096<g){g=v;break e}if(g===4096||v===this.i.length-1){g=v+1;break e}}g=1e3}else g=1e3;g=Bu(this,U,g),v=lt(this.I),He(v,"RID",c),He(v,"CVER",22),this.D&&He(v,"X-HTTP-Session-Id",this.D),Ls(this,v),G&&(this.O?g="headers="+encodeURIComponent(String(Xo(G)))+"&"+g:this.m&&kt(v,this.m,G)),Mr(this.h,U),this.Ua&&He(v,"TYPE","init"),this.P?(He(v,"$req",g),He(v,"SID","null"),U.T=!0,Zn(U,v,null)):Zn(U,v,g),this.G=2}}else this.G==3&&(c?Zo(this,c):this.i.length==0||Fo(this.h)||Zo(this))};function Zo(c,g){var v;g?v=g.l:v=c.U++;const S=lt(c.I);He(S,"SID",c.K),He(S,"RID",v),He(S,"AID",c.T),Ls(c,S),c.m&&c.o&&kt(S,c.m,c.o),v=new ci(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Bu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Mr(c.h,v),Zn(v,S,g)}function Ls(c,g){c.H&&he(c.H,function(v,S){He(g,S,v)}),c.l&&Ns({},function(v,S){He(g,S,v)})}function Bu(c,g,v){v=Math.min(c.i.length,v);var S=c.l?R(c.l.Na,c.l,c):null;e:{var U=c.i;let G=-1;for(;;){const ie=["count="+v];G==-1?0<v?(G=U[0].g,ie.push("ofs="+G)):G=0:ie.push("ofs="+G);let je=!0;for(let Rt=0;Rt<v;Rt++){let Le=U[Rt].g;const Vt=U[Rt].map;if(Le-=G,0>Le)G=Math.max(0,U[Rt].g-100),je=!1;else try{fi(Vt,ie,"req"+Le+"_")}catch{S&&S(Vt)}}if(je){S=ie.join("&");break e}}}return c=c.i.splice(0,v),g.D=c,S}function Hu(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Te||O(),ge||(Te(),ge=!0),Ge.add(g,c),c.v=0}}function Jo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Rr(R(c.Fa,c),el(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,qu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Rr(R(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,dt(10),Oa(this),qu(this))};function Us(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function qu(c){c.g=new ci(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=lt(c.qa);He(g,"RID","rpc"),He(g,"SID",c.K),He(g,"AID",c.T),He(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&He(g,"TO",c.ja),He(g,"TYPE","xmlhttp"),Ls(c,g),c.m&&c.o&&kt(g,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Os(lt(g)),v.m=null,v.P=!0,Li(v,c)}r.Za=function(){this.C!=null&&(this.C=null,Oa(this),Jo(this),dt(19))};function Pa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Fu(c,g){var v=null;if(c.g==g){Pa(c),Us(c),c.g=null;var S=2}else if(Or(c.h,g))v=g.D,Pn(c.h,g),S=1;else return;if(c.G!=0){if(g.o)if(S==1){v=g.m?g.m.length:0,g=Date.now()-g.F;var U=c.B;S=Ta(),Mt(S,new Du(S,v)),Ma(c)}else Hu(c);else if(U=g.s,U==3||U==0&&0<g.X||!(S==1&&mf(c,g)||S==2&&Jo(c)))switch(v&&0<v.length&&(g=c.h,g.i=g.i.concat(v)),U){case 1:Fi(c,5);break;case 4:Fi(c,10);break;case 3:Fi(c,6);break;default:Fi(c,2)}}}function el(c,g){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*g}function Fi(c,g){if(c.j.info("Error code "+g),g==2){var v=R(c.fb,c),S=c.Xa;const U=!S;S=new Ui(S||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Pr(S,"https"),Os(S),U?ju(S.toString(),v):Ms(S.toString(),v)}else dt(2);c.G=0,c.l&&c.l.sa(g),Gu(c),zu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),dt(2)):(this.j.info("Failed to ping google.com"),dt(1))};function Gu(c){if(c.G=0,c.ka=[],c.l){const g=on(c.h);(g.length!=0||c.i.length!=0)&&(q(c.ka,g),q(c.ka,c.i),c.h.i.length=0,Y(c.i),c.i.length=0),c.l.ra()}}function $u(c,g,v){var S=v instanceof Ui?lt(v):new Ui(v);if(S.g!="")g&&(S.g=g+"."+S.g),Ds(S,S.s);else{var U=m.location;S=U.protocol,g=g?g+"."+U.hostname:U.hostname,U=+U.port;var G=new Ui(null);S&&Pr(G,S),g&&(G.g=g),U&&Ds(G,U),v&&(G.l=v),S=G}return v=c.D,g=c.ya,v&&g&&He(S,v,g),He(S,"VER",c.la),Ls(c,S),S}function Ku(c,g,v){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new $e(new Vr({eb:v})):new $e(c.pa),g.Ha(c.J),g}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Qu(){}r=Qu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ka(){}ka.prototype.g=function(c,g){return new ln(c,g)};function ln(c,g){bt.call(this),this.g=new Da(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!te(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!te(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new gi(this)}j(ln,bt),ln.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},ln.prototype.close=function(){Wo(this.g)},ln.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Lo(c),c=v);g.i.push(new lf(g.Ya++,c)),g.G==3&&Ma(g)},ln.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,ln.aa.N.call(this)};function Yu(c){Sr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const v in g){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}j(Yu,Sr);function Xu(){Wn.call(this),this.status=1}j(Xu,Wn);function gi(c){this.g=c}j(gi,Qu),gi.prototype.ua=function(){Mt(this.g,"a")},gi.prototype.ta=function(c){Mt(this.g,new Yu(c))},gi.prototype.sa=function(c){Mt(this.g,new Xu)},gi.prototype.ra=function(){Mt(this.g,"b")},ka.prototype.createWebChannel=ka.prototype.g,ln.prototype.send=ln.prototype.o,ln.prototype.open=ln.prototype.m,ln.prototype.close=ln.prototype.close,S0=function(){return new ka},w0=function(){return Ta()},T0=Mn,Dm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},At.NO_ERROR=0,At.TIMEOUT=8,At.HTTP_ERROR=6,rh=At,ji.COMPLETE="complete",E0=ji,Nu.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",bt.prototype.listen=bt.prototype.K,$l=Nu,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,v0=$e}).apply(typeof Yc<"u"?Yc:typeof self<"u"?self:typeof window<"u"?window:{});const Cv="@firebase/firestore",Iv="4.7.9";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No="11.4.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new rp("@firebase/firestore");function lo(){return la.logLevel}function ue(r,...e){if(la.logLevel<=Me.DEBUG){const n=e.map(op);la.debug(`Firestore (${No}): ${r}`,...n)}}function pr(r,...e){if(la.logLevel<=Me.ERROR){const n=e.map(op);la.error(`Firestore (${No}): ${r}`,...n)}}function vo(r,...e){if(la.logLevel<=Me.WARN){const n=e.map(op);la.warn(`Firestore (${No}): ${r}`,...n)}}function op(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(r="Unexpected state"){const e=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: `+r;throw pr(e),new Error(e)}function Ke(r,e){r||we()}function Ae(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends vr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class eC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}class tC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class nC{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new hr,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new hr)}},0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string"),new b0(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new en(e)}}class iC{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class rC{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new iC(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class xv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sC{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Yn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0);const s=u=>{u.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.R;return this.R=u.token,ue("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new xv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.R=n.token,new xv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=aC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function Eo(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nv=-62135596800,Dv=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*Dv);return new Dt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new me(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Nv)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new me(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Dv}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Nv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Dt(0,0))}static max(){return new Se(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov="__name__";class bi{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(),s===void 0?s=e.length-n:s>e.length-n&&we(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return bi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=bi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Math.sign(e.length-n.length)}static compareSegments(e,n){const s=bi.isNumericId(e),o=bi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?bi.extractNumericId(e).compare(bi.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ds.fromString(e.substring(4,e.length-2))}}class tt extends bi{construct(e,n,s){return new tt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new me(ee.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const oC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends bi{construct(e,n,s){return new Kt(e,n,s)}static isValidIdentifier(e){return oC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ov}static keyField(){return new Kt([Ov])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new me(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new me(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new me(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(f=!f,o++):m!=="."||f?(s+=m,o++):(u(),o++)}if(u(),f)throw new me(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(n)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(tt.fromString(e))}static fromName(e){return new ye(tt.fromString(e).popFirst(5))}static empty(){return new ye(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new tt(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iu=-1;function lC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new Dt(n+1,0):new Dt(n,s));return new gs(o,ye.empty(),e)}function uC(r){return new gs(r.readTime,r.key,iu)}class gs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new gs(Se.min(),ye.empty(),iu)}static max(){return new gs(Se.max(),ye.empty(),iu)}}function cC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class fC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(r){if(r.code!==ee.FAILED_PRECONDITION||r.message!==hC)throw r;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Z((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Z?n:Z.resolve(n)}catch(n){return Z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Z.reject(n)}static resolve(e){return new Z((n,s)=>{n(e)})}static reject(e){return new Z((n,s)=>{s(e)})}static waitFor(e){return new Z((n,s)=>{let o=0,u=0,f=!1;e.forEach(m=>{++o,m.next(()=>{++u,f&&u===o&&n()},p=>s(p))}),f=!0,u===o&&n()})}static or(e){let n=Z.resolve(!1);for(const s of e)n=n.next(o=>o?Z.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new Z((s,o)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const _=p;n(e[_]).next(T=>{f[_]=T,++m,m===u&&s(f)},T=>o(T))}})}static doWhile(e,n){return new Z((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function dC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Oo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}jh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp=-1;function Lh(r){return r==null}function _h(r){return r===0&&1/r==-1/0}function mC(r){return typeof r=="number"&&Number.isInteger(r)&&!_h(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R0="";function pC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=Mv(e)),e=gC(r.get(n),e);return Mv(e)}function gC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case R0:n+="";break;default:n+=u}}return n}function Mv(r){return r+R0+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ws(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function C0(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class at{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new at(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new at(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Xc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Xc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Xc(this.root,e,this.comparator,!0)}}class Xc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??$t.RED,this.left=o??$t.EMPTY,this.right=u??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new $t(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,n,s,o,u){return this}insert(e,n,s){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new at(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new kv(this.data.getIterator())}getIteratorFrom(e){return new kv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class kv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new Dn([])}unionWith(e){let n=new Ot(Kt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Dn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new I0("Invalid base64 string: "+u):u}}(e);return new Qt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const _C=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _s(r){if(Ke(!!r),typeof r=="string"){let e=0;const n=_C.exec(r);if(Ke(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:pt(r.seconds),nanos:pt(r.nanos)}}function pt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ys(r){return typeof r=="string"?Qt.fromBase64String(r):Qt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x0="server_timestamp",N0="__type__",D0="__previous_value__",O0="__local_write_time__";function up(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[N0])===null||n===void 0?void 0:n.stringValue)===x0}function Uh(r){const e=r.mapValue.fields[D0];return up(e)?Uh(e):e}function ru(r){const e=_s(r.mapValue.fields[O0].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n,s,o,u,f,m,p,_){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=_}}const yh="(default)";class su{constructor(e,n){this.projectId=e,this.database=n||yh}static empty(){return new su("","")}get isDefaultDatabase(){return this.database===yh}isEqual(e){return e instanceof su&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="__type__",vC="__max__",Wc={mapValue:{}},P0="__vector__",vh="value";function vs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?up(r)?4:TC(r)?9007199254740991:EC(r)?10:11:we()}function Ni(r,e){if(r===e)return!0;const n=vs(r);if(n!==vs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ru(r).isEqual(ru(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=_s(o.timestampValue),m=_s(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return ys(o.bytesValue).isEqual(ys(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return pt(o.geoPointValue.latitude)===pt(u.geoPointValue.latitude)&&pt(o.geoPointValue.longitude)===pt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return pt(o.integerValue)===pt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=pt(o.doubleValue),m=pt(u.doubleValue);return f===m?_h(f)===_h(m):isNaN(f)&&isNaN(m)}return!1}(r,e);case 9:return Eo(r.arrayValue.values||[],e.arrayValue.values||[],Ni);case 10:case 11:return function(o,u){const f=o.mapValue.fields||{},m=u.mapValue.fields||{};if(Pv(f)!==Pv(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!Ni(f[p],m[p])))return!1;return!0}(r,e);default:return we()}}function au(r,e){return(r.values||[]).find(n=>Ni(n,e))!==void 0}function To(r,e){if(r===e)return 0;const n=vs(r),s=vs(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return function(u,f){const m=pt(u.integerValue||u.doubleValue),p=pt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(r,e);case 3:return Vv(r.timestampValue,e.timestampValue);case 4:return Vv(ru(r),ru(e));case 5:return Ve(r.stringValue,e.stringValue);case 6:return function(u,f){const m=ys(u),p=ys(f);return m.compareTo(p)}(r.bytesValue,e.bytesValue);case 7:return function(u,f){const m=u.split("/"),p=f.split("/");for(let _=0;_<m.length&&_<p.length;_++){const T=Ve(m[_],p[_]);if(T!==0)return T}return Ve(m.length,p.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,f){const m=Ve(pt(u.latitude),pt(f.latitude));return m!==0?m:Ve(pt(u.longitude),pt(f.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return jv(r.arrayValue,e.arrayValue);case 10:return function(u,f){var m,p,_,T;const b=u.fields||{},R=f.fields||{},D=(m=b[vh])===null||m===void 0?void 0:m.arrayValue,j=(p=R[vh])===null||p===void 0?void 0:p.arrayValue,Y=Ve(((_=D==null?void 0:D.values)===null||_===void 0?void 0:_.length)||0,((T=j==null?void 0:j.values)===null||T===void 0?void 0:T.length)||0);return Y!==0?Y:jv(D,j)}(r.mapValue,e.mapValue);case 11:return function(u,f){if(u===Wc.mapValue&&f===Wc.mapValue)return 0;if(u===Wc.mapValue)return 1;if(f===Wc.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),_=f.fields||{},T=Object.keys(_);p.sort(),T.sort();for(let b=0;b<p.length&&b<T.length;++b){const R=Ve(p[b],T[b]);if(R!==0)return R;const D=To(m[p[b]],_[T[b]]);if(D!==0)return D}return Ve(p.length,T.length)}(r.mapValue,e.mapValue);default:throw we()}}function Vv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=_s(r),s=_s(e),o=Ve(n.seconds,s.seconds);return o!==0?o:Ve(n.nanos,s.nanos)}function jv(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=To(n[o],s[o]);if(u)return u}return Ve(n.length,s.length)}function wo(r){return Om(r)}function Om(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=_s(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return ys(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ye.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=Om(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${Om(n.fields[f])}`;return o+"}"}(r.mapValue):we()}function sh(r){switch(vs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Uh(r);return e?16+sh(e):16;case 5:return 2*r.stringValue.length;case 6:return ys(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+sh(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return ws(s.fields,(u,f)=>{o+=u.length+sh(f)}),o}(r.mapValue);default:throw we()}}function Mm(r){return!!r&&"integerValue"in r}function cp(r){return!!r&&"arrayValue"in r}function Lv(r){return!!r&&"nullValue"in r}function Uv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ah(r){return!!r&&"mapValue"in r}function EC(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[M0])===null||n===void 0?void 0:n.stringValue)===P0}function Xl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return ws(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Xl(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xl(r.arrayValue.values[n]);return e}return Object.assign({},r)}function TC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===vC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!ah(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Xl(n)}setAll(e){let n=Kt.emptyPath(),s={},o=[];e.forEach((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}f?s[m.lastSegment()]=Xl(f):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());ah(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ni(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];ah(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ws(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new En(Xl(this.value))}}function k0(r){const e=[];return ws(r.fields,(n,s)=>{const o=new Kt([n]);if(ah(s)){const u=k0(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)}),new Dn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,s,o,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new tn(e,0,Se.min(),Se.min(),Se.min(),En.empty(),0)}static newFoundDocument(e,n,s,o){return new tn(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new tn(e,2,n,Se.min(),Se.min(),En.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,Se.min(),Se.min(),En.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n){this.position=e,this.inclusive=n}}function zv(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=To(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Bv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ni(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n="asc"){this.field=e,this.dir=n}}function wC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{}class Nt extends V0{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new bC(e,n,s):n==="array-contains"?new CC(e,s):n==="in"?new IC(e,s):n==="not-in"?new xC(e,s):n==="array-contains-any"?new NC(e,s):new Nt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new AC(e,s):new RC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(To(n,this.value)):n!==null&&vs(this.value)===vs(n)&&this.matchesComparison(To(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends V0{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new Di(e,n)}matches(e){return j0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function j0(r){return r.op==="and"}function L0(r){return SC(r)&&j0(r)}function SC(r){for(const e of r.filters)if(e instanceof Di)return!1;return!0}function Pm(r){if(r instanceof Nt)return r.field.canonicalString()+r.op.toString()+wo(r.value);if(L0(r))return r.filters.map(e=>Pm(e)).join(",");{const e=r.filters.map(n=>Pm(n)).join(",");return`${r.op}(${e})`}}function U0(r,e){return r instanceof Nt?function(s,o){return o instanceof Nt&&s.op===o.op&&s.field.isEqual(o.field)&&Ni(s.value,o.value)}(r,e):r instanceof Di?function(s,o){return o instanceof Di&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,f,m)=>u&&U0(f,o.filters[m]),!0):!1}(r,e):void we()}function z0(r){return r instanceof Nt?function(n){return`${n.field.canonicalString()} ${n.op} ${wo(n.value)}`}(r):r instanceof Di?function(n){return n.op.toString()+" {"+n.getFilters().map(z0).join(" ,")+"}"}(r):"Filter"}class bC extends Nt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class AC extends Nt{constructor(e,n){super(e,"in",n),this.keys=B0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class RC extends Nt{constructor(e,n){super(e,"not-in",n),this.keys=B0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function B0(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class CC extends Nt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return cp(n)&&au(n.arrayValue,this.value)}}class IC extends Nt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&au(this.value.arrayValue,n)}}class xC extends Nt{constructor(e,n){super(e,"not-in",n)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!au(this.value.arrayValue,n)}}class NC extends Nt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!cp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>au(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DC{constructor(e,n=null,s=[],o=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=m,this.le=null}}function Hv(r,e=null,n=[],s=[],o=null,u=null,f=null){return new DC(r,e,n,s,o,u,f)}function hp(r){const e=Ae(r);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Pm(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>wo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>wo(s)).join(",")),e.le=n}return e.le}function fp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!wC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!U0(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Bv(r.startAt,e.startAt)&&Bv(r.endAt,e.endAt)}function km(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n=null,s=[],o=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function OC(r,e,n,s,o,u,f,m){return new zh(r,e,n,s,o,u,f,m)}function dp(r){return new zh(r)}function qv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function MC(r){return r.collectionGroup!==null}function Wl(r){const e=Ae(r);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Ot(Kt.comparator);return f.filters.forEach(p=>{p.getFlattenedFilters().forEach(_=>{_.isInequality()&&(m=m.add(_.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new Th(u,s))}),n.has(Kt.keyField().canonicalString())||e.he.push(new Th(Kt.keyField(),s))}return e.he}function Ai(r){const e=Ae(r);return e.Pe||(e.Pe=PC(e,Wl(r))),e.Pe}function PC(r,e){if(r.limitType==="F")return Hv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Th(o.field,u)});const n=r.endAt?new Eh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Eh(r.startAt.position,r.startAt.inclusive):null;return Hv(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Vm(r,e,n){return new zh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Bh(r,e){return fp(Ai(r),Ai(e))&&r.limitType===e.limitType}function H0(r){return`${hp(Ai(r))}|lt:${r.limitType}`}function uo(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>z0(o)).join(", ")}]`),Lh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(f){return`${f.field.canonicalString()} (${f.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>wo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>wo(o)).join(",")),`Target(${s})`}(Ai(r))}; limitType=${r.limitType})`}function Hh(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Wl(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(f,m,p){const _=zv(f,m,p);return f.inclusive?_<=0:_<0}(s.startAt,Wl(s),o)||s.endAt&&!function(f,m,p){const _=zv(f,m,p);return f.inclusive?_>=0:_>0}(s.endAt,Wl(s),o))}(r,e)}function kC(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function q0(r){return(e,n)=>{let s=!1;for(const o of Wl(r)){const u=VC(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function VC(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):function(u,f,m){const p=f.data.field(u),_=m.data.field(u);return p!==null&&_!==null?To(p,_):we()}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return C0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC=new at(ye.comparator);function gr(){return jC}const F0=new at(ye.comparator);function Kl(...r){let e=F0;for(const n of r)e=e.insert(n.key,n);return e}function G0(r){let e=F0;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function aa(){return Zl()}function $0(){return Zl()}function Zl(){return new fa(r=>r.toString(),(r,e)=>r.isEqual(e))}const LC=new at(ye.comparator),UC=new Ot(ye.comparator);function Pe(...r){let e=UC;for(const n of r)e=e.add(n);return e}const zC=new Ot(Ve);function BC(){return zC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_h(e)?"-0":e}}function K0(r){return{integerValue:""+r}}function Q0(r,e){return mC(e)?K0(e):mp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(){this._=void 0}}function HC(r,e,n){return r instanceof wh?function(o,u){const f={fields:{[N0]:{stringValue:x0},[O0]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&up(u)&&(u=Uh(u)),u&&(f.fields[D0]=u),{mapValue:f}}(n,e):r instanceof So?X0(r,e):r instanceof ou?W0(r,e):function(o,u){const f=Y0(o,u),m=Fv(f)+Fv(o.Ie);return Mm(f)&&Mm(o.Ie)?K0(m):mp(o.serializer,m)}(r,e)}function qC(r,e,n){return r instanceof So?X0(r,e):r instanceof ou?W0(r,e):n}function Y0(r,e){return r instanceof lu?function(s){return Mm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class wh extends qh{}class So extends qh{constructor(e){super(),this.elements=e}}function X0(r,e){const n=Z0(e);for(const s of r.elements)n.some(o=>Ni(o,s))||n.push(s);return{arrayValue:{values:n}}}class ou extends qh{constructor(e){super(),this.elements=e}}function W0(r,e){let n=Z0(e);for(const s of r.elements)n=n.filter(o=>!Ni(o,s));return{arrayValue:{values:n}}}class lu extends qh{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Fv(r){return pt(r.integerValue||r.doubleValue)}function Z0(r){return cp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n){this.field=e,this.transform=n}}function FC(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof So&&o instanceof So||s instanceof ou&&o instanceof ou?Eo(s.elements,o.elements,Ni):s instanceof lu&&o instanceof lu?Ni(s.Ie,o.Ie):s instanceof wh&&o instanceof wh}(r.transform,e.transform)}class GC{constructor(e,n){this.version=e,this.transformResults=n}}class Xn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xn}static exists(e){return new Xn(void 0,e)}static updateTime(e){return new Xn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Fh{}function eT(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new pp(r.key,Xn.none()):new gu(r.key,r.data,Xn.none());{const n=r.data,s=En.empty();let o=new Ot(Kt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new Ss(r.key,s,new Dn(o.toArray()),Xn.none())}}function $C(r,e,n){r instanceof gu?function(o,u,f){const m=o.value.clone(),p=$v(o.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()}(r,e,n):r instanceof Ss?function(o,u,f){if(!oh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const m=$v(o.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(tT(o)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()}(r,e,n):function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()}(0,e,n)}function Jl(r,e,n,s){return r instanceof gu?function(u,f,m,p){if(!oh(u.precondition,f))return m;const _=u.value.clone(),T=Kv(u.fieldTransforms,p,f);return _.setAll(T),f.convertToFoundDocument(f.version,_).setHasLocalMutations(),null}(r,e,n,s):r instanceof Ss?function(u,f,m,p){if(!oh(u.precondition,f))return m;const _=Kv(u.fieldTransforms,p,f),T=f.data;return T.setAll(tT(u)),T.setAll(_),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(r,e,n,s):function(u,f,m){return oh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m}(r,e,n)}function KC(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=Y0(s.transform,o||null);u!=null&&(n===null&&(n=En.empty()),n.set(s.field,u))}return n||null}function Gv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Eo(s,o,(u,f)=>FC(u,f))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class gu extends Fh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ss extends Fh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function tT(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function $v(r,e,n){const s=new Map;Ke(r.length===n.length);for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,m=e.data.field(u.field);s.set(u.field,qC(f,m,n[o]))}return s}function Kv(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,HC(u,f,e))}return s}class pp extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QC extends Fh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YC{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&$C(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Jl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Jl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=$0();return this.mutations.forEach(o=>{const u=e.get(o.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(o.key)?null:m;const p=eT(f,m);p!==null&&s.set(o.key,p),f.isValidDocument()||f.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,(n,s)=>Gv(n,s))&&Eo(this.baseMutations,e.baseMutations,(n,s)=>Gv(n,s))}}class gp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length);let o=function(){return LC}();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new gp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XC{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wt,ze;function ZC(r){switch(r){case ee.OK:return we();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0;default:return we()}}function nT(r){if(r===void 0)return pr("GRPC error has no .code"),ee.UNKNOWN;switch(r){case wt.OK:return ee.OK;case wt.CANCELLED:return ee.CANCELLED;case wt.UNKNOWN:return ee.UNKNOWN;case wt.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case wt.INTERNAL:return ee.INTERNAL;case wt.UNAVAILABLE:return ee.UNAVAILABLE;case wt.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case wt.NOT_FOUND:return ee.NOT_FOUND;case wt.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case wt.ABORTED:return ee.ABORTED;case wt.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case wt.DATA_LOSS:return ee.DATA_LOSS;default:return we()}}(ze=wt||(wt={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI=new ds([4294967295,4294967295],0);function Qv(r){const e=JC().encode(r),n=new y0;return n.update(e),new Uint8Array(n.digest())}function Yv(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ds([n,s],0),new ds([o,u],0)]}class _p{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Ql(`Invalid padding: ${n}`);if(s<0)throw new Ql(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ql(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Ql(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ds.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(ds.fromNumber(s)));return o.compare(eI)===1&&(o=new ds([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=Qv(e),[s,o]=Yv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);if(!this.Re(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new _p(u,o,n);return s.forEach(m=>f.insert(m)),f}insert(e){if(this.Ee===0)return;const n=Qv(e),[s,o]=Yv(n);for(let u=0;u<this.hashCount;u++){const f=this.Ae(s,o,u);this.Ve(f)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Ql extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,_u.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Gh(Se.min(),o,new at(Ve),gr(),Pe())}}class _u{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new _u(s,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class iT{constructor(e,n){this.targetId=e,this.ge=n}}class rT{constructor(e,n,s=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class Xv{constructor(){this.pe=0,this.ye=Wv(),this.we=Qt.EMPTY_BYTE_STRING,this.be=!1,this.Se=!0}get current(){return this.be}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.we=e)}Fe(){let e=Pe(),n=Pe(),s=Pe();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:we()}}),new _u(this.we,this.be,e,n,s)}Me(){this.Se=!1,this.ye=Wv()}xe(e,n){this.Se=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.Se=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ke(this.pe>=0)}Le(){this.Se=!0,this.be=!0}}class tI{constructor(e){this.ke=e,this.qe=new Map,this.Qe=gr(),this.$e=Zc(),this.Ke=Zc(),this.Ue=new at(Ve)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:we()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(km(u))if(s===0){const f=new ye(u.path);this.ze(n,f,tn.newNoDocument(f,Se.min()))}else Ke(s===1);else{const f=this.et(n);if(f!==s){const m=this.tt(e),p=m?this.nt(m,e,f):1;if(p!==0){this.Ye(n);const _=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,_)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,m;try{f=ys(s).toUint8Array()}catch(p){if(p instanceof I0)return vo("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new _p(f,o,u)}catch(p){return vo(p instanceof Ql?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ee===0?null:m}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const f=this.ke.it(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,f)=>{const m=this.Xe(f);if(m){if(u.current&&km(m.target)){const p=new ye(m.target.path);this._t(p).has(f)||this.ut(f,p)||this.ze(f,p,tn.newNoDocument(p,e))}u.ve&&(n.set(f,u.Fe()),u.Me())}});let s=Pe();this.Ke.forEach((u,f)=>{let m=!0;f.forEachWhile(p=>{const _=this.Xe(p);return!_||_.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.Qe.forEach((u,f)=>f.setReadTime(e));const o=new Gh(e,n,this.Ue,this.Qe,s);return this.Qe=gr(),this.$e=Zc(),this.Ke=Zc(),this.Ue=new at(Ve),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Xv,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new Ot(Ve),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Ot(Ve),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ue("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Xv),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function Zc(){return new at(ye.comparator)}function Wv(){return new at(ye.comparator)}const nI={asc:"ASCENDING",desc:"DESCENDING"},iI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rI={and:"AND",or:"OR"};class sI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function jm(r,e){return r.useProto3Json||Lh(e)?e:{value:e}}function Sh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sT(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function aI(r,e){return Sh(r,e.toTimestamp())}function Ri(r){return Ke(!!r),Se.fromTimestamp(function(n){const s=_s(n);return new Dt(s.seconds,s.nanos)}(r))}function yp(r,e){return Lm(r,e).canonicalString()}function Lm(r,e){const n=function(o){return new tt(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function aT(r){const e=tt.fromString(r);return Ke(hT(e)),e}function Um(r,e){return yp(r.databaseId,e.path)}function _m(r,e){const n=aT(e);if(n.get(1)!==r.databaseId.projectId)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new me(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(lT(n))}function oT(r,e){return yp(r.databaseId,e)}function oI(r){const e=aT(r);return e.length===4?tt.emptyPath():lT(e)}function zm(r){return new tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function lT(r){return Ke(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Zv(r,e,n){return{name:Um(r,e),fields:n.value.mapValue.fields}}function lI(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(_,T){return _.useProto3Json?(Ke(T===void 0||typeof T=="string"),Qt.fromBase64String(T||"")):(Ke(T===void 0||T instanceof Buffer||T instanceof Uint8Array),Qt.fromUint8Array(T||new Uint8Array))}(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&function(_){const T=_.code===void 0?ee.UNKNOWN:nT(_.code);return new me(T,_.message||"")}(f);n=new rT(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=_m(r,s.document.name),u=Ri(s.document.updateTime),f=s.document.createTime?Ri(s.document.createTime):Se.min(),m=new En({mapValue:{fields:s.document.fields}}),p=tn.newFoundDocument(o,u,f,m),_=s.targetIds||[],T=s.removedTargetIds||[];n=new lh(_,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=_m(r,s.document),u=s.readTime?Ri(s.readTime):Se.min(),f=tn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new lh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=_m(r,s.document),u=s.removedTargetIds||[];n=new lh([],u,o,null)}else{if(!("filter"in e))return we();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new WC(o,u),m=s.targetId;n=new iT(m,f)}}return n}function uI(r,e){let n;if(e instanceof gu)n={update:Zv(r,e.key,e.value)};else if(e instanceof pp)n={delete:Um(r,e.key)};else if(e instanceof Ss)n={update:Zv(r,e.key,e.data),updateMask:yI(e.fieldMask)};else{if(!(e instanceof QC))return we();n={verify:Um(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,f){const m=f.transform;if(m instanceof wh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof So)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ou)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof lu)return{fieldPath:f.field.canonicalString(),increment:m.Ie};throw we()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:aI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we()}(r,e.precondition)),n}function cI(r,e){return r&&r.length>0?(Ke(e!==void 0),r.map(n=>function(o,u){let f=o.updateTime?Ri(o.updateTime):Ri(u);return f.isEqual(Se.min())&&(f=Ri(u)),new GC(f,o.transformResults||[])}(n,e))):[]}function hI(r,e){return{documents:[oT(r,e.path)]}}function fI(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=oT(r,o);const u=function(_){if(_.length!==0)return cT(Di.create(_,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const f=function(_){if(_.length!==0)return _.map(T=>function(R){return{field:co(R.field),direction:pI(R.dir)}}(T))}(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=jm(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ht:n,parent:o}}function dI(r){let e=oI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=function(b){const R=uT(b);return R instanceof Di&&L0(R)?R.getFilters():[R]}(n.where));let f=[];n.orderBy&&(f=function(b){return b.map(R=>function(j){return new Th(ho(j.field),function(q){switch(q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(R))}(n.orderBy));let m=null;n.limit&&(m=function(b){let R;return R=typeof b=="object"?b.value:b,Lh(R)?null:R}(n.limit));let p=null;n.startAt&&(p=function(b){const R=!!b.before,D=b.values||[];return new Eh(D,R)}(n.startAt));let _=null;return n.endAt&&(_=function(b){const R=!b.before,D=b.values||[];return new Eh(D,R)}(n.endAt)),OC(e,o,f,u,m,"F",p,_)}function mI(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function uT(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ho(n.unaryFilter.field);return Nt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ho(n.unaryFilter.field);return Nt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ho(n.unaryFilter.field);return Nt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ho(n.unaryFilter.field);return Nt.create(f,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(r):r.fieldFilter!==void 0?function(n){return Nt.create(ho(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Di.create(n.compositeFilter.filters.map(s=>uT(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return we()}}(n.compositeFilter.op))}(r):we()}function pI(r){return nI[r]}function gI(r){return iI[r]}function _I(r){return rI[r]}function co(r){return{fieldPath:r.canonicalString()}}function ho(r){return Kt.fromServerFormat(r.fieldPath)}function cT(r){return r instanceof Nt?function(n){if(n.op==="=="){if(Uv(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NAN"}};if(Lv(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Uv(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NAN"}};if(Lv(n.value))return{unaryFilter:{field:co(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:co(n.field),op:gI(n.op),value:n.value}}}(r):r instanceof Di?function(n){const s=n.getFilters().map(o=>cT(o));return s.length===1?s[0]:{compositeFilter:{op:_I(n.op),filters:s}}}(r):we()}function yI(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function hT(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e,n,s,o,u=Se.min(),f=Se.min(),m=Qt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new us(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new us(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.Tt=e}}function EI(r){const e=dI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Vm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this.Tn=new wI}addToCollectionParentIndex(e,n){return this.Tn.add(n),Z.resolve()}getCollectionParents(e,n){return Z.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return Z.resolve()}deleteFieldIndex(e,n){return Z.resolve()}deleteAllFieldIndexes(e){return Z.resolve()}createTargetIndexes(e,n){return Z.resolve()}getDocumentsMatchingTarget(e,n){return Z.resolve(null)}getIndexType(e,n){return Z.resolve(0)}getFieldIndexes(e,n){return Z.resolve([])}getNextCollectionGroupToUpdate(e){return Z.resolve(null)}getMinOffset(e,n){return Z.resolve(gs.min())}getMinOffsetFromCollectionGroup(e,n){return Z.resolve(gs.min())}updateCollectionGroup(e,n,s){return Z.resolve()}updateIndexEntries(e,n){return Z.resolve()}}class wI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ot(tt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ot(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fT=41943040;class vn{static withCacheSize(e){return new vn(e,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(fT,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new bo(0)}static Un(){return new bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="LruGarbageCollector",SI=1048576;function tE([r,e],[n,s]){const o=Ve(r,n);return o===0?Ve(e,s):o}class bI{constructor(e){this.Hn=e,this.buffer=new Ot(tE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();tE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class AI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ue(eE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Oo(n)?ue(eE,"Ignoring IndexedDB error during garbage collection: ",n):await Do(n)}await this.er(3e5)})}}class RI{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return Z.resolve(jh.ae);const s=new bI(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(Jv)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jv):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,f,m,p,_;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,f=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(_=Date.now(),lo()<=Me.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(_-p)+`ms
Total Duration: ${_-T}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function CI(r,e){return new RI(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(){this.changes=new fa(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?Z.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Jl(s.mutation,o,Dn.empty(),Dt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Pe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Pe()){const o=aa();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let f=Kl();return u.forEach((m,p)=>{f=f.insert(m,p.overlayedDocument)}),f}))}getOverlayedDocuments(e,n){const s=aa();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Pe()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((f,m)=>{n.set(f,m)})})}computeViews(e,n,s,o){let u=gr();const f=Zl(),m=function(){return Zl()}();return n.forEach((p,_)=>{const T=s.get(_.key);o.has(_.key)&&(T===void 0||T.mutation instanceof Ss)?u=u.insert(_.key,_):T!==void 0?(f.set(_.key,T.mutation.getFieldMask()),Jl(T.mutation,_,T.mutation.getFieldMask(),Dt.now())):f.set(_.key,Dn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((_,T)=>f.set(_,T)),n.forEach((_,T)=>{var b;return m.set(_,new xI(T,(b=f.get(_))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,n){const s=Zl();let o=new at((f,m)=>f-m),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(f=>{for(const m of f)m.keys().forEach(p=>{const _=n.get(p);if(_===null)return;let T=s.get(p)||Dn.empty();T=m.applyToLocalView(_,T),s.set(p,T);const b=(o.get(m.batchId)||Pe()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const f=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),_=p.key,T=p.value,b=$0();T.forEach(R=>{if(!u.has(R)){const D=eT(n.get(R),s.get(R));D!==null&&b.set(R,D),u=u.add(R)}}),f.push(this.documentOverlayCache.saveOverlays(e,_,b))}return Z.waitFor(f)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):MC(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):Z.resolve(aa());let m=iu,p=u;return f.next(_=>Z.forEach(_,(T,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(T)?Z.resolve():this.remoteDocumentCache.getEntry(e,T).next(R=>{p=p.insert(T,R)}))).next(()=>this.populateOverlays(e,_,u)).next(()=>this.computeViews(e,p,_,Pe())).next(T=>({batchId:m,changes:G0(T)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let o=Kl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=Kl();return this.indexManager.getCollectionParents(e,u).next(m=>Z.forEach(m,p=>{const _=function(b,R){return new zh(R,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,_,s,o).next(T=>{T.forEach((b,R)=>{f=f.insert(b,R)})})}).next(()=>f))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(f=>{u.forEach((p,_)=>{const T=_.getKey();f.get(T)===null&&(f=f.insert(T,tn.newInvalidDocument(T)))});let m=Kl();return f.forEach((p,_)=>{const T=u.get(p);T!==void 0&&Jl(T.mutation,_,Dn.empty(),Dt.now()),Hh(n,_)&&(m=m.insert(p,_))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DI{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return Z.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ri(o.createTime)}}(n)),Z.resolve()}getNamedQuery(e,n){return Z.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:EI(o.bundledQuery),readTime:Ri(o.readTime)}}(n)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(){this.overlays=new at(ye.comparator),this.Rr=new Map}getOverlay(e,n){return Z.resolve(this.overlays.get(n))}getOverlays(e,n){const s=aa();return Z.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),Z.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),Z.resolve()}getOverlaysForCollection(e,n,s){const o=aa(),u=n.length+1,f=new ye(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,_=p.getKey();if(!n.isPrefixOf(_.path))break;_.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return Z.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new at((_,T)=>_-T);const f=this.overlays.getIterator();for(;f.hasNext();){const _=f.getNext().value;if(_.getKey().getCollectionGroup()===n&&_.largestBatchId>s){let T=u.get(_.largestBatchId);T===null&&(T=aa(),u=u.insert(_.largestBatchId,T)),T.set(_.getKey(),_)}}const m=aa(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((_,T)=>m.set(_,T)),!(m.size()>=o)););return Z.resolve(m)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new XC(n,s));let u=this.Rr.get(n);u===void 0&&(u=Pe(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return Z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(){this.Vr=new Ot(zt.mr),this.gr=new Ot(zt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new zt(e,n))}br(e,n){e.forEach(s=>this.removeReference(s,n))}Sr(e){const n=new ye(new tt([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.gr.forEachInRange([s,o],f=>{this.wr(f),u.push(f.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ye(new tt([])),s=new zt(n,e),o=new zt(n,e+1);let u=Pe();return this.gr.forEachInRange([s,o],f=>{u=u.add(f.key)}),u}containsKey(e){const n=new zt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ye.comparator(e.key,n.key)||Ve(e.Cr,n.Cr)}static pr(e,n){return Ve(e.Cr,n.Cr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Ot(zt.mr)}checkEmpty(e){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new YC(u,n,s,o);this.mutationQueue.push(f);for(const m of o)this.Mr=this.Mr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return Z.resolve(f)}lookupMutationBatch(e,n){return Z.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return Z.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?lp:this.Fr-1)}getAllMutationBatches(e){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],f=>{const m=this.Or(f.Cr);u.push(m)}),Z.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ot(Ve);return n.forEach(o=>{const u=new zt(o,0),f=new zt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,f],m=>{s=s.add(m.Cr)})}),Z.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new zt(new ye(u),0);let m=new Ot(Ve);return this.Mr.forEachWhile(p=>{const _=p.key.path;return!!s.isPrefixOf(_)&&(_.length===o&&(m=m.add(p.Cr)),!0)},f),Z.resolve(this.Br(m))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ke(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return Z.forEach(n.mutations,o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new zt(n,0),o=this.Mr.firstAfterOrEqual(s);return Z.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Z.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e){this.kr=e,this.docs=function(){return new at(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return Z.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let s=gr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))}),Z.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=gr();const f=n.path,m=new ye(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:_,value:{document:T}}=p.getNext();if(!f.isPrefixOf(_.path))break;_.path.length>f.length+1||cC(uC(T),s)<=0||(o.has(T.key)||Hh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return Z.resolve(u)}getAllFromCollectionGroup(e,n,s,o){we()}qr(e,n){return Z.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new VI(this)}getSize(e){return Z.resolve(this.size)}}class VI extends II{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),Z.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.persistence=e,this.Qr=new fa(n=>hp(n),fp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.$r=0,this.Kr=new vp,this.targetCount=0,this.Ur=bo.Kn()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),Z.resolve()}getLastRemoteSnapshotVersion(e){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Z.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),Z.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ur=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,Z.resolve()}updateTargetData(e,n){return this.zn(n),Z.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.Sr(n.targetId),this.targetCount-=1,Z.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Qr.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),Z.waitFor(u).next(()=>o)}getTargetCount(e){return Z.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return Z.resolve(s)}addMatchingKeys(e,n,s){return this.Kr.yr(n,s),Z.resolve()}removeMatchingKeys(e,n,s){this.Kr.br(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(f=>{u.push(o.markPotentiallyOrphaned(e,f))}),Z.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Kr.Sr(n),Z.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Kr.vr(n);return Z.resolve(s)}containsKey(e,n){return Z.resolve(this.Kr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new jh(0),this.zr=!1,this.zr=!0,this.jr=new MI,this.referenceDelegate=e(this),this.Hr=new jI(this),this.indexManager=new TI,this.remoteDocumentCache=function(o){return new kI(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new vI(n),this.Yr=new DI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new OI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new PI(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){ue("MemoryPersistence","Starting transaction:",e);const o=new LI(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return Z.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class LI extends fC{constructor(e){super(),this.currentSequenceNumber=e}}class Ep{constructor(e){this.persistence=e,this.ti=new vp,this.ni=null}static ri(e){return new Ep(e)}get ii(){if(this.ni)return this.ni;throw we()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),Z.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),Z.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),Z.resolve()}removeTarget(e,n){this.ti.Sr(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.ii,s=>{const o=ye.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Se.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return Z.or([()=>Z.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class bh{constructor(e,n){this.persistence=e,this.oi=new fa(s=>pC(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=CI(this,n)}static ri(e,n){return new bh(e,n)}Zr(){}Xr(e){return Z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return Z.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?Z.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,f=>this.ar(e,f,n).next(m=>{m||(s++,u.removeEntry(f,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),Z.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),Z.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),Z.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=sh(e.data.value)),n}ar(e,n,s){return Z.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return Z.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Tp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return VR()?8:dC(nn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(f=>{u.result=f}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(f=>{u.result=f})}).next(()=>{if(u.result)return;const f=new UI;return this._s(e,n,f).next(m=>{if(u.result=m,this.Xi)return this.us(e,n,f,m.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(lo()<=Me.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",uo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Z.resolve()):(lo()<=Me.DEBUG&&ue("QueryEngine","Query:",uo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(lo()<=Me.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",uo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ai(n))):Z.resolve())}rs(e,n){if(qv(n))return Z.resolve(null);let s=Ai(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Vm(n,null,"F"),s=Ai(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const f=Pe(...u);return this.ns.getDocuments(e,f).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const _=this.cs(n,m);return this.ls(n,_,f,p.readTime)?this.rs(e,Vm(n,null,"F")):this.hs(e,_,n,p)}))})))}ss(e,n,s,o){return qv(n)||o.isEqual(Se.min())?Z.resolve(null):this.ns.getDocuments(e,s).next(u=>{const f=this.cs(n,u);return this.ls(n,f,s,o)?Z.resolve(null):(lo()<=Me.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),uo(n)),this.hs(e,f,n,lC(o,iu)).next(m=>m))})}cs(e,n){let s=new Ot(q0(e));return n.forEach((o,u)=>{Hh(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return lo()<=Me.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",uo(n)),this.ns.getDocumentsMatchingQuery(e,n,gs.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(f=>{u=u.insert(f.key,f)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wp="LocalStore",BI=3e8;class HI{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new at(Ve),this.Is=new fa(u=>hp(u),fp),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new NI(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function qI(r,e,n,s){return new HI(r,e,n,s)}async function mT(r,e){const n=Ae(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const f=[],m=[];let p=Pe();for(const _ of o){f.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}for(const _ of u){m.push(_.batchId);for(const T of _.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next(_=>({Rs:_,removedBatchIds:f,addedBatchIds:m}))})})}function FI(r,e){const n=Ae(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(m,p,_,T){const b=_.batch,R=b.keys();let D=Z.resolve();return R.forEach(j=>{D=D.next(()=>T.getEntry(p,j)).next(Y=>{const q=_.docVersions.get(j);Ke(q!==null),Y.version.compareTo(q)<0&&(b.applyToRemoteDocument(Y,_),Y.isValidDocument()&&(Y.setReadTime(_.commitVersion),T.addEntry(Y)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=Pe();for(let _=0;_<m.mutationResults.length;++_)m.mutationResults[_].transformResults.length>0&&(p=p.add(m.batch.mutations[_].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function pT(r){const e=Ae(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function GI(r,e){const n=Ae(r),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const f=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const m=[];e.targetChanges.forEach((T,b)=>{const R=o.get(b);if(!R)return;m.push(n.Hr.removeMatchingKeys(u,T.removedDocuments,b).next(()=>n.Hr.addMatchingKeys(u,T.addedDocuments,b)));let D=R.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?D=D.withResumeToken(Qt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):T.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(T.resumeToken,s)),o=o.insert(b,D),function(Y,q,$){return Y.resumeToken.approximateByteSize()===0||q.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=BI?!0:$.addedDocuments.size+$.modifiedDocuments.size+$.removedDocuments.size>0}(R,D,T)&&m.push(n.Hr.updateTargetData(u,D))});let p=gr(),_=Pe();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))}),m.push($I(u,f,e.documentUpdates).next(T=>{p=T.Vs,_=T.fs})),!s.isEqual(Se.min())){const T=n.Hr.getLastRemoteSnapshotVersion(u).next(b=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(T)}return Z.waitFor(m).next(()=>f.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,_)).next(()=>p)}).then(u=>(n.Ts=o,u))}function $I(r,e,n){let s=Pe(),o=Pe();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let f=gr();return n.forEach((m,p)=>{const _=u.get(m);p.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!_.isValidDocument()||p.version.compareTo(_.version)>0||p.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):ue(wp,"Ignoring outdated watch update for ",m,". Current version:",_.version," Watch version:",p.version)}),{Vs:f,fs:o}})}function KI(r,e){const n=Ae(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=lp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function QI(r,e){const n=Ae(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,Z.resolve(o)):n.Hr.allocateTargetId(s).next(f=>(o=new us(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function Bm(r,e,n){const s=Ae(r),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,f=>s.persistence.referenceDelegate.removeTarget(f,o))}catch(f){if(!Oo(f))throw f;ue(wp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function nE(r,e,n){const s=Ae(r);let o=Se.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",f=>function(p,_,T){const b=Ae(p),R=b.Is.get(T);return R!==void 0?Z.resolve(b.Ts.get(R)):b.Hr.getTargetData(_,T)}(s,f,Ai(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(f,m.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:Pe())).next(m=>(YI(s,kC(e),m),{documents:m,gs:u})))}function YI(r,e,n){let s=r.Es.get(e)||Se.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Es.set(e,s)}class iE{constructor(){this.activeTargetIds=BC()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ss(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class XI{constructor(){this.ho=new iE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new iE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rE="ConnectivityMonitor";class sE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ue(rE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ue(rE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jc=null;function Hm(){return Jc===null?Jc=function(){return 268435456+Math.round(2147483648*Math.random())}():Jc++,"0x"+Jc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym="RestConnection",ZI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class JI{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===yh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}bo(e,n,s,o,u){const f=Hm(),m=this.So(e,n.toUriEncodedString());ue(ym,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,m,p,s).then(_=>(ue(ym,`Received RPC '${e}' ${f}: `,_),_),_=>{throw vo(ym,`RPC '${e}' ${f} failed with error: `,_,"url: ",m,"request:",s),_})}Co(e,n,s,o,u,f){return this.bo(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+No}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}So(e,n){const s=ZI[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class tx extends JI{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=Hm();return new Promise((f,m)=>{const p=new v0;p.setWithCredentials(!0),p.listenOnce(E0.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case rh.NO_ERROR:const T=p.getResponseJson();ue(Zt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(T)),f(T);break;case rh.TIMEOUT:ue(Zt,`RPC '${e}' ${u} timed out`),m(new me(ee.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const b=p.getStatus();if(ue(Zt,`RPC '${e}' ${u} failed with status:`,b,"response text:",p.getResponseText()),b>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const D=R==null?void 0:R.error;if(D&&D.status&&D.message){const j=function(q){const $=q.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf($)>=0?$:ee.UNKNOWN}(D.status);m(new me(j,D.message))}else m(new me(ee.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new me(ee.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{ue(Zt,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(o);ue(Zt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",_,s,15)})}Wo(e,n,s){const o=Hm(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=S0(),m=w0(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(p.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");ue(Zt,`Creating RPC '${e}' stream ${o}: ${T}`,p);const b=f.createWebChannel(T,p);let R=!1,D=!1;const j=new ex({Fo:q=>{D?ue(Zt,`Not sending because RPC '${e}' stream ${o} is closed:`,q):(R||(ue(Zt,`Opening RPC '${e}' stream ${o} transport.`),b.open(),R=!0),ue(Zt,`RPC '${e}' stream ${o} sending:`,q),b.send(q))},Mo:()=>b.close()}),Y=(q,$,te)=>{q.listen($,K=>{try{te(K)}catch(re){setTimeout(()=>{throw re},0)}})};return Y(b,$l.EventType.OPEN,()=>{D||(ue(Zt,`RPC '${e}' stream ${o} transport opened.`),j.Qo())}),Y(b,$l.EventType.CLOSE,()=>{D||(D=!0,ue(Zt,`RPC '${e}' stream ${o} transport closed`),j.Ko())}),Y(b,$l.EventType.ERROR,q=>{D||(D=!0,vo(Zt,`RPC '${e}' stream ${o} transport errored:`,q),j.Ko(new me(ee.UNAVAILABLE,"The operation could not be completed")))}),Y(b,$l.EventType.MESSAGE,q=>{var $;if(!D){const te=q.data[0];Ke(!!te);const K=te,re=(K==null?void 0:K.error)||(($=K[0])===null||$===void 0?void 0:$.error);if(re){ue(Zt,`RPC '${e}' stream ${o} received error:`,re);const se=re.status;let he=function(A){const x=wt[A];if(x!==void 0)return nT(x)}(se),M=re.message;he===void 0&&(he=ee.INTERNAL,M="Unknown error status: "+se+" with message "+re.message),D=!0,j.Ko(new me(he,M)),b.close()}else ue(Zt,`RPC '${e}' stream ${o} received:`,te),j.Uo(te)}}),Y(m,T0.STAT_EVENT,q=>{q.stat===Dm.PROXY?ue(Zt,`RPC '${e}' stream ${o} detected buffering proxy`):q.stat===Dm.NOPROXY&&ue(Zt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{j.$o()},0),j}}function vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(r){return new sI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ue("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="PersistentStream";class _T{constructor(e,n,s,o,u,f,m,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new gT(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===ee.RESOURCE_EXHAUSTED?(pr(n.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===ee.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new me(ee.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ue(aE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ue(aE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class nx extends _T{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=lI(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?Ri(f.readTime):Se.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=zm(this.serializer),n.addTarget=function(u,f){let m;const p=f.target;if(m=km(p)?{documents:hI(u,p)}:{query:fI(u,p).ht},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=sT(u,f.resumeToken);const _=jm(u,f.expectedCount);_!==null&&(m.expectedCount=_)}else if(f.snapshotVersion.compareTo(Se.min())>0){m.readTime=Sh(u,f.snapshotVersion.toTimestamp());const _=jm(u,f.expectedCount);_!==null&&(m.expectedCount=_)}return m}(this.serializer,e);const s=mI(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=zm(this.serializer),n.removeTarget=e,this.I_(n)}}class ix extends _T{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get b_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.b_&&this.S_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=cI(e.writeResults,e.commitTime),s=Ri(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=zm(this.serializer),this.I_(e)}S_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>uI(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{}class sx extends rx{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.")}bo(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.bo(e,Lm(n,s),o,u,f)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new me(ee.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([f,m])=>this.connection.Co(e,Lm(n,s),o,f,m,u)).catch(f=>{throw f.name==="FirebaseError"?(f.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new me(ee.UNKNOWN,f.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class ax{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(pr(n),this.N_=!1):ue("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="RemoteStore";class ox{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(f=>{s.enqueueAndForget(async()=>{da(this)&&(ue(ua,"Restarting streams for network reachability change."),await async function(p){const _=Ae(p);_.W_.add(4),await yu(_),_.j_.set("Unknown"),_.W_.delete(4),await Kh(_)}(this))})}),this.j_=new ax(s,o)}}async function Kh(r){if(da(r))for(const e of r.G_)await e(!0)}async function yu(r){for(const e of r.G_)await e(!1)}function yT(r,e){const n=Ae(r);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),Rp(n)?Ap(n):Mo(n).c_()&&bp(n,e))}function Sp(r,e){const n=Ae(r),s=Mo(n);n.U_.delete(e),s.c_()&&vT(n,e),n.U_.size===0&&(s.c_()?s.P_():da(n)&&n.j_.set("Unknown"))}function bp(r,e){if(r.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mo(r).y_(e)}function vT(r,e){r.H_.Ne(e),Mo(r).w_(e)}function Ap(r){r.H_=new tI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>r.U_.get(e)||null,it:()=>r.datastore.serializer.databaseId}),Mo(r).start(),r.j_.B_()}function Rp(r){return da(r)&&!Mo(r).u_()&&r.U_.size>0}function da(r){return Ae(r).W_.size===0}function ET(r){r.H_=void 0}async function lx(r){r.j_.set("Online")}async function ux(r){r.U_.forEach((e,n)=>{bp(r,e)})}async function cx(r,e){ET(r),Rp(r)?(r.j_.q_(e),Ap(r)):r.j_.set("Unknown")}async function hx(r,e,n){if(r.j_.set("Online"),e instanceof rT&&e.state===2&&e.cause)try{await async function(o,u){const f=u.cause;for(const m of u.targetIds)o.U_.has(m)&&(await o.remoteSyncer.rejectListen(m,f),o.U_.delete(m),o.H_.removeTarget(m))}(r,e)}catch(s){ue(ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Ah(r,s)}else if(e instanceof lh?r.H_.We(e):e instanceof iT?r.H_.Ze(e):r.H_.je(e),!n.isEqual(Se.min()))try{const s=await pT(r.localStore);n.compareTo(s)>=0&&await function(u,f){const m=u.H_.ot(f);return m.targetChanges.forEach((p,_)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.U_.get(_);T&&u.U_.set(_,T.withResumeToken(p.resumeToken,f))}}),m.targetMismatches.forEach((p,_)=>{const T=u.U_.get(p);if(!T)return;u.U_.set(p,T.withResumeToken(Qt.EMPTY_BYTE_STRING,T.snapshotVersion)),vT(u,p);const b=new us(T.target,p,_,T.sequenceNumber);bp(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){ue(ua,"Failed to raise snapshot:",s),await Ah(r,s)}}async function Ah(r,e,n){if(!Oo(e))throw e;r.W_.add(1),await yu(r),r.j_.set("Offline"),n||(n=()=>pT(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{ue(ua,"Retrying IndexedDB access"),await n(),r.W_.delete(1),await Kh(r)})}function TT(r,e){return e().catch(n=>Ah(r,n,e))}async function Qh(r){const e=Ae(r),n=Es(e);let s=e.K_.length>0?e.K_[e.K_.length-1].batchId:lp;for(;fx(e);)try{const o=await KI(e.localStore,s);if(o===null){e.K_.length===0&&n.P_();break}s=o.batchId,dx(e,o)}catch(o){await Ah(e,o)}wT(e)&&ST(e)}function fx(r){return da(r)&&r.K_.length<10}function dx(r,e){r.K_.push(e);const n=Es(r);n.c_()&&n.b_&&n.S_(e.mutations)}function wT(r){return da(r)&&!Es(r).u_()&&r.K_.length>0}function ST(r){Es(r).start()}async function mx(r){Es(r).C_()}async function px(r){const e=Es(r);for(const n of r.K_)e.S_(n.mutations)}async function gx(r,e,n){const s=r.K_.shift(),o=gp.from(s,e,n);await TT(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Qh(r)}async function _x(r,e){e&&Es(r).b_&&await async function(s,o){if(function(f){return ZC(f)&&f!==ee.ABORTED}(o.code)){const u=s.K_.shift();Es(s).h_(),await TT(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Qh(s)}}(r,e),wT(r)&&ST(r)}async function oE(r,e){const n=Ae(r);n.asyncQueue.verifyOperationInProgress(),ue(ua,"RemoteStore received new credentials");const s=da(n);n.W_.add(3),await yu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await Kh(n)}async function yx(r,e){const n=Ae(r);e?(n.W_.delete(2),await Kh(n)):e||(n.W_.add(2),await yu(n),n.j_.set("Unknown"))}function Mo(r){return r.J_||(r.J_=function(n,s,o){const u=Ae(n);return u.M_(),new nx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:lx.bind(null,r),No:ux.bind(null,r),Lo:cx.bind(null,r),p_:hx.bind(null,r)}),r.G_.push(async e=>{e?(r.J_.h_(),Rp(r)?Ap(r):r.j_.set("Unknown")):(await r.J_.stop(),ET(r))})),r.J_}function Es(r){return r.Y_||(r.Y_=function(n,s,o){const u=Ae(n);return u.M_(),new ix(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{xo:()=>Promise.resolve(),No:mx.bind(null,r),Lo:_x.bind(null,r),D_:px.bind(null,r),v_:gx.bind(null,r)}),r.G_.push(async e=>{e?(r.Y_.h_(),await Qh(r)):(await r.Y_.stop(),r.K_.length>0&&(ue(ua,`Stopping write stream with ${r.K_.length} pending writes`),r.K_=[]))})),r.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(f=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,m=new Cp(e,n,f,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new me(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ip(r,e){if(pr("AsyncQueue",`${e}: ${r}`),Oo(r))return new me(ee.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{static emptySet(e){return new mo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Kl(),this.sortedSet=new at(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new mo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(){this.Z_=new at(ye.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):we():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ao{constructor(e,n,s,o,u,f,m,p,_){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=_}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach(m=>{f.push({type:0,doc:m})}),new Ao(e,n,mo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vx{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class Ex{constructor(){this.queries=uE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=Ae(n),u=o.queries;o.queries=uE(),u.forEach((f,m)=>{for(const p of m.ta)p.onError(s)})})(this,new me(ee.ABORTED,"Firestore shutting down"))}}function uE(){return new fa(r=>H0(r),Bh)}async function bT(r,e){const n=Ae(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new vx,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const m=Ip(f,`Initialization of query '${uo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&xp(n)}async function AT(r,e){const n=Ae(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.ta.indexOf(e);f>=0&&(u.ta.splice(f,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Tx(r,e){const n=Ae(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const m of f.ta)m.oa(o)&&(s=!0);f.ea=o}}s&&xp(n)}function wx(r,e,n){const s=Ae(r),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function xp(r){r.ia.forEach(e=>{e.next()})}var qm,cE;(cE=qm||(qm={}))._a="default",cE.Cache="cache";class RT{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ao(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==qm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e){this.key=e}}class IT{constructor(e){this.key=e}}class Sx{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Pe(),this.mutatedKeys=Pe(),this.ya=q0(e),this.wa=new mo(this.ya)}get ba(){return this.fa}Sa(e,n){const s=n?n.Da:new lE,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((T,b)=>{const R=o.get(T),D=Hh(this.query,b)?b:null,j=!!R&&this.mutatedKeys.has(R.key),Y=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let q=!1;R&&D?R.data.isEqual(D.data)?j!==Y&&(s.track({type:3,doc:D}),q=!0):this.va(R,D)||(s.track({type:2,doc:D}),q=!0,(p&&this.ya(D,p)>0||_&&this.ya(D,_)<0)&&(m=!0)):!R&&D?(s.track({type:0,doc:D}),q=!0):R&&!D&&(s.track({type:1,doc:R}),q=!0,(p||_)&&(m=!0)),q&&(D?(f=f.add(D),u=Y?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))}),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{wa:f,Da:s,ls:m,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const f=e.Da.X_();f.sort((T,b)=>function(D,j){const Y=q=>{switch(q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return Y(D)-Y(j)}(T.type,b.type)||this.ya(T.doc,b.doc)),this.Ca(s),o=o!=null&&o;const m=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,_=p!==this.ga;return this.ga=p,f.length!==0||_?{snapshot:new Ao(this.query,e.wa,u,f,e.mutatedKeys,p===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:m}:{Ma:m}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new lE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Pe(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new IT(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new CT(s))}),n}Oa(e){this.fa=e.gs,this.pa=Pe();const n=this.Sa(e.documents);return this.applyChanges(n,!0)}Na(){return Ao.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Np="SyncEngine";class bx{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class Ax{constructor(e){this.key=e,this.Ba=!1}}class Rx{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.La={},this.ka=new fa(m=>H0(m),Bh),this.qa=new Map,this.Qa=new Set,this.$a=new at(ye.comparator),this.Ka=new Map,this.Ua=new vp,this.Wa={},this.Ga=new Map,this.za=bo.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function Cx(r,e,n=!0){const s=PT(r);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await xT(s,e,n,!0),o}async function Ix(r,e){const n=PT(r);await xT(n,e,!0,!1)}async function xT(r,e,n,s){const o=await QI(r.localStore,Ai(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await xx(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&yT(r.remoteStore,o),m}async function xx(r,e,n,s,o){r.Ha=(b,R,D)=>async function(Y,q,$,te){let K=q.view.Sa($);K.ls&&(K=await nE(Y.localStore,q.query,!1).then(({documents:M})=>q.view.Sa(M,K)));const re=te&&te.targetChanges.get(q.targetId),se=te&&te.targetMismatches.get(q.targetId)!=null,he=q.view.applyChanges(K,Y.isPrimaryClient,re,se);return fE(Y,q.targetId,he.Ma),he.snapshot}(r,b,R,D);const u=await nE(r.localStore,e,!0),f=new Sx(e,u.gs),m=f.Sa(u.documents),p=_u.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),_=f.applyChanges(m,r.isPrimaryClient,p);fE(r,n,_.Ma);const T=new bx(e,n,f);return r.ka.set(e,T),r.qa.has(n)?r.qa.get(n).push(e):r.qa.set(n,[e]),_.snapshot}async function Nx(r,e,n){const s=Ae(r),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(f=>!Bh(f,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Bm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Sp(s.remoteStore,o.targetId),Fm(s,o.targetId)}).catch(Do)):(Fm(s,o.targetId),await Bm(s.localStore,o.targetId,!0))}async function Dx(r,e){const n=Ae(r),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Sp(n.remoteStore,s.targetId))}async function Ox(r,e,n){const s=Ux(r);try{const o=await function(f,m){const p=Ae(f),_=Dt.now(),T=m.reduce((D,j)=>D.add(j.key),Pe());let b,R;return p.persistence.runTransaction("Locally write mutations","readwrite",D=>{let j=gr(),Y=Pe();return p.ds.getEntries(D,T).next(q=>{j=q,j.forEach(($,te)=>{te.isValidDocument()||(Y=Y.add($))})}).next(()=>p.localDocuments.getOverlayedDocuments(D,j)).next(q=>{b=q;const $=[];for(const te of m){const K=KC(te,b.get(te.key).overlayedDocument);K!=null&&$.push(new Ss(te.key,K,k0(K.value.mapValue),Xn.exists(!0)))}return p.mutationQueue.addMutationBatch(D,_,$,m)}).next(q=>{R=q;const $=q.applyToLocalDocumentSet(b,Y);return p.documentOverlayCache.saveOverlays(D,q.batchId,$)})}).then(()=>({batchId:R.batchId,changes:G0(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(f,m,p){let _=f.Wa[f.currentUser.toKey()];_||(_=new at(Ve)),_=_.insert(m,p),f.Wa[f.currentUser.toKey()]=_}(s,o.batchId,n),await vu(s,o.changes),await Qh(s.remoteStore)}catch(o){const u=Ip(o,"Failed to persist write");n.reject(u)}}async function NT(r,e){const n=Ae(r);try{const s=await GI(n.localStore,e);e.targetChanges.forEach((o,u)=>{const f=n.Ka.get(u);f&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?f.Ba=!0:o.modifiedDocuments.size>0?Ke(f.Ba):o.removedDocuments.size>0&&(Ke(f.Ba),f.Ba=!1))}),await vu(n,s,e)}catch(s){await Do(s)}}function hE(r,e,n){const s=Ae(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,f)=>{const m=f.view.sa(e);m.snapshot&&o.push(m.snapshot)}),function(f,m){const p=Ae(f);p.onlineState=m;let _=!1;p.queries.forEach((T,b)=>{for(const R of b.ta)R.sa(m)&&(_=!0)}),_&&xp(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function Mx(r,e,n){const s=Ae(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ka.get(e),u=o&&o.key;if(u){let f=new at(ye.comparator);f=f.insert(u,tn.newNoDocument(u,Se.min()));const m=Pe().add(u),p=new Gh(Se.min(),new Map,new at(Ve),f,m);await NT(s,p),s.$a=s.$a.remove(u),s.Ka.delete(e),Dp(s)}else await Bm(s.localStore,e,!1).then(()=>Fm(s,e,n)).catch(Do)}async function Px(r,e){const n=Ae(r),s=e.batch.batchId;try{const o=await FI(n.localStore,e);OT(n,s,null),DT(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await vu(n,o)}catch(o){await Do(o)}}async function kx(r,e,n){const s=Ae(r);try{const o=await function(f,m){const p=Ae(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let T;return p.mutationQueue.lookupMutationBatch(_,m).next(b=>(Ke(b!==null),T=b.keys(),p.mutationQueue.removeMutationBatch(_,b))).next(()=>p.mutationQueue.performConsistencyCheck(_)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(_,T,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,T)).next(()=>p.localDocuments.getDocuments(_,T))})}(s.localStore,e);OT(s,e,n),DT(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await vu(s,o)}catch(o){await Do(o)}}function DT(r,e){(r.Ga.get(e)||[]).forEach(n=>{n.resolve()}),r.Ga.delete(e)}function OT(r,e,n){const s=Ae(r);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function Fm(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.qa.get(e))r.ka.delete(s),n&&r.La.Ja(s,n);r.qa.delete(e),r.isPrimaryClient&&r.Ua.Sr(e).forEach(s=>{r.Ua.containsKey(s)||MT(r,s)})}function MT(r,e){r.Qa.delete(e.path.canonicalString());const n=r.$a.get(e);n!==null&&(Sp(r.remoteStore,n),r.$a=r.$a.remove(e),r.Ka.delete(n),Dp(r))}function fE(r,e,n){for(const s of n)s instanceof CT?(r.Ua.addReference(s.key,e),Vx(r,s)):s instanceof IT?(ue(Np,"Document no longer in limbo: "+s.key),r.Ua.removeReference(s.key,e),r.Ua.containsKey(s.key)||MT(r,s.key)):we()}function Vx(r,e){const n=e.key,s=n.path.canonicalString();r.$a.get(n)||r.Qa.has(s)||(ue(Np,"New document in limbo: "+n),r.Qa.add(s),Dp(r))}function Dp(r){for(;r.Qa.size>0&&r.$a.size<r.maxConcurrentLimboResolutions;){const e=r.Qa.values().next().value;r.Qa.delete(e);const n=new ye(tt.fromString(e)),s=r.za.next();r.Ka.set(s,new Ax(n)),r.$a=r.$a.insert(n,s),yT(r.remoteStore,new us(Ai(dp(n.path)),s,"TargetPurposeLimboResolution",jh.ae))}}async function vu(r,e,n){const s=Ae(r),o=[],u=[],f=[];s.ka.isEmpty()||(s.ka.forEach((m,p)=>{f.push(s.Ha(p,e,n).then(_=>{var T;if((_||n)&&s.isPrimaryClient){const b=_?!_.fromCache:(T=n==null?void 0:n.targetChanges.get(p.targetId))===null||T===void 0?void 0:T.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(_){o.push(_);const b=Tp.Yi(p.targetId,_);u.push(b)}}))}),await Promise.all(f),s.La.p_(o),await async function(p,_){const T=Ae(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>Z.forEach(_,R=>Z.forEach(R.Hi,D=>T.persistence.referenceDelegate.addReference(b,R.targetId,D)).next(()=>Z.forEach(R.Ji,D=>T.persistence.referenceDelegate.removeReference(b,R.targetId,D)))))}catch(b){if(!Oo(b))throw b;ue(wp,"Failed to update sequence numbers: "+b)}for(const b of _){const R=b.targetId;if(!b.fromCache){const D=T.Ts.get(R),j=D.snapshotVersion,Y=D.withLastLimboFreeSnapshotVersion(j);T.Ts=T.Ts.insert(R,Y)}}}(s.localStore,u))}async function jx(r,e){const n=Ae(r);if(!n.currentUser.isEqual(e)){ue(Np,"User change. New user:",e.toKey());const s=await mT(n.localStore,e);n.currentUser=e,function(u,f){u.Ga.forEach(m=>{m.forEach(p=>{p.reject(new me(ee.CANCELLED,f))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await vu(n,s.Rs)}}function Lx(r,e){const n=Ae(r),s=n.Ka.get(e);if(s&&s.Ba)return Pe().add(s.key);{let o=Pe();const u=n.qa.get(e);if(!u)return o;for(const f of u){const m=n.ka.get(f);o=o.unionWith(m.view.ba)}return o}}function PT(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=NT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Lx.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Mx.bind(null,e),e.La.p_=Tx.bind(null,e.eventManager),e.La.Ja=wx.bind(null,e.eventManager),e}function Ux(r){const e=Ae(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Px.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kx.bind(null,e),e}class Rh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=$h(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return qI(this.persistence,new zI,e.initialUser,this.serializer)}Xa(e){return new dT(Ep.ri,this.serializer)}Za(e){return new XI}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rh.provider={build:()=>new Rh};class zx extends Rh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ke(this.persistence.referenceDelegate instanceof bh);const s=this.persistence.referenceDelegate.garbageCollector;return new AI(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new dT(s=>bh.ri(s,n),this.serializer)}}class Gm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>hE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=jx.bind(null,this.syncEngine),await yx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Ex}()}createDatastore(e){const n=$h(e.databaseInfo.databaseId),s=function(u){return new tx(u)}(e.databaseInfo);return function(u,f,m,p){return new sx(u,f,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,f,m){return new ox(s,o,u,f,m)}(this.localStore,this.datastore,e.asyncQueue,n=>hE(this.syncEngine,n,0),function(){return sE.D()?new sE:new WI}())}createSyncEngine(e,n){return function(o,u,f,m,p,_,T){const b=new Rx(o,u,f,m,p,_);return T&&(b.ja=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Ae(o);ue(ua,"RemoteStore shutting down."),u.W_.add(5),await yu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Gm.provider={build:()=>new Gm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts="FirestoreClient";class Bx{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=A0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async f=>{ue(Ts,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f}),this.appCheckCredentials.start(s,f=>(ue(Ts,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Ip(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Em(r,e){r.asyncQueue.verifyOperationInProgress(),ue(Ts,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await mT(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function dE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await Hx(r);ue(Ts,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>oE(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>oE(e.remoteStore,o)),r._onlineComponents=e}async function Hx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ue(Ts,"Using user provided OfflineComponentProvider");try{await Em(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ee.FAILED_PRECONDITION||o.code===ee.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;vo("Error using user provided cache. Falling back to memory cache: "+n),await Em(r,new Rh)}}else ue(Ts,"Using default OfflineComponentProvider"),await Em(r,new zx(void 0));return r._offlineComponents}async function VT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ue(Ts,"Using user provided OnlineComponentProvider"),await dE(r,r._uninitializedComponentsProvider._online)):(ue(Ts,"Using default OnlineComponentProvider"),await dE(r,new Gm))),r._onlineComponents}function qx(r){return VT(r).then(e=>e.syncEngine)}async function jT(r){const e=await VT(r),n=e.eventManager;return n.onListen=Cx.bind(null,e.syncEngine),n.onUnlisten=Nx.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Ix.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Dx.bind(null,e.syncEngine),n}function Fx(r,e,n={}){const s=new hr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,_){const T=new kT({next:R=>{T.su(),f.enqueueAndForget(()=>AT(u,b));const D=R.docs.has(m);!D&&R.fromCache?_.reject(new me(ee.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&R.fromCache&&p&&p.source==="server"?_.reject(new me(ee.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(R)},error:R=>_.reject(R)}),b=new RT(dp(m.path),T,{includeMetadataChanges:!0,Ta:!0});return bT(u,b)}(await jT(r),r.asyncQueue,e,n,s)),s.promise}function Gx(r,e,n={}){const s=new hr;return r.asyncQueue.enqueueAndForget(async()=>function(u,f,m,p,_){const T=new kT({next:R=>{T.su(),f.enqueueAndForget(()=>AT(u,b)),R.fromCache&&p.source==="server"?_.reject(new me(ee.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(R)},error:R=>_.reject(R)}),b=new RT(m,T,{includeMetadataChanges:!0,Ta:!0});return bT(u,b)}(await jT(r),r.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LT(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(r,e,n){if(!n)throw new me(ee.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function $x(r,e,n,s){if(e===!0&&s===!0)throw new me(ee.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function pE(r){if(!ye.isDocumentKey(r))throw new me(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function gE(r){if(ye.isDocumentKey(r))throw new me(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Op(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":we()}function ii(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new me(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Op(r);throw new me(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT="firestore.googleapis.com",_E=!0;class yE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new me(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zT,this.ssl=_E}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:_E;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<SI)throw new me(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$x("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LT((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new me(ee.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new yE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new me(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new me(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new yE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new eC;switch(s.type){case"firstParty":return new rC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new me(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=mE.get(n);s&&(ue("ComponentProvider","Removing Datastore"),mE.delete(n),s.terminate())}(this),Promise.resolve()}}function Kx(r,e,n,s={}){var o;const u=(r=ii(r,Yh))._getSettings(),f=Object.assign(Object.assign({},u),{emulatorOptions:r._getEmulatorOptions()}),m=`${e}:${n}`;u.host!==zT&&u.host!==m&&vo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:m,ssl:!1,emulatorOptions:s});if(!ps(p,f)&&(r._setSettings(p),s.mockUserToken)){let _,T;if(typeof s.mockUserToken=="string")_=s.mockUserToken,T=en.MOCK_USER;else{_=xR(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new me(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new en(b)}r._authCredentials=new tC(new b0(_,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Xh(this.firestore,e,this._query)}}class Tn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tn(this.firestore,e,this._key)}}class ms extends Xh{constructor(e,n,s){super(e,n,dp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tn(this.firestore,null,new ye(e))}withConverter(e){return new ms(this.firestore,e,this._path)}}function Wh(r,e,...n){if(r=rn(r),UT("collection","path",e),r instanceof Yh){const s=tt.fromString(e,...n);return gE(s),new ms(r,null,s)}{if(!(r instanceof Tn||r instanceof ms))throw new me(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return gE(s),new ms(r.firestore,null,s)}}function ai(r,e,...n){if(r=rn(r),arguments.length===1&&(e=A0.newId()),UT("doc","path",e),r instanceof Yh){const s=tt.fromString(e,...n);return pE(s),new Tn(r,null,new ye(s))}{if(!(r instanceof Tn||r instanceof ms))throw new me(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(tt.fromString(e,...n));return pE(s),new Tn(r.firestore,r instanceof ms?r.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE="AsyncQueue";class EE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new gT(this,"async_queue_retry"),this.bu=()=>{const s=vm();s&&ue(vE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.Su=e;const n=vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.bu)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.bu)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new hr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Oo(e))throw e;ue(vE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.Su.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(f){let m=f.message||"";return f.stack&&(m=f.stack.includes(f.message)?f.stack:f.message+`
`+f.stack),m}(s);throw pr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.Su=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=Cp.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&we()}verifyOperationInProgress(){}async Mu(){let e;do e=this.Su,await e;while(e!==this.Su)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}class ma extends Yh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new EE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new EE(e),this._firestoreClient=void 0,await e}}}function Qx(r,e){const n=typeof r=="object"?r:p0(),s=typeof r=="string"?r:yh,o=ap(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=CR("firestore");u&&Kx(o,...u)}return o}function Mp(r){if(r._terminated)throw new me(ee.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Yx(r),r._firestoreClient}function Yx(r){var e,n,s;const o=r._freezeSettings(),u=function(m,p,_,T){return new yC(m,p,_,T.host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,LT(T.experimentalLongPollingOptions),T.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new Bx(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ro(Qt.fromBase64String(e))}catch(n){throw new me(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ro(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new me(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new me(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new me(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xx=/^__.*__$/;class Wx{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms):new gu(e,this.data,n,this.fieldTransforms)}}class BT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Ss(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function HT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class Jh{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Jh(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Ku(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Ch(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(HT(this.Lu)&&Xx.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Zx{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||$h(e)}ju(e,n,s,o=!1){return new Jh({Lu:e,methodName:n,zu:s,path:Kt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vp(r){const e=r._freezeSettings(),n=$h(r._databaseId);return new Zx(r._databaseId,!!e.ignoreUndefinedProperties,n)}function qT(r,e,n,s,o,u={}){const f=r.ju(u.merge||u.mergeFields?2:0,e,n,o);Up("Data must be an object, but it was:",f,s);const m=FT(s,f);let p,_;if(u.merge)p=new Dn(f.fieldMask),_=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const R=$m(e,b,n);if(!f.contains(R))throw new me(ee.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);$T(T,R)||T.push(R)}p=new Dn(T),_=f.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,_=f.fieldTransforms;return new Wx(new En(m),p,_)}class ef extends Eu{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ef}}function Jx(r,e,n){return new Jh({Lu:3,zu:e.settings.zu,methodName:r._methodName,Qu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class jp extends Eu{constructor(e,n){super(e),this.Hu=n}_toFieldTransform(e){const n=Jx(this,e,!0),s=this.Hu.map(u=>Tu(u,n)),o=new So(s);return new J0(e.path,o)}isEqual(e){return e instanceof jp&&ps(this.Hu,e.Hu)}}class Lp extends Eu{constructor(e,n){super(e),this.Ju=n}_toFieldTransform(e){const n=new lu(e.serializer,Q0(e.serializer,this.Ju));return new J0(e.path,n)}isEqual(e){return e instanceof Lp&&this.Ju===e.Ju}}function eN(r,e,n,s){const o=r.ju(1,e,n);Up("Data must be an object, but it was:",o,s);const u=[],f=En.empty();ws(s,(p,_)=>{const T=zp(e,p,n);_=rn(_);const b=o.Ku(T);if(_ instanceof ef)u.push(T);else{const R=Tu(_,b);R!=null&&(u.push(T),f.set(T,R))}});const m=new Dn(u);return new BT(f,m,o.fieldTransforms)}function tN(r,e,n,s,o,u){const f=r.ju(1,e,n),m=[$m(e,s,n)],p=[o];if(u.length%2!=0)throw new me(ee.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<u.length;R+=2)m.push($m(e,u[R])),p.push(u[R+1]);const _=[],T=En.empty();for(let R=m.length-1;R>=0;--R)if(!$T(_,m[R])){const D=m[R];let j=p[R];j=rn(j);const Y=f.Ku(D);if(j instanceof ef)_.push(D);else{const q=Tu(j,Y);q!=null&&(_.push(D),T.set(D,q))}}const b=new Dn(_);return new BT(T,b,f.fieldTransforms)}function Tu(r,e){if(GT(r=rn(r)))return Up("Unsupported field value:",e,r),FT(r,e);if(r instanceof Eu)return function(s,o){if(!HT(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let f=0;for(const m of s){let p=Tu(m,o.Uu(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=rn(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Q0(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Dt.fromDate(s);return{timestampValue:Sh(o.serializer,u)}}if(s instanceof Dt){const u=new Dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Sh(o.serializer,u)}}if(s instanceof Pp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ro)return{bytesValue:sT(o.serializer,s._byteString)};if(s instanceof Tn){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Wu(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:yp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof kp)return function(f,m){return{mapValue:{fields:{[M0]:{stringValue:P0},[vh]:{arrayValue:{values:f.toArray().map(_=>{if(typeof _!="number")throw m.Wu("VectorValues must only contain numeric values.");return mp(m.serializer,_)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${Op(s)}`)}(r,e)}function FT(r,e){const n={};return C0(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(r,(s,o)=>{const u=Tu(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function GT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Dt||r instanceof Pp||r instanceof Ro||r instanceof Tn||r instanceof Eu||r instanceof kp)}function Up(r,e,n){if(!GT(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=Op(n);throw s==="an object"?e.Wu(r+" a custom object"):e.Wu(r+" "+s)}}function $m(r,e,n){if((e=rn(e))instanceof Zh)return e._internalPath;if(typeof e=="string")return zp(r,e);throw Ch("Field path arguments must be of type string or ",r,!1,void 0,n)}const nN=new RegExp("[~\\*/\\[\\]]");function zp(r,e,n){if(e.search(nN)>=0)throw Ch(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Zh(...e.split("."))._internalPath}catch{throw Ch(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Ch(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${o}`),p+=")"),new me(ee.INVALID_ARGUMENT,m+r+p)}function $T(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Tn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(QT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iN extends KT{data(){return super.data()}}function QT(r,e){return typeof e=="string"?zp(r,e):e instanceof Zh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new me(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class sN{convertValue(e,n="none"){switch(vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ys(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ws(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[vh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(f=>pt(f.doubleValue));return new kp(u)}convertGeoPoint(e){return new Pp(pt(e.latitude),pt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Uh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(ru(e));default:return null}}convertTimestamp(e){const n=_s(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=tt.fromString(e);Ke(hT(s));const o=new su(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||pr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class XT extends KT{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new uh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(QT("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class uh extends XT{data(e={}){return super.data(e)}}class aN{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Yl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new uh(this._firestore,this._userDataWriter,s.key,s,new Yl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new me(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(m=>{const p=new uh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Yl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}})}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new uh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Yl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,T=-1;return m.type!==0&&(_=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:oN(m.type),doc:p,oldIndex:_,newIndex:T}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function oN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(r){r=ii(r,Tn);const e=ii(r.firestore,ma);return Fx(Mp(e),r._key).then(n=>cN(e,r,n))}class ZT extends sN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ro(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Tn(this.firestore,null,n)}}function Bp(r){r=ii(r,Xh);const e=ii(r.firestore,ma),n=Mp(e),s=new ZT(e);return rN(r._query),Gx(n,r._query).then(o=>new aN(e,s,r,o))}function JT(r,e,n){r=ii(r,Tn);const s=ii(r.firestore,ma),o=YT(r.converter,e);return tf(s,[qT(Vp(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Xn.none())])}function wu(r,e,n,...s){r=ii(r,Tn);const o=ii(r.firestore,ma),u=Vp(o);let f;return f=typeof(e=rn(e))=="string"||e instanceof Zh?tN(u,"updateDoc",r._key,e,n,s):eN(u,"updateDoc",r._key,e),tf(o,[f.toMutation(r._key,Xn.exists(!0))])}function lN(r){return tf(ii(r.firestore,ma),[new pp(r._key,Xn.none())])}function uN(r,e){const n=ii(r.firestore,ma),s=ai(r),o=YT(r.converter,e);return tf(n,[qT(Vp(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Xn.exists(!1))]).then(()=>s)}function tf(r,e){return function(s,o){const u=new hr;return s.asyncQueue.enqueueAndForget(async()=>Ox(await qx(s),o,u)),u.promise}(Mp(r),e)}function cN(r,e,n){const s=n.docs.get(e._key),o=new ZT(r);return new XT(r,o,e._key,s,new Yl(n.hasPendingWrites,n.fromCache),e.converter)}function ew(...r){return new jp("arrayUnion",r)}function Hp(r){return new Lp("increment",r)}(function(e,n=!0){(function(o){No=o})(xo),yo(new oa("firestore",(s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ma(new nC(s.getProvider("auth-internal")),new sC(f,s.getProvider("app-check-internal")),function(_,T){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new me(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new su(_.options.projectId,T)}(f,o),f);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),fs(Cv,Iv,e),fs(Cv,Iv,"esm2017")})();function qp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function tw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const hN=tw,nw=new mu("auth","Firebase",tw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ih=new rp("@firebase/auth");function fN(r,...e){Ih.logLevel<=Me.WARN&&Ih.warn(`Auth (${xo}): ${r}`,...e)}function ch(r,...e){Ih.logLevel<=Me.ERROR&&Ih.error(`Auth (${xo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(r,...e){throw Fp(r,...e)}function Ci(r,...e){return Fp(r,...e)}function iw(r,e,n){const s=Object.assign(Object.assign({},hN()),{[e]:n});return new mu("auth","Firebase",s).create(e,{appName:r.name})}function fr(r){return iw(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Fp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return nw.create(r,...e)}function Ee(r,e,...n){if(!r)throw Fp(e,...n)}function or(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ch(e),new Error(e)}function _r(r,e){r||or(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Km(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function dN(){return TE()==="http:"||TE()==="https:"}function TE(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(dN()||MR()||"connection"in navigator)?navigator.onLine:!0}function pN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n){this.shortDelay=e,this.longDelay=n,_r(n>e,"Short delay should be less than long delay!"),this.isMobile=NR()||PR()}get(){return mN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gp(r,e){_r(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;or("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;or("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;or("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _N=new Su(3e4,6e4);function bs(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function As(r,e,n,s,o={}){return sw(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=pu(Object.assign({key:r.config.apiKey},f)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const _=Object.assign({method:e,headers:p},u);return OR()||(_.referrerPolicy="no-referrer"),rw.fetch()(aw(r,r.config.apiHost,n,m),_)})}async function sw(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},gN),e);try{const o=new vN(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw eh(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,_]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw eh(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw eh(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw eh(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw iw(r,T,_);ri(r,T)}}catch(o){if(o instanceof vr)throw o;ri(r,"network-request-failed",{message:String(o)})}}async function bu(r,e,n,s,o={}){const u=await As(r,e,n,s,o);return"mfaPendingCredential"in u&&ri(r,"multi-factor-auth-required",{_serverResponse:u}),u}function aw(r,e,n,s){const o=`${e}${n}?${s}`;return r.config.emulator?Gp(r.config,o):`${r.config.apiScheme}://${o}`}function yN(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class vN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ci(this.auth,"network-request-failed")),_N.get())})}}function eh(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ci(r,e,s);return o.customData._tokenResponse=n,o}function wE(r){return r!==void 0&&r.enterprise!==void 0}class EN{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return yN(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function TN(r,e){return As(r,"GET","/v2/recaptchaConfig",bs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wN(r,e){return As(r,"POST","/v1/accounts:delete",e)}async function ow(r,e){return As(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eu(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function SN(r,e=!1){const n=rn(r),s=await n.getIdToken(e),o=$p(s);Ee(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:eu(Tm(o.auth_time)),issuedAtTime:eu(Tm(o.iat)),expirationTime:eu(Tm(o.exp)),signInProvider:f||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Tm(r){return Number(r)*1e3}function $p(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return ch("JWT malformed, contained fewer than 3 sections"),null;try{const o=l0(n);return o?JSON.parse(o):(ch("Failed to decode base64 JWT payload"),null)}catch(o){return ch("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function SE(r){const e=$p(r);return Ee(e,"internal-error"),Ee(typeof e.exp<"u","internal-error"),Ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof vr&&bN(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function bN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=eu(this.lastLoginAt),this.creationTime=eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await uu(r,ow(n,{idToken:s}));Ee(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const f=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?lw(u.providerUserInfo):[],m=CN(r.providerData,f),p=r.isAnonymous,_=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),T=p?_:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Qm(u.createdAt,u.lastLoginAt),isAnonymous:T};Object.assign(r,b)}async function RN(r){const e=rn(r);await xh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function CN(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function lw(r){return r.map(e=>{var{providerId:n}=e,s=qp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(r,e){const n=await sw(r,{},async()=>{const s=pu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=aw(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",rw.fetch()(f,{method:"POST",headers:m,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function xN(r,e){return As(r,"POST","/v2/accounts:revokeToken",bs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ee(e.idToken,"internal-error"),Ee(typeof e.idToken<"u","internal-error"),Ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):SE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ee(e.length!==0,"internal-error");const n=SE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await IN(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new po;return s&&(Ee(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Ee(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Ee(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new po,this.toJSON())}_performRefresh(){return or("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(r,e){Ee(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class lr{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=qp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new AN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Qm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await uu(this,this.stsTokenManager.getToken(this.auth,e));return Ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return SN(this,e)}reload(){return RN(this)}_assign(e){this!==e&&(Ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new lr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await xh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yn(this.auth.app))return Promise.reject(fr(this.auth));const e=await this.getIdToken();return await uu(this,wN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,f,m,p,_,T;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,R=(o=n.email)!==null&&o!==void 0?o:void 0,D=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,j=(f=n.photoURL)!==null&&f!==void 0?f:void 0,Y=(m=n.tenantId)!==null&&m!==void 0?m:void 0,q=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,$=(_=n.createdAt)!==null&&_!==void 0?_:void 0,te=(T=n.lastLoginAt)!==null&&T!==void 0?T:void 0,{uid:K,emailVerified:re,isAnonymous:se,providerData:he,stsTokenManager:M}=n;Ee(K&&M,e,"internal-error");const C=po.fromJSON(this.name,M);Ee(typeof K=="string",e,"internal-error"),is(b,e.name),is(R,e.name),Ee(typeof re=="boolean",e,"internal-error"),Ee(typeof se=="boolean",e,"internal-error"),is(D,e.name),is(j,e.name),is(Y,e.name),is(q,e.name),is($,e.name),is(te,e.name);const A=new lr({uid:K,auth:e,email:R,emailVerified:re,displayName:b,isAnonymous:se,photoURL:j,phoneNumber:D,tenantId:Y,stsTokenManager:C,createdAt:$,lastLoginAt:te});return he&&Array.isArray(he)&&(A.providerData=he.map(x=>Object.assign({},x))),q&&(A._redirectEventId=q),A}static async _fromIdTokenResponse(e,n,s=!1){const o=new po;o.updateFromServerResponse(n);const u=new lr({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await xh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Ee(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?lw(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new po;m.updateFromIdToken(s);const p=new lr({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:f}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Qm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,_),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE=new Map;function ur(r){_r(r instanceof Function,"Expected a class definition");let e=bE.get(r);return e?(_r(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,bE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}uw.type="NONE";const AE=uw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(r,e,n){return`firebase:${r}:${e}:${n}`}class go{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=hh(this.userKey,o.apiKey,u),this.fullPersistenceKey=hh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?lr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new go(ur(AE),e,s);const o=(await Promise.all(n.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let u=o[0]||ur(AE);const f=hh(s,e.config.apiKey,e.name);let m=null;for(const _ of n)try{const T=await _._get(f);if(T){const b=lr._fromJSON(e,T);_!==u&&(m=b),u=_;break}}catch{}const p=o.filter(_=>_._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new go(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async _=>{if(_!==u)try{await _._remove(f)}catch{}})),new go(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(cw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pw(e))return"Blackberry";if(gw(e))return"Webos";if(hw(e))return"Safari";if((e.includes("chrome/")||fw(e))&&!e.includes("edge/"))return"Chrome";if(mw(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function cw(r=nn()){return/firefox\//i.test(r)}function hw(r=nn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function fw(r=nn()){return/crios\//i.test(r)}function dw(r=nn()){return/iemobile/i.test(r)}function mw(r=nn()){return/android/i.test(r)}function pw(r=nn()){return/blackberry/i.test(r)}function gw(r=nn()){return/webos/i.test(r)}function Kp(r=nn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function NN(r=nn()){var e;return Kp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function DN(){return kR()&&document.documentMode===10}function _w(r=nn()){return Kp(r)||mw(r)||gw(r)||pw(r)||/windows phone/i.test(r)||dw(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(r,e=[]){let n;switch(r){case"Browser":n=RE(nn());break;case"Worker":n=`${RE(nn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${xo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MN(r,e={}){return As(r,"GET","/v2/passwordPolicy",bs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PN=6;class kN{constructor(e){var n,s,o,u;const f=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=f.minPasswordLength)!==null&&n!==void 0?n:PN,f.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=f.maxPasswordLength),f.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=f.containsLowercaseCharacter),f.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=f.containsUppercaseCharacter),f.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=f.containsNumericCharacter),f.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=f.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,f,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(f=p.containsNumericCharacter)!==null&&f!==void 0?f:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CE(this),this.idTokenSubscription=new CE(this),this.beforeStateQueue=new ON(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ur(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await go.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await ow(this,{idToken:e}),s=await lr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Yn(this.app)){const f=this.app.settings.authIdToken;return f?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(f).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const f=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!f||f===m)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(f){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(f))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await xh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yn(this.app))return Promise.reject(fr(this));const n=e?rn(e):null;return n&&Ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yn(this.app)?Promise.reject(fr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yn(this.app)?Promise.reject(fr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ur(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await MN(this),n=new kN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new mu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await xN(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ur(e)||this._popupRedirectResolver;Ee(n,this,"argument-error"),this.redirectPersistenceManager=await go.create(this,[ur(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ee(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&fN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function pa(r){return rn(r)}class CE{constructor(e){this.auth=e,this.observer=null,this.addObserver=qR(n=>this.observer=n)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function jN(r){nf=r}function vw(r){return nf.loadJS(r)}function LN(){return nf.recaptchaEnterpriseScript}function UN(){return nf.gapiScript}function zN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class BN{constructor(){this.enterprise=new HN}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class HN{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const qN="recaptcha-enterprise",Ew="NO_RECAPTCHA";class FN{constructor(e){this.type=qN,this.auth=pa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{TN(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const _=new EN(p);return u.tenantId==null?u._agentRecaptchaConfig=_:u._tenantRecaptchaConfigs[u.tenantId]=_,f(_.siteKey)}}).catch(p=>{m(p)})})}function o(u,f,m){const p=window.grecaptcha;wE(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(_=>{f(_)}).catch(()=>{f(Ew)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new BN().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&wE(window.grecaptcha))o(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=LN();p.length!==0&&(p+=m),vw(p).then(()=>{o(m,u,f)}).catch(_=>{f(_)})}}).catch(m=>{f(m)})})}}async function IE(r,e,n,s=!1,o=!1){const u=new FN(r);let f;if(o)f=Ew;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,_=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:_,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Ym(r,e,n,s,o){var u;if(!((u=r._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const f=await IE(r,e,n,n==="getOobCode");return s(r,f)}else return s(r,e).catch(async f=>{if(f.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await IE(r,e,n,n==="getOobCode");return s(r,m)}else return Promise.reject(f)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GN(r,e){const n=ap(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ps(u,e??{}))return o;ri(o,"already-initialized")}return n.initialize({options:e})}function $N(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(ur);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function KN(r,e,n){const s=pa(r);Ee(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=Tw(e),{host:f,port:m}=QN(e),p=m===null?"":`:${m}`,_={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ee(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ee(ps(_,s.config.emulator)&&ps(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,YN()}function Tw(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function QN(r){const e=Tw(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:xE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:xE(f)}}}function xE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function YN(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return or("not implemented")}_getIdTokenResponse(e){return or("not implemented")}_linkToIdToken(e,n){return or("not implemented")}_getReauthenticationResolver(e){return or("not implemented")}}async function XN(r,e){return As(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WN(r,e){return bu(r,"POST","/v1/accounts:signInWithPassword",bs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZN(r,e){return bu(r,"POST","/v1/accounts:signInWithEmailLink",bs(r,e))}async function JN(r,e){return bu(r,"POST","/v1/accounts:signInWithEmailLink",bs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu extends Qp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new cu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new cu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ym(e,n,"signInWithPassword",WN);case"emailLink":return ZN(e,{email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ym(e,s,"signUpPassword",XN);case"emailLink":return JN(e,{idToken:n,email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _o(r,e){return bu(r,"POST","/v1/accounts:signInWithIdp",bs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD="http://localhost";class ca extends Qp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ca(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ri("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=qp(n,["providerId","signInMethod"]);if(!s||!o)return null;const f=new ca(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return _o(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,_o(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,_o(e,n)}buildRequest(){const e={requestUri:eD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=pu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tD(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function nD(r){const e=Fl(Gl(r)).link,n=e?Fl(Gl(e)).deep_link_id:null,s=Fl(Gl(r)).deep_link_id;return(s?Fl(Gl(s)).link:null)||s||n||e||r}class Yp{constructor(e){var n,s,o,u,f,m;const p=Fl(Gl(e)),_=(n=p.apiKey)!==null&&n!==void 0?n:null,T=(s=p.oobCode)!==null&&s!==void 0?s:null,b=tD((o=p.mode)!==null&&o!==void 0?o:null);Ee(_&&T&&b,"argument-error"),this.apiKey=_,this.operation=b,this.code=T,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(f=p.languageCode)!==null&&f!==void 0?f:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=nD(e);try{return new Yp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(){this.providerId=Po.PROVIDER_ID}static credential(e,n){return cu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Yp.parseLink(n);return Ee(s,"argument-error"),cu._fromEmailAndCode(e,s.code,s.tenantId)}}Po.PROVIDER_ID="password";Po.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Po.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends ww{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss extends Au{constructor(){super("facebook.com")}static credential(e){return ca._fromParams({providerId:ss.PROVIDER_ID,signInMethod:ss.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ss.credentialFromTaggedObject(e)}static credentialFromError(e){return ss.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ss.credential(e.oauthAccessToken)}catch{return null}}}ss.FACEBOOK_SIGN_IN_METHOD="facebook.com";ss.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class as extends Au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ca._fromParams({providerId:as.PROVIDER_ID,signInMethod:as.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return as.credentialFromTaggedObject(e)}static credentialFromError(e){return as.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return as.credential(n,s)}catch{return null}}}as.GOOGLE_SIGN_IN_METHOD="google.com";as.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os extends Au{constructor(){super("github.com")}static credential(e){return ca._fromParams({providerId:os.PROVIDER_ID,signInMethod:os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return os.credentialFromTaggedObject(e)}static credentialFromError(e){return os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return os.credential(e.oauthAccessToken)}catch{return null}}}os.GITHUB_SIGN_IN_METHOD="github.com";os.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls extends Au{constructor(){super("twitter.com")}static credential(e,n){return ca._fromParams({providerId:ls.PROVIDER_ID,signInMethod:ls.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ls.credentialFromTaggedObject(e)}static credentialFromError(e){return ls.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ls.credential(n,s)}catch{return null}}}ls.TWITTER_SIGN_IN_METHOD="twitter.com";ls.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iD(r,e){return bu(r,"POST","/v1/accounts:signUp",bs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await lr._fromIdTokenResponse(e,s,o),f=NE(s);return new ha({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=NE(s);return new ha({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function NE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends vr{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Nh(e,n,s,o)}}function Sw(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(r,u,e,s):u})}async function rD(r,e,n=!1){const s=await uu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ha._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sD(r,e,n=!1){const{auth:s}=r;if(Yn(s.app))return Promise.reject(fr(s));const o="reauthenticate";try{const u=await uu(r,Sw(s,o,e,r),n);Ee(u.idToken,s,"internal-error");const f=$p(u.idToken);Ee(f,s,"internal-error");const{sub:m}=f;return Ee(r.uid===m,s,"user-mismatch"),ha._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ri(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bw(r,e,n=!1){if(Yn(r.app))return Promise.reject(fr(r));const s="signIn",o=await Sw(r,s,e),u=await ha._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function aD(r,e){return bw(pa(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Aw(r){const e=pa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function oD(r,e,n){if(Yn(r.app))return Promise.reject(fr(r));const s=pa(r),f=await Ym(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",iD).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&Aw(r),p}),m=await ha._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function lD(r,e,n){return Yn(r.app)?Promise.reject(fr(r)):aD(rn(r),Po.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&Aw(r),s})}function uD(r,e,n,s){return rn(r).onIdTokenChanged(e,n,s)}function cD(r,e,n){return rn(r).beforeAuthStateChanged(e,n)}function hD(r){return rn(r).signOut()}const Dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fD=1e3,dD=10;class Cw extends Rw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=_w(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);DN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,dD):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},fD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Cw.type="LOCAL";const mD=Cw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw extends Rw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Iw.type="SESSION";const xw=Iw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new rf(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!(f!=null&&f.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(f).map(async _=>_(n.origin,u)),p=await pD(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const _=Xp("",20);o.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(b){const R=b;if(R.data.eventId===_)switch(R.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(R.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:_,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(){return window}function _D(r){Ii().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function yD(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vD(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function ED(){return Nw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="firebaseLocalStorageDb",TD=1,Oh="firebaseLocalStorage",Ow="fbase_key";class Ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sf(r,e){return r.transaction([Oh],e?"readwrite":"readonly").objectStore(Oh)}function wD(){const r=indexedDB.deleteDatabase(Dw);return new Ru(r).toPromise()}function Xm(){const r=indexedDB.open(Dw,TD);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Oh,{keyPath:Ow})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Oh)?e(s):(s.close(),await wD(),e(await Xm()))})})}async function DE(r,e,n){const s=sf(r,!0).put({[Ow]:e,value:n});return new Ru(s).toPromise()}async function SD(r,e){const n=sf(r,!1).get(e),s=await new Ru(n).toPromise();return s===void 0?null:s.value}function OE(r,e){const n=sf(r,!0).delete(e);return new Ru(n).toPromise()}const bD=800,AD=3;class Mw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Xm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>AD)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Nw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rf._getInstance(ED()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await yD(),!this.activeServiceWorker)return;this.sender=new gD(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||vD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Xm();return await DE(e,Dh,"1"),await OE(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>DE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>SD(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>OE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=sf(o,!1).getAll();return new Ru(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Mw.type="LOCAL";const RD=Mw;new Su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(r,e){return e?ur(e):(Ee(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp extends Qp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return _o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return _o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return _o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ID(r){return bw(r.auth,new Wp(r),r.bypassAuthState)}function xD(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),sD(n,new Wp(r),r.bypassAuthState)}async function ND(r){const{auth:e,user:n}=r;return Ee(n,e,"internal-error"),rD(n,new Wp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(_){this.reject(_)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ID;case"linkViaPopup":case"linkViaRedirect":return ND;case"reauthViaPopup":case"reauthViaRedirect":return xD;default:ri(this.auth,"internal-error")}}resolve(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){_r(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD=new Su(2e3,1e4);class fo extends Pw{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,fo.currentPopupAction&&fo.currentPopupAction.cancel(),fo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ee(e,this.auth,"internal-error"),e}async onExecution(){_r(this.filter.length===1,"Popup operations only handle one event");const e=Xp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,fo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,DD.get())};e()}}fo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="pendingRedirect",fh=new Map;class MD extends Pw{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=fh.get(this.auth._key());if(!e){try{const s=await PD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}fh.set(this.auth._key(),e)}return this.bypassAuthState||fh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PD(r,e){const n=jD(e),s=VD(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function kD(r,e){fh.set(r._key(),e)}function VD(r){return ur(r._redirectPersistence)}function jD(r){return hh(OD,r.config.apiKey,r.name)}async function LD(r,e,n=!1){if(Yn(r.app))return Promise.reject(fr(r));const s=pa(r),o=CD(s,e),f=await new MD(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UD=10*60*1e3;class zD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BD(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!kw(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ci(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UD&&this.cachedEventUids.clear(),this.cachedEventUids.has(ME(e))}saveEventToCache(e){this.cachedEventUids.add(ME(e)),this.lastProcessedEventTime=Date.now()}}function ME(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function kw({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function BD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kw(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HD(r,e={}){return As(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FD=/^https?/;async function GD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await HD(r);for(const n of e)try{if($D(n))return}catch{}ri(r,"unauthorized-domain")}function $D(r){const e=Km(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!FD.test(n))return!1;if(qD.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD=new Su(3e4,6e4);function PE(){const r=Ii().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function QD(r){return new Promise((e,n)=>{var s,o,u;function f(){PE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{PE(),n(Ci(r,"network-request-failed"))},timeout:KD.get()})}if(!((o=(s=Ii().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ii().gapi)===null||u===void 0)&&u.load)f();else{const m=zN("iframefcb");return Ii()[m]=()=>{gapi.load?f():n(Ci(r,"network-request-failed"))},vw(`${UN()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw dh=null,e})}let dh=null;function YD(r){return dh=dh||QD(r),dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD=new Su(5e3,15e3),WD="__/auth/iframe",ZD="emulator/auth/iframe",JD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},e2=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t2(r){const e=r.config;Ee(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Gp(e,ZD):`https://${r.config.authDomain}/${WD}`,s={apiKey:e.apiKey,appName:r.name,v:xo},o=e2.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${pu(s).slice(1)}`}async function n2(r){const e=await YD(r),n=Ii().gapi;return Ee(n,r,"internal-error"),e.open({where:document.body,url:t2(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:JD,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Ci(r,"network-request-failed"),m=Ii().setTimeout(()=>{u(f)},XD.get());function p(){Ii().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},r2=500,s2=600,a2="_blank",o2="http://localhost";class kE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function l2(r,e,n,s=r2,o=s2){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},i2),{width:s.toString(),height:o.toString(),top:u,left:f}),_=nn().toLowerCase();n&&(m=fw(_)?a2:n),cw(_)&&(e=e||o2,p.scrollbars="yes");const T=Object.entries(p).reduce((R,[D,j])=>`${R}${D}=${j},`,"");if(NN(_)&&m!=="_self")return u2(e||"",m),new kE(null);const b=window.open(e||"",m,T);Ee(b,r,"popup-blocked");try{b.focus()}catch{}return new kE(b)}function u2(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="__/auth/handler",h2="emulator/auth/handler",f2=encodeURIComponent("fac");async function VE(r,e,n,s,o,u){Ee(r.config.authDomain,r,"auth-domain-config-required"),Ee(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:xo,eventId:o};if(e instanceof ww){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",HR(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))f[T]=b}if(e instanceof Au){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),_=p?`#${f2}=${encodeURIComponent(p)}`:"";return`${d2(r)}?${pu(m).slice(1)}${_}`}function d2({config:r}){return r.emulator?Gp(r,h2):`https://${r.authDomain}/${c2}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="webStorageSupport";class m2{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xw,this._completeRedirectFn=LD,this._overrideRedirectResult=kD}async _openPopup(e,n,s,o){var u;_r((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const f=await VE(e,n,s,Km(),o);return l2(e,f,Xp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await VE(e,n,s,Km(),o);return _D(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(_r(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await n2(e),s=new zD(e);return n.register("authEvent",o=>(Ee(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(wm,{type:wm},o=>{var u;const f=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[wm];f!==void 0&&n(!!f),ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=GD(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return _w()||hw()||Kp()}}const p2=m2;var jE="@firebase/auth",LE="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function y2(r){yo(new oa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;Ee(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yw(r)},_=new VN(s,o,u,p);return $N(_,n),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),yo(new oa("auth-internal",e=>{const n=pa(e.getProvider("auth").getImmediate());return(s=>new g2(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),fs(jE,LE,_2(r)),fs(jE,LE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=5*60,E2=h0("authIdTokenMaxAge")||v2;let UE=null;const T2=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>E2)return;const o=n==null?void 0:n.token;UE!==o&&(UE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function w2(r=p0()){const e=ap(r,"auth");if(e.isInitialized())return e.getImmediate();const n=GN(r,{popupRedirectResolver:p2,persistence:[RD,mD,xw]}),s=h0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=T2(u.toString());cD(n,f,()=>f(n.currentUser)),uD(n,m=>f(m))}}const o=u0("auth");return o&&KN(n,`http://${o}`),n}function S2(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}jN({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Ci("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",S2().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});y2("Browser");var b2="firebase",A2="11.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fs(b2,A2,"app");const R2={apiKey:"AIzaSyCSjbxL9N2DMxDdY5VYHIgSS8xcEXT54xE",authDomain:"my-first-project-7cbf9.firebaseapp.com",databaseURL:"https://my-first-project-7cbf9-default-rtdb.europe-west1.firebasedatabase.app",projectId:"my-first-project-7cbf9",storageBucket:"my-first-project-7cbf9.firebasestorage.app",messagingSenderId:"424606795900",appId:"1:424606795900:web:61a3a0683433959a3da1f9"},Vw=m0(R2),wn=Qx(Vw),Zp=w2(Vw);function C2(){const r=z.useRef(),[e,n]=z.useState([]),[s,o]=z.useState([]),u=z.useRef(!1),f=()=>{const m=r.current.value.trim().toLowerCase();if(r.current.value="",m==="")o(e);else{const p=e.filter(_=>{var T;return(T=_.content)==null?void 0:T.toLowerCase().includes(m)});o(p)}};return z.useEffect(()=>{if(u.current)return;u.current=!0,(async()=>{try{const p=Wh(wn,"posts"),T=(await Bp(p)).docs.map(b=>b.data());n(T),o(T)}catch(p){console.error("    :",p)}})()},[]),y.jsxs("div",{className:_n.container,children:[y.jsxs("nav",{className:_n.nav,children:[y.jsx("h1",{children:"At"}),y.jsxs("ul",{children:[y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam/login",children:[y.jsx("i",{className:`fa-solid fa-arrow-right-to-bracket ${_n.i}`}),y.jsx("span",{children:"Sign in"})]})}),y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam/create",children:[y.jsx("i",{className:`fa-regular fa-id-badge ${_n.i}`}),y.jsx("span",{children:"Create account"})]})}),y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam",children:[y.jsx("i",{className:`fa-solid fa-person-through-window ${_n.i}`}),y.jsx("span",{children:"Leave"})]})})]}),y.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Guest"}),y.jsx("p",{children:"Guest"})]}),y.jsxs("main",{className:_n.main,children:[y.jsxs("section",{id:"search",className:_n.search,children:[y.jsx("h3",{children:"What do you need?"}),y.jsx("input",{type:"search",ref:r,name:"search",id:"search",placeholder:"search"}),y.jsx("button",{onClick:f,children:""})]}),y.jsxs("section",{id:"posts",className:_n.posts,children:[y.jsxs("div",{id:"post",className:_n.post,children:[y.jsxs("div",{id:"meta",className:_n.meta,children:[y.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Profile image"}),y.jsx("h4",{children:"Author"}),y.jsx("p",{children:"Date"})]}),y.jsx("p",{children:"Text content. This is my first post is text content, which is going to become viral!"}),y.jsx("img",{src:"https://images.indianexpress.com/2017/12/2017-viral-photos-main_759_combo.jpg?w=350",alt:"Img or Video"}),y.jsxs("div",{id:"feedback",className:_n.feedback,children:[y.jsxs("p",{children:[y.jsx("i",{className:"fa-regular fa-comment"}),y.jsx("span",{children:"5"})]}),y.jsxs("p",{children:[y.jsx("i",{className:"fa-regular fa-heart"}),y.jsx("span",{children:"12"})]}),y.jsxs("p",{children:[y.jsx("i",{className:"fa-solid fa-magnifying-glass"}),y.jsx("span",{children:"57"})]})]})]}),s.length>0?s.map((m,p)=>{const _=m.meta.date;return y.jsxs("div",{id:"post",className:_n.post,children:[y.jsxs("div",{id:"meta",className:_n.meta,children:[y.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Profile image"}),y.jsx("h4",{children:m.meta.author}),y.jsx("p",{children:_})]}),y.jsx("p",{children:m.content}),y.jsx("img",{src:m.img||"https://example.com/default-image.jpg",alt:"Img or Video"}),y.jsxs("div",{id:"feedback",className:_n.feedback,children:[y.jsxs("p",{children:[y.jsx("i",{className:"fa-regular fa-comment"}),y.jsx("span",{children:m.feedback.comments})]}),y.jsxs("p",{children:[y.jsx("i",{className:"fa-regular fa-heart"}),y.jsx("span",{children:m.feedback.likes})]}),y.jsxs("p",{children:[y.jsx("i",{className:"fa-solid fa-magnifying-glass"}),y.jsx("span",{children:m.feedback.views})]})]})]},p)}):y.jsx("p",{children:"No posts found"})]})]})]})}const I2="_wrapperMajor_12wpi_1",x2="_header_12wpi_11",N2="_logo_12wpi_73",D2="_main_12wpi_83",O2="_mainDiv_12wpi_95",M2="_nav_12wpi_107",P2="_button_12wpi_121",k2="_google_12wpi_141",V2="_awesome_12wpi_175",j2="_separator_12wpi_201",L2="_hr_12wpi_223",U2="_input_12wpi_231",z2="_next_12wpi_245",B2="_lastParagraph_12wpi_263",ft={wrapperMajor:I2,header:x2,logo:N2,main:D2,mainDiv:O2,nav:M2,button:P2,google:k2,awesome:V2,separator:j2,hr:L2,input:U2,next:z2,lastParagraph:B2},ga=z.createContext();function H2({children:r}){const[e,n]=z.useState({name:"",email:"",password:"",birthday:{month:"",day:"",year:""},checkbox:{getMore:"",connectWith:"",peronalizedAds:"",noThanks:""}}),s=o=>{n(u=>({...u,...o}))};return y.jsx(ga.Provider,{value:{formData:e,updateForm:s},children:r})}function q2(){const r=si(),{updateForm:e}=z.useContext(ga),n=async s=>{var u;s.preventDefault();const o={email:((u=s.target.elements.email)==null?void 0:u.value)||""};if(!o.email)return alert("You must enter a valid email address");await e(o),r("/react-regular-exam/login/pass")};return y.jsx("form",{onSubmit:n,children:y.jsxs("div",{className:ft.wrapperMajor,children:[y.jsxs("header",{className:ft.header,children:[y.jsx(_e,{className:ft.x,to:"/react-regular-exam",children:y.jsx("i",{className:"fa-solid fa-xmark"})}),y.jsx("h1",{className:ft.logo,children:"At"})]}),y.jsx("main",{className:ft.main,children:y.jsxs("div",{className:ft.mainDiv,children:[y.jsx("h1",{children:"Sign in to At"}),y.jsxs("nav",{className:ft.nav,children:[y.jsxs("button",{type:"button",className:`${ft.button} ${ft.awesome} ${ft.google}`,children:[y.jsx("i",{className:"fa-brands fa-google"}),"Sign in with Google"]}),y.jsxs("button",{type:"button",className:`${ft.button} ${ft.awesome}`,children:[y.jsx("i",{className:"fa-brands fa-apple"}),"Sign in with Apple"]}),y.jsxs("div",{className:ft.separator,children:[y.jsx("hr",{className:ft.hr}),y.jsx("p",{children:"or"}),y.jsx("hr",{className:ft.hr})]}),y.jsx("input",{name:"email",className:ft.input,type:"email",placeholder:"email"}),y.jsx("button",{className:`${ft.button} ${ft.awesome} ${ft.next}`,children:"Next"}),y.jsx("button",{type:"button",className:`${ft.button} ${ft.awesome}`,to:"/react-regular-exam/guest",children:"Forgot password?"}),y.jsxs("p",{className:ft.lastParagraph,children:["Don't have an account?",y.jsx(_e,{to:"/react-regular-exam/create",children:"Sign up"})]})]})]})})]})})}const F2="_wrapperMajor_1qz1e_1",G2="_header_1qz1e_21",$2="_logo_1qz1e_83",K2="_main_1qz1e_93",Q2="_mainDiv_1qz1e_107",Y2="_upperDiv_1qz1e_121",X2="_emailState_1qz1e_131",W2="_password_1qz1e_159",Z2="_arrow_1qz1e_177",J2="_inputWrapper_1qz1e_189",eO="_pass_1qz1e_159",tO="_forgot_1qz1e_219",nO="_login_1qz1e_247",iO="_signup_1qz1e_289",hn={wrapperMajor:F2,header:G2,logo:$2,main:K2,mainDiv:Q2,upperDiv:Y2,emailState:X2,password:W2,arrow:Z2,inputWrapper:J2,pass:eO,forgot:tO,login:nO,signup:iO};function jw(r,e){localStorage.setItem("user",JSON.stringify(r)),localStorage.setItem("userToken",e)}function Lw(){return localStorage.getItem("userToken")}function _a(){return localStorage.getItem("user")}function rO(){localStorage.removeItem("userToken"),localStorage.removeItem("user")}const sO=async r=>{const{email:e,password:n}=r;try{const o=(await oD(Zp,e,n)).user;await JT(ai(wn,"users",o.uid),{...r,createdAt:new Date,userId:o.uid});const u=await o.getIdToken(),f=await zw(o.uid);return jw(f,u),f}catch(s){console.error("Error registering user:",s.message)}},aO=async r=>{const{email:e,password:n}=r;try{const o=(await lD(Zp,e,n)).user,u=await o.getIdToken(),f=await zw(o.uid);return jw(f,u),f}catch(s){console.error("Error login user:",s.message)}},oO=async r=>{try{const e=await Bw(r.img);e?(r.img=e.url,r.imgId=e.id):(r.img="",r.imgId="");const n=await uN(Wh(wn,"posts"),r),s={...r,id:n.id};await JT(ai(wn,"posts",n.id),s)}catch(e){console.error("Error adding document:",e)}},lO=async r=>{try{const e=ai(wn,"posts",r);await lN(e),console.log("Post deleted successfully!")}catch(e){console.error("Error deleting post:",e)}},uO=async(r,e,n,s,o)=>{let u="";e&&(u=await Bw(e));const f=ai(wn,"posts",r);try{await wu(f,{content:n,img:u.url?u.url:s,imgId:u.id?u.id:o})}catch(m){console.error("Error adding comment: ",m)}},Uw=async(r,e)=>{const n=ai(wn,"posts",r);try{await wu(n,{comments:ew({data:e}),"feedback.comments":Hp(1)})}catch(s){console.error("Error adding comment: ",s)}},cO=async r=>{const e=ai(wn,"posts",r);try{await wu(e,{img:"",imgId:""})}catch(n){console.error("Error adding comment: ",n)}},zE=async(r,e)=>{const n=ai(wn,"posts",r);try{await wu(n,{"feedback.likes":Hp(1),"feedback.likedPeople":ew(e)})}catch(s){console.error("Error adding like: ",s)}},hO=async r=>{const e=ai(wn,"posts",r);try{await wu(e,{"feedback.views":Hp(1)})}catch(n){console.error("Error adding like: ",n)}},Mh=async r=>{try{const e=ai(wn,"posts",r),n=await WT(e);return n.exists()?n.data():(console.log("No such document!"),null)}catch(e){return console.error("Error fetching post:",e),null}},Wm=async()=>{try{const r=Wh(wn,"posts"),n=(await Bp(r)).docs.map(s=>s.data());return n.sort((s,o)=>new Date(o.meta.date)-new Date(s.meta.date)),n}catch(r){console.error("Error loading posts",r)}};async function zw(r){try{const e=ai(wn,"users",r),n=await WT(e);if(n.exists())return n.data();throw new Error("no such user!")}catch(e){return console.error("Error fetching user:",e.message),null}}const Bw=async r=>{if(!r)return;const e=new FormData;e.append("file",r),e.append("upload_preset","my_unsigned_preset");try{const s=await(await fetch("https://api.cloudinary.com/v1_1/dsqegonee/image/upload",{method:"POST",body:e})).json();if(s.secure_url)return{url:s.secure_url,id:s.public_id};console.error("Error uploading your media: ",s)}catch(n){console.error("Error uploading your media: ",n)}},fO="_loader_1ojyy_11",dO={loader:fO};function Hw(){return y.jsx("div",{className:dO.loader})}function mO(){const{formData:r,updateForm:e}=z.useContext(ga),n=si(),[s,o]=z.useState(!1),[u,f]=z.useState(!1),m=async _=>{var b;_.preventDefault(),f(!0);const T={password:(b=_.target.elements.password)==null?void 0:b.value};if(!T)return alert("You need to provide a password");await e(T)};z.useEffect(()=>{if(!r.password)return;(async()=>{try{const T=await aO(r);await e(T),n("/react-regular-exam/welcome"),f(!1)}catch(T){alert(T.message)}})()},[r.password]);const p=()=>{const _=document.getElementById("password");_.type==="password"?_.type="text":_.type="password"};return y.jsx("form",{onSubmit:m,children:y.jsxs("div",{className:hn.wrapperMajor,children:[u&&y.jsx(Hw,{}),y.jsxs("header",{className:hn.header,children:[y.jsx(_e,{className:hn.x,to:"/react-regular-exam",children:y.jsx("i",{className:"fa-solid fa-xmark"})}),y.jsx("h1",{className:hn.logo,children:"At"})]}),y.jsx("main",{className:hn.main,children:y.jsxs("div",{className:hn.mainDiv,children:[y.jsxs("div",{className:hn.upperDiv,children:[y.jsx("h1",{children:"Enter your password"}),y.jsxs("div",{className:hn.emailState,children:[y.jsx("p",{children:"Email"}),y.jsx("p",{children:r.email})]}),y.jsxs("div",{className:hn.password,children:[y.jsxs("div",{className:hn.arrow,children:[y.jsx("p",{children:"Password"}),y.jsx("i",{className:"fa-solid fa-arrow-down"})]}),y.jsxs("div",{className:hn.inputWrapper,children:[y.jsx("input",{className:hn.pass,type:"password",name:"password",id:"password",placeholder:""}),y.jsx("i",{onClick:p,className:"fa-regular fa-eye"})]})]}),y.jsx("p",{className:hn.forgot,children:y.jsx(_e,{children:"Forgot password?"})})]}),y.jsxs("div",{className:hn.login,children:[y.jsx("input",{name:"login",type:"submit",value:"Log in"}),y.jsxs("div",{className:hn.signup,children:[y.jsx("p",{children:"Don't have an account?"}),y.jsx(_e,{to:"/create",children:"Sign up"})]})]})]})})]})})}const pO="_wrapperMajor_1pvgq_1",gO="_header_1pvgq_21",_O="_logo_1pvgq_83",yO="_main_1pvgq_93",vO="_mainDiv_1pvgq_107",EO="_upperDiv_1pvgq_121",TO="_password_1pvgq_133",wO="_arrow_1pvgq_151",SO="_inputWrapper_1pvgq_163",bO="_pass_1pvgq_133",AO="_login_1pvgq_193",RO="_birth_1pvgq_231",CO="_birthday_1pvgq_263",IO="_month_1pvgq_273",xO="_day_1pvgq_299",NO="_year_1pvgq_299",Ye={wrapperMajor:pO,header:gO,logo:_O,main:yO,mainDiv:vO,upperDiv:EO,password:TO,arrow:wO,inputWrapper:SO,pass:bO,login:AO,birth:RO,birthday:CO,month:IO,day:xO,year:NO};function DO(){const{updateForm:r}=z.useContext(ga),e=si(),n=async u=>{var m,p,_,T,b,R,D;u.preventDefault();const f={name:((m=u.target.elements.name)==null?void 0:m.value)||"",email:((p=u.target.elements.email)==null?void 0:p.value)||"",password:((_=u.target.elements.password)==null?void 0:_.value)||"",birthday:{month:((T=u.target.elements.month)==null?void 0:T.value)||"",day:((b=u.target.elements.day)==null?void 0:b.value)||"",year:((R=u.target.elements.year)==null?void 0:R.value)||""}};if(f.name)if(f.email){if(!f.password||f.password.length<6)return alert("You must enter a valid password!");if(f.password!==((D=u.target.elements.repeat)==null?void 0:D.value))return alert("Password Missmatch!");if(f.birthday.month)if(f.birthday.day){if(!f.birthday.year)return alert("You must choose an year!")}else return alert("You must choose a day!");else return alert("You must choose a month!")}else return alert("You must enter a valid email address!");else return alert("You must enter a name!");await r(f),e("/react-regular-exam/create/submit")},s=()=>{const u=document.getElementById("password");u.type==="password"?u.type="text":u.type="password"},o=()=>{const u=document.getElementById("repeat");u.type==="password"?u.type="text":u.type="password"};return y.jsx("form",{onSubmit:n,children:y.jsxs("div",{className:Ye.wrapperMajor,children:[y.jsxs("header",{className:Ye.header,children:[y.jsx(_e,{className:Ye.x,to:"/react-regular-exam",children:y.jsx("i",{className:"fa-solid fa-xmark"})}),y.jsx("h1",{className:Ye.logo,children:"At"})]}),y.jsx("main",{className:Ye.main,children:y.jsxs("div",{className:Ye.mainDiv,children:[y.jsxs("div",{className:Ye.upperDiv,children:[y.jsx("h1",{children:"Create your account"}),y.jsxs("div",{className:Ye.password,children:[y.jsxs("div",{className:Ye.arrow,children:[y.jsx("p",{children:"Name"}),y.jsx("i",{className:"fa-solid fa-arrow-down"})]}),y.jsx("div",{className:Ye.inputWrapper,children:y.jsx("input",{className:Ye.pass,type:"text",name:"name",id:"name",placeholder:""})})]}),y.jsxs("div",{className:Ye.password,children:[y.jsxs("div",{className:Ye.arrow,children:[y.jsx("p",{children:"Email"}),y.jsx("i",{className:"fa-solid fa-arrow-down"})]}),y.jsx("div",{className:Ye.inputWrapper,children:y.jsx("input",{className:Ye.pass,type:"email",name:"email",id:"email",placeholder:""})})]}),y.jsxs("div",{className:Ye.password,children:[y.jsxs("div",{className:Ye.arrow,children:[y.jsx("p",{children:"Password"}),y.jsx("i",{className:"fa-solid fa-arrow-down"})]}),y.jsxs("div",{className:Ye.inputWrapper,children:[y.jsx("input",{className:Ye.pass,type:"password",name:"password",id:"password",placeholder:"At least 6 characters"}),y.jsx("i",{onClick:s,className:"fa-regular fa-eye"})]})]}),y.jsxs("div",{className:Ye.password,children:[y.jsxs("div",{className:Ye.arrow,children:[y.jsx("p",{children:"Repeat password"}),y.jsx("i",{className:"fa-solid fa-arrow-down"})]}),y.jsxs("div",{className:Ye.inputWrapper,children:[y.jsx("input",{className:Ye.pass,type:"password",name:"repeat",id:"repeat",placeholder:""}),y.jsx("i",{onClick:o,className:"fa-regular fa-eye"})]})]}),y.jsxs("div",{className:Ye.birth,children:[y.jsx("p",{children:"Date of Birth"}),y.jsx("p",{children:"This will not be shown publicly. Confirm your own age, even if this account is for a business, a pet, or something else."}),y.jsxs("div",{className:Ye.birthday,children:[y.jsxs("div",{className:Ye.month,children:[y.jsx("p",{children:"month"}),y.jsxs("select",{name:"month",id:"month",children:[y.jsx("option",{value:""}),y.jsx("option",{value:"January",children:"January"}),y.jsx("option",{value:"February",children:"February"}),y.jsx("option",{value:"March",children:"March"}),y.jsx("option",{value:"April",children:"April"}),y.jsx("option",{value:"May",children:"May"}),y.jsx("option",{value:"June",children:"June"}),y.jsx("option",{value:"July",children:"July"}),y.jsx("option",{value:"August",children:"August"}),y.jsx("option",{value:"September",children:"September"}),y.jsx("option",{value:"October",children:"October"}),y.jsx("option",{value:"November",children:"November"}),y.jsx("option",{value:"December",children:"December"})]})]}),y.jsxs("div",{className:Ye.day,children:[y.jsx("p",{children:"Day"}),y.jsxs("select",{name:"day",id:"day",children:[y.jsx("option",{value:""}),Array.from({length:31},(u,f)=>y.jsx("option",{value:f+1,children:f+1},f+1))]})]}),y.jsxs("div",{className:Ye.year,children:[y.jsx("p",{children:"Year"}),y.jsxs("select",{name:"year",id:"year",children:[y.jsx("option",{value:""}),Array.from({length:121},(u,f)=>y.jsx("option",{value:f+1905,children:f+1905},f+1905))]})]})]})]})]}),y.jsx("div",{className:Ye.login,children:y.jsx("button",{children:"Next"})})]})})]})})}const OO="_wrapperMajor_ewi7d_1",MO="_header_ewi7d_33",PO="_logo_ewi7d_95",kO="_main_ewi7d_105",VO="_wrapper_ewi7d_1",jO="_checkBoxWrapper_ewi7d_135",LO="_button_ewi7d_267",rs={wrapperMajor:OO,header:MO,logo:PO,main:kO,wrapper:VO,checkBoxWrapper:jO,button:LO};function UO(){const r=si(),{formData:e,updateForm:n}=z.useContext(ga),[s,o]=z.useState(!1),u=async f=>{var p,_,T;f.preventDefault(),o(!0);const m={checkbox:{getMore:(p=f.target.elements.getMore)!=null&&p.checked?"yes":"no",connectWith:(_=f.target.elements.connectWith)!=null&&_.checked?"yes":"no",peronalizedAds:(T=f.target.elements.peronalizedAds)!=null&&T.checked?"yes":"no"}};try{n(m)}catch(b){console.error("Error registering user:",b.message)}};return z.useEffect(()=>{if(!e.checkbox.getMore)return;(async()=>{try{await sO(e),o(!1),r("/react-regular-exam/welcome")}catch(m){alert(m.message)}})()},[e.checkbox.getMore]),y.jsx("form",{onSubmit:u,children:y.jsxs("div",{className:rs.wrapperMajor,children:[s&&y.jsx(Hw,{}),y.jsxs("header",{className:rs.header,children:[y.jsx(_e,{className:rs.x,to:"/react-regular-exam",children:y.jsx("i",{className:"fa-solid fa-xmark"})}),y.jsx("h1",{className:rs.logo,children:"At"})]}),y.jsxs("main",{className:rs.main,children:[y.jsxs("div",{className:rs.wrapper,children:[y.jsx("h1",{children:"Customize your experience"}),y.jsxs("div",{className:rs.checkBoxWrapper,children:[y.jsxs("div",{children:[y.jsx("h3",{children:"Get more out of At"}),y.jsxs("div",{children:[y.jsx("p",{children:"Receive email about your At activity and recommendations."}),y.jsx("input",{type:"checkbox",name:"getMore"})]})]}),y.jsxs("div",{children:[y.jsx("h3",{children:"Connect with people you know"}),y.jsxs("div",{children:[y.jsx("p",{children:"Let others find your At account by your email address."}),y.jsx("input",{type:"checkbox",name:"connectWith"})]})]}),y.jsxs("div",{children:[y.jsx("h3",{children:"Personalized ads"}),y.jsxs("div",{children:[y.jsx("p",{children:"You will always see ads on At based on your At activity. When this setting is enabled, At may further personalize ads from At advertisers, on and off At, by combining your At activity with other online activity and information from our partners."}),y.jsx("input",{type:"checkbox",name:"peronalizedAds"})]})]})]}),y.jsxs("p",{children:["By signing up, you agree to our ",y.jsx(_e,{children:"Terms"}),", ",y.jsx(_e,{children:"Privacy Policy"}),", and ",y.jsx(_e,{children:"Cookie Use"}),". At may use your contact information, including your email address and phone number for purposes outlined in our Privacy Policy. ",y.jsx(_e,{children:"Learn more"})]})]}),y.jsx("div",{className:rs.button,children:y.jsx("input",{type:"submit",value:"Next"})})]})]})})}const zO="_container_h5fhp_1",BO="_main_h5fhp_19",BE={container:zO,main:BO},HO="_nav_hj1iz_1",qO="_i_hj1iz_11",ra={nav:HO,i:qO};function FO(){const{formData:r,updateForm:e}=z.useContext(ga),[n,s]=z.useState("Loading..."),o=si(),u=async f=>{f.preventDefault();try{await hD(Zp),e({name:"",email:"",password:"",birthday:{month:"",day:"",year:""},checkbox:{getMore:"",connectWith:"",peronalizedAds:"",noThanks:""}}),rO(),o("/react-regular-exam")}catch(m){console.error("Logout error:",m)}};return z.useEffect(()=>{const f=JSON.parse(_a());f&&f.name?s(f.name):s("Guest")},[]),y.jsxs("nav",{className:ra.nav,children:[y.jsx("h1",{children:"At"}),y.jsxs("ul",{children:[y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam/welcome",children:[y.jsx("i",{className:`fa-solid fa-house-flag ${ra.i}`}),y.jsx("span",{children:"Welcome"})]})}),y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam/about",children:[y.jsx("i",{className:`fa-solid fa-bell ${ra.i}`}),y.jsx("span",{children:"Notification"})]})}),y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam/about",children:[y.jsx("i",{className:`fa-solid fa-envelope ${ra.i}`}),y.jsx("span",{children:"Messages"})]})}),y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam/welcome/profile",children:[y.jsx("i",{className:`fa-solid fa-user ${ra.i}`}),y.jsx("span",{children:"Profile"})]})}),y.jsx("li",{children:y.jsxs(_e,{to:"/react-regular-exam/about",children:[y.jsx("i",{className:`fa-solid fa-suitcase ${ra.i}`}),y.jsx("span",{children:"Jobs"})]})}),y.jsx("li",{children:y.jsxs(_e,{onClick:u,to:"#",children:[y.jsx("i",{className:`fa-solid fa-circle-xmark ${ra.i}`}),y.jsx("span",{children:"Logout"})]})}),y.jsx("li",{children:y.jsx(_e,{to:"/react-regular-exam/welcome/post",children:y.jsx("span",{children:"Post"})})})]}),y.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Guest"}),y.jsx("p",{children:n})]})}function GO(){const r=z.useRef(null);return y.jsxs("div",{className:BE.container,children:[y.jsx(FO,{}),y.jsx("main",{ref:r,className:BE.main,children:y.jsx(pA,{context:{mainRef:r}})})]})}const $O="_search_1o9ft_1",KO="_meta_1o9ft_39",QO="_post_1o9ft_69",YO="_postWrapper_1o9ft_77",XO="_feedback_1o9ft_123",WO="_imgWrap_1o9ft_151",ZO="_modalOverlay_1o9ft_169",JO="_modalContent_1o9ft_195",eM="_commentBox_1o9ft_215",tM="_modalButtons_1o9ft_235",nM="_sendBtn_1o9ft_247",iM="_closeBtn_1o9ft_273",yn={search:$O,meta:KO,post:QO,postWrapper:YO,feedback:XO,imgWrap:WO,modalOverlay:ZO,modalContent:JO,commentBox:eM,modalButtons:tM,sendBtn:nM,closeBtn:iM};function rM(r,e){return y.jsx(y.Fragment,{children:y.jsxs("section",{id:"search",className:yn.search,children:[y.jsx("h3",{children:"What do you need?"}),y.jsx("input",{type:"search",ref:e,name:"search",id:"search",placeholder:"search"}),y.jsx("button",{onClick:r.onSearch,children:""})]})})}const sM=z.forwardRef(rM);function aM(r=6){const[e,n]=z.useState(!1),[s,o]=z.useState(1);return{fetchPosts:async(p,_)=>{try{const T=Wh(wn,"posts"),R=(await Bp(T)).docs.map(D=>D.data());R.sort((D,j)=>new Date(j.meta.date)-new Date(D.meta.date)),p(R),_(R.slice(0,r))}catch(T){console.error("    :",T)}},loadMorePosts:(p,_,T)=>{if(e||_.length>=p.length)return;n(!0);const b=s+1,R=p.slice(s*r,b*r);R.length>0&&(T(D=>[...D,...R]),o(b)),n(!1)},loading:e,handleSearch:(p,_,T)=>{const b=p.trim().toLowerCase();if(b==="")o(1),_(T.slice(0,s*r));else{const R=T.filter(D=>{var j;return(j=D.content)==null?void 0:j.toLowerCase().includes(b)});_(R)}}}}function oM(r,e){z.useEffect(()=>{if(!(r!=null&&r.current))return;const n=()=>{const s=r.current;if(!s)return;const o=s.scrollHeight;s.scrollTop+s.clientHeight+5>=o&&e()};return r.current.addEventListener("scroll",n),()=>{r.current&&r.current.removeEventListener("scroll",n)}},[r,e])}function lM(){const r=si();return{handleDetailsClick:n=>{r(`/react-regular-exam/welcome/${n}/details`,{state:{postId:n}})}}}const Gt=[];for(let r=0;r<256;++r)Gt.push((r+256).toString(16).slice(1));function uM(r,e=0){return(Gt[r[e+0]]+Gt[r[e+1]]+Gt[r[e+2]]+Gt[r[e+3]]+"-"+Gt[r[e+4]]+Gt[r[e+5]]+"-"+Gt[r[e+6]]+Gt[r[e+7]]+"-"+Gt[r[e+8]]+Gt[r[e+9]]+"-"+Gt[r[e+10]]+Gt[r[e+11]]+Gt[r[e+12]]+Gt[r[e+13]]+Gt[r[e+14]]+Gt[r[e+15]]).toLowerCase()}let Sm;const cM=new Uint8Array(16);function hM(){if(!Sm){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Sm=crypto.getRandomValues.bind(crypto)}return Sm(cM)}const fM=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),HE={randomUUID:fM};function qw(r,e,n){var o;if(HE.randomUUID&&!r)return HE.randomUUID();r=r||{};const s=r.random??((o=r.rng)==null?void 0:o.call(r))??hM();if(s.length<16)throw new Error("Random bytes length must be >= 16");return s[6]=s[6]&15|64,s[8]=s[8]&63|128,uM(s)}function Fw(){return{handleLike:async e=>{try{const s=JSON.parse(_a()).name,u=(await Mh(e)).feedback.likedPeople;if(!u){await zE(e,s);return}if(u.filter(m=>m===s).length>0)return alert("You  can like only once");await zE(e,s)}catch(n){alert("Error adding like: "+n.message)}}}}function dM(){return{handleView:async e=>{try{await hO(e)}catch(n){alert("Error adding like: "+n.message)}}}}function mM(){const[r,e]=z.useState([]),[n,s]=z.useState([]),o=z.useRef(),{fetchPosts:u,loadMorePosts:f,loading:m,handleSearch:p}=aM(),{mainRef:_}=eA(),{handleDetailsClick:T}=lM(),{handleView:b}=dM(),{handleLike:R}=Fw(),D=async K=>{const se=K.target.closest("#closestID").getAttribute("data-key");await b(se),T(se)};z.useEffect(()=>{(async()=>{await u(e,s)})()},[]);const j=()=>{o.current&&p(o.current.value,s,r)};oM(_,()=>f(r,n,s));const Y=K=>{const se=K.target.closest("#closestID").getAttribute("data-key"),he=document.getElementById(se);he.style.display="block"},q=K=>{const se=K.target.closest("#closestID").getAttribute("data-key"),he=document.getElementById(se);he.style.display="none"},$=async K=>{const re=K.target.closest("#closestID"),se=re.getAttribute("data-key"),he=JSON.parse(_a()),M={id:qw(),author:he.name,text:re.querySelector("textarea").value,date:new Date().toLocaleString()};if(re.querySelector("textarea").value="",!M.text)return alert("Your reply is empty!");await Uw(se,M);const C=document.getElementById(se);C.style.display="none";const A=await Wm();A&&s(A)},te=async K=>{const se=K.target.closest("#closestID").getAttribute("data-key");await R(se);const he=await Wm();he&&s(he)};return y.jsxs(y.Fragment,{children:[y.jsx(sM,{ref:o,onSearch:j}),y.jsx("section",{id:"posts",className:yn.posts,children:n.length>0?n.map(K=>y.jsxs("div",{id:"closestID","data-key":K.id,className:yn.postWrapper,children:[y.jsx("div",{onClick:re=>D(re),className:yn.post,children:y.jsxs("div",{className:yn.imgWrap,children:[y.jsxs("div",{className:yn.meta,children:[y.jsx("img",{src:K.meta.img||K.meta.avatar||"https://example.com/default-avatar.jpg",alt:"Profile"}),y.jsx("h4",{children:K.meta.author}),y.jsx("p",{children:K.meta.date})]}),y.jsx("p",{children:K.content}),y.jsx("img",{src:K.img||"https://example.com/default-avatar.jpg",alt:"Img or Video"})]})},K.id),y.jsxs("div",{className:yn.feedback,children:[y.jsxs("p",{onClick:re=>Y(re),children:[y.jsx("i",{className:"fa-regular fa-comment"}),y.jsx("span",{children:K.feedback.comments})]}),y.jsxs("p",{onClick:re=>te(re),children:[y.jsx("i",{className:"fa-regular fa-heart"}),y.jsx("span",{children:K.feedback.likes})]}),y.jsxs("p",{onClick:re=>D(re),children:[y.jsx("i",{className:"fa-solid fa-magnifying-glass"}),y.jsx("span",{children:K.feedback.views})]})]}),y.jsx("div",{"data-key":K.id,id:K.id,style:{display:"none"},className:yn.modalOverlay,children:y.jsxs("div",{className:yn.modalContent,onClick:re=>re.stopPropagation(),children:[y.jsx("textarea",{className:yn.commentBox,placeholder:"Post your reply"}),y.jsxs("div",{className:yn.modalButtons,children:[y.jsx("button",{className:yn.sendBtn,onClick:re=>$(re),children:"Reply"}),y.jsx("button",{className:yn.closeBtn,onClick:re=>q(re),children:"X"})]})]})})]},K.id)):y.jsx("p",{children:"No posts found"})}),m&&y.jsx("p",{className:yn.loading,children:"Loading more posts..."})]})}function pM({children:r}){const e=Lw(),n=si();return z.useEffect(()=>{if(!e)return n("/react-regular-exam")}),y.jsx(y.Fragment,{children:r})}const gM="_postFormContainer_19kdp_3",_M="_postForm_19kdp_3",yM="_avatar_19kdp_43",vM="_formContent_19kdp_57",EM="_textarea_19kdp_71",TM="_mediaPreview_19kdp_93",wM="_footer_19kdp_117",SM="_mediaButton_19kdp_133",bM="_button_19kdp_161",AM="_removeButton_19kdp_191",Si={postFormContainer:gM,postForm:_M,avatar:yM,formContent:vM,textarea:EM,mediaPreview:TM,footer:wM,mediaButton:SM,button:bM,removeButton:AM};function RM(){const[r,e]=z.useState(null),[n,s]=z.useState(null),o=z.useRef(null),u=z.useRef(null),{formData:f}=z.useContext(ga),m=T=>{const b=T.target.files[0];if(b){const R=URL.createObjectURL(b);e(b),s(R)}},p=()=>{e(null),u.current&&(u.current.value="")},_=async T=>{T.preventDefault();const b=o.current.value.trim();if(!b)return;const R={content:b,feedback:{comments:0,likes:0,views:0},img:r,meta:{author:f.name,date:new Date().toLocaleString(),avatar:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg"},comments:[]};await oO(R),o.current.value="",e(null),u.current&&(u.current.value="")};return y.jsx("div",{className:Si.postFormContainer,children:y.jsxs("div",{className:Si.postForm,children:[y.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"User avatar",className:Si.avatar}),y.jsxs("form",{onSubmit:_,className:Si.formContent,children:[y.jsx("textarea",{ref:o,placeholder:"What's happening?",className:Si.textarea}),r&&y.jsx("div",{className:Si.mediaPreview,children:y.jsx("img",{src:n,alt:"Uploaded media preview"})}),y.jsxs("div",{className:Si.footer,children:[y.jsxs("label",{className:Si.mediaButton,children:[" Add Media",y.jsx("input",{type:"file",accept:"image/*",onChange:m,hidden:!0,ref:u})]}),r&&y.jsx("button",{type:"button",onClick:p,className:Si.removeButton,children:" Remove"}),y.jsx("button",{type:"submit",className:Si.button,children:"Post"})]})]})]})})}const CM="_container_4dbl9_1",IM="_text_4dbl9_19",xM="_link_4dbl9_31",th={container:CM,text:IM,link:xM},NM=()=>{const[r,e]=z.useState(!1);return z.useEffect(()=>{const n=()=>{Lw()};n(),n&&e(!0)},[]),y.jsxs("div",{className:th.container,children:[y.jsx("h1",{className:th.text,children:"Under Construction"}),r?y.jsx(_e,{to:"/react-regular-exam/welcome",className:th.link,children:"Go Back"}):y.jsx(_e,{to:"/react-regular-exam",className:th.link,children:"Go Back"})]})},DM="_post_1z0jj_1",OM="_meta_1z0jj_17",MM="_imgWrap_1z0jj_55",PM="_feedback_1z0jj_93",kM="_actions_1z0jj_119",VM="_editButton_1z0jj_131",jM="_deleteButton_1z0jj_131",LM="_commentSection_1z0jj_165",UM="_commentInput_1z0jj_179",zM="_commentButton_1z0jj_195",BM="_commentsContainer_1z0jj_215",HM="_comment_1z0jj_165",qM="_commentHeader_1z0jj_253",FM="_commentDate_1z0jj_289",GM="_commentText_1z0jj_299",$M="_noComments_1z0jj_309",Jt={post:DM,meta:OM,imgWrap:MM,feedback:PM,actions:kM,editButton:VM,deleteButton:jM,commentSection:LM,commentInput:UM,commentButton:zM,commentsContainer:BM,comment:HM,commentHeader:qM,commentDate:FM,commentText:GM,noComments:$M};function KM(){const e=JSON.parse(_a()).name;return{handleComment:async(s,o)=>{const u=s.id,f={id:qw(),author:e,text:o.current.value,date:new Date().toLocaleString()};return o.current.value="",f.text?(await Uw(u,f),f):alert("Your reply is empty!")}}}function QM(){var q;const r=yr(),{handleComment:e}=KM(),n=(q=r.state)==null?void 0:q.postId,s=z.useRef(),[o,u]=z.useState(null),[f,m]=z.useState([]),[p,_]=z.useState(!1),T=si(),{handleLike:b}=Fw();if(!n)return y.jsx("p",{children:"No post data found"});const R=async()=>{const $=await e(o,s);$&&m(te=>[...te,$])};z.useEffect(()=>{(async()=>{const te=await Mh(n);JSON.parse(_a()).name===te.meta.author&&_(!0),u(te)})()},[f]);const D=async()=>{const $=o.id;lO($),T("/react-regular-exam/welcome")},j=()=>{o&&T(`/react-regular-exam/welcome/${o.id}/details/edit`,{state:{postData:o}})},Y=async $=>{const K=$.target.closest("#closestId").getAttribute("data-id");await b(K);const re=await Mh(n);re&&u(re)};return y.jsxs(y.Fragment,{children:[o?y.jsxs("div",{id:"closestId","data-id":o.id,"data-imgid":o.imgId,className:Jt.post,children:[y.jsxs("div",{className:Jt.imgWrap,children:[y.jsxs("div",{className:Jt.meta,children:[y.jsx("img",{src:o.meta.img||o.meta.avatar||"https://example.com/default-avatar.jpg",alt:"Profile"}),y.jsx("h4",{children:o.meta.author}),y.jsx("p",{children:o.meta.date})]}),y.jsx("p",{children:o.content}),y.jsx("img",{src:o.img||"https://example.com/default-avatar.jpg",alt:"Img or Video"})]}),y.jsxs("div",{className:Jt.feedback,children:[y.jsxs("p",{children:[y.jsx("i",{className:"fa-regular fa-comment"}),y.jsx("span",{children:o.feedback.comments})]}),y.jsxs("p",{onClick:$=>Y($),children:[y.jsx("i",{className:"fa-regular fa-heart"}),y.jsx("span",{children:o.feedback.likes})]}),y.jsxs("p",{children:[y.jsx("i",{className:"fa-solid fa-magnifying-glass"}),y.jsx("span",{children:o.feedback.views})]})]}),p&&y.jsxs("div",{className:Jt.actions,children:[y.jsx("button",{className:Jt.editButton,onClick:()=>j(),children:"Edit"}),y.jsx("button",{className:Jt.deleteButton,onClick:()=>D(),children:"Delete"})]}),y.jsxs("div",{className:Jt.commentSection,children:[y.jsx("textarea",{ref:s,placeholder:"Post your reply",className:Jt.commentInput}),y.jsx("button",{className:Jt.commentButton,onClick:()=>R(),children:"Reply"})]})]},o.id):y.jsx("p",{children:"Loading post data..."}),o?y.jsx("div",{className:Jt.commentsContainer,children:o.comments&&o.comments.length>0?o.comments.map($=>y.jsxs("div",{className:Jt.comment,children:[y.jsxs("div",{className:Jt.commentHeader,children:[y.jsx("h5",{children:$.data.author}),y.jsx("p",{className:Jt.commentDate,children:$.data.date})]}),y.jsx("p",{className:Jt.commentText,children:$.data.text})]},$.data.id)):y.jsx("p",{className:Jt.noComments,children:"No comments yet. Be the first to reply!"})}):y.jsx("p",{children:"Loading post data..."})]})}const YM="_profileContainer_16x34_1",XM="_header_16x34_15",WM="_coverPhoto_16x34_25",ZM="_profileInfo_16x34_39",JM="_avatar_16x34_49",eP="_details_16x34_65",tP="_name_16x34_73",nP="_username_16x34_83",iP="_bio_16x34_93",rP="_editProfile_16x34_103",sP="_content_16x34_123",aP="_posts_16x34_131",oP="_post_16x34_131",Nn={profileContainer:YM,header:XM,coverPhoto:WM,profileInfo:ZM,avatar:JM,details:eP,name:tP,username:nP,bio:iP,editProfile:rP,content:sP,posts:aP,post:oP};function lP(){const[r,e]=z.useState([]),n=JSON.parse(_a());return z.useEffect(()=>{(async()=>{const u=(await Wm()).filter(f=>f.meta.author===n.name);e(u)})()},[]),y.jsxs("div",{className:Nn.profileContainer,children:[y.jsxs("div",{className:Nn.header,children:[y.jsx("div",{className:Nn.coverPhoto}),y.jsxs("div",{className:Nn.profileInfo,children:[y.jsx("img",{src:"https://png.pngtree.com/png-clipart/20210915/ourmid/pngtree-user-avatar-placeholder-png-image_3918418.jpg",alt:"Profile",className:Nn.avatar}),y.jsxs("div",{className:Nn.details,children:[y.jsx("h2",{className:Nn.name,children:n.name}),y.jsx("p",{className:Nn.username,children:n.email}),y.jsx("p",{className:Nn.bio,children:"Bio..."})]}),y.jsx(_e,{to:"/react-regular-exam/welcome/profile/edit",className:Nn.editProfile,children:"Edit"})]})]}),y.jsxs("div",{className:Nn.content,children:[y.jsx("h3",{children:"Posts:"}),y.jsx("div",{className:Nn.posts,children:r.map(s=>y.jsxs("div",{className:Nn.post,children:[y.jsx("p",{children:s.content}),y.jsx("img",{src:s.img,alt:"Ni image"})]},s.id))})]})]})}const uP="_editProfileContainer_1yp8s_1",cP="_editProfileTitle_1yp8s_21",hP="_editProfileForm_1yp8s_31",fP="_editProfileLabel_1yp8s_43",dP="_editProfileInput_1yp8s_55",mP="_editProfileTextarea_1yp8s_57",pP="_editProfileSelect_1yp8s_59",gP="_editProfileSaveButton_1yp8s_87",_P="_imageUploadContainer_1yp8s_123",yP="_coverPhotoLabel_1yp8s_139",vP="_profileImageLabel_1yp8s_141",EP="_coverPhotoPreview_1yp8s_159",TP="_profileImagePreview_1yp8s_175",wP="_birthdateContainer_1yp8s_195",SP="_checkboxContainer_1yp8s_219",Tt={editProfileContainer:uP,editProfileTitle:cP,editProfileForm:hP,editProfileLabel:fP,editProfileInput:dP,editProfileTextarea:mP,editProfileSelect:pP,editProfileSaveButton:gP,imageUploadContainer:_P,coverPhotoLabel:yP,profileImageLabel:vP,coverPhotoPreview:EP,profileImagePreview:TP,birthdateContainer:wP,checkboxContainer:SP},bP=()=>{const[r,e]=z.useState(null),[n,s]=z.useState(null),[o,u]=z.useState({connect:!1,more:!1,ads:!1}),f=si(),[m,p]=z.useState({name:"",email:"",birthday:{day:"",month:"",year:""}});z.useEffect(()=>{const R=JSON.parse(_a());p(R)},[]);const _=(R,D)=>{const j=R.target.files[0];j&&D(URL.createObjectURL(j))},T=R=>{u({...o,[R.target.name]:R.target.checked})},b=R=>{R.preventDefault(),f("/react-regular-exam/welcome")};return Array.from({length:31},(R,D)=>D+1),Array.from({length:121},(R,D)=>2025-D),y.jsxs("div",{className:Tt.editProfileContainer,children:[y.jsx("h2",{className:Tt.editProfileTitle,children:"Edit Profile"}),y.jsxs("form",{onSubmit:b,className:Tt.editProfileForm,children:[y.jsxs("div",{className:Tt.imageUploadContainer,children:[y.jsxs("label",{className:Tt.coverPhotoLabel,children:["Cover Photo:",y.jsx("input",{type:"file",accept:"image/*",onChange:R=>_(R,s)}),n&&y.jsx("img",{src:n,alt:"Cover",className:Tt.coverPhotoPreview})]}),y.jsxs("label",{className:Tt.profileImageLabel,children:["Profile Image:",y.jsx("input",{type:"file",accept:"image/*",onChange:R=>_(R,e)}),r&&y.jsx("img",{src:r,alt:"Profile",className:Tt.profileImagePreview})]})]}),y.jsxs("label",{className:Tt.editProfileLabel,children:["Name:",y.jsx("input",{type:"text",defaultValue:m.name||"",className:Tt.editProfileInput})]}),y.jsxs("label",{className:Tt.editProfileLabel,children:["Email:",y.jsx("input",{type:"email",defaultValue:m.email||"",className:Tt.editProfileInput})]}),y.jsxs("label",{className:Tt.editProfileLabel,children:["Bio:",y.jsx("textarea",{defaultValue:"User Bio",className:Tt.editProfileTextarea})]}),y.jsxs("div",{className:Tt.birthdateContainer,children:[y.jsxs("select",{defaultValue:m.birthday.day||"",className:Tt.editProfileSelect,children:[y.jsx("option",{value:""}),Array.from({length:31},(R,D)=>y.jsx("option",{value:D+1||"",children:D+1},D+1))]}),y.jsxs("select",{defaultValue:m.birthday.month||"",className:Tt.editProfileSelect,children:[y.jsx("option",{value:""}),y.jsx("option",{value:"January",children:"January"}),y.jsx("option",{value:"February",children:"February"}),y.jsx("option",{value:"March",children:"March"}),y.jsx("option",{value:"April",children:"April"}),y.jsx("option",{value:"May",children:"May"}),y.jsx("option",{value:"June",children:"June"}),y.jsx("option",{value:"July",children:"July"}),y.jsx("option",{value:"August",children:"August"}),y.jsx("option",{value:"September",children:"September"}),y.jsx("option",{value:"October",children:"October"}),y.jsx("option",{value:"November",children:"November"}),y.jsx("option",{value:"December",children:"December"})]}),y.jsxs("select",{defaultValue:m.birthday.year||"",className:Tt.editProfileSelect,children:[y.jsx("option",{value:""}),Array.from({length:121},(R,D)=>y.jsx("option",{value:D+1905||"",children:D+1905},D+1905))]})]}),y.jsxs("div",{className:Tt.checkboxContainer,children:[y.jsxs("label",{children:[y.jsx("input",{type:"checkbox",name:"connect",checked:o.connect,onChange:T})," Connect"]}),y.jsxs("label",{children:[y.jsx("input",{type:"checkbox",name:"more",checked:o.more,onChange:T})," More"]}),y.jsxs("label",{children:[y.jsx("input",{type:"checkbox",name:"ads",checked:o.ads,onChange:T})," Ads"]})]}),y.jsx("button",{type:"submit",className:Tt.editProfileSaveButton,children:"Save"})]})]})},AP="_editContainer_juuuu_1",RP="_editTitle_juuuu_19",CP="_editForm_juuuu_31",IP="_editLabel_juuuu_41",xP="_editTextarea_juuuu_53",NP="_imageUploadContainer_juuuu_69",DP="_existingImage_juuuu_81",OP="_removeOldImageButton_juuuu_89",MP="_addButton_juuuu_115",PP="_imagePreviewContainer_juuuu_145",kP="_imagePreview_juuuu_145",VP="_removeButton_juuuu_175",jP="_saveButton_juuuu_201",fn={editContainer:AP,editTitle:RP,editForm:CP,editLabel:IP,editTextarea:xP,imageUploadContainer:NP,existingImage:DP,removeOldImageButton:OP,addButton:MP,imagePreviewContainer:PP,imagePreview:kP,removeButton:VP,saveButton:jP},LP=()=>{var re;const[r,e]=z.useState(!1),[n,s]=z.useState(""),[o,u]=z.useState(null),m=(re=yr().state)==null?void 0:re.postData,[p,_]=z.useState(""),[T,b]=z.useState(""),R=si();z.useEffect(()=>{(async()=>{const he=await Mh(m.id);b(he.content),_(he),he.img&&e(!0)})()},[r]);const D=se=>{b(se.target.value)},j=z.useRef(null),Y=se=>{const he=se.target.files[0];if(he){const M=URL.createObjectURL(he);s(he),u(M)}},q=()=>{s("")},$=()=>{cO(p.id),e(!1)},te=async se=>{se.preventDefault(),await uO(p.id,n,T,p.img,p.imgId);const he=p.id;R(`/react-regular-exam/welcome/${he}/details`,{state:{postId:he}})},K=()=>{j.current.click()};return y.jsxs("div",{className:fn.editContainer,children:[y.jsx("h2",{className:fn.editTitle,children:"Edit Post"}),y.jsxs("form",{onSubmit:te,className:fn.editForm,children:[y.jsx("label",{className:fn.editLabel,children:"Content:"}),y.jsx("textarea",{value:T,onChange:D,className:fn.editTextarea}),y.jsx("label",{className:fn.editLabel,children:"Image:"}),y.jsxs("div",{className:fn.imageUploadContainer,children:[p.img&&y.jsxs("div",{className:fn.existingImageContainer,children:[y.jsx("img",{src:p.img,alt:"Existing Post Image",className:fn.existingImage}),y.jsx("button",{type:"button",className:fn.removeOldImageButton,onClick:$,children:"Remove Old Image"})]}),y.jsx("button",{type:"button",className:fn.addButton,onClick:K,children:"Add Image"}),y.jsx("input",{type:"file",accept:"image/*",onChange:Y,ref:j,style:{display:"none"}})]}),n&&y.jsxs("div",{className:fn.imagePreviewContainer,children:[y.jsx("img",{src:o,alt:"Preview",className:fn.imagePreview}),y.jsx("button",{type:"button",className:fn.removeButton,onClick:q,children:"Remove Image"})]}),y.jsx("button",{type:"submit",className:fn.saveButton,children:"Save"})]})]})};function UP(){return y.jsx(H2,{children:y.jsxs(_A,{children:[y.jsx(dn,{path:"/react-regular-exam/about",element:y.jsx(NM,{})}),y.jsx(dn,{path:"/react-regular-exam",element:y.jsx(cR,{})}),y.jsx(dn,{path:"/react-regular-exam/guest",element:y.jsx(C2,{})}),y.jsx(dn,{path:"/react-regular-exam/login",element:y.jsx(q2,{})}),y.jsx(dn,{path:"/react-regular-exam/login/pass",element:y.jsx(mO,{})}),y.jsx(dn,{path:"/react-regular-exam/create",element:y.jsx(DO,{})}),y.jsx(dn,{path:"/react-regular-exam/create/submit",element:y.jsx(UO,{})}),y.jsxs(dn,{path:"/react-regular-exam/welcome",element:y.jsx(pM,{children:y.jsx(GO,{})}),children:[y.jsx(dn,{index:!0,element:y.jsx(mM,{})}),y.jsx(dn,{path:":postId/details",element:y.jsx(QM,{})}),y.jsx(dn,{path:":postId/details/edit",element:y.jsx(LP,{})}),y.jsx(dn,{path:"post",element:y.jsx(RM,{})}),y.jsx(dn,{path:"profile",element:y.jsx(lP,{})}),y.jsx(dn,{path:"profile/edit",element:y.jsx(bP,{})})]})]})})}bb.createRoot(document.getElementById("root")).render(y.jsx(z.StrictMode,{children:y.jsx(zA,{children:y.jsx(UP,{})})}));
